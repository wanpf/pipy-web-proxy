(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function bF(n,e){const t=Object.create(null),i=n.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const ai={},Hm=[],Xa=()=>{},tve=()=>!1,nve=/^on[^a-z]/,cD=n=>nve.test(n),SF=n=>n.startsWith("onUpdate:"),Ji=Object.assign,wF=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},ive=Object.prototype.hasOwnProperty,Sn=(n,e)=>ive.call(n,e),Tt=Array.isArray,Um=n=>dD(n)==="[object Map]",bee=n=>dD(n)==="[object Set]",Ft=n=>typeof n=="function",er=n=>typeof n=="string",CF=n=>typeof n=="symbol",di=n=>n!==null&&typeof n=="object",See=n=>di(n)&&Ft(n.then)&&Ft(n.catch),wee=Object.prototype.toString,dD=n=>wee.call(n),rve=n=>dD(n).slice(8,-1),Cee=n=>dD(n)==="[object Object]",xF=n=>er(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,dx=bF(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),hD=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},ove=/-(\w)/g,nu=hD(n=>n.replace(ove,(e,t)=>t?t.toUpperCase():"")),sve=/\B([A-Z])/g,gy=hD(n=>n.replace(sve,"-$1").toLowerCase()),fD=hD(n=>n.charAt(0).toUpperCase()+n.slice(1)),WM=hD(n=>n?`on${fD(n)}`:""),Cb=(n,e)=>!Object.is(n,e),zM=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},LL=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},ave=n=>{const e=parseFloat(n);return isNaN(e)?n:e},lve=n=>{const e=er(n)?Number(n):NaN;return isNaN(e)?n:e};let LH;const PP=()=>LH||(LH=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function YS(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=er(i)?hve(i):YS(i);if(r)for(const o in r)e[o]=r[o]}return e}else{if(er(n))return n;if(di(n))return n}}const uve=/;(?![^(]*\))/g,cve=/:([^]+)/,dve=/\/\*[^]*?\*\//g;function hve(n){const e={};return n.replace(dve,"").split(uve).forEach(t=>{if(t){const i=t.split(cve);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function LF(n){let e="";if(er(n))e=n;else if(Tt(n))for(let t=0;t<n.length;t++){const i=LF(n[t]);i&&(e+=i+" ")}else if(di(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}const fve="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gve=bF(fve);function xee(n){return!!n||n===""}const HM=n=>er(n)?n:n==null?"":Tt(n)||di(n)&&(n.toString===wee||!Ft(n.toString))?JSON.stringify(n,Lee,2):String(n),Lee=(n,e)=>e&&e.__v_isRef?Lee(n,e.value):Um(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r])=>(t[`${i} =>`]=r,t),{})}:bee(e)?{[`Set(${e.size})`]:[...e.values()]}:di(e)&&!Tt(e)&&!Cee(e)?String(e):e;let xa;class pve{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xa,!e&&xa&&(this.index=(xa.scopes||(xa.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=xa;try{return xa=this,e()}finally{xa=t}}}on(){xa=this}off(){xa=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function mve(n,e=xa){e&&e.active&&e.effects.push(n)}function vve(){return xa}const TF=n=>{const e=new Set(n);return e.w=0,e.n=0,e},Tee=n=>(n.w&rh)>0,Iee=n=>(n.n&rh)>0,yve=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=rh},_ve=n=>{const{deps:e}=n;if(e.length){let t=0;for(let i=0;i<e.length;i++){const r=e[i];Tee(r)&&!Iee(r)?r.delete(n):e[t++]=r,r.w&=~rh,r.n&=~rh}e.length=t}},TL=new WeakMap;let Z0=0,rh=1;const OP=30;let Ra;const og=Symbol(""),RP=Symbol("");class IF{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,mve(this,i)}run(){if(!this.active)return this.fn();let e=Ra,t=Hd;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ra,Ra=this,Hd=!0,rh=1<<++Z0,Z0<=OP?yve(this):TH(this),this.fn()}finally{Z0<=OP&&_ve(this),rh=1<<--Z0,Ra=this.parent,Hd=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ra===this?this.deferStop=!0:this.active&&(TH(this),this.onStop&&this.onStop(),this.active=!1)}}function TH(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let Hd=!0;const Dee=[];function py(){Dee.push(Hd),Hd=!1}function my(){const n=Dee.pop();Hd=n===void 0?!0:n}function Wo(n,e,t){if(Hd&&Ra){let i=TL.get(n);i||TL.set(n,i=new Map);let r=i.get(t);r||i.set(t,r=TF()),Eee(r)}}function Eee(n,e){let t=!1;Z0<=OP?Iee(n)||(n.n|=rh,t=!Tee(n)):t=!n.has(Ra),t&&(n.add(Ra),Ra.deps.push(n))}function wc(n,e,t,i,r,o){const s=TL.get(n);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(t==="length"&&Tt(n)){const l=Number(i);s.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(t!==void 0&&a.push(s.get(t)),e){case"add":Tt(n)?xF(t)&&a.push(s.get("length")):(a.push(s.get(og)),Um(n)&&a.push(s.get(RP)));break;case"delete":Tt(n)||(a.push(s.get(og)),Um(n)&&a.push(s.get(RP)));break;case"set":Um(n)&&a.push(s.get(og));break}if(a.length===1)a[0]&&BP(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);BP(TF(l))}}function BP(n,e){const t=Tt(n)?n:[...n];for(const i of t)i.computed&&IH(i);for(const i of t)i.computed||IH(i)}function IH(n,e){(n!==Ra||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function bve(n,e){var t;return(t=TL.get(n))==null?void 0:t.get(e)}const Sve=bF("__proto__,__v_isRef,__isVue"),Mee=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(CF)),wve=DF(),Cve=DF(!1,!0),xve=DF(!0),DH=Lve();function Lve(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=Rt(this);for(let o=0,s=this.length;o<s;o++)Wo(i,"get",o+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(Rt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){py();const i=Rt(this)[e].apply(this,t);return my(),i}}),n}function Tve(n){const e=Rt(this);return Wo(e,"has",n),e.hasOwnProperty(n)}function DF(n=!1,e=!1){return function(i,r,o){if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&o===(n?e?zve:Oee:e?Pee:kee).get(i))return i;const s=Tt(i);if(!n){if(s&&Sn(DH,r))return Reflect.get(DH,r,o);if(r==="hasOwnProperty")return Tve}const a=Reflect.get(i,r,o);return(CF(r)?Mee.has(r):Sve(r))||(n||Wo(i,"get",r),e)?a:gr(a)?s&&xF(r)?a:a.value:di(a)?n?Ree(a):pi(a):a}}const Ive=Aee(),Dve=Aee(!0);function Aee(n=!1){return function(t,i,r,o){let s=t[i];if(Tv(s)&&gr(s)&&!gr(r))return!1;if(!n&&(!IL(r)&&!Tv(r)&&(s=Rt(s),r=Rt(r)),!Tt(t)&&gr(s)&&!gr(r)))return s.value=r,!0;const a=Tt(t)&&xF(i)?Number(i)<t.length:Sn(t,i),l=Reflect.set(t,i,r,o);return t===Rt(o)&&(a?Cb(r,s)&&wc(t,"set",i,r):wc(t,"add",i,r)),l}}function Eve(n,e){const t=Sn(n,e);n[e];const i=Reflect.deleteProperty(n,e);return i&&t&&wc(n,"delete",e,void 0),i}function Mve(n,e){const t=Reflect.has(n,e);return(!CF(e)||!Mee.has(e))&&Wo(n,"has",e),t}function Ave(n){return Wo(n,"iterate",Tt(n)?"length":og),Reflect.ownKeys(n)}const Nee={get:wve,set:Ive,deleteProperty:Eve,has:Mve,ownKeys:Ave},Nve={get:xve,set(n,e){return!0},deleteProperty(n,e){return!0}},kve=Ji({},Nee,{get:Cve,set:Dve}),EF=n=>n,gD=n=>Reflect.getPrototypeOf(n);function Zw(n,e,t=!1,i=!1){n=n.__v_raw;const r=Rt(n),o=Rt(e);t||(e!==o&&Wo(r,"get",e),Wo(r,"get",o));const{has:s}=gD(r),a=i?EF:t?NF:xb;if(s.call(r,e))return a(n.get(e));if(s.call(r,o))return a(n.get(o));n!==r&&n.get(e)}function Qw(n,e=!1){const t=this.__v_raw,i=Rt(t),r=Rt(n);return e||(n!==r&&Wo(i,"has",n),Wo(i,"has",r)),n===r?t.has(n):t.has(n)||t.has(r)}function Jw(n,e=!1){return n=n.__v_raw,!e&&Wo(Rt(n),"iterate",og),Reflect.get(n,"size",n)}function EH(n){n=Rt(n);const e=Rt(this);return gD(e).has.call(e,n)||(e.add(n),wc(e,"add",n,n)),this}function MH(n,e){e=Rt(e);const t=Rt(this),{has:i,get:r}=gD(t);let o=i.call(t,n);o||(n=Rt(n),o=i.call(t,n));const s=r.call(t,n);return t.set(n,e),o?Cb(e,s)&&wc(t,"set",n,e):wc(t,"add",n,e),this}function AH(n){const e=Rt(this),{has:t,get:i}=gD(e);let r=t.call(e,n);r||(n=Rt(n),r=t.call(e,n)),i&&i.call(e,n);const o=e.delete(n);return r&&wc(e,"delete",n,void 0),o}function NH(){const n=Rt(this),e=n.size!==0,t=n.clear();return e&&wc(n,"clear",void 0,void 0),t}function e1(n,e){return function(i,r){const o=this,s=o.__v_raw,a=Rt(s),l=e?EF:n?NF:xb;return!n&&Wo(a,"iterate",og),s.forEach((u,c)=>i.call(r,l(u),l(c),o))}}function t1(n,e,t){return function(...i){const r=this.__v_raw,o=Rt(r),s=Um(o),a=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,u=r[n](...i),c=t?EF:e?NF:xb;return!e&&Wo(o,"iterate",l?RP:og),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:a?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function Zc(n){return function(...e){return n==="delete"?!1:this}}function Pve(){const n={get(o){return Zw(this,o)},get size(){return Jw(this)},has:Qw,add:EH,set:MH,delete:AH,clear:NH,forEach:e1(!1,!1)},e={get(o){return Zw(this,o,!1,!0)},get size(){return Jw(this)},has:Qw,add:EH,set:MH,delete:AH,clear:NH,forEach:e1(!1,!0)},t={get(o){return Zw(this,o,!0)},get size(){return Jw(this,!0)},has(o){return Qw.call(this,o,!0)},add:Zc("add"),set:Zc("set"),delete:Zc("delete"),clear:Zc("clear"),forEach:e1(!0,!1)},i={get(o){return Zw(this,o,!0,!0)},get size(){return Jw(this,!0)},has(o){return Qw.call(this,o,!0)},add:Zc("add"),set:Zc("set"),delete:Zc("delete"),clear:Zc("clear"),forEach:e1(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=t1(o,!1,!1),t[o]=t1(o,!0,!1),e[o]=t1(o,!1,!0),i[o]=t1(o,!0,!0)}),[n,t,e,i]}const[Ove,Rve,Bve,Fve]=Pve();function MF(n,e){const t=e?n?Fve:Bve:n?Rve:Ove;return(i,r,o)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(Sn(t,r)&&r in i?t:i,r,o)}const $ve={get:MF(!1,!1)},Vve={get:MF(!1,!0)},Wve={get:MF(!0,!1)},kee=new WeakMap,Pee=new WeakMap,Oee=new WeakMap,zve=new WeakMap;function Hve(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Uve(n){return n.__v_skip||!Object.isExtensible(n)?0:Hve(rve(n))}function pi(n){return Tv(n)?n:AF(n,!1,Nee,$ve,kee)}function Gve(n){return AF(n,!1,kve,Vve,Pee)}function Ree(n){return AF(n,!0,Nve,Wve,Oee)}function AF(n,e,t,i,r){if(!di(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const o=r.get(n);if(o)return o;const s=Uve(n);if(s===0)return n;const a=new Proxy(n,s===2?i:t);return r.set(n,a),a}function Gm(n){return Tv(n)?Gm(n.__v_raw):!!(n&&n.__v_isReactive)}function Tv(n){return!!(n&&n.__v_isReadonly)}function IL(n){return!!(n&&n.__v_isShallow)}function Bee(n){return Gm(n)||Tv(n)}function Rt(n){const e=n&&n.__v_raw;return e?Rt(e):n}function Fee(n){return LL(n,"__v_skip",!0),n}const xb=n=>di(n)?pi(n):n,NF=n=>di(n)?Ree(n):n;function $ee(n){Hd&&Ra&&(n=Rt(n),Eee(n.dep||(n.dep=TF())))}function Vee(n,e){n=Rt(n);const t=n.dep;t&&BP(t)}function gr(n){return!!(n&&n.__v_isRef===!0)}function ke(n){return Wee(n,!1)}function ye(n){return Wee(n,!0)}function Wee(n,e){return gr(n)?n:new Kve(n,e)}class Kve{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Rt(e),this._value=t?e:xb(e)}get value(){return $ee(this),this._value}set value(e){const t=this.__v_isShallow||IL(e)||Tv(e);e=t?e:Rt(e),Cb(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:xb(e),Vee(this))}}function Wa(n){return gr(n)?n.value:n}const jve={get:(n,e,t)=>Wa(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return gr(r)&&!gr(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function zee(n){return Gm(n)?n:new Proxy(n,jve)}function S_(n){const e=Tt(n)?new Array(n.length):{};for(const t in n)e[t]=Hee(n,t);return e}class qve{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bve(Rt(this._object),this._key)}}class Yve{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Wn(n,e,t){return gr(n)?n:Ft(n)?new Yve(n):di(n)&&arguments.length>1?Hee(n,e,t):ke(n)}function Hee(n,e,t){const i=n[e];return gr(i)?i:new qve(n,e,t)}class Xve{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new IF(e,()=>{this._dirty||(this._dirty=!0,Vee(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=Rt(this);return $ee(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Zve(n,e,t=!1){let i,r;const o=Ft(n);return o?(i=n,r=Xa):(i=n.get,r=n.set),new Xve(i,r,o||!r,t)}function Ud(n,e,t,i){let r;try{r=i?n(...i):n()}catch(o){pD(o,e,t)}return r}function aa(n,e,t,i){if(Ft(n)){const o=Ud(n,e,t,i);return o&&See(o)&&o.catch(s=>{pD(s,e,t)}),o}const r=[];for(let o=0;o<n.length;o++)r.push(aa(n[o],e,t,i));return r}function pD(n,e,t,i=!0){const r=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=t;for(;o;){const u=o.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](n,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){Ud(l,null,10,[n,s,a]);return}}Qve(n,t,r,i)}function Qve(n,e,t,i=!0){console.error(n)}let Lb=!1,FP=!1;const Qr=[];let $l=0;const Km=[];let Vu=null,xf=0;const Uee=Promise.resolve();let kF=null;function kn(n){const e=kF||Uee;return n?e.then(this?n.bind(this):n):e}function Jve(n){let e=$l+1,t=Qr.length;for(;e<t;){const i=e+t>>>1;Tb(Qr[i])<n?e=i+1:t=i}return e}function PF(n){(!Qr.length||!Qr.includes(n,Lb&&n.allowRecurse?$l+1:$l))&&(n.id==null?Qr.push(n):Qr.splice(Jve(n.id),0,n),Gee())}function Gee(){!Lb&&!FP&&(FP=!0,kF=Uee.then(jee))}function eye(n){const e=Qr.indexOf(n);e>$l&&Qr.splice(e,1)}function tye(n){Tt(n)?Km.push(...n):(!Vu||!Vu.includes(n,n.allowRecurse?xf+1:xf))&&Km.push(n),Gee()}function kH(n,e=Lb?$l+1:0){for(;e<Qr.length;e++){const t=Qr[e];t&&t.pre&&(Qr.splice(e,1),e--,t())}}function Kee(n){if(Km.length){const e=[...new Set(Km)];if(Km.length=0,Vu){Vu.push(...e);return}for(Vu=e,Vu.sort((t,i)=>Tb(t)-Tb(i)),xf=0;xf<Vu.length;xf++)Vu[xf]();Vu=null,xf=0}}const Tb=n=>n.id==null?1/0:n.id,nye=(n,e)=>{const t=Tb(n)-Tb(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function jee(n){FP=!1,Lb=!0,Qr.sort(nye);const e=Xa;try{for($l=0;$l<Qr.length;$l++){const t=Qr[$l];t&&t.active!==!1&&Ud(t,null,14)}}finally{$l=0,Qr.length=0,Kee(),Lb=!1,kF=null,(Qr.length||Km.length)&&jee()}}function iye(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||ai;let r=t;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in i){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:h}=i[c]||ai;h&&(r=t.map(f=>er(f)?f.trim():f)),d&&(r=t.map(ave))}let a,l=i[a=WM(e)]||i[a=WM(nu(e))];!l&&o&&(l=i[a=WM(gy(e))]),l&&aa(l,n,6,r);const u=i[a+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,aa(u,n,6,r)}}function qee(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const o=n.emits;let s={},a=!1;if(!Ft(n)){const l=u=>{const c=qee(u,e,!0);c&&(a=!0,Ji(s,c))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!o&&!a?(di(n)&&i.set(n,null),null):(Tt(o)?o.forEach(l=>s[l]=null):Ji(s,o),di(n)&&i.set(n,s),s)}function mD(n,e){return!n||!cD(e)?!1:(e=e.slice(2).replace(/Once$/,""),Sn(n,e[0].toLowerCase()+e.slice(1))||Sn(n,gy(e))||Sn(n,e))}let Or=null,Yee=null;function DL(n){const e=Or;return Or=n,Yee=n&&n.type.__scopeId||null,e}function Pi(n,e=Or,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&KH(-1);const o=DL(e);let s;try{s=n(...r)}finally{DL(o),i._d&&KH(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function UM(n){const{type:e,vnode:t,proxy:i,withProxy:r,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:h,setupState:f,ctx:g,inheritAttrs:p}=n;let m,v;const y=DL(n);try{if(t.shapeFlag&4){const b=r||i;m=Rl(c.call(b,b,d,o,f,h,g)),v=l}else{const b=e;m=Rl(b.length>1?b(o,{attrs:l,slots:a,emit:u}):b(o,null)),v=e.props?l:rye(l)}}catch(b){L_.length=0,pD(b,n,1),m=N(gs)}let _=m;if(v&&p!==!1){const b=Object.keys(v),{shapeFlag:S}=_;b.length&&S&7&&(s&&b.some(SF)&&(v=oye(v,s)),_=bs(_,v))}return t.dirs&&(_=bs(_),_.dirs=_.dirs?_.dirs.concat(t.dirs):t.dirs),t.transition&&(_.transition=t.transition),m=_,DL(y),m}const rye=n=>{let e;for(const t in n)(t==="class"||t==="style"||cD(t))&&((e||(e={}))[t]=n[t]);return e},oye=(n,e)=>{const t={};for(const i in n)(!SF(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function sye(n,e,t){const{props:i,children:r,component:o}=n,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?PH(i,s,u):!!s;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const h=c[d];if(s[h]!==i[h]&&!mD(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?PH(i,s,u):!0:!!s;return!1}function PH(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==n[o]&&!mD(t,o))return!0}return!1}function aye({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const lye=n=>n.__isSuspense;function uye(n,e){e&&e.pendingBranch?Tt(n)?e.effects.push(...n):e.effects.push(n):tye(n)}function Ut(n,e){return OF(n,null,e)}const n1={};function Ve(n,e,t){return OF(n,e,t)}function OF(n,e,{immediate:t,deep:i,flush:r,onTrack:o,onTrigger:s}=ai){var a;const l=vve()===((a=Tr)==null?void 0:a.scope)?Tr:null;let u,c=!1,d=!1;if(gr(n)?(u=()=>n.value,c=IL(n)):Gm(n)?(u=()=>n,i=!0):Tt(n)?(d=!0,c=n.some(b=>Gm(b)||IL(b)),u=()=>n.map(b=>{if(gr(b))return b.value;if(Gm(b))return Uf(b);if(Ft(b))return Ud(b,l,2)})):Ft(n)?e?u=()=>Ud(n,l,2):u=()=>{if(!(l&&l.isUnmounted))return h&&h(),aa(n,l,3,[f])}:u=Xa,e&&i){const b=u;u=()=>Uf(b())}let h,f=b=>{h=y.onStop=()=>{Ud(b,l,4)}},g;if(Db)if(f=Xa,e?t&&aa(e,l,3,[u(),d?[]:void 0,f]):u(),r==="sync"){const b=r0e();g=b.__watcherHandles||(b.__watcherHandles=[])}else return Xa;let p=d?new Array(n.length).fill(n1):n1;const m=()=>{if(y.active)if(e){const b=y.run();(i||c||(d?b.some((S,w)=>Cb(S,p[w])):Cb(b,p)))&&(h&&h(),aa(e,l,3,[b,p===n1?void 0:d&&p[0]===n1?[]:p,f]),p=b)}else y.run()};m.allowRecurse=!!e;let v;r==="sync"?v=m:r==="post"?v=()=>No(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),v=()=>PF(m));const y=new IF(u,v);e?t?m():p=y.run():r==="post"?No(y.run.bind(y),l&&l.suspense):y.run();const _=()=>{y.stop(),l&&l.scope&&wF(l.scope.effects,y)};return g&&g.push(_),_}function cye(n,e,t){const i=this.proxy,r=er(n)?n.includes(".")?Xee(i,n):()=>i[n]:n.bind(i,i);let o;Ft(e)?o=e:(o=e.handler,t=e);const s=Tr;Iv(this);const a=OF(r,o.bind(i),t);return s?Iv(s):sg(),a}function Xee(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function Uf(n,e){if(!di(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),gr(n))Uf(n.value,e);else if(Tt(n))for(let t=0;t<n.length;t++)Uf(n[t],e);else if(bee(n)||Um(n))n.forEach(t=>{Uf(t,e)});else if(Cee(n))for(const t in n)Uf(n[t],e);return n}function Bc(n,e){const t=Or;if(t===null)return n;const i=SD(t)||t.proxy,r=n.dirs||(n.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=ai]=e[o];s&&(Ft(s)&&(s={mounted:s,updated:s}),s.deep&&Uf(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:u}))}return n}function Ah(n,e,t,i){const r=n.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(py(),aa(l,t,8,[n.el,a,n,e]),my())}}function dye(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vt(()=>{n.isMounted=!0}),fn(()=>{n.isUnmounting=!0}),n}const Ms=[Function,Array],Zee={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ms,onEnter:Ms,onAfterEnter:Ms,onEnterCancelled:Ms,onBeforeLeave:Ms,onLeave:Ms,onAfterLeave:Ms,onLeaveCancelled:Ms,onBeforeAppear:Ms,onAppear:Ms,onAfterAppear:Ms,onAppearCancelled:Ms},hye={name:"BaseTransition",props:Zee,setup(n,{slots:e}){const t=Ts(),i=dye();let r;return()=>{const o=e.default&&Jee(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const p of o)if(p.type!==gs){s=p;break}}const a=Rt(n),{mode:l}=a;if(i.isLeaving)return GM(s);const u=OH(s);if(!u)return GM(s);const c=$P(u,a,i,t);VP(u,c);const d=t.subTree,h=d&&OH(d);let f=!1;const{getTransitionKey:g}=u.type;if(g){const p=g();r===void 0?r=p:p!==r&&(r=p,f=!0)}if(h&&h.type!==gs&&(!Lf(u,h)||f)){const p=$P(h,a,i,t);if(VP(h,p),l==="out-in")return i.isLeaving=!0,p.afterLeave=()=>{i.isLeaving=!1,t.update.active!==!1&&t.update()},GM(s);l==="in-out"&&u.type!==gs&&(p.delayLeave=(m,v,y)=>{const _=Qee(i,h);_[String(h.key)]=h,m._leaveCb=()=>{v(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return s}}},fye=hye;function Qee(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function $P(n,e,t,i){const{appear:r,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:p,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=e,_=String(n.key),b=Qee(t,n),S=(x,L)=>{x&&aa(x,i,9,L)},w=(x,L)=>{const T=L[1];S(x,L),Tt(x)?x.every(I=>I.length<=1)&&T():x.length<=1&&T()},C={mode:o,persisted:s,beforeEnter(x){let L=a;if(!t.isMounted)if(r)L=p||a;else return;x._leaveCb&&x._leaveCb(!0);const T=b[_];T&&Lf(n,T)&&T.el._leaveCb&&T.el._leaveCb(),S(L,[x])},enter(x){let L=l,T=u,I=c;if(!t.isMounted)if(r)L=m||l,T=v||u,I=y||c;else return;let D=!1;const M=x._enterCb=P=>{D||(D=!0,P?S(I,[x]):S(T,[x]),C.delayedLeave&&C.delayedLeave(),x._enterCb=void 0)};L?w(L,[x,M]):M()},leave(x,L){const T=String(n.key);if(x._enterCb&&x._enterCb(!0),t.isUnmounting)return L();S(d,[x]);let I=!1;const D=x._leaveCb=M=>{I||(I=!0,L(),M?S(g,[x]):S(f,[x]),x._leaveCb=void 0,b[T]===n&&delete b[T])};b[T]=n,h?w(h,[x,D]):D()},clone(x){return $P(x,e,t,i)}};return C}function GM(n){if(vD(n))return n=bs(n),n.children=null,n}function OH(n){return vD(n)?n.children?n.children[0]:void 0:n}function VP(n,e){n.shapeFlag&6&&n.component?VP(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Jee(n,e=!1,t){let i=[],r=0;for(let o=0;o<n.length;o++){let s=n[o];const a=t==null?s.key:String(t)+String(s.key!=null?s.key:o);s.type===$t?(s.patchFlag&128&&r++,i=i.concat(Jee(s.children,e,a))):(e||s.type!==gs)&&i.push(a!=null?bs(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ie(n,e){return Ft(n)?(()=>Ji({name:n.name},e,{setup:n}))():n}const w_=n=>!!n.type.__asyncLoader,vD=n=>n.type.__isKeepAlive;function ete(n,e){tte(n,"a",e)}function gye(n,e){tte(n,"da",e)}function tte(n,e,t=Tr){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(yD(e,i,t),t){let r=t.parent;for(;r&&r.parent;)vD(r.parent.vnode)&&pye(i,e,t,r),r=r.parent}}function pye(n,e,t,i){const r=yD(e,n,i,!0);$c(()=>{wF(i[e],r)},t)}function yD(n,e,t=Tr,i=!1){if(t){const r=t[n]||(t[n]=[]),o=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;py(),Iv(t);const a=aa(e,t,n,s);return sg(),my(),a});return i?r.unshift(o):r.push(o),o}}const Fc=n=>(e,t=Tr)=>(!Db||n==="sp")&&yD(n,(...i)=>e(...i),t),nte=Fc("bm"),Vt=Fc("m"),RF=Fc("bu"),vu=Fc("u"),fn=Fc("bum"),$c=Fc("um"),mye=Fc("sp"),vye=Fc("rtg"),yye=Fc("rtc");function _ye(n,e=Tr){yD("ec",n,e)}const bye="components",Sye="directives",wye=Symbol.for("v-ndc");function Cye(n){return xye(Sye,n)}function xye(n,e,t=!0,i=!1){const r=Or||Tr;if(r){const o=r.type;if(n===bye){const a=t0e(o,!1);if(a&&(a===e||a===nu(e)||a===fD(nu(e))))return o}const s=RH(r[n]||o[n],e)||RH(r.appContext[n],e);return!s&&i?o:s}}function RH(n,e){return n&&(n[e]||n[nu(e)]||n[fD(nu(e))])}function _D(n,e,t={},i,r){if(Or.isCE||Or.parent&&w_(Or.parent)&&Or.parent.isCE)return e!=="default"&&(t.name=e),N("slot",t,i&&i());let o=n[e];o&&o._c&&(o._d=!1),rc();const s=o&&ite(o(t)),a=AL($t,{key:t.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&n._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function ite(n){return n.some(e=>Rr(e)?!(e.type===gs||e.type===$t&&!ite(e.children)):!0)?n:null}const WP=n=>n?pte(n)?SD(n)||n.proxy:WP(n.parent):null,C_=Ji(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>WP(n.parent),$root:n=>WP(n.root),$emit:n=>n.emit,$options:n=>BF(n),$forceUpdate:n=>n.f||(n.f=()=>PF(n.update)),$nextTick:n=>n.n||(n.n=kn.bind(n.proxy)),$watch:n=>cye.bind(n)}),KM=(n,e)=>n!==ai&&!n.__isScriptSetup&&Sn(n,e),Lye={get({_:n},e){const{ctx:t,setupState:i,data:r,props:o,accessCache:s,type:a,appContext:l}=n;let u;if(e[0]!=="$"){const f=s[e];if(f!==void 0)switch(f){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return o[e]}else{if(KM(i,e))return s[e]=1,i[e];if(r!==ai&&Sn(r,e))return s[e]=2,r[e];if((u=n.propsOptions[0])&&Sn(u,e))return s[e]=3,o[e];if(t!==ai&&Sn(t,e))return s[e]=4,t[e];zP&&(s[e]=0)}}const c=C_[e];let d,h;if(c)return e==="$attrs"&&Wo(n,"get",e),c(n);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==ai&&Sn(t,e))return s[e]=4,t[e];if(h=l.config.globalProperties,Sn(h,e))return h[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:o}=n;return KM(r,e)?(r[e]=t,!0):i!==ai&&Sn(i,e)?(i[e]=t,!0):Sn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(o[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:o}},s){let a;return!!t[s]||n!==ai&&Sn(n,s)||KM(e,s)||(a=o[0])&&Sn(a,s)||Sn(i,s)||Sn(C_,s)||Sn(r.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:Sn(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function BH(n){return Tt(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let zP=!0;function Tye(n){const e=BF(n),t=n.proxy,i=n.ctx;zP=!1,e.beforeCreate&&FH(e.beforeCreate,n,"bc");const{data:r,computed:o,methods:s,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:h,beforeUpdate:f,updated:g,activated:p,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:_,unmounted:b,render:S,renderTracked:w,renderTriggered:C,errorCaptured:x,serverPrefetch:L,expose:T,inheritAttrs:I,components:D,directives:M,filters:P}=e;if(u&&Iye(u,i,null),s)for(const F in s){const R=s[F];Ft(R)&&(i[F]=R.bind(t))}if(r){const F=r.call(t,t);di(F)&&(n.data=pi(F))}if(zP=!0,o)for(const F in o){const R=o[F],$=Ft(R)?R.bind(t,t):Ft(R.get)?R.get.bind(t,t):Xa,H=!Ft(R)&&Ft(R.set)?R.set.bind(t):Xa,U=V({get:$,set:H});Object.defineProperty(i,F,{enumerable:!0,configurable:!0,get:()=>U.value,set:z=>U.value=z})}if(a)for(const F in a)rte(a[F],i,t,F);if(l){const F=Ft(l)?l.call(t):l;Reflect.ownKeys(F).forEach(R=>{On(R,F[R])})}c&&FH(c,n,"c");function O(F,R){Tt(R)?R.forEach($=>F($.bind(t))):R&&F(R.bind(t))}if(O(nte,d),O(Vt,h),O(RF,f),O(vu,g),O(ete,p),O(gye,m),O(_ye,x),O(yye,w),O(vye,C),O(fn,y),O($c,b),O(mye,L),Tt(T))if(T.length){const F=n.exposed||(n.exposed={});T.forEach(R=>{Object.defineProperty(F,R,{get:()=>t[R],set:$=>t[R]=$})})}else n.exposed||(n.exposed={});S&&n.render===Xa&&(n.render=S),I!=null&&(n.inheritAttrs=I),D&&(n.components=D),M&&(n.directives=M)}function Iye(n,e,t=Xa){Tt(n)&&(n=HP(n));for(const i in n){const r=n[i];let o;di(r)?"default"in r?o=kt(r.from||i,r.default,!0):o=kt(r.from||i):o=kt(r),gr(o)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[i]=o}}function FH(n,e,t){aa(Tt(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function rte(n,e,t,i){const r=i.includes(".")?Xee(t,i):()=>t[i];if(er(n)){const o=e[n];Ft(o)&&Ve(r,o)}else if(Ft(n))Ve(r,n.bind(t));else if(di(n))if(Tt(n))n.forEach(o=>rte(o,e,t,i));else{const o=Ft(n.handler)?n.handler.bind(t):e[n.handler];Ft(o)&&Ve(r,o,n)}}function BF(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=n.appContext,a=o.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(u=>EL(l,u,s,!0)),EL(l,e,s)),di(e)&&o.set(e,l),l}function EL(n,e,t,i=!1){const{mixins:r,extends:o}=e;o&&EL(n,o,t,!0),r&&r.forEach(s=>EL(n,s,t,!0));for(const s in e)if(!(i&&s==="expose")){const a=Dye[s]||t&&t[s];n[s]=a?a(n[s],e[s]):e[s]}return n}const Dye={data:$H,props:VH,emits:VH,methods:Q0,computed:Q0,beforeCreate:uo,created:uo,beforeMount:uo,mounted:uo,beforeUpdate:uo,updated:uo,beforeDestroy:uo,beforeUnmount:uo,destroyed:uo,unmounted:uo,activated:uo,deactivated:uo,errorCaptured:uo,serverPrefetch:uo,components:Q0,directives:Q0,watch:Mye,provide:$H,inject:Eye};function $H(n,e){return e?n?function(){return Ji(Ft(n)?n.call(this,this):n,Ft(e)?e.call(this,this):e)}:e:n}function Eye(n,e){return Q0(HP(n),HP(e))}function HP(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function uo(n,e){return n?[...new Set([].concat(n,e))]:e}function Q0(n,e){return n?Ji(Object.create(null),n,e):e}function VH(n,e){return n?Tt(n)&&Tt(e)?[...new Set([...n,...e])]:Ji(Object.create(null),BH(n),BH(e??{})):e}function Mye(n,e){if(!n)return e;if(!e)return n;const t=Ji(Object.create(null),n);for(const i in e)t[i]=uo(n[i],e[i]);return t}function ote(){return{app:null,config:{isNativeTag:tve,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Aye=0;function Nye(n,e){return function(i,r=null){Ft(i)||(i=Ji({},i)),r!=null&&!di(r)&&(r=null);const o=ote(),s=new Set;let a=!1;const l=o.app={_uid:Aye++,_component:i,_props:r,_container:null,_context:o,_instance:null,version:o0e,get config(){return o.config},set config(u){},use(u,...c){return s.has(u)||(u&&Ft(u.install)?(s.add(u),u.install(l,...c)):Ft(u)&&(s.add(u),u(l,...c))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,c){return c?(o.components[u]=c,l):o.components[u]},directive(u,c){return c?(o.directives[u]=c,l):o.directives[u]},mount(u,c,d){if(!a){const h=N(i,r);return h.appContext=o,c&&e?e(h,u):n(h,u,d),a=!0,l._container=u,u.__vue_app__=l,SD(h.component)||h.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(u,c){return o.provides[u]=c,l},runWithContext(u){ML=l;try{return u()}finally{ML=null}}};return l}}let ML=null;function On(n,e){if(Tr){let t=Tr.provides;const i=Tr.parent&&Tr.parent.provides;i===t&&(t=Tr.provides=Object.create(i)),t[n]=e}}function kt(n,e,t=!1){const i=Tr||Or;if(i||ML){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ML._context.provides;if(r&&n in r)return r[n];if(arguments.length>1)return t&&Ft(e)?e.call(i&&i.proxy):e}}function kye(n,e,t,i=!1){const r={},o={};LL(o,bD,1),n.propsDefaults=Object.create(null),ste(n,e,r,o);for(const s in n.propsOptions[0])s in r||(r[s]=void 0);t?n.props=i?r:Gve(r):n.type.props?n.props=r:n.props=o,n.attrs=o}function Pye(n,e,t,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=n,a=Rt(r),[l]=n.propsOptions;let u=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let h=c[d];if(mD(n.emitsOptions,h))continue;const f=e[h];if(l)if(Sn(o,h))f!==o[h]&&(o[h]=f,u=!0);else{const g=nu(h);r[g]=UP(l,a,g,f,n,!1)}else f!==o[h]&&(o[h]=f,u=!0)}}}else{ste(n,e,r,o)&&(u=!0);let c;for(const d in a)(!e||!Sn(e,d)&&((c=gy(d))===d||!Sn(e,c)))&&(l?t&&(t[d]!==void 0||t[c]!==void 0)&&(r[d]=UP(l,a,d,void 0,n,!0)):delete r[d]);if(o!==a)for(const d in o)(!e||!Sn(e,d))&&(delete o[d],u=!0)}u&&wc(n,"set","$attrs")}function ste(n,e,t,i){const[r,o]=n.propsOptions;let s=!1,a;if(e)for(let l in e){if(dx(l))continue;const u=e[l];let c;r&&Sn(r,c=nu(l))?!o||!o.includes(c)?t[c]=u:(a||(a={}))[c]=u:mD(n.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,s=!0)}if(o){const l=Rt(t),u=a||ai;for(let c=0;c<o.length;c++){const d=o[c];t[d]=UP(r,l,d,u[d],n,!Sn(u,d))}}return s}function UP(n,e,t,i,r,o){const s=n[t];if(s!=null){const a=Sn(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ft(l)){const{propsDefaults:u}=r;t in u?i=u[t]:(Iv(r),i=u[t]=l.call(null,e),sg())}else i=l}s[0]&&(o&&!a?i=!1:s[1]&&(i===""||i===gy(t))&&(i=!0))}return i}function ate(n,e,t=!1){const i=e.propsCache,r=i.get(n);if(r)return r;const o=n.props,s={},a=[];let l=!1;if(!Ft(n)){const c=d=>{l=!0;const[h,f]=ate(d,e,!0);Ji(s,h),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!o&&!l)return di(n)&&i.set(n,Hm),Hm;if(Tt(o))for(let c=0;c<o.length;c++){const d=nu(o[c]);WH(d)&&(s[d]=ai)}else if(o)for(const c in o){const d=nu(c);if(WH(d)){const h=o[c],f=s[d]=Tt(h)||Ft(h)?{type:h}:Ji({},h);if(f){const g=UH(Boolean,f.type),p=UH(String,f.type);f[0]=g>-1,f[1]=p<0||g<p,(g>-1||Sn(f,"default"))&&a.push(d)}}}const u=[s,a];return di(n)&&i.set(n,u),u}function WH(n){return n[0]!=="$"}function zH(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function HH(n,e){return zH(n)===zH(e)}function UH(n,e){return Tt(e)?e.findIndex(t=>HH(t,n)):Ft(e)&&HH(e,n)?0:-1}const lte=n=>n[0]==="_"||n==="$stable",FF=n=>Tt(n)?n.map(Rl):[Rl(n)],Oye=(n,e,t)=>{if(e._n)return e;const i=Pi((...r)=>FF(e(...r)),t);return i._c=!1,i},ute=(n,e,t)=>{const i=n._ctx;for(const r in n){if(lte(r))continue;const o=n[r];if(Ft(o))e[r]=Oye(r,o,i);else if(o!=null){const s=FF(o);e[r]=()=>s}}},cte=(n,e)=>{const t=FF(e);n.slots.default=()=>t},Rye=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Rt(e),LL(e,"_",t)):ute(e,n.slots={})}else n.slots={},e&&cte(n,e);LL(n.slots,bD,1)},Bye=(n,e,t)=>{const{vnode:i,slots:r}=n;let o=!0,s=ai;if(i.shapeFlag&32){const a=e._;a?t&&a===1?o=!1:(Ji(r,e),!t&&a===1&&delete r._):(o=!e.$stable,ute(e,r)),s=e}else e&&(cte(n,e),s={default:1});if(o)for(const a in r)!lte(a)&&!(a in s)&&delete r[a]};function GP(n,e,t,i,r=!1){if(Tt(n)){n.forEach((h,f)=>GP(h,e&&(Tt(e)?e[f]:e),t,i,r));return}if(w_(i)&&!r)return;const o=i.shapeFlag&4?SD(i.component)||i.component.proxy:i.el,s=r?null:o,{i:a,r:l}=n,u=e&&e.r,c=a.refs===ai?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(er(u)?(c[u]=null,Sn(d,u)&&(d[u]=null)):gr(u)&&(u.value=null)),Ft(l))Ud(l,a,12,[s,c]);else{const h=er(l),f=gr(l);if(h||f){const g=()=>{if(n.f){const p=h?Sn(d,l)?d[l]:c[l]:l.value;r?Tt(p)&&wF(p,o):Tt(p)?p.includes(o)||p.push(o):h?(c[l]=[o],Sn(d,l)&&(d[l]=c[l])):(l.value=[o],n.k&&(c[n.k]=l.value))}else h?(c[l]=s,Sn(d,l)&&(d[l]=s)):f&&(l.value=s,n.k&&(c[n.k]=s))};s?(g.id=-1,No(g,t)):g()}}}const No=uye;function Fye(n){return $ye(n)}function $ye(n,e){const t=PP();t.__VUE__=!0;const{insert:i,remove:r,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:h,setScopeId:f=Xa,insertStaticContent:g}=n,p=(W,G,K,de=null,Y=null,oe=null,te=!1,J=null,he=!!G.dynamicChildren)=>{if(W===G)return;W&&!Lf(W,G)&&(de=j(W),z(W,Y,oe,!0),W=null),G.patchFlag===-2&&(he=!1,G.dynamicChildren=null);const{type:pe,ref:Ce,shapeFlag:Ae}=G;switch(pe){case rp:m(W,G,K,de);break;case gs:v(W,G,K,de);break;case jM:W==null&&y(G,K,de,te);break;case $t:D(W,G,K,de,Y,oe,te,J,he);break;default:Ae&1?S(W,G,K,de,Y,oe,te,J,he):Ae&6?M(W,G,K,de,Y,oe,te,J,he):(Ae&64||Ae&128)&&pe.process(W,G,K,de,Y,oe,te,J,he,Q)}Ce!=null&&Y&&GP(Ce,W&&W.ref,oe,G||W,!G)},m=(W,G,K,de)=>{if(W==null)i(G.el=a(G.children),K,de);else{const Y=G.el=W.el;G.children!==W.children&&u(Y,G.children)}},v=(W,G,K,de)=>{W==null?i(G.el=l(G.children||""),K,de):G.el=W.el},y=(W,G,K,de)=>{[W.el,W.anchor]=g(W.children,G,K,de,W.el,W.anchor)},_=({el:W,anchor:G},K,de)=>{let Y;for(;W&&W!==G;)Y=h(W),i(W,K,de),W=Y;i(G,K,de)},b=({el:W,anchor:G})=>{let K;for(;W&&W!==G;)K=h(W),r(W),W=K;r(G)},S=(W,G,K,de,Y,oe,te,J,he)=>{te=te||G.type==="svg",W==null?w(G,K,de,Y,oe,te,J,he):L(W,G,Y,oe,te,J,he)},w=(W,G,K,de,Y,oe,te,J)=>{let he,pe;const{type:Ce,props:Ae,shapeFlag:Oe,transition:fe,dirs:ne}=W;if(he=W.el=s(W.type,oe,Ae&&Ae.is,Ae),Oe&8?c(he,W.children):Oe&16&&x(W.children,he,null,de,Y,oe&&Ce!=="foreignObject",te,J),ne&&Ah(W,null,de,"created"),C(he,W,W.scopeId,te,de),Ae){for(const Be in Ae)Be!=="value"&&!dx(Be)&&o(he,Be,null,Ae[Be],oe,W.children,de,Y,q);"value"in Ae&&o(he,"value",null,Ae.value),(pe=Ae.onVnodeBeforeMount)&&ml(pe,de,W)}ne&&Ah(W,null,de,"beforeMount");const Se=(!Y||Y&&!Y.pendingBranch)&&fe&&!fe.persisted;Se&&fe.beforeEnter(he),i(he,G,K),((pe=Ae&&Ae.onVnodeMounted)||Se||ne)&&No(()=>{pe&&ml(pe,de,W),Se&&fe.enter(he),ne&&Ah(W,null,de,"mounted")},Y)},C=(W,G,K,de,Y)=>{if(K&&f(W,K),de)for(let oe=0;oe<de.length;oe++)f(W,de[oe]);if(Y){let oe=Y.subTree;if(G===oe){const te=Y.vnode;C(W,te,te.scopeId,te.slotScopeIds,Y.parent)}}},x=(W,G,K,de,Y,oe,te,J,he=0)=>{for(let pe=he;pe<W.length;pe++){const Ce=W[pe]=J?_d(W[pe]):Rl(W[pe]);p(null,Ce,G,K,de,Y,oe,te,J)}},L=(W,G,K,de,Y,oe,te)=>{const J=G.el=W.el;let{patchFlag:he,dynamicChildren:pe,dirs:Ce}=G;he|=W.patchFlag&16;const Ae=W.props||ai,Oe=G.props||ai;let fe;K&&Nh(K,!1),(fe=Oe.onVnodeBeforeUpdate)&&ml(fe,K,G,W),Ce&&Ah(G,W,K,"beforeUpdate"),K&&Nh(K,!0);const ne=Y&&G.type!=="foreignObject";if(pe?T(W.dynamicChildren,pe,J,K,de,ne,oe):te||R(W,G,J,null,K,de,ne,oe,!1),he>0){if(he&16)I(J,G,Ae,Oe,K,de,Y);else if(he&2&&Ae.class!==Oe.class&&o(J,"class",null,Oe.class,Y),he&4&&o(J,"style",Ae.style,Oe.style,Y),he&8){const Se=G.dynamicProps;for(let Be=0;Be<Se.length;Be++){const He=Se[Be],lt=Ae[He],xe=Oe[He];(xe!==lt||He==="value")&&o(J,He,lt,xe,Y,W.children,K,de,q)}}he&1&&W.children!==G.children&&c(J,G.children)}else!te&&pe==null&&I(J,G,Ae,Oe,K,de,Y);((fe=Oe.onVnodeUpdated)||Ce)&&No(()=>{fe&&ml(fe,K,G,W),Ce&&Ah(G,W,K,"updated")},de)},T=(W,G,K,de,Y,oe,te)=>{for(let J=0;J<G.length;J++){const he=W[J],pe=G[J],Ce=he.el&&(he.type===$t||!Lf(he,pe)||he.shapeFlag&70)?d(he.el):K;p(he,pe,Ce,null,de,Y,oe,te,!0)}},I=(W,G,K,de,Y,oe,te)=>{if(K!==de){if(K!==ai)for(const J in K)!dx(J)&&!(J in de)&&o(W,J,K[J],null,te,G.children,Y,oe,q);for(const J in de){if(dx(J))continue;const he=de[J],pe=K[J];he!==pe&&J!=="value"&&o(W,J,pe,he,te,G.children,Y,oe,q)}"value"in de&&o(W,"value",K.value,de.value)}},D=(W,G,K,de,Y,oe,te,J,he)=>{const pe=G.el=W?W.el:a(""),Ce=G.anchor=W?W.anchor:a("");let{patchFlag:Ae,dynamicChildren:Oe,slotScopeIds:fe}=G;fe&&(J=J?J.concat(fe):fe),W==null?(i(pe,K,de),i(Ce,K,de),x(G.children,K,Ce,Y,oe,te,J,he)):Ae>0&&Ae&64&&Oe&&W.dynamicChildren?(T(W.dynamicChildren,Oe,K,Y,oe,te,J),(G.key!=null||Y&&G===Y.subTree)&&$F(W,G,!0)):R(W,G,K,Ce,Y,oe,te,J,he)},M=(W,G,K,de,Y,oe,te,J,he)=>{G.slotScopeIds=J,W==null?G.shapeFlag&512?Y.ctx.activate(G,K,de,te,he):P(G,K,de,Y,oe,te,he):k(W,G,he)},P=(W,G,K,de,Y,oe,te)=>{const J=W.component=Xye(W,de,Y);if(vD(W)&&(J.ctx.renderer=Q),Zye(J),J.asyncDep){if(Y&&Y.registerDep(J,O),!W.el){const he=J.subTree=N(gs);v(null,he,G,K)}return}O(J,W,G,K,Y,oe,te)},k=(W,G,K)=>{const de=G.component=W.component;if(sye(W,G,K))if(de.asyncDep&&!de.asyncResolved){F(de,G,K);return}else de.next=G,eye(de.update),de.update();else G.el=W.el,de.vnode=G},O=(W,G,K,de,Y,oe,te)=>{const J=()=>{if(W.isMounted){let{next:Ce,bu:Ae,u:Oe,parent:fe,vnode:ne}=W,Se=Ce,Be;Nh(W,!1),Ce?(Ce.el=ne.el,F(W,Ce,te)):Ce=ne,Ae&&zM(Ae),(Be=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&ml(Be,fe,Ce,ne),Nh(W,!0);const He=UM(W),lt=W.subTree;W.subTree=He,p(lt,He,d(lt.el),j(lt),W,Y,oe),Ce.el=He.el,Se===null&&aye(W,He.el),Oe&&No(Oe,Y),(Be=Ce.props&&Ce.props.onVnodeUpdated)&&No(()=>ml(Be,fe,Ce,ne),Y)}else{let Ce;const{el:Ae,props:Oe}=G,{bm:fe,m:ne,parent:Se}=W,Be=w_(G);if(Nh(W,!1),fe&&zM(fe),!Be&&(Ce=Oe&&Oe.onVnodeBeforeMount)&&ml(Ce,Se,G),Nh(W,!0),Ae&&ue){const He=()=>{W.subTree=UM(W),ue(Ae,W.subTree,W,Y,null)};Be?G.type.__asyncLoader().then(()=>!W.isUnmounted&&He()):He()}else{const He=W.subTree=UM(W);p(null,He,K,de,W,Y,oe),G.el=He.el}if(ne&&No(ne,Y),!Be&&(Ce=Oe&&Oe.onVnodeMounted)){const He=G;No(()=>ml(Ce,Se,He),Y)}(G.shapeFlag&256||Se&&w_(Se.vnode)&&Se.vnode.shapeFlag&256)&&W.a&&No(W.a,Y),W.isMounted=!0,G=K=de=null}},he=W.effect=new IF(J,()=>PF(pe),W.scope),pe=W.update=()=>he.run();pe.id=W.uid,Nh(W,!0),pe()},F=(W,G,K)=>{G.component=W;const de=W.vnode.props;W.vnode=G,W.next=null,Pye(W,G.props,de,K),Bye(W,G.children,K),py(),kH(),my()},R=(W,G,K,de,Y,oe,te,J,he=!1)=>{const pe=W&&W.children,Ce=W?W.shapeFlag:0,Ae=G.children,{patchFlag:Oe,shapeFlag:fe}=G;if(Oe>0){if(Oe&128){H(pe,Ae,K,de,Y,oe,te,J,he);return}else if(Oe&256){$(pe,Ae,K,de,Y,oe,te,J,he);return}}fe&8?(Ce&16&&q(pe,Y,oe),Ae!==pe&&c(K,Ae)):Ce&16?fe&16?H(pe,Ae,K,de,Y,oe,te,J,he):q(pe,Y,oe,!0):(Ce&8&&c(K,""),fe&16&&x(Ae,K,de,Y,oe,te,J,he))},$=(W,G,K,de,Y,oe,te,J,he)=>{W=W||Hm,G=G||Hm;const pe=W.length,Ce=G.length,Ae=Math.min(pe,Ce);let Oe;for(Oe=0;Oe<Ae;Oe++){const fe=G[Oe]=he?_d(G[Oe]):Rl(G[Oe]);p(W[Oe],fe,K,null,Y,oe,te,J,he)}pe>Ce?q(W,Y,oe,!0,!1,Ae):x(G,K,de,Y,oe,te,J,he,Ae)},H=(W,G,K,de,Y,oe,te,J,he)=>{let pe=0;const Ce=G.length;let Ae=W.length-1,Oe=Ce-1;for(;pe<=Ae&&pe<=Oe;){const fe=W[pe],ne=G[pe]=he?_d(G[pe]):Rl(G[pe]);if(Lf(fe,ne))p(fe,ne,K,null,Y,oe,te,J,he);else break;pe++}for(;pe<=Ae&&pe<=Oe;){const fe=W[Ae],ne=G[Oe]=he?_d(G[Oe]):Rl(G[Oe]);if(Lf(fe,ne))p(fe,ne,K,null,Y,oe,te,J,he);else break;Ae--,Oe--}if(pe>Ae){if(pe<=Oe){const fe=Oe+1,ne=fe<Ce?G[fe].el:de;for(;pe<=Oe;)p(null,G[pe]=he?_d(G[pe]):Rl(G[pe]),K,ne,Y,oe,te,J,he),pe++}}else if(pe>Oe)for(;pe<=Ae;)z(W[pe],Y,oe,!0),pe++;else{const fe=pe,ne=pe,Se=new Map;for(pe=ne;pe<=Oe;pe++){const Ke=G[pe]=he?_d(G[pe]):Rl(G[pe]);Ke.key!=null&&Se.set(Ke.key,pe)}let Be,He=0;const lt=Oe-ne+1;let xe=!1,Me=0;const Ne=new Array(lt);for(pe=0;pe<lt;pe++)Ne[pe]=0;for(pe=fe;pe<=Ae;pe++){const Ke=W[pe];if(He>=lt){z(Ke,Y,oe,!0);continue}let Je;if(Ke.key!=null)Je=Se.get(Ke.key);else for(Be=ne;Be<=Oe;Be++)if(Ne[Be-ne]===0&&Lf(Ke,G[Be])){Je=Be;break}Je===void 0?z(Ke,Y,oe,!0):(Ne[Je-ne]=pe+1,Je>=Me?Me=Je:xe=!0,p(Ke,G[Je],K,null,Y,oe,te,J,he),He++)}const Ge=xe?Vye(Ne):Hm;for(Be=Ge.length-1,pe=lt-1;pe>=0;pe--){const Ke=ne+pe,Je=G[Ke],Ye=Ke+1<Ce?G[Ke+1].el:de;Ne[pe]===0?p(null,Je,K,Ye,Y,oe,te,J,he):xe&&(Be<0||pe!==Ge[Be]?U(Je,K,Ye,2):Be--)}}},U=(W,G,K,de,Y=null)=>{const{el:oe,type:te,transition:J,children:he,shapeFlag:pe}=W;if(pe&6){U(W.component.subTree,G,K,de);return}if(pe&128){W.suspense.move(G,K,de);return}if(pe&64){te.move(W,G,K,Q);return}if(te===$t){i(oe,G,K);for(let Ae=0;Ae<he.length;Ae++)U(he[Ae],G,K,de);i(W.anchor,G,K);return}if(te===jM){_(W,G,K);return}if(de!==2&&pe&1&&J)if(de===0)J.beforeEnter(oe),i(oe,G,K),No(()=>J.enter(oe),Y);else{const{leave:Ae,delayLeave:Oe,afterLeave:fe}=J,ne=()=>i(oe,G,K),Se=()=>{Ae(oe,()=>{ne(),fe&&fe()})};Oe?Oe(oe,ne,Se):Se()}else i(oe,G,K)},z=(W,G,K,de=!1,Y=!1)=>{const{type:oe,props:te,ref:J,children:he,dynamicChildren:pe,shapeFlag:Ce,patchFlag:Ae,dirs:Oe}=W;if(J!=null&&GP(J,null,K,W,!0),Ce&256){G.ctx.deactivate(W);return}const fe=Ce&1&&Oe,ne=!w_(W);let Se;if(ne&&(Se=te&&te.onVnodeBeforeUnmount)&&ml(Se,G,W),Ce&6)ce(W.component,K,de);else{if(Ce&128){W.suspense.unmount(K,de);return}fe&&Ah(W,null,G,"beforeUnmount"),Ce&64?W.type.remove(W,G,K,Y,Q,de):pe&&(oe!==$t||Ae>0&&Ae&64)?q(pe,G,K,!1,!0):(oe===$t&&Ae&384||!Y&&Ce&16)&&q(he,G,K),de&&Z(W)}(ne&&(Se=te&&te.onVnodeUnmounted)||fe)&&No(()=>{Se&&ml(Se,G,W),fe&&Ah(W,null,G,"unmounted")},K)},Z=W=>{const{type:G,el:K,anchor:de,transition:Y}=W;if(G===$t){X(K,de);return}if(G===jM){b(W);return}const oe=()=>{r(K),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(W.shapeFlag&1&&Y&&!Y.persisted){const{leave:te,delayLeave:J}=Y,he=()=>te(K,oe);J?J(W.el,oe,he):he()}else oe()},X=(W,G)=>{let K;for(;W!==G;)K=h(W),r(W),W=K;r(G)},ce=(W,G,K)=>{const{bum:de,scope:Y,update:oe,subTree:te,um:J}=W;de&&zM(de),Y.stop(),oe&&(oe.active=!1,z(te,W,G,K)),J&&No(J,G),No(()=>{W.isUnmounted=!0},G),G&&G.pendingBranch&&!G.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===G.pendingId&&(G.deps--,G.deps===0&&G.resolve())},q=(W,G,K,de=!1,Y=!1,oe=0)=>{for(let te=oe;te<W.length;te++)z(W[te],G,K,de,Y)},j=W=>W.shapeFlag&6?j(W.component.subTree):W.shapeFlag&128?W.suspense.next():h(W.anchor||W.el),ie=(W,G,K)=>{W==null?G._vnode&&z(G._vnode,null,null,!0):p(G._vnode||null,W,G,null,null,null,K),kH(),Kee(),G._vnode=W},Q={p,um:z,m:U,r:Z,mt:P,mc:x,pc:R,pbc:T,n:j,o:n};let le,ue;return e&&([le,ue]=e(Q)),{render:ie,hydrate:le,createApp:Nye(ie,le)}}function Nh({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function $F(n,e,t=!1){const i=n.children,r=e.children;if(Tt(i)&&Tt(r))for(let o=0;o<i.length;o++){const s=i[o];let a=r[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[o]=_d(r[o]),a.el=s.el),t||$F(s,a)),a.type===rp&&(a.el=s.el)}}function Vye(n){const e=n.slice(),t=[0];let i,r,o,s,a;const l=n.length;for(i=0;i<l;i++){const u=n[i];if(u!==0){if(r=t[t.length-1],n[r]<u){e[i]=r,t.push(i);continue}for(o=0,s=t.length-1;o<s;)a=o+s>>1,n[t[a]]<u?o=a+1:s=a;u<n[t[o]]&&(o>0&&(e[i]=t[o-1]),t[o]=i)}}for(o=t.length,s=t[o-1];o-- >0;)t[o]=s,s=e[s];return t}const Wye=n=>n.__isTeleport,x_=n=>n&&(n.disabled||n.disabled===""),GH=n=>typeof SVGElement<"u"&&n instanceof SVGElement,KP=(n,e)=>{const t=n&&n.to;return er(t)?e?e(t):null:t},zye={__isTeleport:!0,process(n,e,t,i,r,o,s,a,l,u){const{mc:c,pc:d,pbc:h,o:{insert:f,querySelector:g,createText:p,createComment:m}}=u,v=x_(e.props);let{shapeFlag:y,children:_,dynamicChildren:b}=e;if(n==null){const S=e.el=p(""),w=e.anchor=p("");f(S,t,i),f(w,t,i);const C=e.target=KP(e.props,g),x=e.targetAnchor=p("");C&&(f(x,C),s=s||GH(C));const L=(T,I)=>{y&16&&c(_,T,I,r,o,s,a,l)};v?L(t,w):C&&L(C,x)}else{e.el=n.el;const S=e.anchor=n.anchor,w=e.target=n.target,C=e.targetAnchor=n.targetAnchor,x=x_(n.props),L=x?t:w,T=x?S:C;if(s=s||GH(w),b?(h(n.dynamicChildren,b,L,r,o,s,a),$F(n,e,!0)):l||d(n,e,L,T,r,o,s,a,!1),v)x||i1(e,t,S,u,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const I=e.target=KP(e.props,g);I&&i1(e,I,null,u,0)}else x&&i1(e,w,C,u,1)}hte(e)},remove(n,e,t,i,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:h}=n;if(d&&o(c),(s||!x_(h))&&(o(u),a&16))for(let f=0;f<l.length;f++){const g=l[f];r(g,e,t,!0,!!g.dynamicChildren)}},move:i1,hydrate:Hye};function i1(n,e,t,{o:{insert:i},m:r},o=2){o===0&&i(n.targetAnchor,e,t);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=n,d=o===2;if(d&&i(s,e,t),(!d||x_(c))&&l&16)for(let h=0;h<u.length;h++)r(u[h],e,t,2);d&&i(a,e,t)}function Hye(n,e,t,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=e.target=KP(e.props,l);if(c){const d=c._lpa||c.firstChild;if(e.shapeFlag&16)if(x_(e.props))e.anchor=u(s(n),e,a(n),t,i,r,o),e.targetAnchor=d;else{e.anchor=s(n);let h=d;for(;h;)if(h=s(h),h&&h.nodeType===8&&h.data==="teleport anchor"){e.targetAnchor=h,c._lpa=e.targetAnchor&&s(e.targetAnchor);break}u(d,e,c,t,i,r,o)}hte(e)}return e.anchor&&s(e.anchor)}const dte=zye;function hte(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const $t=Symbol.for("v-fgt"),rp=Symbol.for("v-txt"),gs=Symbol.for("v-cmt"),jM=Symbol.for("v-stc"),L_=[];let za=null;function rc(n=!1){L_.push(za=n?null:[])}function Uye(){L_.pop(),za=L_[L_.length-1]||null}let Ib=1;function KH(n){Ib+=n}function fte(n){return n.dynamicChildren=Ib>0?za||Hm:null,Uye(),Ib>0&&za&&za.push(n),n}function T_(n,e,t,i,r,o){return fte(XS(n,e,t,i,r,o,!0))}function AL(n,e,t,i,r){return fte(N(n,e,t,i,r,!0))}function Rr(n){return n?n.__v_isVNode===!0:!1}function Lf(n,e){return n.type===e.type&&n.key===e.key}const bD="__vInternal",gte=({key:n})=>n??null,hx=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?er(n)||gr(n)||Ft(n)?{i:Or,r:n,k:e,f:!!t}:n:null);function XS(n,e=null,t=null,i=0,r=null,o=n===$t?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&gte(e),ref:e&&hx(e),scopeId:Yee,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Or};return a?(VF(l,t),o&128&&n.normalize(l)):t&&(l.shapeFlag|=er(t)?8:16),Ib>0&&!s&&za&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&za.push(l),l}const N=Gye;function Gye(n,e=null,t=null,i=0,r=null,o=!1){if((!n||n===wye)&&(n=gs),Rr(n)){const a=bs(n,e,!0);return t&&VF(a,t),Ib>0&&!o&&za&&(a.shapeFlag&6?za[za.indexOf(n)]=a:za.push(a)),a.patchFlag|=-2,a}if(n0e(n)&&(n=n.__vccOpts),e){e=Kye(e);let{class:a,style:l}=e;a&&!er(a)&&(e.class=LF(a)),di(l)&&(Bee(l)&&!Tt(l)&&(l=Ji({},l)),e.style=YS(l))}const s=er(n)?1:lye(n)?128:Wye(n)?64:di(n)?4:Ft(n)?2:0;return XS(n,e,t,i,r,s,o,!0)}function Kye(n){return n?Bee(n)||bD in n?Ji({},n):n:null}function bs(n,e,t=!1){const{props:i,ref:r,patchFlag:o,children:s}=n,a=e?jye(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&gte(a),ref:e&&e.ref?t&&r?Tt(r)?r.concat(hx(e)):[r,hx(e)]:hx(e):r,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==$t?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&bs(n.ssContent),ssFallback:n.ssFallback&&bs(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Oo(n=" ",e=0){return N(rp,null,n,e)}function qM(n="",e=!1){return e?(rc(),AL(gs,null,n)):N(gs,null,n)}function Rl(n){return n==null||typeof n=="boolean"?N(gs):Tt(n)?N($t,null,n.slice()):typeof n=="object"?_d(n):N(rp,null,String(n))}function _d(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:bs(n)}function VF(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Tt(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),VF(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(bD in e)?e._ctx=Or:r===3&&Or&&(Or.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:Or},t=32):(e=String(e),i&64?(t=16,e=[Oo(e)]):t=8);n.children=e,n.shapeFlag|=t}function jye(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=LF([e.class,i.class]));else if(r==="style")e.style=YS([e.style,i.style]);else if(cD(r)){const o=e[r],s=i[r];s&&o!==s&&!(Tt(o)&&o.includes(s))&&(e[r]=o?[].concat(o,s):s)}else r!==""&&(e[r]=i[r])}return e}function ml(n,e,t,i=null){aa(n,e,7,[t,i])}const qye=ote();let Yye=0;function Xye(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||qye,o={uid:Yye++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new pve(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ate(i,r),emitsOptions:qee(i,r),emit:null,emitted:null,propsDefaults:ai,inheritAttrs:i.inheritAttrs,ctx:ai,data:ai,props:ai,attrs:ai,slots:ai,refs:ai,setupState:ai,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=iye.bind(null,o),n.ce&&n.ce(o),o}let Tr=null;const Ts=()=>Tr||Or;let WF,Pp,jH="__VUE_INSTANCE_SETTERS__";(Pp=PP()[jH])||(Pp=PP()[jH]=[]),Pp.push(n=>Tr=n),WF=n=>{Pp.length>1?Pp.forEach(e=>e(n)):Pp[0](n)};const Iv=n=>{WF(n),n.scope.on()},sg=()=>{Tr&&Tr.scope.off(),WF(null)};function pte(n){return n.vnode.shapeFlag&4}let Db=!1;function Zye(n,e=!1){Db=e;const{props:t,children:i}=n.vnode,r=pte(n);kye(n,t,r,e),Rye(n,i);const o=r?Qye(n,e):void 0;return Db=!1,o}function Qye(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Fee(new Proxy(n.ctx,Lye));const{setup:i}=t;if(i){const r=n.setupContext=i.length>1?e0e(n):null;Iv(n),py();const o=Ud(i,n,0,[n.props,r]);if(my(),sg(),See(o)){if(o.then(sg,sg),e)return o.then(s=>{qH(n,s,e)}).catch(s=>{pD(s,n,0)});n.asyncDep=o}else qH(n,o,e)}else mte(n,e)}function qH(n,e,t){Ft(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:di(e)&&(n.setupState=zee(e)),mte(n,t)}let YH;function mte(n,e,t){const i=n.type;if(!n.render){if(!e&&YH&&!i.render){const r=i.template||BF(n).template;if(r){const{isCustomElement:o,compilerOptions:s}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,u=Ji(Ji({isCustomElement:o,delimiters:a},s),l);i.render=YH(r,u)}}n.render=i.render||Xa}Iv(n),py(),Tye(n),my(),sg()}function Jye(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return Wo(n,"get","$attrs"),e[t]}}))}function e0e(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return Jye(n)},slots:n.slots,emit:n.emit,expose:e}}function SD(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(zee(Fee(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in C_)return C_[t](n)},has(e,t){return t in e||t in C_}}))}function t0e(n,e=!0){return Ft(n)?n.displayName||n.name:n.name||e&&n.__name}function n0e(n){return Ft(n)&&"__vccOpts"in n}const V=(n,e)=>Zve(n,e,Db);function NL(n,e,t){const i=arguments.length;return i===2?di(e)&&!Tt(e)?Rr(e)?N(n,null,[e]):N(n,e):N(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&Rr(t)&&(t=[t]),N(n,e,t))}const i0e=Symbol.for("v-scx"),r0e=()=>kt(i0e),o0e="3.3.4",s0e="http://www.w3.org/2000/svg",Tf=typeof document<"u"?document:null,XH=Tf&&Tf.createElement("template"),a0e={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e?Tf.createElementNS(s0e,n):Tf.createElement(n,t?{is:t}:void 0);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>Tf.createTextNode(n),createComment:n=>Tf.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Tf.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,o){const s=t?t.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===o||!(r=r.nextSibling)););else{XH.innerHTML=i?`<svg>${n}</svg>`:n;const a=XH.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function l0e(n,e,t){const i=n._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function u0e(n,e,t){const i=n.style,r=er(t);if(t&&!r){if(e&&!er(e))for(const o in e)t[o]==null&&jP(i,o,"");for(const o in t)jP(i,o,t[o])}else{const o=i.display;r?e!==t&&(i.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(i.display=o)}}const ZH=/\s*!important$/;function jP(n,e,t){if(Tt(t))t.forEach(i=>jP(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=c0e(n,e);ZH.test(t)?n.setProperty(gy(i),t.replace(ZH,""),"important"):n[i]=t}}const QH=["Webkit","Moz","ms"],YM={};function c0e(n,e){const t=YM[e];if(t)return t;let i=nu(e);if(i!=="filter"&&i in n)return YM[e]=i;i=fD(i);for(let r=0;r<QH.length;r++){const o=QH[r]+i;if(o in n)return YM[e]=o}return e}const JH="http://www.w3.org/1999/xlink";function d0e(n,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(JH,e.slice(6,e.length)):n.setAttributeNS(JH,e,t);else{const o=gve(e);t==null||o&&!xee(t)?n.removeAttribute(e):n.setAttribute(e,o?"":t)}}function h0e(n,e,t,i,r,o,s){if(e==="innerHTML"||e==="textContent"){i&&s(i,r,o),n[e]=t??"";return}const a=n.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){n._value=t;const u=a==="OPTION"?n.getAttribute("value"):n.value,c=t??"";u!==c&&(n.value=c),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const u=typeof n[e];u==="boolean"?t=xee(t):t==null&&u==="string"?(t="",l=!0):u==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function f0e(n,e,t,i){n.addEventListener(e,t,i)}function g0e(n,e,t,i){n.removeEventListener(e,t,i)}function p0e(n,e,t,i,r=null){const o=n._vei||(n._vei={}),s=o[e];if(i&&s)s.value=i;else{const[a,l]=m0e(e);if(i){const u=o[e]=_0e(i,r);f0e(n,a,u,l)}else s&&(g0e(n,a,s,l),o[e]=void 0)}}const e7=/(?:Once|Passive|Capture)$/;function m0e(n){let e;if(e7.test(n)){e={};let i;for(;i=n.match(e7);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gy(n.slice(2)),e]}let XM=0;const v0e=Promise.resolve(),y0e=()=>XM||(v0e.then(()=>XM=0),XM=Date.now());function _0e(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;aa(b0e(i,t.value),e,5,[i])};return t.value=n,t.attached=y0e(),t}function b0e(n,e){if(Tt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const t7=/^on[a-z]/,S0e=(n,e,t,i,r=!1,o,s,a,l)=>{e==="class"?l0e(n,i,r):e==="style"?u0e(n,t,i):cD(e)?SF(e)||p0e(n,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):w0e(n,e,i,r))?h0e(n,e,i,o,s,a,l):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),d0e(n,e,i,r))};function w0e(n,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in n&&t7.test(e)&&Ft(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||t7.test(e)&&er(t)?!1:e in n}const Qc="transition",Jy="animation",Vc=(n,{slots:e})=>NL(fye,C0e(n),e);Vc.displayName="Transition";const vte={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Vc.props=Ji({},Zee,vte);const kh=(n,e=[])=>{Tt(n)?n.forEach(t=>t(...e)):n&&n(...e)},n7=n=>n?Tt(n)?n.some(e=>e.length>1):n.length>1:!1;function C0e(n){const e={};for(const D in n)D in vte||(e[D]=n[D]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:o=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:c=a,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=n,g=x0e(r),p=g&&g[0],m=g&&g[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:_,onLeave:b,onLeaveCancelled:S,onBeforeAppear:w=v,onAppear:C=y,onAppearCancelled:x=_}=e,L=(D,M,P)=>{Ph(D,M?c:a),Ph(D,M?u:s),P&&P()},T=(D,M)=>{D._isLeaving=!1,Ph(D,d),Ph(D,f),Ph(D,h),M&&M()},I=D=>(M,P)=>{const k=D?C:y,O=()=>L(M,D,P);kh(k,[M,O]),i7(()=>{Ph(M,D?l:o),Jc(M,D?c:a),n7(k)||r7(M,i,p,O)})};return Ji(e,{onBeforeEnter(D){kh(v,[D]),Jc(D,o),Jc(D,s)},onBeforeAppear(D){kh(w,[D]),Jc(D,l),Jc(D,u)},onEnter:I(!1),onAppear:I(!0),onLeave(D,M){D._isLeaving=!0;const P=()=>T(D,M);Jc(D,d),I0e(),Jc(D,h),i7(()=>{D._isLeaving&&(Ph(D,d),Jc(D,f),n7(b)||r7(D,i,m,P))}),kh(b,[D,P])},onEnterCancelled(D){L(D,!1),kh(_,[D])},onAppearCancelled(D){L(D,!0),kh(x,[D])},onLeaveCancelled(D){T(D),kh(S,[D])}})}function x0e(n){if(n==null)return null;if(di(n))return[ZM(n.enter),ZM(n.leave)];{const e=ZM(n);return[e,e]}}function ZM(n){return lve(n)}function Jc(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function Ph(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function i7(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let L0e=0;function r7(n,e,t,i){const r=n._endId=++L0e,o=()=>{r===n._endId&&i()};if(t)return setTimeout(o,t);const{type:s,timeout:a,propCount:l}=T0e(n,e);if(!s)return i();const u=s+"end";let c=0;const d=()=>{n.removeEventListener(u,h),o()},h=f=>{f.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),n.addEventListener(u,h)}function T0e(n,e){const t=window.getComputedStyle(n),i=g=>(t[g]||"").split(", "),r=i(`${Qc}Delay`),o=i(`${Qc}Duration`),s=o7(r,o),a=i(`${Jy}Delay`),l=i(`${Jy}Duration`),u=o7(a,l);let c=null,d=0,h=0;e===Qc?s>0&&(c=Qc,d=s,h=o.length):e===Jy?u>0&&(c=Jy,d=u,h=l.length):(d=Math.max(s,u),c=d>0?s>u?Qc:Jy:null,h=c?c===Qc?o.length:l.length:0);const f=c===Qc&&/\b(transform|all)(,|$)/.test(i(`${Qc}Property`).toString());return{type:c,timeout:d,propCount:h,hasTransform:f}}function o7(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>s7(t)+s7(n[i])))}function s7(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function I0e(){return document.body.offsetHeight}const D0e=["ctrl","shift","alt","meta"],E0e={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>D0e.some(t=>n[`${t}Key`]&&!e.includes(t))},a7=(n,e)=>(t,...i)=>{for(let r=0;r<e.length;r++){const o=E0e[e[r]];if(o&&o(t,e))return}return n(t,...i)},zF={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):e0(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),e0(n,!0),i.enter(n)):i.leave(n,()=>{e0(n,!1)}):e0(n,e))},beforeUnmount(n,{value:e}){e0(n,e)}};function e0(n,e){n.style.display=e?n._vod:"none"}const M0e=Ji({patchProp:S0e},a0e);let l7;function yte(){return l7||(l7=Fye(M0e))}const _te=(...n)=>{yte().render(...n)},bte=(...n)=>{const e=yte().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=A0e(i);if(!r)return;const o=e._component;!Ft(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.innerHTML="";const s=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function A0e(n){return er(n)?document.querySelector(n):n}function N0e(n,e){let t;return e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(i,r){const o=r[0];return typeof e[o]<"u"?e[o]:i}),t}function E(n,e,...t){return N0e(e,t)}var QM;const fx="en";let kL=!1,PL=!1,gx=!1,Ste=!1,wte=!1,HF=!1,r1,JM=fx,k0e,fd;const li=typeof self=="object"?self:typeof global=="object"?global:{};let fi;typeof li.vscode<"u"&&typeof li.vscode.process<"u"?fi=li.vscode.process:typeof process<"u"&&(fi=process);const Cte=typeof((QM=fi==null?void 0:fi.versions)===null||QM===void 0?void 0:QM.electron)=="string"&&fi.type==="renderer",P0e=Cte&&(fi==null?void 0:fi.sandboxed),O0e=(()=>{if(P0e)return"bypassHeatCheck";const n=fi==null?void 0:fi.env.VSCODE_BROWSER_CODE_LOADING;if(typeof n=="string")return n==="none"||n==="code"||n==="bypassHeatCheck"||n==="bypassHeatCheckAndEagerCompile"?n:"bypassHeatCheck"})(),R0e=typeof O0e=="string";if(typeof navigator=="object"&&!Cte)fd=navigator.userAgent,kL=fd.indexOf("Windows")>=0,PL=fd.indexOf("Macintosh")>=0,HF=(fd.indexOf("Macintosh")>=0||fd.indexOf("iPad")>=0||fd.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,gx=fd.indexOf("Linux")>=0,wte=!0,r1=navigator.language,JM=r1;else if(typeof fi=="object"){kL=fi.platform==="win32",PL=fi.platform==="darwin",gx=fi.platform==="linux",gx&&fi.env.SNAP&&fi.env.SNAP_REVISION,r1=fx,JM=fx;const n=fi.env.VSCODE_NLS_CONFIG;if(n)try{const e=JSON.parse(n),t=e.availableLanguages["*"];r1=e.locale,JM=t||fx,k0e=e._translationsConfigFile}catch{}Ste=!0}else console.error("Unable to resolve platform.");const zo=kL,Qt=PL,Ho=gx,jm=Ste,wD=wte,Dv=HF,B0e=fd,OL=function(){if(li.setImmediate)return li.setImmediate.bind(li);if(typeof li.postMessage=="function"&&!li.importScripts){let t=[];li.addEventListener("message",r=>{if(r.data&&r.data.vscodeSetImmediateId)for(let o=0,s=t.length;o<s;o++){const a=t[o];if(a.id===r.data.vscodeSetImmediateId){t.splice(o,1),a.callback();return}}});let i=0;return r=>{const o=++i;t.push({id:o,callback:r}),li.postMessage({vscodeSetImmediateId:o},"*")}}if(typeof(fi==null?void 0:fi.nextTick)=="function")return fi.nextTick.bind(fi);const e=Promise.resolve();return t=>e.then(t)}(),Ba=PL||HF?2:kL?1:3;let u7=!0,c7=!1;function xte(){if(!c7){c7=!0;const n=new Uint8Array(2);n[0]=1,n[1]=2,u7=new Uint16Array(n.buffer)[0]===512+1}return u7}const Lte="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function F0e(n=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const t of Lte)n.indexOf(t)>=0||(e+="\\"+t);return e+="\\s]+)",new RegExp(e,"g")}const Tte=F0e();function qP(n){let e=Tte;if(n&&n instanceof RegExp)if(n.global)e=n;else{let t="g";n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),n.unicode&&(t+="u"),e=new RegExp(n.source,t)}return e.lastIndex=0,e}const $0e={maxLen:1e3,windowSize:15,timeBudget:150};function RL(n,e,t,i,r=$0e){if(t.length>r.maxLen){let u=n-r.maxLen/2;return u<0?u=0:i+=u,t=t.substring(u,n+r.maxLen/2),RL(n,e,t,i,r)}const o=Date.now(),s=n-1-i;let a=-1,l=null;for(let u=1;!(Date.now()-o>=r.timeBudget);u++){const c=s-r.windowSize*u;e.lastIndex=Math.max(0,c);const d=V0e(e,t,s,a);if(!d&&l||(l=d,c<=0))break;a=c}if(l){let u={word:l[0],startColumn:i+1+l.index,endColumn:i+1+l.index+l[0].length};return e.lastIndex=0,u}return null}function V0e(n,e,t,i){let r;for(;r=n.exec(e);){const o=r.index||0;if(o<=t&&n.lastIndex>=t)return r;if(i>0&&o>i)return null}return null}const J0=8;class Ite{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class W0e{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Dte{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class nr{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}compute(e,t,i){return i}}class vy{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class op{constructor(e,t,i,r){this.id=e,this.name=t,this.defaultValue=i,this.schema=r}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,t,i){return i}}function tt(n,e){return typeof n>"u"?e:n==="false"?!1:!!n}class wt extends op{constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="boolean",r.default=i),super(e,t,i,r)}validate(e){return tt(e,this.defaultValue)}}class In extends op{constructor(e,t,i,r,o,s=void 0){typeof s<"u"&&(s.type="integer",s.default=i,s.minimum=r,s.maximum=o),super(e,t,i,s),this.minimum=r,this.maximum=o}static clampedInt(e,t,i,r){if(typeof e>"u")return t;let o=parseInt(e,10);return isNaN(o)?t:(o=Math.max(i,o),o=Math.min(r,o),o|0)}validate(e){return In.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class Gl extends op{constructor(e,t,i,r,o){typeof o<"u"&&(o.type="number",o.default=i),super(e,t,i,o),this.validationFn=r}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if(typeof e=="number")return e;if(typeof e>"u")return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(Gl.float(e,this.defaultValue))}}class vo extends op{static string(e,t){return typeof e!="string"?t:e}constructor(e,t,i,r=void 0){typeof r<"u"&&(r.type="string",r.default=i),super(e,t,i,r)}validate(e){return vo.string(e,this.defaultValue)}}function Zr(n,e,t){return typeof n!="string"||t.indexOf(n)===-1?e:n}class hi extends op{constructor(e,t,i,r,o=void 0){typeof o<"u"&&(o.type="string",o.enum=r,o.default=i),super(e,t,i,o),this._allowedValues=r}validate(e){return Zr(e,this.defaultValue,this._allowedValues)}}class t0 extends nr{constructor(e,t,i,r,o,s,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=r),super(e,t,i,a),this._allowedValues=o,this._convert=s}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function z0e(n){switch(n){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class H0e extends nr{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[E("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),E("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),E("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:E("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return i===0?e.accessibilitySupport:i}}class U0e extends nr{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(17,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:E("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:E("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertSpace:tt(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:tt(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function G0e(n){switch(n){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var Bi;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Bi||(Bi={}));function K0e(n){switch(n){case"line":return Bi.Line;case"block":return Bi.Block;case"underline":return Bi.Underline;case"line-thin":return Bi.LineThin;case"block-outline":return Bi.BlockOutline;case"underline-thin":return Bi.UnderlineThin}}class j0e extends vy{constructor(){super(126,[64,31])}compute(e,t,i){const r=["monaco-editor"];return t.get(31)&&r.push(t.get(31)),e.extraEditorClassName&&r.push(e.extraEditorClassName),t.get(64)==="default"?r.push("mouse-default"):t.get(64)==="copy"&&r.push("mouse-copy"),t.get(99)&&r.push("showUnused"),t.get(124)&&r.push("showDeprecated"),r.join(" ")}}class q0e extends wt{constructor(){super(30,"emptySelectionClipboard",!0,{description:E("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}class Y0e extends nr{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(33,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:E("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[E("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),E("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),E("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:E("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[E("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),E("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),E("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:E("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:E("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:Qt},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:E("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:E("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{cursorMoveOnType:tt(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":Zr(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":Zr(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:tt(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:tt(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:tt(t.loop,this.defaultValue.loop)}}}class us extends nr{constructor(){super(42,"fontLigatures",us.OFF,{anyOf:[{type:"boolean",description:E("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:E("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:E("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?us.OFF:e==="true"?us.ON:e:e?us.ON:us.OFF}}us.OFF='"liga" off, "calt" off';us.ON='"liga" on, "calt" on';class X0e extends vy{constructor(){super(41)}compute(e,t,i){return e.fontInfo}}class Z0e extends op{constructor(){super(43,"fontSize",la.fontSize,{type:"number",minimum:6,maximum:100,default:la.fontSize,description:E("fontSize","Controls the font size in pixels.")})}validate(e){let t=Gl.float(e,this.defaultValue);return t===0?la.fontSize:Gl.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}class Vl extends nr{constructor(){super(44,"fontWeight",la.fontWeight,{anyOf:[{type:"number",minimum:Vl.MINIMUM_VALUE,maximum:Vl.MAXIMUM_VALUE,errorMessage:E("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Vl.SUGGESTION_VALUES}],default:la.fontWeight,description:E("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(In.clampedInt(e,la.fontWeight,Vl.MINIMUM_VALUE,Vl.MAXIMUM_VALUE))}}Vl.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];Vl.MINIMUM_VALUE=1;Vl.MAXIMUM_VALUE=1e3;class Q0e extends nr{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[E("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),E("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),E("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},i=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(48,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:E("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:E("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:E("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:E("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:E("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:E("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:i,description:E("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:i,description:E("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:i,description:E("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:i,description:E("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:i,description:E("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,r,o,s;if(!e||typeof e!="object")return this.defaultValue;const a=e;return{multiple:Zr(a.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(t=a.multipleDefinitions)!==null&&t!==void 0?t:Zr(a.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(i=a.multipleTypeDefinitions)!==null&&i!==void 0?i:Zr(a.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(r=a.multipleDeclarations)!==null&&r!==void 0?r:Zr(a.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(o=a.multipleImplementations)!==null&&o!==void 0?o:Zr(a.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(s=a.multipleReferences)!==null&&s!==void 0?s:Zr(a.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:vo.string(a.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:vo.string(a.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:vo.string(a.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:vo.string(a.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:vo.string(a.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class J0e extends nr{constructor(){const e={enabled:!0,delay:300,sticky:!0};super(51,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:E("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:E("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:E("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:tt(t.enabled,this.defaultValue.enabled),delay:In.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:tt(t.sticky,this.defaultValue.sticky)}}}class qm extends vy{constructor(){super(129,[47,56,35,63,91,58,59,93,116,119,120,121,2])}compute(e,t,i){return qm.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,r=(e.viewLineCount+i)/(e.pixelRatio*e.height),o=Math.floor(e.viewLineCount/r);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:r,minimapLineCount:o}}static _computeMinimapLayout(e,t){const i=e.outerWidth,r=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*r),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:r};const s=t.stableMinimapLayoutInput,a=s&&e.outerHeight===s.outerHeight&&e.lineHeight===s.lineHeight&&e.typicalHalfwidthCharacterWidth===s.typicalHalfwidthCharacterWidth&&e.pixelRatio===s.pixelRatio&&e.scrollBeyondLastLine===s.scrollBeyondLastLine&&e.minimap.enabled===s.minimap.enabled&&e.minimap.side===s.minimap.side&&e.minimap.size===s.minimap.size&&e.minimap.showSlider===s.minimap.showSlider&&e.minimap.renderCharacters===s.minimap.renderCharacters&&e.minimap.maxColumn===s.minimap.maxColumn&&e.minimap.scale===s.minimap.scale&&e.verticalScrollbarWidth===s.verticalScrollbarWidth&&e.isViewportWrapping===s.isViewportWrapping,l=e.lineHeight,u=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,d=e.minimap.renderCharacters;let h=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const f=e.minimap.maxColumn,g=e.minimap.size,p=e.minimap.side,m=e.verticalScrollbarWidth,v=e.viewLineCount,y=e.remainingWidth,_=e.isViewportWrapping,b=d?2:3;let S=Math.floor(o*r);const w=S/o;let C=!1,x=!1,L=b*h,T=h/o,I=1;if(g==="fill"||g==="fit"){const{typicalViewportLineCount:R,extraLinesBeyondLastLine:$,desiredRatio:H,minimapLineCount:U}=qm.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:c,height:r,lineHeight:l,pixelRatio:o});if(v/U>1)C=!0,x=!0,h=1,L=1,T=h/o;else{let Z=!1,X=h+1;if(g==="fit"){const ce=Math.ceil((v+$)*L);_&&a&&y<=t.stableFitRemainingWidth?(Z=!0,X=t.stableFitMaxMinimapScale):Z=ce>S}if(g==="fill"||Z){C=!0;const ce=h;L=Math.min(l*o,Math.max(1,Math.floor(1/H))),_&&a&&y<=t.stableFitRemainingWidth&&(X=t.stableFitMaxMinimapScale),h=Math.min(X,Math.max(1,Math.floor(L/b))),h>ce&&(I=Math.min(2,h/ce)),T=h/o/I,S=Math.ceil(Math.max(R,v+$)*L),_?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=y,t.stableFitMaxMinimapScale=h):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0)}}}const D=Math.floor(f*T),M=Math.min(D,Math.max(0,Math.floor((y-m-2)*T/(u+T)))+J0);let P=Math.floor(o*M);const k=P/o;P=Math.floor(P*I);const O=d?1:2,F=p==="left"?0:i-M-m;return{renderMinimap:O,minimapLeft:F,minimapWidth:M,minimapHeightIsEditorHeight:C,minimapIsSampling:x,minimapScale:h,minimapLineHeight:L,minimapCanvasInnerWidth:P,minimapCanvasInnerHeight:S,minimapCanvasOuterWidth:k,minimapCanvasOuterHeight:w}}static computeLayout(e,t){const i=t.outerWidth|0,r=t.outerHeight|0,o=t.lineHeight|0,s=t.lineNumbersDigitCount|0,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,u=t.pixelRatio,c=t.viewLineCount,d=e.get(121),h=d==="inherit"?e.get(120):d,f=h==="inherit"?e.get(116):h,g=e.get(119),p=e.get(2),m=t.isDominatedByLongLines,v=e.get(47),y=e.get(58).renderType!==0,_=e.get(59),b=e.get(93),S=e.get(63),w=e.get(91),C=w.verticalScrollbarSize,x=w.verticalHasArrows,L=w.arrowSize,T=w.horizontalScrollbarSize,I=e.get(56),D=e.get(35);let M;if(typeof I=="string"&&/^\d+(\.\d+)?ch$/.test(I)){const ie=parseFloat(I.substr(0,I.length-2));M=In.clampedInt(ie*a,0,0,1e3)}else M=In.clampedInt(I,0,0,1e3);D&&(M+=16);let P=0;if(y){const ie=Math.max(s,_);P=Math.round(ie*l)}let k=0;v&&(k=o);let O=0,F=O+k,R=F+P,$=R+M;const H=i-k-P-M;let U=!1,z=!1,Z=-1;p!==2&&(h==="inherit"&&m?(U=!0,z=!0):f==="on"||f==="bounded"?z=!0:f==="wordWrapColumn"&&(Z=g));const X=qm._computeMinimapLayout({outerWidth:i,outerHeight:r,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:u,scrollBeyondLastLine:b,minimap:S,verticalScrollbarWidth:C,viewLineCount:c,remainingWidth:H,isViewportWrapping:z},t.memory||new Dte);X.renderMinimap!==0&&X.minimapLeft===0&&(O+=X.minimapWidth,F+=X.minimapWidth,R+=X.minimapWidth,$+=X.minimapWidth);const ce=H-X.minimapWidth,q=Math.max(1,Math.floor((ce-C-2)/a)),j=x?L:0;return z&&(Z=Math.max(1,q),f==="bounded"&&(Z=Math.min(Z,g))),{width:i,height:r,glyphMarginLeft:O,glyphMarginWidth:k,lineNumbersLeft:F,lineNumbersWidth:P,decorationsLeft:R,decorationsWidth:M,contentLeft:$,contentWidth:ce,minimap:X,viewportColumn:q,isWordWrapMinified:U,isViewportWrapping:z,wrappingColumn:Z,verticalScrollbarWidth:C,horizontalScrollbarHeight:T,overviewRuler:{top:j,width:C,height:r-2*j,right:0}}}}class e_e extends nr{constructor(){const e={enabled:!0};super(55,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:E("codeActions","Enables the code action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:tt(e.enabled,this.defaultValue.enabled)}}}class t_e extends nr{constructor(){const e={enabled:!0,fontSize:0,fontFamily:""};super(125,"inlayHints",e,{"editor.inlayHints.enabled":{type:"boolean",default:e.enabled,description:E("inlayHints.enable","Enables the inlay hints in the editor.")},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:E("inlayHints.fontSize","Controls font size of inlay hints in the editor. When set to `0`, the 90% of `#editor.fontSize#` is used.")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,description:E("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:tt(t.enabled,this.defaultValue.enabled),fontSize:In.clampedInt(t.fontSize,this.defaultValue.fontSize,0,100),fontFamily:vo.string(t.fontFamily,this.defaultValue.fontFamily)}}}class n_e extends Gl{constructor(){super(57,"lineHeight",la.lineHeight,e=>Gl.clamp(e,0,150),{markdownDescription:E("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,t,i){return e.fontInfo.lineHeight}}class i_e extends nr{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(63,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:E("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[E("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),E("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),E("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:E("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:E("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:E("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:E("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:E("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:E("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:tt(t.enabled,this.defaultValue.enabled),size:Zr(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:Zr(t.side,this.defaultValue.side,["right","left"]),showSlider:Zr(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:tt(t.renderCharacters,this.defaultValue.renderCharacters),scale:In.clampedInt(t.scale,1,1,3),maxColumn:In.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function r_e(n){return n==="ctrlCmd"?Qt?"metaKey":"ctrlKey":"altKey"}class o_e extends nr{constructor(){super(73,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:E("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:E("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{top:In.clampedInt(t.top,0,0,1e3),bottom:In.clampedInt(t.bottom,0,0,1e3)}}}class s_e extends nr{constructor(){const e={enabled:!0,cycle:!1};super(74,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:E("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:E("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:tt(t.enabled,this.defaultValue.enabled),cycle:tt(t.cycle,this.defaultValue.cycle)}}}class a_e extends vy{constructor(){super(127)}compute(e,t,i){return e.pixelRatio}}class l_e extends nr{constructor(){const e={other:!0,comments:!1,strings:!1};super(77,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:E("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:E("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:E("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:e,description:E("quickSuggestions","Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if(typeof e=="boolean")return e;if(e&&typeof e=="object"){const t=e,i={other:tt(t.other,this.defaultValue.other),comments:tt(t.comments,this.defaultValue.comments),strings:tt(t.strings,this.defaultValue.strings)};return i.other&&i.comments&&i.strings?!0:!i.other&&!i.comments&&!i.strings?!1:i}return this.defaultValue}}class u_e extends nr{constructor(){super(58,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[E("lineNumbers.off","Line numbers are not rendered."),E("lineNumbers.on","Line numbers are rendered as absolute number."),E("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),E("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:E("lineNumbers","Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(t=4,i=e):e==="interval"?t=3:e==="relative"?t=2:e==="on"?t=1:t=0),{renderType:t,renderFn:i}}}function UF(n){const e=n.get(86);return e==="editable"?n.get(79):e!=="on"}class c_e extends nr{constructor(){const e=[],t={type:"number",description:E("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(90,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:E("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:E("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if(typeof i=="number")t.push({column:In.clampedInt(i,0,0,1e4),color:null});else if(i&&typeof i=="object"){const r=i;t.push({column:In.clampedInt(r.column,0,0,1e4),color:r.color})}return t.sort((i,r)=>i.column-r.column),t}return this.defaultValue}}function d7(n,e){if(typeof n!="string")return e;switch(n){case"hidden":return 2;case"visible":return 3;default:return 1}}let d_e=class extends nr{constructor(){const e={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(91,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),E("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),E("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:E("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[E("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),E("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),E("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:E("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:E("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:E("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:E("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e,i=In.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),r=In.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:In.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:d7(t.vertical,this.defaultValue.vertical),horizontal:d7(t.horizontal,this.defaultValue.horizontal),useShadows:tt(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:tt(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:tt(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:tt(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:tt(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:In.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:r,verticalSliderSize:In.clampedInt(t.verticalSliderSize,r,0,1e3),scrollByPage:tt(t.scrollByPage,this.defaultValue.scrollByPage)}}};class h_e extends nr{constructor(){const e={enabled:!1,mode:"subwordSmart"};super(53,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:E("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.mode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[E("inlineSuggest.mode.prefix","Only render an inline suggestion if the replace text is a prefix of the insert text."),E("inlineSuggest.mode.subword","Only render an inline suggestion if the replace text is a subword of the insert text."),E("inlineSuggest.mode.subwordSmart","Only render an inline suggestion if the replace text is a subword of the insert text, but the subword must start after the cursor.")],default:e.mode,description:E("inlineSuggest.mode","Controls which mode to use for rendering inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{enabled:tt(t.enabled,this.defaultValue.enabled),mode:Zr(t.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class f_e extends nr{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(105,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[E("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),E("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:E("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:E("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:E("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:E("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:E("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:E("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:E("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:E("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.previewMode":{type:"string",enum:["prefix","subword","subwordSmart"],enumDescriptions:[E("suggest.previewMode.prefix","Only render a preview if the replace text is a prefix of the insert text."),E("suggest.previewMode.subword","Only render a preview if the replace text is a subword of the insert text."),E("suggest.previewMode.subwordSmart","Render a preview if the replace text is a subword of the insert text, or if it is a prefix of the insert text.")],default:e.previewMode,description:E("suggest.previewMode","Controls which mode to use for rendering the suggest preview.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:E("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:E("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:E("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:E("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const t=e;return{insertMode:Zr(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:tt(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:tt(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:tt(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:tt(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:tt(t.showIcons,this.defaultValue.showIcons),showStatusBar:tt(t.showStatusBar,this.defaultValue.showStatusBar),preview:tt(t.preview,this.defaultValue.preview),previewMode:Zr(t.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:tt(t.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:tt(t.showMethods,this.defaultValue.showMethods),showFunctions:tt(t.showFunctions,this.defaultValue.showFunctions),showConstructors:tt(t.showConstructors,this.defaultValue.showConstructors),showDeprecated:tt(t.showDeprecated,this.defaultValue.showDeprecated),showFields:tt(t.showFields,this.defaultValue.showFields),showVariables:tt(t.showVariables,this.defaultValue.showVariables),showClasses:tt(t.showClasses,this.defaultValue.showClasses),showStructs:tt(t.showStructs,this.defaultValue.showStructs),showInterfaces:tt(t.showInterfaces,this.defaultValue.showInterfaces),showModules:tt(t.showModules,this.defaultValue.showModules),showProperties:tt(t.showProperties,this.defaultValue.showProperties),showEvents:tt(t.showEvents,this.defaultValue.showEvents),showOperators:tt(t.showOperators,this.defaultValue.showOperators),showUnits:tt(t.showUnits,this.defaultValue.showUnits),showValues:tt(t.showValues,this.defaultValue.showValues),showConstants:tt(t.showConstants,this.defaultValue.showConstants),showEnums:tt(t.showEnums,this.defaultValue.showEnums),showEnumMembers:tt(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:tt(t.showKeywords,this.defaultValue.showKeywords),showWords:tt(t.showWords,this.defaultValue.showWords),showColors:tt(t.showColors,this.defaultValue.showColors),showFiles:tt(t.showFiles,this.defaultValue.showFiles),showReferences:tt(t.showReferences,this.defaultValue.showReferences),showFolders:tt(t.showFolders,this.defaultValue.showFolders),showTypeParameters:tt(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:tt(t.showSnippets,this.defaultValue.showSnippets),showUsers:tt(t.showUsers,this.defaultValue.showUsers),showIssues:tt(t.showIssues,this.defaultValue.showIssues)}}}class g_e extends nr{constructor(){super(101,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:E("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:tt(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class p_e extends vy{constructor(){super(128,[79])}compute(e,t,i){return t.get(79)?!0:e.tabFocusMode}}function m_e(n){switch(n){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class v_e extends vy{constructor(){super(130,[129])}compute(e,t,i){const r=t.get(129);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:r.isWordWrapMinified,isViewportWrapping:r.isViewportWrapping,wrappingColumn:r.wrappingColumn}}}const y_e="Consolas, 'Courier New', monospace",__e="Menlo, Monaco, 'Courier New', monospace",b_e="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",la={fontFamily:Qt?__e:Ho?b_e:y_e,fontWeight:"normal",fontSize:Qt?12:14,lineHeight:0,letterSpacing:0},_o={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},Dm=[];function Le(n){return Dm[n.id]=n,n}const sp={acceptSuggestionOnCommitCharacter:Le(new wt(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:E("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:Le(new hi(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",E("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:E("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:Le(new H0e),accessibilityPageSize:Le(new In(3,"accessibilityPageSize",10,1,1073741824,{description:E("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:Le(new vo(4,"ariaLabel",E("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:Le(new hi(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),E("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:E("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:Le(new hi(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",E("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:E("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:Le(new hi(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",E("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:E("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:Le(new hi(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",E("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),E("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:E("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:Le(new t0(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],z0e,{enumDescriptions:[E("editor.autoIndent.none","The editor will not insert indentation automatically."),E("editor.autoIndent.keep","The editor will keep the current line's indentation."),E("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),E("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),E("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:E("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:Le(new wt(10,"automaticLayout",!1)),autoSurround:Le(new hi(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[E("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),E("editor.autoSurround.quotes","Surround with quotes but not brackets."),E("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:E("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),stickyTabStops:Le(new wt(103,"stickyTabStops",!1,{description:E("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:Le(new wt(12,"codeLens",!0,{description:E("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:Le(new vo(13,"codeLensFontFamily","",{description:E("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:Le(new In(14,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:E("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.")})),colorDecorators:Le(new wt(15,"colorDecorators",!0,{description:E("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:Le(new wt(16,"columnSelection",!1,{description:E("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:Le(new U0e),contextmenu:Le(new wt(18,"contextmenu",!0)),copyWithSyntaxHighlighting:Le(new wt(19,"copyWithSyntaxHighlighting",!0,{description:E("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:Le(new t0(20,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],G0e,{description:E("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:Le(new wt(21,"cursorSmoothCaretAnimation",!1,{description:E("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:Le(new t0(22,"cursorStyle",Bi.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],K0e,{description:E("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:Le(new In(23,"cursorSurroundingLines",0,0,1073741824,{description:E("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:Le(new hi(24,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[E("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),E("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:E("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:Le(new In(25,"cursorWidth",0,0,1073741824,{markdownDescription:E("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:Le(new wt(26,"disableLayerHinting",!1)),disableMonospaceOptimizations:Le(new wt(27,"disableMonospaceOptimizations",!1)),domReadOnly:Le(new wt(28,"domReadOnly",!1)),dragAndDrop:Le(new wt(29,"dragAndDrop",!0,{description:E("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:Le(new q0e),extraEditorClassName:Le(new vo(31,"extraEditorClassName","")),fastScrollSensitivity:Le(new Gl(32,"fastScrollSensitivity",5,n=>n<=0?5:n,{markdownDescription:E("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:Le(new Y0e),fixedOverflowWidgets:Le(new wt(34,"fixedOverflowWidgets",!1)),folding:Le(new wt(35,"folding",!0,{description:E("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:Le(new hi(36,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[E("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),E("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:E("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:Le(new wt(37,"foldingHighlight",!0,{description:E("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:Le(new wt(38,"foldingImportsByDefault",!1,{description:E("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),unfoldOnClickAfterEndOfLine:Le(new wt(39,"unfoldOnClickAfterEndOfLine",!1,{description:E("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:Le(new vo(40,"fontFamily",la.fontFamily,{description:E("fontFamily","Controls the font family.")})),fontInfo:Le(new X0e),fontLigatures2:Le(new us),fontSize:Le(new Z0e),fontWeight:Le(new Vl),formatOnPaste:Le(new wt(45,"formatOnPaste",!1,{description:E("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:Le(new wt(46,"formatOnType",!1,{description:E("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:Le(new wt(47,"glyphMargin",!0,{description:E("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:Le(new Q0e),hideCursorInOverviewRuler:Le(new wt(49,"hideCursorInOverviewRuler",!1,{description:E("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:Le(new wt(50,"highlightActiveIndentGuide",!0,{description:E("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:Le(new J0e),inDiffEditor:Le(new wt(52,"inDiffEditor",!1)),letterSpacing:Le(new Gl(54,"letterSpacing",la.letterSpacing,n=>Gl.clamp(n,-5,20),{description:E("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:Le(new e_e),lineDecorationsWidth:Le(new op(56,"lineDecorationsWidth",10)),lineHeight:Le(new n_e),lineNumbers:Le(new u_e),lineNumbersMinChars:Le(new In(59,"lineNumbersMinChars",5,1,300)),linkedEditing:Le(new wt(60,"linkedEditing",!1,{description:E("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:Le(new wt(61,"links",!0,{description:E("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:Le(new hi(62,"matchBrackets","always",["always","near","never"],{description:E("matchBrackets","Highlight matching brackets.")})),minimap:Le(new i_e),mouseStyle:Le(new hi(64,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Le(new Gl(65,"mouseWheelScrollSensitivity",1,n=>n===0?1:n,{markdownDescription:E("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:Le(new wt(66,"mouseWheelZoom",!1,{markdownDescription:E("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:Le(new wt(67,"multiCursorMergeOverlapping",!0,{description:E("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:Le(new t0(68,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],r_e,{markdownEnumDescriptions:[E("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:E({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:Le(new hi(69,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[E("multiCursorPaste.spread","Each cursor pastes a single line of the text."),E("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:E("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:Le(new wt(70,"occurrencesHighlight",!0,{description:E("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:Le(new wt(71,"overviewRulerBorder",!0,{description:E("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:Le(new In(72,"overviewRulerLanes",3,0,3)),padding:Le(new o_e),parameterHints:Le(new s_e),peekWidgetDefaultFocus:Le(new hi(75,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[E("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),E("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:E("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:Le(new wt(76,"definitionLinkOpensInPeek",!1,{description:E("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:Le(new l_e),quickSuggestionsDelay:Le(new In(78,"quickSuggestionsDelay",10,0,1073741824,{description:E("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:Le(new wt(79,"readOnly",!1)),renameOnType:Le(new wt(80,"renameOnType",!1,{description:E("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:E("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:Le(new wt(81,"renderControlCharacters",!1,{description:E("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:Le(new wt(82,"renderIndentGuides",!0,{description:E("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:Le(new wt(83,"renderFinalNewline",!0,{description:E("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:Le(new hi(84,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",E("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:E("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:Le(new wt(85,"renderLineHighlightOnlyWhenFocus",!1,{description:E("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:Le(new hi(86,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Le(new hi(87,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",E("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),E("renderWhitespace.selection","Render whitespace characters only on selected text."),E("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:E("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:Le(new In(88,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:Le(new wt(89,"roundedSelection",!0,{description:E("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:Le(new c_e),scrollbar:Le(new d_e),scrollBeyondLastColumn:Le(new In(92,"scrollBeyondLastColumn",5,0,1073741824,{description:E("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:Le(new wt(93,"scrollBeyondLastLine",!0,{description:E("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:Le(new wt(94,"scrollPredominantAxis",!0,{description:E("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:Le(new wt(95,"selectionClipboard",!0,{description:E("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Ho})),selectionHighlight:Le(new wt(96,"selectionHighlight",!0,{description:E("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:Le(new wt(97,"selectOnLineNumbers",!0)),showFoldingControls:Le(new hi(98,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[E("showFoldingControls.always","Always show the folding controls."),E("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:E("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:Le(new wt(99,"showUnused",!0,{description:E("showUnused","Controls fading out of unused code.")})),showDeprecated:Le(new wt(124,"showDeprecated",!0,{description:E("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:Le(new t_e),snippetSuggestions:Le(new hi(100,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[E("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),E("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),E("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),E("snippetSuggestions.none","Do not show snippet suggestions.")],description:E("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:Le(new g_e),smoothScrolling:Le(new wt(102,"smoothScrolling",!1,{description:E("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:Le(new In(104,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Le(new f_e),inlineSuggest:Le(new h_e),suggestFontSize:Le(new In(106,"suggestFontSize",0,0,1e3,{markdownDescription:E("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:Le(new In(107,"suggestLineHeight",0,0,1e3,{markdownDescription:E("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.")})),suggestOnTriggerCharacters:Le(new wt(108,"suggestOnTriggerCharacters",!0,{description:E("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:Le(new hi(109,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[E("suggestSelection.first","Always select the first suggestion."),E("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),E("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:E("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:Le(new hi(110,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[E("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),E("tabCompletion.off","Disable tab completions."),E("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:E("tabCompletion","Enables tab completions.")})),tabIndex:Le(new In(111,"tabIndex",0,-1,1073741824)),unusualLineTerminators:Le(new hi(112,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[E("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),E("unusualLineTerminators.off","Unusual line terminators are ignored."),E("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:E("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:Le(new wt(113,"useShadowDOM",!0)),useTabStops:Le(new wt(114,"useTabStops",!0,{description:E("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:Le(new vo(115,"wordSeparators",Lte,{description:E("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:Le(new hi(116,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[E("wordWrap.off","Lines will never wrap."),E("wordWrap.on","Lines will wrap at the viewport width."),E({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),E({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:E({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:Le(new vo(117,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:Le(new vo(118,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:Le(new In(119,"wordWrapColumn",80,1,1073741824,{markdownDescription:E({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:Le(new hi(120,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Le(new hi(121,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:Le(new t0(122,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],m_e,{enumDescriptions:[E("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),E("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),E("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),E("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:E("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:Le(new hi(123,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[E("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),E("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:E("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:Le(new j0e),pixelRatio:Le(new a_e),tabFocusMode:Le(new p_e),layoutInfo:Le(new qm),wrappingInfo:Le(new v_e)};class S_e{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{throw e.stack?new Error(e.message+`

`+e.stack):e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const Ete=new S_e;function Rn(n){QS(n)||Ete.onUnexpectedError(n)}function ZS(n){QS(n)||Ete.onUnexpectedExternalError(n)}function h7(n){if(n instanceof Error){let{name:e,message:t}=n;const i=n.stacktrace||n.stack;return{$isError:!0,name:e,message:t,stack:i}}return n}const YP="Canceled";function QS(n){return n instanceof Error&&n.name===YP&&n.message===YP}function CD(){const n=new Error(YP);return n.name=n.message,n}function JS(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function w_e(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}function Dg(n){const e=this;let t=!1,i;return function(){return t||(t=!0,i=n.apply(e,arguments)),i}}var At;(function(n){function e(y){return y&&typeof y=="object"&&typeof y[Symbol.iterator]=="function"}n.is=e;const t=Object.freeze([]);function i(){return t}n.empty=i;function*r(y){yield y}n.single=r;function o(y){return y||t}n.from=o;function s(y){return!y||y[Symbol.iterator]().next().done===!0}n.isEmpty=s;function a(y){return y[Symbol.iterator]().next().value}n.first=a;function l(y,_){for(const b of y)if(_(b))return!0;return!1}n.some=l;function u(y,_){for(const b of y)if(_(b))return b}n.find=u;function*c(y,_){for(const b of y)_(b)&&(yield b)}n.filter=c;function*d(y,_){let b=0;for(const S of y)yield _(S,b++)}n.map=d;function*h(...y){for(const _ of y)for(const b of _)yield b}n.concat=h;function*f(y){for(const _ of y)for(const b of _)yield b}n.concatNested=f;function g(y,_,b){let S=b;for(const w of y)S=_(S,w);return S}n.reduce=g;function*p(y,_,b=y.length){for(_<0&&(_+=y.length),b<0?b+=y.length:b>y.length&&(b=y.length);_<b;_++)yield y[_]}n.slice=p;function m(y,_=Number.POSITIVE_INFINITY){const b=[];if(_===0)return[b,y];const S=y[Symbol.iterator]();for(let w=0;w<_;w++){const C=S.next();if(C.done)return[b,n.empty()];b.push(C.value)}return[b,{[Symbol.iterator](){return S}}]}n.consume=m;function v(y,_,b=(S,w)=>S===w){const S=y[Symbol.iterator](),w=_[Symbol.iterator]();for(;;){const C=S.next(),x=w.next();if(C.done!==x.done)return!1;if(C.done)return!0;if(!b(C.value,x.value))return!1}}n.equals=v})(At||(At={}));class C_e extends Error{constructor(e){super(`Encountered errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function x_e(n){return typeof n.dispose=="function"&&n.dispose.length===0}function Bn(n){if(At.is(n)){let e=[];for(const t of n)if(t)try{t.dispose()}catch(i){e.push(i)}if(e.length===1)throw e[0];if(e.length>1)throw new C_e(e);return Array.isArray(n)?[]:n}else if(n)return n.dispose(),n}function Ym(...n){return Tn(()=>Bn(n))}function Tn(n){return{dispose:Dg(()=>{n()})}}class St{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){try{Bn(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?St.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}St.DISABLE_DISPOSED_WARNING=!1;class Pe{constructor(){this._store=new St,this._store}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}Pe.None=Object.freeze({dispose(){}});class L_e{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||((t=this._value)===null||t===void 0||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,(e=this._value)===null||e===void 0||e.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e}}class T_e{constructor(e){this.object=e}dispose(){}}let oi=class XP{constructor(e){this.element=e,this.next=XP.Undefined,this.prev=XP.Undefined}};oi.Undefined=new oi(void 0);let ta=class{constructor(){this._first=oi.Undefined,this._last=oi.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===oi.Undefined}clear(){let e=this._first;for(;e!==oi.Undefined;){const t=e.next;e.prev=oi.Undefined,e.next=oi.Undefined,e=t}this._first=oi.Undefined,this._last=oi.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new oi(e);if(this._first===oi.Undefined)this._first=i,this._last=i;else if(t){const o=this._last;this._last=i,i.prev=o,o.next=i}else{const o=this._first;this._first=i,i.next=o,o.prev=i}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(i))}}shift(){if(this._first!==oi.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==oi.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==oi.Undefined&&e.next!==oi.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===oi.Undefined&&e.next===oi.Undefined?(this._first=oi.Undefined,this._last=oi.Undefined):e.next===oi.Undefined?(this._last=this._last.prev,this._last.next=oi.Undefined):e.prev===oi.Undefined&&(this._first=this._first.next,this._first.prev=oi.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==oi.Undefined;)yield e.element,e=e.next}};const I_e=li.performance&&typeof li.performance.now=="function";class yy{constructor(e){this._highResolution=I_e&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new yy(e)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?li.performance.now():Date.now()}}var Ze;(function(n){n.None=()=>Pe.None;function e(y){return(_,b=null,S)=>{let w=!1,C;return C=y(x=>{if(!w)return C?C.dispose():w=!0,_.call(b,x)},null,S),w&&C.dispose(),C}}n.once=e;function t(y,_){return l((b,S=null,w)=>y(C=>b.call(S,_(C)),null,w))}n.map=t;function i(y,_){return l((b,S=null,w)=>y(C=>{_(C),b.call(S,C)},null,w))}n.forEach=i;function r(y,_){return l((b,S=null,w)=>y(C=>_(C)&&b.call(S,C),null,w))}n.filter=r;function o(y){return y}n.signal=o;function s(...y){return(_,b=null,S)=>Ym(...y.map(w=>w(C=>_.call(b,C),null,S)))}n.any=s;function a(y,_,b){let S=b;return t(y,w=>(S=_(S,w),S))}n.reduce=a;function l(y){let _;const b=new ae({onFirstListenerAdd(){_=y(b.fire,b)},onLastListenerRemove(){_.dispose()}});return b.event}function u(y,_,b=100,S=!1,w){let C,x,L,T=0;const I=new ae({leakWarningThreshold:w,onFirstListenerAdd(){C=y(D=>{T++,x=_(x,D),S&&!L&&(I.fire(x),x=void 0),clearTimeout(L),L=setTimeout(()=>{const M=x;x=void 0,L=void 0,(!S||T>1)&&I.fire(M),T=0},b)})},onLastListenerRemove(){C.dispose()}});return I.event}n.debounce=u;function c(y,_=(b,S)=>b===S){let b=!0,S;return r(y,w=>{const C=b||!_(w,S);return b=!1,S=w,C})}n.latch=c;function d(y,_){return[n.filter(y,_),n.filter(y,b=>!_(b))]}n.split=d;function h(y,_=!1,b=[]){let S=b.slice(),w=y(L=>{S?S.push(L):x.fire(L)});const C=()=>{S&&S.forEach(L=>x.fire(L)),S=null},x=new ae({onFirstListenerAdd(){w||(w=y(L=>x.fire(L)))},onFirstListenerDidAdd(){S&&(_?setTimeout(C):C())},onLastListenerRemove(){w&&w.dispose(),w=null}});return x.event}n.buffer=h;class f{constructor(_){this.event=_}map(_){return new f(t(this.event,_))}forEach(_){return new f(i(this.event,_))}filter(_){return new f(r(this.event,_))}reduce(_,b){return new f(a(this.event,_,b))}latch(){return new f(c(this.event))}debounce(_,b=100,S=!1,w){return new f(u(this.event,_,b,S,w))}on(_,b,S){return this.event(_,b,S)}once(_,b,S){return e(this.event)(_,b,S)}}function g(y){return new f(y)}n.chain=g;function p(y,_,b=S=>S){const S=(...L)=>x.fire(b(...L)),w=()=>y.on(_,S),C=()=>y.removeListener(_,S),x=new ae({onFirstListenerAdd:w,onLastListenerRemove:C});return x.event}n.fromNodeEventEmitter=p;function m(y,_,b=S=>S){const S=(...L)=>x.fire(b(...L)),w=()=>y.addEventListener(_,S),C=()=>y.removeEventListener(_,S),x=new ae({onFirstListenerAdd:w,onLastListenerRemove:C});return x.event}n.fromDOMEventEmitter=m;function v(y){return new Promise(_=>e(y)(_))}n.toPromise=v})(Ze||(Ze={}));class xD{constructor(e){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${e}_${xD._idPool++}`}start(e){this._stopWatch=new yy(!0),this._listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this._elapsedOverall+=e,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${e.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}xD._idPool=0;let ae=class{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._perfMon=!((t=this._options)===null||t===void 0)&&t._profName?new xD(this._options._profName):void 0}get event(){return this._event||(this._event=(e,t,i)=>{var r;this._listeners||(this._listeners=new ta);const o=this._listeners.isEmpty();o&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const s=this._listeners.push(t?[e,t]:e);o&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t);const a=(r=this._leakageMon)===null||r===void 0?void 0:r.check(this._listeners.size),l=Tn(()=>{a&&a(),this._disposed||(s(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return i instanceof St?i.add(l):Array.isArray(i)&&i.push(l),l}),this._event}fire(e){var t,i;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new ta);for(let r of this._listeners)this._deliveryQueue.push([r,e]);for((t=this._perfMon)===null||t===void 0||t.start(this._deliveryQueue.size);this._deliveryQueue.size>0;){const[r,o]=this._deliveryQueue.shift();try{typeof r=="function"?r.call(void 0,o):r[0].call(r[1],o)}catch(s){Rn(s)}}(i=this._perfMon)===null||i===void 0||i.stop()}}dispose(){var e,t,i,r,o;this._disposed||(this._disposed=!0,(e=this._listeners)===null||e===void 0||e.clear(),(t=this._deliveryQueue)===null||t===void 0||t.clear(),(r=(i=this._options)===null||i===void 0?void 0:i.onLastListenerRemove)===null||r===void 0||r.call(i),(o=this._leakageMon)===null||o===void 0||o.dispose())}};class BL extends ae{constructor(e){super(e),this._isPaused=0,this._eventQueue=new ta,this._mergeFn=e==null?void 0:e.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class D_e extends BL{constructor(e){var t;super(e),this._delay=(t=e.delay)!==null&&t!==void 0?t:100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class GF{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,r)=>e(o=>{const s=this.buffers[this.buffers.length-1];s?s.push(()=>t.call(i,o)):t.call(i,o)},void 0,r)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(r=>r()),i}}class f7{constructor(){this.listening=!1,this.inputEvent=Ze.None,this.inputEventListener=Pe.None,this.emitter=new ae({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const Mte=Object.freeze(function(n,e){const t=setTimeout(n.bind(e),0);return{dispose(){clearTimeout(t)}}});var Uo;(function(n){function e(t){return t===n.None||t===n.Cancelled||t instanceof px?!0:!t||typeof t!="object"?!1:typeof t.isCancellationRequested=="boolean"&&typeof t.onCancellationRequested=="function"}n.isCancellationToken=e,n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ze.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Mte})})(Uo||(Uo={}));class px{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Mte:(this._emitter||(this._emitter=new ae),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class _y{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new px),this._token}cancel(){this._token?this._token instanceof px&&this._token.cancel():this._token=Uo.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof px&&this._token.dispose():this._token=Uo.None}}class KF{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const ZP=new KF,QP=new KF,JP=new KF;(function(){function n(e,t,i=t,r=i){ZP.define(e,t),QP.define(e,i),JP.define(e,r)}n(0,"unknown"),n(1,"Backspace"),n(2,"Tab"),n(3,"Enter"),n(4,"Shift"),n(5,"Ctrl"),n(6,"Alt"),n(7,"PauseBreak"),n(8,"CapsLock"),n(9,"Escape"),n(10,"Space"),n(11,"PageUp"),n(12,"PageDown"),n(13,"End"),n(14,"Home"),n(15,"LeftArrow","Left"),n(16,"UpArrow","Up"),n(17,"RightArrow","Right"),n(18,"DownArrow","Down"),n(19,"Insert"),n(20,"Delete"),n(21,"0"),n(22,"1"),n(23,"2"),n(24,"3"),n(25,"4"),n(26,"5"),n(27,"6"),n(28,"7"),n(29,"8"),n(30,"9"),n(31,"A"),n(32,"B"),n(33,"C"),n(34,"D"),n(35,"E"),n(36,"F"),n(37,"G"),n(38,"H"),n(39,"I"),n(40,"J"),n(41,"K"),n(42,"L"),n(43,"M"),n(44,"N"),n(45,"O"),n(46,"P"),n(47,"Q"),n(48,"R"),n(49,"S"),n(50,"T"),n(51,"U"),n(52,"V"),n(53,"W"),n(54,"X"),n(55,"Y"),n(56,"Z"),n(57,"Meta"),n(58,"ContextMenu"),n(59,"F1"),n(60,"F2"),n(61,"F3"),n(62,"F4"),n(63,"F5"),n(64,"F6"),n(65,"F7"),n(66,"F8"),n(67,"F9"),n(68,"F10"),n(69,"F11"),n(70,"F12"),n(71,"F13"),n(72,"F14"),n(73,"F15"),n(74,"F16"),n(75,"F17"),n(76,"F18"),n(77,"F19"),n(78,"NumLock"),n(79,"ScrollLock"),n(80,";",";","OEM_1"),n(81,"=","=","OEM_PLUS"),n(82,",",",","OEM_COMMA"),n(83,"-","-","OEM_MINUS"),n(84,".",".","OEM_PERIOD"),n(85,"/","/","OEM_2"),n(86,"`","`","OEM_3"),n(110,"ABNT_C1"),n(111,"ABNT_C2"),n(87,"[","[","OEM_4"),n(88,"\\","\\","OEM_5"),n(89,"]","]","OEM_6"),n(90,"'","'","OEM_7"),n(91,"OEM_8"),n(92,"OEM_102"),n(93,"NumPad0"),n(94,"NumPad1"),n(95,"NumPad2"),n(96,"NumPad3"),n(97,"NumPad4"),n(98,"NumPad5"),n(99,"NumPad6"),n(100,"NumPad7"),n(101,"NumPad8"),n(102,"NumPad9"),n(103,"NumPad_Multiply"),n(104,"NumPad_Add"),n(105,"NumPad_Separator"),n(106,"NumPad_Subtract"),n(107,"NumPad_Decimal"),n(108,"NumPad_Divide")})();var Xm;(function(n){function e(s){return ZP.keyCodeToStr(s)}n.toString=e;function t(s){return ZP.strToKeyCode(s)}n.fromString=t;function i(s){return QP.keyCodeToStr(s)}n.toUserSettingsUS=i;function r(s){return JP.keyCodeToStr(s)}n.toUserSettingsGeneral=r;function o(s){return QP.strToKeyCode(s)||JP.strToKeyCode(s)}n.fromUserSettings=o})(Xm||(Xm={}));function E_e(n,e){const t=(e&65535)<<16>>>0;return(n|t)>>>0}function eO(n,e){if(n===0)return null;const t=(n&65535)>>>0,i=(n&4294901760)>>>16;return i!==0?new tO([eA(t,e),eA(i,e)]):new tO([eA(t,e)])}function eA(n,e){const t=!!(n&2048),i=!!(n&256),r=e===2?i:t,o=!!(n&1024),s=!!(n&512),a=e===2?t:i,l=n&255;return new jF(r,o,s,a,l)}class jF{constructor(e,t,i,r,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyCode=o}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new tO([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class tO{constructor(e){if(e.length===0)throw JS("parts");this.parts=e}}class M_e{constructor(e,t,i,r,o,s){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=r,this.keyLabel=o,this.keyAriaLabel=s}}class A_e{}let Zm;if(typeof li.vscode<"u"&&typeof li.vscode.process<"u"){const n=li.vscode.process;Zm={get platform(){return n.platform},get env(){return n.env},cwd(){return n.cwd()},nextTick(e){return OL(e)}}}else typeof process<"u"?Zm={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(n){return process.nextTick(n)}}:Zm={get platform(){return zo?"win32":Qt?"darwin":"linux"},nextTick(n){return OL(n)},get env(){return{}},cwd(){return"/"}};const nO=Zm.cwd,N_e=Zm.env,ap=Zm.platform,k_e=65,P_e=97,O_e=90,R_e=122,Gd=46,wr=47,Ao=92,ed=58,B_e=63;class Ate extends Error{constructor(e,t,i){let r;typeof t=="string"&&t.indexOf("not ")===0?(r="must not be",t=t.replace(/^not /,"")):r="must be";const o=e.indexOf(".")!==-1?"property":"argument";let s=`The "${e}" ${o} ${r} of type ${t}`;s+=`. Received type ${typeof i}`,super(s),this.code="ERR_INVALID_ARG_TYPE"}}function Di(n,e){if(typeof n!="string")throw new Ate(e,"string",n)}function Ht(n){return n===wr||n===Ao}function iO(n){return n===wr}function td(n){return n>=k_e&&n<=O_e||n>=P_e&&n<=R_e}function FL(n,e,t,i){let r="",o=0,s=-1,a=0,l=0;for(let u=0;u<=n.length;++u){if(u<n.length)l=n.charCodeAt(u);else{if(i(l))break;l=wr}if(i(l)){if(!(s===u-1||a===1))if(a===2){if(r.length<2||o!==2||r.charCodeAt(r.length-1)!==Gd||r.charCodeAt(r.length-2)!==Gd){if(r.length>2){const c=r.lastIndexOf(t);c===-1?(r="",o=0):(r=r.slice(0,c),o=r.length-1-r.lastIndexOf(t)),s=u,a=0;continue}else if(r.length!==0){r="",o=0,s=u,a=0;continue}}e&&(r+=r.length>0?`${t}..`:"..",o=2)}else r.length>0?r+=`${t}${n.slice(s+1,u)}`:r=n.slice(s+1,u),o=u-s-1;s=u,a=0}else l===Gd&&a!==-1?++a:a=-1}return r}function Nte(n,e){if(e===null||typeof e!="object")throw new Ate("pathObject","Object",e);const t=e.dir||e.root,i=e.base||`${e.name||""}${e.ext||""}`;return t?t===e.root?`${t}${i}`:`${t}${n}${i}`:i}const wo={resolve(...n){let e="",t="",i=!1;for(let r=n.length-1;r>=-1;r--){let o;if(r>=0){if(o=n[r],Di(o,"path"),o.length===0)continue}else e.length===0?o=nO():(o=N_e[`=${e}`]||nO(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===Ao)&&(o=`${e}\\`));const s=o.length;let a=0,l="",u=!1;const c=o.charCodeAt(0);if(s===1)Ht(c)&&(a=1,u=!0);else if(Ht(c))if(u=!0,Ht(o.charCodeAt(1))){let d=2,h=d;for(;d<s&&!Ht(o.charCodeAt(d));)d++;if(d<s&&d!==h){const f=o.slice(h,d);for(h=d;d<s&&Ht(o.charCodeAt(d));)d++;if(d<s&&d!==h){for(h=d;d<s&&!Ht(o.charCodeAt(d));)d++;(d===s||d!==h)&&(l=`\\\\${f}\\${o.slice(h,d)}`,a=d)}}}else a=1;else td(c)&&o.charCodeAt(1)===ed&&(l=o.slice(0,2),a=2,s>2&&Ht(o.charCodeAt(2))&&(u=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(i){if(e.length>0)break}else if(t=`${o.slice(a)}\\${t}`,i=u,u&&e.length>0)break}return t=FL(t,!i,"\\",Ht),i?`${e}\\${t}`:`${e}${t}`||"."},normalize(n){Di(n,"path");const e=n.length;if(e===0)return".";let t=0,i,r=!1;const o=n.charCodeAt(0);if(e===1)return iO(o)?"\\":n;if(Ht(o))if(r=!0,Ht(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Ht(n.charCodeAt(a));)a++;if(a<e&&a!==l){const u=n.slice(l,a);for(l=a;a<e&&Ht(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Ht(n.charCodeAt(a));)a++;if(a===e)return`\\\\${u}\\${n.slice(l)}\\`;a!==l&&(i=`\\\\${u}\\${n.slice(l,a)}`,t=a)}}}else t=1;else td(o)&&n.charCodeAt(1)===ed&&(i=n.slice(0,2),t=2,e>2&&Ht(n.charCodeAt(2))&&(r=!0,t=3));let s=t<e?FL(n.slice(t),!r,"\\",Ht):"";return s.length===0&&!r&&(s="."),s.length>0&&Ht(n.charCodeAt(e-1))&&(s+="\\"),i===void 0?r?`\\${s}`:s:r?`${i}\\${s}`:`${i}${s}`},isAbsolute(n){Di(n,"path");const e=n.length;if(e===0)return!1;const t=n.charCodeAt(0);return Ht(t)||e>2&&td(t)&&n.charCodeAt(1)===ed&&Ht(n.charCodeAt(2))},join(...n){if(n.length===0)return".";let e,t;for(let o=0;o<n.length;++o){const s=n[o];Di(s,"path"),s.length>0&&(e===void 0?e=t=s:e+=`\\${s}`)}if(e===void 0)return".";let i=!0,r=0;if(typeof t=="string"&&Ht(t.charCodeAt(0))){++r;const o=t.length;o>1&&Ht(t.charCodeAt(1))&&(++r,o>2&&(Ht(t.charCodeAt(2))?++r:i=!1))}if(i){for(;r<e.length&&Ht(e.charCodeAt(r));)r++;r>=2&&(e=`\\${e.slice(r)}`)}return wo.normalize(e)},relative(n,e){if(Di(n,"from"),Di(e,"to"),n===e)return"";const t=wo.resolve(n),i=wo.resolve(e);if(t===i||(n=t.toLowerCase(),e=i.toLowerCase(),n===e))return"";let r=0;for(;r<n.length&&n.charCodeAt(r)===Ao;)r++;let o=n.length;for(;o-1>r&&n.charCodeAt(o-1)===Ao;)o--;const s=o-r;let a=0;for(;a<e.length&&e.charCodeAt(a)===Ao;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===Ao;)l--;const u=l-a,c=s<u?s:u;let d=-1,h=0;for(;h<c;h++){const g=n.charCodeAt(r+h);if(g!==e.charCodeAt(a+h))break;g===Ao&&(d=h)}if(h!==c){if(d===-1)return i}else{if(u>c){if(e.charCodeAt(a+h)===Ao)return i.slice(a+h+1);if(h===2)return i.slice(a+h)}s>c&&(n.charCodeAt(r+h)===Ao?d=h:h===2&&(d=3)),d===-1&&(d=0)}let f="";for(h=r+d+1;h<=o;++h)(h===o||n.charCodeAt(h)===Ao)&&(f+=f.length===0?"..":"\\..");return a+=d,f.length>0?`${f}${i.slice(a,l)}`:(i.charCodeAt(a)===Ao&&++a,i.slice(a,l))},toNamespacedPath(n){if(typeof n!="string")return n;if(n.length===0)return"";const e=wo.resolve(n);if(e.length<=2)return n;if(e.charCodeAt(0)===Ao){if(e.charCodeAt(1)===Ao){const t=e.charCodeAt(2);if(t!==B_e&&t!==Gd)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(td(e.charCodeAt(0))&&e.charCodeAt(1)===ed&&e.charCodeAt(2)===Ao)return`\\\\?\\${e}`;return n},dirname(n){Di(n,"path");const e=n.length;if(e===0)return".";let t=-1,i=0;const r=n.charCodeAt(0);if(e===1)return Ht(r)?n:".";if(Ht(r)){if(t=i=1,Ht(n.charCodeAt(1))){let a=2,l=a;for(;a<e&&!Ht(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&Ht(n.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!Ht(n.charCodeAt(a));)a++;if(a===e)return n;a!==l&&(t=i=a+1)}}}}else td(r)&&n.charCodeAt(1)===ed&&(t=e>2&&Ht(n.charCodeAt(2))?3:2,i=t);let o=-1,s=!0;for(let a=e-1;a>=i;--a)if(Ht(n.charCodeAt(a))){if(!s){o=a;break}}else s=!1;if(o===-1){if(t===-1)return".";o=t}return n.slice(0,o)},basename(n,e){e!==void 0&&Di(e,"ext"),Di(n,"path");let t=0,i=-1,r=!0,o;if(n.length>=2&&td(n.charCodeAt(0))&&n.charCodeAt(1)===ed&&(t=2),e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=t;--o){const l=n.charCodeAt(o);if(Ht(l)){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=t;--o)if(Ht(n.charCodeAt(o))){if(!r){t=o+1;break}}else i===-1&&(r=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){Di(n,"path");let e=0,t=-1,i=0,r=-1,o=!0,s=0;n.length>=2&&n.charCodeAt(1)===ed&&td(n.charCodeAt(0))&&(e=i=2);for(let a=n.length-1;a>=e;--a){const l=n.charCodeAt(a);if(Ht(l)){if(!o){i=a+1;break}continue}r===-1&&(o=!1,r=a+1),l===Gd?t===-1?t=a:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||r===-1||s===0||s===1&&t===r-1&&t===i+1?"":n.slice(t,r)},format:Nte.bind(null,"\\"),parse(n){Di(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.length;let i=0,r=n.charCodeAt(0);if(t===1)return Ht(r)?(e.root=e.dir=n,e):(e.base=e.name=n,e);if(Ht(r)){if(i=1,Ht(n.charCodeAt(1))){let d=2,h=d;for(;d<t&&!Ht(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&Ht(n.charCodeAt(d));)d++;if(d<t&&d!==h){for(h=d;d<t&&!Ht(n.charCodeAt(d));)d++;d===t?i=d:d!==h&&(i=d+1)}}}}else if(td(r)&&n.charCodeAt(1)===ed){if(t<=2)return e.root=e.dir=n,e;if(i=2,Ht(n.charCodeAt(2))){if(t===3)return e.root=e.dir=n,e;i=3}}i>0&&(e.root=n.slice(0,i));let o=-1,s=i,a=-1,l=!0,u=n.length-1,c=0;for(;u>=i;--u){if(r=n.charCodeAt(u),Ht(r)){if(!l){s=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===Gd?o===-1?o=u:c!==1&&(c=1):o!==-1&&(c=-1)}return a!==-1&&(o===-1||c===0||c===1&&o===a-1&&o===s+1?e.base=e.name=n.slice(s,a):(e.name=n.slice(s,o),e.base=n.slice(s,a),e.ext=n.slice(o,a))),s>0&&s!==i?e.dir=n.slice(0,s-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},Ai={resolve(...n){let e="",t=!1;for(let i=n.length-1;i>=-1&&!t;i--){const r=i>=0?n[i]:nO();Di(r,"path"),r.length!==0&&(e=`${r}/${e}`,t=r.charCodeAt(0)===wr)}return e=FL(e,!t,"/",iO),t?`/${e}`:e.length>0?e:"."},normalize(n){if(Di(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===wr,t=n.charCodeAt(n.length-1)===wr;return n=FL(n,!e,"/",iO),n.length===0?e?"/":t?"./":".":(t&&(n+="/"),e?`/${n}`:n)},isAbsolute(n){return Di(n,"path"),n.length>0&&n.charCodeAt(0)===wr},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){const i=n[t];Di(i,"path"),i.length>0&&(e===void 0?e=i:e+=`/${i}`)}return e===void 0?".":Ai.normalize(e)},relative(n,e){if(Di(n,"from"),Di(e,"to"),n===e||(n=Ai.resolve(n),e=Ai.resolve(e),n===e))return"";const t=1,i=n.length,r=i-t,o=1,s=e.length-o,a=r<s?r:s;let l=-1,u=0;for(;u<a;u++){const d=n.charCodeAt(t+u);if(d!==e.charCodeAt(o+u))break;d===wr&&(l=u)}if(u===a)if(s>a){if(e.charCodeAt(o+u)===wr)return e.slice(o+u+1);if(u===0)return e.slice(o+u)}else r>a&&(n.charCodeAt(t+u)===wr?l=u:u===0&&(l=0));let c="";for(u=t+l+1;u<=i;++u)(u===i||n.charCodeAt(u)===wr)&&(c+=c.length===0?"..":"/..");return`${c}${e.slice(o+l)}`},toNamespacedPath(n){return n},dirname(n){if(Di(n,"path"),n.length===0)return".";const e=n.charCodeAt(0)===wr;let t=-1,i=!0;for(let r=n.length-1;r>=1;--r)if(n.charCodeAt(r)===wr){if(!i){t=r;break}}else i=!1;return t===-1?e?"/":".":e&&t===1?"//":n.slice(0,t)},basename(n,e){e!==void 0&&Di(e,"ext"),Di(n,"path");let t=0,i=-1,r=!0,o;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e===n)return"";let s=e.length-1,a=-1;for(o=n.length-1;o>=0;--o){const l=n.charCodeAt(o);if(l===wr){if(!r){t=o+1;break}}else a===-1&&(r=!1,a=o+1),s>=0&&(l===e.charCodeAt(s)?--s===-1&&(i=o):(s=-1,i=a))}return t===i?i=a:i===-1&&(i=n.length),n.slice(t,i)}for(o=n.length-1;o>=0;--o)if(n.charCodeAt(o)===wr){if(!r){t=o+1;break}}else i===-1&&(r=!1,i=o+1);return i===-1?"":n.slice(t,i)},extname(n){Di(n,"path");let e=-1,t=0,i=-1,r=!0,o=0;for(let s=n.length-1;s>=0;--s){const a=n.charCodeAt(s);if(a===wr){if(!r){t=s+1;break}continue}i===-1&&(r=!1,i=s+1),a===Gd?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||i===-1||o===0||o===1&&e===i-1&&e===t+1?"":n.slice(e,i)},format:Nte.bind(null,"/"),parse(n){Di(n,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;const t=n.charCodeAt(0)===wr;let i;t?(e.root="/",i=1):i=0;let r=-1,o=0,s=-1,a=!0,l=n.length-1,u=0;for(;l>=i;--l){const c=n.charCodeAt(l);if(c===wr){if(!a){o=l+1;break}continue}s===-1&&(a=!1,s=l+1),c===Gd?r===-1?r=l:u!==1&&(u=1):r!==-1&&(u=-1)}if(s!==-1){const c=o===0&&t?1:o;r===-1||u===0||u===1&&r===s-1&&r===o+1?e.base=e.name=n.slice(c,s):(e.name=n.slice(c,r),e.base=n.slice(c,s),e.ext=n.slice(r,s))}return o>0?e.dir=n.slice(0,o-1):t&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Ai.win32=wo.win32=wo;Ai.posix=wo.posix=Ai;const kte=ap==="win32"?wo.normalize:Ai.normalize,F_e=ap==="win32"?wo.resolve:Ai.resolve,$_e=ap==="win32"?wo.relative:Ai.relative,V_e=ap==="win32"?wo.dirname:Ai.dirname,Pte=ap==="win32"?wo.basename:Ai.basename,W_e=ap==="win32"?wo.extname:Ai.extname,mx=ap==="win32"?wo.sep:Ai.sep,z_e=/^\w[\w\d+.-]*$/,H_e=/^\//,U_e=/^\/\//;function g7(n,e){if(!n.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!z_e.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path){if(n.authority){if(!H_e.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(U_e.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function G_e(n,e){return!n&&!e?"file":n}function K_e(n,e){switch(n){case"https":case"http":case"file":e?e[0]!==Pa&&(e=Pa+e):e=Pa;break}return e}const qn="",Pa="/",j_e=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Nt{constructor(e,t,i,r,o,s=!1){typeof e=="object"?(this.scheme=e.scheme||qn,this.authority=e.authority||qn,this.path=e.path||qn,this.query=e.query||qn,this.fragment=e.fragment||qn):(this.scheme=G_e(e,s),this.authority=t||qn,this.path=K_e(this.scheme,i||qn),this.query=r||qn,this.fragment=o||qn,g7(this,s))}static isUri(e){return e instanceof Nt?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}get fsPath(){return $L(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:r,query:o,fragment:s}=e;return t===void 0?t=this.scheme:t===null&&(t=qn),i===void 0?i=this.authority:i===null&&(i=qn),r===void 0?r=this.path:r===null&&(r=qn),o===void 0?o=this.query:o===null&&(o=qn),s===void 0?s=this.fragment:s===null&&(s=qn),t===this.scheme&&i===this.authority&&r===this.path&&o===this.query&&s===this.fragment?this:new Op(t,i,r,o,s)}static parse(e,t=!1){const i=j_e.exec(e);return i?new Op(i[2]||qn,o1(i[4]||qn),o1(i[5]||qn),o1(i[7]||qn),o1(i[9]||qn),t):new Op(qn,qn,qn,qn,qn)}static file(e){let t=qn;if(zo&&(e=e.replace(/\\/g,Pa)),e[0]===Pa&&e[1]===Pa){const i=e.indexOf(Pa,2);i===-1?(t=e.substring(2),e=Pa):(t=e.substring(2,i),e=e.substring(i)||Pa)}return new Op("file",t,e,qn,qn)}static from(e){const t=new Op(e.scheme,e.authority,e.path,e.query,e.fragment);return g7(t,!0),t}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let i;return zo&&e.scheme==="file"?i=Nt.file(wo.join($L(e,!0),...t)).path:i=Ai.join(e.path,...t),e.with({path:i})}toString(e=!1){return rO(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof Nt)return e;{const t=new Op(e);return t._formatted=e.external,t._fsPath=e._sep===Ote?e.fsPath:null,t}}else return e}}const Ote=zo?1:void 0;class Op extends Nt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=$L(this,!1)),this._fsPath}toString(e=!1){return e?rO(this,!0):(this._formatted||(this._formatted=rO(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=Ote),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const Rte={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function p7(n,e){let t,i=-1;for(let r=0;r<n.length;r++){const o=n.charCodeAt(r);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||o===45||o===46||o===95||o===126||e&&o===47)i!==-1&&(t+=encodeURIComponent(n.substring(i,r)),i=-1),t!==void 0&&(t+=n.charAt(r));else{t===void 0&&(t=n.substr(0,r));const s=Rte[o];s!==void 0?(i!==-1&&(t+=encodeURIComponent(n.substring(i,r)),i=-1),t+=s):i===-1&&(i=r)}}return i!==-1&&(t+=encodeURIComponent(n.substring(i))),t!==void 0?t:n}function q_e(n){let e;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i===35||i===63?(e===void 0&&(e=n.substr(0,t)),e+=Rte[i]):e!==void 0&&(e+=n[t])}return e!==void 0?e:n}function $L(n,e){let t;return n.authority&&n.path.length>1&&n.scheme==="file"?t=`//${n.authority}${n.path}`:n.path.charCodeAt(0)===47&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&n.path.charCodeAt(2)===58?e?t=n.path.substr(1):t=n.path[1].toLowerCase()+n.path.substr(2):t=n.path,zo&&(t=t.replace(/\//g,"\\")),t}function rO(n,e){const t=e?q_e:p7;let i="",{scheme:r,authority:o,path:s,query:a,fragment:l}=n;if(r&&(i+=r,i+=":"),(o||r==="file")&&(i+=Pa,i+=Pa),o){let u=o.indexOf("@");if(u!==-1){const c=o.substr(0,u);o=o.substr(u+1),u=c.indexOf(":"),u===-1?i+=t(c,!1):(i+=t(c.substr(0,u),!1),i+=":",i+=t(c.substr(u+1),!1)),i+="@"}o=o.toLowerCase(),u=o.indexOf(":"),u===-1?i+=t(o,!1):(i+=t(o.substr(0,u),!1),i+=o.substr(u))}if(s){if(s.length>=3&&s.charCodeAt(0)===47&&s.charCodeAt(2)===58){const u=s.charCodeAt(1);u>=65&&u<=90&&(s=`/${String.fromCharCode(u+32)}:${s.substr(3)}`)}else if(s.length>=2&&s.charCodeAt(1)===58){const u=s.charCodeAt(0);u>=65&&u<=90&&(s=`${String.fromCharCode(u+32)}:${s.substr(2)}`)}i+=t(s,!0)}return a&&(i+="?",i+=t(a,!1)),l&&(i+="#",i+=e?l:p7(l,!1)),i}function Bte(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+Bte(n.substr(3)):n}}const m7=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function o1(n){return n.match(m7)?n.replace(m7,e=>Bte(e)):n}class ve{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new ve(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return ve.equals(this,e)}static equals(e,t){return!e&&!t?!0:!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return ve.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<t.column}isBeforeOrEqual(e){return ve.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber?!0:t.lineNumber<e.lineNumber?!1:e.column<=t.column}static compare(e,t){let i=e.lineNumber|0,r=t.lineNumber|0;if(i===r){let o=e.column|0,s=t.column|0;return o-s}return i-r}clone(){return new ve(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new ve(e.lineNumber,e.column)}static isIPosition(e){return e&&typeof e.lineNumber=="number"&&typeof e.column=="number"}}let ee=class Sr{constructor(e,t,i,r){e>i||e===i&&t>r?(this.startLineNumber=i,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=r)}isEmpty(){return Sr.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return Sr.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber||t.lineNumber===e.startLineNumber&&t.column<e.startColumn||t.lineNumber===e.endLineNumber&&t.column>e.endColumn)}containsRange(e){return Sr.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)}strictContainsRange(e){return Sr.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber||t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber||t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn||t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)}plusRange(e){return Sr.plusRange(this,e)}static plusRange(e,t){let i,r,o,s;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,r=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,r=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,r=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new Sr(i,r,o,s)}intersectRanges(e){return Sr.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=t.startLineNumber,l=t.startColumn,u=t.endLineNumber,c=t.endColumn;return i<a?(i=a,r=l):i===a&&(r=Math.max(r,l)),o>u?(o=u,s=c):o===u&&(s=Math.min(s,c)),i>o||i===o&&r>s?null:new Sr(i,r,o,s)}equalsRange(e){return Sr.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return Sr.getEndPosition(this)}static getEndPosition(e){return new ve(e.endLineNumber,e.endColumn)}getStartPosition(){return Sr.getStartPosition(this)}static getStartPosition(e){return new ve(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new Sr(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new Sr(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return Sr.collapseToStart(this)}static collapseToStart(e){return new Sr(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new Sr(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new Sr(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&typeof e.startLineNumber=="number"&&typeof e.startColumn=="number"&&typeof e.endLineNumber=="number"&&typeof e.endColumn=="number"}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn||t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const o=e.startLineNumber|0,s=t.startLineNumber|0;if(o===s){const a=e.startColumn|0,l=t.startColumn|0;if(a===l){const u=e.endLineNumber|0,c=t.endLineNumber|0;if(u===c){const d=e.endColumn|0,h=t.endColumn|0;return d-h}return u-c}return a-l}return o-s}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}};class Bt extends ee{constructor(e,t,i,r){super(e,t,i,r),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=r}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return Bt.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return this.getDirection()===0?new Bt(this.startLineNumber,this.startColumn,e,t):new Bt(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new ve(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return this.getDirection()===0?new Bt(e,t,this.endLineNumber,this.endColumn):new Bt(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new Bt(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new Bt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,r=e.length;i<r;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&typeof e.selectionStartLineNumber=="number"&&typeof e.selectionStartColumn=="number"&&typeof e.positionLineNumber=="number"&&typeof e.positionColumn=="number"}static createWithDirection(e,t,i,r,o){return o===0?new Bt(e,t,i,r):new Bt(i,r,e,t)}}class LD{constructor(e,t,i){this._tokenBrand=void 0,this.offset=e|0,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class qF{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class TD{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}var oO;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(oO||(oO={}));var sO;(function(n){n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(sO||(sO={}));var aO;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(aO||(aO={}));var lO;(function(n){n[n.Deprecated=1]="Deprecated"})(lO||(lO={}));var uO;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(uO||(uO={}));var cO;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(cO||(cO={}));var dO;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(dO||(dO={}));var hO;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(hO||(hO={}));var fO;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(fO||(fO={}));var gO;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(gO||(gO={}));var pO;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.autoClosingBrackets=5]="autoClosingBrackets",n[n.autoClosingDelete=6]="autoClosingDelete",n[n.autoClosingOvertype=7]="autoClosingOvertype",n[n.autoClosingQuotes=8]="autoClosingQuotes",n[n.autoIndent=9]="autoIndent",n[n.automaticLayout=10]="automaticLayout",n[n.autoSurround=11]="autoSurround",n[n.codeLens=12]="codeLens",n[n.codeLensFontFamily=13]="codeLensFontFamily",n[n.codeLensFontSize=14]="codeLensFontSize",n[n.colorDecorators=15]="colorDecorators",n[n.columnSelection=16]="columnSelection",n[n.comments=17]="comments",n[n.contextmenu=18]="contextmenu",n[n.copyWithSyntaxHighlighting=19]="copyWithSyntaxHighlighting",n[n.cursorBlinking=20]="cursorBlinking",n[n.cursorSmoothCaretAnimation=21]="cursorSmoothCaretAnimation",n[n.cursorStyle=22]="cursorStyle",n[n.cursorSurroundingLines=23]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=24]="cursorSurroundingLinesStyle",n[n.cursorWidth=25]="cursorWidth",n[n.disableLayerHinting=26]="disableLayerHinting",n[n.disableMonospaceOptimizations=27]="disableMonospaceOptimizations",n[n.domReadOnly=28]="domReadOnly",n[n.dragAndDrop=29]="dragAndDrop",n[n.emptySelectionClipboard=30]="emptySelectionClipboard",n[n.extraEditorClassName=31]="extraEditorClassName",n[n.fastScrollSensitivity=32]="fastScrollSensitivity",n[n.find=33]="find",n[n.fixedOverflowWidgets=34]="fixedOverflowWidgets",n[n.folding=35]="folding",n[n.foldingStrategy=36]="foldingStrategy",n[n.foldingHighlight=37]="foldingHighlight",n[n.foldingImportsByDefault=38]="foldingImportsByDefault",n[n.unfoldOnClickAfterEndOfLine=39]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=40]="fontFamily",n[n.fontInfo=41]="fontInfo",n[n.fontLigatures=42]="fontLigatures",n[n.fontSize=43]="fontSize",n[n.fontWeight=44]="fontWeight",n[n.formatOnPaste=45]="formatOnPaste",n[n.formatOnType=46]="formatOnType",n[n.glyphMargin=47]="glyphMargin",n[n.gotoLocation=48]="gotoLocation",n[n.hideCursorInOverviewRuler=49]="hideCursorInOverviewRuler",n[n.highlightActiveIndentGuide=50]="highlightActiveIndentGuide",n[n.hover=51]="hover",n[n.inDiffEditor=52]="inDiffEditor",n[n.inlineSuggest=53]="inlineSuggest",n[n.letterSpacing=54]="letterSpacing",n[n.lightbulb=55]="lightbulb",n[n.lineDecorationsWidth=56]="lineDecorationsWidth",n[n.lineHeight=57]="lineHeight",n[n.lineNumbers=58]="lineNumbers",n[n.lineNumbersMinChars=59]="lineNumbersMinChars",n[n.linkedEditing=60]="linkedEditing",n[n.links=61]="links",n[n.matchBrackets=62]="matchBrackets",n[n.minimap=63]="minimap",n[n.mouseStyle=64]="mouseStyle",n[n.mouseWheelScrollSensitivity=65]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=66]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=67]="multiCursorMergeOverlapping",n[n.multiCursorModifier=68]="multiCursorModifier",n[n.multiCursorPaste=69]="multiCursorPaste",n[n.occurrencesHighlight=70]="occurrencesHighlight",n[n.overviewRulerBorder=71]="overviewRulerBorder",n[n.overviewRulerLanes=72]="overviewRulerLanes",n[n.padding=73]="padding",n[n.parameterHints=74]="parameterHints",n[n.peekWidgetDefaultFocus=75]="peekWidgetDefaultFocus",n[n.definitionLinkOpensInPeek=76]="definitionLinkOpensInPeek",n[n.quickSuggestions=77]="quickSuggestions",n[n.quickSuggestionsDelay=78]="quickSuggestionsDelay",n[n.readOnly=79]="readOnly",n[n.renameOnType=80]="renameOnType",n[n.renderControlCharacters=81]="renderControlCharacters",n[n.renderIndentGuides=82]="renderIndentGuides",n[n.renderFinalNewline=83]="renderFinalNewline",n[n.renderLineHighlight=84]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=85]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=86]="renderValidationDecorations",n[n.renderWhitespace=87]="renderWhitespace",n[n.revealHorizontalRightPadding=88]="revealHorizontalRightPadding",n[n.roundedSelection=89]="roundedSelection",n[n.rulers=90]="rulers",n[n.scrollbar=91]="scrollbar",n[n.scrollBeyondLastColumn=92]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=93]="scrollBeyondLastLine",n[n.scrollPredominantAxis=94]="scrollPredominantAxis",n[n.selectionClipboard=95]="selectionClipboard",n[n.selectionHighlight=96]="selectionHighlight",n[n.selectOnLineNumbers=97]="selectOnLineNumbers",n[n.showFoldingControls=98]="showFoldingControls",n[n.showUnused=99]="showUnused",n[n.snippetSuggestions=100]="snippetSuggestions",n[n.smartSelect=101]="smartSelect",n[n.smoothScrolling=102]="smoothScrolling",n[n.stickyTabStops=103]="stickyTabStops",n[n.stopRenderingLineAfter=104]="stopRenderingLineAfter",n[n.suggest=105]="suggest",n[n.suggestFontSize=106]="suggestFontSize",n[n.suggestLineHeight=107]="suggestLineHeight",n[n.suggestOnTriggerCharacters=108]="suggestOnTriggerCharacters",n[n.suggestSelection=109]="suggestSelection",n[n.tabCompletion=110]="tabCompletion",n[n.tabIndex=111]="tabIndex",n[n.unusualLineTerminators=112]="unusualLineTerminators",n[n.useShadowDOM=113]="useShadowDOM",n[n.useTabStops=114]="useTabStops",n[n.wordSeparators=115]="wordSeparators",n[n.wordWrap=116]="wordWrap",n[n.wordWrapBreakAfterCharacters=117]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=118]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=119]="wordWrapColumn",n[n.wordWrapOverride1=120]="wordWrapOverride1",n[n.wordWrapOverride2=121]="wordWrapOverride2",n[n.wrappingIndent=122]="wrappingIndent",n[n.wrappingStrategy=123]="wrappingStrategy",n[n.showDeprecated=124]="showDeprecated",n[n.inlayHints=125]="inlayHints",n[n.editorClassName=126]="editorClassName",n[n.pixelRatio=127]="pixelRatio",n[n.tabFocusMode=128]="tabFocusMode",n[n.layoutInfo=129]="layoutInfo",n[n.wrappingInfo=130]="wrappingInfo"})(pO||(pO={}));var mO;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(mO||(mO={}));var vO;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(vO||(vO={}));var yO;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(yO||(yO={}));var _O;(function(n){n[n.Other=0]="Other",n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(_O||(_O={}));var bO;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(bO||(bO={}));var SO;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.KEY_0=21]="KEY_0",n[n.KEY_1=22]="KEY_1",n[n.KEY_2=23]="KEY_2",n[n.KEY_3=24]="KEY_3",n[n.KEY_4=25]="KEY_4",n[n.KEY_5=26]="KEY_5",n[n.KEY_6=27]="KEY_6",n[n.KEY_7=28]="KEY_7",n[n.KEY_8=29]="KEY_8",n[n.KEY_9=30]="KEY_9",n[n.KEY_A=31]="KEY_A",n[n.KEY_B=32]="KEY_B",n[n.KEY_C=33]="KEY_C",n[n.KEY_D=34]="KEY_D",n[n.KEY_E=35]="KEY_E",n[n.KEY_F=36]="KEY_F",n[n.KEY_G=37]="KEY_G",n[n.KEY_H=38]="KEY_H",n[n.KEY_I=39]="KEY_I",n[n.KEY_J=40]="KEY_J",n[n.KEY_K=41]="KEY_K",n[n.KEY_L=42]="KEY_L",n[n.KEY_M=43]="KEY_M",n[n.KEY_N=44]="KEY_N",n[n.KEY_O=45]="KEY_O",n[n.KEY_P=46]="KEY_P",n[n.KEY_Q=47]="KEY_Q",n[n.KEY_R=48]="KEY_R",n[n.KEY_S=49]="KEY_S",n[n.KEY_T=50]="KEY_T",n[n.KEY_U=51]="KEY_U",n[n.KEY_V=52]="KEY_V",n[n.KEY_W=53]="KEY_W",n[n.KEY_X=54]="KEY_X",n[n.KEY_Y=55]="KEY_Y",n[n.KEY_Z=56]="KEY_Z",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.NumLock=78]="NumLock",n[n.ScrollLock=79]="ScrollLock",n[n.US_SEMICOLON=80]="US_SEMICOLON",n[n.US_EQUAL=81]="US_EQUAL",n[n.US_COMMA=82]="US_COMMA",n[n.US_MINUS=83]="US_MINUS",n[n.US_DOT=84]="US_DOT",n[n.US_SLASH=85]="US_SLASH",n[n.US_BACKTICK=86]="US_BACKTICK",n[n.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",n[n.US_BACKSLASH=88]="US_BACKSLASH",n[n.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",n[n.US_QUOTE=90]="US_QUOTE",n[n.OEM_8=91]="OEM_8",n[n.OEM_102=92]="OEM_102",n[n.NUMPAD_0=93]="NUMPAD_0",n[n.NUMPAD_1=94]="NUMPAD_1",n[n.NUMPAD_2=95]="NUMPAD_2",n[n.NUMPAD_3=96]="NUMPAD_3",n[n.NUMPAD_4=97]="NUMPAD_4",n[n.NUMPAD_5=98]="NUMPAD_5",n[n.NUMPAD_6=99]="NUMPAD_6",n[n.NUMPAD_7=100]="NUMPAD_7",n[n.NUMPAD_8=101]="NUMPAD_8",n[n.NUMPAD_9=102]="NUMPAD_9",n[n.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",n[n.NUMPAD_ADD=104]="NUMPAD_ADD",n[n.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",n[n.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",n[n.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",n[n.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",n[n.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",n[n.ABNT_C1=110]="ABNT_C1",n[n.ABNT_C2=111]="ABNT_C2",n[n.MAX_VALUE=112]="MAX_VALUE"})(SO||(SO={}));var wO;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(wO||(wO={}));var CO;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(CO||(CO={}));var xO;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(xO||(xO={}));var LO;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(LO||(LO={}));var TO;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(TO||(TO={}));var IO;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(IO||(IO={}));var DO;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(DO||(DO={}));var EO;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(EO||(EO={}));var MO;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(MO||(MO={}));var AO;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(AO||(AO={}));var NO;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(NO||(NO={}));var kO;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(kO||(kO={}));var PO;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(PO||(PO={}));var OO;(function(n){n[n.Deprecated=1]="Deprecated"})(OO||(OO={}));var RO;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(RO||(RO={}));var BO;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(BO||(BO={}));var FO;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(FO||(FO={}));var $O;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})($O||($O={}));class ew{static chord(e,t){return E_e(e,t)}}ew.CtrlCmd=2048;ew.Shift=1024;ew.Alt=512;ew.WinCtrl=256;function Fte(){return{editor:void 0,languages:void 0,CancellationTokenSource:_y,Emitter:ae,KeyCode:SO,KeyMod:ew,Position:ve,Range:ee,Selection:Bt,SelectionDirection:NO,MarkerSeverity:wO,MarkerTag:CO,Uri:Nt,Token:LD}}var Ha;(function(n){n.serviceIds=new Map,n.DI_TARGET="$di$target",n.DI_DEPENDENCIES="$di$dependencies";function e(t){return t[n.DI_DEPENDENCIES]||[]}n.getServiceDependencies=e})(Ha||(Ha={}));const Go=an("instantiationService");function $te(n,e,t,i){e[Ha.DI_TARGET]===e?e[Ha.DI_DEPENDENCIES].push({id:n,index:t,optional:i}):(e[Ha.DI_DEPENDENCIES]=[{id:n,index:t,optional:i}],e[Ha.DI_TARGET]=e)}function an(n){if(Ha.serviceIds.has(n))return Ha.serviceIds.get(n);const e=function(t,i,r){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");$te(e,t,r,!1)};return e.toString=()=>n,Ha.serviceIds.set(n,e),e}function Y_e(n){return function(e,t,i){if(arguments.length!==3)throw new Error("@optional-decorator can only be used to decorate a parameter");$te(n,e,i,!0)}}const mr=an("codeEditorService");class Eg{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new ae,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i}}Eg.INSTANCE=new Eg;function VO(){return Eg.INSTANCE.getZoomLevel()}function X_e(){return Eg.INSTANCE.getTimeSinceLastZoomLevelChanged()}function Z_e(n){return Eg.INSTANCE.onDidChangeZoomLevel(n)}function Q_e(){return Eg.INSTANCE.getZoomFactor()}function VL(){return Eg.INSTANCE.getPixelRatio()}const tw=navigator.userAgent,eo=tw.indexOf("Firefox")>=0,ag=tw.indexOf("AppleWebKit")>=0,WL=tw.indexOf("Chrome")>=0,Mg=!WL&&tw.indexOf("Safari")>=0,J_e=!WL&&!Mg&&ag,e_=tw.indexOf("Android")>=0,ebe=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;let Vte=new Array(230),tA=new Array(112);(function(){for(let e=0;e<tA.length;e++)tA[e]=-1;function n(e,t){Vte[e]=t,tA[t]=e}n(3,7),n(8,1),n(9,2),n(13,3),n(16,4),n(17,5),n(18,6),n(19,7),n(20,8),n(27,9),n(32,10),n(33,11),n(34,12),n(35,13),n(36,14),n(37,15),n(38,16),n(39,17),n(40,18),n(45,19),n(46,20),n(48,21),n(49,22),n(50,23),n(51,24),n(52,25),n(53,26),n(54,27),n(55,28),n(56,29),n(57,30),n(65,31),n(66,32),n(67,33),n(68,34),n(69,35),n(70,36),n(71,37),n(72,38),n(73,39),n(74,40),n(75,41),n(76,42),n(77,43),n(78,44),n(79,45),n(80,46),n(81,47),n(82,48),n(83,49),n(84,50),n(85,51),n(86,52),n(87,53),n(88,54),n(89,55),n(90,56),n(93,58),n(96,93),n(97,94),n(98,95),n(99,96),n(100,97),n(101,98),n(102,99),n(103,100),n(104,101),n(105,102),n(106,103),n(107,104),n(108,105),n(109,106),n(110,107),n(111,108),n(112,59),n(113,60),n(114,61),n(115,62),n(116,63),n(117,64),n(118,65),n(119,66),n(120,67),n(121,68),n(122,69),n(123,70),n(124,71),n(125,72),n(126,73),n(127,74),n(128,75),n(129,76),n(130,77),n(144,78),n(145,79),n(186,80),n(187,81),n(188,82),n(189,83),n(190,84),n(191,85),n(192,86),n(193,110),n(194,111),n(219,87),n(220,88),n(221,89),n(222,90),n(223,91),n(226,92),n(229,109),eo?(n(59,80),n(107,81),n(109,83),Qt&&n(224,57)):ag&&(n(91,57),n(Qt?93:92,57))})();function tbe(n){if(n.charCode){let e=String.fromCharCode(n.charCode).toUpperCase();return Xm.fromString(e)}return Vte[n.keyCode]||0}const nbe=Qt?256:2048,ibe=512,rbe=1024,obe=Qt?2048:256;class ni{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=tbe(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=nbe),this.altKey&&(t|=ibe),this.shiftKey&&(t|=rbe),this.metaKey&&(t|=obe),t|=e,t}_computeRuntimeKeybinding(){let e=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(e=this.keyCode),new jF(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let WO=!1,Rp=null;function sbe(n){if(!n.parent||n.parent===n)return null;try{let e=n.location,t=n.parent.location;if(e.origin!=="null"&&t.origin!=="null"&&(e.protocol!==t.protocol||e.hostname!==t.hostname||e.port!==t.port))return WO=!0,null}catch{return WO=!0,null}return n.parent}class zO{static getSameOriginWindowChain(){if(!Rp){Rp=[];let e=window,t;do t=sbe(e),t?Rp.push({window:e,iframeElement:e.frameElement||null}):Rp.push({window:e,iframeElement:null}),e=t;while(e)}return Rp.slice(0)}static hasDifferentOriginAncestor(){return Rp||this.getSameOriginWindowChain(),WO}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,r=0,o=this.getSameOriginWindowChain();for(const s of o){if(i+=s.window.scrollY,r+=s.window.scrollX,s.window===t||!s.iframeElement)break;let a=s.iframeElement.getBoundingClientRect();i+=a.top,r+=a.left}return{top:i,left:r}}}class na{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=e.button===0,this.middleButton=e.button===1,this.rightButton=e.button===2,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,e.type==="dblclick"&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,typeof e.pageX=="number"?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=zO.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Ev{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let r=e,o=e;if(typeof r.wheelDeltaY<"u")this.deltaY=r.wheelDeltaY/120;else if(typeof o.VERTICAL_AXIS<"u"&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if(e.type==="wheel"){const s=e;s.deltaMode===s.DOM_DELTA_LINE?eo&&!Qt?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof r.wheelDeltaX<"u")Mg&&zo?this.deltaX=-(r.wheelDeltaX/120):this.deltaX=r.wheelDeltaX/120;else if(typeof o.HORIZONTAL_AXIS<"u"&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const s=e;s.deltaMode===s.DOM_DELTA_LINE?eo&&!Qt?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}var abe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function lbe(n){return!!n&&typeof n.then=="function"}function Wte(n){const e=new _y,t=n(e.token),i=new Promise((r,o)=>{const s=e.token.onCancellationRequested(()=>{s.dispose(),e.dispose(),o(CD())});Promise.resolve(t).then(a=>{s.dispose(),e.dispose(),r(a)},a=>{s.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel()}then(r,o){return i.then(r,o)}catch(r){return this.then(void 0,r)}finally(r){return i.finally(r)}}}class ube{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const t=()=>{this.queuedPromise=null;const i=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,i};this.queuedPromise=new Promise(i=>{this.activePromise.then(t,t).then(i)})}return new Promise((t,i)=>{this.queuedPromise.then(t,i)})}return this.activePromise=e(),new Promise((t,i)=>{this.activePromise.then(r=>{this.activePromise=null,t(r)},r=>{this.activePromise=null,i(r)})})}}class nw{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((i,r)=>{this.doResolve=i,this.doReject=r}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const i=this.task;return this.task=null,i()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return this.timeout!==null}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(CD()),this.completionPromise=null)}cancelTimeout(){this.timeout!==null&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancel()}}class cbe{constructor(e){this.delayer=new nw(e),this.throttler=new ube}trigger(e,t){return this.delayer.trigger(()=>this.throttler.queue(e),t)}dispose(){this.delayer.dispose()}}function Eb(n,e){return e?new Promise((t,i)=>{const r=setTimeout(()=>{o.dispose(),t()},n),o=e.onCancellationRequested(()=>{clearTimeout(r),o.dispose(),i(CD())})}):Wte(t=>Eb(n,t))}function HO(n,e=0){const t=setTimeout(n,e);return Tn(()=>clearTimeout(t))}class yu{constructor(e,t){this._token=-1,typeof e=="function"&&typeof t=="number"&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class iw{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class vr{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}let UO;(function(){if(typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"){const n=Object.freeze({didTimeout:!0,timeRemaining(){return 15}});UO=e=>{const t=setTimeout(()=>e(n));let i=!1;return{dispose(){i||(i=!0,clearTimeout(t))}}}}else UO=(n,e)=>{const t=requestIdleCallback(n,typeof e=="number"?{timeout:e}:void 0);let i=!1;return{dispose(){i||(i=!0,cancelIdleCallback(t))}}}})();class zte{constructor(e){this._didRun=!1,this._executor=()=>{try{this._value=e()}catch(t){this._error=t}finally{this._didRun=!0}},this._handle=UO(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}var GO;(function(n){function e(t){return abe(this,void 0,void 0,function*(){let i;const r=yield Promise.all(t.map(o=>o.then(s=>s,s=>{i||(i=s)})));if(typeof i<"u")throw i;return r})}n.settled=e})(GO||(GO={}));var Nn;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.userData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebook="vscode-notebook",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractive="vscode-interactive",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp"})(Nn||(Nn={}));class dbe{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&i.indexOf(":")!==-1&&(i=`[${i}]`);const r=this._ports[t],o=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(s+=`&tkn=${encodeURIComponent(o)}`),Nt.from({scheme:wD?this._preferredWebSchema:Nn.vscodeRemoteResource,authority:`${i}:${r}`,path:"/vscode-remote-resource",query:s})}}const Hte=new dbe;class hbe{constructor(){this.FALLBACK_AUTHORITY="vscode-app"}asBrowserUri(e,t,i){const r=this.toUri(e,t);if(r.scheme===Nn.vscodeRemote)return Hte.rewrite(r);let o=!1;return jm&&(i||R0e)&&r.scheme===Nn.file&&(o=!0),r.scheme===Nn.file&&typeof li.importScripts=="function"&&li.origin==="vscode-file://vscode-app"&&(o=!0),o?r.with({scheme:Nn.vscodeFileResource,authority:r.authority||this.FALLBACK_AUTHORITY,query:null,fragment:null}):r}toUri(e,t){return Nt.isUri(e)?e:Nt.parse(t.toUrl(e))}}const fbe=new hbe,Ute={clipboard:{writeText:jm||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:jm||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>jm||ebe?0:navigator.keyboard||Mg?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)};function Ss(n){for(;n.firstChild;)n.firstChild.remove()}function YF(n){var e;return(e=n==null?void 0:n.isConnected)!==null&&e!==void 0?e:!1}class gbe{constructor(e,t,i,r){this._node=e,this._type=t,this._handler=i,this._options=r||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function De(n,e,t,i){return new gbe(n,e,t,i)}function pbe(n){return function(e){return n(new na(e))}}function mbe(n){return function(e){return n(new ni(e))}}let to=function(e,t,i,r){let o=i;return t==="click"||t==="mousedown"?o=pbe(i):(t==="keydown"||t==="keypress"||t==="keyup")&&(o=mbe(i)),De(e,t,o,r)};function XF(n,e){return De(n,"mouseout",t=>{let i=t.relatedTarget;for(;i&&i!==n;)i=i.parentNode;i!==n&&e(t)})}function vbe(n,e){return De(n,"pointerout",t=>{let i=t.relatedTarget;for(;i&&i!==n;)i=i.parentNode;i!==n&&e(t)})}let nA=null;function ybe(n){if(!nA){const e=t=>setTimeout(()=>t(new Date().getTime()),0);nA=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}return nA.call(self,n)}let Gte,iu;class iA{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){Rn(e)}}static sort(e,t){return t.priority-e.priority}}(function(){let n=[],e=null,t=!1,i=!1,r=()=>{for(t=!1,e=n,n=[],i=!0;e.length>0;)e.sort(iA.sort),e.shift().execute();i=!1};iu=(o,s=0)=>{let a=new iA(o,s);return n.push(a),t||(t=!0,ybe(r)),a},Gte=(o,s)=>{if(i){let a=new iA(o,s);return e.push(a),a}else return iu(o,s)}})();const _be=8,bbe=function(n,e){return e};class Sbe extends Pe{constructor(e,t,i,r=bbe,o=_be){super();let s=null,a=0,l=this._register(new yu),u=()=>{a=new Date().getTime(),i(s),s=null};this._register(De(e,t,c=>{s=r(s,c);let d=new Date().getTime()-a;d>=o?(l.cancel(),u()):l.setIfNotSet(u,o-d)}))}}function ZF(n,e,t,i,r){return new Sbe(n,e,t,i,r)}function QF(n){return document.defaultView.getComputedStyle(n,null)}function Kte(n){if(n!==document.body)return new Fa(n.clientWidth,n.clientHeight);if(Dv&&window.visualViewport)return new Fa(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new Fa(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Fa(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Fa(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Kn{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let r=QF(e),o="0";return r&&(r.getPropertyValue?o=r.getPropertyValue(t):o=r.getAttribute(i)),Kn.convertToPixels(e,o)}static getBorderLeftWidth(e){return Kn.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Kn.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Kn.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Kn.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Kn.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Kn.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Kn.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Kn.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Kn.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Kn.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Kn.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Kn.getDimension(e,"margin-bottom","marginBottom")}}class Fa{constructor(e,t){this.width=e,this.height=t}with(e=this.width,t=this.height){return e!==this.width||t!==this.height?new Fa(e,t):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Fa?e:new Fa(e.width,e.height)}static equals(e,t){return e===t?!0:!e||!t?!1:e.width===t.width&&e.height===t.height}}function jte(n){let e=n.offsetParent,t=n.offsetTop,i=n.offsetLeft;for(;(n=n.parentNode)!==null&&n!==document.body&&n!==document.documentElement;){t-=n.scrollTop;const r=Yte(n)?null:QF(n);r&&(i-=r.direction!=="rtl"?n.scrollLeft:-n.scrollLeft),n===e&&(i+=Kn.getBorderLeftWidth(n),t+=Kn.getBorderTopWidth(n),t+=n.offsetTop,i+=n.offsetLeft,e=n.offsetParent)}return{left:i,top:t}}function ia(n){let e=n.getBoundingClientRect();return{left:e.left+dc.scrollX,top:e.top+dc.scrollY,width:e.width,height:e.height}}const dc=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Ws(n){let e=Kn.getMarginLeft(n)+Kn.getMarginRight(n);return n.offsetWidth+e}function rA(n){let e=Kn.getBorderLeftWidth(n)+Kn.getBorderRightWidth(n),t=Kn.getPaddingLeft(n)+Kn.getPaddingRight(n);return n.offsetWidth-e-t}function wbe(n){let e=Kn.getBorderTopWidth(n)+Kn.getBorderBottomWidth(n),t=Kn.getPaddingTop(n)+Kn.getPaddingBottom(n);return n.offsetHeight-e-t}function KO(n){let e=Kn.getMarginTop(n)+Kn.getMarginBottom(n);return n.offsetHeight+e}function Cc(n,e){for(;n;){if(n===e)return!0;n=n.parentNode}return!1}function qte(n,e,t){for(;n&&n.nodeType===n.ELEMENT_NODE;){if(n.classList.contains(e))return n;if(t){if(typeof t=="string"){if(n.classList.contains(t))return null}else if(n===t)return null}n=n.parentNode}return null}function v7(n,e,t){return!!qte(n,e,t)}function Yte(n){return n&&!!n.host&&!!n.mode}function JF(n){return!!rw(n)}function rw(n){for(;n.parentNode;){if(n===document.body)return null;n=n.parentNode}return Yte(n)?n:null}function Qm(){let n=document.activeElement;for(;n!=null&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function ws(n=document.getElementsByTagName("head")[0]){let e=document.createElement("style");return e.type="text/css",e.media="screen",n.appendChild(e),e}let oA=null;function Xte(){return oA||(oA=ws()),oA}function Cbe(n){var e,t;return!((e=n==null?void 0:n.sheet)===null||e===void 0)&&e.rules?n.sheet.rules:!((t=n==null?void 0:n.sheet)===null||t===void 0)&&t.cssRules?n.sheet.cssRules:[]}function y7(n,e,t=Xte()){!t||!e||t.sheet.insertRule(n+"{"+e+"}",0)}function Zte(n,e=Xte()){if(!e)return;let t=Cbe(e),i=[];for(let r=0;r<t.length;r++)t[r].selectorText.indexOf(n)!==-1&&i.push(r);for(let r=i.length-1;r>=0;r--)e.sheet.deleteRule(i[r])}function Qte(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n.nodeType===1&&typeof n.nodeName=="string"}const it={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:ag?"webkitAnimationStart":"animationstart",ANIMATION_END:ag?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:ag?"webkitAnimationIteration":"animationiteration"},Cn={stop:function(n,e){n.preventDefault?n.preventDefault():n.returnValue=!1,e&&(n.stopPropagation?n.stopPropagation():n.cancelBubble=!0)}};function xbe(n){let e=[];for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)e[t]=n.scrollTop,n=n.parentNode;return e}function Lbe(n,e){for(let t=0;n&&n.nodeType===n.ELEMENT_NODE;t++)n.scrollTop!==e[t]&&(n.scrollTop=e[t]),n=n.parentNode}class Tbe extends Pe{constructor(e){super(),this._onDidFocus=this._register(new ae),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ae),this.onDidBlur=this._onDidBlur.event;let t=Cc(document.activeElement,e),i=!1;const r=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},o=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Cc(document.activeElement,e)!==t&&(t?o():r())},this._register(De(e,it.FOCUS,r,!0)),this._register(De(e,it.BLUR,o,!0))}}function Mv(n){return new Tbe(n)}function je(n,...e){if(n.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}function ID(n,...e){n.innerText="",je(n,...e)}const Ibe=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Mb;(function(n){n.HTML="http://www.w3.org/1999/xhtml",n.SVG="http://www.w3.org/2000/svg"})(Mb||(Mb={}));function Jte(n,e,t,...i){let r=Ibe.exec(e);if(!r)throw new Error("Bad use of emmet");t=Object.assign({},t||{});let o=r[1]||"div",s;return n!==Mb.HTML?s=document.createElementNS(n,o):s=document.createElement(o),r[3]&&(s.id=r[3]),r[4]&&(s.className=r[4].replace(/\./g," ").trim()),Object.keys(t).forEach(a=>{const l=t[a];typeof l>"u"||(/^on\w+$/.test(a)?s[a]=l:a==="selected"?l&&s.setAttribute(a,"true"):s.setAttribute(a,l))}),s.append(...i),s}function at(n,e,...t){return Jte(Mb.HTML,n,e,...t)}at.SVG=function(n,e,...t){return Jte(Mb.SVG,n,e,...t)};function ene(...n){for(let e of n)e.style.display="",e.removeAttribute("aria-hidden")}function _7(...n){for(let e of n)e.style.display="none",e.setAttribute("aria-hidden","true")}function Dbe(n){return Array.prototype.slice.call(document.getElementsByTagName(n),0)}function b7(n){const e=window.devicePixelRatio*n;return Math.max(1,Math.floor(e))/window.devicePixelRatio}function tne(n){window.open(n,"_blank","noopener")}function Ebe(n){const e=()=>{n(),t=iu(e)};let t=iu(e);return Tn(()=>t.dispose())}Hte.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function Ab(n){return n?`url('${fbe.asBrowserUri(n).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function S7(n){return`'${n.replace(/'/g,"%27")}'`}class Em extends ae{constructor(){super(),this._subscriptions=new St,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(De(window,"keydown",e=>{if(e.defaultPrevented)return;const t=new ni(e);if(!(t.keyCode===6&&e.repeat)){if(e.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(e.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(e.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(e.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(t.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=e,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(De(window,"keyup",e=>{e.defaultPrevented||(!e.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!e.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!e.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!e.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=e.altKey,this._keyStatus.ctrlKey=e.ctrlKey,this._keyStatus.metaKey=e.metaKey,this._keyStatus.shiftKey=e.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=e,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(De(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(De(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(De(document.body,"mousemove",e=>{e.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(De(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return Em.instance||(Em.instance=new Em),Em.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function Mbe(n,e){const t=window.matchMedia(n);typeof t.addEventListener=="function"?t.addEventListener("change",e):t.addListener(e)}function Abe(n){return!n||typeof n!="string"?!0:n.trim().length===0}const Nbe=/{(\d+)}/g;function Bl(n,...e){return e.length===0?n:n.replace(Nbe,function(t,i){const r=parseInt(i,10);return isNaN(r)||r<0||r>=e.length?t:e[r]})}function kbe(n){return n.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function oh(n){return n.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function nne(n,e){if(!n||!e)return n;const t=e.length;if(t===0||n.length===0)return n;let i=0;for(;n.indexOf(e,i)===i;)i=i+t;return n.substring(i)}function Pbe(n,e){if(!n||!e)return n;const t=e.length,i=n.length;if(t===0||i===0)return n;let r=i,o=-1;for(;o=n.lastIndexOf(e,r-1),!(o===-1||o+t!==r);){if(o===0)return"";r=o}return n.substring(0,r)}function Obe(n){return n.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function ine(n,e,t={}){if(!n)throw new Error("Cannot create regex from empty string");e||(n=oh(n)),t.wholeWord&&(/\B/.test(n.charAt(0))||(n="\\b"+n),/\B/.test(n.charAt(n.length-1))||(n=n+"\\b"));let i="";return t.global&&(i+="g"),t.matchCase||(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),new RegExp(n,i)}function Rbe(n){return n.source==="^"||n.source==="^$"||n.source==="$"||n.source==="^\\s*$"?!1:!!(n.exec("")&&n.lastIndex===0)}function sA(n){return(n.global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")}function DD(n){return n.split(/\r\n|\r|\n/)}function ps(n){for(let e=0,t=n.length;e<t;e++){const i=n.charCodeAt(e);if(i!==32&&i!==9)return e}return-1}function Ar(n,e=0,t=n.length){for(let i=e;i<t;i++){const r=n.charCodeAt(i);if(r!==32&&r!==9)return n.substring(e,i)}return n.substring(e,t)}function by(n,e=n.length-1){for(let t=e;t>=0;t--){const i=n.charCodeAt(t);if(i!==32&&i!==9)return t}return-1}function jO(n,e){return n<e?-1:n>e?1:0}function e$(n,e,t=0,i=n.length,r=0,o=e.length){for(;t<i&&r<o;t++,r++){let l=n.charCodeAt(t),u=e.charCodeAt(r);if(l<u)return-1;if(l>u)return 1}const s=i-t,a=o-r;return s<a?-1:s>a?1:0}function w7(n,e){return t$(n,e,0,n.length,0,e.length)}function t$(n,e,t=0,i=n.length,r=0,o=e.length){for(;t<i&&r<o;t++,r++){let l=n.charCodeAt(t),u=e.charCodeAt(r);if(l===u)continue;const c=l-u;if(!(c===32&&Yu(u))&&!(c===-32&&Yu(l)))return Gf(l)&&Gf(u)?c:e$(n.toLowerCase(),e.toLowerCase(),t,i,r,o)}const s=i-t,a=o-r;return s<a?-1:s>a?1:0}function Gf(n){return n>=97&&n<=122}function Yu(n){return n>=65&&n<=90}function C7(n){return Gf(n)||Yu(n)}function t_(n,e){return n.length===e.length&&rne(n,e)}function rne(n,e,t=n.length){for(let i=0;i<t;i++){const r=n.charCodeAt(i),o=e.charCodeAt(i);if(r!==o){if(C7(r)&&C7(o)){const s=Math.abs(r-o);if(s!==0&&s!==32)return!1}else if(String.fromCharCode(r).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}}return!0}function n$(n,e){const t=e.length;return e.length>n.length?!1:rne(n,e,t)}function x7(n,e){let t,i=Math.min(n.length,e.length);for(t=0;t<i;t++)if(n.charCodeAt(t)!==e.charCodeAt(t))return t;return i}function L7(n,e){let t,i=Math.min(n.length,e.length);const r=n.length-1,o=e.length-1;for(t=0;t<i;t++)if(n.charCodeAt(r-t)!==e.charCodeAt(o-t))return t;return i}function ji(n){return 55296<=n&&n<=56319}function Nb(n){return 56320<=n&&n<=57343}function i$(n,e){return(n-55296<<10)+(e-56320)+65536}function Xu(n,e,t){const i=n.charCodeAt(t);if(ji(i)&&t+1<e){const r=n.charCodeAt(t+1);if(Nb(r))return i$(i,r)}return i}function Jm(n,e){const t=n.charCodeAt(e-1);if(Nb(t)&&e>1){const i=n.charCodeAt(e-2);if(ji(i))return i$(i,t)}return t}function zL(n,e){const t=lc.getInstance(),i=e,r=n.length,o=Xu(n,r,e);e+=o>=65536?2:1;let s=t.getGraphemeBreakType(o);for(;e<r;){const a=Xu(n,r,e),l=t.getGraphemeBreakType(a);if(D_(s,l))break;e+=a>=65536?2:1,s=l}return e-i}function Bbe(n,e){const t=lc.getInstance(),i=e,r=Jm(n,e);e-=r>=65536?2:1;let o=t.getGraphemeBreakType(r);for(;e>0;){const s=Jm(n,e),a=t.getGraphemeBreakType(s);if(D_(a,o))break;e-=s>=65536?2:1,o=a}return i-e}function Fbe(n){const e=n.byteLength,t=[];let i=0;for(;i<e;){const r=n[i];let o;if(r>=240&&i+3<e?o=(n[i++]&7)<<18>>>0|(n[i++]&63)<<12>>>0|(n[i++]&63)<<6>>>0|(n[i++]&63)<<0>>>0:r>=224&&i+2<e?o=(n[i++]&15)<<12>>>0|(n[i++]&63)<<6>>>0|(n[i++]&63)<<0>>>0:r>=192&&i+1<e?o=(n[i++]&31)<<6>>>0|(n[i++]&63)<<0>>>0:o=n[i++],o>=0&&o<=55295||o>=57344&&o<=65535)t.push(String.fromCharCode(o));else if(o>=65536&&o<=1114111){const s=o-65536,a=55296+((s&1047552)>>>10),l=56320+((s&1023)>>>0);t.push(String.fromCharCode(a)),t.push(String.fromCharCode(l))}else t.push(String.fromCharCode(65533))}return t.join("")}const $be=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function r$(n){return $be.test(n)}const Vbe=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDED6])/;function Wbe(n){return Vbe.test(n)}const zbe=/^[\t\n\r\x20-\x7E]*$/;function one(n){return zbe.test(n)}const sne=/[\u2028\u2029]/;function ane(n){return sne.test(n)}function Hbe(n){for(let e=0,t=n.length;e<t;e++)if(Za(n.charCodeAt(e)))return!0;return!1}function Za(n){return n=+n,n>=11904&&n<=55215||n>=63744&&n<=64255||n>=65281&&n<=65374}function I_(n){return n>=127462&&n<=127487||n===8986||n===8987||n===9200||n===9203||n>=9728&&n<=10175||n===11088||n===11093||n>=127744&&n<=128591||n>=128640&&n<=128764||n>=128992&&n<=129003||n>=129280&&n<=129535||n>=129648&&n<=129750}const Ube=String.fromCharCode(65279);function o$(n){return!!(n&&n.length>0&&n.charCodeAt(0)===65279)}function Gbe(n,e=!1){return n?(e&&(n=n.replace(/\\./g,"")),n.toLowerCase()!==n):!1}function lne(n){return n=n%(2*26),n<26?String.fromCharCode(97+n):String.fromCharCode(65+n-26)}function Bp(n){return lc.getInstance().getGraphemeBreakType(n)}function D_(n,e){return n===0?e!==5&&e!==7:n===2&&e===3?!1:n===4||n===2||n===3||e===4||e===2||e===3?!0:!(n===8&&(e===8||e===9||e===11||e===12)||(n===11||n===9)&&(e===9||e===10)||(n===12||n===10)&&e===10||e===5||e===13||e===7||n===1||n===13&&e===14||n===6&&e===6)}class lc{constructor(){this._data=Kbe()}static getInstance(){return lc._INSTANCE||(lc._INSTANCE=new lc),lc._INSTANCE}getGraphemeBreakType(e){if(e<32)return e===10?3:e===13?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let r=1;for(;r<=i;)if(e<t[3*r])r=2*r;else if(e>t[3*r+1])r=2*r+1;else return t[3*r+2];return 0}}lc._INSTANCE=null;function Kbe(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}function jbe(n,e){if(n===0)return 0;const t=qbe(n,e);if(t!==void 0)return t;const i=Jm(e,n);return n-=vx(i),n}function qbe(n,e){let t=Jm(e,n);for(n-=vx(t);Ybe(t)||t===65039||t===8419;){if(n===0)return;t=Jm(e,n),n-=vx(t)}if(I_(t)){if(n>=0){const i=Jm(e,n);i===8205&&(n-=vx(i))}return n}}function vx(n){return n>=65536?2:1}function Ybe(n){return 127995<=n&&n<=127999}var T7,I7;class Xbe{constructor(){this._value="",this._pos=0}reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const t=e.charCodeAt(0),i=this._value.charCodeAt(this._pos);return t-i}value(){return this._value[this._pos]}}class Zbe{constructor(e=!0){this._caseSensitive=e}reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?e$(e,this._value,0,e.length,this._from,this._to):t$(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Qbe{constructor(e=!0,t=!0){this._splitOnBackslash=e,this._caseSensitive=t}reset(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++){const t=this._value.charCodeAt(this._to);if(t===47||this._splitOnBackslash&&t===92)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?e$(e,this._value,0,e.length,this._from,this._to):t$(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class Jbe{constructor(e){this._ignorePathCasing=e,this._states=[],this._stateIdx=0}reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new Qbe(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return w7(e,this._value.scheme);if(this._states[this._stateIdx]===2)return w7(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return jO(e,this._value.query);if(this._states[this._stateIdx]===5)return jO(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class s1{isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}}class E_{constructor(e){this._iter=e}static forUris(e=()=>!1){return new E_(new Jbe(e))}static forStrings(){return new E_(new Xbe)}static forConfigKeys(){return new E_(new Zbe)}clear(){this._root=void 0}set(e,t){const i=this._iter.reset(e);let r;for(this._root||(this._root=new s1,this._root.segment=i.value()),r=this._root;;){const s=i.cmp(r.segment);if(s>0)r.left||(r.left=new s1,r.left.segment=i.value()),r=r.left;else if(s<0)r.right||(r.right=new s1,r.right.segment=i.value()),r=r.right;else if(i.hasNext())i.next(),r.mid||(r.mid=new s1,r.mid.segment=i.value()),r=r.mid;else break}const o=r.value;return r.value=t,r.key=e,o}get(e){var t;return(t=this._getNode(e))===null||t===void 0?void 0:t.value}_getNode(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else break}return i}has(e){const t=this._getNode(e);return!((t==null?void 0:t.value)===void 0&&(t==null?void 0:t.mid)===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,t){const i=this._iter.reset(e),r=[];let o=this._root;for(;o;){const s=i.cmp(o.segment);if(s>0)r.push([1,o]),o=o.left;else if(s<0)r.push([-1,o]),o=o.right;else if(i.hasNext())i.next(),r.push([0,o]),o=o.mid;else{for(t?(o.left=void 0,o.mid=void 0,o.right=void 0):o.value=void 0;r.length>0&&o.isEmpty();){let[a,l]=r.pop();switch(a){case 1:l.left=void 0;break;case 0:l.mid=void 0;break;case-1:l.right=void 0;break}o=l}break}}}findSubstr(e){const t=this._iter.reset(e);let i=this._root,r;for(;i;){const o=t.cmp(i.segment);if(o>0)i=i.left;else if(o<0)i=i.right;else if(t.hasNext())t.next(),r=i.value||r,i=i.mid;else break}return i&&i.value||r}findSuperstr(e){const t=this._iter.reset(e);let i=this._root;for(;i;){const r=t.cmp(i.segment);if(r>0)i=i.left;else if(r<0)i=i.right;else if(t.hasNext())t.next(),i=i.mid;else return i.mid?this._entries(i.mid):void 0}}forEach(e){for(const[t,i]of this)e(i,t)}*[Symbol.iterator](){yield*this._entries(this._root)}*_entries(e){if(!e)return;const t=[e];for(;t.length>0;){const i=t.pop();i&&(i.value&&(yield[i.key,i.value]),i.left&&t.push(i.left),i.mid&&t.push(i.mid),i.right&&t.push(i.right))}}}class Jr{constructor(e,t){this[T7]="ResourceMap",e instanceof Jr?(this.map=new Map(e.map),this.toKey=t??Jr.defaultToKey):(this.map=new Map,this.toKey=e??Jr.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),t),this}get(e){return this.map.get(this.toKey(e))}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){typeof t<"u"&&(e=e.bind(t));for(let[i,r]of this.map)e(r,Nt.parse(i),this)}values(){return this.map.values()}*keys(){for(let e of this.map.keys())yield Nt.parse(e)}*entries(){for(let e of this.map.entries())yield[Nt.parse(e[0]),e[1]]}*[(T7=Symbol.toStringTag,Symbol.iterator)](){for(let e of this.map)yield[Nt.parse(e[0]),e[1]]}}Jr.defaultToKey=n=>n.toString();class eSe{constructor(){this[I7]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return t!==0&&this.touch(i,t),i.value}set(e,t,i=0){let r=this._map.get(e);if(r)r.value=t,i!==0&&this.touch(r,i);else{switch(r={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(r);break;case 1:this.addItemFirst(r);break;case 2:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.key,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}values(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:i.value,done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}entries(){const e=this,t=this._state;let i=this._head;const r={[Symbol.iterator](){return r},next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const o={value:[i.key,i.value],done:!1};return i=i.next,o}else return{value:void 0,done:!0}}};return r}[(I7=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(e===this._head)return;const i=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(i.previous=r,r.next=i),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===2){if(e===this._tail)return;const i=e.next,r=e.previous;e===this._head?(i.previous=void 0,this._head=i):(i.previous=r,r.next=i),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class une extends eSe{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const D7=typeof Buffer<"u",tSe=typeof TextDecoder<"u";let aA;class ED{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}static wrap(e){return D7&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new ED(e)}toString(){return D7?this.buffer.toString():tSe?(aA||(aA=new TextDecoder),aA.decode(this.buffer)):Fbe(this.buffer)}}function nSe(n,e){return n[e+0]<<0>>>0|n[e+1]<<8>>>0}function iSe(n,e,t){n[t+0]=e&255,e=e>>>8,n[t+1]=e&255}function Ia(n,e){return n[e]*Math.pow(2,24)+n[e+1]*Math.pow(2,16)+n[e+2]*Math.pow(2,8)+n[e+3]}function Da(n,e,t){n[t+3]=e,e=e>>>8,n[t+2]=e,e=e>>>8,n[t+1]=e,e=e>>>8,n[t]=e}function E7(n,e){return n[e]}function M7(n,e,t){n[t]=e}function A7(n){let e=JSON.parse(n);return e=qO(e),e}function qO(n,e=0){if(!n||e>200)return n;if(typeof n=="object"){switch(n.$mid){case 1:return Nt.revive(n);case 2:return new RegExp(n.source,n.flags)}if(n instanceof ED||n instanceof Uint8Array)return n;if(Array.isArray(n))for(let t=0;t<n.length;++t)n[t]=qO(n[t],e+1);else for(const t in n)Object.hasOwnProperty.call(n,t)&&(n[t]=qO(n[t],e+1))}return n}function rSe(n){return n.replace(/[\\/]/g,Ai.sep)}function oSe(n){return n.indexOf("/")===-1&&(n=rSe(n)),/^[a-zA-Z]:(\/|$)/.test(n)&&(n="/"+n),n}function sSe(n,e,t,i=mx){if(n===e)return!0;if(!n||!e||e.length>n.length)return!1;if(t){if(!n$(n,e))return!1;if(e.length===n.length)return!0;let o=e.length;return e.charAt(e.length-1)===i&&o--,n.charAt(o)===i}return e.charAt(e.length-1)!==i&&(e+=i),n.indexOf(e)===0}function lA(n){return $L(n,!0)}class aSe{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:jO(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t?!0:!e||!t?!1:this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return Nt.joinPath(e,...t)}basenameOrAuthority(e){return cne(e)||e.authority}basename(e){return Ai.basename(e.path)}dirname(e){if(e.path.length===0)return e;let t;return e.scheme===Nn.file?t=Nt.file(V_e(lA(e))).path:(t=Ai.dirname(e.path),e.authority&&t.length&&t.charCodeAt(0)!==47&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return e.scheme===Nn.file?t=Nt.file(kte(lA(e))).path:t=Ai.normalize(e.path),e.with({path:t})}resolvePath(e,t){if(e.scheme===Nn.file){const i=Nt.file(F_e(lA(e),t));return e.with({authority:i.authority,path:i.path})}return t=oSe(t),e.with({path:Ai.resolve(e.path,t)})}}const Ko=new aSe(()=>!1);Ko.isEqual.bind(Ko);Ko.basenameOrAuthority.bind(Ko);const cne=Ko.basename.bind(Ko);Ko.dirname.bind(Ko);Ko.joinPath.bind(Ko);const lSe=Ko.normalizePath.bind(Ko);Ko.resolvePath.bind(Ko);var HL;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function e(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(s=>{const[a,l]=s.split(":");a&&l&&i.set(a,l)});const o=t.path.substring(0,t.path.indexOf(";"));return o&&i.set(n.META_DATA_MIME,o),i}n.parseMetaData=e})(HL||(HL={}));function il(n){return typeof n=="string"}function fs(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&!(n instanceof RegExp)&&!(n instanceof Date)}function ow(n){return typeof n=="number"&&!isNaN(n)}function dne(n){return n===!0||n===!1}function ms(n){return typeof n>"u"}function $a(n){return ms(n)||n===null}function Qa(n,e){if(!n)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}function M_(n){return typeof n=="function"}function uSe(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)cSe(n[i],e[i])}function cSe(n,e){if(il(e)){if(typeof n!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(M_(e)){try{if(n instanceof e)return}catch{}if(!$a(n)&&n.constructor===e||e.length===1&&e.call(void 0,n)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function dSe(n){let e=[],t=Object.getPrototypeOf(n);for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}function s$(n){const e=[];for(const t of dSe(n))typeof n[t]=="function"&&e.push(t);return e}function hne(n,e){const t=r=>function(){const o=Array.prototype.slice.call(arguments,0);return e(r,o)};let i={};for(const r of n)i[r]=t(r);return i}function Mm(n){return n===null?void 0:n}function hSe(n,e="Unreachable"){throw new Error(e)}const Qo=an("commandService"),Mr=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ae,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(n,e){if(!n)throw new Error("invalid command");if(typeof n=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:n,handler:e})}if(n.description){const s=[];for(let l of n.description.args)s.push(l.constraint);const a=n.handler;n.handler=function(l,...u){return uSe(u,s),a(l,...u)}}const{id:t}=n;let i=this._commands.get(t);i||(i=new ta,this._commands.set(t,i));let r=i.unshift(n),o=Tn(()=>{r();const s=this._commands.get(t);s!=null&&s.isEmpty()&&this._commands.delete(t)});return this._onDidRegisterCommand.fire(t),o}registerCommandAlias(n,e){return Mr.registerCommand(n,(t,...i)=>t.get(Qo).executeCommand(e,...i))}getCommand(n){const e=this._commands.get(n);if(!(!e||e.isEmpty()))return At.first(e)}getCommands(){const n=new Map;for(const e of this._commands.keys()){const t=this.getCommand(e);t&&n.set(e,t)}return n}};Mr.registerCommand("noop",()=>{});var UL;(function(n){n[n.API=0]="API",n[n.USER=1]="USER"})(UL||(UL={}));globalThis&&globalThis.__awaiter;const N7=an("openerService");function vm(n,e){return Nt.isUri(n)?t_(n.scheme,e):n$(n,e+":")}var a$=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GL=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},If=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};let YO=class{constructor(e){this._commandService=e}open(e,t){return If(this,void 0,void 0,function*(){if(!vm(e,Nn.command))return!1;if(!(t!=null&&t.allowCommands))return!0;typeof e=="string"&&(e=Nt.parse(e));let i=[];try{i=A7(decodeURIComponent(e.query))}catch{try{i=A7(e.query)}catch{}}return Array.isArray(i)||(i=[i]),yield this._commandService.executeCommand(e.path,...i),!0})}};YO=a$([GL(0,Qo)],YO);let XO=class{constructor(e){this._editorService=e}open(e,t){return If(this,void 0,void 0,function*(){typeof e=="string"&&(e=Nt.parse(e));let i;const r=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return r&&(i={startLineNumber:parseInt(r[1]),startColumn:r[2]?parseInt(r[2]):1},e=e.with({fragment:""})),e.scheme===Nn.file&&(e=lSe(e)),yield this._editorService.openCodeEditor({resource:e,options:Object.assign({selection:i,context:t!=null&&t.fromUserGesture?UL.USER:UL.API},t==null?void 0:t.editorOptions)},this._editorService.getFocusedCodeEditor(),t==null?void 0:t.openToSide),!0})}};XO=a$([GL(0,mr)],XO);let ZO=class{constructor(e,t){this._openers=new ta,this._validators=new ta,this._resolvers=new ta,this._resolvedUriTargets=new Jr(i=>i.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new ta,this._defaultExternalOpener={openExternal:i=>If(this,void 0,void 0,function*(){return vm(i,Nn.http)||vm(i,Nn.https)?tne(i):window.location.href=i,!0})},this._openers.push({open:(i,r)=>If(this,void 0,void 0,function*(){return r!=null&&r.openExternal||vm(i,Nn.mailto)||vm(i,Nn.http)||vm(i,Nn.https)?(yield this._doOpenExternal(i,r),!0):!1})}),this._openers.push(new YO(t)),this._openers.push(new XO(e))}registerOpener(e){return{dispose:this._openers.unshift(e)}}registerValidator(e){return{dispose:this._validators.push(e)}}registerExternalUriResolver(e){return{dispose:this._resolvers.push(e)}}setDefaultExternalOpener(e){this._defaultExternalOpener=e}registerExternalOpener(e){return{dispose:this._externalOpeners.push(e)}}open(e,t){var i;return If(this,void 0,void 0,function*(){const r=typeof e=="string"?Nt.parse(e):e,o=(i=this._resolvedUriTargets.get(r))!==null&&i!==void 0?i:e;for(const s of this._validators)if(!(yield s.shouldOpen(o)))return!1;for(const s of this._openers)if(yield s.open(e,t))return!0;return!1})}resolveExternalUri(e,t){return If(this,void 0,void 0,function*(){for(const i of this._resolvers)try{const r=yield i.resolveExternalUri(e,t);if(r)return this._resolvedUriTargets.has(r.resolved)||this._resolvedUriTargets.set(r.resolved,e),r}catch{}throw new Error("Could not resolve external URI: "+e.toString())})}_doOpenExternal(e,t){return If(this,void 0,void 0,function*(){const i=typeof e=="string"?Nt.parse(e):e;let r;try{r=(yield this.resolveExternalUri(i,t)).resolved}catch{r=i}let o;if(typeof e=="string"&&i.toString()===r.toString()?o=e:o=encodeURI(r.toString(!0)),t!=null&&t.allowContributedOpeners){const s=typeof(t==null?void 0:t.allowContributedOpeners)=="string"?t==null?void 0:t.allowContributedOpeners:void 0;for(const a of this._externalOpeners)if(yield a.openExternal(o,{sourceUri:i,preferredOpenerId:s},Uo.None))return!0}return this._defaultExternalOpener.openExternal(o,{sourceUri:i},Uo.None)})}dispose(){this._validators.clear()}};ZO=a$([GL(0,mr),GL(1,Qo)],ZO);function yx(n,e){if(!n)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}function Df(n){if(!n||typeof n!="object"||n instanceof RegExp)return n;const e=Array.isArray(n)?[]:{};return Object.keys(n).forEach(t=>{n[t]&&typeof n[t]=="object"?e[t]=Df(n[t]):e[t]=n[t]}),e}function fSe(n){if(!n||typeof n!="object")return n;const e=[n];for(;e.length>0;){const t=e.shift();Object.freeze(t);for(const i in t)if(gSe.call(t,i)){const r=t[i];typeof r=="object"&&!Object.isFrozen(r)&&e.push(r)}}return n}const gSe=Object.prototype.hasOwnProperty;function Lh(n,e,t=!0){return fs(n)?(fs(e)&&Object.keys(e).forEach(i=>{i in n?t&&(fs(n[i])&&fs(e[i])?Lh(n[i],e[i],t):n[i]=e[i]):n[i]=e[i]}),n):e}function hc(n,e){if(n===e)return!0;if(n==null||e===null||e===void 0||typeof n!=typeof e||typeof n!="object"||Array.isArray(n)!==Array.isArray(e))return!1;let t,i;if(Array.isArray(n)){if(n.length!==e.length)return!1;for(t=0;t<n.length;t++)if(!hc(n[t],e[t]))return!1}else{const r=[];for(i in n)r.push(i);r.sort();const o=[];for(i in e)o.push(i);if(o.sort(),!hc(r,o))return!1;for(t=0;t<r.length;t++)if(!hc(n[r[t]],e[r[t]]))return!1}return!0}function vl(n,e,t){const i=e(n);return typeof i>"u"?t:i}const pSe={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class mSe extends Pe{constructor(e,t={}){super(),this._onDidUpdate=this._register(new ae),this._editor=e,this._options=Lh(t,pSe,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(i=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(i=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(t=>{!this._options.ignoreCharChanges&&t.charChanges?t.charChanges.forEach(i=>{this.ranges.push({rhs:!0,range:new ee(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new ee(t.modifiedStartLineNumber,1,t.modifiedStartLineNumber,1)})}),this.ranges.sort((t,i)=>t.range.getStartPosition().isBeforeOrEqual(i.range.getStartPosition())?-1:i.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(!i){this.nextIdx=0;return}for(let r=0,o=this.ranges.length;r<o&&!t;r++){let s=this.ranges[r].range;i.isBeforeOrEqual(s.getStartPosition())&&(this.nextIdx=r+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(e,t){if(yx(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let r=i.range.getStartPosition();this._editor.setPosition(r),this._editor.revealPositionInCenter(r,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const KL=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ae,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(n){n=Math.min(Math.max(-5,n),20),this._zoomLevel!==n&&(this._zoomLevel=n,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},vSe=Qt?1.5:1.35,uA=8;class Av{constructor(e){this._bareFontInfoBrand=void 0,this.zoomLevel=e.zoomLevel,this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i,r){const o=e.get(40),s=e.get(44),a=e.get(43),l=e.get(42),u=e.get(57),c=e.get(54);return Av._create(o,s,a,l,u,c,t,i,r)}static _create(e,t,i,r,o,s,a,l,u){o===0?o=vSe*i:o<uA&&(o=o*i),o=Math.round(o),o<uA&&(o=uA);const c=1+(u?0:KL.getZoomLevel()*.1);return i*=c,o*=c,new Av({zoomLevel:a,pixelRatio:l,fontFamily:e,fontWeight:t,fontSize:i,fontFeatureSettings:r,lineHeight:o,letterSpacing:s})}getId(){return this.zoomLevel+"-"+this.pixelRatio+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}const ySe=1;class QO extends Av{constructor(e,t){super(e),this._editorStylingBrand=void 0,this.version=ySe,this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}function _Se(n){return n&&typeof n.id=="string"}const MD={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var sh;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(sh||(sh={}));var ah;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(ah||(ah={}));class _x{constructor(e){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,e.tabSize|0),this.indentSize=e.tabSize|0,this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class kb{constructor(e,t){this._findMatchBrand=void 0,this.range=e,this.matches=t}}class cA{constructor(e,t,i,r,o,s){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=r,this.isAutoWhitespaceEdit=o,this._isTracked=s}}class bSe{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}function k7(n,e){return(e<<5)-e+n|0}function SSe(n,e){e=k7(149417,e);for(let t=0,i=n.length;t<i;t++)e=k7(n.charCodeAt(t),e);return e}function dA(n,e,t=32){const i=t-e,r=~((1<<i)-1);return(n<<e|(r&n)>>>i)>>>0}function P7(n,e=0,t=n.byteLength,i=0){for(let r=0;r<t;r++)n[e+r]=i}function wSe(n,e,t="0"){for(;n.length<e;)n=t+n;return n}function n0(n,e=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join(""):wSe((n>>>0).toString(16),e/4)}class AD{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(t===0)return;const i=this._buff;let r=this._buffLen,o=this._leftoverHighSurrogate,s,a;for(o!==0?(s=o,a=-1,o=0):(s=e.charCodeAt(0),a=0);;){let l=s;if(ji(s))if(a+1<t){const u=e.charCodeAt(a+1);Nb(u)?(a++,l=i$(s,u)):l=65533}else{o=s;break}else Nb(s)&&(l=65533);if(r=this._push(i,r,l),a++,a<t)s=e.charCodeAt(a);else break}this._buffLen=r,this._leftoverHighSurrogate=o}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(i&1984)>>>6,e[t++]=128|(i&63)>>>0):i<65536?(e[t++]=224|(i&61440)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0):(e[t++]=240|(i&1835008)>>>18,e[t++]=128|(i&258048)>>>12,e[t++]=128|(i&4032)>>>6,e[t++]=128|(i&63)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64+0],e[1]=e[64+1],e[2]=e[64+2]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),n0(this._h0)+n0(this._h1)+n0(this._h2)+n0(this._h3)+n0(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,P7(this._buff,this._buffLen),this._buffLen>56&&(this._step(),P7(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=AD._bigBlock32,t=this._buffDV;for(let d=0;d<64;d+=4)e.setUint32(d,t.getUint32(d,!1),!1);for(let d=64;d<320;d+=4)e.setUint32(d,dA(e.getUint32(d-12,!1)^e.getUint32(d-32,!1)^e.getUint32(d-56,!1)^e.getUint32(d-64,!1),1),!1);let i=this._h0,r=this._h1,o=this._h2,s=this._h3,a=this._h4,l,u,c;for(let d=0;d<80;d++)d<20?(l=r&o|~r&s,u=1518500249):d<40?(l=r^o^s,u=1859775393):d<60?(l=r&o|r&s|o&s,u=2400959708):(l=r^o^s,u=3395469782),c=dA(i,5)+l+a+u+e.getUint32(d*4,!1)&4294967295,a=s,s=o,o=dA(r,30),r=i,i=c;this._h0=this._h0+i&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+s&4294967295,this._h4=this._h4+a&4294967295}}AD._bigBlock32=new DataView(new ArrayBuffer(320));function Ea(n,e,t){return Math.min(Math.max(n,e),t)}const hA="**",O7="/",bx="[/\\\\]",Sx="[^/\\\\]",CSe=/\//g;function R7(n){switch(n){case 0:return"";case 1:return`${Sx}*?`;default:return`(?:${bx}|${Sx}+${bx}|${bx}${Sx}+)*?`}}function B7(n,e){if(!n)return[];const t=[];let i=!1,r=!1,o="";for(const s of n){switch(s){case e:if(!i&&!r){t.push(o),o="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":r=!0;break;case"]":r=!1;break}o+=s}return o&&t.push(o),t}function fne(n){if(!n)return"";let e="";const t=B7(n,O7);if(t.every(i=>i===hA))e=".*";else{let i=!1;t.forEach((r,o)=>{if(r===hA){i||(e+=R7(2),i=!0);return}let s=!1,a="",l=!1,u="";for(const c of r){if(c!=="}"&&s){a+=c;continue}if(l&&(c!=="]"||!u)){let d;c==="-"?d=c:(c==="^"||c==="!")&&!u?d="^":c===O7?d="":d=oh(c),u+=d;continue}switch(c){case"{":s=!0;continue;case"[":l=!0;continue;case"}":const h=`(?:${B7(a,",").map(f=>fne(f)).join("|")})`;e+=h,s=!1,a="";break;case"]":e+="["+u+"]",l=!1,u="";break;case"?":e+=Sx;continue;case"*":e+=R7(1);continue;default:e+=oh(c)}}o<t.length-1&&(t[o+1]!==hA||o+2<t.length)&&(e+=bx),i=!1})}return e}const xSe=/^\*\*\/\*\.[\w\.-]+$/,LSe=/^\*\*\/([\w\.-]+)\/?$/,TSe=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,ISe=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,DSe=/^\*\*((\/[\w\.-]+)+)\/?$/,ESe=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,F7=new une(1e4),$7=function(){return!1},Zl=function(){return null};function l$(n,e){if(!n)return Zl;let t;typeof n!="string"?t=n.pattern:t=n,t=t.trim();const i=`${t}_${!!e.trimForExclusions}`;let r=F7.get(i);if(r)return V7(r,n);let o;if(xSe.test(t)){const s=t.substr(4);r=function(a,l){return typeof a=="string"&&a.endsWith(s)?t:null}}else(o=LSe.exec(fA(t,e)))?r=MSe(o[1],t):(e.trimForExclusions?ISe:TSe).test(t)?r=ASe(t,e):(o=DSe.exec(fA(t,e)))?r=W7(o[1].substr(1),t,!0):(o=ESe.exec(fA(t,e)))?r=W7(o[1],t,!1):r=NSe(t);return F7.set(i,r),V7(r,n)}function V7(n,e){return typeof e=="string"?n:function(t,i){return sSe(t,e.base)?n($_e(e.base,t),i):null}}function fA(n,e){return e.trimForExclusions&&n.endsWith("/**")?n.substr(0,n.length-2):n}function MSe(n,e){const t=`/${n}`,i=`\\${n}`,r=function(s,a){return typeof s!="string"?null:a?a===n?e:null:s===n||s.endsWith(t)||s.endsWith(i)?e:null},o=[n];return r.basenames=o,r.patterns=[e],r.allBasenames=o,r}function ASe(n,e){const t=pne(n.slice(1,-1).split(",").map(a=>l$(a,e)).filter(a=>a!==Zl),n),i=t.length;if(!i)return Zl;if(i===1)return t[0];const r=function(a,l){for(let u=0,c=t.length;u<c;u++)if(t[u](a,l))return n;return null},o=t.find(a=>!!a.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(r.allPaths=s),r}function W7(n,e,t){const i=mx===Ai.sep,r=i?n:n.replace(CSe,mx),o=mx+r,s=Ai.sep+n,a=t?function(l,u){return typeof l=="string"&&(l===r||l.endsWith(o)||!i&&(l===n||l.endsWith(s)))?e:null}:function(l,u){return typeof l=="string"&&(l===r||!i&&l===n)?e:null};return a.allPaths=[(t?"*/":"./")+n],a}function NSe(n){try{const e=new RegExp(`^${fne(n)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?n:null}}catch{return Zl}}function gne(n,e,t){return!n||typeof e!="string"?!1:kSe(n)(e,void 0,t)}function kSe(n,e={}){if(!n)return $7;if(typeof n=="string"||PSe(n)){const t=l$(n,e);if(t===Zl)return $7;const i=function(r,o){return!!t(r,o)};return t.allBasenames&&(i.allBasenames=t.allBasenames),t.allPaths&&(i.allPaths=t.allPaths),i}return OSe(n,e)}function PSe(n){const e=n;return e&&typeof e.base=="string"&&typeof e.pattern=="string"}function OSe(n,e){const t=pne(Object.getOwnPropertyNames(n).map(a=>RSe(a,n[a],e)).filter(a=>a!==Zl)),i=t.length;if(!i)return Zl;if(!t.some(a=>!!a.requiresSiblings)){if(i===1)return t[0];const a=function(c,d){for(let h=0,f=t.length;h<f;h++){const g=t[h](c,d);if(g)return g}return null},l=t.find(c=>!!c.allBasenames);l&&(a.allBasenames=l.allBasenames);const u=t.reduce((c,d)=>d.allPaths?c.concat(d.allPaths):c,[]);return u.length&&(a.allPaths=u),a}const r=function(a,l,u){let c;for(let d=0,h=t.length;d<h;d++){const f=t[d];f.requiresSiblings&&u&&(l||(l=Pte(a)),c||(c=l.substr(0,l.length-W_e(a).length)));const g=f(a,l,c,u);if(g)return g}return null},o=t.find(a=>!!a.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=t.reduce((a,l)=>l.allPaths?a.concat(l.allPaths):a,[]);return s.length&&(r.allPaths=s),r}function RSe(n,e,t){if(e===!1)return Zl;const i=l$(n,t);if(i===Zl)return Zl;if(typeof e=="boolean")return i;if(e){const r=e.when;if(typeof r=="string"){const o=(s,a,l,u)=>{if(!u||!i(s,a))return null;const c=r.replace("$(basename)",l),d=u(c);return lbe(d)?d.then(h=>h?n:null):d?n:null};return o.requiresSiblings=!0,o}}return i}function pne(n,e){const t=n.filter(a=>!!a.basenames);if(t.length<2)return n;const i=t.reduce((a,l)=>{const u=l.basenames;return u?a.concat(u):a},[]);let r;if(e){r=[];for(let a=0,l=i.length;a<l;a++)r.push(e)}else r=t.reduce((a,l)=>{const u=l.patterns;return u?a.concat(u):a},[]);const o=function(a,l){if(typeof a!="string")return null;if(!l){let c;for(c=a.length;c>0;c--){const d=a.charCodeAt(c-1);if(d===47||d===92)break}l=a.substr(c)}const u=i.indexOf(l);return u!==-1?r[u]:null};o.basenames=i,o.patterns=r,o.allBasenames=i;const s=n.filter(a=>!a.basenames);return s.push(o),s}function mne(n,e,t,i){if(Array.isArray(n)){let r=0;for(const o of n){const s=mne(o,e,t,i);if(s===10)return s;s>r&&(r=s)}return r}else{if(typeof n=="string")return i?n==="*"?5:n===t?10:0:0;if(n){const{language:r,pattern:o,scheme:s,hasAccessToAllModels:a}=n;if(!i&&!a)return 0;let l=0;if(s)if(s===e.scheme)l=10;else if(s==="*")l=5;else return 0;if(r)if(r===t)l=10;else if(r==="*")l=Math.max(l,5);else return 0;if(o){let u;if(typeof o=="string"?u=o:u=Object.assign(Object.assign({},o),{base:kte(o.base)}),u===e.fsPath||gne(u,e.fsPath))l=10;else return 0}return l}else return 0}}const Jo=an("modelService");function BSe(n){return!n.isTooLargeForSyncing()&&!n.isForSimpleWidget}function vne(n){return typeof n=="string"?!1:Array.isArray(n)?n.every(vne):!!n.exclusive}class Jn{constructor(){this._clock=0,this._entries=[],this._onDidChange=new ae}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),Tn(()=>{if(i){let r=this._entries.indexOf(i);r>=0&&(this._entries.splice(r,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let i of this._entries)i._score>0&&t.push(i.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,i=>t.push(i.provider)),t}orderedGroups(e){const t=[];let i,r;return this._orderedForEach(e,o=>{i&&r===o._score?i.push(o.provider):(r=o._score,i=[o.provider],t.push(i))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const i of this._entries)i._score>0&&t(i)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri)){this._lastCandidate=t;for(let i of this._entries)if(i._score=mne(i.selector,e.uri,e.getLanguageIdentifier().language,BSe(e)),vne(i.selector)&&i._score>0){for(let r of this._entries)r._score=0;i._score=1e3;break}this._entries.sort(Jn._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}class FSe{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new ae,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),Tn(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,r=!1;return this._promises.set(e,t.then(o=>{this._promises.delete(e),!(r||!o)&&(i=this.register(e,o))})),Tn(()=>{r=!0,i&&i.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then(r=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}let $Se=class{constructor(){this._icons=new Map,this._onDidRegister=new ae}add(e){const t=this._icons.get(e.id);t?e.description?t.description=e.description:console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}};const yne=new $Se,jL=yne;function ga(n,e){return new sn(n,e)}function VSe(n){return n?n.replace(/\$\((.*?)\)/g,(e,t)=>` ${t} `).trim():""}class sn{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,yne.add(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}}var bo;(function(n){n.iconNameSegment="[A-Za-z0-9]+",n.iconNameExpression="[A-Za-z0-9\\-]+",n.iconModifierExpression="~[A-Za-z]+";const e=new RegExp(`^(${n.iconNameExpression})(${n.iconModifierExpression})?$`);function t(o){if(o instanceof sn)return["codicon","codicon-"+o.id];const s=e.exec(o.id);if(!s)return t(sn.error);let[,a,l]=s;const u=["codicon","codicon-"+a];return l&&u.push("codicon-modifier-"+l.substr(1)),u}n.asClassNameArray=t;function i(o){return t(o).join(" ")}n.asClassName=i;function r(o){return"."+t(o).join(".")}n.asCSSSelector=r})(bo||(bo={}));(function(n){n.add=new n("add",{fontCharacter:"\\ea60"}),n.plus=new n("plus",{fontCharacter:"\\ea60"}),n.gistNew=new n("gist-new",{fontCharacter:"\\ea60"}),n.repoCreate=new n("repo-create",{fontCharacter:"\\ea60"}),n.lightbulb=new n("lightbulb",{fontCharacter:"\\ea61"}),n.lightBulb=new n("light-bulb",{fontCharacter:"\\ea61"}),n.repo=new n("repo",{fontCharacter:"\\ea62"}),n.repoDelete=new n("repo-delete",{fontCharacter:"\\ea62"}),n.gistFork=new n("gist-fork",{fontCharacter:"\\ea63"}),n.repoForked=new n("repo-forked",{fontCharacter:"\\ea63"}),n.gitPullRequest=new n("git-pull-request",{fontCharacter:"\\ea64"}),n.gitPullRequestAbandoned=new n("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),n.recordKeys=new n("record-keys",{fontCharacter:"\\ea65"}),n.keyboard=new n("keyboard",{fontCharacter:"\\ea65"}),n.tag=new n("tag",{fontCharacter:"\\ea66"}),n.tagAdd=new n("tag-add",{fontCharacter:"\\ea66"}),n.tagRemove=new n("tag-remove",{fontCharacter:"\\ea66"}),n.person=new n("person",{fontCharacter:"\\ea67"}),n.personFollow=new n("person-follow",{fontCharacter:"\\ea67"}),n.personOutline=new n("person-outline",{fontCharacter:"\\ea67"}),n.personFilled=new n("person-filled",{fontCharacter:"\\ea67"}),n.gitBranch=new n("git-branch",{fontCharacter:"\\ea68"}),n.gitBranchCreate=new n("git-branch-create",{fontCharacter:"\\ea68"}),n.gitBranchDelete=new n("git-branch-delete",{fontCharacter:"\\ea68"}),n.sourceControl=new n("source-control",{fontCharacter:"\\ea68"}),n.mirror=new n("mirror",{fontCharacter:"\\ea69"}),n.mirrorPublic=new n("mirror-public",{fontCharacter:"\\ea69"}),n.star=new n("star",{fontCharacter:"\\ea6a"}),n.starAdd=new n("star-add",{fontCharacter:"\\ea6a"}),n.starDelete=new n("star-delete",{fontCharacter:"\\ea6a"}),n.starEmpty=new n("star-empty",{fontCharacter:"\\ea6a"}),n.comment=new n("comment",{fontCharacter:"\\ea6b"}),n.commentAdd=new n("comment-add",{fontCharacter:"\\ea6b"}),n.alert=new n("alert",{fontCharacter:"\\ea6c"}),n.warning=new n("warning",{fontCharacter:"\\ea6c"}),n.search=new n("search",{fontCharacter:"\\ea6d"}),n.searchSave=new n("search-save",{fontCharacter:"\\ea6d"}),n.logOut=new n("log-out",{fontCharacter:"\\ea6e"}),n.signOut=new n("sign-out",{fontCharacter:"\\ea6e"}),n.logIn=new n("log-in",{fontCharacter:"\\ea6f"}),n.signIn=new n("sign-in",{fontCharacter:"\\ea6f"}),n.eye=new n("eye",{fontCharacter:"\\ea70"}),n.eyeUnwatch=new n("eye-unwatch",{fontCharacter:"\\ea70"}),n.eyeWatch=new n("eye-watch",{fontCharacter:"\\ea70"}),n.circleFilled=new n("circle-filled",{fontCharacter:"\\ea71"}),n.primitiveDot=new n("primitive-dot",{fontCharacter:"\\ea71"}),n.closeDirty=new n("close-dirty",{fontCharacter:"\\ea71"}),n.debugBreakpoint=new n("debug-breakpoint",{fontCharacter:"\\ea71"}),n.debugBreakpointDisabled=new n("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),n.debugHint=new n("debug-hint",{fontCharacter:"\\ea71"}),n.primitiveSquare=new n("primitive-square",{fontCharacter:"\\ea72"}),n.edit=new n("edit",{fontCharacter:"\\ea73"}),n.pencil=new n("pencil",{fontCharacter:"\\ea73"}),n.info=new n("info",{fontCharacter:"\\ea74"}),n.issueOpened=new n("issue-opened",{fontCharacter:"\\ea74"}),n.gistPrivate=new n("gist-private",{fontCharacter:"\\ea75"}),n.gitForkPrivate=new n("git-fork-private",{fontCharacter:"\\ea75"}),n.lock=new n("lock",{fontCharacter:"\\ea75"}),n.mirrorPrivate=new n("mirror-private",{fontCharacter:"\\ea75"}),n.close=new n("close",{fontCharacter:"\\ea76"}),n.removeClose=new n("remove-close",{fontCharacter:"\\ea76"}),n.x=new n("x",{fontCharacter:"\\ea76"}),n.repoSync=new n("repo-sync",{fontCharacter:"\\ea77"}),n.sync=new n("sync",{fontCharacter:"\\ea77"}),n.clone=new n("clone",{fontCharacter:"\\ea78"}),n.desktopDownload=new n("desktop-download",{fontCharacter:"\\ea78"}),n.beaker=new n("beaker",{fontCharacter:"\\ea79"}),n.microscope=new n("microscope",{fontCharacter:"\\ea79"}),n.vm=new n("vm",{fontCharacter:"\\ea7a"}),n.deviceDesktop=new n("device-desktop",{fontCharacter:"\\ea7a"}),n.file=new n("file",{fontCharacter:"\\ea7b"}),n.fileText=new n("file-text",{fontCharacter:"\\ea7b"}),n.more=new n("more",{fontCharacter:"\\ea7c"}),n.ellipsis=new n("ellipsis",{fontCharacter:"\\ea7c"}),n.kebabHorizontal=new n("kebab-horizontal",{fontCharacter:"\\ea7c"}),n.mailReply=new n("mail-reply",{fontCharacter:"\\ea7d"}),n.reply=new n("reply",{fontCharacter:"\\ea7d"}),n.organization=new n("organization",{fontCharacter:"\\ea7e"}),n.organizationFilled=new n("organization-filled",{fontCharacter:"\\ea7e"}),n.organizationOutline=new n("organization-outline",{fontCharacter:"\\ea7e"}),n.newFile=new n("new-file",{fontCharacter:"\\ea7f"}),n.fileAdd=new n("file-add",{fontCharacter:"\\ea7f"}),n.newFolder=new n("new-folder",{fontCharacter:"\\ea80"}),n.fileDirectoryCreate=new n("file-directory-create",{fontCharacter:"\\ea80"}),n.trash=new n("trash",{fontCharacter:"\\ea81"}),n.trashcan=new n("trashcan",{fontCharacter:"\\ea81"}),n.history=new n("history",{fontCharacter:"\\ea82"}),n.clock=new n("clock",{fontCharacter:"\\ea82"}),n.folder=new n("folder",{fontCharacter:"\\ea83"}),n.fileDirectory=new n("file-directory",{fontCharacter:"\\ea83"}),n.symbolFolder=new n("symbol-folder",{fontCharacter:"\\ea83"}),n.logoGithub=new n("logo-github",{fontCharacter:"\\ea84"}),n.markGithub=new n("mark-github",{fontCharacter:"\\ea84"}),n.github=new n("github",{fontCharacter:"\\ea84"}),n.terminal=new n("terminal",{fontCharacter:"\\ea85"}),n.console=new n("console",{fontCharacter:"\\ea85"}),n.repl=new n("repl",{fontCharacter:"\\ea85"}),n.zap=new n("zap",{fontCharacter:"\\ea86"}),n.symbolEvent=new n("symbol-event",{fontCharacter:"\\ea86"}),n.error=new n("error",{fontCharacter:"\\ea87"}),n.stop=new n("stop",{fontCharacter:"\\ea87"}),n.variable=new n("variable",{fontCharacter:"\\ea88"}),n.symbolVariable=new n("symbol-variable",{fontCharacter:"\\ea88"}),n.array=new n("array",{fontCharacter:"\\ea8a"}),n.symbolArray=new n("symbol-array",{fontCharacter:"\\ea8a"}),n.symbolModule=new n("symbol-module",{fontCharacter:"\\ea8b"}),n.symbolPackage=new n("symbol-package",{fontCharacter:"\\ea8b"}),n.symbolNamespace=new n("symbol-namespace",{fontCharacter:"\\ea8b"}),n.symbolObject=new n("symbol-object",{fontCharacter:"\\ea8b"}),n.symbolMethod=new n("symbol-method",{fontCharacter:"\\ea8c"}),n.symbolFunction=new n("symbol-function",{fontCharacter:"\\ea8c"}),n.symbolConstructor=new n("symbol-constructor",{fontCharacter:"\\ea8c"}),n.symbolBoolean=new n("symbol-boolean",{fontCharacter:"\\ea8f"}),n.symbolNull=new n("symbol-null",{fontCharacter:"\\ea8f"}),n.symbolNumeric=new n("symbol-numeric",{fontCharacter:"\\ea90"}),n.symbolNumber=new n("symbol-number",{fontCharacter:"\\ea90"}),n.symbolStructure=new n("symbol-structure",{fontCharacter:"\\ea91"}),n.symbolStruct=new n("symbol-struct",{fontCharacter:"\\ea91"}),n.symbolParameter=new n("symbol-parameter",{fontCharacter:"\\ea92"}),n.symbolTypeParameter=new n("symbol-type-parameter",{fontCharacter:"\\ea92"}),n.symbolKey=new n("symbol-key",{fontCharacter:"\\ea93"}),n.symbolText=new n("symbol-text",{fontCharacter:"\\ea93"}),n.symbolReference=new n("symbol-reference",{fontCharacter:"\\ea94"}),n.goToFile=new n("go-to-file",{fontCharacter:"\\ea94"}),n.symbolEnum=new n("symbol-enum",{fontCharacter:"\\ea95"}),n.symbolValue=new n("symbol-value",{fontCharacter:"\\ea95"}),n.symbolRuler=new n("symbol-ruler",{fontCharacter:"\\ea96"}),n.symbolUnit=new n("symbol-unit",{fontCharacter:"\\ea96"}),n.activateBreakpoints=new n("activate-breakpoints",{fontCharacter:"\\ea97"}),n.archive=new n("archive",{fontCharacter:"\\ea98"}),n.arrowBoth=new n("arrow-both",{fontCharacter:"\\ea99"}),n.arrowDown=new n("arrow-down",{fontCharacter:"\\ea9a"}),n.arrowLeft=new n("arrow-left",{fontCharacter:"\\ea9b"}),n.arrowRight=new n("arrow-right",{fontCharacter:"\\ea9c"}),n.arrowSmallDown=new n("arrow-small-down",{fontCharacter:"\\ea9d"}),n.arrowSmallLeft=new n("arrow-small-left",{fontCharacter:"\\ea9e"}),n.arrowSmallRight=new n("arrow-small-right",{fontCharacter:"\\ea9f"}),n.arrowSmallUp=new n("arrow-small-up",{fontCharacter:"\\eaa0"}),n.arrowUp=new n("arrow-up",{fontCharacter:"\\eaa1"}),n.bell=new n("bell",{fontCharacter:"\\eaa2"}),n.bold=new n("bold",{fontCharacter:"\\eaa3"}),n.book=new n("book",{fontCharacter:"\\eaa4"}),n.bookmark=new n("bookmark",{fontCharacter:"\\eaa5"}),n.debugBreakpointConditionalUnverified=new n("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),n.debugBreakpointConditional=new n("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),n.debugBreakpointConditionalDisabled=new n("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),n.debugBreakpointDataUnverified=new n("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),n.debugBreakpointData=new n("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),n.debugBreakpointDataDisabled=new n("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),n.debugBreakpointLogUnverified=new n("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),n.debugBreakpointLog=new n("debug-breakpoint-log",{fontCharacter:"\\eaab"}),n.debugBreakpointLogDisabled=new n("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),n.briefcase=new n("briefcase",{fontCharacter:"\\eaac"}),n.broadcast=new n("broadcast",{fontCharacter:"\\eaad"}),n.browser=new n("browser",{fontCharacter:"\\eaae"}),n.bug=new n("bug",{fontCharacter:"\\eaaf"}),n.calendar=new n("calendar",{fontCharacter:"\\eab0"}),n.caseSensitive=new n("case-sensitive",{fontCharacter:"\\eab1"}),n.check=new n("check",{fontCharacter:"\\eab2"}),n.checklist=new n("checklist",{fontCharacter:"\\eab3"}),n.chevronDown=new n("chevron-down",{fontCharacter:"\\eab4"}),n.chevronLeft=new n("chevron-left",{fontCharacter:"\\eab5"}),n.chevronRight=new n("chevron-right",{fontCharacter:"\\eab6"}),n.chevronUp=new n("chevron-up",{fontCharacter:"\\eab7"}),n.chromeClose=new n("chrome-close",{fontCharacter:"\\eab8"}),n.chromeMaximize=new n("chrome-maximize",{fontCharacter:"\\eab9"}),n.chromeMinimize=new n("chrome-minimize",{fontCharacter:"\\eaba"}),n.chromeRestore=new n("chrome-restore",{fontCharacter:"\\eabb"}),n.circleOutline=new n("circle-outline",{fontCharacter:"\\eabc"}),n.debugBreakpointUnverified=new n("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),n.circleSlash=new n("circle-slash",{fontCharacter:"\\eabd"}),n.circuitBoard=new n("circuit-board",{fontCharacter:"\\eabe"}),n.clearAll=new n("clear-all",{fontCharacter:"\\eabf"}),n.clippy=new n("clippy",{fontCharacter:"\\eac0"}),n.closeAll=new n("close-all",{fontCharacter:"\\eac1"}),n.cloudDownload=new n("cloud-download",{fontCharacter:"\\eac2"}),n.cloudUpload=new n("cloud-upload",{fontCharacter:"\\eac3"}),n.code=new n("code",{fontCharacter:"\\eac4"}),n.collapseAll=new n("collapse-all",{fontCharacter:"\\eac5"}),n.colorMode=new n("color-mode",{fontCharacter:"\\eac6"}),n.commentDiscussion=new n("comment-discussion",{fontCharacter:"\\eac7"}),n.compareChanges=new n("compare-changes",{fontCharacter:"\\eafd"}),n.creditCard=new n("credit-card",{fontCharacter:"\\eac9"}),n.dash=new n("dash",{fontCharacter:"\\eacc"}),n.dashboard=new n("dashboard",{fontCharacter:"\\eacd"}),n.database=new n("database",{fontCharacter:"\\eace"}),n.debugContinue=new n("debug-continue",{fontCharacter:"\\eacf"}),n.debugDisconnect=new n("debug-disconnect",{fontCharacter:"\\ead0"}),n.debugPause=new n("debug-pause",{fontCharacter:"\\ead1"}),n.debugRestart=new n("debug-restart",{fontCharacter:"\\ead2"}),n.debugStart=new n("debug-start",{fontCharacter:"\\ead3"}),n.debugStepInto=new n("debug-step-into",{fontCharacter:"\\ead4"}),n.debugStepOut=new n("debug-step-out",{fontCharacter:"\\ead5"}),n.debugStepOver=new n("debug-step-over",{fontCharacter:"\\ead6"}),n.debugStop=new n("debug-stop",{fontCharacter:"\\ead7"}),n.debug=new n("debug",{fontCharacter:"\\ead8"}),n.deviceCameraVideo=new n("device-camera-video",{fontCharacter:"\\ead9"}),n.deviceCamera=new n("device-camera",{fontCharacter:"\\eada"}),n.deviceMobile=new n("device-mobile",{fontCharacter:"\\eadb"}),n.diffAdded=new n("diff-added",{fontCharacter:"\\eadc"}),n.diffIgnored=new n("diff-ignored",{fontCharacter:"\\eadd"}),n.diffModified=new n("diff-modified",{fontCharacter:"\\eade"}),n.diffRemoved=new n("diff-removed",{fontCharacter:"\\eadf"}),n.diffRenamed=new n("diff-renamed",{fontCharacter:"\\eae0"}),n.diff=new n("diff",{fontCharacter:"\\eae1"}),n.discard=new n("discard",{fontCharacter:"\\eae2"}),n.editorLayout=new n("editor-layout",{fontCharacter:"\\eae3"}),n.emptyWindow=new n("empty-window",{fontCharacter:"\\eae4"}),n.exclude=new n("exclude",{fontCharacter:"\\eae5"}),n.extensions=new n("extensions",{fontCharacter:"\\eae6"}),n.eyeClosed=new n("eye-closed",{fontCharacter:"\\eae7"}),n.fileBinary=new n("file-binary",{fontCharacter:"\\eae8"}),n.fileCode=new n("file-code",{fontCharacter:"\\eae9"}),n.fileMedia=new n("file-media",{fontCharacter:"\\eaea"}),n.filePdf=new n("file-pdf",{fontCharacter:"\\eaeb"}),n.fileSubmodule=new n("file-submodule",{fontCharacter:"\\eaec"}),n.fileSymlinkDirectory=new n("file-symlink-directory",{fontCharacter:"\\eaed"}),n.fileSymlinkFile=new n("file-symlink-file",{fontCharacter:"\\eaee"}),n.fileZip=new n("file-zip",{fontCharacter:"\\eaef"}),n.files=new n("files",{fontCharacter:"\\eaf0"}),n.filter=new n("filter",{fontCharacter:"\\eaf1"}),n.flame=new n("flame",{fontCharacter:"\\eaf2"}),n.foldDown=new n("fold-down",{fontCharacter:"\\eaf3"}),n.foldUp=new n("fold-up",{fontCharacter:"\\eaf4"}),n.fold=new n("fold",{fontCharacter:"\\eaf5"}),n.folderActive=new n("folder-active",{fontCharacter:"\\eaf6"}),n.folderOpened=new n("folder-opened",{fontCharacter:"\\eaf7"}),n.gear=new n("gear",{fontCharacter:"\\eaf8"}),n.gift=new n("gift",{fontCharacter:"\\eaf9"}),n.gistSecret=new n("gist-secret",{fontCharacter:"\\eafa"}),n.gist=new n("gist",{fontCharacter:"\\eafb"}),n.gitCommit=new n("git-commit",{fontCharacter:"\\eafc"}),n.gitCompare=new n("git-compare",{fontCharacter:"\\eafd"}),n.gitMerge=new n("git-merge",{fontCharacter:"\\eafe"}),n.githubAction=new n("github-action",{fontCharacter:"\\eaff"}),n.githubAlt=new n("github-alt",{fontCharacter:"\\eb00"}),n.globe=new n("globe",{fontCharacter:"\\eb01"}),n.grabber=new n("grabber",{fontCharacter:"\\eb02"}),n.graph=new n("graph",{fontCharacter:"\\eb03"}),n.gripper=new n("gripper",{fontCharacter:"\\eb04"}),n.heart=new n("heart",{fontCharacter:"\\eb05"}),n.home=new n("home",{fontCharacter:"\\eb06"}),n.horizontalRule=new n("horizontal-rule",{fontCharacter:"\\eb07"}),n.hubot=new n("hubot",{fontCharacter:"\\eb08"}),n.inbox=new n("inbox",{fontCharacter:"\\eb09"}),n.issueClosed=new n("issue-closed",{fontCharacter:"\\eba4"}),n.issueReopened=new n("issue-reopened",{fontCharacter:"\\eb0b"}),n.issues=new n("issues",{fontCharacter:"\\eb0c"}),n.italic=new n("italic",{fontCharacter:"\\eb0d"}),n.jersey=new n("jersey",{fontCharacter:"\\eb0e"}),n.json=new n("json",{fontCharacter:"\\eb0f"}),n.kebabVertical=new n("kebab-vertical",{fontCharacter:"\\eb10"}),n.key=new n("key",{fontCharacter:"\\eb11"}),n.law=new n("law",{fontCharacter:"\\eb12"}),n.lightbulbAutofix=new n("lightbulb-autofix",{fontCharacter:"\\eb13"}),n.linkExternal=new n("link-external",{fontCharacter:"\\eb14"}),n.link=new n("link",{fontCharacter:"\\eb15"}),n.listOrdered=new n("list-ordered",{fontCharacter:"\\eb16"}),n.listUnordered=new n("list-unordered",{fontCharacter:"\\eb17"}),n.liveShare=new n("live-share",{fontCharacter:"\\eb18"}),n.loading=new n("loading",{fontCharacter:"\\eb19"}),n.location=new n("location",{fontCharacter:"\\eb1a"}),n.mailRead=new n("mail-read",{fontCharacter:"\\eb1b"}),n.mail=new n("mail",{fontCharacter:"\\eb1c"}),n.markdown=new n("markdown",{fontCharacter:"\\eb1d"}),n.megaphone=new n("megaphone",{fontCharacter:"\\eb1e"}),n.mention=new n("mention",{fontCharacter:"\\eb1f"}),n.milestone=new n("milestone",{fontCharacter:"\\eb20"}),n.mortarBoard=new n("mortar-board",{fontCharacter:"\\eb21"}),n.move=new n("move",{fontCharacter:"\\eb22"}),n.multipleWindows=new n("multiple-windows",{fontCharacter:"\\eb23"}),n.mute=new n("mute",{fontCharacter:"\\eb24"}),n.noNewline=new n("no-newline",{fontCharacter:"\\eb25"}),n.note=new n("note",{fontCharacter:"\\eb26"}),n.octoface=new n("octoface",{fontCharacter:"\\eb27"}),n.openPreview=new n("open-preview",{fontCharacter:"\\eb28"}),n.package_=new n("package",{fontCharacter:"\\eb29"}),n.paintcan=new n("paintcan",{fontCharacter:"\\eb2a"}),n.pin=new n("pin",{fontCharacter:"\\eb2b"}),n.play=new n("play",{fontCharacter:"\\eb2c"}),n.run=new n("run",{fontCharacter:"\\eb2c"}),n.plug=new n("plug",{fontCharacter:"\\eb2d"}),n.preserveCase=new n("preserve-case",{fontCharacter:"\\eb2e"}),n.preview=new n("preview",{fontCharacter:"\\eb2f"}),n.project=new n("project",{fontCharacter:"\\eb30"}),n.pulse=new n("pulse",{fontCharacter:"\\eb31"}),n.question=new n("question",{fontCharacter:"\\eb32"}),n.quote=new n("quote",{fontCharacter:"\\eb33"}),n.radioTower=new n("radio-tower",{fontCharacter:"\\eb34"}),n.reactions=new n("reactions",{fontCharacter:"\\eb35"}),n.references=new n("references",{fontCharacter:"\\eb36"}),n.refresh=new n("refresh",{fontCharacter:"\\eb37"}),n.regex=new n("regex",{fontCharacter:"\\eb38"}),n.remoteExplorer=new n("remote-explorer",{fontCharacter:"\\eb39"}),n.remote=new n("remote",{fontCharacter:"\\eb3a"}),n.remove=new n("remove",{fontCharacter:"\\eb3b"}),n.replaceAll=new n("replace-all",{fontCharacter:"\\eb3c"}),n.replace=new n("replace",{fontCharacter:"\\eb3d"}),n.repoClone=new n("repo-clone",{fontCharacter:"\\eb3e"}),n.repoForcePush=new n("repo-force-push",{fontCharacter:"\\eb3f"}),n.repoPull=new n("repo-pull",{fontCharacter:"\\eb40"}),n.repoPush=new n("repo-push",{fontCharacter:"\\eb41"}),n.report=new n("report",{fontCharacter:"\\eb42"}),n.requestChanges=new n("request-changes",{fontCharacter:"\\eb43"}),n.rocket=new n("rocket",{fontCharacter:"\\eb44"}),n.rootFolderOpened=new n("root-folder-opened",{fontCharacter:"\\eb45"}),n.rootFolder=new n("root-folder",{fontCharacter:"\\eb46"}),n.rss=new n("rss",{fontCharacter:"\\eb47"}),n.ruby=new n("ruby",{fontCharacter:"\\eb48"}),n.saveAll=new n("save-all",{fontCharacter:"\\eb49"}),n.saveAs=new n("save-as",{fontCharacter:"\\eb4a"}),n.save=new n("save",{fontCharacter:"\\eb4b"}),n.screenFull=new n("screen-full",{fontCharacter:"\\eb4c"}),n.screenNormal=new n("screen-normal",{fontCharacter:"\\eb4d"}),n.searchStop=new n("search-stop",{fontCharacter:"\\eb4e"}),n.server=new n("server",{fontCharacter:"\\eb50"}),n.settingsGear=new n("settings-gear",{fontCharacter:"\\eb51"}),n.settings=new n("settings",{fontCharacter:"\\eb52"}),n.shield=new n("shield",{fontCharacter:"\\eb53"}),n.smiley=new n("smiley",{fontCharacter:"\\eb54"}),n.sortPrecedence=new n("sort-precedence",{fontCharacter:"\\eb55"}),n.splitHorizontal=new n("split-horizontal",{fontCharacter:"\\eb56"}),n.splitVertical=new n("split-vertical",{fontCharacter:"\\eb57"}),n.squirrel=new n("squirrel",{fontCharacter:"\\eb58"}),n.starFull=new n("star-full",{fontCharacter:"\\eb59"}),n.starHalf=new n("star-half",{fontCharacter:"\\eb5a"}),n.symbolClass=new n("symbol-class",{fontCharacter:"\\eb5b"}),n.symbolColor=new n("symbol-color",{fontCharacter:"\\eb5c"}),n.symbolConstant=new n("symbol-constant",{fontCharacter:"\\eb5d"}),n.symbolEnumMember=new n("symbol-enum-member",{fontCharacter:"\\eb5e"}),n.symbolField=new n("symbol-field",{fontCharacter:"\\eb5f"}),n.symbolFile=new n("symbol-file",{fontCharacter:"\\eb60"}),n.symbolInterface=new n("symbol-interface",{fontCharacter:"\\eb61"}),n.symbolKeyword=new n("symbol-keyword",{fontCharacter:"\\eb62"}),n.symbolMisc=new n("symbol-misc",{fontCharacter:"\\eb63"}),n.symbolOperator=new n("symbol-operator",{fontCharacter:"\\eb64"}),n.symbolProperty=new n("symbol-property",{fontCharacter:"\\eb65"}),n.wrench=new n("wrench",{fontCharacter:"\\eb65"}),n.wrenchSubaction=new n("wrench-subaction",{fontCharacter:"\\eb65"}),n.symbolSnippet=new n("symbol-snippet",{fontCharacter:"\\eb66"}),n.tasklist=new n("tasklist",{fontCharacter:"\\eb67"}),n.telescope=new n("telescope",{fontCharacter:"\\eb68"}),n.textSize=new n("text-size",{fontCharacter:"\\eb69"}),n.threeBars=new n("three-bars",{fontCharacter:"\\eb6a"}),n.thumbsdown=new n("thumbsdown",{fontCharacter:"\\eb6b"}),n.thumbsup=new n("thumbsup",{fontCharacter:"\\eb6c"}),n.tools=new n("tools",{fontCharacter:"\\eb6d"}),n.triangleDown=new n("triangle-down",{fontCharacter:"\\eb6e"}),n.triangleLeft=new n("triangle-left",{fontCharacter:"\\eb6f"}),n.triangleRight=new n("triangle-right",{fontCharacter:"\\eb70"}),n.triangleUp=new n("triangle-up",{fontCharacter:"\\eb71"}),n.twitter=new n("twitter",{fontCharacter:"\\eb72"}),n.unfold=new n("unfold",{fontCharacter:"\\eb73"}),n.unlock=new n("unlock",{fontCharacter:"\\eb74"}),n.unmute=new n("unmute",{fontCharacter:"\\eb75"}),n.unverified=new n("unverified",{fontCharacter:"\\eb76"}),n.verified=new n("verified",{fontCharacter:"\\eb77"}),n.versions=new n("versions",{fontCharacter:"\\eb78"}),n.vmActive=new n("vm-active",{fontCharacter:"\\eb79"}),n.vmOutline=new n("vm-outline",{fontCharacter:"\\eb7a"}),n.vmRunning=new n("vm-running",{fontCharacter:"\\eb7b"}),n.watch=new n("watch",{fontCharacter:"\\eb7c"}),n.whitespace=new n("whitespace",{fontCharacter:"\\eb7d"}),n.wholeWord=new n("whole-word",{fontCharacter:"\\eb7e"}),n.window=new n("window",{fontCharacter:"\\eb7f"}),n.wordWrap=new n("word-wrap",{fontCharacter:"\\eb80"}),n.zoomIn=new n("zoom-in",{fontCharacter:"\\eb81"}),n.zoomOut=new n("zoom-out",{fontCharacter:"\\eb82"}),n.listFilter=new n("list-filter",{fontCharacter:"\\eb83"}),n.listFlat=new n("list-flat",{fontCharacter:"\\eb84"}),n.listSelection=new n("list-selection",{fontCharacter:"\\eb85"}),n.selection=new n("selection",{fontCharacter:"\\eb85"}),n.listTree=new n("list-tree",{fontCharacter:"\\eb86"}),n.debugBreakpointFunctionUnverified=new n("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),n.debugBreakpointFunction=new n("debug-breakpoint-function",{fontCharacter:"\\eb88"}),n.debugBreakpointFunctionDisabled=new n("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),n.debugStackframeActive=new n("debug-stackframe-active",{fontCharacter:"\\eb89"}),n.debugStackframeDot=new n("debug-stackframe-dot",{fontCharacter:"\\eb8a"}),n.debugStackframe=new n("debug-stackframe",{fontCharacter:"\\eb8b"}),n.debugStackframeFocused=new n("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),n.debugBreakpointUnsupported=new n("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),n.symbolString=new n("symbol-string",{fontCharacter:"\\eb8d"}),n.debugReverseContinue=new n("debug-reverse-continue",{fontCharacter:"\\eb8e"}),n.debugStepBack=new n("debug-step-back",{fontCharacter:"\\eb8f"}),n.debugRestartFrame=new n("debug-restart-frame",{fontCharacter:"\\eb90"}),n.callIncoming=new n("call-incoming",{fontCharacter:"\\eb92"}),n.callOutgoing=new n("call-outgoing",{fontCharacter:"\\eb93"}),n.menu=new n("menu",{fontCharacter:"\\eb94"}),n.expandAll=new n("expand-all",{fontCharacter:"\\eb95"}),n.feedback=new n("feedback",{fontCharacter:"\\eb96"}),n.groupByRefType=new n("group-by-ref-type",{fontCharacter:"\\eb97"}),n.ungroupByRefType=new n("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),n.account=new n("account",{fontCharacter:"\\eb99"}),n.bellDot=new n("bell-dot",{fontCharacter:"\\eb9a"}),n.debugConsole=new n("debug-console",{fontCharacter:"\\eb9b"}),n.library=new n("library",{fontCharacter:"\\eb9c"}),n.output=new n("output",{fontCharacter:"\\eb9d"}),n.runAll=new n("run-all",{fontCharacter:"\\eb9e"}),n.syncIgnored=new n("sync-ignored",{fontCharacter:"\\eb9f"}),n.pinned=new n("pinned",{fontCharacter:"\\eba0"}),n.githubInverted=new n("github-inverted",{fontCharacter:"\\eba1"}),n.debugAlt=new n("debug-alt",{fontCharacter:"\\eb91"}),n.serverProcess=new n("server-process",{fontCharacter:"\\eba2"}),n.serverEnvironment=new n("server-environment",{fontCharacter:"\\eba3"}),n.pass=new n("pass",{fontCharacter:"\\eba4"}),n.stopCircle=new n("stop-circle",{fontCharacter:"\\eba5"}),n.playCircle=new n("play-circle",{fontCharacter:"\\eba6"}),n.record=new n("record",{fontCharacter:"\\eba7"}),n.debugAltSmall=new n("debug-alt-small",{fontCharacter:"\\eba8"}),n.vmConnect=new n("vm-connect",{fontCharacter:"\\eba9"}),n.cloud=new n("cloud",{fontCharacter:"\\ebaa"}),n.merge=new n("merge",{fontCharacter:"\\ebab"}),n.exportIcon=new n("export",{fontCharacter:"\\ebac"}),n.graphLeft=new n("graph-left",{fontCharacter:"\\ebad"}),n.magnet=new n("magnet",{fontCharacter:"\\ebae"}),n.notebook=new n("notebook",{fontCharacter:"\\ebaf"}),n.redo=new n("redo",{fontCharacter:"\\ebb0"}),n.checkAll=new n("check-all",{fontCharacter:"\\ebb1"}),n.pinnedDirty=new n("pinned-dirty",{fontCharacter:"\\ebb2"}),n.passFilled=new n("pass-filled",{fontCharacter:"\\ebb3"}),n.circleLargeFilled=new n("circle-large-filled",{fontCharacter:"\\ebb4"}),n.circleLargeOutline=new n("circle-large-outline",{fontCharacter:"\\ebb5"}),n.combine=new n("combine",{fontCharacter:"\\ebb6"}),n.gather=new n("gather",{fontCharacter:"\\ebb6"}),n.table=new n("table",{fontCharacter:"\\ebb7"}),n.variableGroup=new n("variable-group",{fontCharacter:"\\ebb8"}),n.typeHierarchy=new n("type-hierarchy",{fontCharacter:"\\ebb9"}),n.typeHierarchySub=new n("type-hierarchy-sub",{fontCharacter:"\\ebba"}),n.typeHierarchySuper=new n("type-hierarchy-super",{fontCharacter:"\\ebbb"}),n.gitPullRequestCreate=new n("git-pull-request-create",{fontCharacter:"\\ebbc"}),n.runAbove=new n("run-above",{fontCharacter:"\\ebbd"}),n.runBelow=new n("run-below",{fontCharacter:"\\ebbe"}),n.notebookTemplate=new n("notebook-template",{fontCharacter:"\\ebbf"}),n.debugRerun=new n("debug-rerun",{fontCharacter:"\\ebc0"}),n.workspaceTrusted=new n("workspace-trusted",{fontCharacter:"\\ebc1"}),n.workspaceUntrusted=new n("workspace-untrusted",{fontCharacter:"\\ebc2"}),n.workspaceUnspecified=new n("workspace-unspecified",{fontCharacter:"\\ebc3"}),n.terminalCmd=new n("terminal-cmd",{fontCharacter:"\\ebc4"}),n.terminalDebian=new n("terminal-debian",{fontCharacter:"\\ebc5"}),n.terminalLinux=new n("terminal-linux",{fontCharacter:"\\ebc6"}),n.terminalPowershell=new n("terminal-powershell",{fontCharacter:"\\ebc7"}),n.terminalTmux=new n("terminal-tmux",{fontCharacter:"\\ebc8"}),n.terminalUbuntu=new n("terminal-ubuntu",{fontCharacter:"\\ebc9"}),n.terminalBash=new n("terminal-bash",{fontCharacter:"\\ebca"}),n.arrowSwap=new n("arrow-swap",{fontCharacter:"\\ebcb"}),n.copy=new n("copy",{fontCharacter:"\\ebcc"}),n.personAdd=new n("person-add",{fontCharacter:"\\ebcd"}),n.filterFilled=new n("filter-filled",{fontCharacter:"\\ebce"}),n.wand=new n("wand",{fontCharacter:"\\ebcf"}),n.debugLineByLine=new n("debug-line-by-line",{fontCharacter:"\\ebd0"}),n.inspect=new n("inspect",{fontCharacter:"\\ebd1"}),n.layers=new n("layers",{fontCharacter:"\\ebd2"}),n.layersDot=new n("layers-dot",{fontCharacter:"\\ebd3"}),n.layersActive=new n("layers-active",{fontCharacter:"\\ebd4"}),n.compass=new n("compass",{fontCharacter:"\\ebd5"}),n.compassDot=new n("compass-dot",{fontCharacter:"\\ebd6"}),n.compassActive=new n("compass-active",{fontCharacter:"\\ebd7"}),n.azure=new n("azure",{fontCharacter:"\\ebd8"}),n.issueDraft=new n("issue-draft",{fontCharacter:"\\ebd9"}),n.gitPullRequestClosed=new n("git-pull-request-closed",{fontCharacter:"\\ebda"}),n.gitPullRequestDraft=new n("git-pull-request-draft",{fontCharacter:"\\ebdb"}),n.debugAll=new n("debug-all",{fontCharacter:"\\ebdc"}),n.debugCoverage=new n("debug-coverage",{fontCharacter:"\\ebdd"}),n.dropDownButton=new n("drop-down-button",n.chevronDown.definition)})(sn||(sn={}));class u${constructor(e,t){this.language=e,this.id=t}}class Ys{static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&1792)>>>8}static getFontStyle(e){return(e&14336)>>>11}static getForeground(e){return(e&8372224)>>>14}static getBackground(e){return(e&4286578688)>>>23}static getClassNameFromMetadata(e){let i="mtk"+this.getForeground(e),r=this.getFontStyle(e);return r&1&&(i+=" mtki"),r&2&&(i+=" mtkb"),r&4&&(i+=" mtku"),i}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),r=this.getFontStyle(e);let o=`color: ${t[i]};`;return r&1&&(o+="font-style: italic;"),r&2&&(o+="font-weight: bold;"),r&4&&(o+="text-decoration: underline;"),o}}(function(){let n=Object.create(null);return n[0]="symbol-method",n[1]="symbol-function",n[2]="symbol-constructor",n[3]="symbol-field",n[4]="symbol-variable",n[5]="symbol-class",n[6]="symbol-struct",n[7]="symbol-interface",n[8]="symbol-module",n[9]="symbol-property",n[10]="symbol-event",n[11]="symbol-operator",n[12]="symbol-unit",n[13]="symbol-value",n[14]="symbol-constant",n[15]="symbol-enum",n[16]="symbol-enum-member",n[17]="symbol-keyword",n[27]="symbol-snippet",n[18]="symbol-text",n[19]="symbol-color",n[20]="symbol-file",n[21]="symbol-reference",n[22]="symbol-customcolor",n[23]="symbol-folder",n[24]="symbol-type-parameter",n[25]="account",n[26]="issues",function(e){const t=n[e];let i=t&&jL.get(t);return i||(console.info("No codicon found for CompletionItemKind "+e),i=sn.symbolProperty),i.classNames}})();(function(){let n=Object.create(null);return n.method=0,n.function=1,n.constructor=2,n.field=3,n.variable=4,n.class=5,n.struct=6,n.interface=7,n.module=8,n.property=9,n.event=10,n.operator=11,n.unit=12,n.value=13,n.constant=14,n.enum=15,n["enum-member"]=16,n.enumMember=16,n.keyword=17,n.snippet=27,n.text=18,n.color=19,n.file=20,n.reference=21,n.customcolor=22,n.folder=23,n["type-parameter"]=24,n.typeParameter=24,n.account=25,n.issue=26,function(e,t){let i=n[e];return typeof i>"u"&&!t&&(i=9),i}})();var z7;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(z7||(z7={}));var H7;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(H7||(H7={}));var U7;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(U7||(U7={}));var G7;(function(n){const e=new Map;e.set("file",0),e.set("module",1),e.set("namespace",2),e.set("package",3),e.set("class",4),e.set("method",5),e.set("property",6),e.set("field",7),e.set("constructor",8),e.set("enum",9),e.set("interface",10),e.set("function",11),e.set("variable",12),e.set("constant",13),e.set("string",14),e.set("number",15),e.set("boolean",16),e.set("array",17),e.set("object",18),e.set("key",19),e.set("null",20),e.set("enum-member",21),e.set("struct",22),e.set("event",23),e.set("operator",24),e.set("type-parameter",25);const t=new Map;t.set(0,"file"),t.set(1,"module"),t.set(2,"namespace"),t.set(3,"package"),t.set(4,"class"),t.set(5,"method"),t.set(6,"property"),t.set(7,"field"),t.set(8,"constructor"),t.set(9,"enum"),t.set(10,"interface"),t.set(11,"function"),t.set(12,"variable"),t.set(13,"constant"),t.set(14,"string"),t.set(15,"number"),t.set(16,"boolean"),t.set(17,"array"),t.set(18,"object"),t.set(19,"key"),t.set(20,"null"),t.set(21,"enum-member"),t.set(22,"struct"),t.set(23,"event"),t.set(24,"operator"),t.set(25,"type-parameter");function i(s){return e.get(s)}n.fromString=i;function r(s){return t.get(s)}n.toString=r;function o(s,a){const l=t.get(s);let u=l&&jL.get("symbol-"+l);return u||(console.info("No codicon found for SymbolKind "+s),u=sn.symbolProperty),`${a?"inline":"block"} ${u.classNames}`}n.toCssClassName=o})(G7||(G7={}));class Ag{constructor(e){this.value=e}}Ag.Comment=new Ag("comment");Ag.Imports=new Ag("imports");Ag.Region=new Ag("region");var K7;(function(n){n[n.Other=0]="Other",n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(K7||(K7={}));const JO=new Jn,eR=new Jn,qL=new Jn,WSe=new Jn,tR=new Jn,nR=new Jn,iR=new Jn,rR=new Jn,zSe=new Jn,oR=new Jn,sR=new Jn,aR=new Jn,lR=new Jn,uR=new Jn,cR=new Jn,dR=new Jn,A_=new Jn,Ld=new Jn,_ne=new Jn,bne=new Jn,HSe=new Jn,USe=new Jn,GSe=new Jn,YL=new Jn,Sne=new Jn,gi=new FSe;class KSe{clone(){return this}equals(e){return this===e}}const c$=new KSe,d$="vs.editor.nullMode",XL=new u$(d$,0);function jSe(n,e,t,i){return new qF([new LD(i,"",n)],t)}function qSe(n,e,t,i){let r=new Uint32Array(2);return r[0]=i,r[1]=(n<<0|0|0|16384|2<<23)>>>0,new TD(r,t===null?c$:t)}const YSe="editorWorkerService",lp=an(YSe),h$=an("modeService"),j7=an("textModelService"),XSe="$initialize";let q7=!1;function hR(n){wD&&(q7||(q7=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(n.message))}class ZSe{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((r,o)=>{this._pendingReplies[i]={resolve:r,reject:o},this._send({vsWorker:this._workerId,req:i,method:e,args:t})})}handleMessage(e){!e||!e.vsWorker||this._workerId!==-1&&e.vsWorker!==this._workerId||this._handleMessage(e)}_handleMessage(e){if(e.seq){let o=e;if(!this._pendingReplies[o.seq]){console.warn("Got reply to unknown seq");return}let s=this._pendingReplies[o.seq];if(delete this._pendingReplies[o.seq],o.err){let a=o.err;o.err.$isError&&(a=new Error,a.name=o.err.name,a.message=o.err.message,a.stack=o.err.stack),s.reject(a);return}s.resolve(o.res);return}let t=e,i=t.req;this._handler.handleMessage(t.method,t.args).then(o=>{this._send({vsWorker:this._workerId,seq:i,res:o,err:void 0})},o=>{o.detail instanceof Error&&(o.detail=h7(o.detail)),this._send({vsWorker:this._workerId,seq:i,res:void 0,err:h7(o)})})}_send(e){let t=[];if(e.req){const i=e;for(let r=0;r<i.args.length;r++)i.args[r]instanceof ArrayBuffer&&t.push(i.args[r])}else{const i=e;i.res instanceof ArrayBuffer&&t.push(i.res)}this._handler.sendMessage(e,t)}}class QSe extends Pe{constructor(e,t,i){super();let r=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",l=>{this._protocol.handleMessage(l)},l=>{r&&r(l)})),this._protocol=new ZSe({sendMessage:(l,u)=>{this._worker.postMessage(l,u)},handleMessage:(l,u)=>{if(typeof i[l]!="function")return Promise.reject(new Error("Missing method "+l+" on main thread host."));try{return Promise.resolve(i[l].apply(i,u))}catch(c){return Promise.reject(c)}}}),this._protocol.setWorkerId(this._worker.getId());let o=null;typeof self.require<"u"&&typeof self.require.getConfig=="function"?o=self.require.getConfig():typeof self.requirejs<"u"&&(o=self.requirejs.s.contexts._.config);const s=s$(i);this._onModuleLoaded=this._protocol.sendMessage(XSe,[this._worker.getId(),JSON.parse(JSON.stringify(o)),t,s]);const a=(l,u)=>this._request(l,u);this._lazyProxy=new Promise((l,u)=>{r=u,this._onModuleLoaded.then(c=>{l(hne(c,a))},c=>{u(c),this._onError("Worker failed to load "+t,c)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,r)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,r)},r)})}_onError(e,t){console.error(e),console.info(t)}}var gA;const Y7=(gA=window.trustedTypes)===null||gA===void 0?void 0:gA.createPolicy("defaultWorkerFactory",{createScriptURL:n=>n});function JSe(n,e){if(li.MonacoEnvironment){if(typeof li.MonacoEnvironment.getWorker=="function")return li.MonacoEnvironment.getWorker(n,e);if(typeof li.MonacoEnvironment.getWorkerUrl=="function"){const t=li.MonacoEnvironment.getWorkerUrl(n,e);return new Worker(Y7?Y7.createScriptURL(t):t,{name:e})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function ewe(n){return typeof n.then=="function"}class twe{constructor(e,t,i,r,o){this.id=t;const s=JSe("workerMain.js",i);ewe(s)?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(a=>{a.onmessage=function(l){r(l.data)},a.onmessageerror=o,typeof a.addEventListener=="function"&&a.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class ND{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let r=++ND.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new twe(e,r,this._label||"anonymous"+r,t,o=>{hR(o),this._webWorkerFailedBeforeError=o,i(o)})}}ND.LAST_WORKER_ID=0;var Ii;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Ii||(Ii={}));class pA{constructor(e){if(this._standardAutoClosingPairConditionalBrand=void 0,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}isOK(e){return(this._standardTokenMask&e)===0}}class nwe{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)i0(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),i0(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),i0(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),i0(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&i0(this.autoClosingPairsCloseSingleChar,t.close,t)}}function i0(n,e,t){n.has(e)?n.get(e).push(t):n.set(e,[t])}function a1(n,e){let t=n.getCount(),i=n.findTokenIndexAtOffset(e),r=n.getLanguageId(i),o=i;for(;o+1<t&&n.getLanguageId(o+1)===r;)o++;let s=i;for(;s>0&&n.getLanguageId(s-1)===r;)s--;return new iwe(n,r,s,o+1,n.getStartOffset(s),n.getEndOffset(o))}class iwe{constructor(e,t,i,r,o,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=r,this.firstCharOffset=o,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function Ll(n){return(n&7)!==0}class Nv{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new pA(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new pA({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new pA({open:t.open,close:t.close||""}))}this._autoCloseBefore=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:Nv.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(t.getTokenCount()===0)return!0;const r=t.findTokenIndexAtOffset(i-2),o=t.getStandardTokenType(r);return e.isOK(o)}getSurroundingPairs(){return this._surroundingPairs}}Nv.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;let mA;function wne(){return mA||(mA=new TextDecoder("UTF-16LE")),mA}let vA;function rwe(){return vA||(vA=new TextDecoder("UTF-16BE")),vA}let yA;function Cne(){return yA||(yA=xte()?wne():rwe()),yA}const xne=typeof TextDecoder<"u";let kv,fR;xne?(kv=n=>new swe(n),fR=owe):(kv=n=>new awe,fR=Lne);function owe(n,e,t){const i=new Uint16Array(n.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?Lne(n,e,t):wne().decode(i)}function Lne(n,e,t){let i=[],r=0;for(let o=0;o<t;o++){const s=nSe(n,e);e+=2,i[r++]=String.fromCharCode(s)}return i.join("")}class swe{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return Cne().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||ji(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class awe{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}class ZL{constructor(e,t,i,r,o,s){this._richEditBracketBrand=void 0,this.languageIdentifier=e,this.index=t,this.open=i,this.close=r,this.forwardRegex=o,this.reversedRegex=s,this._openSet=ZL._toSet(this.open),this._closeSet=ZL._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function lwe(n){const e=n.length;n=n.map(s=>[s[0].toLowerCase(),s[1].toLowerCase()]);const t=[];for(let s=0;s<e;s++)t[s]=s;const i=(s,a)=>{const[l,u]=s,[c,d]=a;return l===c||l===d||u===c||u===d},r=(s,a)=>{const l=Math.min(s,a),u=Math.max(s,a);for(let c=0;c<e;c++)t[c]===u&&(t[c]=l)};for(let s=0;s<e;s++){const a=n[s];for(let l=s+1;l<e;l++){const u=n[l];i(a,u)&&r(t[s],t[l])}}const o=[];for(let s=0;s<e;s++){let a=[],l=[];for(let u=0;u<e;u++)if(t[u]===s){const[c,d]=n[u];a.push(c),l.push(d)}a.length>0&&o.push({open:a,close:l})}return o}class uwe{constructor(e,t){this._richEditBracketsBrand=void 0;const i=lwe(t);this.brackets=i.map((r,o)=>new ZL(e,o,r.open,r.close,cwe(r.open,r.close,i,o),dwe(r.open,r.close,i,o))),this.forwardRegex=hwe(this.brackets),this.reversedRegex=fwe(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const r of this.brackets){for(const o of r.open)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,o.length);for(const o of r.close)this.textIsBracket[o]=r,this.textIsOpenBracket[o]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,o.length)}}}function Tne(n,e,t,i){for(let r=0,o=e.length;r<o;r++){if(r===t)continue;const s=e[r];for(const a of s.open)a.indexOf(n)>=0&&i.push(a);for(const a of s.close)a.indexOf(n)>=0&&i.push(a)}}function Ine(n,e){return n.length-e.length}function kD(n){if(n.length<=1)return n;const e=[],t=new Set;for(const i of n)t.has(i)||(e.push(i),t.add(i));return e}function cwe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)Tne(r[o],t,i,r);return r=kD(r),r.sort(Ine),r.reverse(),PD(r)}function dwe(n,e,t,i){let r=[];r=r.concat(n),r=r.concat(e);for(let o=0,s=r.length;o<s;o++)Tne(r[o],t,i,r);return r=kD(r),r.sort(Ine),r.reverse(),PD(r.map(f$))}function hwe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=kD(e),PD(e)}function fwe(n){let e=[];for(const t of n){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=kD(e),PD(e.map(f$))}function gwe(n){const e=/^[\w ]+$/.test(n);return n=oh(n),e?`\\b${n}\\b`:n}function PD(n){let e=`(${n.map(gwe).join(")|(")})`;return ine(e,!0)}const f$=function(){function n(i){if(xne){const r=new Uint16Array(i.length);let o=0;for(let s=i.length-1;s>=0;s--)r[o++]=i.charCodeAt(s);return Cne().decode(r)}else{let r=[],o=0;for(let s=i.length-1;s>=0;s--)r[o++]=i.charAt(s);return r.join("")}}let e=null,t=null;return function(r){return e!==r&&(e=r,t=n(e)),t}}();class $s{static _findPrevBracketInText(e,t,i,r){let o=i.match(e);if(!o)return null;let s=i.length-(o.index||0),a=o[0].length,l=r+s;return new ee(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,i,r,o){const a=f$(i).substring(i.length-o,i.length-r);return this._findPrevBracketInText(e,t,a,r)}static findNextBracketInText(e,t,i,r){let o=i.match(e);if(!o)return null;let s=o.index||0,a=o[0].length;if(a===0)return null;let l=r+s;return new ee(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,i,r,o){const s=i.substring(r,o);return this.findNextBracketInText(e,t,s,r)}}class pwe{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const r=i.charAt(i.length-1);e.push(r)}return e=e.filter((t,i,r)=>r.indexOf(t)===i),e}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const r=t.findTokenIndexAtOffset(i-1);if(Ll(t.getStandardTokenType(r)))return null;const o=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,i-1)+e,a=$s.findPrevBracketInRange(o,1,s,0,s.length);if(!a)return null;const l=s.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[l])return null;const c=t.getActualLineContentBefore(a.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:l}:null}}function l1(n){return n.global&&(n.lastIndex=0),!0}class mwe{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&l1(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&l1(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&l1(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&l1(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Am{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=Am._createOpenBracketRegExp(t[0]),r=Am._createCloseBracketRegExp(t[1]);i&&r&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:r})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,r){if(e>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){let a=this._regExpRules[o];if([{reg:a.beforeText,text:i},{reg:a.afterText,text:r},{reg:a.previousLineText,text:t}].every(u=>u.reg?(u.reg.lastIndex=0,u.reg.test(u.text)):!0))return a.action}if(e>=2&&i.length>0&&r.length>0)for(let o=0,s=this._brackets.length;o<s;o++){let a=this._brackets[o];if(a.openRegExp.test(i)&&a.closeRegExp.test(r))return{indentAction:Ii.IndentOutdent}}if(e>=2&&i.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(i))return{indentAction:Ii.Indent}}return null}static _createOpenBracketRegExp(e){let t=oh(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Am._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=oh(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,Am._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return Rn(t),null}}}class g${constructor(e,t){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null,this._conf=t,this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new Am(this._conf):null,this.comments=g$._handleComments(this._conf),this.characterPair=new Nv(this._conf),this.wordDefinition=this._conf.wordPattern||Tte,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new mwe(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new uwe(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new pwe(this.brackets)),this._electricCharacter}onEnter(e,t,i,r){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,r):null}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[r,o]=t.blockComment;i.blockCommentStartToken=r,i.blockCommentEndToken=o}return i}}class X7{constructor(e){this.languageIdentifier=e}}class Z7{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class vwe{constructor(e){this.languageIdentifier=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Z7(e,t,++this._order);return this._entries.push(i),this._resolved=null,Tn(()=>{for(let r=0;r<this._entries.length;r++)if(this._entries[r]===i){this._entries.splice(r,1),this._resolved=null;break}})}getRichEditSupport(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new g$(this.languageIdentifier,e))}return this._resolved}_resolve(){if(this._entries.length===0)return null;this._entries.sort(Z7.cmp);const e={};for(const t of this._entries){const i=t.configuration;e.comments=i.comments||e.comments,e.brackets=i.brackets||e.brackets,e.wordPattern=i.wordPattern||e.wordPattern,e.indentationRules=i.indentationRules||e.indentationRules,e.onEnterRules=i.onEnterRules||e.onEnterRules,e.autoClosingPairs=i.autoClosingPairs||e.autoClosingPairs,e.surroundingPairs=i.surroundingPairs||e.surroundingPairs,e.autoCloseBefore=i.autoCloseBefore||e.autoCloseBefore,e.folding=i.folding||e.folding,e.__electricCharacterSupport=i.__electricCharacterSupport||e.__electricCharacterSupport}return e}}class ywe{constructor(){this._entries2=new Map,this._onDidChange=new ae,this.onDidChange=this._onDidChange.event}register(e,t,i=0){let r=this._entries2.get(e.id);r||(r=new vwe(e),this._entries2.set(e.id,r));const o=r.register(t,i);return this._onDidChange.fire(new X7(e)),Tn(()=>{o.dispose(),this._onDidChange.fire(new X7(e))})}_getRichEditSupport(e){const t=this._entries2.get(e);return t?t.getRichEditSupport():null}getIndentationRules(e){const t=this._getRichEditSupport(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let r=a1(t,i-1),o=this._getElectricCharacterSupport(r.languageId);return o?o.onElectricCharacter(e,r,i-r.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new nwe(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Nv.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const r=a1(t,i-1);return Nv.shouldAutoClosePair(e,r,i-r.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return qP(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let r=e.getLanguageIdAtPosition(t,0);if(t>1){let o,s=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==r)return s;let a=e.getLineContent(o);if(i.shouldIgnore(a)||/^\s+$/.test(a)||a===""){s=o;continue}return o}}return-1}getInheritIndentForLine(e,t,i,r=!0){if(e<4)return null;const o=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!o)return null;if(i<=1)return{indentation:"",action:null};const s=this.getPrecedingValidLine(t,i,o);if(s<0)return null;if(s<1)return{indentation:"",action:null};const a=t.getLineContent(s);if(o.shouldIncrease(a)||o.shouldIndentNextLine(a))return{indentation:Ar(a),action:Ii.Indent,line:s};if(o.shouldDecrease(a))return{indentation:Ar(a),action:null,line:s};{if(s===1)return{indentation:Ar(t.getLineContent(s)),action:null,line:s};const l=s-1,u=o.getIndentMetadata(t.getLineContent(l));if(!(u&3)&&u&4){let c=0;for(let d=l-1;d>0;d--)if(!o.shouldIndentNextLine(t.getLineContent(d))){c=d;break}return{indentation:Ar(t.getLineContent(c+1)),action:null,line:c+1}}if(r)return{indentation:Ar(t.getLineContent(s)),action:null,line:s};for(let c=s;c>0;c--){const d=t.getLineContent(c);if(o.shouldIncrease(d))return{indentation:Ar(d),action:Ii.Indent,line:c};if(o.shouldIndentNextLine(d)){let h=0;for(let f=c-1;f>0;f--)if(!o.shouldIndentNextLine(t.getLineContent(c))){h=f;break}return{indentation:Ar(t.getLineContent(h+1)),action:null,line:h+1}}else if(o.shouldDecrease(d))return{indentation:Ar(d),action:null,line:c}}return{indentation:Ar(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,r,o){if(e<4)return null;const s=this._getRichEditSupport(i);if(!s)return null;const a=this.getIndentRulesSupport(i);if(!a)return null;const l=this.getInheritIndentForLine(e,t,r),u=t.getLineContent(r);if(l){const c=l.line;if(c!==void 0){const d=s.onEnter(e,"",t.getLineContent(c),"");if(d){let h=Ar(t.getLineContent(c));return d.removeText&&(h=h.substring(0,h.length-d.removeText)),d.indentAction===Ii.Indent||d.indentAction===Ii.IndentOutdent?h=o.shiftIndent(h):d.indentAction===Ii.Outdent&&(h=o.unshiftIndent(h)),a.shouldDecrease(u)&&(h=o.unshiftIndent(h)),d.appendText&&(h+=d.appendText),Ar(h)}}return a.shouldDecrease(u)?l.action===Ii.Indent?l.indentation:o.unshiftIndent(l.indentation):l.action===Ii.Indent?o.shiftIndent(l.indentation):l.indentation}return null}getIndentForEnter(e,t,i,r){if(e<4)return null;t.forceTokenization(i.startLineNumber);const o=t.getLineTokens(i.startLineNumber),s=a1(o,i.startColumn-1),a=s.getLineContent();let l=!1,u;s.firstCharOffset>0&&o.getLanguageId(0)!==s.languageId?(l=!0,u=a.substr(0,i.startColumn-1-s.firstCharOffset)):u=o.getLineContent().substring(0,i.startColumn-1);let c;i.isEmpty()?c=a.substr(i.startColumn-1-s.firstCharOffset):c=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset);const d=this.getIndentRulesSupport(s.languageId);if(!d)return null;const h=u,f=Ar(u),g={getLineTokens:y=>t.getLineTokens(y),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(y,_)=>t.getLanguageIdAtPosition(y,_),getLineContent:y=>y===i.startLineNumber?h:t.getLineContent(y)},p=Ar(o.getLineContent()),m=this.getInheritIndentForLine(e,g,i.startLineNumber+1);if(!m){const y=l?p:f;return{beforeEnter:y,afterEnter:y}}let v=l?p:m.indentation;return m.action===Ii.Indent&&(v=r.shiftIndent(v)),d.shouldDecrease(c)&&(v=r.unshiftIndent(v)),{beforeEnter:l?p:f,afterEnter:v}}getIndentActionForType(e,t,i,r,o){if(e<4)return null;const s=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn);if(s.firstCharOffset)return null;const a=this.getIndentRulesSupport(s.languageId);if(!a)return null;const l=s.getLineContent(),u=l.substr(0,i.startColumn-1-s.firstCharOffset);let c;if(i.isEmpty()?c=l.substr(i.startColumn-1-s.firstCharOffset):c=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-s.firstCharOffset),!a.shouldDecrease(u+c)&&a.shouldDecrease(u+r+c)){const d=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!d)return null;let h=d.indentation;return d.action!==Ii.Indent&&(h=o.unshiftIndent(h)),h}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return!i||t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t))}getEnterAction(e,t,i){const r=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),o=this._getRichEditSupport(r.languageId);if(!o)return null;const s=r.getLineContent(),a=s.substr(0,i.startColumn-1-r.firstCharOffset);let l;i.isEmpty()?l=s.substr(i.startColumn-1-r.firstCharOffset):l=this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-r.firstCharOffset);let u="";if(i.startLineNumber>1&&r.firstCharOffset===0){const p=this.getScopedLineTokens(t,i.startLineNumber-1);p.languageId===r.languageId&&(u=p.getLineContent())}const c=o.onEnter(e,u,a,l);if(!c)return null;const d=c.indentAction;let h=c.appendText;const f=c.removeText||0;h?d===Ii.Indent&&(h="	"+h):d===Ii.Indent||d===Ii.IndentOutdent?h="	":h="";let g=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return f&&(g=g.substring(0,g.length-f)),{indentAction:d,appendText:h,removeText:f,indentation:g}}getIndentationAtPosition(e,t,i){const r=e.getLineContent(t);let o=Ar(r);return o.length>i-1&&(o=o.substring(0,i-1)),o}getScopedLineTokens(e,t,i){e.forceTokenization(t);const r=e.getLineTokens(t),o=typeof i>"u"?e.getLineMaxColumn(t)-1:i-1;return a1(r,o)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}}const Dn=new ywe;class gd{constructor(e,t,i,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=r}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}class Q7{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,r=e.length;i<r;i++)t[i]=e.charCodeAt(i);return t}}function _we(n,e,t){return new oc(new Q7(n),new Q7(e)).ComputeDiff(t).changes}class Fp{static Assert(e,t){if(!e)throw new Error(t)}}class $p{static Copy(e,t,i,r,o){for(let s=0;s<o;s++)i[r+s]=e[t+s]}static Copy2(e,t,i,r,o){for(let s=0;s<o;s++)i[r+s]=e[t+s]}}class J7{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new gd(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class oc{constructor(e,t,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=e,this._modifiedSequence=t;const[r,o,s]=oc._getElements(e),[a,l,u]=oc._getElements(t);this._hasStrings=s&&u,this._originalStringElements=r,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const t=e.getElements();if(oc._isStringArray(t)){const i=new Int32Array(t.length);for(let r=0,o=t.length;r<o;r++)i[r]=SSe(t[r],0);return[t,i,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[t]:!0}ElementsAreStrictEqual(e,t){if(!this.ElementsAreEqual(e,t))return!1;const i=oc._getStrictElement(this._originalSequence,e),r=oc._getStrictElement(this._modifiedSequence,t);return i===r}static _getStrictElement(e,t){return typeof e.getStrictElement=="function"?e.getStrictElement(t):null}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[t]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[t]:!0}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[t]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[t]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,r,o){const s=[!1];let a=this.ComputeDiffRecursive(e,t,i,r,s);return o&&(a=this.PrettifyChanges(a)),{quitEarly:s[0],changes:a}}ComputeDiffRecursive(e,t,i,r,o){for(o[0]=!1;e<=t&&i<=r&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&r>=i&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||i>r){let d;return i<=r?(Fp.Assert(e===t+1,"originalStart should only be one more than originalEnd"),d=[new gd(e,0,i,r-i+1)]):e<=t?(Fp.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[new gd(e,t-e+1,i,0)]):(Fp.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Fp.Assert(i===r+1,"modifiedStart should only be one more than modifiedEnd"),d=[]),d}const s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,i,r,s,a,o),u=s[0],c=a[0];if(l!==null)return l;if(!o[0]){const d=this.ComputeDiffRecursive(e,u,i,c,o);let h=[];return o[0]?h=[new gd(u+1,t-(u+1)+1,c+1,r-(c+1)+1)]:h=this.ComputeDiffRecursive(u+1,t,c+1,r,o),this.ConcatenateChanges(d,h)}return[new gd(e,t-e+1,i,r-i+1)]}WALKTRACE(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p,m,v,y){let _=null,b=null,S=new J7,w=t,C=i,x=f[0]-m[0]-r,L=-1073741824,T=this.m_forwardHistory.length-1;do{const I=x+e;I===w||I<C&&u[I-1]<u[I+1]?(d=u[I+1],g=d-x-r,d<L&&S.MarkNextChange(),L=d,S.AddModifiedElement(d+1,g),x=I+1-e):(d=u[I-1]+1,g=d-x-r,d<L&&S.MarkNextChange(),L=d-1,S.AddOriginalElement(d,g+1),x=I-1-e),T>=0&&(u=this.m_forwardHistory[T],e=u[0],w=1,C=u.length-1)}while(--T>=-1);if(_=S.getReverseChanges(),y[0]){let I=f[0]+1,D=m[0]+1;if(_!==null&&_.length>0){const M=_[_.length-1];I=Math.max(I,M.getOriginalEnd()),D=Math.max(D,M.getModifiedEnd())}b=[new gd(I,h-I+1,D,p-D+1)]}else{S=new J7,w=s,C=a,x=f[0]-m[0]-l,L=1073741824,T=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const I=x+o;I===w||I<C&&c[I-1]>=c[I+1]?(d=c[I+1]-1,g=d-x-l,d>L&&S.MarkNextChange(),L=d+1,S.AddOriginalElement(d+1,g+1),x=I+1-o):(d=c[I-1],g=d-x-l,d>L&&S.MarkNextChange(),L=d,S.AddModifiedElement(d+1,g+1),x=I-1-o),T>=0&&(c=this.m_reverseHistory[T],o=c[0],w=1,C=c.length-1)}while(--T>=-1);b=S.getChanges()}return this.ConcatenateChanges(_,b)}ComputeRecursionPoint(e,t,i,r,o,s,a){let l=0,u=0,c=0,d=0,h=0,f=0;e--,i--,o[0]=0,s[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const g=t-e+(r-i),p=g+1,m=new Int32Array(p),v=new Int32Array(p),y=r-i,_=t-e,b=e-i,S=t-r,C=(_-y)%2===0;m[y]=e,v[_]=t,a[0]=!1;for(let x=1;x<=g/2+1;x++){let L=0,T=0;c=this.ClipDiagonalBound(y-x,x,y,p),d=this.ClipDiagonalBound(y+x,x,y,p);for(let D=c;D<=d;D+=2){D===c||D<d&&m[D-1]<m[D+1]?l=m[D+1]:l=m[D-1]+1,u=l-(D-y)-b;const M=l;for(;l<t&&u<r&&this.ElementsAreEqual(l+1,u+1);)l++,u++;if(m[D]=l,l+u>L+T&&(L=l,T=u),!C&&Math.abs(D-_)<=x-1&&l>=v[D])return o[0]=l,s[0]=u,M<=v[D]&&1447>0&&x<=1447+1?this.WALKTRACE(y,c,d,b,_,h,f,S,m,v,l,t,o,u,r,s,C,a):null}const I=(L-e+(T-i)-x)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(L,I))return a[0]=!0,o[0]=L,s[0]=T,I>0&&1447>0&&x<=1447+1?this.WALKTRACE(y,c,d,b,_,h,f,S,m,v,l,t,o,u,r,s,C,a):(e++,i++,[new gd(e,t-e+1,i,r-i+1)]);h=this.ClipDiagonalBound(_-x,x,_,p),f=this.ClipDiagonalBound(_+x,x,_,p);for(let D=h;D<=f;D+=2){D===h||D<f&&v[D-1]>=v[D+1]?l=v[D+1]-1:l=v[D-1],u=l-(D-_)-S;const M=l;for(;l>e&&u>i&&this.ElementsAreEqual(l,u);)l--,u--;if(v[D]=l,C&&Math.abs(D-y)<=x&&l<=m[D])return o[0]=l,s[0]=u,M>=m[D]&&1447>0&&x<=1447+1?this.WALKTRACE(y,c,d,b,_,h,f,S,m,v,l,t,o,u,r,s,C,a):null}if(x<=1447){let D=new Int32Array(d-c+2);D[0]=y-c+1,$p.Copy2(m,c,D,1,d-c+1),this.m_forwardHistory.push(D),D=new Int32Array(f-h+2),D[0]=_-h+1,$p.Copy2(v,h,D,1,f-h+1),this.m_reverseHistory.push(D)}}return this.WALKTRACE(y,c,d,b,_,h,f,S,m,v,l,t,o,u,r,s,C,a)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],r=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,s=i.originalLength>0,a=i.modifiedLength>0;for(;i.originalStart+i.originalLength<r&&i.modifiedStart+i.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!a||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const u=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!u)break;i.originalStart++,i.modifiedStart++}let l=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],l)){e[t]=l[0],e.splice(t+1,1),t--;continue}}for(let t=e.length-1;t>=0;t--){const i=e[t];let r=0,o=0;if(t>0){const d=e[t-1];r=d.originalStart+d.originalLength,o=d.modifiedStart+d.modifiedLength}const s=i.originalLength>0,a=i.modifiedLength>0;let l=0,u=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let d=1;;d++){const h=i.originalStart-d,f=i.modifiedStart-d;if(h<r||f<o||s&&!this.OriginalElementsAreEqual(h,h+i.originalLength)||a&&!this.ModifiedElementsAreEqual(f,f+i.modifiedLength))break;const p=(h===r&&f===o?5:0)+this._boundaryScore(h,i.originalLength,f,i.modifiedLength);p>u&&(u=p,l=d)}i.originalStart-=l,i.modifiedStart-=l;const c=[null];if(t>0&&this.ChangesOverlap(e[t-1],e[t],c)){e[t-1]=c[0],e.splice(t,1),t++;continue}}if(this._hasStrings)for(let t=1,i=e.length;t<i;t++){const r=e[t-1],o=e[t],s=o.originalStart-r.originalStart-r.originalLength,a=r.originalStart,l=o.originalStart+o.originalLength,u=l-a,c=r.modifiedStart,d=o.modifiedStart+o.modifiedLength,h=d-c;if(s<5&&u<20&&h<20){const f=this._findBetterContiguousSequence(a,u,c,h,s);if(f){const[g,p]=f;(g!==r.originalStart+r.originalLength||p!==r.modifiedStart+r.modifiedLength)&&(r.originalLength=g-r.originalStart,r.modifiedLength=p-r.modifiedStart,o.originalStart=g+s,o.modifiedStart=p+s,o.originalLength=l-o.originalStart,o.modifiedLength=d-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,t,i,r,o){if(t<o||r<o)return null;const s=e+t-o+1,a=i+r-o+1;let l=0,u=0,c=0;for(let d=e;d<s;d++)for(let h=i;h<a;h++){const f=this._contiguousSequenceScore(d,h,o);f>0&&f>l&&(l=f,u=d,c=h)}return l>0?[u,c]:null}_contiguousSequenceScore(e,t,i){let r=0;for(let o=0;o<i;o++){if(!this.ElementsAreEqual(e+o,t+o))return 0;r+=this._originalStringElements[e+o].length}return r}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,r){const o=this._OriginalRegionIsBoundary(e,t)?1:0,s=this._ModifiedRegionIsBoundary(i,r)?1:0;return o+s}ConcatenateChanges(e,t){let i=[];if(e.length===0||t.length===0)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const r=new Array(e.length+t.length-1);return $p.Copy(e,0,r,0,e.length-1),r[e.length-1]=i[0],$p.Copy(t,1,r,e.length,t.length-1),r}else{const r=new Array(e.length+t.length);return $p.Copy(e,0,r,0,e.length),$p.Copy(t,0,r,e.length,t.length),r}}ChangesOverlap(e,t,i){if(Fp.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Fp.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const r=e.originalStart;let o=e.originalLength;const s=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new gd(r,o,s,a),!0}else return i[0]=null,!1}ClipDiagonalBound(e,t,i,r){if(e>=0&&e<r)return e;const o=i,s=r-i-1,a=t%2===0;if(e<0){const l=o%2===0;return a===l?0:1}else{const l=s%2===0;return a===l?r-1:r-2}}}const bwe=3;function Dne(n,e,t,i){return new oc(n,e,t).ComputeDiff(i)}class e6{constructor(e){const t=[],i=[];for(let r=0,o=e.length;r<o;r++)t[r]=gR(e[r],1),i[r]=pR(e[r],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const r=[],o=[],s=[];let a=0;for(let l=t;l<=i;l++){const u=this.lines[l],c=e?this._startColumns[l]:1,d=e?this._endColumns[l]:u.length+1;for(let h=c;h<d;h++)r[a]=u.charCodeAt(h-1),o[a]=l+1,s[a]=h,a++}return new Swe(r,o,s)}}class Swe{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class Pb{constructor(e,t,i,r,o,s,a,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=r,this.modifiedStartLineNumber=o,this.modifiedStartColumn=s,this.modifiedEndLineNumber=a,this.modifiedEndColumn=l}static createFromDiffChange(e,t,i){let r,o,s,a,l,u,c,d;return e.originalLength===0?(r=0,o=0,s=0,a=0):(r=t.getStartLineNumber(e.originalStart),o=t.getStartColumn(e.originalStart),s=t.getEndLineNumber(e.originalStart+e.originalLength-1),a=t.getEndColumn(e.originalStart+e.originalLength-1)),e.modifiedLength===0?(l=0,u=0,c=0,d=0):(l=i.getStartLineNumber(e.modifiedStart),u=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),d=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new Pb(r,o,s,a,l,u,c,d)}}function wwe(n){if(n.length<=1)return n;const e=[n[0]];let t=e[0];for(let i=1,r=n.length;i<r;i++){const o=n[i],s=o.originalStart-(t.originalStart+t.originalLength),a=o.modifiedStart-(t.modifiedStart+t.modifiedLength);Math.min(s,a)<bwe?(t.originalLength=o.originalStart+o.originalLength-t.originalStart,t.modifiedLength=o.modifiedStart+o.modifiedLength-t.modifiedStart):(e.push(o),t=o)}return e}class N_{constructor(e,t,i,r,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=r,this.charChanges=o}static createFromDiffResult(e,t,i,r,o,s,a){let l,u,c,d,h;if(t.originalLength===0?(l=i.getStartLineNumber(t.originalStart)-1,u=0):(l=i.getStartLineNumber(t.originalStart),u=i.getEndLineNumber(t.originalStart+t.originalLength-1)),t.modifiedLength===0?(c=r.getStartLineNumber(t.modifiedStart)-1,d=0):(c=r.getStartLineNumber(t.modifiedStart),d=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&o()){const f=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),g=r.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let p=Dne(f,g,o,!0).changes;a&&(p=wwe(p)),h=[];for(let m=0,v=p.length;m<v;m++)h.push(Pb.createFromDiffChange(p[m],f,g))}return new N_(l,u,c,d,h)}}class Cwe{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new e6(e),this.modified=new e6(t),this.continueLineDiff=t6(i.maxComputationTime),this.continueCharDiff=t6(i.maxComputationTime===0?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=Dne(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const a=[];for(let l=0,u=t.length;l<u;l++)a.push(N_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[l],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:a}}const r=[];let o=0,s=0;for(let a=-1,l=t.length;a<l;a++){const u=a+1<l?t[a+1]:null,c=u?u.originalStart:this.originalLines.length,d=u?u.modifiedStart:this.modifiedLines.length;for(;o<c&&s<d;){const h=this.originalLines[o],f=this.modifiedLines[s];if(h!==f){{let g=gR(h,1),p=gR(f,1);for(;g>1&&p>1;){const m=h.charCodeAt(g-2),v=f.charCodeAt(p-2);if(m!==v)break;g--,p--}(g>1||p>1)&&this._pushTrimWhitespaceCharChange(r,o+1,1,g,s+1,1,p)}{let g=pR(h,1),p=pR(f,1);const m=h.length+1,v=f.length+1;for(;g<m&&p<v;){const y=h.charCodeAt(g-1),_=h.charCodeAt(p-1);if(y!==_)break;g++,p++}(g<m||p<v)&&this._pushTrimWhitespaceCharChange(r,o+1,g,m,s+1,p,v)}}o++,s++}u&&(r.push(N_.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=u.originalLength,s+=u.modifiedLength)}return{quitEarly:i,changes:r}}_pushTrimWhitespaceCharChange(e,t,i,r,o,s,a){if(this._mergeTrimWhitespaceCharChange(e,t,i,r,o,s,a))return;let l;this.shouldComputeCharChanges&&(l=[new Pb(t,i,t,r,o,s,o,a)]),e.push(new N_(t,t,o,o,l))}_mergeTrimWhitespaceCharChange(e,t,i,r,o,s,a){const l=e.length;if(l===0)return!1;const u=e[l-1];return u.originalEndLineNumber===0||u.modifiedEndLineNumber===0?!1:u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===o?(u.originalEndLineNumber=t,u.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&u.charChanges&&u.charChanges.push(new Pb(t,i,t,r,o,s,o,a)),!0):!1}}function gR(n,e){const t=ps(n);return t===-1?e:t+1}function pR(n,e){const t=by(n);return t===-1?e:t+2}function t6(n){if(n===0)return()=>!0;const e=Date.now();return()=>Date.now()-e<n}function QL(n){return n<0?0:n>255?255:n|0}function Vp(n){return n<0?0:n>4294967295?4294967295:n|0}class Ene{constructor(e,t){this._prefixSumIndexOfResultBrand=void 0,this.index=e,this.remainder=t}}class xwe{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=Vp(e);const i=this.values,r=this.prefixSum,o=t.length;return o===0?!1:(this.values=new Uint32Array(i.length+o),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=Vp(e),t=Vp(t),this.values[e]===t?!1:(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=Vp(e),t=Vp(t);const i=this.values,r=this.prefixSum;if(e>=i.length)return!1;let o=i.length-e;return t>=o&&(t=o),t===0?!1:(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(e){return e<0?0:(e=Vp(e),this._getPrefixSum(e))}_getPrefixSum(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;t===0&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalSum();let t=0,i=this.values.length-1,r=0,o=0,s=0;for(;t<=i;)if(r=t+(i-t)/2|0,o=this.prefixSum[r],s=o-this.values[r],e<s)i=r-1;else if(e>=o)t=r+1;else break;return new Ene(r,e-s)}}class Lwe{constructor(e,t,i,r){this._uri=e,this._lines=t,this._eol=i,this._versionId=r,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const i of t)this._acceptDeleteRange(i.range),this._acceptInsertText(new ve(i.range.startLineNumber,i.range.startColumn),i.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let r=0;r<t;r++)i[r]=this._lines[r].length+e;this._lineStarts=new xwe(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){if(t.length===0)return;let i=DD(t);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let r=new Uint32Array(i.length-1);for(let o=1;o<i.length;o++)this._lines.splice(e.lineNumber+o-1,0,i[o]),r[o-1]=i[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}}class sw{constructor(e){let t=QL(e);this._defaultValue=t,this._asciiMap=sw._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=QL(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class Twe{constructor(e,t,i){const r=new Uint8Array(e*t);for(let o=0,s=e*t;o<s;o++)r[o]=i;this._data=r,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class Iwe{constructor(e){let t=0,i=0;for(let o=0,s=e.length;o<s;o++){let[a,l,u]=e[o];l>t&&(t=l),a>i&&(i=a),u>i&&(i=u)}t++,i++;let r=new Twe(i,t,0);for(let o=0,s=e.length;o<s;o++){let[a,l,u]=e[o];r.set(a,l,u)}this._states=r,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let _A=null;function Dwe(){return _A===null&&(_A=new Iwe([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_A}let r0=null;function Ewe(){if(r0===null){r0=new sw(0);const n=` 	<>'"`;for(let t=0;t<n.length;t++)r0.set(n.charCodeAt(t),1);const e=".,;";for(let t=0;t<e.length;t++)r0.set(e.charCodeAt(t),2)}return r0}class JL{static _createLink(e,t,i,r,o){let s=o-1;do{const a=t.charCodeAt(s);if(e.get(a)!==2)break;s--}while(s>r);if(r>0){const a=t.charCodeAt(r-1),l=t.charCodeAt(s);(a===40&&l===41||a===91&&l===93||a===123&&l===125)&&s--}return{range:{startLineNumber:i,startColumn:r+1,endLineNumber:i,endColumn:s+2},url:t.substring(r,s+1)}}static computeLinks(e,t=Dwe()){const i=Ewe();let r=[];for(let o=1,s=e.getLineCount();o<=s;o++){const a=e.getLineContent(o),l=a.length;let u=0,c=0,d=0,h=1,f=!1,g=!1,p=!1,m=!1;for(;u<l;){let v=!1;const y=a.charCodeAt(u);if(h===13){let _;switch(y){case 40:f=!0,_=0;break;case 41:_=f?0:1;break;case 91:p=!0,g=!0,_=0;break;case 93:p=!1,_=g?0:1;break;case 123:m=!0,_=0;break;case 125:_=m?0:1;break;case 39:_=d===34||d===96?0:1;break;case 34:_=d===39||d===96?0:1;break;case 96:_=d===39||d===34?0:1;break;case 42:_=d===42?1:0;break;case 124:_=d===124?1:0;break;case 32:_=p?0:1;break;default:_=i.get(y)}_===1&&(r.push(JL._createLink(i,a,o,c,u)),v=!0)}else if(h===12){let _;y===91?(g=!0,_=0):_=i.get(y),_===1?v=!0:h=13}else h=t.nextState(h,y),h===0&&(v=!0);v&&(h=1,f=!1,g=!1,m=!1,c=u+1,d=y),u++}h===13&&r.push(JL._createLink(i,a,o,c,l))}return r}}function Mwe(n){return!n||typeof n.getLineCount!="function"||typeof n.getLineContent!="function"?[]:JL.computeLinks(n)}class mR{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,r,o){if(e&&t){let s=this.doNavigateValueSet(t,o);if(s)return{range:e,value:s}}if(i&&r){let s=this.doNavigateValueSet(r,o);if(s)return{range:i,value:s}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return i!==null?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),o=parseFloat(e);return!isNaN(r)&&!isNaN(o)&&r===o?r===0&&!t?null:(r=Math.floor(r*i),r+=t?i:-i,String(r/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let r=null;for(let o=0,s=e.length;r===null&&o<s;o++)r=this.valueSetReplace(e[o],t,i);return r}valueSetReplace(e,t,i){let r=e.indexOf(t);return r>=0?(r+=i?1:-1,r<0?r=e.length-1:r%=e.length,e[r]):null}}mR.INSTANCE=new mR;var Wp=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Awe extends Lwe{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=RL(e.column,qP(t),this._lines[e.lineNumber-1],0);return i?new ee(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let r=0,o="",s=0,a=[];return{*[Symbol.iterator](){for(;;)if(s<a.length){const l=o.substring(a[s].start,a[s].end);s+=1,yield l}else if(r<t.length)o=t[r],a=i(o,e),s=0,r+=1;else break}}}getLineWords(e,t){let i=this._lines[e-1],r=this._wordenize(i,t),o=[];for(const s of r)o.push({word:i.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1});return o}_wordenize(e,t){const i=[];let r;for(t.lastIndex=0;(r=t.exec(e))&&r[0].length!==0;)i.push({start:r.index,end:r.index+r[0].length});return i}getValueInRange(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,r=e.endLineNumber-1,o=[];o.push(this._lines[i].substring(e.startColumn-1));for(let s=i+1;s<r;s++)o.push(this._lines[s]);return o.push(this._lines[r].substring(0,e.endColumn-1)),o.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!ve.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,r=!1;if(t<1)t=1,i=1,r=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,r=!0;else{let o=this._lines[t-1].length+1;i<1?(i=1,r=!0):i>o&&(i=o,r=!0)}return r?{lineNumber:t,column:i}:e}}class Ng{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new Awe(Nt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,r){return Wp(this,void 0,void 0,function*(){const o=this._getModel(e),s=this._getModel(t);if(!o||!s)return null;const a=o.getLinesContent(),l=s.getLinesContent(),c=new Cwe(a,l,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:r}).computeDiff(),d=c.changes.length>0?!1:this._modelsAreIdentical(o,s);return{quitEarly:c.quitEarly,identical:d,changes:c.changes}})}_modelsAreIdentical(e,t){const i=e.getLineCount(),r=t.getLineCount();if(i!==r)return!1;for(let o=1;o<=i;o++){const s=e.getLineContent(o),a=t.getLineContent(o);if(s!==a)return!1}return!0}computeMoreMinimalEdits(e,t){return Wp(this,void 0,void 0,function*(){const i=this._getModel(e);if(!i)return t;const r=[];let o;t=t.slice(0).sort((s,a)=>{if(s.range&&a.range)return ee.compareRangesUsingStarts(s.range,a.range);let l=s.range?0:1,u=a.range?0:1;return l-u});for(let{range:s,text:a,eol:l}of t){if(typeof l=="number"&&(o=l),ee.isEmpty(s)&&!a)continue;const u=i.getValueInRange(s);if(a=a.replace(/\r\n|\n|\r/g,i.eol),u===a)continue;if(Math.max(a.length,u.length)>Ng._diffLimit){r.push({range:s,text:a});continue}const c=_we(u,a,!1),d=i.offsetAt(ee.lift(s).getStartPosition());for(const h of c){const f=i.positionAt(d+h.originalStart),g=i.positionAt(d+h.originalStart+h.originalLength),p={text:a.substr(h.modifiedStart,h.modifiedLength),range:{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:g.lineNumber,endColumn:g.column}};i.getValueInRange(p.range)!==p.text&&r.push(p)}}return typeof o=="number"&&r.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),r})}computeLinks(e){return Wp(this,void 0,void 0,function*(){let t=this._getModel(e);return t?Mwe(t):null})}textualSuggest(e,t,i,r){return Wp(this,void 0,void 0,function*(){const o=new yy(!0),s=new RegExp(i,r),a=new Set;e:for(let l of e){const u=this._getModel(l);if(u){for(let c of u.words(s))if(!(c===t||!isNaN(Number(c)))&&(a.add(c),a.size>Ng._suggestionsLimit))break e}}return{words:Array.from(a),duration:o.elapsed()}})}computeWordRanges(e,t,i,r){return Wp(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return Object.create(null);const s=new RegExp(i,r),a=Object.create(null);for(let l=t.startLineNumber;l<t.endLineNumber;l++){let u=o.getLineWords(l,s);for(const c of u){if(!isNaN(Number(c.word)))continue;let d=a[c.word];d||(d=[],a[c.word]=d),d.push({startLineNumber:l,startColumn:c.startColumn,endLineNumber:l,endColumn:c.endColumn})}}return a})}navigateValueSet(e,t,i,r,o){return Wp(this,void 0,void 0,function*(){let s=this._getModel(e);if(!s)return null;let a=new RegExp(r,o);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let l=s.getValueInRange(t),u=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!u)return null;let c=s.getValueInRange(u);return mR.INSTANCE.navigateValueSet(t,l,u,c,i)})}loadForeignModule(e,t,i){let s={host:hne(i,(a,l)=>this._host.fhr(a,l)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(s$(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(i){return Promise.reject(i)}}}Ng._diffLimit=1e5;Ng._suggestionsLimit=1e4;typeof importScripts=="function"&&(li.monaco=Fte());const Mne=an("textResourceConfigurationService"),Ane=an("textResourcePropertiesService");function ns(n,e=0){return n[n.length-(1+e)]}function Nwe(n){if(n.length===0)throw new Error("Invalid tail call");return[n.slice(0,n.length-1),n[n.length-1]]}function fc(n,e,t=(i,r)=>i===r){if(n===e)return!0;if(!n||!e||n.length!==e.length)return!1;for(let i=0,r=n.length;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function kwe(n,e,t){let i=0,r=n.length-1;for(;i<=r;){const o=(i+r)/2|0,s=t(n[o],e);if(s<0)i=o+1;else if(s>0)r=o-1;else return o}return-(i+1)}function Pwe(n,e){let t=0,i=n.length;if(i===0)return 0;for(;t<i;){const r=Math.floor((t+i)/2);e(n[r])?i=r:t=r+1}return t}function Owe(n){return n.filter(e=>!!e)}function Rwe(n){return!Array.isArray(n)||n.length===0}function p$(n){return Array.isArray(n)&&n.length>0}function Nne(n,e){if(!e)return n.filter((i,r)=>n.indexOf(i)===r);const t=Object.create(null);return n.filter(i=>{const r=e(i);return t[r]?!1:(t[r]=!0,!0)})}function n6(n){const e=new Set;return n.filter(t=>e.has(t)?!1:(e.add(t),!0))}function vR(n,e){return n.length>0?n[0]:e}function Nr(n,e){let t=typeof e=="number"?n:0;typeof e=="number"?t=n:(t=0,e=n);const i=[];if(t<=e)for(let r=t;r<e;r++)i.push(r);else for(let r=t;r>e;r--)i.push(r);return i}function Ob(n,e,t){const i=n.slice(0,e),r=n.slice(e);return i.concat(t,r)}function bA(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.unshift(e))}function u1(n,e){const t=n.indexOf(e);t>-1&&(n.splice(t,1),n.push(e))}function Bwe(n,e,t){const i=kne(n,e),r=n.length,o=t.length;n.length=r+o;for(let s=r-1;s>=i;s--)n[s+o]=n[s];for(let s=0;s<o;s++)n[s+i]=t[s]}function Fwe(n,e,t,i){const r=kne(n,e),o=n.splice(r,t);return Bwe(n,r,i),o}function kne(n,e){return e<0?Math.max(e+n.length,0):Math.min(e,n.length)}class i6{constructor(e){this.items=e,this.firstIdx=0,this.lastIdx=this.items.length-1}takeWhile(e){let t=this.firstIdx;for(;t<this.items.length&&e(this.items[t]);)t++;const i=t===this.firstIdx?null:this.items.slice(this.firstIdx,t);return this.firstIdx=t,i}takeFromEndWhile(e){let t=this.lastIdx;for(;t>=0&&e(this.items[t]);)t--;const i=t===this.lastIdx?null:this.items.slice(t+1,this.lastIdx+1);return this.lastIdx=t,i}}const aw=an("logService");var Ua;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Info=2]="Info",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.Off=6]="Off"})(Ua||(Ua={}));const Pne=Ua.Info;class $we extends Pe{constructor(){super(...arguments),this.level=Pne,this._onDidChangeLogLevel=this._register(new ae)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class Vwe extends $we{constructor(e=Pne){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=Ua.Trace&&console.log("%cTRACE","color: #888",e,...t)}debug(e,...t){this.getLevel()<=Ua.Debug&&console.log("%cDEBUG","background: #eee; color: #888",e,...t)}info(e,...t){this.getLevel()<=Ua.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=Ua.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}class Wwe extends Pe{constructor(e){super(),this.logger=e,this._register(e)}getLevel(){return this.logger.getLevel()}trace(e,...t){this.logger.trace(e,...t)}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}error(e,...t){this.logger.error(e,...t)}}var zwe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SA=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},One=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const r6=60*1e3,o6=5*60*1e3;function bd(n,e){let t=n.getModel(e);return!(!t||t.isTooLargeForSyncing())}let yR=class extends Pe{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new Uwe(this._modelService)),this._logService=i,this._register(bne.register("*",{provideLinks:(r,o)=>bd(this._modelService,r.uri)?this._workerManager.withWorker().then(s=>s.computeLinks(r.uri)).then(s=>s&&{links:s}):Promise.resolve({links:[]})})),this._register(qL.register("*",new Hwe(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return bd(this._modelService,e)&&bd(this._modelService,t)}computeDiff(e,t,i,r){return this._workerManager.withWorker().then(o=>o.computeDiff(e,t,i,r))}computeMoreMinimalEdits(e,t){if(p$(t)){if(!bd(this._modelService,e))return Promise.resolve(t);const i=yy.create(!0),r=this._workerManager.withWorker().then(o=>o.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),Promise.race([r,Eb(1e3).then(()=>t)])}else return Promise.resolve(void 0)}canNavigateValueSet(e){return bd(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(r=>r.navigateValueSet(e,t,i))}canComputeWordRanges(e){return bd(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};yR=zwe([SA(0,Jo),SA(1,Mne),SA(2,aw)],yR);class Hwe{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return One(this,void 0,void 0,function*(){const i=this._configurationService.getValue(e.uri,t,"editor");if(!i.wordBasedSuggestions)return;const r=[];if(i.wordBasedSuggestionsMode==="currentDocument")bd(this._modelService,e.uri)&&r.push(e.uri);else for(const d of this._modelService.getModels())bd(this._modelService,d.uri)&&(d===e?r.unshift(d.uri):(i.wordBasedSuggestionsMode==="allDocuments"||d.getLanguageIdentifier().id===e.getLanguageIdentifier().id)&&r.push(d.uri));if(r.length===0)return;const o=Dn.getWordDefinition(e.getLanguageIdentifier().id),s=e.getWordAtPosition(t),a=s?new ee(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):ee.fromPositions(t),l=a.setEndPosition(t.lineNumber,t.column),c=yield(yield this._workerManager.withWorker()).textualSuggest(r,s==null?void 0:s.word,o);if(c)return{duration:c.duration,suggestions:c.words.map(d=>({kind:18,label:d,insertText:d,range:{insert:l,replace:a}}))}})}}class Uwe extends Pe{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new iw).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(o6/2)),this._register(this._modelService.onModelRemoved(i=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>o6&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new Rne(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class Gwe extends Pe{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let r=new iw;r.cancelAndSet(()=>this._checkStopModelSync(),Math.round(r6/2)),this._register(r)}}dispose(){for(let e in this._syncedModels)Bn(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let i=t.toString();this._syncedModels[i]||this._beginModelSync(t),this._syncedModels[i]&&(this._syncedModelsLastUsedTime[i]=new Date().getTime())}}_checkStopModelSync(){let e=new Date().getTime(),t=[];for(let i in this._syncedModelsLastUsedTime)e-this._syncedModelsLastUsedTime[i]>r6&&t.push(i);for(const i of t)this._stopModelSync(i)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t||t.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const r=new St;r.add(t.onDidChangeContent(o=>{this._proxy.acceptModelChanged(i.toString(),o)})),r.add(t.onWillDispose(()=>{this._stopModelSync(i)})),r.add(Tn(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=r}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Bn(t)}}class s6{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class wA{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class Rne extends Pe{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new ND(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new QSe(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new wA(this)))}catch(e){hR(e),this._worker=new s6(new Ng(new wA(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(hR(e),this._worker=new s6(new Ng(new wA(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new Gwe(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(CD()):this._getProxy().then(t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t))}computeDiff(e,t,i,r){return this._withSyncedResources([e,t]).then(o=>o.computeDiff(e.toString(),t.toString(),i,r))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,i){return One(this,void 0,void 0,function*(){const r=yield this._withSyncedResources(e),o=i.source,s=sA(i);return r.textualSuggest(e.map(a=>a.toString()),t,o,s)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let r=this._modelService.getModel(e);if(!r)return Promise.resolve(null);let o=Dn.getWordDefinition(r.getLanguageIdentifier().id),s=o.source,a=sA(o);return i.computeWordRanges(e.toString(),t,s,a)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(r=>{let o=this._modelService.getModel(e);if(!o)return null;let s=Dn.getWordDefinition(o.getLanguageIdentifier().id),a=s.source,l=sA(s);return r.navigateValueSet(e.toString(),t,i,a,l)})}dispose(){super.dispose(),this._disposed=!0}}function Kwe(n,e){return new jwe(n,e)}class jwe extends Rne{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||typeof this._foreignModuleHost[e]!="function")return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(i){return Promise.reject(i)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?s$(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(i=>{this._foreignModuleCreateData=null;const r=(a,l)=>e.fmr(a,l),o=(a,l)=>function(){const u=Array.prototype.slice.call(arguments,0);return l(a,u)};let s={};for(const a of i)s[a]=o(a,r);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(t=>this.getProxy())}}class Ir{constructor(e,t){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}static createEmpty(e){const t=Ir.defaultTokenMetadata,i=new Uint32Array(2);return i[0]=e.length,i[1]=t,new Ir(i,e)}equals(e){return e instanceof Ir?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const r=t<<1,o=r+(i<<1);for(let s=r;s<o;s++)if(this._tokens[s]!==e._tokens[s])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1];return Ys.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return Ys.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return Ys.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return Ys.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return Ys.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Ir.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new m$(this,e,t,i)}static convertToEndOffset(e,t){const r=(e.length>>>1)-1;for(let o=0;o<r;o++)e[o<<1]=e[o+1<<1];e[r<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,r=(e.length>>>1)-1;for(;i<r;){const o=i+Math.floor((r-i)/2),s=e[o<<1];if(s===t)return o+1;s<t?i=o+1:s>t&&(r=o)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,r="";const o=new Array;let s=0;for(;;){let a=t<this._tokensCount?this._tokens[t<<1]:-1,l=i<e.length?e[i]:null;if(a!==-1&&(l===null||a<=l.offset)){r+=this._text.substring(s,a);const u=this._tokens[(t<<1)+1];o.push(r.length,u),t++,s=a}else if(l){if(l.offset>s){r+=this._text.substring(s,l.offset);const u=this._tokens[(t<<1)+1];o.push(r.length,u),s=l.offset}r+=l.text,o.push(r.length,l.tokenMetadata),i++}else break}return new Ir(new Uint32Array(o),r)}}Ir.defaultTokenMetadata=(16384|2<<23)>>>0;class m${constructor(e,t,i,r){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=r,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let o=this._firstTokenIndex,s=e.getCount();o<s&&!(e.getStartOffset(o)>=i);o++)this._tokensCount++}equals(e){return e instanceof m$?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class ra{constructor(e,t,i,r){this.startColumn=e,this.endColumn=t,this.className=i,this.type=r,this._lineDecorationBrand=void 0}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length,r=t.length;if(i!==r)return!1;for(let o=0;o<i;o++)if(!ra._equals(e[o],t[o]))return!1;return!0}static extractWrapped(e,t,i){if(e.length===0)return e;const r=t+1,o=i+1,s=i-t,a=[];let l=0;for(const u of e)u.endColumn<=r||u.startColumn>=o||(a[l++]=new ra(Math.max(1,u.startColumn-r+1),Math.min(s+1,u.endColumn-r+1),u.className,u.type));return a}static filter(e,t,i,r){if(e.length===0)return[];let o=[],s=0;for(let a=0,l=e.length;a<l;a++){const u=e[a],c=u.range;if(c.endLineNumber<t||c.startLineNumber>t||c.isEmpty()&&(u.type===0||u.type===3))continue;const d=c.startLineNumber===t?c.startColumn:i,h=c.endLineNumber===t?c.endColumn:r;o[s++]=new ra(d,h,u.inlineClassName,u.type)}return o}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn!==t.startColumn)return e.startColumn-t.startColumn;if(e.endColumn!==t.endColumn)return e.endColumn-t.endColumn;const i=ra._typeCompare(e.type,t.type);return i!==0?i:e.className!==t.className?e.className<t.className?-1:1:0}}class a6{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=r}}let qwe=class _R{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,r=e.length;i<r;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let r=0;for(;r+1<this.count&&this.stopOffsets[r]===this.stopOffsets[r+1];)r++;i.push(new a6(t,this.stopOffsets[r],this.classNames.join(" "),_R._metadata(this.metadata))),t=this.stopOffsets[r]+1,this.stopOffsets.splice(0,r+1),this.classNames.splice(0,r+1),this.metadata.splice(0,r+1),this.count-=r+1}return this.count>0&&t<e&&(i.push(new a6(t,e-1,this.classNames.join(" "),_R._metadata(this.metadata))),t=e),t}insert(e,t,i){if(this.count===0||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let r=0;r<this.count;r++)if(this.stopOffsets[r]>=e){this.stopOffsets.splice(r,0,e),this.classNames.splice(r,0,t),this.metadata.splice(r,0,i);break}this.count++}};class Ywe{static normalize(e,t){if(t.length===0)return[];let i=[];const r=new qwe;let o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];let u=l.startColumn,c=l.endColumn;const d=l.className,h=l.type===1?2:l.type===2?4:0;if(u>1){const p=e.charCodeAt(u-2);ji(p)&&u--}if(c>1){const p=e.charCodeAt(c-2);ji(p)&&c--}const f=u-1,g=c-2;o=r.consumeLowerThan(f,o,i),r.count===0&&(o=f),r.insert(g,d,h)}return r.consumeLowerThan(1073741824,o,i),i}}class Lr{constructor(e,t,i){this._linePartBrand=void 0,this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class Xwe{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class Sy{constructor(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p,m,v,y,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=r,this.isBasicASCII=o,this.containsRTL=s,this.fauxIndentLength=a,this.lineTokens=l,this.lineDecorations=u.sort(ra.compare),this.tabSize=c,this.startVisibleColumn=d,this.spaceWidth=h,this.stopRenderingLineAfter=p,this.renderWhitespace=m==="all"?4:m==="boundary"?1:m==="selection"?2:m==="trailing"?3:0,this.renderControlCharacters=v,this.fontLigatures=y,this.selectionsOnLine=_&&_.sort((w,C)=>w.startOffset<C.startOffset?-1:1);const b=Math.abs(g-h),S=Math.abs(f-h);b<S?(this.renderSpaceWidth=g,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=f,this.renderSpaceCharCode=183)}sameSelection(e){if(this.selectionsOnLine===null)return e===null;if(e===null||e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&ra.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class v${constructor(e,t){this.partIndex=e,this.charIndex=t}}class Fl{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(e&4294901760)>>>16}static getCharIndex(e){return(e&65535)>>>0}setColumnInfo(e,t,i,r){const o=(t<<16|i<<0)>>>0;this._data[e-1]=o,this._absoluteOffsets[e-1]=r+i}getAbsoluteOffset(e){return this._absoluteOffsets.length===0?0:this._absoluteOffsets[e-1]}charOffsetToPartData(e){return this.length===0?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}getDomPosition(e){const t=this.charOffsetToPartData(e-1),i=Fl.getPartIndex(t),r=Fl.getCharIndex(t);return new v$(i,r)}getColumn(e,t){return this.partDataToCharOffset(e.partIndex,t,e.charIndex)+1}partDataToCharOffset(e,t,i){if(this.length===0)return 0;let r=(e<<16|i<<0)>>>0,o=0,s=this.length-1;for(;o+1<s;){let p=o+s>>>1,m=this._data[p];if(m===r)return p;m>r?s=p:o=p}if(o===s)return o;let a=this._data[o],l=this._data[s];if(a===r)return o;if(l===r)return s;let u=Fl.getPartIndex(a),c=Fl.getCharIndex(a),d=Fl.getPartIndex(l),h;u!==d?h=t:h=Fl.getCharIndex(l);let f=i-c,g=h-i;return f<=g?o:s}}class bR{constructor(e,t,i){this._renderLineOutputBrand=void 0,this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function y$(n,e){if(n.lineContent.length===0){if(n.lineDecorations.length>0){e.appendASCIIString("<span>");let t=0,i=0,r=0;for(const s of n.lineDecorations)(s.type===1||s.type===2)&&(e.appendASCIIString('<span class="'),e.appendASCIIString(s.className),e.appendASCIIString('"></span>'),s.type===1&&(r|=1,t++),s.type===2&&(r|=2,i++));e.appendASCIIString("</span>");const o=new Fl(1,t+i);return o.setColumnInfo(1,t,0,0),new bR(o,!1,r)}return e.appendASCIIString("<span><span></span></span>"),new bR(new Fl(0,0),!1,0)}return r1e(Jwe(n),e)}class Zwe{constructor(e,t,i,r){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=r}}function OD(n){let e=kv(1e4),t=y$(n,e);return new Zwe(t.characterMapping,e.build(),t.containsRTL,t.containsForeignElements)}class Qwe{constructor(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=r,this.isOverflowing=o,this.parts=s,this.containsForeignElements=a,this.fauxIndentLength=l,this.tabSize=u,this.startVisibleColumn=c,this.containsRTL=d,this.spaceWidth=h,this.renderSpaceCharCode=f,this.renderWhitespace=g,this.renderControlCharacters=p}}function Jwe(n){const e=n.lineContent;let t,i;n.stopRenderingLineAfter!==-1&&n.stopRenderingLineAfter<e.length?(t=!0,i=n.stopRenderingLineAfter):(t=!1,i=e.length);let r=e1e(n.lineTokens,n.fauxIndentLength,i);(n.renderWhitespace===4||n.renderWhitespace===1||n.renderWhitespace===2&&n.selectionsOnLine||n.renderWhitespace===3)&&(r=n1e(n,e,i,r));let o=0;if(n.lineDecorations.length>0){for(let s=0,a=n.lineDecorations.length;s<a;s++){const l=n.lineDecorations[s];l.type===3||l.type===1?o|=1:l.type===2&&(o|=2)}r=i1e(e,i,r,n.lineDecorations)}return n.containsRTL||(r=t1e(e,r,!n.isBasicASCII||n.fontLigatures)),new Qwe(n.useMonospaceOptimizations,n.canUseHalfwidthRightwardsArrow,e,i,t,r,o,n.fauxIndentLength,n.tabSize,n.startVisibleColumn,n.containsRTL,n.spaceWidth,n.renderSpaceCharCode,n.renderWhitespace,n.renderControlCharacters)}function e1e(n,e,t){let i=[],r=0;e>0&&(i[r++]=new Lr(e,"",0));for(let o=0,s=n.getCount();o<s;o++){const a=n.getEndOffset(o);if(a<=e)continue;const l=n.getClassName(o);if(a>=t){i[r++]=new Lr(t,l,0);break}i[r++]=new Lr(a,l,0)}return i}function t1e(n,e,t){let i=0,r=[],o=0;if(t)for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.endIndex;if(i+50<u){const c=l.type,d=l.metadata;let h=-1,f=i;for(let g=i;g<u;g++)n.charCodeAt(g)===32&&(h=g),h!==-1&&g-f>=50&&(r[o++]=new Lr(h+1,c,d),f=h+1,h=-1);f!==u&&(r[o++]=new Lr(u,c,d))}else r[o++]=l;i=u}else for(let s=0,a=e.length;s<a;s++){const l=e[s],u=l.endIndex;let c=u-i;if(c>50){const d=l.type,h=l.metadata,f=Math.ceil(c/50);for(let g=1;g<f;g++){let p=i+g*50;r[o++]=new Lr(p,d,h)}r[o++]=new Lr(u,d,h)}else r[o++]=l;i=u}return r}function n1e(n,e,t,i){const r=n.continuesWithWrappedLine,o=n.fauxIndentLength,s=n.tabSize,a=n.startVisibleColumn,l=n.useMonospaceOptimizations,u=n.selectionsOnLine,c=n.renderWhitespace===1,d=n.renderWhitespace===3,h=n.renderSpaceWidth!==n.spaceWidth;let f=[],g=0,p=0,m=i[p].type,v=i[p].endIndex;const y=i.length;let _=!1,b=ps(e),S;b===-1?(_=!0,b=t,S=t):S=by(e);let w=!1,C=0,x=u&&u[C],L=a%s;for(let I=o;I<t;I++){const D=e.charCodeAt(I);x&&I>=x.endOffset&&(C++,x=u&&u[C]);let M;if(I<b||I>S)M=!0;else if(D===9)M=!0;else if(D===32)if(c)if(w)M=!0;else{const P=I+1<t?e.charCodeAt(I+1):0;M=P===32||P===9}else M=!0;else M=!1;if(M&&u&&(M=!!x&&x.startOffset<=I&&x.endOffset>I),M&&d&&(M=_||I>S),w){if(!M||!l&&L>=s){if(h){const P=g>0?f[g-1].endIndex:o;for(let k=P+1;k<=I;k++)f[g++]=new Lr(k,"mtkw",1)}else f[g++]=new Lr(I,"mtkw",1);L=L%s}}else(I===v||M&&I>o)&&(f[g++]=new Lr(I,m,0),L=L%s);for(D===9?L=s:Za(D)?L+=2:L++,w=M;I===v&&(p++,p<y);)m=i[p].type,v=i[p].endIndex}let T=!1;if(w)if(r&&c){let I=t>0?e.charCodeAt(t-1):0,D=t>1?e.charCodeAt(t-2):0;I===32&&D!==32&&D!==9||(T=!0)}else T=!0;if(T)if(h){const I=g>0?f[g-1].endIndex:o;for(let D=I+1;D<=t;D++)f[g++]=new Lr(D,"mtkw",1)}else f[g++]=new Lr(t,"mtkw",1);else f[g++]=new Lr(t,m,0);return f}function i1e(n,e,t,i){i.sort(ra.compare);const r=Ywe.normalize(n,i),o=r.length;let s=0,a=[],l=0,u=0;for(let d=0,h=t.length;d<h;d++){const f=t[d],g=f.endIndex,p=f.type,m=f.metadata;for(;s<o&&r[s].startOffset<g;){const v=r[s];if(v.startOffset>u&&(u=v.startOffset,a[l++]=new Lr(u,p,m)),v.endOffset+1<=g)u=v.endOffset+1,a[l++]=new Lr(u,p+" "+v.className,m|v.metadata),s++;else{u=g,a[l++]=new Lr(u,p+" "+v.className,m|v.metadata);break}}g>u&&(u=g,a[l++]=new Lr(u,p,m))}const c=t[t.length-1].endIndex;if(s<o&&r[s].startOffset===c)for(;s<o&&r[s].startOffset===c;){const d=r[s];a[l++]=new Lr(u,d.className,d.metadata),s++}return a}function r1e(n,e){const t=n.fontIsMonospace,i=n.canUseHalfwidthRightwardsArrow,r=n.containsForeignElements,o=n.lineContent,s=n.len,a=n.isOverflowing,l=n.parts,u=n.fauxIndentLength,c=n.tabSize,d=n.startVisibleColumn,h=n.containsRTL,f=n.spaceWidth,g=n.renderSpaceCharCode,p=n.renderWhitespace,m=n.renderControlCharacters,v=new Fl(s+1,l.length);let y=!1,_=0,b=d,S=0,w=0,C=0,x=0;h?e.appendASCIIString('<span dir="ltr">'):e.appendASCIIString("<span>");for(let L=0,T=l.length;L<T;L++){x+=C;const I=l[L],D=I.endIndex,M=I.type,P=p!==0&&I.isWhitespace(),k=P&&!t&&(M==="mtkw"||!r),O=_===D&&I.isPseudoAfter();if(S=0,e.appendASCIIString('<span class="'),e.appendASCIIString(k?"mtkz":M),e.appendASCII(34),P){let F=0;{let R=_,$=b;for(;R<D;R++){const U=(o.charCodeAt(R)===9?c-$%c:1)|0;F+=U,R>=u&&($+=U)}}for(k&&(e.appendASCIIString(' style="width:'),e.appendASCIIString(String(f*F)),e.appendASCIIString('px"')),e.appendASCII(62);_<D;_++){v.setColumnInfo(_+1,L-w,S,x),w=0;const R=o.charCodeAt(_);let $;if(R===9){$=c-b%c|0,!i||$>1?e.write1(8594):e.write1(65515);for(let H=2;H<=$;H++)e.write1(160)}else $=1,e.write1(g);S+=$,_>=u&&(b+=$)}C=F}else{let F=0;for(e.appendASCII(62);_<D;_++){v.setColumnInfo(_+1,L-w,S,x),w=0;const R=o.charCodeAt(_);let $=1,H=1;switch(R){case 9:$=c-b%c,H=$;for(let U=1;U<=$;U++)e.write1(160);break;case 32:e.write1(160);break;case 60:e.appendASCIIString("&lt;");break;case 62:e.appendASCIIString("&gt;");break;case 38:e.appendASCIIString("&amp;");break;case 0:m?e.write1(9216):e.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:e.write1(65533);break;default:Za(R)&&H++,m&&R<32?e.write1(9216+R):m&&R===127?e.write1(9249):e.write1(R)}S+=$,F+=$,_>=u&&(b+=H)}C=F}O?w++:w=0,_>=s&&!y&&I.isPseudoAfter()&&(y=!0,v.setColumnInfo(_+1,L,S,x)),e.appendASCIIString("</span>")}return y||v.setColumnInfo(s+1,l.length-1,S,x),a&&e.appendASCIIString("<span>&hellip;</span>"),e.appendASCIIString("</span>"),new bR(v,h,r)}class l6{constructor(e,t,i,r){this._viewportBrand=void 0,this.top=e|0,this.left=t|0,this.width=i|0,this.height=r|0}}class o1e{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(e,t){const i=this.outputLineIndex>0?t:0;return new ve(e+this.outputLineIndex,i+this.outputOffset+1)}}class k_{constructor(e,t,i,r,o){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i,this.injectionOffsets=r,this.injectionOptions=o}getInputOffsetOfOutputPosition(e,t){let i=0;if(e===0?i=t:i=this.breakOffsets[e-1]+t,this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&i>this.injectionOffsets[r];r++)i<this.injectionOffsets[r]+this.injectionOptions[r].content.length?i=this.injectionOffsets[r]:i-=this.injectionOptions[r].content.length;return i}getOutputPositionOfInputOffset(e,t=2){let i=0;if(this.injectionOffsets!==null)for(let r=0;r<this.injectionOffsets.length&&!(e<this.injectionOffsets[r]||t!==1&&e===this.injectionOffsets[r]);r++)i+=this.injectionOptions[r].content.length;return e+=i,this.getOutputPositionOfOffsetInUnwrappedLine(e,t)}getOutputPositionOfOffsetInUnwrappedLine(e,t=2){let i=0,r=this.breakOffsets.length-1,o=0,s=0;for(;i<=r;){o=i+(r-i)/2|0;const a=this.breakOffsets[o];if(s=o>0?this.breakOffsets[o-1]:0,t===0)if(e<=s)r=o-1;else if(e>a)i=o+1;else break;else if(e<s)r=o-1;else if(e>=a)i=o+1;else break}return new o1e(o,e-s)}outputPositionToOffsetInUnwrappedLine(e,t){let i=(e>0?this.breakOffsets[e-1]:0)+t;return e>0&&(i-=this.wrappedTextIndentLength),i}normalizeOffsetAroundInjections(e,t){const i=this.getInjectedTextAtOffset(e);if(!i)return e;if(t===2)return e===i.offsetInUnwrappedLine+i.length?i.offsetInUnwrappedLine+i.length:i.offsetInUnwrappedLine;if(t===1){let s=i.offsetInUnwrappedLine+i.length,a=i.injectedTextIndex;for(;a+1<this.injectionOffsets.length&&this.injectionOffsets[a+1]===this.injectionOffsets[a];)s+=this.injectionOptions[a+1].content.length,a++;return s}let r=i.offsetInUnwrappedLine,o=i.injectedTextIndex;for(;o-1>=0&&this.injectionOffsets[o-1]===this.injectionOffsets[o];)r-=this.injectionOptions[o-1].content.length,o++;return r}getInjectedText(e,t){const i=this.outputPositionToOffsetInUnwrappedLine(e,t),r=this.getInjectedTextAtOffset(i);return r?{options:this.injectionOptions[r.injectedTextIndex]}:null}getInjectedTextAtOffset(e){const t=this.injectionOffsets,i=this.injectionOptions;if(t!==null){let r=0;for(let o=0;o<t.length;o++){const s=i[o].content.length,a=t[o]+r,l=t[o]+r+s;if(a>e)break;if(e<=l)return{injectedTextIndex:o,offsetInUnwrappedLine:a,length:s};r+=s}}}}class s1e{constructor(e,t){this.tabSize=e,this.data=t}}class _${constructor(e,t,i,r,o,s,a){this._viewLineDataBrand=void 0,this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=r,this.startVisibleColumn=o,this.tokens=s,this.inlineDecorations=a}}class jo{constructor(e,t,i,r,o,s,a,l,u,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=r,this.isBasicASCII=jo.isBasicASCII(i,s),this.containsRTL=jo.containsRTL(i,this.isBasicASCII,o),this.tokens=a,this.inlineDecorations=l,this.tabSize=u,this.startVisibleColumn=c}static isBasicASCII(e,t){return t?one(e):!0}static containsRTL(e,t,i){return!t&&i?r$(e):!1}}class P_{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class a1e{constructor(e,t,i,r){this.startOffset=e,this.endOffset=t,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=r}toInlineDecoration(e){return new P_(new ee(e,this.startOffset+1,e,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class Bne{constructor(e,t){this._viewModelDecorationBrand=void 0,this.range=e,this.options=t}}function l1e(n){return Array.isArray(n)}function u1e(n){return!l1e(n)}function Fne(n){return typeof n=="string"}function u6(n){return!Fne(n)}function ym(n){return!n}function Kd(n,e){return n.ignoreCase&&e?e.toLowerCase():e}function c6(n){return n.replace(/[&<>'"_]/g,"-")}function c1e(n,e){console.log(`${n.languageId}: ${e}`)}function vn(n,e){return new Error(`${n.languageId}: ${e}`)}function Td(n,e,t,i,r){const o=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let s=null;return e.replace(o,function(a,l,u,c,d,h,f,g,p){return ym(u)?ym(c)?!ym(d)&&d<i.length?Kd(n,i[d]):!ym(f)&&n&&typeof n[f]=="string"?n[f]:(s===null&&(s=r.split("."),s.unshift(r)),!ym(h)&&h<s.length?Kd(n,s[h]):""):Kd(n,t):"$"})}function c1(n,e){let t=e;for(;t&&t.length>0;){const i=n.tokenizer[t];if(i)return i;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return null}function d1e(n,e){let t=e;for(;t&&t.length>0;){if(n.stateNames[t])return!0;const r=t.lastIndexOf(".");r<0?t=null:t=t.substr(0,r)}return!1}const $ne=5;class Rb{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(e!==null&&e.depth>=this._maxCacheDepth)return new ev(e,t);let i=ev.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let r=this._entries[i];return r||(r=new ev(e,t),this._entries[i]=r,r)}}Rb._INSTANCE=new Rb($ne);class ev{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;e!==null;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;e!==null&&t!==null;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return e===null&&t===null}equals(e){return ev._equals(this,e)}push(e){return Rb.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Rb.create(this.parent,e)}}class O_{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new O_(this.modeId,this.state)}}class Id{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(t!==null)return new R_(e,t);if(e!==null&&e.depth>=this._maxCacheDepth)return new R_(e,t);let i=ev.getStackElementId(e),r=this._entries[i];return r||(r=new R_(e,null),this._entries[i]=r,r)}}Id._INSTANCE=new Id($ne);class R_{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:Id.create(this.stack,this.embeddedModeData)}equals(e){return!(e instanceof R_)||!this.stack.equals(e.stack)?!1:this.embeddedModeData===null&&e.embeddedModeData===null?!0:this.embeddedModeData===null||e.embeddedModeData===null?!1:this.embeddedModeData.equals(e.embeddedModeData)}}class h1e{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new LD(e,t,this._language)))}nestedModeTokenize(e,t,i,r){const o=i.modeId,s=i.state,a=gi.get(o);if(!a)return this.enterMode(r,o),this.emit(r,""),s;let l=a.tokenize(e,t,s,r);return this._tokens=this._tokens.concat(l.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,l.endState}finalize(e){return new qF(this._tokens,e)}}class eT{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let r=e!==null?e.length:0,o=t.length,s=i!==null?i.length:0;if(r===0&&o===0&&s===0)return new Uint32Array(0);if(r===0&&o===0)return i;if(o===0&&s===0)return e;let a=new Uint32Array(r+o+s);e!==null&&a.set(e);for(let l=0;l<o;l++)a[r+l]=t[l];return i!==null&&a.set(i,r+o),a}nestedModeTokenize(e,t,i,r){const o=i.modeId,s=i.state,a=gi.get(o);if(!a)return this.enterMode(r,o),this.emit(r,""),s;let l=a.tokenize2(e,t,s,r);return this._prependTokens=eT._merge(this._prependTokens,this._tokens,l.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,l.endState}finalize(e){return new TD(eT._merge(this._prependTokens,this._tokens,null),e)}}class RD{constructor(e,t,i,r){this._modeService=e,this._standaloneThemeService=t,this._modeId=i,this._lexer=r,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let o=!1;this._tokenizationRegistryListener=gi.onDidChange(s=>{if(o)return;let a=!1;for(let l=0,u=s.changedLanguages.length;l<u;l++){let c=s.changedLanguages[l];if(this._embeddedModes[c]){a=!0;break}}a&&(o=!0,gi.fire([this._modeId]),o=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=gi.get(t);if(i){if(i instanceof RD){const o=i.getLoadStatus();o.loaded===!1&&e.push(o.promise)}continue}const r=gi.getPromise(t);r&&e.push(r)}return e.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(t=>{})}}getInitialState(){let e=Rb.create(null,this._lexer.start);return Id.create(e,null)}tokenize(e,t,i,r){let o=new h1e,s=this._tokenize(e,t,i,r,o);return o.finalize(s)}tokenize2(e,t,i,r){let o=new eT(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),s=this._tokenize(e,t,i,r,o);return o.finalize(s)}_tokenize(e,t,i,r,o){return i.embeddedModeData?this._nestedTokenize(e,t,i,r,o):this._myTokenize(e,t,i,r,o)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&(i=c1(this._lexer,t.stack.state),!i))throw vn(this._lexer,"tokenizer state is not defined: "+t.stack.state);let r=-1,o=!1;for(const s of i){if(!u6(s.action)||s.action.nextEmbedded!=="@pop")continue;o=!0;let a=s.regex,l=s.regex.source;if(l.substr(0,4)==="^(?:"&&l.substr(l.length-1,1)===")"){let c=(a.ignoreCase?"i":"")+(a.unicode?"u":"");a=new RegExp(l.substr(4,l.length-5),c)}let u=e.search(a);u===-1||u!==0&&s.matchOnlyAtLineStart||(r===-1||u<r)&&(r=u)}if(!o)throw vn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return r}_nestedTokenize(e,t,i,r,o){let s=this._findLeavingNestedModeOffset(e,i);if(s===-1){let u=o.nestedModeTokenize(e,t,i.embeddedModeData,r);return Id.create(i.stack,new O_(i.embeddedModeData.modeId,u))}let a=e.substring(0,s);a.length>0&&o.nestedModeTokenize(a,!1,i.embeddedModeData,r);let l=e.substring(s);return this._myTokenize(l,t,i,r+s,o)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,r,o){o.enterMode(r,this._modeId);const s=e.length,a=t&&this._lexer.includeLF?e+`
`:e,l=a.length;let u=i.embeddedModeData,c=i.stack,d=0,h=null,f=!0;for(;f||d<l;){const g=d,p=c.depth,m=h?h.groups.length:0,v=c.state;let y=null,_=null,b=null,S=null,w=null;if(h){y=h.matches;const L=h.groups.shift();_=L.matched,b=L.action,S=h.rule,h.groups.length===0&&(h=null)}else{if(!f&&d>=l)break;f=!1;let L=this._lexer.tokenizer[v];if(!L&&(L=c1(this._lexer,v),!L))throw vn(this._lexer,"tokenizer state is not defined: "+v);let T=a.substr(d);for(const I of L)if((d===0||!I.matchOnlyAtLineStart)&&(y=T.match(I.regex),y)){_=y[0],b=I.action;break}}if(y||(y=[""],_=""),b||(d<l&&(y=[a.charAt(d)],_=y[0]),b=this._lexer.defaultToken),_===null)break;for(d+=_.length;u1e(b)&&u6(b)&&b.test;)b=b.test(_,y,v,d===l);let C=null;if(typeof b=="string"||Array.isArray(b))C=b;else if(b.group)C=b.group;else if(b.token!==null&&b.token!==void 0){if(b.tokenSubst?C=Td(this._lexer,b.token,_,y,v):C=b.token,b.nextEmbedded)if(b.nextEmbedded==="@pop"){if(!u)throw vn(this._lexer,"cannot pop embedded mode if not inside one");u=null}else{if(u)throw vn(this._lexer,"cannot enter embedded mode from within an embedded mode");w=Td(this._lexer,b.nextEmbedded,_,y,v)}if(b.goBack&&(d=Math.max(0,d-b.goBack)),b.switchTo&&typeof b.switchTo=="string"){let L=Td(this._lexer,b.switchTo,_,y,v);if(L[0]==="@"&&(L=L.substr(1)),c1(this._lexer,L))c=c.switchTo(L);else throw vn(this._lexer,"trying to switch to a state '"+L+"' that is undefined in rule: "+this._safeRuleName(S))}else{if(b.transform&&typeof b.transform=="function")throw vn(this._lexer,"action.transform not supported");if(b.next)if(b.next==="@push"){if(c.depth>=this._lexer.maxStack)throw vn(this._lexer,"maximum tokenizer stack size reached: ["+c.state+","+c.parent.state+",...]");c=c.push(v)}else if(b.next==="@pop"){if(c.depth<=1)throw vn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(S));c=c.pop()}else if(b.next==="@popall")c=c.popall();else{let L=Td(this._lexer,b.next,_,y,v);if(L[0]==="@"&&(L=L.substr(1)),c1(this._lexer,L))c=c.push(L);else throw vn(this._lexer,"trying to set a next state '"+L+"' that is undefined in rule: "+this._safeRuleName(S))}}b.log&&typeof b.log=="string"&&c1e(this._lexer,this._lexer.languageId+": "+Td(this._lexer,b.log,_,y,v))}if(C===null)throw vn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(S));const x=L=>{let T=this._modeService.getModeIdForLanguageName(L);T&&(L=T);const I=this._getNestedEmbeddedModeData(L);if(d<l){const D=e.substr(d);return this._nestedTokenize(D,t,Id.create(c,I),r+d,o)}else return Id.create(c,I)};if(Array.isArray(C)){if(h&&h.groups.length>0)throw vn(this._lexer,"groups cannot be nested: "+this._safeRuleName(S));if(y.length!==C.length+1)throw vn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(S));let L=0;for(let T=1;T<y.length;T++)L+=y[T].length;if(L!==_.length)throw vn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(S));h={rule:S,matches:y,groups:[]};for(let T=0;T<C.length;T++)h.groups[T]={action:C[T],matched:y[T+1]};d-=_.length;continue}else{if(C==="@rematch"&&(d-=_.length,_="",y=null,C="",w!==null))return x(w);if(_.length===0){if(l===0||p!==c.depth||v!==c.state||(h?h.groups.length:0)!==m)continue;throw vn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(S))}let L=null;if(Fne(C)&&C.indexOf("@brackets")===0){let T=C.substr(9),I=f1e(this._lexer,_);if(!I)throw vn(this._lexer,"@brackets token returned but no bracket defined as: "+_);L=c6(I.token+T)}else{let T=C===""?"":C+this._lexer.tokenPostfix;L=c6(T)}g<s&&o.emit(g+r,L)}if(w!==null)return x(w)}return Id.create(c,u)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let i=gi.get(t);if(i)return new O_(t,i.getInitialState())}return new O_(t||d$,c$)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function f1e(n,e){if(!e)return null;e=Kd(n,e);let t=n.brackets;for(const i of t){if(i.open===e)return{token:i.token,bracketType:1};if(i.close===e)return{token:i.token,bracketType:-1}}return null}function g1e(n,e,t,i){return new RD(n,e,t,i)}var CA;const xA=(CA=window.trustedTypes)===null||CA===void 0?void 0:CA.createPolicy("standaloneColorizer",{createHTML:n=>n});class b${static colorizeElement(e,t,i,r){r=r||{};let o=r.theme||"vs",s=r.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!s)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);let a=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+o;let l=u=>{var c;const d=(c=xA==null?void 0:xA.createHTML(u))!==null&&c!==void 0?c:u;i.innerHTML=d};return this.colorize(t,a||"",s,r).then(l,u=>console.error(u))}static colorize(e,t,i,r){let o=4;r&&typeof r.tabSize=="number"&&(o=r.tabSize),o$(t)&&(t=t.substr(1));let s=DD(t),a=e.getModeId(i);if(!a)return Promise.resolve(d6(s,o));e.triggerMode(a);const l=gi.get(a);if(l)return LA(s,o,l);const u=gi.getPromise(a);return u?new Promise((c,d)=>{u.then(h=>{LA(s,o,h).then(c,d)},d)}):new Promise((c,d)=>{let h=null,f=null;const g=()=>{h&&(h.dispose(),h=null),f&&(f.dispose(),f=null);const p=gi.get(a);if(p){LA(s,o,p).then(c,d);return}c(d6(s,o))};f=new yu,f.cancelAndSet(g,500),h=gi.onDidChange(p=>{p.changedLanguages.indexOf(a)>=0&&g()})})}static colorizeLine(e,t,i,r,o=4){const s=jo.isBasicASCII(e,t),a=jo.containsRTL(e,s,i);return OD(new Sy(!1,!0,e,!1,s,a,0,r,[],o,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let r=e.getLineContent(t);e.forceTokenization(t);let s=e.getLineTokens(t).inflate();return this.colorizeLine(r,e.mightContainNonBasicASCII(),e.mightContainRTL(),s,i)}}function LA(n,e,t){return new Promise((i,r)=>{const o=()=>{const s=p1e(n,e,t);if(t instanceof RD){const a=t.getLoadStatus();if(a.loaded===!1){a.promise.then(o,r);return}}i(s)};o()})}function d6(n,e){let t=[];const r=new Uint32Array(2);r[0]=0,r[1]=16793600;for(let o=0,s=n.length;o<s;o++){let a=n[o];r[0]=a.length;const l=new Ir(r,a),u=jo.isBasicASCII(a,!0),c=jo.containsRTL(a,u,!0);let d=OD(new Sy(!1,!0,a,!1,u,c,0,l,[],e,0,0,0,0,-1,"none",!1,!1,null));t=t.concat(d.html),t.push("<br/>")}return t.join("")}function p1e(n,e,t){let i=[],r=t.getInitialState();for(let o=0,s=n.length;o<s;o++){let a=n[o],l=t.tokenize2(a,!0,r,0);Ir.convertToEndOffset(l.tokens,a.length);let u=new Ir(l.tokens,a);const c=jo.isBasicASCII(a,!0),d=jo.containsRTL(a,c,!0);let h=OD(new Sy(!1,!0,a,!1,c,d,0,u.inflate(),[],e,0,0,0,0,-1,"none",!1,!1,null));i=i.concat(h.html),i.push("<br/>"),r=l.endState}return i.join("")}var Bb;(function(n){n[n.Ignore=0]="Ignore",n[n.Info=1]="Info",n[n.Warning=2]="Warning",n[n.Error=3]="Error"})(Bb||(Bb={}));(function(n){const e="error",t="warning",i="warn",r="info",o="ignore";function s(l){return l?t_(e,l)?n.Error:t_(t,l)||t_(i,l)?n.Warning:t_(r,l)?n.Info:n.Ignore:n.Ignore}n.fromValue=s;function a(l){switch(l){case n.Error:return e;case n.Warning:return t;case n.Info:return r;default:return o}}n.toString=a})(Bb||(Bb={}));const _i=Bb;function m1e(n){return n&&typeof n.getEditorType=="function"?n.getEditorType()===MD.ICodeEditor:!1}const v1e=an("IWorkspaceEditService");function y1e(n){return fs(n)&&(!!n.newUri||!!n.oldUri)}function _1e(n){return fs(n)&&Nt.isUri(n.resource)&&fs(n.edit)}class Vne{constructor(e){this.metadata=e}static convert(e){return e.edits.map(t=>{if(_1e(t))return new Wne(t.resource,t.edit,t.modelVersionId,t.metadata);if(y1e(t))return new b1e(t.oldUri,t.newUri,t.options,t.metadata);throw new Error("Unsupported edit")})}}class Wne extends Vne{constructor(e,t,i,r){super(r),this.resource=e,this.textEdit=t,this.versionId=i}}class b1e extends Vne{constructor(e,t,i,r){super(r),this.oldResource=e,this.newResource=t,this.options=i}}class S1e{constructor(){this.data=new Map}add(e,t){yx(il(e)),yx(fs(t)),yx(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}}const ir=new S1e,BD={JSONContribution:"base.contributions.json"};function w1e(n){return n.length>0&&n.charAt(n.length-1)==="#"?n.substring(0,n.length-1):n}class C1e{constructor(){this._onDidChangeSchema=new ae,this.schemasById={}}registerSchema(e,t){this.schemasById[w1e(e)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}}const x1e=new C1e;ir.add(BD.JSONContribution,x1e);const wy={Configuration:"base.contributions.configuration"},TA="vscode://schemas/settings/resourceLanguage",h6=ir.as(BD.JSONContribution);class L1e{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ae,this._onDidUpdateConfiguration=new ae,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:E("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},h6.registerSchema(TA,this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=[];e.forEach(r=>{i.push(...this.validateAndRegisterProperties(r,t,r.extensionInfo)),this.configurationContributors.push(r),this.registerJSONConfiguration(r)}),h6.registerSchema(TA,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,i,r=3){var o;r=$a(e.scope)?r:e.scope;let s=[],a=e.properties;if(a)for(let u in a){if(t&&E1e(u)){delete a[u];continue}const c=a[u];if(this.updatePropertyDefaultValue(u,c),S$.test(u)?c.scope=void 0:(c.scope=$a(c.scope)?r:c.scope,c.restricted=$a(c.restricted)?!!(!((o=i==null?void 0:i.restrictedConfigurations)===null||o===void 0)&&o.includes(u)):c.restricted),a[u].hasOwnProperty("included")&&!a[u].included){this.excludedConfigurationProperties[u]=a[u],delete a[u];continue}else this.configurationProperties[u]=a[u];!a[u].deprecationMessage&&a[u].markdownDeprecationMessage&&(a[u].deprecationMessage=a[u].markdownDeprecationMessage),s.push(u)}let l=e.allOf;if(l)for(let u of l)s.push(...this.validateAndRegisterProperties(u,t,i,r));return s}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=i=>{let r=i.properties;if(r)for(const s in r)this.updateSchema(s,r[s]);let o=i.allOf;o&&o.forEach(t)};t(e)}updateSchema(e,t){switch(t.scope){case 1:break;case 2:break;case 6:break;case 3:break;case 4:break;case 5:this.resourceLanguageSettingsSchema.properties[e]=t;break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:E("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:E("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:TA};this.updatePropertyDefaultValue(t,i)}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];ms(i)&&(i=t.default),ms(i)&&(i=D1e(t.type)),t.default=i}}const T1e="\\[.*\\]$",S$=new RegExp(T1e);function I1e(n){return n.substring(1,n.length-1)}function D1e(n){switch(Array.isArray(n)?n[0]:n){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const zne=new L1e;ir.add(wy.Configuration,zne);function E1e(n){return n.trim()?S$.test(n)?E("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",n):zne.getConfigurationProperties()[n]!==void 0?E("config.property.duplicate","Cannot register '{0}'. This property is already registered.",n):null:E("config.property.empty","Cannot register an empty property")}const M1e=Object.prototype.hasOwnProperty;function A1e(n,e){for(let t in n)if(M1e.call(n,t)&&e({key:t,value:n[t]},function(){delete n[t]})===!1)return}class N1e{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),i.size===0&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}const f6=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ae,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(n){this._tabFocus!==n&&(this._tabFocus=n,this._onDidChangeTabFocus.fire(this._tabFocus))}},Hne=Object.hasOwnProperty;class k1e{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class P1e{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class Zu{static readOptions(e){const t=e,i=new P1e;for(const r of Dm){const o=r.name==="_never_"?void 0:t[r.name];i._write(r.id,o)}return i}static validateOptions(e){const t=new W0e;for(const i of Dm)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new k1e;for(const r of Dm)i._write(r.id,r.compute(t,i,e._read(r.id)));return i}static _deepEquals(e,t){if(typeof e!="object"||typeof t!="object")return e===t;if(Array.isArray(e)||Array.isArray(t))return Array.isArray(e)&&Array.isArray(t)?fc(e,t):!1;for(let i in e)if(!Zu._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let r=!1;for(const o of Dm){const s=!Zu._deepEquals(e._read(o.id),t._read(o.id));i[o.id]=s,s&&(r=!0)}return r?new Ite(i):null}}function O1e(n){const e=n.wordWrap;e===!0?n.wordWrap="on":e===!1&&(n.wordWrap="off");const t=n.lineNumbers;t===!0?n.lineNumbers="on":t===!1&&(n.lineNumbers="off"),n.autoClosingBrackets===!1&&(n.autoClosingBrackets="never",n.autoClosingQuotes="never",n.autoSurround="never"),n.cursorBlinking==="visible"&&(n.cursorBlinking="solid");const o=n.renderWhitespace;o===!0?n.renderWhitespace="boundary":o===!1&&(n.renderWhitespace="none");const s=n.renderLineHighlight;s===!0?n.renderLineHighlight="line":s===!1&&(n.renderLineHighlight="none");const a=n.acceptSuggestionOnEnter;a===!0?n.acceptSuggestionOnEnter="on":a===!1&&(n.acceptSuggestionOnEnter="off");const l=n.tabCompletion;l===!1?n.tabCompletion="off":l===!0&&(n.tabCompletion="onlySnippets");const u=n.suggest;if(u&&typeof u.filteredTypes=="object"&&u.filteredTypes){const g={};g.method="showMethods",g.function="showFunctions",g.constructor="showConstructors",g.deprecated="showDeprecated",g.field="showFields",g.variable="showVariables",g.class="showClasses",g.struct="showStructs",g.interface="showInterfaces",g.module="showModules",g.property="showProperties",g.event="showEvents",g.operator="showOperators",g.unit="showUnits",g.value="showValues",g.constant="showConstants",g.enum="showEnums",g.enumMember="showEnumMembers",g.keyword="showKeywords",g.text="showWords",g.color="showColors",g.file="showFiles",g.reference="showReferences",g.folder="showFolders",g.typeParameter="showTypeParameters",g.snippet="showSnippets",A1e(g,p=>{const m=u.filteredTypes[p.key];m===!1&&(u[p.value]=m)})}const c=n.hover;c===!0?n.hover={enabled:!0}:c===!1&&(n.hover={enabled:!1});const d=n.parameterHints;d===!0?n.parameterHints={enabled:!0}:d===!1&&(n.parameterHints={enabled:!1});const h=n.autoIndent;h===!0?n.autoIndent="full":h===!1&&(n.autoIndent="advanced");const f=n.matchBrackets;f===!0?n.matchBrackets="always":f===!1&&(n.matchBrackets="never")}function g6(n){const e=Df(n);return O1e(e),e}class tT extends Pe{constructor(e,t){super(),this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ae),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new Dte,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=g6(t),this._readOptions=Zu.readOptions(this._rawOptions),this._validatedOptions=Zu.validateOptions(this._readOptions),this._register(KL.onDidChangeZoomLevel(i=>this._recomputeOptions())),this._register(f6.onDidChangeTabFocus(i=>this._recomputeOptions()))}observeReferenceElement(e){}updatePixelRatio(){}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(!e)this.options=t;else{const i=Zu.checkEquals(e,t);if(i===null)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=Av.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,e.pixelRatio,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:f6.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return Zu.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(Hne.call(t,i)){const r=t[i],o=e[i];if(o===r)continue;if(Array.isArray(o)&&Array.isArray(r)){if(!fc(o,r))return!1;continue}if(o&&typeof o=="object"&&r&&typeof r=="object"){if(!this._subsetEquals(o,r))return!1;continue}return!1}return!0}updateOptions(e){if(typeof e>"u")return;const t=g6(e);tT._subsetEquals(this._rawOptions,t)||(this._rawOptions=Lh(this._rawOptions,t||{}),this._readOptions=Zu.readOptions(this._rawOptions),this._validatedOptions=Zu.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=tT._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const R1e=Object.freeze({id:"editor",order:5,type:"object",title:E("editorConfigurationTitle","Editor"),scope:5}),B1e=ir.as(wy.Configuration),nT=Object.assign(Object.assign({},R1e),{properties:{"editor.tabSize":{type:"number",default:_o.tabSize,minimum:1,markdownDescription:E("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:_o.insertSpaces,markdownDescription:E("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:_o.detectIndentation,markdownDescription:E("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:_o.trimAutoWhitespace,description:E("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:_o.largeFileOptimizations,description:E("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:E("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[E("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),E("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),E("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:E("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[E("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),E("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),E("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:E("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:E("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:E("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:E("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:E("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:E("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:E("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:E("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[E("wordWrap.off","Lines will never wrap."),E("wordWrap.on","Lines will wrap at the viewport width."),E("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function F1e(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of Dm){const e=n.schema;if(typeof e<"u")if(F1e(e))nT.properties[`editor.${n.name}`]=e;else for(let t in e)Hne.call(e,t)&&(nT.properties[t]=e[t])}let d1=null;function Une(){return d1===null&&(d1=Object.create(null),Object.keys(nT.properties).forEach(n=>{d1[n]=!0})),d1}function $1e(n){return Une()[`editor.${n}`]||!1}function V1e(n){return Une()[`diffEditor.${n}`]||!1}B1e.registerConfiguration(nT);class W1e{static insert(e,t){return{range:new ee(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}const br=an("configurationService");function Gne(n,e){const t=Object.create(null);for(let i in n)w$(t,i,n[i],e);return t}function w$(n,e,t,i){const r=e.split("."),o=r.pop();let s=n;for(let a=0;a<r.length;a++){let l=r[a],u=s[l];switch(typeof u){case"undefined":u=s[l]=Object.create(null);break;case"object":break;default:i(`Ignoring ${e} as ${r.slice(0,a+1).join(".")} is ${JSON.stringify(u)}`);return}s=u}if(typeof s=="object"&&s!==null)try{s[o]=t}catch{i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(s)}`)}else i(`Ignoring ${e} as ${r.join(".")} is ${JSON.stringify(s)}`)}function z1e(n,e){const t=e.split(".");Kne(n,t)}function Kne(n,e){const t=e.shift();if(e.length===0){delete n[t];return}if(Object.keys(n).indexOf(t)!==-1){const i=n[t];typeof i=="object"&&!Array.isArray(i)&&(Kne(i,e),Object.keys(i).length===0&&delete n[t])}}function H1e(n,e,t){function i(s,a){let l=s;for(const u of a){if(typeof l!="object"||l===null)return;l=l[u]}return l}const r=e.split("."),o=i(n,r);return typeof o>"u"?t:o}function U1e(){const n=ir.as(wy.Configuration).getConfigurationProperties();return Object.keys(n)}function G1e(){const n=Object.create(null),e=ir.as(wy.Configuration).getConfigurationProperties();for(let t in e){let i=e[t].default;w$(n,t,i,r=>console.error(`Conflict in default settings: ${r}`))}return n}class as{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(e){return e?H1e(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!="object"||!Object.keys(t).length)return this;let i={};for(const r of Nne([...Object.keys(this.contents),...Object.keys(t)])){let o=this.contents[r],s=t[r];s&&(typeof o=="object"&&typeof s=="object"?(o=Df(o),this.mergeContents(o,s)):o=s),i[r]=o}return new as(i,this.keys,this.overrides)}merge(...e){const t=Df(this.contents),i=Df(this.overrides),r=[...this.keys];for(const o of e){this.mergeContents(t,o.contents);for(const s of o.overrides){const[a]=i.filter(l=>fc(l.identifiers,s.identifiers));a?this.mergeContents(a.contents,s.contents):i.push(Df(s))}for(const s of o.keys)r.indexOf(s)===-1&&r.push(s)}return new as(t,r,i)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const i of Object.keys(t)){if(i in e&&fs(e[i])&&fs(t[i])){this.mergeContents(e[i],t[i]);continue}e[i]=Df(t[i])}}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?fSe(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(t.identifiers.indexOf(e)!==-1)return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),w$(this.contents,e,t,i=>{throw new Error(i)})}removeValue(e){this.removeKey(e)&&z1e(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)e.indexOf(this.keys[i])===0&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return t!==-1?(this.keys.splice(t,1),!0):!1}}class K1e extends as{constructor(){const e=G1e(),t=U1e(),i=[];for(const r of Object.keys(e))S$.test(r)&&i.push({identifiers:[I1e(r).trim()],keys:Object.keys(e[r]),contents:Gne(e[r],o=>console.error(`Conflict in default settings file: ${o}`))});super(e,t,i)}}let jne=class qne{constructor(e,t,i=new as,r=new as,o=new Jr,s=new as,a=new Jr,l=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=r,this._folderConfigurations=o,this._memoryConfiguration=s,this._memoryConfigurationByResource=a,this._freeze=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Jr,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let r;i.resource?(r=this._memoryConfigurationByResource.get(i.resource),r||(r=new as,this._memoryConfigurationByResource.set(i.resource,r))):r=this._memoryConfiguration,t===void 0?r.removeValue(e):r.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const r=t.getFolder(e);r&&(i=this.getFolderConsolidatedConfiguration(r.uri)||i);const o=this._memoryConfigurationByResource.get(e);o&&(i=i.merge(o))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),r=this._folderConfigurations.get(e);r?(t=i.merge(r),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:r,keys:o}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:r,keys:o}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),r=this.parseConfigurationModel(e.workspace),o=e.folders.reduce((s,a)=>(s.set(Nt.revive(a[0]),this.parseConfigurationModel(a[1])),s),new Jr);return new qne(t,i,new as,r,o,new as,new Jr,!1)}static parseConfigurationModel(e){return new as(e.contents,e.keys,e.overrides).freeze()}};class j1e{constructor(e,t,i,r){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=r,this._previousConfiguration=void 0;const o=new Set;e.keys.forEach(a=>o.add(a)),e.overrides.forEach(([,a])=>a.forEach(l=>o.add(l))),this.affectedKeys=[...o.values()];const s=new as;this.affectedKeys.forEach(a=>s.setValue(a,{})),this.affectedKeysTree=s.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=jne.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const r=this.previousConfiguration?this.previousConfiguration.getValue(e,t,(i=this.previous)===null||i===void 0?void 0:i.workspace):void 0,o=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!hc(r,o)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i=Gne({[t]:!0},()=>{}),r;for(;typeof i=="object"&&(r=Object.keys(i)[0]);){if(e=e[r],!e)return!1;i=i[r]}return!0}}class q1e extends Pe{constructor(e,t,i,r,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=r,this._logService=o,this._onDidUpdateKeybindings=this._register(new ae),this._currentChord=null,this._currentChordChecker=new iw,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new yu,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:Ze.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[r]=i.getDispatchParts();if(r===null)return null;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,s,r)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(E("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[r]=i.getSingleModifierDispatchParts();return r!==null&&this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${r}.`),this._currentSingleModifier=r,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):r!==null&&r===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${r} ${r}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(e,t,i=!1){let r=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let o=null,s=null;if(i){const[c]=e.getSingleModifierDispatchParts();o=c,s=c}else[o]=e.getDispatchParts(),s=this._currentChord?this._currentChord.keypress:null;if(o===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),r;const a=this._contextKeyService.getContext(t),l=e.getLabel(),u=this._getResolver().resolve(a,s,o);return this._logService.trace("KeybindingService#dispatch",l,u==null?void 0:u.commandId),u&&u.enterChord?(r=!0,this._enterChordMode(o,l),r):(this._currentChord&&(!u||!u.commandId)&&(this._notificationService.status(E("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:10*1e3}),r=!0),this._leaveChordMode(),u&&u.commandId&&(u.bubble||(r=!0),typeof u.commandArgs>"u"?this._commandService.executeCommand(u.commandId).then(void 0,c=>this._notificationService.warn(c)):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,c=>this._notificationService.warn(c)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"keybinding"})),r)}mightProducePrintableCharacter(e){return e.ctrlKey||e.metaKey?!1:e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30}}class tv{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let r=0,o=e.length;r<o;r++){const s=e[r].command;s&&this._defaultBoundCommands.set(s,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=tv.combine(e,t);for(let r=0,o=this._keybindings.length;r<o;r++){let s=this._keybindings[r];s.keypressParts.length!==0&&(s.when&&s.when.type===0||this._addKeyPress(s.keypressParts[0],s))}}static _isTargetedForRemoval(e,t,i,r,o){return!(e.command!==r||t&&e.keypressParts[0]!==t||i&&e.keypressParts[1]!==i||o&&(!e.when||!o.equals(e.when)))}static combine(e,t){e=e.slice(0);let i=[];for(const r of t){if(!r.command||r.command.length===0||r.command.charAt(0)!=="-"){i.push(r);continue}const o=r.command.substr(1),s=r.keypressParts[0],a=r.keypressParts[1],l=r.when;for(let u=e.length-1;u>=0;u--)this._isTargetedForRemoval(e[u],s,a,o,l)&&e.splice(u,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(typeof i>"u"){this._map.set(e,[t]),this._addToLookupMap(t);return}for(let r=i.length-1;r>=0;r--){let o=i[r];if(o.command===t.command)continue;const s=o.keypressParts.length>1,a=t.keypressParts.length>1;s&&a&&o.keypressParts[1]!==t.keypressParts[1]||tv.whenIsEntirelyIncluded(o.when,t.when)&&this._removeFromLookupMap(o)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);typeof t>"u"?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(!(typeof t>"u")){for(let i=0,r=t.length;i<r;i++)if(t[i]===e){t.splice(i,1);return}}}static whenIsEntirelyIncluded(e,t){return!t||t.type===1?!0:!e||e.type===1?!1:this._implies(e,t)}static _implies(e,t){const i=e.negate(),r=s=>s.type===9?s.expr:[s];let o=r(i).concat(r(t));for(let s=0;s<o.length;s++){const l=o[s].negate();for(let u=s+1;u<o.length;u++){const c=o[u];if(l.equals(c))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return null;if(i.length===1)return i[0];for(let r=i.length-1;r>=0;r--){const o=i[r];if(t.contextMatchesRules(o.when))return o}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let r=null;if(t!==null){const s=this._map.get(t);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;r=[];for(let a=0,l=s.length;a<l;a++){let u=s[a];u.keypressParts[1]===i&&r.push(u)}}else{const s=this._map.get(i);if(typeof s>"u")return this._log("\\ No keybinding entries."),null;r=s}let o=this._findCommand(e,r);return o?t===null&&o.keypressParts.length>1&&o.keypressParts[1]!==null?(this._log(`\\ From ${r.length} keybinding entries, matched chord, when: ${p6(o.when)}, source: ${m6(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${r.length} keybinding entries, matched ${o.command}, when: ${p6(o.when)}, source: ${m6(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let r=t[i];if(tv.contextMatchesRules(e,r.when))return r}return null}static contextMatchesRules(e,t){return t?t.evaluate(e):!0}}function p6(n){return n?`${n.serialize()}`:"no when condition"}function m6(n){return n.extensionId?n.isBuiltinExtension?`built-in extension ${n.extensionId}`:`user extension ${n.extensionId}`:n.isDefault?"built-in":"user"}class iT{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Ba===1){if(e&&e.win)return e.win}else if(Ba===2){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=iT.bindToCurrentPlatform(e);if(t&&t.primary){const i=eO(t.primary,Ba);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,r=t.secondary.length;i<r;i++){const o=t.secondary[i],s=eO(o,Ba);s&&this._registerDefaultKeybinding(s,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),Mr.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||e>=31&&e<=56?!0:e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&iT._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,r,o,s){Ba===1&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:r,weight2:o,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(X1e)),this._cachedMergedKeybindings.slice(0)}}const Cy=new iT,Y1e={EditorModes:"platform.keybindingsRegistry"};ir.add(Y1e.EditorModes,Cy);function X1e(n,e){return n.weight1!==e.weight1?n.weight1-e.weight1:n.command<e.command?-1:n.command>e.command?1:n.weight2-e.weight2}class v6{constructor(e,t,i,r,o,s,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?y6(e.getDispatchParts()):[],e&&this.keypressParts.length===0&&(this.keypressParts=y6(e.getSingleModifierDispatchParts())),this.bubble=t?t.charCodeAt(0)===94:!1,this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=r,this.isDefault=o,this.extensionId=s,this.isBuiltinExtension=a}}function y6(n){let e=[];for(let t=0,i=n.length;t<i;t++){const r=n[t];if(!r)return e;e.push(r)}return e}class Yne{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(t.length===0)return null;const r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=i(a);if(l===null)return null;r[o]=Q1e(a,l,this.modifierLabels[e])}return r.join(" ")}}const Xne=new Yne({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:E({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:E({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Z1e=new Yne({ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:E({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:E({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:E({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:E({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function Q1e(n,e,t){if(e===null)return"";const i=[];return n.ctrlKey&&i.push(t.ctrlKey),n.shiftKey&&i.push(t.shiftKey),n.altKey&&i.push(t.altKey),n.metaKey&&i.push(t.metaKey),e!==""&&i.push(e),i.join(t.separator)}class J1e extends A_e{constructor(e,t){if(super(),t.length===0)throw JS("parts");this._os=e,this._parts=t}getLabel(){return Xne.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return Z1e.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new M_e(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}getSingleModifierDispatchParts(){return this._parts.map(e=>this._getSingleModifierDispatchPart(e))}}class rT extends J1e{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(this._os===2)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return Xm.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":Xm.toString(e.keyCode)}_getDispatchPart(e){return rT.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=Xm.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return e.keyCode===5&&!e.shiftKey&&!e.altKey&&!e.metaKey?"ctrl":e.keyCode===4&&!e.ctrlKey&&!e.altKey&&!e.metaKey?"shift":e.keyCode===6&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey?"alt":e.keyCode===57&&!e.ctrlKey&&!e.shiftKey&&!e.altKey?"meta":null}}const pa=an("notificationService");class eCe{}const tCe=an("contextService");class nCe{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}var _6;(function(n){n.noSelection=E("noSelection","No selection"),n.singleSelectionRange=E("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),n.singleSelection=E("singleSelection","Line {0}, Column {1}"),n.multiSelectionRange=E("multiSelectionRange","{0} selections ({1} characters selected)"),n.multiSelection=E("multiSelection","{0} selections"),n.emergencyConfOn=E("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),n.openingDocs=E("openingDocs","Now opening the Editor Accessibility documentation page."),n.readonlyDiffEditor=E("readonlyDiffEditor"," in a read-only pane of a diff editor."),n.editableDiffEditor=E("editableDiffEditor"," in a pane of a diff editor."),n.readonlyEditor=E("readonlyEditor"," in a read-only code editor"),n.editableEditor=E("editableEditor"," in a code editor"),n.changeConfigToOnMac=E("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),n.changeConfigToOnWinLinux=E("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),n.auto_on=E("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),n.auto_off=E("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),n.tabFocusModeOnMsg=E("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),n.tabFocusModeOnMsgNoKb=E("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),n.tabFocusModeOffMsg=E("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),n.tabFocusModeOffMsgNoKb=E("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),n.openDocMac=E("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),n.openDocWinLinux=E("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),n.outroMsg=E("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),n.showAccessibilityHelpAction=E("showAccessibilityHelpAction","Show Accessibility Help")})(_6||(_6={}));var b6;(function(n){n.inspectTokensAction=E("inspectTokens","Developer: Inspect Tokens")})(b6||(b6={}));var S6;(function(n){n.gotoLineActionLabel=E("gotoLineActionLabel","Go to Line/Column...")})(S6||(S6={}));var w6;(function(n){n.helpQuickAccessActionLabel=E("helpQuickAccess","Show all Quick Access Providers")})(w6||(w6={}));var C6;(function(n){n.quickCommandActionLabel=E("quickCommandActionLabel","Command Palette"),n.quickCommandHelp=E("quickCommandActionHelp","Show And Run Commands")})(C6||(C6={}));var x6;(function(n){n.quickOutlineActionLabel=E("quickOutlineActionLabel","Go to Symbol..."),n.quickOutlineByCategoryActionLabel=E("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(x6||(x6={}));var oT;(function(n){n.editorViewAccessibleLabel=E("editorViewAccessibleLabel","Editor content"),n.accessibilityHelpMessage=E("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(oT||(oT={}));var L6;(function(n){n.toggleHighContrast=E("toggleHighContrast","Toggle High Contrast Theme")})(L6||(L6={}));var SR;(function(n){n.bulkEditServiceSummary=E("bulkEditServiceSummary","Made {0} edits in {1} files")})(SR||(SR={}));var Zne=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Qne=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},Jne=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class iCe{constructor(e){this.disposed=!1,this.model=e,this._onWillDispose=new ae}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}function rCe(n,e,t){return m1e(n)?e(n):t(n)}let wR=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;return this.editor&&(t=rCe(this.editor,i=>this.findModel(i,e),i=>this.findModel(i.getOriginalEditor(),e)||this.findModel(i.getModifiedEditor(),e))),t?Promise.resolve(new T_e(new iCe(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};wR=Zne([Qne(0,Jo)],wR);class FD{show(){return FD.NULL_PROGRESS_RUNNER}showWhile(e,t){return Jne(this,void 0,void 0,function*(){yield e})}}FD.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class oCe{confirm(e){return this.doConfirm(e).then(t=>({confirmed:t,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+`

`+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,r){return Promise.resolve({choice:0})}}class $D{info(e){return this.notify({severity:_i.Info,message:e})}warn(e){return this.notify({severity:_i.Warning,message:e})}error(e){return this.notify({severity:_i.Error,message:e})}notify(e){switch(e.severity){case _i.Error:console.error(e.message);break;case _i.Warning:console.warn(e.message);break;default:console.log(e.message);break}return $D.NO_OP}status(e,t){return Pe.None}}$D.NO_OP=new eCe;class sCe{constructor(e){this._onWillExecuteCommand=new ae,this._onDidExecuteCommand=new ae,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=e}executeCommand(e,...t){const i=Mr.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const r=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(r)}catch(r){return Promise.reject(r)}}}class eie extends q1e{constructor(e,t,i,r,o,s){super(e,t,i,r,o),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(De(s,it.KEY_DOWN,a=>{const l=new ni(a);this._dispatch(l,l.target)&&(l.preventDefault(),l.stopPropagation())})),this._register(De(window,it.KEY_UP,a=>{const l=new ni(a);this._singleModifierDispatch(l,l.target)&&l.preventDefault()}))}addDynamicKeybinding(e,t,i,r){const o=eO(t,Ba),s=new St;return o&&(this._dynamicKeybindings.push({keybinding:o,command:e,when:r,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}),s.add(Tn(()=>{for(let a=0;a<this._dynamicKeybindings.length;a++)if(this._dynamicKeybindings[a].command===e){this._dynamicKeybindings.splice(a,1),this.updateResolver({source:1});return}}))),s.add(Mr.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Cy.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new tv(e,t,i=>this._log(i))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],r=0;for(const o of e){const s=o.when||void 0,a=o.keybinding;if(!a)i[r++]=new v6(void 0,o.command,o.commandArgs,s,t,null,!1);else{const l=this.resolveKeybinding(a);for(const u of l)i[r++]=new v6(u,o.command,o.commandArgs,s,t,null,!1)}}return i}resolveKeybinding(e){return[new rT(e,Ba)]}resolveKeyboardEvent(e){let t=new jF(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new rT(t,Ba)}}function T6(n){return n&&typeof n=="object"&&(!n.overrideIdentifier||typeof n.overrideIdentifier=="string")&&(!n.resource||n.resource instanceof Nt)}class tie{constructor(){this._onDidChangeConfiguration=new ae,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new jne(new K1e,new as)}getValue(e,t){const i=typeof e=="string"?e:void 0,r=T6(e)?e:T6(t)?t:{};return this._configuration.getValue(i,r,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const r of e){const[o,s]=r;this.getValue(o)!==s&&(this._configuration.updateValue(o,s),i.push(o))}if(i.length>0){const r=new j1e({keys:i,overrides:[]},t,this._configuration);r.source=7,r.sourceConfig=null,this._onDidChangeConfiguration.fire(r)}return Promise.resolve()}}class aCe{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new ae,this.configurationService.onDidChangeConfiguration(t=>{this._onDidChangeConfiguration.fire({affectedKeys:t.affectedKeys,affectsConfiguration:(i,r)=>t.affectsConfiguration(r)})})}getValue(e,t,i){const o=(ve.isIPosition(t)?t:null)?typeof i=="string"?i:void 0:typeof t=="string"?t:void 0;return typeof o>"u"?this.configurationService.getValue():this.configurationService.getValue(o)}}let CR=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&typeof i=="string"&&i!=="auto"?i:Ho||Qt?`
`:`\r
`}};CR=Zne([Qne(0,br)],CR);class lCe{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}class VD{constructor(){const e=Nt.from({scheme:VD.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new nCe({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}}VD.SCHEME="inmemory";function sT(n,e,t){if(!e||!(n instanceof tie))return;let i=[];Object.keys(e).forEach(r=>{$1e(r)&&i.push([`editor.${r}`,e[r]]),t&&V1e(r)&&i.push([`diffEditor.${r}`,e[r]])}),i.length>0&&n.updateValues(i)}class uCe{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return Jne(this,void 0,void 0,function*(){const i=new Map;for(let s of e){if(!(s instanceof Wne))throw new Error("bad edit - only text edits are supported");const a=this._modelService.getModel(s.resource);if(!a)throw new Error("bad edit - model not found");if(typeof s.versionId=="number"&&a.getVersionId()!==s.versionId)throw new Error("bad state - model changed in the meantime");let l=i.get(a);l||(l=[],i.set(a,l)),l.push(W1e.replaceMove(ee.lift(s.textEdit.range),s.textEdit.text))}let r=0,o=0;for(const[s,a]of i)s.pushStackElement(),s.pushEditOperations([],a,()=>[]),s.pushStackElement(),o+=1,r+=a.length;return{ariaSummary:Bl(SR.bulkEditServiceSummary,r,o)}})}}class cCe{getUriLabel(e,t){return e.scheme==="file"?e.fsPath:e.path}}class dCe{constructor(e,t){this._codeEditorService=e,this._container=t,this.onDidLayout=Ze.None}get dimension(){return this._dimension||(this._dimension=Kte(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;(e=this._codeEditorService.getFocusedCodeEditor())===null||e===void 0||e.focus()}}const I6=2e4;let Ef,Cx,xR,xx,LR;function hCe(n){Ef=document.createElement("div"),Ef.className="monaco-aria-container";const e=()=>{const i=document.createElement("div");return i.className="monaco-alert",i.setAttribute("role","alert"),i.setAttribute("aria-atomic","true"),Ef.appendChild(i),i};Cx=e(),xR=e();const t=()=>{const i=document.createElement("div");return i.className="monaco-status",i.setAttribute("role","complementary"),i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","true"),Ef.appendChild(i),i};xx=t(),LR=t(),n.appendChild(Ef)}function WD(n){Ef&&(Cx.textContent!==n?(Ss(xR),aT(Cx,n)):(Ss(Cx),aT(xR,n)))}function TR(n){Ef&&(Qt?WD(n):xx.textContent!==n?(Ss(LR),aT(xx,n)):(Ss(xx),aT(LR,n)))}function aT(n,e){Ss(n),e.length>I6&&(e=e.substr(0,I6)),n.textContent=e,n.style.visibility="hidden",n.style.visibility="visible"}const nie=an("markerDecorationsService");var lT=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Ql extends Pe{constructor(e,t="",i="",r=!0,o){super(),this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=e,this._label=t,this._cssClass=i,this._enabled=r,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return lT(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(e))})}}class C$ extends Pe{constructor(){super(...arguments),this._onBeforeRun=this._register(new ae),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new ae),this.onDidRun=this._onDidRun.event}run(e,t){return lT(this,void 0,void 0,function*(){if(!e.enabled)return;this._onBeforeRun.fire({action:e});let i;try{yield this.runAction(e,t)}catch(r){i=r}this._onDidRun.fire({action:e,error:i})})}runAction(e,t){return lT(this,void 0,void 0,function*(){yield e.run(t)})}}class up extends Ql{constructor(e){super(up.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}up.ID="vs.actions.separator";class iie{constructor(e,t,i,r){this.tooltip="",this.enabled=!0,this.checked=!1,this.id=e,this.label=t,this.class=r,this._actions=i}get actions(){return this._actions}dispose(){}run(){return lT(this,void 0,void 0,function*(){})}}class zD extends Ql{constructor(){super(zD.ID,E("submenu.empty","(empty)"),void 0,!1)}}zD.ID="vs.actions.empty";let HD=B0e||"";const To=new Map;To.set("false",!1);To.set("true",!0);To.set("isMac",Qt);To.set("isLinux",Ho);To.set("isWindows",zo);To.set("isWeb",wD);To.set("isMacNative",Qt&&!wD);To.set("isEdge",HD.indexOf("Edg/")>=0);To.set("isFirefox",HD.indexOf("Firefox")>=0);To.set("isChrome",HD.indexOf("Chrome")>=0);To.set("isSafari",HD.indexOf("Safari")>=0);const fCe=Object.prototype.hasOwnProperty;class dn{static has(e){return lh.create(e)}static equals(e,t){return Fb.create(e,t)}static regex(e,t){return uT.create(e,t)}static not(e){return kg.create(e)}static and(...e){return nv.create(e)}static or(...e){return Pg.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return Pg.create(i.map(r=>this._deserializeAndExpression(r,t)))}static _deserializeAndExpression(e,t){let i=e.split("&&");return nv.create(i.map(r=>this._deserializeOne(r,t)))}static _deserializeOne(e,t){if(e=e.trim(),e.indexOf("!=")>=0){let i=e.split("!=");return UD.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return Fb.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return uT.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let i=e.split(" in ");return x$.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const i=e.split(">=");return KD.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const i=e.split(">");return GD.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const i=e.split("<=");return qD.create(i[0].trim(),i[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const i=e.split("<");return jD.create(i[0].trim(),i[1].trim())}return/^\!\s*/.test(e)?kg.create(e.substr(1).trim()):lh.create(e)}static _deserializeValue(e,t){if(e=e.trim(),e==="true")return!0;if(e==="false")return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Abe(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),r=e.lastIndexOf("/");if(i===r||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let o=e.slice(i+1,r),s=e[r+1]==="i"?"i":"";try{return new RegExp(o,s)}catch(a){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${a}`);return console.warn(`bad regexp-value '${e}', parse error: ${a}`),null}}}function B_(n,e){return n.cmp(e)}class xc{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Lc.INSTANCE}}xc.INSTANCE=new xc;class Lc{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return xc.INSTANCE}}Lc.INSTANCE=new Lc;class lh{constructor(e){this.key=e,this.type=2}static create(e){const t=To.get(e);return typeof t=="boolean"?t?Lc.INSTANCE:xc.INSTANCE:new lh(e)}cmp(e){return e.type!==this.type?this.type-e.type:rie(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return kg.create(this.key)}}class Fb{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if(typeof t=="boolean")return t?lh.create(e):kg.create(e);const i=To.get(e);return typeof i=="boolean"?t===(i?"true":"false")?Lc.INSTANCE:xc.INSTANCE:new Fb(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return UD.create(this.key,this.value)}}class x${constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new x$(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:typeof i=="string"&&typeof t=="object"&&t!==null?fCe.call(t,i):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return L$.create(this)}}class L${constructor(e){this._actual=e,this.type=11}static create(e){return new L$(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class UD{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if(typeof t=="boolean")return t?kg.create(e):lh.create(e);const i=To.get(e);return typeof i=="boolean"?t===(i?"true":"false")?xc.INSTANCE:Lc.INSTANCE:new UD(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return Fb.create(this.key,this.value)}}class kg{constructor(e){this.key=e,this.type=3}static create(e){const t=To.get(e);return typeof t=="boolean"?t?xc.INSTANCE:Lc.INSTANCE:new kg(e)}cmp(e){return e.type!==this.type?this.type-e.type:rie(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return lh.create(this.key)}}class GD{constructor(e,t){this.key=e,this.value=t,this.type=12}static create(e,t){return new GD(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return parseFloat(e.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return qD.create(this.key,this.value)}}class KD{constructor(e,t){this.key=e,this.value=t,this.type=13}static create(e,t){return new KD(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return parseFloat(e.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return jD.create(this.key,this.value)}}class jD{constructor(e,t){this.key=e,this.value=t,this.type=14}static create(e,t){return new jD(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return parseFloat(e.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return KD.create(this.key,this.value)}}class qD{constructor(e,t){this.key=e,this.value=t,this.type=15}static create(e,t){return new qD(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:cp(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}evaluate(e){return parseFloat(e.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return GD.create(this.key,this.value)}}class uT{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new uT(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}evaluate(e){let t=e.getValue(this.key);return this.regexp?this.regexp.test(t):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return T$.create(this)}}class T${constructor(e){this._actual=e,this.type=8}static create(e){return new T$(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class nv{constructor(e){this.expr=e,this.type=6}static create(e){return nv._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=B_(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let i=!1;for(const r of e)if(r){if(r.type===1){i=!0;continue}if(r.type===0)return xc.INSTANCE;if(r.type===6){t.push(...r.expr);continue}t.push(r)}if(t.length===0&&i)return Lc.INSTANCE;if(t.length!==0){if(t.length===1)return t[0];for(t.sort(B_);t.length>1;){const r=t[t.length-1];if(r.type!==9)break;t.pop();const o=t.pop(),s=Pg.create(r.expr.map(a=>nv.create([a,o])));s&&(t.push(s),t.sort(B_))}return t.length===1?t[0]:new nv(t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return Pg.create(e)}}class Pg{constructor(e){this.expr=e,this.type=9}static create(e){const t=Pg._normalizeArr(e);if(t.length!==0)return t.length===1?t[0]:new Pg(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const r=B_(this.expr[t],e.expr[t]);if(r!==0)return r}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],i=!1;if(e){for(let r=0,o=e.length;r<o;r++){const s=e[r];if(s){if(s.type===0){i=!0;continue}if(s.type===1)return[Lc.INSTANCE];if(s.type===9){t=t.concat(s.expr);continue}t.push(s)}}if(t.length===0&&i)return[xc.INSTANCE];t.sort(B_)}return t}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let i of this.expr)e.push(i.negate());const t=i=>i.type===9?i.expr:[i];for(;e.length>1;){const i=e.shift(),r=e.shift(),o=[];for(const s of t(i))for(const a of t(r))o.push(dn.and(s,a));e.unshift(dn.or(...o))}return e[0]}}class ht extends lh{constructor(e,t,i){super(e),this._defaultValue=t,typeof i=="object"?ht._info.push(Object.assign(Object.assign({},i),{key:e})):i!==!0&&ht._info.push({key:e,description:i,type:t!=null?typeof t:void 0})}static all(){return ht._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return dn.not(this.key)}isEqualTo(e){return dn.equals(this.key,e)}}ht._info=[];const pn=an("contextKeyService"),gCe="setContext";function rie(n,e){return n<e?-1:n>e?1:0}function cp(n,e,t,i){return n<t?-1:n>t?1:e<i?-1:e>i?1:0}var Jl;(function(n){n.DARK="dark",n.LIGHT="light",n.HIGH_CONTRAST="hc"})(Jl||(Jl={}));const zi=an("themeService");var IR;(function(n){function e(t){return t&&typeof t=="object"&&typeof t.id=="string"}n.isThemeColor=e})(IR||(IR={}));function Va(n){return{id:n}}var Pr;(function(n){function e(a){return a&&typeof a=="object"&&typeof a.id=="string"&&(typeof a.color>"u"||IR.isThemeColor(a.color))}n.isThemeIcon=e;const t=new RegExp(`^\\$\\((${bo.iconNameExpression}(?:${bo.iconModifierExpression})?)\\)$`);function i(a){const l=t.exec(a);if(!l)return;let[,u]=l;return{id:u}}n.fromString=i;function r(a,l){let u=a.id;const c=u.lastIndexOf("~");return c!==-1&&(u=u.substring(0,c)),l&&(u=`${u}~${l}`),{id:u}}n.modify=r;function o(a,l){var u,c;return a.id===l.id&&((u=a.color)===null||u===void 0?void 0:u.id)===((c=l.color)===null||c===void 0?void 0:c.id)}n.isEqual=o;function s(a,l){return{id:a.id,color:l?Va(l):void 0}}n.asThemeIcon=s,n.asClassNameArray=bo.asClassNameArray,n.asClassName=bo.asClassName,n.asCSSSelector=bo.asCSSSelector})(Pr||(Pr={}));function cT(n){switch(n){case Jl.DARK:return"vs-dark";case Jl.HIGH_CONTRAST:return"hc-black";default:return"vs"}}const oie={ThemingContribution:"base.contributions.theming"};class pCe{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ae}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Tn(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}}let sie=new pCe;ir.add(oie.ThemingContribution,sie);function es(n){return sie.onColorThemeChange(n)}class mCe extends Pe{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(t=>this.onThemeChange(t)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}var vCe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},D6=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function n_(n){return n.command!==void 0}class gn{constructor(e){this.id=gn._idPool++,this._debugName=e}}gn._idPool=0;gn.CommandPalette=new gn("CommandPalette");gn.EditorContext=new gn("EditorContext");gn.SimpleEditorContext=new gn("SimpleEditorContext");gn.EditorContextCopy=new gn("EditorContextCopy");gn.EditorContextPeek=new gn("EditorContextPeek");gn.MenubarEditMenu=new gn("MenubarEditMenu");gn.MenubarCopy=new gn("MenubarCopy");gn.MenubarGoMenu=new gn("MenubarGoMenu");gn.MenubarSelectionMenu=new gn("MenubarSelectionMenu");gn.InlineCompletionsActions=new gn("InlineCompletionsActions");const aie=an("menuService"),F_=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new ae,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:n=>n===gn.CommandPalette}}addCommand(n){return this.addCommands(At.single(n))}addCommands(n){for(const e of n)this._commands.set(e.id,e);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),Tn(()=>{let e=!1;for(const t of n)e=this._commands.delete(t.id)||e;e&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(n){return this._commands.get(n)}getCommands(){const n=new Map;return this._commands.forEach((e,t)=>n.set(t,e)),n}appendMenuItem(n,e){return this.appendMenuItems(At.single({id:n,item:e}))}appendMenuItems(n){const e=new Set,t=new ta;for(const{id:i,item:r}of n){let o=this._menuItems.get(i);o||(o=new ta,this._menuItems.set(i,o)),t.push(o.push(r)),e.add(i)}return this._onDidChangeMenu.fire(e),Tn(()=>{if(t.size>0){for(let i of t)i();this._onDidChangeMenu.fire(e),t.clear()}})}getMenuItems(n){let e;return this._menuItems.has(n)?e=[...this._menuItems.get(n)]:e=[],n===gn.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(n){const e=new Set;for(const t of n)n_(t)&&(e.add(t.command.id),t.alt&&e.add(t.alt.id));this._commands.forEach((t,i)=>{e.has(i)||n.push({command:t})})}};class yCe extends iie{constructor(e,t,i,r){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=r}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,r]of i)r.length>0&&(e.push(...r),e.push(new up));return e.length&&e.pop(),e}}let DR=class lie{constructor(e,t,i,r,o){var s;if(this._commandService=o,this.id=e.id,this.label=i!=null&&i.renderShortTitle&&e.shortTitle?typeof e.shortTitle=="string"?e.shortTitle:e.shortTitle.value:typeof e.title=="string"?e.title:e.title.value,this.tooltip=(s=e.tooltip)!==null&&s!==void 0?s:"",this.enabled=!e.precondition||r.contextMatchesRules(e.precondition),this.checked=!1,e.toggled){const a=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=r.contextMatchesRules(a.condition),this.checked&&a.tooltip&&(this.tooltip=typeof a.tooltip=="string"?a.tooltip:a.tooltip.value),a.title&&(this.label=typeof a.title=="string"?a.title:a.title.value)}this.item=e,this.alt=t?new lie(t,void 0,i,r,o):void 0,this._options=i,Pr.isThemeIcon(e.icon)&&(this.class=bo.asClassName(e.icon))}dispose(){}run(...e){var t,i;let r=[];return!((t=this._options)===null||t===void 0)&&t.arg&&(r=[...r,this._options.arg]),!((i=this._options)===null||i===void 0)&&i.shouldForwardArgs&&(r=[...r,...e]),this._commandService.executeCommand(this.id,...r)}};DR=vCe([D6(3,pn),D6(4,Qo)],DR);const YD=an("telemetryService");class XD{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const e=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const t of e){let i=t.kbExpr;this.precondition&&(i?i=dn.and(i,this.precondition):i=this.precondition);const r={id:this.id,weight:t.weight,args:t.args,when:i,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac};Cy.registerKeybindingRule(r)}}Mr.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){F_.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon,precondition:this.precondition},when:e.when,order:e.order})}}class I$ extends XD{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t,i){return this._implementations.push({priority:e,name:t,implementation:i}),this._implementations.sort((r,o)=>o.priority-r.priority),{dispose:()=>{for(let r=0;r<this._implementations.length;r++)if(this._implementations[r].implementation===i){this._implementations.splice(r,1);return}}}}runCommand(e,t){const i=e.get(aw);for(const r of this._implementations){const o=r.implementation(e,t);if(o)return i.trace(`Command '${this.id}' was handled by '${r.name}'.`),typeof o=="boolean"?void 0:o}}}class uie extends XD{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class dp extends XD{static bindToContribution(e){return class extends dp{constructor(i){super(i),this._callback=i.handler}runEditorCommand(i,r,o){e(r)&&this._callback(e(r),o)}}}runCommand(e,t){const i=e.get(mr),r=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(r)return r.invokeWithinContext(o=>{if(o.get(pn).contextMatchesRules(Mm(this.precondition)))return this.runEditorCommand(o,r,t)})}}class Th extends dp{constructor(e){super(Th.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;Array.isArray(e.menuOpts)?t=e.menuOpts:e.menuOpts?t=[e.menuOpts]:t=[];function i(r){return r.menuId||(r.menuId=gn.EditorContext),r.title||(r.title=e.label),r.when=dn.and(e.precondition,r.when),r}return Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(YD).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class cie extends Th{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((i,r)=>r[0]-i[0]),{dispose:()=>{for(let i=0;i<this._implementations.length;i++)if(this._implementations[i][1]===t){this._implementations.splice(i,1);return}}}}run(e,t,i){for(const r of this._implementations){const o=r[1](e,t,i);if(o)return typeof o=="boolean"?void 0:o}}}function Xe(n){return Xs.INSTANCE.registerEditorCommand(n),n}function hp(n){const e=new n;return Xs.INSTANCE.registerEditorAction(e),e}function die(n){return Xs.INSTANCE.registerEditorAction(n),n}function D$(n,e){Xs.INSTANCE.registerEditorContribution(n,e)}var iv;(function(n){function e(s){return Xs.INSTANCE.getEditorCommand(s)}n.getEditorCommand=e;function t(){return Xs.INSTANCE.getEditorActions()}n.getEditorActions=t;function i(){return Xs.INSTANCE.getEditorContributions()}n.getEditorContributions=i;function r(s){return Xs.INSTANCE.getEditorContributions().filter(a=>s.indexOf(a.id)>=0)}n.getSomeEditorContributions=r;function o(){return Xs.INSTANCE.getDiffEditorContributions()}n.getDiffEditorContributions=o})(iv||(iv={}));const _Ce={EditorCommonContributions:"editor.contributions"};class Xs{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}Xs.INSTANCE=new Xs;ir.add(_Ce.EditorCommonContributions,Xs.INSTANCE);function lw(n){return n.register(),n}const hie=lw(new I$({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:gn.MenubarEditMenu,group:"1_do",title:E({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:gn.CommandPalette,group:"",title:E("undo","Undo"),order:1}]}));lw(new uie(hie,{id:"default:undo",precondition:void 0}));const fie=lw(new I$({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:gn.MenubarEditMenu,group:"1_do",title:E({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:gn.CommandPalette,group:"",title:E("redo","Redo"),order:1}]}));lw(new uie(fie,{id:"default:redo",precondition:void 0}));const bCe=lw(new I$({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:gn.MenubarSelectionMenu,group:"1_basic",title:E({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:gn.CommandPalette,group:"",title:E("selectAll","Select All"),order:1}]}));var SCe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},wCe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let $b=class{constructor(e,t){}dispose(){}};$b.ID="editor.contrib.markerDecorations";$b=SCe([wCe(1,nie)],$b);D$($b.ID,$b);class CCe{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class E${constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);const r=document.createElement("div");r.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),r.style.fontWeight=this._bareFontInfo.fontWeight,r.style.fontSize=this._bareFontInfo.fontSize+"px",r.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,r.style.lineHeight=this._bareFontInfo.lineHeight+"px",r.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",r.style.fontStyle="italic",e.appendChild(r);const o=[];for(const s of this._requests){let a;s.type===0&&(a=t),s.type===2&&(a=i),s.type===1&&(a=r),a.appendChild(document.createElement("br"));const l=document.createElement("span");E$._render(l,s),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,t){if(t.chr===" "){let i="";for(let r=0;r<8;r++)i+=i;e.innerText=i}else{let i=t.chr;for(let r=0;r<8;r++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const i=this._requests[e],r=this._testElements[e];i.fulfill(r.offsetWidth/256)}}}function xCe(n,e){new E$(n,e).read()}class gie extends Pe{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){typeof ResizeObserver<"u"?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):this.measureReferenceDomElementToken===-1&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.measureReferenceDomElementToken!==-1&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,r=0;t?(i=t.width,r=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,r=this.referenceDomElement.clientHeight),i=Math.max(5,i),r=Math.max(5,r),(this.width!==i||this.height!==r)&&(this.width=i,this.height=r,e&&this.changeCallback())}}class E6{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}function LCe(){Og.INSTANCE.clearCache()}class Og extends Pe{constructor(){super(),this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._cache=new E6,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new E6,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(const i of e)i.isTrusted||(t=!0,this._cache.remove(i));t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=Og._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new QO({zoomLevel:VO(),pixelRatio:VL(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,r){const o=new CCe(e,t);return i.push(o),r&&r.push(o),o}static _actualReadConfiguration(e){const t=[],i=[],r=this.createRequest("n",0,t,i),o=this.createRequest("",0,t,null),s=this.createRequest(" ",0,t,i),a=this.createRequest("0",0,t,i),l=this.createRequest("1",0,t,i),u=this.createRequest("2",0,t,i),c=this.createRequest("3",0,t,i),d=this.createRequest("4",0,t,i),h=this.createRequest("5",0,t,i),f=this.createRequest("6",0,t,i),g=this.createRequest("7",0,t,i),p=this.createRequest("8",0,t,i),m=this.createRequest("9",0,t,i),v=this.createRequest("",0,t,i),y=this.createRequest("",0,t,null),_=this.createRequest("",0,t,i),b=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),xCe(e,t);const S=Math.max(a.width,l.width,u.width,c.width,d.width,h.width,f.width,g.width,p.width,m.width);let w=e.fontFeatureSettings===us.OFF;const C=i[0].width;for(let T=1,I=i.length;w&&T<I;T++){const D=C-i[T].width;if(D<-.001||D>.001){w=!1;break}}let x=!0;w&&y.width!==C&&(x=!1),y.width>v.width&&(x=!1);const L=X_e()>2e3;return new QO({zoomLevel:VO(),pixelRatio:VL(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:w,typicalHalfwidthCharacterWidth:r.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:x,spaceWidth:s.width,middotWidth:_.width,wsmiddotWidth:b.width,maxDigitWidth:S},L)}}Og.INSTANCE=new Og;class no extends tT{constructor(e,t,i=null,r){super(e,t),this.accessibilityService=r,this._elementSizeObserver=this._register(new gie(i,t.dimension,()=>this._recomputeOptions())),this._register(Og.INSTANCE.onDidChange(()=>this._recomputeOptions())),this._validatedOptions.get(10)&&this._elementSizeObserver.startObserving(),this._register(Z_e(o=>this._recomputeOptions())),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}observeReferenceElement(e){this._elementSizeObserver.observe(e)}updatePixelRatio(){this._recomputeOptions()}static _getExtraEditorClassName(){let e="";return!Mg&&!J_e&&(e+="no-user-select "),Mg&&(e+="no-minimap-shadow "),Qt&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:no._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:ag||eo,pixelRatio:VL(),zoomLevel:VO(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return Og.INSTANCE.readConfiguration(e)}}class pie{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){this._top!==-1&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){this.domNode.classList.toggle(e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Ot(n){return new pie(n)}function yi(n,e,t){let i=null,r=null;if(typeof t.value=="function"?(i="value",r=t.value,r.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof t.get=="function"&&(i="get",r=t.get),!r)throw new Error("not supported");const o=`$memoize$${e}`;t[i]=function(...s){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:r.apply(this,s)}),this[o]}}var TCe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Vn;(function(n){n.Tap="-monaco-gesturetap",n.Change="-monaco-gesturechange",n.Start="-monaco-gesturestart",n.End="-monaco-gesturesend",n.Contextmenu="-monaco-gesturecontextmenu"})(Vn||(Vn={}));class bn extends Pe{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(De(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(De(document,"touchend",e=>this.onTouchEnd(e))),this._register(De(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return bn.isTouchDevice()?(bn.INSTANCE||(bn.INSTANCE=new bn),bn.INSTANCE.targets.push(e),{dispose:()=>{bn.INSTANCE.targets=bn.INSTANCE.targets.filter(t=>t!==e)}}):Pe.None}static ignoreTarget(e){return bn.isTouchDevice()?(bn.INSTANCE||(bn.INSTANCE=new bn),bn.INSTANCE.ignoreTargets.push(e),{dispose:()=>{bn.INSTANCE.ignoreTargets=bn.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):Pe.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,r=e.targetTouches.length;i<r;i++){let o=e.targetTouches.item(i);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};let s=this.newGestureEvent(Vn.Start,o.target);s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let r=0,o=e.changedTouches.length;r<o;r++){let s=e.changedTouches.item(r);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}let a=this.activeTouches[s.identifier],l=Date.now()-a.initialTimeStamp;if(l<bn.HOLD_DELAY&&Math.abs(a.initialPageX-ns(a.rollingPageX))<30&&Math.abs(a.initialPageY-ns(a.rollingPageY))<30){let u=this.newGestureEvent(Vn.Tap,a.initialTarget);u.pageX=ns(a.rollingPageX),u.pageY=ns(a.rollingPageY),this.dispatchEvent(u)}else if(l>=bn.HOLD_DELAY&&Math.abs(a.initialPageX-ns(a.rollingPageX))<30&&Math.abs(a.initialPageY-ns(a.rollingPageY))<30){let u=this.newGestureEvent(Vn.Contextmenu,a.initialTarget);u.pageX=ns(a.rollingPageX),u.pageY=ns(a.rollingPageY),this.dispatchEvent(u)}else if(i===1){let u=ns(a.rollingPageX),c=ns(a.rollingPageY),d=ns(a.rollingTimestamps)-a.rollingTimestamps[0],h=u-a.rollingPageX[0],f=c-a.rollingPageY[0];const g=this.targets.filter(p=>a.initialTarget instanceof Node&&p.contains(a.initialTarget));this.inertia(g,t,Math.abs(h)/d,h>0?1:-1,u,Math.abs(f)/d,f>0?1:-1,c)}this.dispatchEvent(this.newGestureEvent(Vn.End,a.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Vn.Tap){const t=new Date().getTime();let i=0;t-this._lastSetTapCountTime>bn.CLEAR_TAP_COUNT_TIME?i=1:i=2,this._lastSetTapCountTime=t,e.tapCount=i}else(e.type===Vn.Change||e.type===Vn.Contextmenu)&&(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,r,o,s,a,l){this.handle=iu(()=>{let u=Date.now(),c=u-t,d=0,h=0,f=!0;i+=bn.SCROLL_FRICTION*c,s+=bn.SCROLL_FRICTION*c,i>0&&(f=!1,d=r*i*c),s>0&&(f=!1,h=a*s*c);let g=this.newGestureEvent(Vn.Change);g.translationX=d,g.translationY=h,e.forEach(p=>p.dispatchEvent(g)),f||this.inertia(e,u,i,r,o+d,s,a,l+h)})}onTouchMove(e){let t=Date.now();for(let i=0,r=e.changedTouches.length;i<r;i++){let o=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}let s=this.activeTouches[o.identifier],a=this.newGestureEvent(Vn.Change,s.initialTarget);a.translationX=o.pageX-ns(s.rollingPageX),a.translationY=o.pageY-ns(s.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),s.rollingPageX.length>3&&(s.rollingPageX.shift(),s.rollingPageY.shift(),s.rollingTimestamps.shift()),s.rollingPageX.push(o.pageX),s.rollingPageY.push(o.pageY),s.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}bn.SCROLL_FRICTION=-.005;bn.HOLD_DELAY=700;bn.CLEAR_TAP_COUNT_TIME=400;TCe([yi],bn,"isTouchDevice",null);function M$(n,e){let t=new na(e);return t.preventDefault(),{leftButton:t.leftButton,buttons:t.buttons,posx:t.posx,posy:t.posy}}class ZD{constructor(){this._hooks=new St,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const i=this._onStopCallback;this._onStopCallback=null,e&&i&&i(t)}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,r,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=r,this._onStopCallback=o;const s=zO.getSameOriginWindowChain(),a=Dv?"pointermove":"mousemove",l="mouseup",u=s.map(d=>d.window.document),c=rw(e);c&&u.unshift(c);for(const d of u)this._hooks.add(ZF(d,a,h=>{if(h.buttons!==t){this.stopMonitoring(!0);return}this._mouseMoveCallback(h)},(h,f)=>this._mouseMoveEventMerger(h,f))),this._hooks.add(De(d,l,h=>this.stopMonitoring(!0)));if(zO.hasDifferentOriginAncestor()){let d=s[s.length-1];this._hooks.add(De(d.window.document,"mouseout",h=>{new na(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(De(d.window.document,"mouseover",h=>{new na(h).target.tagName.toLowerCase()==="html"&&this.stopMonitoring(!0)})),this._hooks.add(De(d.window.document.body,"mouseleave",h=>{this.stopMonitoring(!0)}))}}}class A${constructor(e,t){this.x=e,this.y=t,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new mie(this.x-dc.scrollX,this.y-dc.scrollY)}}class mie{constructor(e,t){this.clientX=e,this.clientY=t,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new A$(this.clientX+dc.scrollX,this.clientY+dc.scrollY)}}class ICe{constructor(e,t,i,r){this.x=e,this.y=t,this.width=i,this.height=r,this._editorPagePositionBrand=void 0}}function vie(n){const e=ia(n);return new ICe(e.left,e.top,e.width,e.height)}class Rg extends na{constructor(e,t){super(e),this._editorMouseEventBrand=void 0,this.pos=new A$(this.posx,this.posy),this.editorPos=vie(t)}}class DCe{constructor(e){this._editorViewDomNode=e}_create(e){return new Rg(e,this._editorViewDomNode)}onContextMenu(e,t){return De(e,"contextmenu",i=>{t(this._create(i))})}onMouseUp(e,t){return De(e,"mouseup",i=>{t(this._create(i))})}onMouseDown(e,t){return De(e,"mousedown",i=>{t(this._create(i))})}onMouseLeave(e,t){return XF(e,i=>{t(this._create(i))})}onMouseMoveThrottled(e,t,i,r){return ZF(e,"mousemove",t,(s,a)=>i(s,this._create(a)),r)}}class ECe{constructor(e){this._editorViewDomNode=e}_create(e){return new Rg(e,this._editorViewDomNode)}onPointerUp(e,t){return De(e,"pointerup",i=>{t(this._create(i))})}onPointerDown(e,t){return De(e,"pointerdown",i=>{t(this._create(i))})}onPointerLeave(e,t){return vbe(e,i=>{t(this._create(i))})}onPointerMoveThrottled(e,t,i,r){return ZF(e,"pointermove",t,(s,a)=>i(s,this._create(a)),r)}}class MCe extends Pe{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new ZD),this._keydownListener=null}startMonitoring(e,t,i,r,o){this._keydownListener=to(document,"keydown",a=>{a.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0,a.browserEvent)},!0);const s=(a,l)=>i(a,new Rg(l,this._editorViewDomNode));this._globalMouseMoveMonitor.startMonitoring(e,t,s,r,a=>{this._keydownListener.dispose(),o(a)})}stopMonitoring(){this._globalMouseMoveMonitor.stopMonitoring(!0)}}class uw extends Pe{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(e){return!1}onCompositionEnd(e){return!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,r=e.length;i<r;i++){let o=e[i];switch(o.type){case 0:this.onCompositionStart(o)&&(t=!0);break;case 1:this.onCompositionEnd(o)&&(t=!0);break;case 2:this.onConfigurationChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)}}class Is extends uw{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class ru{static write(e,t){e instanceof pie,e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return t===null?0:parseInt(t,10)}static collect(e,t){let i=[],r=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[r++]=this.read(e)),e=e.parentElement;const o=new Uint8Array(r);for(let s=0;s<r;s++)o[s]=i[r-s-1];return o}}class ACe{constructor(e,t){this._restrictedRenderingContextBrand=void 0,this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class NCe extends ACe{constructor(e,t,i){super(e,t),this._renderingContextBrand=void 0,this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class kCe{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class jd{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class PCe{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class OCe{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class M6{constructor(e,t){this._floatHorizontalRangeBrand=void 0,this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class IA{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,r,o){const s=this._createRange();try{return s.setStart(e,t),s.setEnd(i,r),s.getClientRects()}catch{return null}finally{this._detachRange(s,o)}}static _mergeAdjacentRanges(e){if(e.length===1)return[new jd(e[0].left,e[0].width)];e.sort(M6.compare);let t=[],i=0,r=e[0].left,o=e[0].width;for(let s=1,a=e.length;s<a;s++){const l=e[s],u=l.left,c=l.width;r+o+.9>=u?o=Math.max(o,u+c-r):(t[i++]=new jd(r,o),r=u,o=c)}return t[i++]=new jd(r,o),t}static _createHorizontalRangesFromClientRects(e,t){if(!e||e.length===0)return null;const i=[];for(let r=0,o=e.length;r<o;r++){const s=e[r];i[r]=new M6(Math.max(0,s.left-t),s.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,r,o,s,a){const u=e.children.length-1;if(0>u)return null;if(t=Math.min(u,Math.max(0,t)),r=Math.min(u,Math.max(0,r)),t===r&&i===o&&i===0&&!e.children[t].firstChild){const f=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(f,s)}t!==r&&r>0&&o===0&&(r--,o=1073741824);let c=e.children[t].firstChild,d=e.children[r].firstChild;if((!c||!d)&&(!c&&i===0&&t>0&&(c=e.children[t-1].firstChild,i=1073741824),!d&&o===0&&r>0&&(d=e.children[r-1].firstChild,o=1073741824)),!c||!d)return null;i=Math.min(c.textContent.length,Math.max(0,i)),o=Math.min(d.textContent.length,Math.max(0,o));const h=this._readClientRects(c,i,d,o,a);return this._createHorizontalRangesFromClientRects(h,s)}}const RCe=function(){return jm?!0:!(Ho||eo||Mg)}();let rv=!0;class A6{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class N6{constructor(e,t){this.themeType=t;const i=e.options,r=i.get(41);this.renderWhitespace=i.get(87),this.renderControlCharacters=i.get(81),this.spaceWidth=r.spaceWidth,this.middotWidth=r.middotWidth,this.wsmiddotWidth=r.wsmiddotWidth,this.useMonospaceOptimizations=r.isMonospace&&!i.get(27),this.canUseHalfwidthRightwardsArrow=r.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(57),this.stopRenderingLineAfter=i.get(104),this.fontLigatures=i.get(42)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class Wl{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(this._renderedViewLine)this._renderedViewLine.domNode=Ot(e);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return this._options.themeType===Jl.HIGH_CONTRAST||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(e,t,i,r){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const o=i.getViewLineRenderingData(e),s=this._options,a=ra.filter(o.inlineDecorations,e,o.minColumn,o.maxColumn);let l=null;if(s.themeType===Jl.HIGH_CONTRAST||this._options.renderWhitespace==="selection"){const h=i.selections;for(const f of h){if(f.endLineNumber<e||f.startLineNumber>e)continue;const g=f.startLineNumber===e?f.startColumn:o.minColumn,p=f.endLineNumber===e?f.endColumn:o.maxColumn;g<p&&(s.themeType===Jl.HIGH_CONTRAST||this._options.renderWhitespace!=="selection"?a.push(new ra(g,p,"inline-selected-text",0)):(l||(l=[]),l.push(new Xwe(g-1,p-1))))}}const u=new Sy(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,o.content,o.continuesWithWrappedLine,o.isBasicASCII,o.containsRTL,o.minColumn-1,o.tokens,a,o.tabSize,o.startVisibleColumn,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==us.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(u))return!1;r.appendASCIIString('<div style="top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;height:"),r.appendASCIIString(String(this._options.lineHeight)),r.appendASCIIString('px;" class="'),r.appendASCIIString(Wl.CLASS_NAME),r.appendASCIIString('">');const c=y$(u,r);r.appendASCIIString("</div>");let d=null;return rv&&RCe&&o.isBasicASCII&&s.useMonospaceOptimizations&&c.containsForeignElements===0&&o.content.length<300&&u.lineTokens.getCount()<100&&(d=new h1(this._renderedViewLine?this._renderedViewLine.domNode:null,u,c.characterMapping)),d||(d=_ie(this._renderedViewLine?this._renderedViewLine.domNode:null,u,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=d,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof h1:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof h1?this._renderedViewLine.monospaceAssumptionsAreValid():rv}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof h1&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i){if(!this._renderedViewLine)return null;e=e|0,t=t|0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));const r=this._renderedViewLine.input.stopRenderingLineAfter|0;let o=!1;r!==-1&&e>r+1&&t>r+1&&(o=!0),r!==-1&&e>r+1&&(e=r+1),r!==-1&&t>r+1&&(t=r+1);const s=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return s&&s.length>0?new OCe(o,s):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}Wl.CLASS_NAME="view-line";class h1{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return rv;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),rv=!1),rv}toSlowRenderedLine(){return _ie(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i){const r=this._getCharPosition(e),o=this._getCharPosition(t);return[new jd(r,o-r)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffset(e);return Math.round(this._charWidth*t)}getColumnOfNodeOffset(e,t,i){const r=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new v$(o,i),r)}}class yie{constructor(e,t,i,r,o){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!r||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let s=0,a=this._characterMapping.length;s<=a;s++)this._pixelOffsetCache[s]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(e,t,i){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const r=this._readPixelOffset(this.domNode,e,i);if(r===-1)return null;const o=this._readPixelOffset(this.domNode,t,i);return o===-1?null:[new jd(r,o-r)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)}_readVisibleRangesForRange(e,t,i,r){if(t===i){const o=this._readPixelOffset(e,t,r);return o===-1?null:[new jd(o,0)]}else return this._readRawVisibleRangesForRange(e,t,i,r)}_readPixelOffset(e,t,i){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const r=this._getReadingTarget(e);return r.firstChild?r.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const r=this._pixelOffsetCache[t];if(r!==-1)return r;const o=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=o,o}return this._actualReadPixelOffset(e,t,i)}_actualReadPixelOffset(e,t,i){if(this._characterMapping.length===0){const a=IA.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return!a||a.length===0?-1:a[0].left}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const r=this._characterMapping.getDomPosition(t),o=IA.readHorizontalRanges(this._getReadingTarget(e),r.partIndex,r.charIndex,r.partIndex,r.charIndex,i.clientRectDeltaLeft,i.endNode);if(!o||o.length===0)return-1;const s=o[0].left;if(this.input.isBasicASCII){const a=this._characterMapping.getAbsoluteOffset(t),l=Math.round(this.input.spaceWidth*a);if(Math.abs(l-s)<=1)return l}return s}_readRawVisibleRangesForRange(e,t,i,r){if(t===1&&i===this._characterMapping.length)return[new jd(0,this.getWidth())];const o=this._characterMapping.getDomPosition(t),s=this._characterMapping.getDomPosition(i);return IA.readHorizontalRanges(this._getReadingTarget(e),o.partIndex,o.charIndex,s.partIndex,s.charIndex,r.clientRectDeltaLeft,r.endNode)}getColumnOfNodeOffset(e,t,i){const r=t.textContent.length;let o=-1;for(;t;)t=t.previousSibling,o++;return this._characterMapping.getColumn(new v$(o,i),r)}}class BCe extends yie{_readVisibleRangesForRange(e,t,i,r){const o=super._readVisibleRangesForRange(e,t,i,r);if(!o||o.length===0||t===i||t===1&&i===this._characterMapping.length)return o;if(!this.input.containsRTL){const s=this._readPixelOffset(e,i,r);if(s!==-1){const a=o[o.length-1];a.left<s&&(a.width=s-a.left)}}return o}}const _ie=function(){return ag?FCe:$Ce}();function FCe(n,e,t,i,r){return new BCe(n,e,t,i,r)}function $Ce(n,e,t,i,r){return new yie(n,e,t,i,r)}function f1(n){return n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Gi{constructor(e,t,i,r){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=r}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${f1(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${f1(this.oldText)}")`:`(replace@${this.oldPosition} "${f1(this.oldText)}" with "${f1(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const r=t.length;Da(e,r,i),i+=4;for(let o=0;o<r;o++)iSe(e,t.charCodeAt(o),i),i+=2;return i}static _readString(e,t){const i=Ia(e,t);return t+=4,fR(e,t,i)}writeSize(){return 4+4+Gi._writeStringSize(this.oldText)+Gi._writeStringSize(this.newText)}write(e,t){return Da(e,this.oldPosition,t),t+=4,Da(e,this.newPosition,t),t+=4,t=Gi._writeString(e,this.oldText,t),t=Gi._writeString(e,this.newText,t),t}static read(e,t,i){const r=Ia(e,t);t+=4;const o=Ia(e,t);t+=4;const s=Gi._readString(e,t);t+=Gi._writeStringSize(s);const a=Gi._readString(e,t);return t+=Gi._writeStringSize(a),i.push(new Gi(r,s,o,a)),t}}function VCe(n,e){return n===null||n.length===0?e:new Al(n,e).compress()}class Al{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),r=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(r),r=this._getCurr(++t);continue}if(r===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldEnd<=i.newPosition){this._acceptCurr(r),r=this._getCurr(++t);continue}if(i.newEnd<=r.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(r.oldPosition<i.newPosition){const[u,c]=Al._splitCurr(r,i.newPosition-r.oldPosition);this._acceptCurr(u),r=c;continue}if(i.newPosition<r.oldPosition){const[u,c]=Al._splitPrev(i,r.oldPosition-i.newPosition);this._acceptPrev(u),i=c;continue}let a,l;if(r.oldEnd===i.newEnd)a=i,l=r,i=this._getPrev(++e),r=this._getCurr(++t);else if(r.oldEnd<i.newEnd){const[u,c]=Al._splitPrev(i,r.oldLength);a=u,l=r,i=c,r=this._getCurr(++t)}else{const[u,c]=Al._splitCurr(r,i.newLength);a=i,l=u,i=this._getPrev(++e),r=c}this._result[this._resultLen++]=new Gi(a.oldPosition,a.oldText,l.newPosition,l.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=l.newLength-l.oldLength}const o=Al._merge(this._result);return Al._removeNoOps(o)}_acceptCurr(e){this._result[this._resultLen++]=Al._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=Al._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Gi(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Gi(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),r=e.newText.substr(t);return[new Gi(e.oldPosition,e.oldText,e.newPosition,i),new Gi(e.oldEnd,"",e.newPosition+t,r)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),r=e.oldText.substr(t);return[new Gi(e.oldPosition,i,e.newPosition,e.newText),new Gi(e.oldPosition+t,r,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;let t=[],i=0,r=e[0];for(let o=1;o<e.length;o++){const s=e[o];r.oldEnd===s.oldPosition?r=new Gi(r.oldPosition,r.oldText+s.oldText,r.newPosition,r.newText+s.newText):(t[i++]=r,r=s)}return t[i++]=r,t}static _removeNoOps(e){if(e.length===0)return e;let t=[],i=0;for(let r=0;r<e.length;r++){const o=e[r];o.oldText!==o.newText&&(t[i++]=o)}return t}}function zp(n){return n.toString()}class Ti{constructor(e,t,i,r,o,s,a){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=r,this.beforeCursorState=o,this.afterCursorState=s,this.changes=a}static create(e,t){const i=e.getAlternativeVersionId(),r=ER(e);return new Ti(i,i,r,r,t,t,[])}append(e,t,i,r,o){t.length>0&&(this.changes=VCe(this.changes,t)),this.afterEOL=i,this.afterVersionId=r,this.afterCursorState=o}static _writeSelectionsSize(e){return 4+4*4*(e?e.length:0)}static _writeSelections(e,t,i){if(Da(e,t?t.length:0,i),i+=4,t)for(const r of t)Da(e,r.selectionStartLineNumber,i),i+=4,Da(e,r.selectionStartColumn,i),i+=4,Da(e,r.positionLineNumber,i),i+=4,Da(e,r.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const r=Ia(e,t);t+=4;for(let o=0;o<r;o++){const s=Ia(e,t);t+=4;const a=Ia(e,t);t+=4;const l=Ia(e,t);t+=4;const u=Ia(e,t);t+=4,i.push(new Bt(s,a,l,u))}return t}serialize(){let e=10+Ti._writeSelectionsSize(this.beforeCursorState)+Ti._writeSelectionsSize(this.afterCursorState)+4;for(const r of this.changes)e+=r.writeSize();const t=new Uint8Array(e);let i=0;Da(t,this.beforeVersionId,i),i+=4,Da(t,this.afterVersionId,i),i+=4,M7(t,this.beforeEOL,i),i+=1,M7(t,this.afterEOL,i),i+=1,i=Ti._writeSelections(t,this.beforeCursorState,i),i=Ti._writeSelections(t,this.afterCursorState,i),Da(t,this.changes.length,i),i+=4;for(const r of this.changes)i=r.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const r=Ia(t,i);i+=4;const o=Ia(t,i);i+=4;const s=E7(t,i);i+=1;const a=E7(t,i);i+=1;const l=[];i=Ti._readSelections(t,i,l);const u=[];i=Ti._readSelections(t,i,u);const c=Ia(t,i);i+=4;const d=[];for(let h=0;h<c;h++)i=Gi.read(t,i,d);return new Ti(r,o,s,a,l,u,d)}}class bie{constructor(e,t){this.model=e,this._data=Ti.create(e,t)}get type(){return 0}get resource(){return Nt.isUri(this.model)?this.model:this.model.uri}get label(){return E("edit","Typing")}toString(){return(this._data instanceof Ti?this._data:Ti.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(Nt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Ti}append(e,t,i,r,o){this._data instanceof Ti&&this._data.append(e,t,i,r,o)}close(){this._data instanceof Ti&&(this._data=this._data.serialize())}open(){this._data instanceof Ti||(this._data=Ti.deserialize(this._data))}undo(){if(Nt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Ti&&(this._data=this._data.serialize());const e=Ti.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(Nt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Ti&&(this._data=this._data.serialize());const e=Ti.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Ti&&(this._data=this._data.serialize()),this._data.byteLength+168}}class WCe{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const i of this._editStackElementsArr){const r=zp(i.resource);this._editStackElementsMap.set(r,i)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=zp(e);return this._editStackElementsMap.has(t)}setModel(e){const t=zp(Nt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=zp(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,r,o){const s=zp(e.uri);this._editStackElementsMap.get(s).append(e,t,i,r,o)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=zp(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){let e=[];for(const t of this._editStackElementsArr)e.push(`${cne(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function ER(n){return n.getEOL()===`
`?0:1}function Qu(n){return n?n instanceof bie||n instanceof WCe:!1}class N${constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Qu(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Qu(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(Qu(t)&&t.canAppend(this._model))return t;const i=new bie(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],ER(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const r=this._getOrCreateEditStackElement(e),o=this._model.applyEdits(t,!0),s=N$._computeCursorState(i,o),a=o.map((l,u)=>({index:u,textChange:l.textChange}));return a.sort((l,u)=>l.textChange.oldPosition===u.textChange.oldPosition?l.index-u.index:l.textChange.oldPosition-u.textChange.oldPosition),r.append(this._model,a.map(l=>l.textChange),ER(this._model),this._model.getAlternativeVersionId(),s),s}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return Rn(i),null}}}class zCe{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function HCe(n,e,t,i,r){r.spacesDiff=0,r.looksLikeAlignment=!1;let o;for(o=0;o<e&&o<i;o++){let h=n.charCodeAt(o),f=t.charCodeAt(o);if(h!==f)break}let s=0,a=0;for(let h=o;h<e;h++)n.charCodeAt(h)===32?s++:a++;let l=0,u=0;for(let h=o;h<i;h++)t.charCodeAt(h)===32?l++:u++;if(s>0&&a>0||l>0&&u>0)return;let c=Math.abs(a-u),d=Math.abs(s-l);if(c===0){r.spacesDiff=d,d>0&&0<=l-1&&l-1<n.length&&l<t.length&&t.charCodeAt(l)!==32&&n.charCodeAt(l-1)===32&&n.charCodeAt(n.length-1)===44&&(r.looksLikeAlignment=!0);return}if(d%c===0){r.spacesDiff=d/c;return}}function k6(n,e,t){const i=Math.min(n.getLineCount(),1e4);let r=0,o=0,s="",a=0;const l=[2,4,6,8,3,5,7],u=8;let c=[0,0,0,0,0,0,0,0,0],d=new zCe;for(let g=1;g<=i;g++){let p=n.getLineLength(g),m=n.getLineContent(g);const v=p<=65536;let y=!1,_=0,b=0,S=0;for(let C=0,x=p;C<x;C++){let L=v?m.charCodeAt(C):n.getLineCharCode(g,C);if(L===9)S++;else if(L===32)b++;else{y=!0,_=C;break}}if(!y||(S>0?r++:b>1&&o++,HCe(s,a,m,_,d),d.looksLikeAlignment&&!(t&&e===d.spacesDiff)))continue;let w=d.spacesDiff;w<=u&&c[w]++,s=m,a=_}let h=t;r!==o&&(h=r<o);let f=e;if(h){let g=h?0:.1*i;l.forEach(p=>{let m=c[p];m>g&&(g=m,f=p)}),f===4&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(f=2)}return{insertSpaces:h,tabSize:f}}function Kr(n){return(n.metadata&1)>>>0}function mn(n,e){n.metadata=n.metadata&254|e<<0}function Xi(n){return(n.metadata&2)>>>1===1}function hn(n,e){n.metadata=n.metadata&253|(e?1:0)<<1}function Sie(n){return(n.metadata&4)>>>2===1}function P6(n,e){n.metadata=n.metadata&251|(e?1:0)<<2}function UCe(n){return(n.metadata&24)>>>3}function O6(n,e){n.metadata=n.metadata&231|e<<3}function GCe(n){return(n.metadata&32)>>>5===1}function R6(n,e){n.metadata=n.metadata&223|(e?1:0)<<5}class wie{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,mn(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,P6(this,!1),O6(this,1),R6(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,hn(this,!1)}reset(e,t,i,r){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=r}setOptions(e){this.options=e;let t=this.options.className;P6(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),O6(this,this.options.stickiness),R6(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const ct=new wie(null,0,0);ct.parent=ct;ct.left=ct;ct.right=ct;mn(ct,0);class DA{constructor(){this.root=ct,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,r,o){return this.root===ct?[]:JCe(this,e,t,i,r,o)}search(e,t,i){return this.root===ct?[]:QCe(this,e,t,i)}collectNodesFromOwner(e){return XCe(this,e)}collectNodesPostOrder(){return ZCe(this)}insert(e){B6(this,e),this._normalizeDeltaIfNecessary()}delete(e){F6(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let r=0;for(;e!==this.root;)e===e.parent.right&&(r+=e.parent.delta),e=e.parent;const o=i.start+r,s=i.end+r;i.setCachedOffsets(o,s,t)}acceptReplace(e,t,i,r){const o=qCe(this,e,e+t);for(let s=0,a=o.length;s<a;s++){const l=o[s];F6(this,l)}this._normalizeDeltaIfNecessary(),YCe(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let s=0,a=o.length;s<a;s++){const l=o[s];l.start=l.cachedAbsoluteStart,l.end=l.cachedAbsoluteEnd,jCe(l,e,e+t,i,r),l.maxEnd=l.end,B6(this,l)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,KCe(this))}}function KCe(n){let e=n.root,t=0;for(;e!==ct;){if(e.left!==ct&&!Xi(e.left)){e=e.left;continue}if(e.right!==ct&&!Xi(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,uh(e),hn(e,!0),hn(e.left,!1),hn(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}hn(n.root,!1)}function Hp(n,e,t,i){return n<t?!0:n>t||i===1?!1:i===2?!0:e}function jCe(n,e,t,i,r){const o=UCe(n),s=o===0||o===2,a=o===1||o===2,l=t-e,u=i,c=Math.min(l,u),d=n.start;let h=!1;const f=n.end;let g=!1;e<=d&&f<=t&&GCe(n)&&(n.start=e,h=!0,n.end=e,g=!0);{const m=r?1:l>0?2:0;!h&&Hp(d,s,e,m)&&(h=!0),!g&&Hp(f,a,e,m)&&(g=!0)}if(c>0&&!r){const m=l>u?2:0;!h&&Hp(d,s,e+c,m)&&(h=!0),!g&&Hp(f,a,e+c,m)&&(g=!0)}{const m=r?1:0;!h&&Hp(d,s,t,m)&&(n.start=e+u,h=!0),!g&&Hp(f,a,t,m)&&(n.end=e+u,g=!0)}const p=u-l;h||(n.start=Math.max(0,d+p)),g||(n.end=Math.max(0,f+p)),n.start>n.end&&(n.end=n.start)}function qCe(n,e,t){let i=n.root,r=0,o=0,s=0,a=0,l=[],u=0;for(;i!==ct;){if(Xi(i)){hn(i.left,!1),hn(i.right,!1),i===i.parent.right&&(r-=i.parent.delta),i=i.parent;continue}if(!Xi(i.left)){if(o=r+i.maxEnd,o<e){hn(i,!0);continue}if(i.left!==ct){i=i.left;continue}}if(s=r+i.start,s>t){hn(i,!0);continue}if(a=r+i.end,a>=e&&(i.setCachedOffsets(s,a,0),l[u++]=i),hn(i,!0),i.right!==ct&&!Xi(i.right)){r+=i.delta,i=i.right;continue}}return hn(n.root,!1),l}function YCe(n,e,t,i){let r=n.root,o=0,s=0,a=0;const l=i-(t-e);for(;r!==ct;){if(Xi(r)){hn(r.left,!1),hn(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),uh(r),r=r.parent;continue}if(!Xi(r.left)){if(s=o+r.maxEnd,s<e){hn(r,!0);continue}if(r.left!==ct){r=r.left;continue}}if(a=o+r.start,a>t){r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(n.requestNormalizeDelta=!0),hn(r,!0);continue}if(hn(r,!0),r.right!==ct&&!Xi(r.right)){o+=r.delta,r=r.right;continue}}hn(n.root,!1)}function XCe(n,e){let t=n.root,i=[],r=0;for(;t!==ct;){if(Xi(t)){hn(t.left,!1),hn(t.right,!1),t=t.parent;continue}if(t.left!==ct&&!Xi(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[r++]=t),hn(t,!0),t.right!==ct&&!Xi(t.right)){t=t.right;continue}}return hn(n.root,!1),i}function ZCe(n){let e=n.root,t=[],i=0;for(;e!==ct;){if(Xi(e)){hn(e.left,!1),hn(e.right,!1),e=e.parent;continue}if(e.left!==ct&&!Xi(e.left)){e=e.left;continue}if(e.right!==ct&&!Xi(e.right)){e=e.right;continue}t[i++]=e,hn(e,!0)}return hn(n.root,!1),t}function QCe(n,e,t,i){let r=n.root,o=0,s=0,a=0,l=[],u=0;for(;r!==ct;){if(Xi(r)){hn(r.left,!1),hn(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),r=r.parent;continue}if(r.left!==ct&&!Xi(r.left)){r=r.left;continue}s=o+r.start,a=o+r.end,r.setCachedOffsets(s,a,i);let c=!0;if(e&&r.ownerId&&r.ownerId!==e&&(c=!1),t&&Sie(r)&&(c=!1),c&&(l[u++]=r),hn(r,!0),r.right!==ct&&!Xi(r.right)){o+=r.delta,r=r.right;continue}}return hn(n.root,!1),l}function JCe(n,e,t,i,r,o){let s=n.root,a=0,l=0,u=0,c=0,d=[],h=0;for(;s!==ct;){if(Xi(s)){hn(s.left,!1),hn(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;continue}if(!Xi(s.left)){if(l=a+s.maxEnd,l<e){hn(s,!0);continue}if(s.left!==ct){s=s.left;continue}}if(u=a+s.start,u>t){hn(s,!0);continue}if(c=a+s.end,c>=e){s.setCachedOffsets(u,c,o);let f=!0;i&&s.ownerId&&s.ownerId!==i&&(f=!1),r&&Sie(s)&&(f=!1),f&&(d[h++]=s)}if(hn(s,!0),s.right!==ct&&!Xi(s.right)){a+=s.delta,s=s.right;continue}}return hn(n.root,!1),d}function B6(n,e){if(n.root===ct)return e.parent=ct,e.left=ct,e.right=ct,mn(e,0),n.root=e,n.root;exe(n,e),pd(e.parent);let t=e;for(;t!==n.root&&Kr(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;Kr(i)===1?(mn(t.parent,0),mn(i,0),mn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,$_(n,t)),mn(t.parent,0),mn(t.parent.parent,1),V_(n,t.parent.parent))}else{const i=t.parent.parent.left;Kr(i)===1?(mn(t.parent,0),mn(i,0),mn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,V_(n,t)),mn(t.parent,0),mn(t.parent.parent,1),$_(n,t.parent.parent))}return mn(n.root,0),e}function exe(n,e){let t=0,i=n.root;const r=e.start,o=e.end;for(;;)if(nxe(r,o,i.start+t,i.end+t)<0)if(i.left===ct){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===ct){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=ct,e.right=ct,mn(e,1)}function F6(n,e){let t,i;if(e.left===ct?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===ct?(t=e.left,i=e):(i=txe(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(n.requestNormalizeDelta=!0)),i===n.root){n.root=t,mn(t,0),e.detach(),EA(),uh(t),n.root.parent=ct;return}let r=Kr(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,mn(i,Kr(e)),e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==ct&&(i.left.parent=i),i.right!==ct&&(i.right.parent=i)),e.detach(),r){pd(t.parent),i!==e&&(pd(i),pd(i.parent)),EA();return}pd(t),pd(t.parent),i!==e&&(pd(i),pd(i.parent));let o;for(;t!==n.root&&Kr(t)===0;)t===t.parent.left?(o=t.parent.right,Kr(o)===1&&(mn(o,0),mn(t.parent,1),$_(n,t.parent),o=t.parent.right),Kr(o.left)===0&&Kr(o.right)===0?(mn(o,1),t=t.parent):(Kr(o.right)===0&&(mn(o.left,0),mn(o,1),V_(n,o),o=t.parent.right),mn(o,Kr(t.parent)),mn(t.parent,0),mn(o.right,0),$_(n,t.parent),t=n.root)):(o=t.parent.left,Kr(o)===1&&(mn(o,0),mn(t.parent,1),V_(n,t.parent),o=t.parent.left),Kr(o.left)===0&&Kr(o.right)===0?(mn(o,1),t=t.parent):(Kr(o.left)===0&&(mn(o.right,0),mn(o,1),$_(n,o),o=t.parent.left),mn(o,Kr(t.parent)),mn(t.parent,0),mn(o.left,0),V_(n,t.parent),t=n.root));mn(t,0),EA()}function txe(n){for(;n.left!==ct;)n=n.left;return n}function EA(){ct.parent=ct,ct.delta=0,ct.start=0,ct.end=0}function $_(n,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(n.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==ct&&(t.left.parent=e),t.parent=e.parent,e.parent===ct?n.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,uh(e),uh(t)}function V_(n,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(n.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==ct&&(t.right.parent=e),t.parent=e.parent,e.parent===ct?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,uh(e),uh(t)}function Cie(n){let e=n.end;if(n.left!==ct){const t=n.left.maxEnd;t>e&&(e=t)}if(n.right!==ct){const t=n.right.maxEnd+n.delta;t>e&&(e=t)}return e}function uh(n){n.maxEnd=Cie(n)}function pd(n){for(;n!==ct;){const e=Cie(n);if(n.maxEnd===e)return;n.maxEnd=e,n=n.parent}}function nxe(n,e,t,i){return n===t?e-i:n-t}let MR=class{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==nt)return k$(this.right);let e=this;for(;e.parent!==nt&&e.parent.left!==e;)e=e.parent;return e.parent===nt?nt:e.parent}prev(){if(this.left!==nt)return xie(this.left);let e=this;for(;e.parent!==nt&&e.parent.right!==e;)e=e.parent;return e.parent===nt?nt:e.parent}detach(){this.parent=null,this.left=null,this.right=null}};const nt=new MR(null,0);nt.parent=nt;nt.left=nt;nt.right=nt;nt.color=0;function k$(n){for(;n.left!==nt;)n=n.left;return n}function xie(n){for(;n.right!==nt;)n=n.right;return n}function P$(n){return n===nt?0:n.size_left+n.piece.length+P$(n.right)}function O$(n){return n===nt?0:n.lf_left+n.piece.lineFeedCnt+O$(n.right)}function MA(){nt.parent=nt}function W_(n,e){let t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==nt&&(t.left.parent=e),t.parent=e.parent,e.parent===nt?n.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function z_(n,e){let t=e.left;e.left=t.right,t.right!==nt&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===nt?n.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function g1(n,e){let t,i;if(e.left===nt?(i=e,t=i.right):e.right===nt?(i=e,t=i.left):(i=k$(e.right),t=i.right),i===n.root){n.root=t,t.color=0,e.detach(),MA(),n.root.parent=nt;return}let r=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,i_(n,t)):(i.parent===e?t.parent=i:t.parent=i.parent,i_(n,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===n.root?n.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==nt&&(i.left.parent=i),i.right!==nt&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,i_(n,i)),e.detach(),t.parent.left===t){let s=P$(t),a=O$(t);if(s!==t.parent.size_left||a!==t.parent.lf_left){let l=s-t.parent.size_left,u=a-t.parent.lf_left;t.parent.size_left=s,t.parent.lf_left=a,Fu(n,t.parent,l,u)}}if(i_(n,t.parent),r){MA();return}let o;for(;t!==n.root&&t.color===0;)t===t.parent.left?(o=t.parent.right,o.color===1&&(o.color=0,t.parent.color=1,W_(n,t.parent),o=t.parent.right),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.right.color===0&&(o.left.color=0,o.color=1,z_(n,o),o=t.parent.right),o.color=t.parent.color,t.parent.color=0,o.right.color=0,W_(n,t.parent),t=n.root)):(o=t.parent.left,o.color===1&&(o.color=0,t.parent.color=1,z_(n,t.parent),o=t.parent.left),o.left.color===0&&o.right.color===0?(o.color=1,t=t.parent):(o.left.color===0&&(o.right.color=0,o.color=1,W_(n,o),o=t.parent.left),o.color=t.parent.color,t.parent.color=0,o.left.color=0,z_(n,t.parent),t=n.root));t.color=0,MA()}function $6(n,e){for(i_(n,e);e!==n.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,W_(n,e)),e.parent.color=0,e.parent.parent.color=1,z_(n,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,z_(n,e)),e.parent.color=0,e.parent.parent.color=1,W_(n,e.parent.parent))}n.root.color=0}function Fu(n,e,t,i){for(;e!==n.root&&e!==nt;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function i_(n,e){let t=0,i=0;if(e!==n.root){if(t===0){for(;e!==n.root&&e===e.parent.right;)e=e.parent;if(e===n.root)return;e=e.parent,t=P$(e.left)-e.size_left,i=O$(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i}for(;e!==n.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}class ixe extends sw{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}function rxe(n){let e={};return t=>(e.hasOwnProperty(t)||(e[t]=n(t)),e[t])}const Pv=rxe(n=>new ixe(n)),oxe=999;class gf{constructor(e,t,i,r){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=r}parseSearchRequest(){if(this.searchString==="")return null;let e;this.isRegex?e=sxe(this.searchString):e=this.searchString.indexOf(`
`)>=0;let t=null;try{t=ine(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch{return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new axe(t,this.wordSeparators?Pv(this.wordSeparators):null,i?this.searchString:null)}}function sxe(n){if(!n||n.length===0)return!1;for(let e=0,t=n.length;e<t;e++)if(n.charCodeAt(e)===92){if(e++,e>=t)break;const r=n.charCodeAt(e);if(r===110||r===114||r===87||r===119)return!0}return!1}class axe{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function Mf(n,e,t){if(!t)return new kb(n,null);let i=[];for(let r=0,o=e.length;r<o;r++)i[r]=e[r];return new kb(n,i)}class V6{constructor(e){let t=[],i=0;for(let r=0,o=e.length;r<o;r++)e.charCodeAt(r)===10&&(t[i++]=r);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,r=t.length-1;if(r===-1||e<=t[0])return 0;for(;i<r;){const o=i+((r-i)/2>>0);t[o]>=e?r=o-1:t[o+1]>=e?(i=o,r=o):i=o+1}return i+1}}class p1{static findMatches(e,t,i,r,o){const s=t.parseSearchRequest();return s?s.regex.multiline?this._doFindMatchesMultiline(e,i,new r_(s.wordSeparators,s.regex),r,o):this._doFindMatchesLineByLine(e,i,s,r,o):[]}static _getMultilineMatchRange(e,t,i,r,o,s){let a,l=0;r?(l=r.findLineFeedCountBeforeOffset(o),a=t+o+l):a=t+o;let u;if(r){let f=r.findLineFeedCountBeforeOffset(o+s.length)-l;u=a+s.length+f}else u=a+s.length;const c=e.getPositionAt(a),d=e.getPositionAt(u);return new ee(c.lineNumber,c.column,d.lineNumber,d.column)}static _doFindMatchesMultiline(e,t,i,r,o){const s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l=e.getEOL()===`\r
`?new V6(a):null,u=[];let c=0,d;for(i.reset(0);d=i.next(a);)if(u[c++]=Mf(this._getMultilineMatchRange(e,s,a,l,d.index,d[0]),d,r),c>=o)return u;return u}static _doFindMatchesLineByLine(e,t,i,r,o){const s=[];let a=0;if(t.startLineNumber===t.endLineNumber){const u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return a=this._findMatchesInLine(i,u,t.startLineNumber,t.startColumn-1,a,s,r,o),s}const l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);a=this._findMatchesInLine(i,l,t.startLineNumber,t.startColumn-1,a,s,r,o);for(let u=t.startLineNumber+1;u<t.endLineNumber&&a<o;u++)a=this._findMatchesInLine(i,e.getLineContent(u),u,0,a,s,r,o);if(a<o){const u=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);a=this._findMatchesInLine(i,u,t.endLineNumber,0,a,s,r,o)}return s}static _findMatchesInLine(e,t,i,r,o,s,a,l){const u=e.wordSeparators;if(!a&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=t.length;let p=-f;for(;(p=t.indexOf(h,p+f))!==-1;)if((!u||R$(u,t,g,p,f))&&(s[o++]=new kb(new ee(i,p+1+r,i,p+1+f+r),null),o>=l))return o;return o}const c=new r_(e.wordSeparators,e.regex);let d;c.reset(0);do if(d=c.next(t),d&&(s[o++]=Mf(new ee(i,d.index+1+r,i,d.index+1+d[0].length+r),d,a),o>=l))return o;while(d);return o}static findNextMatch(e,t,i,r){const o=t.parseSearchRequest();if(!o)return null;const s=new r_(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,i,s,r):this._doFindNextMatchLineByLine(e,i,s,r)}static _doFindNextMatchMultiline(e,t,i,r){const o=new ve(t.lineNumber,1),s=e.getOffsetAt(o),a=e.getLineCount(),l=e.getValueInRange(new ee(o.lineNumber,o.column,a,e.getLineMaxColumn(a)),1),u=e.getEOL()===`\r
`?new V6(l):null;i.reset(t.column-1);let c=i.next(l);return c?Mf(this._getMultilineMatchRange(e,s,l,u,c.index,c[0]),c,r):t.lineNumber!==1||t.column!==1?this._doFindNextMatchMultiline(e,new ve(1,1),i,r):null}static _doFindNextMatchLineByLine(e,t,i,r){const o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s),l=this._findFirstMatchInLine(i,a,s,t.column,r);if(l)return l;for(let u=1;u<=o;u++){const c=(s+u-1)%o,d=e.getLineContent(c+1),h=this._findFirstMatchInLine(i,d,c+1,1,r);if(h)return h}return null}static _findFirstMatchInLine(e,t,i,r,o){e.reset(r-1);const s=e.next(t);return s?Mf(new ee(i,s.index+1,i,s.index+1+s[0].length),s,o):null}static findPreviousMatch(e,t,i,r){const o=t.parseSearchRequest();if(!o)return null;const s=new r_(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,i,s,r):this._doFindPreviousMatchLineByLine(e,i,s,r)}static _doFindPreviousMatchMultiline(e,t,i,r){const o=this._doFindMatchesMultiline(e,new ee(1,1,t.lineNumber,t.column),i,r,10*oxe);if(o.length>0)return o[o.length-1];const s=e.getLineCount();return t.lineNumber!==s||t.column!==e.getLineMaxColumn(s)?this._doFindPreviousMatchMultiline(e,new ve(s,e.getLineMaxColumn(s)),i,r):null}static _doFindPreviousMatchLineByLine(e,t,i,r){const o=e.getLineCount(),s=t.lineNumber,a=e.getLineContent(s).substring(0,t.column-1),l=this._findLastMatchInLine(i,a,s,r);if(l)return l;for(let u=1;u<=o;u++){const c=(o+s-u-1)%o,d=e.getLineContent(c+1),h=this._findLastMatchInLine(i,d,c+1,r);if(h)return h}return null}static _findLastMatchInLine(e,t,i,r){let o=null,s;for(e.reset(0);s=e.next(t);)o=Mf(new ee(i,s.index+1,i,s.index+1+s[0].length),s,r);return o}}function lxe(n,e,t,i,r){if(i===0)return!0;const o=e.charCodeAt(i-1);if(n.get(o)!==0||o===13||o===10)return!0;if(r>0){const s=e.charCodeAt(i);if(n.get(s)!==0)return!0}return!1}function uxe(n,e,t,i,r){if(i+r===t)return!0;const o=e.charCodeAt(i+r);if(n.get(o)!==0||o===13||o===10)return!0;if(r>0){const s=e.charCodeAt(i+r-1);if(n.get(s)!==0)return!0}return!1}function R$(n,e,t,i,r){return lxe(n,e,t,i,r)&&uxe(n,e,t,i,r)}class r_{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t||(i=this._searchRegex.exec(e),!i))return null;const r=i.index,o=i[0].length;if(r===this._prevMatchStartIndex&&o===this._prevMatchLength){if(o===0){Xu(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=r,this._prevMatchLength=o,!this._wordSeparators||R$(this._wordSeparators,e,t,r,o))return i}while(i);return null}}const Iu=65535;function Lie(n){let e;return n[n.length-1]<65536?e=new Uint16Array(n.length):e=new Uint32Array(n.length),e.set(n,0),e}class cxe{constructor(e,t,i,r,o){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=r,this.isBasicASCII=o}}function Wu(n,e=!0){let t=[0],i=1;for(let r=0,o=n.length;r<o;r++){const s=n.charCodeAt(r);s===13?r+1<o&&n.charCodeAt(r+1)===10?(t[i++]=r+2,r++):t[i++]=r+1:s===10&&(t[i++]=r+1)}return e?Lie(t):t}function dxe(n,e){n.length=0,n[0]=0;let t=1,i=0,r=0,o=0,s=!0;for(let l=0,u=e.length;l<u;l++){const c=e.charCodeAt(l);c===13?l+1<u&&e.charCodeAt(l+1)===10?(o++,n[t++]=l+2,l++):(i++,n[t++]=l+1):c===10?(r++,n[t++]=l+1):s&&c!==9&&(c<32||c>126)&&(s=!1)}const a=new cxe(Lie(n),i,r,o,s);return n.length=0,a}class ao{constructor(e,t,i,r,o){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=r,this.length=o}}class Af{constructor(e,t){this.buffer=e,this.lineStarts=t}}class hxe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==nt&&e.iterate(e.root,i=>(i!==nt&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class fxe{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let r=0;r<i.length;r++){let o=i[r];if(o.node.parent===null||o.nodeStartOffset>=e){i[r]=null,t=!0;continue}}if(t){let r=[];for(const o of i)o!==null&&r.push(o);this._cache=r}}}class gxe{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Af("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=nt,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let r=null;for(let o=0,s=e.length;o<s;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Wu(e[o].buffer));let a=new ao(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),r=this.rbInsertRight(r,a)}this._searchCache=new fxe(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=Iu,i=t-Math.floor(t/3),r=i*2,o="",s=0,a=[];if(this.iterate(this.root,l=>{let u=this.getNodeContent(l),c=u.length;if(s<=i||s+c<r)return o+=u,s+=c,!0;let d=o.replace(/\r\n|\r|\n/g,e);return a.push(new Af(d,Wu(d))),o=u,s=c,!0}),s>0){let l=o.replace(/\r\n|\r|\n/g,e);a.push(new Af(l,Wu(l)))}this.create(a,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new hxe(this,e)}getOffsetAt(e,t){let i=0,r=this.root;for(;r!==nt;)if(r.left!==nt&&r.lf_left+1>=e)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=e){i+=r.size_left;let o=this.getAccumulatedValue(r,e-r.lf_left-2);return i+=o+t-1}else e-=r.lf_left+r.piece.lineFeedCnt,i+=r.size_left+r.piece.length,r=r.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,r=e;for(;t!==nt;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){let o=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+o.index,o.index===0){let s=this.getOffsetAt(i+1,1),a=r-s;return new ve(i+1,a+1)}return new ve(i+1,o.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===nt){let o=this.getOffsetAt(i+1,1),s=r-e-o;return new ve(i+1,s+1)}else t=t.right;return new ve(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),r=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(i,r);return t?t!==this._EOL||!this._EOLNormalized?o.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o}getValueInRange2(e,t){if(e.node===t.node){let a=e.node,l=this._buffers[a.piece.bufferIndex].buffer,u=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return l.substring(u+e.remainder,u+t.remainder)}let i=e.node,r=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),s=r.substring(o+e.remainder,o+i.piece.length);for(i=i.next();i!==nt;){let a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){s+=a.substring(l,l+t.remainder);break}else s+=a.substr(l,i.piece.length);i=i.next()}return s}getLinesContent(){let e=[],t=0,i="",r=!1;return this.iterate(this.root,o=>{if(o===nt)return!0;const s=o.piece;let a=s.length;if(a===0)return!0;const l=this._buffers[s.bufferIndex].buffer,u=this._buffers[s.bufferIndex].lineStarts,c=s.start.line,d=s.end.line;let h=u[c]+s.start.column;if(r&&(l.charCodeAt(h)===10&&(h++,a--),e[t++]=i,i="",r=!1,a===0))return!0;if(c===d)return!this._EOLNormalized&&l.charCodeAt(h+a-1)===13?(r=!0,i+=l.substr(h,a-1)):i+=l.substr(h,a),!0;i+=this._EOLNormalized?l.substring(h,Math.max(h,u[c+1]-this._EOLLength)):l.substring(h,u[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let f=c+1;f<d;f++)i=this._EOLNormalized?l.substring(u[f],u[f+1]-this._EOLLength):l.substring(u[f],u[f+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&l.charCodeAt(u[d]+s.end.column-1)===13?(r=!0,s.end.column===0?t--:i=l.substr(u[d],s.end.column-1)):i=l.substr(u[d],s.end.column),!0}),r&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],r=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(r)}else{let t=this._buffers[e.node.piece.bufferIndex],r=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(r)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,r,o,s,a,l,u,c,d){let h=this._buffers[e.piece.bufferIndex],f=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,o),p=this.offsetInBuffer(e.piece.bufferIndex,s),m,v={line:0,column:0},y,_;t._wordSeparators?(y=h.buffer.substring(g,p),_=b=>b+g,t.reset(0)):(y=h.buffer,_=b=>b,t.reset(g));do if(m=t.next(y),m){if(_(m.index)>=p)return c;this.positionInBuffer(e,_(m.index)-f,v);let b=this.getLineFeedCnt(e.piece.bufferIndex,o,v),S=v.line===o.line?v.column-o.column+r:v.column+1,w=S+m[0].length;if(d[c++]=Mf(new ee(i+b,S,i+b,w),m,l),_(m.index)+m[0].length>=p||c>=u)return c}while(m);return c}findMatchesLineByLine(e,t,i,r){const o=[];let s=0;const a=new r_(t.wordSeparators,t.regex);let l=this.nodeAt2(e.startLineNumber,e.startColumn);if(l===null)return[];let u=this.nodeAt2(e.endLineNumber,e.endColumn);if(u===null)return[];let c=this.positionInBuffer(l.node,l.remainder),d=this.positionInBuffer(u.node,u.remainder);if(l.node===u.node)return this.findMatchesInNode(l.node,a,e.startLineNumber,e.startColumn,c,d,t,i,r,s,o),o;let h=e.startLineNumber,f=l.node;for(;f!==u.node;){let p=this.getLineFeedCnt(f.piece.bufferIndex,c,f.piece.end);if(p>=1){let v=this._buffers[f.piece.bufferIndex].lineStarts,y=this.offsetInBuffer(f.piece.bufferIndex,f.piece.start),_=v[c.line+p],b=h===e.startLineNumber?e.startColumn:1;if(s=this.findMatchesInNode(f,a,h,b,c,this.positionInBuffer(f,_-y),t,i,r,s,o),s>=r)return o;h+=p}let m=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){const v=this.getLineContent(h).substring(m,e.endColumn-1);return s=this._findMatchesInLine(t,a,v,e.endLineNumber,m,s,o,i,r),o}if(s=this._findMatchesInLine(t,a,this.getLineContent(h).substr(m),h,m,s,o,i,r),s>=r)return o;h++,l=this.nodeAt2(h,1),f=l.node,c=this.positionInBuffer(l.node,l.remainder)}if(h===e.endLineNumber){let p=h===e.startLineNumber?e.startColumn-1:0;const m=this.getLineContent(h).substring(p,e.endColumn-1);return s=this._findMatchesInLine(t,a,m,e.endLineNumber,p,s,o,i,r),o}let g=h===e.startLineNumber?e.startColumn:1;return s=this.findMatchesInNode(u.node,a,h,g,c,d,t,i,r,s,o),o}_findMatchesInLine(e,t,i,r,o,s,a,l,u){const c=e.wordSeparators;if(!l&&e.simpleSearch){const h=e.simpleSearch,f=h.length,g=i.length;let p=-f;for(;(p=i.indexOf(h,p+f))!==-1;)if((!c||R$(c,i,g,p,f))&&(a[s++]=new kb(new ee(r,p+1+o,r,p+1+f+o),null),s>=u))return s;return s}let d;t.reset(0);do if(d=t.next(i),d&&(a[s++]=Mf(new ee(r,d.index+1+o,r,d.index+1+d[0].length+o),d,l),s>=u))return s;while(d);return s}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==nt){let{node:r,remainder:o,nodeStartOffset:s}=this.nodeAt(e),a=r.piece,l=a.bufferIndex,u=this.positionInBuffer(r,o);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<Iu){this.appendToNode(r,t),this.computeBufferMetadata();return}if(s===e)this.insertContentToNodeLeft(t,r),this._searchCache.validate(e);else if(s+r.piece.length>e){let c=[],d=new ao(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,u));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(r,o)===10){let p={line:d.start.line+1,column:0};d=new ao(d.bufferIndex,p,d.end,this.getLineFeedCnt(d.bufferIndex,p,d.end),d.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(r,o-1)===13){let p=this.positionInBuffer(r,o-1);this.deleteNodeTail(r,p),t="\r"+t,r.piece.length===0&&c.push(r)}else this.deleteNodeTail(r,u);else this.deleteNodeTail(r,u);let h=this.createNewPieces(t);d.length>0&&this.rbInsertRight(r,d);let f=r;for(let g=0;g<h.length;g++)f=this.rbInsertRight(f,h[g]);this.deleteNodes(c)}else this.insertContentToNodeRight(t,r)}else{let r=this.createNewPieces(t),o=this.rbInsertLeft(null,r[0]);for(let s=1;s<r.length;s++)o=this.rbInsertRight(o,r[s])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===nt)return;let i=this.nodeAt(e),r=this.nodeAt(e+t),o=i.node,s=r.node;if(o===s){let h=this.positionInBuffer(o,i.remainder),f=this.positionInBuffer(o,r.remainder);if(i.nodeStartOffset===e){if(t===o.piece.length){let g=o.next();g1(this,o),this.validateCRLFWithPrevNode(g),this.computeBufferMetadata();return}this.deleteNodeHead(o,f),this._searchCache.validate(e),this.validateCRLFWithPrevNode(o),this.computeBufferMetadata();return}if(i.nodeStartOffset+o.piece.length===e+t){this.deleteNodeTail(o,h),this.validateCRLFWithNextNode(o),this.computeBufferMetadata();return}this.shrinkNode(o,h,f),this.computeBufferMetadata();return}let a=[],l=this.positionInBuffer(o,i.remainder);this.deleteNodeTail(o,l),this._searchCache.validate(e),o.piece.length===0&&a.push(o);let u=this.positionInBuffer(s,r.remainder);this.deleteNodeHead(s,u),s.piece.length===0&&a.push(s);let c=o.next();for(let h=c;h!==nt&&h!==s;h=h.next())a.push(h);let d=o.piece.length===0?o.prev():o;this.deleteNodes(a),this.validateCRLFWithNextNode(d),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let s=t.piece,a={line:s.start.line+1,column:0},l=new ao(s.bufferIndex,a,s.end,this.getLineFeedCnt(s.bufferIndex,a,s.end),s.length-1);t.piece=l,e+=`
`,Fu(this,t,-1,-1),t.piece.length===0&&i.push(t)}let r=this.createNewPieces(e),o=this.rbInsertLeft(t,r[r.length-1]);for(let s=r.length-2;s>=0;s--)o=this.rbInsertLeft(o,r[s]);this.validateCRLFWithPrevNode(o),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);let i=this.createNewPieces(e),r=this.rbInsertRight(t,i[0]),o=r;for(let s=1;s<i.length;s++)o=this.rbInsertRight(o,i[s]);this.validateCRLFWithPrevNode(r)}positionInBuffer(e,t,i){let r=e.piece,o=e.piece.bufferIndex,s=this._buffers[o].lineStarts,l=s[r.start.line]+r.start.column+t,u=r.start.line,c=r.end.line,d=0,h=0,f=0;for(;u<=c&&(d=u+(c-u)/2|0,f=s[d],d!==c);)if(h=s[d+1],l<f)c=d-1;else if(l>=h)u=d+1;else break;return i?(i.line=d,i.column=l-f,null):{line:d,column:l-f}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;let r=this._buffers[e].lineStarts;if(i.line===r.length-1)return i.line-t.line;let o=r[i.line+1],s=r[i.line]+i.column;if(o>s+1)return i.line-t.line;let a=s-1;return this._buffers[e].buffer.charCodeAt(a)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)g1(this,e[t])}createNewPieces(e){if(e.length>Iu){let c=[];for(;e.length>Iu;){const h=e.charCodeAt(Iu-1);let f;h===13||h>=55296&&h<=56319?(f=e.substring(0,Iu-1),e=e.substring(Iu-1)):(f=e.substring(0,Iu),e=e.substring(Iu));let g=Wu(f);c.push(new ao(this._buffers.length,{line:0,column:0},{line:g.length-1,column:f.length-g[g.length-1]},g.length-1,f.length)),this._buffers.push(new Af(f,g))}let d=Wu(e);return c.push(new ao(this._buffers.length,{line:0,column:0},{line:d.length-1,column:e.length-d[d.length-1]},d.length-1,e.length)),this._buffers.push(new Af(e,d)),c}let t=this._buffers[0].buffer.length;const i=Wu(e,!1);let r=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},r=this._lastChangeBufferPos;for(let c=0;c<i.length;c++)i[c]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let c=0;c<i.length;c++)i[c]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const o=this._buffers[0].buffer.length;let s=this._buffers[0].lineStarts.length-1,a=o-this._buffers[0].lineStarts[s],l={line:s,column:a},u=new ao(0,r,l,this.getLineFeedCnt(0,r,l),o-t);return this._lastChangeBufferPos=l,[u]}getLineRawContent(e,t=0){let i=this.root,r="",o=this._searchCache.get2(e);if(o){i=o.node;let s=this.getAccumulatedValue(i,e-o.nodeStartLineNumber-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(o.nodeStartLineNumber+i.piece.lineFeedCnt===e)r=a.substring(l+s,l+i.piece.length);else{let u=this.getAccumulatedValue(i,e-o.nodeStartLineNumber);return a.substring(l+s,l+u-t)}}else{let s=0;const a=e;for(;i!==nt;)if(i.left!==nt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),u=this.getAccumulatedValue(i,e-i.lf_left-1),c=this._buffers[i.piece.bufferIndex].buffer,d=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:s,nodeStartLineNumber:a-(e-1-i.lf_left)}),c.substring(d+l,d+u-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let l=this.getAccumulatedValue(i,e-i.lf_left-2),u=this._buffers[i.piece.bufferIndex].buffer,c=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r=u.substring(c+l,c+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==nt;){let s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let a=this.getAccumulatedValue(i,0),l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=s.substring(l,l+a-t),r}else{let a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);r+=s.substr(a,i.piece.length)}i=i.next()}return r}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==nt;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,r=this.positionInBuffer(e,t),o=r.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let s=this.getLineFeedCnt(e.piece.bufferIndex,i.start,r);if(s!==o)return{index:s,remainder:0}}return{index:o,remainder:r.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,r=this._buffers[i.bufferIndex].lineStarts,o=i.start.line+t+1;return o>i.end.line?r[i.end.line]+i.end.column-r[i.start.line]-i.start.column:r[o]-r[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.end),s=t,a=this.offsetInBuffer(i.bufferIndex,s),l=this.getLineFeedCnt(i.bufferIndex,i.start,s),u=l-r,c=a-o,d=i.length+c;e.piece=new ao(i.bufferIndex,i.start,s,l,d),Fu(this,e,c,u)}deleteNodeHead(e,t){const i=e.piece,r=i.lineFeedCnt,o=this.offsetInBuffer(i.bufferIndex,i.start),s=t,a=this.getLineFeedCnt(i.bufferIndex,s,i.end),l=this.offsetInBuffer(i.bufferIndex,s),u=a-r,c=o-l,d=i.length+c;e.piece=new ao(i.bufferIndex,s,i.end,a,d),Fu(this,e,c,u)}shrinkNode(e,t,i){const r=e.piece,o=r.start,s=r.end,a=r.length,l=r.lineFeedCnt,u=t,c=this.getLineFeedCnt(r.bufferIndex,r.start,u),d=this.offsetInBuffer(r.bufferIndex,t)-this.offsetInBuffer(r.bufferIndex,o);e.piece=new ao(r.bufferIndex,r.start,u,c,d),Fu(this,e,d-a,c-l);let h=new ao(r.bufferIndex,i,s,this.getLineFeedCnt(r.bufferIndex,i,s),this.offsetInBuffer(r.bufferIndex,s)-this.offsetInBuffer(r.bufferIndex,i)),f=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(f)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),r=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const o=Wu(t,!1);for(let f=0;f<o.length;f++)o[f]+=r;if(i){let f=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:r-f}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));const s=this._buffers[0].lineStarts.length-1,a=this._buffers[0].buffer.length-this._buffers[0].lineStarts[s],l={line:s,column:a},u=e.piece.length+t.length,c=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,l),h=d-c;e.piece=new ao(e.piece.bufferIndex,e.piece.start,l,d,u),this._lastChangeBufferPos=l,Fu(this,e,t.length,h)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let r=0;for(;t!==nt;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){r+=t.size_left;let o={node:t,remainder:e-t.size_left,nodeStartOffset:r};return this._searchCache.set(o),o}else e-=t.size_left+t.piece.length,r+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,r=0;for(;i!==nt;)if(i.left!==nt&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1);return r+=i.size_left,{node:i,remainder:Math.min(o+t-1,s),nodeStartOffset:r}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){let o=this.getAccumulatedValue(i,e-i.lf_left-2);if(o+t-1<=i.piece.length)return{node:i,remainder:o+t-1,nodeStartOffset:r};t-=i.piece.length-o;break}else e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==nt;){if(i.piece.lineFeedCnt>0){let o=this.getAccumulatedValue(i,0),s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:s}}else if(i.piece.length>=t-1){let o=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:o}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],r=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(r)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===nt||e.piece.lineFeedCnt===0)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,r=t.start.line,o=i[r]+t.start.column;return r===i.length-1||i[r+1]>o+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(o)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===nt||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i=[],r=this._buffers[e.piece.bufferIndex].lineStarts,o;e.piece.end.column===0?o={line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:o={line:e.piece.end.line,column:e.piece.end.column-1};const s=e.piece.length-1,a=e.piece.lineFeedCnt-1;e.piece=new ao(e.piece.bufferIndex,e.piece.start,o,a,s),Fu(this,e,-1,-1),e.piece.length===0&&i.push(e);let l={line:t.piece.start.line+1,column:0};const u=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,l,t.piece.end);t.piece=new ao(t.piece.bufferIndex,l,t.piece.end,c,u),Fu(this,t,-1,-1),t.piece.length===0&&i.push(t);let d=this.createNewPieces(`\r
`);this.rbInsertRight(e,d[0]);for(let h=0;h<i.length;h++)g1(this,i[h])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)g1(this,i);else{const r=i.piece,o={line:r.start.line+1,column:0},s=r.length-1,a=this.getLineFeedCnt(r.bufferIndex,o,r.end);i.piece=new ao(r.bufferIndex,o,r.end,a,s),Fu(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===nt)return t(nt);let i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===nt)return"";let t=this._buffers[e.piece.bufferIndex],i,r=e.piece,o=this.offsetInBuffer(r.bufferIndex,r.start),s=this.offsetInBuffer(r.bufferIndex,r.end);return i=t.buffer.substring(o,s),i}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),r=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,r)}rbInsertRight(e,t){let i=new MR(t,1);if(i.left=nt,i.right=nt,i.parent=nt,i.size_left=0,i.lf_left=0,this.root===nt)this.root=i,i.color=0;else if(e.right===nt)e.right=i,i.parent=e;else{let o=k$(e.right);o.left=i,i.parent=o}return $6(this,i),i}rbInsertLeft(e,t){let i=new MR(t,1);if(i.left=nt,i.right=nt,i.parent=nt,i.size_left=0,i.lf_left=0,this.root===nt)this.root=i,i.color=0;else if(e.left===nt)e.left=i,i.parent=e;else{let r=xie(e.left);r.right=i,i.parent=r}return $6(this,i),i}}function Ov(n){let e=0,t=0,i=0,r=0;for(let o=0,s=n.length;o<s;o++){const a=n.charCodeAt(o);a===13?(e===0&&(t=o),e++,o+1<s&&n.charCodeAt(o+1)===10?(r|=2,o++):r|=3,i=o+1):a===10&&(r|=1,e===0&&(t=o),e++,i=o+1)}return e===0&&(t=n.length),[e,t,n.length-i,r]}function W6(n){return(n<<0|0|0|16384|2<<23)>>>0}const Du=new Uint32Array(0).buffer;class AA{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e){i.tokens.push(t);return}}this.tokens.push(new pxe(e,[t]))}}class dT{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return e===0?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(e===0)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),r=this._getEndCharacter(e-1);return new ee(0,t+1,i,r+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const r=t+Math.floor((i-t)/2),o=this._getDeltaLine(r);if(o<e)t=r+1;else if(o>e)i=r-1;else{let s=r;for(;s>t&&this._getDeltaLine(s-1)===e;)s--;let a=r;for(;a<i&&this._getDeltaLine(a+1)===e;)a++;return new z6(this._tokens.subarray(4*s,4*a+4))}}return this._getDeltaLine(t)===e?new z6(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,r){const o=this._tokens,s=this._tokenCount;let a=0,l=!1,u=0;for(let c=0;c<s;c++){const d=4*c,h=o[d],f=o[d+1],g=o[d+2],p=o[d+3];if((h>e||h===e&&g>=t)&&(h<i||h===i&&f<=r))l=!0;else{if(a===0&&(u=h),l){const m=4*a;o[m]=h-u,o[m+1]=f,o[m+2]=g,o[m+3]=p}a++}}return this._tokenCount=a,u}split(e,t,i,r){const o=this._tokens,s=this._tokenCount;let a=[],l=[],u=a,c=0,d=0;for(let h=0;h<s;h++){const f=4*h,g=o[f],p=o[f+1],m=o[f+2],v=o[f+3];if(g>e||g===e&&m>=t){if(g<i||g===i&&p<=r)continue;u!==l&&(u=l,c=0,d=g)}u[c++]=g-d,u[c++]=p,u[c++]=m,u[c++]=v}return[new dT(new Uint32Array(a)),new dT(new Uint32Array(l)),d]}acceptDeleteRange(e,t,i,r,o){const s=this._tokens,a=this._tokenCount,l=r-t;let u=0,c=!1;for(let d=0;d<a;d++){const h=4*d;let f=s[h],g=s[h+1],p=s[h+2];const m=s[h+3];if(f<t||f===t&&p<=i){u++;continue}else if(f===t&&g<i)f===r&&p>o?p-=o-i:p=i;else if(f===t&&g===i)if(f===r&&p>o)p-=o-i;else{c=!0;continue}else if(f<r||f===r&&g<o)if(f===r&&p>o)f===t?(g=i,p=g+(p-o)):(g=0,p=g+(p-o));else{c=!0;continue}else if(f>r){if(l===0&&!c){u=a;break}f-=l}else if(f===r&&g>=o)e&&f===0&&(g+=e,p+=e),f-=l,g-=o-i,p-=o-i;else throw new Error("Not possible!");const v=4*u;s[v]=f,s[v+1]=g,s[v+2]=p,s[v+3]=m,u++}this._tokenCount=u}acceptInsertText(e,t,i,r,o,s){const a=i===0&&r===1&&(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122),l=this._tokens,u=this._tokenCount;for(let c=0;c<u;c++){const d=4*c;let h=l[d],f=l[d+1],g=l[d+2];if(!(h<e||h===e&&g<t)){if(h===e&&g===t)if(a)g+=1;else continue;else if(h===e&&f<t&&t<g)i===0?g+=r:g=t;else{if(h===e&&f===t&&a)continue;if(h===e)if(h+=i,i===0)f+=r,g+=r;else{const p=g-f;f=o+(f-t),g=f+p}else h+=i}l[d]=h,l[d+1]=f,l[d+2]=g}}}}class z6{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class hT{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e&&new ee(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn)}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[r,o,s]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new hT(this.startLineNumber,r),new hT(this.startLineNumber+s,o)]}applyEdit(e,t){const[i,r,o]=Ov(t);this.acceptEdit(e,i,r,o,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,r,o){this._acceptDeleteRange(e),this._acceptInsertText(new ve(e.startLineNumber,e.startColumn),t,i,r,o),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const o=i-t;this.startLineNumber-=o;return}const r=this.tokens.getMaxDeltaLine();if(!(t>=r+1)){if(t<0&&i>=r+1){this.startLineNumber=0,this.tokens.clear();return}if(t<0){const o=-t;this.startLineNumber-=o,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,r,o){if(t===0&&i===0)return;const s=e.lineNumber-this.startLineNumber;if(s<0){this.startLineNumber+=t;return}const a=this.tokens.getMaxDeltaLine();s>=a+1||this.tokens.acceptInsertText(s,e.column-1,t,i,r,o)}}class pxe{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function Eu(n){return n instanceof Uint32Array?n:new Uint32Array(n)}class B${constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const o=t[0].getRange(),s=t[t.length-1].getRange();if(!o||!s)return e;i=e.plusRange(o).plusRange(s)}let r=null;for(let o=0,s=this._pieces.length;o<s;o++){const a=this._pieces[o];if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:o};break}if(a.removeTokens(i),a.isEmpty()){this._pieces.splice(o,1),o--,s--;continue}if(a.endLineNumber<i.startLineNumber)continue;if(a.startLineNumber>i.endLineNumber){r=r||{index:o};continue}const[l,u]=a.split(i);if(l.isEmpty()){r=r||{index:o};continue}u.isEmpty()||(this._pieces.splice(o,1,l,u),o++,s++,r=r||{index:o})}return r=r||{index:this._pieces.length},t.length>0&&(this._pieces=Ob(this._pieces,r.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(i.length===0)return t;const r=B$._findFirstPieceWithLine(i,e),o=i[r].getLineTokens(e);if(!o)return t;const s=t.getCount(),a=o.getCount();let l=0,u=[],c=0,d=0;const h=(f,g)=>{f!==d&&(d=f,u[c++]=f,u[c++]=g)};for(let f=0;f<a;f++){const g=o.getStartCharacter(f),p=o.getEndCharacter(f),m=o.getMetadata(f),v=((m&1?2048:0)|(m&2?4096:0)|(m&4?8192:0)|(m&8?8372224:0)|(m&16?4286578688:0))>>>0,y=~v>>>0;for(;l<s&&t.getEndOffset(l)<=g;)h(t.getEndOffset(l),t.getMetadata(l)),l++;for(l<s&&t.getStartOffset(l)<g&&h(g,t.getMetadata(l));l<s&&t.getEndOffset(l)<p;)h(t.getEndOffset(l),t.getMetadata(l)&y|m&v),l++;if(l<s)h(p,t.getMetadata(l)&y|m&v),t.getEndOffset(l)===p&&l++;else{const _=Math.min(Math.max(0,l-1),s-1);h(p,t.getMetadata(_)&y|m&v)}}for(;l<s;)h(t.getEndOffset(l),t.getMetadata(l)),l++;return new Ir(new Uint32Array(u),t.getLineContent())}static _findFirstPieceWithLine(e,t){let i=0,r=e.length-1;for(;i<r;){let o=i+Math.floor((r-i)/2);if(e[o].endLineNumber<t)i=o+1;else if(e[o].startLineNumber>t)r=o-1;else{for(;o>i&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber;)o--;return o}}return i}acceptEdit(e,t,i,r,o){for(const s of this._pieces)s.acceptEdit(e,t,i,r,o)}}class ss{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let r=null;if(t<this._len&&(r=this._lineTokens[t]),r!==null&&r!==Du)return new Ir(Eu(r),i);let o=new Uint32Array(2);return o[0]=i.length,o[1]=W6(e),new Ir(o,i)}static _massageTokens(e,t,i){const r=i?Eu(i):null;if(t===0){let o=!1;if(r&&r.length>1&&(o=Ys.getLanguageId(r[1])!==e),!o)return Du}if(!r||r.length===0){const o=new Uint32Array(2);return o[0]=t,o[1]=W6(e),o.buffer}return r[r.length-2]=t,r.byteOffset===0&&r.byteLength===r.buffer.byteLength?r.buffer:r}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[];for(let r=0;r<t;r++)i[r]=null;this._lineTokens=Ob(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,r,o){const s=ss._massageTokens(e,i,r);this._ensureLine(t);const a=this._lineTokens[t];return this._lineTokens[t]=s,o?!ss._equals(a,s):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=Eu(e),r=Eu(t);if(i.length!==r.length)return!1;for(let o=0,s=i.length;o<s;o++)if(i[o]!==r[o])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new ve(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=ss._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=ss._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let r=null;i<this._len&&(r=ss._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=ss._append(this._lineTokens[t],r),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const r=e.lineNumber-1;if(!(r>=this._len)){if(t===0){this._lineTokens[r]=ss._insert(this._lineTokens[r],e.column-1,i);return}this._lineTokens[r]=ss._deleteEnding(this._lineTokens[r],e.column-1),this._lineTokens[r]=ss._insert(this._lineTokens[r],e.column-1,i),this._insertLines(e.lineNumber,t)}}static _deleteBeginning(e,t){return e===null||e===Du?e:ss._delete(e,0,t)}static _deleteEnding(e,t){if(e===null||e===Du)return e;const i=Eu(e),r=i[i.length-2];return ss._delete(e,t,r)}static _delete(e,t,i){if(e===null||e===Du||t===i)return e;const r=Eu(e),o=r.length>>>1;if(t===0&&r[r.length-2]===i)return Du;const s=Ir.findIndexInTokensArray(r,t),a=s>0?r[s-1<<1]:0,l=r[s<<1];if(i<l){const f=i-t;for(let g=s;g<o;g++)r[g<<1]-=f;return e}let u,c;a!==t?(r[s<<1]=t,u=s+1<<1,c=t):(u=s<<1,c=a);const d=i-t;for(let f=s+1;f<o;f++){const g=r[f<<1]-d;g>c&&(r[u++]=g,r[u++]=r[(f<<1)+1],c=g)}if(u===r.length)return e;let h=new Uint32Array(u);return h.set(r.subarray(0,u),0),h.buffer}static _append(e,t){if(t===Du)return e;if(e===Du)return t;if(e===null)return e;if(t===null)return null;const i=Eu(e),r=Eu(t),o=r.length>>>1;let s=new Uint32Array(i.length+r.length);s.set(i,0);let a=i.length;const l=i[i.length-2];for(let u=0;u<o;u++)s[a++]=r[u<<1]+l,s[a++]=r[(u<<1)+1];return s.buffer}static _insert(e,t,i){if(e===null||e===Du)return e;const r=Eu(e),o=r.length>>>1;let s=Ir.findIndexInTokensArray(r,t);s>0&&r[s-1<<1]===t&&s--;for(let a=s;a<o;a++)r[a<<1]+=i;return e}}class ov extends Pe{constructor(e,t,i,r,o,s,a){super(),this._onDidChangeContent=this._register(new ae),this._BOM=t,this._mightContainNonBasicASCII=!s,this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._pieceTree=new gxe(e,i,a)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const r=this.getPositionAt(e),o=this.getPositionAt(i);return new ee(r.lineNumber,r.column,o.lineNumber,o.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const r=e.startLineNumber,o=e.endLineNumber;for(let s=r;s<=o;s++){const a=this.getLineContent(s),l=s===r?e.startColumn-1:0,u=s===o?e.endColumn-1:a.length;for(let c=l;c<u;c++)ji(a.charCodeAt(c))?(i=i+1,c=c+1):i=i+1}return i+=this._getEndOfLine(t).length*(o-r),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=ps(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=by(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let r=this._mightContainRTL,o=this._mightContainUnusualLineTerminators,s=this._mightContainNonBasicASCII,a=!0,l=[];for(let p=0;p<e.length;p++){let m=e[p];a&&m._isTracked&&(a=!1);let v=m.range;if(m.text){let w=!0;s||(w=!one(m.text),s=w),!r&&w&&(r=r$(m.text)),!o&&w&&(o=ane(m.text))}let y="",_=0,b=0,S=0;if(m.text){let w;[_,b,S,w]=Ov(m.text);const C=this.getEOL();w===0||w===(C===`\r
`?2:1)?y=m.text:y=m.text.replace(/\r\n|\r|\n/g,C)}l[p]={sortIndex:p,identifier:m.identifier||null,range:v,rangeOffset:this.getOffsetAt(v.startLineNumber,v.startColumn),rangeLength:this.getValueLengthInRange(v),text:y,eolCount:_,firstLineLength:b,lastLineLength:S,forceMoveMarkers:!!m.forceMoveMarkers,isAutoWhitespaceEdit:m.isAutoWhitespaceEdit||!1}}l.sort(ov._sortOpsAscending);let u=!1;for(let p=0,m=l.length-1;p<m;p++){let v=l[p].range.getEndPosition(),y=l[p+1].range.getStartPosition();if(y.isBeforeOrEqual(v)){if(y.isBefore(v))throw new Error("Overlapping ranges are not allowed!");u=!0}}a&&(l=this._reduceOperations(l));let c=i||t?ov._getInverseEditRanges(l):[],d=[];if(t)for(let p=0;p<l.length;p++){let m=l[p],v=c[p];if(m.isAutoWhitespaceEdit&&m.range.isEmpty())for(let y=v.startLineNumber;y<=v.endLineNumber;y++){let _="";y===v.startLineNumber&&(_=this.getLineContent(m.range.startLineNumber),ps(_)!==-1)||d.push({lineNumber:y,oldContent:_})}}let h=null;if(i){let p=0;h=[];for(let m=0;m<l.length;m++){const v=l[m],y=c[m],_=this.getValueInRange(v.range),b=v.rangeOffset+p;p+=v.text.length-_.length,h[m]={sortIndex:v.sortIndex,identifier:v.identifier,range:y,text:_,textChange:new Gi(v.rangeOffset,_,b,v.text)}}u||h.sort((m,v)=>m.sortIndex-v.sortIndex)}this._mightContainRTL=r,this._mightContainUnusualLineTerminators=o,this._mightContainNonBasicASCII=s;const f=this._doApplyEdits(l);let g=null;if(t&&d.length>0){d.sort((p,m)=>m.lineNumber-p.lineNumber),g=[];for(let p=0,m=d.length;p<m;p++){let v=d[p].lineNumber;if(p>0&&d[p-1].lineNumber===v)continue;let y=d[p].oldContent,_=this.getLineContent(v);_.length===0||_===y||ps(_)!==-1||g.push(v)}}return this._onDidChangeContent.fire(),new bSe(h,f,g)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,r=e[e.length-1].range,o=new ee(i.startLineNumber,i.startColumn,r.endLineNumber,r.endColumn);let s=i.startLineNumber,a=i.startColumn;const l=[];for(let f=0,g=e.length;f<g;f++){const p=e[f],m=p.range;t=t||p.forceMoveMarkers,l.push(this.getValueInRange(new ee(s,a,m.startLineNumber,m.startColumn))),p.text.length>0&&l.push(p.text),s=m.endLineNumber,a=m.endColumn}const u=l.join(""),[c,d,h]=Ov(u);return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),text:u,eolCount:c,firstLineLength:d,lastLineLength:h,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(ov._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let r=e[i];const o=r.range.startLineNumber,s=r.range.startColumn,a=r.range.endLineNumber,l=r.range.endColumn;if(o===a&&s===l&&r.text.length===0)continue;r.text?(this._pieceTree.delete(r.rangeOffset,r.rangeLength),this._pieceTree.insert(r.rangeOffset,r.text,!0)):this._pieceTree.delete(r.rangeOffset,r.rangeLength);const u=new ee(o,s,a,l);t.push({range:u,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,r){return this._pieceTree.findMatchesLineByLine(e,t,i,r)}static _getInverseEditRanges(e){let t=[],i=0,r=0,o=null;for(let s=0,a=e.length;s<a;s++){let l=e[s],u,c;o?o.range.endLineNumber===l.range.startLineNumber?(u=i,c=r+(l.range.startColumn-o.range.endColumn)):(u=i+(l.range.startLineNumber-o.range.endLineNumber),c=l.range.startColumn):(u=l.range.startLineNumber,c=l.range.startColumn);let d;if(l.text.length>0){const h=l.eolCount+1;h===1?d=new ee(u,c,u,c+l.firstLineLength):d=new ee(u,c,u+h-1,l.lastLineLength+1)}else d=new ee(u,c,u,c);i=d.endLineNumber,r=d.endColumn,t.push(d),o=l}return t}static _sortOpsAscending(e,t){let i=ee.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=ee.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class mxe{constructor(e,t,i,r,o,s,a,l,u){this._chunks=e,this._bom=t,this._cr=i,this._lf=r,this._crlf=o,this._containsRTL=s,this._containsUnusualLineTerminators=a,this._isBasicASCII=l,this._normalizeEOL=u}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let o=0,s=i.length;o<s;o++){let a=i[o].buffer.replace(/\r\n|\r|\n/g,t),l=Wu(a);i[o]=new Af(a,l)}const r=new ov(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:r,disposable:r}}}class vxe{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&o$(e)&&(this.BOM=Ube,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=dxe(this._tmpLineStarts,e);this.chunks.push(new Af(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=r$(e)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=ane(e))}finish(e=!0){return this._finish(),new mxe(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=Wu(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}class yxe{constructor(){this.changeType=1}}class rl{constructor(e,t,i,r,o){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=r,this.order=o}static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",r=0;for(const o of t)i+=e.substring(r,o.column-1),r=o.column-1,i+=o.options.content;return i+=e.substring(r),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new rl(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new rl(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,r)=>i.lineNumber===r.lineNumber?i.column===r.column?i.order-r.order:i.column-r.column:i.lineNumber-r.lineNumber),t}}class H6{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class _xe{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class bxe{constructor(e,t,i,r){this.changeType=4,this.injectedTexts=r,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class Sxe{constructor(){this.changeType=5}}class lg{constructor(e,t,i,r){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=r,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.versionId,o=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing;return new lg(i,r,o,s)}}class Tie{constructor(e){this.changes=e}}class fT{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=lg.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=fT._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new fT(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),r=t.eol,o=t.versionId,s=e.isUndoing||t.isUndoing,a=e.isRedoing||t.isRedoing,l=e.isFlush||t.isFlush;return{changes:i,eol:r,versionId:o,isUndoing:s,isRedoing:a,isFlush:l}}}class wxe{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len?this._valid[e]:!1}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;let i=[],r=[];for(let o=0;o<t;o++)i[o]=null,r[o]=!1;this._beginState=Ob(this._beginState,e,i),this._valid=Ob(this._valid,e,r),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const r=this.getBeginState(t+1);if(r===null||!i.equals(r)){this._setBeginState(t+1,i),this._invalidateLine(t+1);return}let o=t+1;for(;o<e&&this._isValid(o);)o++;this._invalidLineStartIndex=o}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,o=Math.min(i,t);for(let s=o;s>=0;s--)this._invalidateLine(e.startLineNumber+s-1);this._acceptDeleteRange(e),this._acceptInsertText(new ve(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class Cxe extends Pe{constructor(e){super(),this._isDisposed=!1,this._textModel=e,this._tokenizationStateStore=new wxe,this._tokenizationSupport=null,this._register(gi.onDidChange(t=>{const i=this._textModel.getLanguageIdentifier();t.changedLanguages.indexOf(i.language)!==-1&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeContentFast(t=>{if(t.isFlush){this._resetTokenizationState();return}for(let i=0,r=t.changes.length;i<r;i++){const o=t.changes[i],[s]=Ov(o.text);this._tokenizationStateStore.applyEdits(o.range,s)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=xxe(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&OL(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(e=this._textModel.getLineCount()){const i=new AA,r=yy.create(!1);for(;this._hasLinesToTokenize()&&!(r.elapsed()>1||this._tokenizeOneInvalidLine(i)>=e););this._beginBackgroundTokenization(),this._textModel.setTokens(i.tokens)}tokenizeViewport(e,t){const i=new AA;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new AA;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return e>t?!1:e<t||this._textModel.getLineLength(e)<2048}_hasLinesToTokenize(){return this._tokenizationSupport?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageIdentifier(),r=this._textModel.getLineCount(),o=t-1;for(let s=this._tokenizationStateStore.invalidLineStartIndex;s<=o;s++){const a=this._textModel.getLineContent(s+1),l=this._tokenizationStateStore.getBeginState(s),u=NA(i,this._tokenizationSupport,a,!0,l);e.add(s+1,u.tokens),this._tokenizationStateStore.setEndState(r,s,u.endState),s=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport||i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(e,i);return}let r=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],s=null;for(let u=t-1;r>0&&u>=1;u--){let c=this._textModel.getLineFirstNonWhitespaceColumn(u);if(c!==0&&c<r){if(s=this._tokenizationStateStore.getBeginState(u-1),s)break;o.push(this._textModel.getLineContent(u)),r=c}}s||(s=this._tokenizationSupport.getInitialState());const a=this._textModel.getLanguageIdentifier();let l=s;for(let u=o.length-1;u>=0;u--)l=NA(a,this._tokenizationSupport,o[u],!1,l).endState;for(let u=t;u<=i;u++){let c=this._textModel.getLineContent(u),d=NA(a,this._tokenizationSupport,c,!0,l);e.add(u,d.tokens),this._tokenizationStateStore.setFakeTokens(u-1),l=d.endState}}}function xxe(n){const e=n.getLanguageIdentifier();let t=n.isTooLargeForTokenization()?null:gi.get(e.language),i=null;if(t)try{i=t.getInitialState()}catch(r){Rn(r),t=null}return[t,i]}function NA(n,e,t,i,r){let o=null;if(e)try{o=e.tokenize2(t,i,r.clone(),0)}catch(s){Rn(s)}return o||(o=qSe(n.id,t,r,0)),Ir.convertToEndOffset(o.tokens,t.length),o}function qd(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}class Xt{constructor(e,t,i,r=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,t))|0,this.b=Math.min(255,Math.max(0,i))|0,this.a=qd(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class Oa{constructor(e,t,i,r){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=qd(Math.max(Math.min(1,t),0),3),this.l=qd(Math.max(Math.min(1,i),0),3),this.a=qd(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,o=e.a,s=Math.max(t,i,r),a=Math.min(t,i,r);let l=0,u=0;const c=(a+s)/2,d=s-a;if(d>0){switch(u=Math.min(c<=.5?d/(2*c):d/(2-2*c),1),s){case t:l=(i-r)/d+(i<r?6:0);break;case i:l=(r-t)/d+2;break;case r:l=(t-i)/d+4;break}l*=60,l=Math.round(l)}return new Oa(l,u,c,o)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:r,a:o}=e;let s,a,l;if(i===0)s=a=l=r;else{const u=r<.5?r*(1+i):r+i-r*i,c=2*r-u;s=Oa._hue2rgb(c,u,t+1/3),a=Oa._hue2rgb(c,u,t),l=Oa._hue2rgb(c,u,t-1/3)}return new Xt(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}}class Nm{constructor(e,t,i,r){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,e),0)|0,this.s=qd(Math.max(Math.min(1,t),0),3),this.v=qd(Math.max(Math.min(1,i),0),3),this.a=qd(Math.max(Math.min(1,r),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,r=e.b/255,o=Math.max(t,i,r),s=Math.min(t,i,r),a=o-s,l=o===0?0:a/o;let u;return a===0?u=0:o===t?u=((i-r)/a%6+6)%6:o===i?u=(r-t)/a+2:u=(t-i)/a+4,new Nm(Math.round(u*60),l,o,e.a)}static toRGBA(e){const{h:t,s:i,v:r,a:o}=e,s=r*i,a=s*(1-Math.abs(t/60%2-1)),l=r-s;let[u,c,d]=[0,0,0];return t<60?(u=s,c=a):t<120?(u=a,c=s):t<180?(c=s,d=a):t<240?(c=a,d=s):t<300?(u=a,d=s):t<=360&&(u=s,d=a),u=Math.round((u+l)*255),c=Math.round((c+l)*255),d=Math.round((d+l)*255),new Xt(u,c,d,o)}}class _e{constructor(e){if(e)if(e instanceof Xt)this.rgba=e;else if(e instanceof Oa)this._hsla=e,this.rgba=Oa.toRGBA(e);else if(e instanceof Nm)this._hsva=e,this.rgba=Nm.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(e){return _e.Format.CSS.parseHex(e)||_e.red}get hsla(){return this._hsla?this._hsla:Oa.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:Nm.fromRGBA(this.rgba)}equals(e){return!!e&&Xt.equals(this.rgba,e.rgba)&&Oa.equals(this.hsla,e.hsla)&&Nm.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=_e._relativeLuminanceForComponent(this.rgba.r),t=_e._relativeLuminanceForComponent(this.rgba.g),i=_e._relativeLuminanceForComponent(this.rgba.b),r=.2126*e+.7152*t+.0722*i;return qd(r,4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t>i}isDarkerThan(e){const t=this.getRelativeLuminance(),i=e.getRelativeLuminance();return t<i}lighten(e){return new _e(new Oa(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new _e(new Oa(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:r,a:o}=this.rgba;return new _e(new Xt(t,i,r,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new _e(new Xt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+_e.Format.CSS.format(this)}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(o-r)/o,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const r=e.getRelativeLuminance(),o=t.getRelativeLuminance();return i=i*(r-o)/r,e.darken(i)}}_e.white=new _e(new Xt(255,255,255,1));_e.black=new _e(new Xt(0,0,0,1));_e.red=new _e(new Xt(255,0,0,1));_e.blue=new _e(new Xt(0,0,255,1));_e.cyan=new _e(new Xt(0,255,255,1));_e.lightgrey=new _e(new Xt(211,211,211,1));_e.transparent=new _e(new Xt(0,0,0,0));(function(n){(function(e){(function(t){function i(f){return f.rgba.a===1?`rgb(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b})`:n.Format.CSS.formatRGBA(f)}t.formatRGB=i;function r(f){return`rgba(${f.rgba.r}, ${f.rgba.g}, ${f.rgba.b}, ${+f.rgba.a.toFixed(2)})`}t.formatRGBA=r;function o(f){return f.hsla.a===1?`hsl(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%)`:n.Format.CSS.formatHSLA(f)}t.formatHSL=o;function s(f){return`hsla(${f.hsla.h}, ${(f.hsla.s*100).toFixed(2)}%, ${(f.hsla.l*100).toFixed(2)}%, ${f.hsla.a.toFixed(2)})`}t.formatHSLA=s;function a(f){const g=f.toString(16);return g.length!==2?"0"+g:g}function l(f){return`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}`}t.formatHex=l;function u(f,g=!1){return g&&f.rgba.a===1?n.Format.CSS.formatHex(f):`#${a(f.rgba.r)}${a(f.rgba.g)}${a(f.rgba.b)}${a(Math.round(f.rgba.a*255))}`}t.formatHexA=u;function c(f){return f.isOpaque()?n.Format.CSS.formatHex(f):n.Format.CSS.formatRGBA(f)}t.format=c;function d(f){const g=f.length;if(g===0||f.charCodeAt(0)!==35)return null;if(g===7){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),v=16*h(f.charCodeAt(5))+h(f.charCodeAt(6));return new n(new Xt(p,m,v,1))}if(g===9){const p=16*h(f.charCodeAt(1))+h(f.charCodeAt(2)),m=16*h(f.charCodeAt(3))+h(f.charCodeAt(4)),v=16*h(f.charCodeAt(5))+h(f.charCodeAt(6)),y=16*h(f.charCodeAt(7))+h(f.charCodeAt(8));return new n(new Xt(p,m,v,y/255))}if(g===4){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),v=h(f.charCodeAt(3));return new n(new Xt(16*p+p,16*m+m,16*v+v))}if(g===5){const p=h(f.charCodeAt(1)),m=h(f.charCodeAt(2)),v=h(f.charCodeAt(3)),y=h(f.charCodeAt(4));return new n(new Xt(16*p+p,16*m+m,16*v+v,(16*y+y)/255))}return null}t.parseHex=d;function h(f){switch(f){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(e.CSS||(e.CSS={}))})(n.Format||(n.Format={}))})(_e||(_e={}));function Lxe(){return new vxe}function Txe(n){const e=Lxe();return e.acceptChunk(n),e.finish()}function U6(n,e){return(typeof n=="string"?Txe(n):n).create(e)}let m1=0;const Ixe=999,Dxe=1e4;class Exe{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;do{let r=this._source.read();if(r===null)return this._eos=!0,t===0?null:e.join("");if(r.length>0&&(e[t++]=r,i+=r.length),i>=64*1024)return e.join("")}while(!0)}}const o0=()=>{throw new Error("Invalid change accessor")};class Ju{constructor(){this._searchCanceledBrand=void 0}}Ju.INSTANCE=new Ju;function v1(n){return n instanceof Ju?null:n}class Yr extends Pe{constructor(e,t,i,r=null,o){super(),this._onWillDispose=this._register(new ae),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new kxe(c=>this.handleBeforeFireDecorationsChangedEvent(c))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new ae),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ae),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ae),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new ae),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ae),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeContentOrInjectedText=this._register(new ae),this.onDidChangeContentOrInjectedText=this._onDidChangeContentOrInjectedText.event,this._eventEmitter=this._register(new Pxe),this._register(this._eventEmitter.fastEvent(c=>{this._onDidChangeContentOrInjectedText.fire(c.rawContentChangedEvent)})),m1++,this.id="$model"+m1,this.isForSimpleWidget=t.isForSimpleWidget,typeof r>"u"||r===null?this._associatedResource=Nt.parse("inmemory://model/"+m1):this._associatedResource=r,this._undoRedoService=o,this._attachedEditorCount=0;const{textBuffer:s,disposable:a}=U6(e,t.defaultEOL);this._buffer=s,this._bufferDisposable=a,this._options=Yr.resolveOptions(this._buffer,t);const l=this._buffer.getLineCount(),u=this._buffer.getValueLengthInRange(new ee(1,1,l,this._buffer.getLineLength(l)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=u>Yr.LARGE_FILE_SIZE_THRESHOLD||l>Yr.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=u>Yr.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=i||XL,this._languageRegistryListener=Dn.onDidChange(c=>{c.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=lne(m1),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new G6,this._commandManager=new N$(this,o),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new ss,this._tokens2=new B$,this._tokenization=new Cxe(this)}static resolveOptions(e,t){if(t.detectIndentation){const i=k6(e,t.tabSize,t.insertSpaces);return new _x({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new _x({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this._isDisposing=!1;const e=new ov([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||this._eventEmitter.fire(new fT(e,t))}setValue(e){if(this._assertNotDisposed(),e===null)return;const{textBuffer:t,disposable:i}=U6(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,r,o,s,a){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:r}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:s,isFlush:a}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new G6,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new lg([new yxe],this._versionId,!1,!1),this._createContentChanged2(new ee(1,1,o,s),0,r,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),r=this.getValueLengthInRange(i),o=this.getLineCount(),s=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new lg([new Sxe],this._versionId,!1,!1),this._createContentChanged2(new ee(1,1,o,s),0,r,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,r=t.length;i<r;i++){const o=t[i],s=o.range,a=o.cachedAbsoluteStart-o.start,l=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),u=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);o.cachedAbsoluteStart=l,o.cachedAbsoluteEnd=u,o.cachedVersionId=e,o.start=l-a,o.end=u-a,uh(o)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let r=1;r<=i;r++){const o=this._buffer.getLineLength(r);o>=Dxe?t+=o:e+=o}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=typeof e.tabSize<"u"?e.tabSize:this._options.tabSize,i=typeof e.indentSize<"u"?e.indentSize:this._options.indentSize,r=typeof e.insertSpaces<"u"?e.insertSpaces:this._options.insertSpaces,o=typeof e.trimAutoWhitespace<"u"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,s=new _x({tabSize:t,indentSize:i,insertSpaces:r,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o});if(this._options.equals(s))return;let a=this._options.createChangeEvent(s);this._options=s,this._onDidChangeOptions.fire(a)}detectIndentation(e,t){this._assertNotDisposed();let i=k6(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let r=0;for(let s=0;s<e.length;s++)e.charAt(s)==="	"?r+=t:r++;let o="";if(!i){let s=Math.floor(r/t);r=r%t;for(let a=0;a<s;a++)o+="	"}for(let s=0;s<r;s++)o+=" ";return o}static normalizeIndentation(e,t,i){let r=ps(e);return r===-1&&(r=e.length),Yr._normalizeIndentationFromWhitespace(e.substring(0,r),t,i)+e.substring(r)}normalizeIndentation(e){return this._assertNotDisposed(),Yr.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(sne.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueInRange(i,e);return t?this._buffer.getBOM()+r:r}createSnapshot(e=!1){return new Exe(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),r=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+r:r}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,r=e.startColumn;let o=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),s=Math.floor(typeof r=="number"&&!isNaN(r)?r:1);if(o<1)o=1,s=1;else if(o>t)o=t,s=this.getLineMaxColumn(o);else if(s<=1)s=1;else{const d=this.getLineMaxColumn(o);s>=d&&(s=d)}const a=e.endLineNumber,l=e.endColumn;let u=Math.floor(typeof a=="number"&&!isNaN(a)?a:1),c=Math.floor(typeof l=="number"&&!isNaN(l)?l:1);if(u<1)u=1,c=1;else if(u>t)u=t,c=this.getLineMaxColumn(u);else if(c<=1)c=1;else{const d=this.getLineMaxColumn(u);c>=d&&(c=d)}return i===o&&r===s&&a===u&&l===c&&e instanceof ee&&!(e instanceof Bt)?e:new ee(o,s,u,c)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const r=this._buffer.getLineCount();if(e>r)return!1;if(t===1)return!0;const o=this.getLineMaxColumn(e);if(t>o)return!1;if(i===1){const s=this._buffer.getLineCharCode(e,t-2);if(ji(s))return!1}return!0}_validatePosition(e,t,i){const r=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),o=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),s=this._buffer.getLineCount();if(r<1)return new ve(1,1);if(r>s)return new ve(s,this.getLineMaxColumn(s));if(o<=1)return new ve(r,1);const a=this.getLineMaxColumn(r);if(o>=a)return new ve(r,a);if(i===1){const l=this._buffer.getLineCharCode(r,o-2);if(ji(l))return new ve(r,o-1)}return new ve(r,o)}validatePosition(e){return this._assertNotDisposed(),e instanceof ve&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn;if(!this._isValidPosition(i,r,0)||!this._isValidPosition(o,s,0))return!1;if(t===1){const a=r>1?this._buffer.getLineCharCode(i,r-2):0,l=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,u=ji(a),c=ji(l);return!u&&!c}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof ee&&!(e instanceof Bt)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),r=this._validatePosition(e.endLineNumber,e.endColumn,0),o=i.lineNumber,s=i.column,a=r.lineNumber,l=r.column;{const u=s>1?this._buffer.getLineCharCode(o,s-2):0,c=l>1&&l<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,l-2):0,d=ji(u),h=ji(c);return!d&&!h?new ee(o,s,a,l):o===a&&s===l?new ee(o,s-1,a,l-1):d&&h?new ee(o,s-1,a,l+1):d?new ee(o,s-1,a,l):new ee(o,s,a,l+1)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new ee(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,r){return this._buffer.findMatchesLineByLine(e,t,i,r)}findMatches(e,t,i,r,o,s,a=Ixe){this._assertNotDisposed();let l=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(d=>ee.isIRange(d))&&(l=t.map(d=>this.validateRange(d)))),l===null&&(l=[this.getFullModelRange()]),l=l.sort((d,h)=>d.startLineNumber-h.startLineNumber||d.startColumn-h.startColumn);const u=[];u.push(l.reduce((d,h)=>ee.areIntersecting(d,h)?d.plusRange(h):(u.push(d),h)));let c;if(!i&&e.indexOf(`
`)<0){const h=new gf(e,i,r,o).parseSearchRequest();if(!h)return[];c=f=>this.findMatchesLineByLine(f,h,s,a)}else c=d=>p1.findMatches(this,new gf(e,i,r,o),d,s,a);return u.map(c).reduce((d,h)=>d.concat(h),[])}findNextMatch(e,t,i,r,o,s){this._assertNotDisposed();const a=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const u=new gf(e,i,r,o).parseSearchRequest();if(!u)return null;const c=this.getLineCount();let d=new ee(a.lineNumber,a.column,c,this.getLineMaxColumn(c)),h=this.findMatchesLineByLine(d,u,s,1);return p1.findNextMatch(this,new gf(e,i,r,o),a,s),h.length>0||(d=new ee(1,1,a.lineNumber,this.getLineMaxColumn(a.lineNumber)),h=this.findMatchesLineByLine(d,u,s,1),h.length>0)?h[0]:null}return p1.findNextMatch(this,new gf(e,i,r,o),a,s)}findPreviousMatch(e,t,i,r,o,s){this._assertNotDisposed();const a=this.validatePosition(t);return p1.findPreviousMatch(this,new gf(e,i,r,o),a,s)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof cA?e:new cA(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let r=t.map(s=>({range:this.validateRange(s.range),text:s.text})),o=!0;if(e)for(let s=0,a=e.length;s<a;s++){let l=e[s],u=!1;for(let c=0,d=r.length;c<d;c++){let h=r[c].range,f=h.startLineNumber>l.endLineNumber,g=l.startLineNumber>h.endLineNumber;if(!f&&!g){u=!0;break}}if(!u){o=!1;break}}if(o)for(let s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){let l=this._trimAutoWhitespaceLines[s],u=this.getLineMaxColumn(l),c=!0;for(let d=0,h=r.length;d<h;d++){let f=r[d].range,g=r[d].text;if(!(l<f.startLineNumber||l>f.endLineNumber)&&!(l===f.startLineNumber&&f.startColumn===u&&f.isEmpty()&&g&&g.length>0&&g.charAt(0)===`
`)&&!(l===f.startLineNumber&&f.startColumn===1&&f.isEmpty()&&g&&g.length>0&&g.charAt(g.length-1)===`
`)){c=!1;break}}if(c){const d=new ee(l,1,l,u);t.push(new cA(null,d,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,r){const o=e.map(s=>{const a=this.getPositionAt(s.newPosition),l=this.getPositionAt(s.newEnd);return{range:new ee(a.lineNumber,a.column,l.lineNumber,l.column),text:s.oldText}});this._applyUndoRedoEdits(o,t,!0,!1,i,r)}_applyRedo(e,t,i,r){const o=e.map(s=>{const a=this.getPositionAt(s.oldPosition),l=this.getPositionAt(s.oldEnd);return{range:new ee(a.lineNumber,a.column,l.lineNumber,l.column),text:s.newText}});this._applyUndoRedoEdits(o,t,!1,!0,i,r)}_applyUndoRedoEdits(e,t,i,r,o,s){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=r,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(o)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(s),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),o=this._buffer.getLineCount(),s=r.changes;if(this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers,s.length!==0){for(let u=0,c=s.length;u<c;u++){const d=s[u],[h,f,g]=Ov(d.text);this._tokens.acceptEdit(d.range,h,f),this._tokens2.acceptEdit(d.range,h,f,g,d.text.length>0?d.text.charCodeAt(0):0),this._decorationsTree.acceptReplace(d.rangeOffset,d.rangeLength,d.text.length,d.forceMoveMarkers)}let a=[];this._increaseVersionId();let l=i;for(let u=0,c=s.length;u<c;u++){const d=s[u],[h]=Ov(d.text);this._onDidChangeDecorations.fire();const f=d.range.startLineNumber,g=d.range.endLineNumber,p=g-f,m=h,v=Math.min(p,m),y=m-p,_=o-l-y+f,b=_,S=_+m,w=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new ve(b,1)),this.getOffsetAt(new ve(S,this.getLineMaxColumn(S))),0),C=rl.fromDecorations(w),x=new i6(C);for(let L=v;L>=0;L--){const T=f+L,I=_+L;x.takeFromEndWhile(M=>M.lineNumber>I);const D=x.takeFromEndWhile(M=>M.lineNumber===I);a.push(new H6(T,this.getLineContent(I),D))}if(v<p){const L=f+v;a.push(new _xe(L+1,g))}if(v<m){const L=new i6(C),T=f+v,I=m-v,D=o-l-I+T+1;let M=[],P=[];for(let k=0;k<I;k++){let O=D+k;P[k]=this.getLineContent(O),L.takeWhile(F=>F.lineNumber<O),M[k]=L.takeWhile(F=>F.lineNumber===O)}a.push(new bxe(T+1,f+m,P,M))}l+=y}this._emitContentChangedEvent(new lg(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return r.reverseEdits===null?void 0:r.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=[...e].map(r=>new H6(r,this.getLineContent(r),this._getInjectedTextInLine(r)));this._onDidChangeContentOrInjectedText.fire(new Tie(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(o,s)=>this._deltaDecorationsImpl(e,[],[{range:o,options:s}])[0],changeDecoration:(o,s)=>{this._changeDecorationImpl(o,s)},changeDecorationOptions:(o,s)=>{this._changeDecorationOptionsImpl(o,j6(s))},removeDecoration:o=>{this._deltaDecorationsImpl(e,[o],[])},deltaDecorations:(o,s)=>o.length===0&&s.length===0?[]:this._deltaDecorationsImpl(e,o,s)},r=null;try{r=t(i)}catch(o){Rn(o)}return i.addDecoration=o0,i.changeDecoration=o0,i.changeDecorationOptions=o0,i.removeDecoration=o0,i.deltaDecorations=o0,r}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const r=e?this._decorations[e]:null;if(!r)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:K6[i]}])[0]:null;if(!t)return this._decorationsTree.delete(r),delete this._decorations[r.id],null;const o=this._validateRangeRelaxedNoAllocations(t),s=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),a=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(r),r.reset(this.getVersionId(),s,a,o),r.setOptions(K6[i]),this._decorationsTree.insert(r),r.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,r=t.length;i<r;i++){const o=t[i];this._decorationsTree.delete(o),delete this._decorations[o.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,r=!1){let o=this.getLineCount(),s=Math.min(o,Math.max(1,e)),a=Math.min(o,Math.max(1,t)),l=this.getLineMaxColumn(a);return this._getDecorationsInRange(new ee(s,1,a,l),i,r)}getDecorationsInRange(e,t=0,i=!1){let r=this.validateRange(e);return this._getDecorationsInRange(r,t,i)}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),r=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return rl.fromDecorations(r).filter(o=>o.lineNumber===e)}getAllDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!1)}_getDecorationsInRange(e,t,i){const r=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,r,o,t,i)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.endLineNumber)}if(i.options.before){const a=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(a.startLineNumber)}const r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),o,s,r),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(r.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const r=!!(i.options.overviewRuler&&i.options.overviewRuler.color),o=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber)}if(i.options.before||t.before){const s=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}r!==o?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const r=this.getVersionId(),o=t.length;let s=0;const a=i.length;let l=0,u=new Array(a);for(;s<o||l<a;){let c=null;if(s<o){do c=this._decorations[t[s++]];while(!c&&s<o);if(c){if(c.options.after){const d=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.endLineNumber)}if(c.options.before){const d=this._decorationsTree.getNodeRange(this,c);this._onDidChangeDecorations.recordLineAffectedByInjectedText(d.startLineNumber)}this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options)}}if(l<a){if(!c){const m=++this._lastDecorationId,v=`${this._instanceId};${m}`;c=new wie(v,0,0),this._decorations[v]=c}const d=i[l],h=this._validateRangeRelaxedNoAllocations(d.range),f=j6(d.options),g=this._buffer.getOffsetAt(h.startLineNumber,h.startColumn),p=this._buffer.getOffsetAt(h.endLineNumber,h.endColumn);c.ownerId=e,c.reset(r,g,p,h),c.setOptions(f),c.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.endLineNumber),c.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(h.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(f),this._decorationsTree.insert(c),u[l]=c.id,l++}else c&&delete this._decorations[c.id]}return u}setTokens(e){if(e.length===0)return;let t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];let s=0,a=0,l=!1;for(let u=0,c=o.tokens.length;u<c;u++){const d=o.startLineNumber+u;l?(this._tokens.setTokens(this._languageIdentifier.id,d-1,this._buffer.getLineLength(d),o.tokens[u],!1),a=d):this._tokens.setTokens(this._languageIdentifier.id,d-1,this._buffer.getLineLength(d),o.tokens[u],!0)&&(l=!0,s=d,a=d)}l&&t.push({fromLineNumber:s,toLineNumber:a})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasCompleteSemanticTokens(){return this._tokens2.isComplete()}hasSomeSemanticTokens(){return!this._tokens2.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(e){if(this._languageIdentifier.id===e.id)return;let t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new ve(e,t)),r=this.getLineTokens(i.lineNumber);return r.getLanguageId(r.findTokenIndexAtOffset(i.column-1))}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),r=this._getLineTokens(t.lineNumber),o=r.findTokenIndexAtOffset(t.column-1),[s,a]=Yr._findLanguageBoundaries(r,o),l=RL(t.column,Dn.getWordDefinition(r.getLanguageId(o)),i.substring(s,a),s);if(l&&l.startColumn<=e.column&&e.column<=l.endColumn)return l;if(o>0&&s===t.column-1){const[u,c]=Yr._findLanguageBoundaries(r,o-1),d=RL(t.column,Dn.getWordDefinition(r.getLanguageId(o-1)),i.substring(u,c),u);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn)return d}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let r=0;for(let s=t;s>=0&&e.getLanguageId(s)===i;s--)r=e.getStartOffset(s);let o=e.getLineContent().length;for(let s=t,a=e.getCount();s<a&&e.getLanguageId(s)===i;s++)o=e.getEndOffset(s);return[r,o]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),r=this.validatePosition(t),o=this._getLineTokens(r.lineNumber),s=o.getLanguageId(o.findTokenIndexAtOffset(r.column-1)),a=Dn.getBracketsSupport(s);if(!a)return null;let l=a.textIsBracket[i];return l?v1(this._findMatchingBracketUp(l,r,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_establishBracketSearchOffsets(e,t,i,r){const o=t.getCount(),s=t.getLanguageId(r);let a=Math.max(0,e.column-1-i.maxBracketLength);for(let u=r-1;u>=0;u--){const c=t.getEndOffset(u);if(c<=a)break;if(Ll(t.getStandardTokenType(u))||t.getLanguageId(u)!==s){a=c;break}}let l=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let u=r+1;u<o;u++){const c=t.getStartOffset(u);if(c>=l)break;if(Ll(t.getStandardTokenType(u))||t.getLanguageId(u)!==s){l=c;break}}return{searchStartOffset:a,searchEndOffset:l}}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),r=this._buffer.getLineContent(t),o=i.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const s=Dn.getBracketsSupport(i.getLanguageId(o));if(s&&!Ll(i.getStandardTokenType(o))){let{searchStartOffset:a,searchEndOffset:l}=this._establishBracketSearchOffsets(e,i,s,o),u=null;for(;;){const c=$s.findNextBracketInRange(s.forwardRegex,t,r,a,l);if(!c)break;if(c.startColumn<=e.column&&e.column<=c.endColumn){const d=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),h=this._matchFoundBracket(c,s.textIsBracket[d],s.textIsOpenBracket[d],null);if(h){if(h instanceof Ju)return null;u=h}}a=c.endColumn-1}if(u)return u}if(o>0&&i.getStartOffset(o)===e.column-1){const a=o-1,l=Dn.getBracketsSupport(i.getLanguageId(a));if(l&&!Ll(i.getStandardTokenType(a))){let{searchStartOffset:u,searchEndOffset:c}=this._establishBracketSearchOffsets(e,i,l,a);const d=$s.findPrevBracketInRange(l.reversedRegex,t,r,u,c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){const h=r.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,l.textIsBracket[h],l.textIsOpenBracket[h],null);if(f)return f instanceof Ju?null:f}}}return null}_matchFoundBracket(e,t,i,r){if(!t)return null;const o=i?this._findMatchingBracketDown(t,e.getEndPosition(),r):this._findMatchingBracketUp(t,e.getStartPosition(),r);return o?o instanceof Ju?o:[e,o]:null}_findMatchingBracketUp(e,t,i){const r=e.languageIdentifier.id,o=e.reversedRegex;let s=-1,a=0;const l=(u,c,d,h)=>{for(;;){if(i&&++a%100===0&&!i())return Ju.INSTANCE;const f=$s.findPrevBracketInRange(o,u,c,d,h);if(!f)break;const g=c.substring(f.startColumn-1,f.endColumn-1).toLowerCase();if(e.isOpen(g)?s++:e.isClose(g)&&s--,s===0)return f;h=f.startColumn-1}return null};for(let u=t.lineNumber;u>=1;u--){const c=this._getLineTokens(u),d=c.getCount(),h=this._buffer.getLineContent(u);let f=d-1,g=h.length,p=h.length;u===t.lineNumber&&(f=c.findTokenIndexAtOffset(t.column-1),g=t.column-1,p=t.column-1);let m=!0;for(;f>=0;f--){const v=c.getLanguageId(f)===r&&!Ll(c.getStandardTokenType(f));if(v)m?g=c.getStartOffset(f):(g=c.getStartOffset(f),p=c.getEndOffset(f));else if(m&&g!==p){const y=l(u,h,g,p);if(y)return y}m=v}if(m&&g!==p){const v=l(u,h,g,p);if(v)return v}}return null}_findMatchingBracketDown(e,t,i){const r=e.languageIdentifier.id,o=e.forwardRegex;let s=1,a=0;const l=(c,d,h,f)=>{for(;;){if(i&&++a%100===0&&!i())return Ju.INSTANCE;const g=$s.findNextBracketInRange(o,c,d,h,f);if(!g)break;const p=d.substring(g.startColumn-1,g.endColumn-1).toLowerCase();if(e.isOpen(p)?s++:e.isClose(p)&&s--,s===0)return g;h=g.endColumn-1}return null},u=this.getLineCount();for(let c=t.lineNumber;c<=u;c++){const d=this._getLineTokens(c),h=d.getCount(),f=this._buffer.getLineContent(c);let g=0,p=0,m=0;c===t.lineNumber&&(g=d.findTokenIndexAtOffset(t.column-1),p=t.column-1,m=t.column-1);let v=!0;for(;g<h;g++){const y=d.getLanguageId(g)===r&&!Ll(d.getStandardTokenType(g));if(y)v||(p=d.getStartOffset(g)),m=d.getEndOffset(g);else if(v&&p!==m){const _=l(c,f,p,m);if(_)return _}v=y}if(v&&p!==m){const y=l(c,f,p,m);if(y)return y}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=-1,r=null;for(let o=t.lineNumber;o>=1;o--){const s=this._getLineTokens(o),a=s.getCount(),l=this._buffer.getLineContent(o);let u=a-1,c=l.length,d=l.length;if(o===t.lineNumber){u=s.findTokenIndexAtOffset(t.column-1),c=t.column-1,d=t.column-1;const f=s.getLanguageId(u);i!==f&&(i=f,r=Dn.getBracketsSupport(i))}let h=!0;for(;u>=0;u--){const f=s.getLanguageId(u);if(i!==f){if(r&&h&&c!==d){const p=$s.findPrevBracketInRange(r.reversedRegex,o,l,c,d);if(p)return this._toFoundBracket(r,p);h=!1}i=f,r=Dn.getBracketsSupport(i)}const g=!!r&&!Ll(s.getStandardTokenType(u));if(g)h?c=s.getStartOffset(u):(c=s.getStartOffset(u),d=s.getEndOffset(u));else if(r&&h&&c!==d){const p=$s.findPrevBracketInRange(r.reversedRegex,o,l,c,d);if(p)return this._toFoundBracket(r,p)}h=g}if(r&&h&&c!==d){const f=$s.findPrevBracketInRange(r.reversedRegex,o,l,c,d);if(f)return this._toFoundBracket(r,f)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let r=-1,o=null;for(let s=t.lineNumber;s<=i;s++){const a=this._getLineTokens(s),l=a.getCount(),u=this._buffer.getLineContent(s);let c=0,d=0,h=0;if(s===t.lineNumber){c=a.findTokenIndexAtOffset(t.column-1),d=t.column-1,h=t.column-1;const g=a.getLanguageId(c);r!==g&&(r=g,o=Dn.getBracketsSupport(r))}let f=!0;for(;c<l;c++){const g=a.getLanguageId(c);if(r!==g){if(o&&f&&d!==h){const m=$s.findNextBracketInRange(o.forwardRegex,s,u,d,h);if(m)return this._toFoundBracket(o,m);f=!1}r=g,o=Dn.getBracketsSupport(r)}const p=!!o&&!Ll(a.getStandardTokenType(c));if(p)f||(d=a.getStartOffset(c)),h=a.getEndOffset(c);else if(o&&f&&d!==h){const m=$s.findNextBracketInRange(o.forwardRegex,s,u,d,h);if(m)return this._toFoundBracket(o,m)}f=p}if(o&&f&&d!==h){const g=$s.findNextBracketInRange(o.forwardRegex,s,u,d,h);if(g)return this._toFoundBracket(o,g)}}return null}findEnclosingBrackets(e,t){let i;if(typeof t>"u")i=null;else{const f=Date.now();i=()=>Date.now()-f<=t}const r=this.validatePosition(e),o=this.getLineCount(),s=new Map;let a=[];const l=(f,g)=>{if(!s.has(f)){let p=[];for(let m=0,v=g?g.brackets.length:0;m<v;m++)p[m]=0;s.set(f,p)}a=s.get(f)};let u=0;const c=(f,g,p,m,v)=>{for(;;){if(i&&++u%100===0&&!i())return Ju.INSTANCE;const y=$s.findNextBracketInRange(f.forwardRegex,g,p,m,v);if(!y)break;const _=p.substring(y.startColumn-1,y.endColumn-1).toLowerCase(),b=f.textIsBracket[_];if(b&&(b.isOpen(_)?a[b.index]++:b.isClose(_)&&a[b.index]--,a[b.index]===-1))return this._matchFoundBracket(y,b,!1,i);m=y.endColumn-1}return null};let d=-1,h=null;for(let f=r.lineNumber;f<=o;f++){const g=this._getLineTokens(f),p=g.getCount(),m=this._buffer.getLineContent(f);let v=0,y=0,_=0;if(f===r.lineNumber){v=g.findTokenIndexAtOffset(r.column-1),y=r.column-1,_=r.column-1;const S=g.getLanguageId(v);d!==S&&(d=S,h=Dn.getBracketsSupport(d),l(d,h))}let b=!0;for(;v<p;v++){const S=g.getLanguageId(v);if(d!==S){if(h&&b&&y!==_){const C=c(h,f,m,y,_);if(C)return v1(C);b=!1}d=S,h=Dn.getBracketsSupport(d),l(d,h)}const w=!!h&&!Ll(g.getStandardTokenType(v));if(w)b||(y=g.getStartOffset(v)),_=g.getEndOffset(v);else if(h&&b&&y!==_){const C=c(h,f,m,y,_);if(C)return v1(C)}b=w}if(h&&b&&y!==_){const S=c(h,f,m,y,_);if(S)return v1(S)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let r=e.textIsBracket[i];return r?{range:t,open:r.open,close:r.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,r=0,o=e.length;for(;r<o;){let s=e.charCodeAt(r);if(s===32)i++;else if(s===9)i=i-i%t+t;else break;r++}return r===o?-1:i}_computeIndentLevel(e){return Yr.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const r=this.getLineCount();if(e<1||e>r)throw new Error("Illegal value for lineNumber");const o=Dn.getFoldingRules(this._languageIdentifier.id),s=!!(o&&o.offSide);let a=-2,l=-1,u=-2,c=-1;const d=C=>{if(a!==-1&&(a===-2||a>C-1)){a=-1,l=-1;for(let x=C-2;x>=0;x--){let L=this._computeIndentLevel(x);if(L>=0){a=x,l=L;break}}}if(u===-2){u=-1,c=-1;for(let x=C;x<r;x++){let L=this._computeIndentLevel(x);if(L>=0){u=x,c=L;break}}}};let h=-2,f=-1,g=-2,p=-1;const m=C=>{if(h===-2){h=-1,f=-1;for(let x=C-2;x>=0;x--){let L=this._computeIndentLevel(x);if(L>=0){h=x,f=L;break}}}if(g!==-1&&(g===-2||g<C-1)){g=-1,p=-1;for(let x=C;x<r;x++){let L=this._computeIndentLevel(x);if(L>=0){g=x,p=L;break}}}};let v=0,y=!0,_=0,b=!0,S=0,w=0;for(let C=0;y||b;C++){const x=e-C,L=e+C;C>1&&(x<1||x<t)&&(y=!1),C>1&&(L>r||L>i)&&(b=!1),C>5e4&&(y=!1,b=!1);let T=-1;if(y){const D=this._computeIndentLevel(x-1);D>=0?(u=x-1,c=D,T=Math.ceil(D/this._options.indentSize)):(d(x),T=this._getIndentLevelForWhitespaceLine(s,l,c))}let I=-1;if(b){const D=this._computeIndentLevel(L-1);D>=0?(h=L-1,f=D,I=Math.ceil(D/this._options.indentSize)):(m(L),I=this._getIndentLevelForWhitespaceLine(s,f,p))}if(C===0){w=T;continue}if(C===1){if(L<=r&&I>=0&&w+1===I){y=!1,v=L,_=L,S=I;continue}if(x>=1&&T>=0&&T-1===w){b=!1,v=x,_=x,S=T;continue}if(v=e,_=e,S=w,S===0)return{startLineNumber:v,endLineNumber:_,indent:S}}y&&(T>=S?v=x:y=!1),b&&(I>=S?_=L:b=!1)}return{startLineNumber:v,endLineNumber:_,indent:S}}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const r=Dn.getFoldingRules(this._languageIdentifier.id),o=!!(r&&r.offSide);let s=new Array(t-e+1),a=-2,l=-1,u=-2,c=-1;for(let d=e;d<=t;d++){let h=d-e;const f=this._computeIndentLevel(d-1);if(f>=0){a=d-1,l=f,s[h]=Math.ceil(f/this._options.indentSize);continue}if(a===-2){a=-1,l=-1;for(let g=d-2;g>=0;g--){let p=this._computeIndentLevel(g);if(p>=0){a=g,l=p;break}}}if(u!==-1&&(u===-2||u<d-1)){u=-1,c=-1;for(let g=d;g<i;g++){let p=this._computeIndentLevel(g);if(p>=0){u=g,c=p;break}}}s[h]=this._getIndentLevelForWhitespaceLine(o,l,c)}return s}_getIndentLevelForWhitespaceLine(e,t,i){return t===-1||i===-1?0:t<i?1+Math.floor(t/this._options.indentSize):t===i?Math.ceil(i/this._options.indentSize):e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}normalizePosition(e,t){return e}getLineIndentColumn(e){return Mxe(this.getLineContent(e))+1}}Yr.MODEL_SYNC_LIMIT=50*1024*1024;Yr.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024;Yr.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3;Yr.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:_o.tabSize,indentSize:_o.indentSize,insertSpaces:_o.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:_o.trimAutoWhitespace,largeFileOptimizations:_o.largeFileOptimizations};function Mxe(n){let e=0;for(const t of n)if(t===" "||t==="	")e++;else break;return e}function kA(n){return!!(n.options.overviewRuler&&n.options.overviewRuler.color)}function PA(n){return!!n.options.after||!!n.options.before}class G6{constructor(){this._decorationsTree0=new DA,this._decorationsTree1=new DA,this._injectedTextDecorationsTree=new DA}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,r,o){const s=e.getVersionId(),a=this._intervalSearch(t,i,r,o,s);return this._ensureNodesHaveRanges(e,a)}_intervalSearch(e,t,i,r,o){const s=this._decorationsTree0.intervalSearch(e,t,i,r,o),a=this._decorationsTree1.intervalSearch(e,t,i,r,o),l=this._injectedTextDecorationsTree.intervalSearch(e,t,i,r,o);return s.concat(a).concat(l)}getInjectedTextInInterval(e,t,i,r){const o=e.getVersionId(),s=this._injectedTextDecorationsTree.intervalSearch(t,i,r,!1,o);return this._ensureNodesHaveRanges(e,s)}getAllInjectedText(e,t){const i=e.getVersionId(),r=this._injectedTextDecorationsTree.search(t,!1,i);return this._ensureNodesHaveRanges(e,r)}getAll(e,t,i,r){const o=e.getVersionId(),s=this._search(t,i,r,o);return this._ensureNodesHaveRanges(e,s)}_search(e,t,i,r){if(i)return this._decorationsTree1.search(e,t,r);{const o=this._decorationsTree0.search(e,t,r),s=this._decorationsTree1.search(e,t,r),a=this._injectedTextDecorationsTree.search(e,t,r);return o.concat(s).concat(a)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),r=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(r)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){PA(e)?this._injectedTextDecorationsTree.insert(e):kA(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){PA(e)?this._injectedTextDecorationsTree.delete(e):kA(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){PA(e)?this._injectedTextDecorationsTree.resolveNode(e,t):kA(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,r){this._decorationsTree0.acceptReplace(e,t,i,r),this._decorationsTree1.acceptReplace(e,t,i,r),this._injectedTextDecorationsTree.acceptReplace(e,t,i,r)}}function nd(n){return n.replace(/[^a-z0-9\-_]/gi," ")}class Iie{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class Axe extends Iie{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:sh.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class Nxe extends Iie{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?_e.fromHex(e):t.getColor(e.id)}}class Vb{constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1}static from(e){return e instanceof Vb?e:new Vb(e)}}class Zn{constructor(e){this.description=e.description,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?nd(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new Axe(e.overviewRuler):null,this.minimap=e.minimap?new Nxe(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?nd(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?nd(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?nd(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?nd(e.marginClassName):null,this.inlineClassName=e.inlineClassName?nd(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?nd(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?nd(e.afterContentClassName):null,this.after=e.after?Vb.from(e.after):null,this.before=e.before?Vb.from(e.before):null}static register(e){return new Zn(e)}static createDynamic(e){return new Zn(e)}}Zn.EMPTY=Zn.register({description:"empty"});const K6=[Zn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Zn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Zn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Zn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function j6(n){return n instanceof Zn?n:Zn.createDynamic(n)}class kxe extends Pe{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new ae),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const t={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(t)}(e=this._affectedInjectedTextLines)===null||e===void 0||e.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!!(e.minimap&&e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(e.overviewRuler&&e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Pxe extends Pe{constructor(){super(),this._fastEmitter=this._register(new ae),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ae),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}const Oxe=()=>!0,q6=()=>!1,Rxe=n=>n===" "||n==="	";class Ks{constructor(e,t,i){this._cursorMoveConfigurationBrand=void 0,this._languageIdentifier=e;const r=i.options,o=r.get(129);this.readOnly=r.get(79),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.stickyTabStops=r.get(103),this.lineHeight=r.get(57),this.pageSize=Math.max(1,Math.floor(o.height/this.lineHeight)-2),this.useTabStops=r.get(114),this.wordSeparators=r.get(115),this.emptySelectionClipboard=r.get(30),this.copyWithSyntaxHighlighting=r.get(19),this.multiCursorMergeOverlapping=r.get(67),this.multiCursorPaste=r.get(69),this.autoClosingBrackets=r.get(5),this.autoClosingQuotes=r.get(8),this.autoClosingDelete=r.get(6),this.autoClosingOvertype=r.get(7),this.autoSurround=r.get(11),this.autoIndent=r.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:Ks._getShouldAutoClose(e,this.autoClosingQuotes),bracket:Ks._getShouldAutoClose(e,this.autoClosingBrackets)},this.autoClosingPairs=Dn.getAutoClosingPairs(e.id);let s=Ks._getSurroundingPairs(e);if(s)for(const a of s)this.surroundingPairs[a.open]=a.close}static shouldRecreate(e){return e.hasChanged(129)||e.hasChanged(115)||e.hasChanged(30)||e.hasChanged(67)||e.hasChanged(69)||e.hasChanged(5)||e.hasChanged(8)||e.hasChanged(6)||e.hasChanged(7)||e.hasChanged(11)||e.hasChanged(114)||e.hasChanged(57)||e.hasChanged(79)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=Ks._getElectricCharacters(this._languageIdentifier);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return Yr.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return Dn.getElectricCharacters(e.id)}catch(t){return Rn(t),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return Rxe;case"languageDefined":return Ks._getLanguageDefinedShouldAutoClose(e);case"always":return Oxe;case"never":return q6}}static _getLanguageDefinedShouldAutoClose(e){try{const t=Dn.getAutoCloseBeforeSet(e.id);return i=>t.indexOf(i)!==-1}catch(t){return Rn(t),q6}}static _getSurroundingPairs(e){try{return Dn.getSurroundingPairs(e.id)}catch(t){return Rn(t),null}}}class Ri{constructor(e,t,i,r){this._singleCursorStateBrand=void 0,this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=r,this.selection=Ri._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,r){return e?new Ri(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new ve(t,i),r):new Ri(new ee(t,i,t,i),r,new ve(t,i),r)}static _computeSelection(e,t){let i,r,o,s;return e.isEmpty()?(i=e.startLineNumber,r=e.startColumn,o=t.lineNumber,s=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,r=e.endColumn,o=t.lineNumber,s=t.column):(i=e.startLineNumber,r=e.startColumn,o=t.lineNumber,s=t.column),new Bt(i,r,o,s)}}class Y6{constructor(e,t,i,r){this._cursorContextBrand=void 0,this.model=e,this.viewModel=t,this.coordinatesConverter=i,this.cursorConfig=r}}class Bxe{constructor(e){this.modelState=e,this.viewState=null}}class Fxe{constructor(e){this.modelState=null,this.viewState=e}}class yt{constructor(e,t){this._cursorStateBrand=void 0,this.modelState=e,this.viewState=t}static fromModelState(e){return new Bxe(e)}static fromViewState(e){return new Fxe(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,r=e.positionLineNumber,o=e.positionColumn,s=new Ri(new ee(t,i,t,i),0,new ve(r,o),0);return yt.fromModelState(s)}static fromModelSelections(e){let t=[];for(let i=0,r=e.length;i<r;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class ho{constructor(e,t,i){this._editOperationResultBrand=void 0,this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}class cn{static visibleColumnFromColumn(e,t,i){const r=e.length,o=t-1<r?t-1:r;let s=0,a=0;for(;a<o;){const l=Xu(e,o,a);if(a+=l>=65536?2:1,l===9)s=cn.nextRenderTabStop(s,i);else{let u=Bp(l);for(;a<o;){const c=Xu(e,o,a),d=Bp(c);if(D_(u,d))break;a+=c>=65536?2:1,u=d}Za(l)||I_(l)?s=s+2:s=s+1}}return s}static visibleColumnsByColumns(e,t){const i=e.length;let r=new Array;r.push(-1);let o=0,s=0;for(;s<i;){const a=Xu(e,i,s);if(s+=a>=65536?2:1,r.push(o),a>=65536&&r.push(o),a===9)o=cn.nextRenderTabStop(o,t);else{let l=Bp(a);for(;s<i;){const u=Xu(e,i,s),c=Bp(u);if(D_(l,c))break;s+=u>=65536?2:1,r.push(o),a>=65536&&r.push(o),l=c}Za(a)||I_(a)?o=o+2:o=o+1}}return r.push(o),r}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const r=e.length;let o=0,s=1,a=0;for(;a<r;){const l=Xu(e,r,a);a+=l>=65536?2:1;let u;if(l===9)u=cn.nextRenderTabStop(o,i);else{let d=Bp(l);for(;a<r;){const h=Xu(e,r,a),f=Bp(h);if(D_(d,f))break;a+=h>=65536?2:1,d=f}Za(l)||I_(l)?u=o+2:u=o+1}const c=a+1;if(u>=t){const d=t-o;return u-t<d?c:s}o=u,s=c}return r+1}static columnFromVisibleColumn2(e,t,i,r){let o=this.columnFromVisibleColumn(t.getLineContent(i),r,e.tabSize),s=t.getLineMinColumn(i);if(o<s)return s;let a=t.getLineMaxColumn(i);return o>a?a:o}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function _m(n){return n==="'"||n==='"'||n==="`"}class Wb{static whitespaceVisibleColumn(e,t,i){const r=e.length;let o=0,s=-1,a=-1;for(let l=0;l<r;l++){if(l===t)return[s,a,o];switch(o%i===0&&(s=l,a=o),e.charCodeAt(l)){case 32:o+=1;break;case 9:o=cn.nextRenderTabStop(o,i);break;default:return[-1,-1,-1]}}return t===r?[s,a,o]:[-1,-1,-1]}static atomicPosition(e,t,i,r){const o=e.length,[s,a,l]=Wb.whitespaceVisibleColumn(e,t,i);if(l===-1)return-1;let u;switch(r){case 0:u=!0;break;case 1:u=!1;break;case 2:if(l%i===0)return t;u=l%i<=i/2;break}if(u){if(s===-1)return-1;let h=a;for(let f=s;f<o;++f){if(h===a+i)return s;switch(e.charCodeAt(f)){case 32:h+=1;break;case 9:h=cn.nextRenderTabStop(h,i);break;default:return-1}}return h===a+i?s:-1}const c=cn.nextRenderTabStop(l,i);let d=l;for(let h=t;h<o;h++){if(d===c)return h;switch(e.charCodeAt(h)){case 32:d+=1;break;case 9:d=cn.nextRenderTabStop(d,i);break;default:return-1}}return d===c?o:-1}}class md{constructor(e=null){this.hitTarget=e,this.type=0}}class AR{constructor(e,t,i){this.position=e,this.spanNode=t,this.injectedText=i,this.type=1}}var Nf;(function(n){function e(t,i,r){const o=t.getPositionFromDOMInfo(i,r);return o?new AR(o,i,null):new md(i)}n.createFromDOMInfo=e})(Nf||(Nf={}));class $xe{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class Na{constructor(e,t,i=0,r=null,o=null,s=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=r,!o&&r&&(o=new ee(r.lineNumber,r.column,r.lineNumber,r.column)),this.range=o,this.detail=s}static _typeToString(e){return e===1?"TEXTAREA":e===2?"GUTTER_GLYPH_MARGIN":e===3?"GUTTER_LINE_NUMBERS":e===4?"GUTTER_LINE_DECORATIONS":e===5?"GUTTER_VIEW_ZONE":e===6?"CONTENT_TEXT":e===7?"CONTENT_EMPTY":e===8?"CONTENT_VIEW_ZONE":e===9?"CONTENT_WIDGET":e===10?"OVERVIEW_RULER":e===11?"SCROLLBAR":e===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return Na.toString(this)}}class As{static isTextArea(e){return e.length===2&&e[0]===3&&e[1]===6}static isChildOfViewLines(e){return e.length>=4&&e[0]===3&&e[3]===7}static isStrictChildOfViewLines(e){return e.length>4&&e[0]===3&&e[3]===7}static isChildOfScrollableElement(e){return e.length>=2&&e[0]===3&&e[1]===5}static isChildOfMinimap(e){return e.length>=2&&e[0]===3&&e[1]===8}static isChildOfContentWidgets(e){return e.length>=4&&e[0]===3&&e[3]===1}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&e[0]===2}static isChildOfOverlayWidgets(e){return e.length>=2&&e[0]===3&&e[1]===4}}class Rv{constructor(e,t,i){this.model=e.model;const r=e.configuration.options;this.layoutInfo=r.get(129),this.viewDomNode=t.viewDomNode,this.lineHeight=r.get(57),this.stickyTabStops=r.get(103),this.typicalHalfwidthCharacterWidth=r.get(41).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return Rv.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){const r=i.verticalOffset+i.height/2,o=e.model.getLineCount();let s=null,a,l=null;return i.afterLineNumber!==o&&(l=new ve(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new ve(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),l===null?a=s:s===null?a=l:t<r?a=s:a=l,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:l,position:a}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const r=this._context.model.getLineCount(),o=this._context.model.getLineMaxColumn(r);return{range:new ee(r,o,r,o),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new ee(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}isInTopPadding(e){return this._context.viewLayout.isInTopPadding(e)}isInBottomPadding(e){return this._context.viewLayout.isInBottomPadding(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return Rv._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Vxe{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,ur._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class F$ extends Vxe{constructor(e,t,i,r){super(e,t,i),this._ctx=e,r?(this.target=r,this.targetPath=ru.collect(r,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,r=null){let o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=cn.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new Na(this.target,e,o,t,i,r)}withTarget(e){return new F$(this._ctx,this.editorPos,this.pos,e)}}const X6={isAfterLines:!0};function OA(n){return{isAfterLines:!1,horizontalDistanceToText:n}}class ur{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=ru.collect(t,this._viewHelper.viewDomNode);return!!(As.isChildOfContentWidgets(i)||As.isChildOfOverflowingContentWidgets(i)||As.isChildOfOverlayWidgets(i))}createMouseTarget(e,t,i,r){const o=new Rv(this._context,this._viewHelper,e),s=new F$(o,t,i,r);try{return ur._createMouseTarget(o,s,!1)}catch{return s.fulfill(0)}}static _createMouseTarget(e,t,i){if(t.target===null){if(i)return t.fulfill(0);const s=ur._doHitTest(e,t);return s.type===1?ur.createMouseTargetFromHitTestPosition(e,t,s.spanNode,s.position,s.injectedText):this._createMouseTarget(e,t.withTarget(s.hitTarget),!0)}const r=t;let o=null;return o=o||ur._hitTestContentWidget(e,r),o=o||ur._hitTestOverlayWidget(e,r),o=o||ur._hitTestMinimap(e,r),o=o||ur._hitTestScrollbarSlider(e,r),o=o||ur._hitTestViewZone(e,r),o=o||ur._hitTestMargin(e,r),o=o||ur._hitTestViewCursor(e,r),o=o||ur._hitTestTextArea(e,r),o=o||ur._hitTestViewLines(e,r,i),o=o||ur._hitTestScrollbar(e,r),o||t.fulfill(0)}static _hitTestContentWidget(e,t){if(As.isChildOfContentWidgets(t.targetPath)||As.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(As.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const r of i)if(t.target===r.domNode)return t.fulfill(6,r.position,null,{mightBeForeignElement:!1})}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,r=t.mouseContentHorizontalOffset,o=t.mouseVerticalOffset;for(const s of i){if(r<s.contentLeft||r>s.contentLeft+s.width)continue;const a=e.getVerticalOffsetForLineNumber(s.position.lineNumber);if(a<=o&&o<=a+s.height)return t.fulfill(6,s.position,null,{mightBeForeignElement:!1})}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const r=t.isInContentArea?8:5;return t.fulfill(r,i.position,null,i)}return null}static _hitTestTextArea(e,t){return As.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1}):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),r=i.range.getStartPosition();let o=Math.abs(t.pos.x-t.editorPos.x);const s={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,r,i.range,s):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,r,i.range,s):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,r,i.range,s)))}return null}static _hitTestViewLines(e,t,i){if(!As.isChildOfViewLines(t.targetPath))return null;if(e.isInTopPadding(t.mouseVerticalOffset))return t.fulfill(7,new ve(1,1),null,X6);if(e.isAfterLines(t.mouseVerticalOffset)||e.isInBottomPadding(t.mouseVerticalOffset)){const o=e.model.getLineCount(),s=e.model.getLineMaxColumn(o);return t.fulfill(7,new ve(o,s),null,X6)}if(i){if(As.isStrictChildOfViewLines(t.targetPath)){const o=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(e.model.getLineLength(o)===0){const a=e.getLineWidth(o),l=OA(t.mouseContentHorizontalOffset-a);return t.fulfill(7,new ve(o,1),null,l)}const s=e.getLineWidth(o);if(t.mouseContentHorizontalOffset>=s){const a=OA(t.mouseContentHorizontalOffset-s),l=new ve(o,e.model.getLineMaxColumn(o));return t.fulfill(7,l,null,a)}}return t.fulfill(0)}const r=ur._doHitTest(e,t);return r.type===1?ur.createMouseTargetFromHitTestPosition(e,t,r.spanNode,r.position,r.injectedText):this._createMouseTarget(e,t.withTarget(r.hitTarget),!0)}static _hitTestMinimap(e,t){if(As.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(i);return t.fulfill(11,new ve(i,r))}return null}static _hitTestScrollbarSlider(e,t){if(As.isChildOfScrollableElement(t.targetPath)&&t.target&&t.target.nodeType===1){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const r=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(r);return t.fulfill(11,new ve(r,o))}}return null}static _hitTestScrollbar(e,t){if(As.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),r=e.model.getLineMaxColumn(i);return t.fulfill(11,new ve(i,r))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,r=i.get(129),o=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-r.contentLeft;return ur._getMouseColumn(o,i.get(41).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){return e<0?1:Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,r,o){const s=r.lineNumber,a=r.column,l=e.getLineWidth(s);if(t.mouseContentHorizontalOffset>l){const m=OA(t.mouseContentHorizontalOffset-l);return t.fulfill(7,r,null,m)}const u=e.visibleRangeForPosition(s,a);if(!u)return t.fulfill(0,r);const c=u.left;if(t.mouseContentHorizontalOffset===c)return t.fulfill(6,r,null,{mightBeForeignElement:!!o});const d=[];if(d.push({offset:u.left,column:a}),a>1){const m=e.visibleRangeForPosition(s,a-1);m&&d.push({offset:m.left,column:a-1})}const h=e.model.getLineMaxColumn(s);if(a<h){const m=e.visibleRangeForPosition(s,a+1);m&&d.push({offset:m.left,column:a+1})}d.sort((m,v)=>m.offset-v.offset);const f=t.pos.toClientCoordinates(),g=i.getBoundingClientRect(),p=g.left<=f.clientX&&f.clientX<=g.right;for(let m=1;m<d.length;m++){const v=d[m-1],y=d[m];if(v.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=y.offset){const _=new ee(s,v.column,s,y.column);return t.fulfill(6,r,_,{mightBeForeignElement:!p||!!o})}}return t.fulfill(6,r,null,{mightBeForeignElement:!p||!!o})}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let s=t.pos.y+(o-t.mouseVerticalOffset);s<=t.editorPos.y&&(s=t.editorPos.y+1),s>=t.editorPos.y+e.layoutInfo.height&&(s=t.editorPos.y+e.layoutInfo.height-1);const a=new A$(t.pos.x,s),l=this._actualDoHitTestWithCaretRangeFromPoint(e,a.toClientCoordinates());return l.type===1?l:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=rw(e.viewDomNode);let r;if(i?typeof i.caretRangeFromPoint>"u"?r=Wxe(i,t.clientX,t.clientY):r=i.caretRangeFromPoint(t.clientX,t.clientY):r=document.caretRangeFromPoint(t.clientX,t.clientY),!r||!r.startContainer)return new md;const o=r.startContainer;if(o.nodeType===o.TEXT_NODE){const s=o.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null;return(l&&l.nodeType===l.ELEMENT_NODE?l.className:null)===Wl.CLASS_NAME?Nf.createFromDOMInfo(e,s,r.startOffset):new md(o.parentNode)}else if(o.nodeType===o.ELEMENT_NODE){const s=o.parentNode,a=s?s.parentNode:null;return(a&&a.nodeType===a.ELEMENT_NODE?a.className:null)===Wl.CLASS_NAME?Nf.createFromDOMInfo(e,o,o.textContent.length):new md(o)}return new md}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const r=i.offsetNode.parentNode,o=r?r.parentNode:null,s=o?o.parentNode:null;return(s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===Wl.CLASS_NAME?Nf.createFromDOMInfo(e,i.offsetNode.parentNode,i.offset):new md(i.offsetNode.parentNode)}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const r=i.offsetNode.parentNode,o=r&&r.nodeType===r.ELEMENT_NODE?r.className:null,s=r?r.parentNode:null,a=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(o===Wl.CLASS_NAME){const l=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(l)return Nf.createFromDOMInfo(e,l,0)}else if(a===Wl.CLASS_NAME)return Nf.createFromDOMInfo(e,i.offsetNode,0)}return new md(i.offsetNode)}static _snapToSoftTabBoundary(e,t){const i=t.getLineContent(e.lineNumber),{tabSize:r}=t.getTextModelOptions(),o=Wb.atomicPosition(i,e.column-1,r,2);return o!==-1?new ve(e.lineNumber,o+1):e}static _doHitTest(e,t){let i=new md;if(typeof document.caretRangeFromPoint=="function"?i=this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint&&(i=this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())),i.type===1){const r=e.model.getInjectedTextAt(i.position),o=e.model.normalizePosition(i.position,2);(r||!o.equals(i.position))&&(i=new AR(o,i.spanNode,r))}return i.type===1&&e.stickyTabStops&&(i=new AR(this._snapToSoftTabBoundary(i.position,e.model),i.spanNode,i.injectedText)),i}}function Wxe(n,e,t){const i=document.createRange();let r=n.elementFromPoint(e,t);if(r!==null){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE&&r.lastChild&&r.lastChild.firstChild;)r=r.lastChild;const o=r.getBoundingClientRect(),s=window.getComputedStyle(r,null).getPropertyValue("font"),a=r.innerText;let l=o.left,u=0,c;if(e>o.left+o.width)u=a.length;else{const d=Kf.getInstance();for(let h=0;h<a.length+1;h++){if(c=d.getCharWidth(a.charAt(h),s)/2,l+=c,e<l){u=h;break}l+=c}}i.setStart(r.firstChild,u),i.setEnd(r.firstChild,u)}return i}class Kf{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Kf._INSTANCE||(Kf._INSTANCE=new Kf),Kf._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const r=this._canvas.getContext("2d");r.font=t;const s=r.measureText(e).width;return this._cache[i]=s,s}}Kf._INSTANCE=null;function gT(n){return function(e,t){let i=!1;return n&&(i=n.mouseTargetIsWidget(t)),i||t.preventDefault(),t}}class Bg extends uw{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new ur(this._context,i),this._mouseDownOperation=this._register(new zxe(this._context,this.viewController,this.viewHelper,(s,a)=>this._createMouseTarget(s,a),s=>this._getMouseColumn(s))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(129).height;const r=new DCe(this.viewHelper.viewDomNode);this._register(r.onContextMenu(this.viewHelper.viewDomNode,s=>this._onContextMenu(s,!0))),this._register(r.onMouseMoveThrottled(this.viewHelper.viewDomNode,s=>this._onMouseMove(s),gT(this.mouseTargetFactory),Bg.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onMouseUp(this.viewHelper.viewDomNode,s=>this._onMouseUp(s))),this._register(r.onMouseLeave(this.viewHelper.viewDomNode,s=>this._onMouseLeave(s))),this._register(r.onMouseDown(this.viewHelper.viewDomNode,s=>this._onMouseDown(s)));const o=s=>{if(this.viewController.emitMouseWheel(s),!this._context.configuration.options.get(66))return;const a=new Ev(s);if(Qt?(s.metaKey||s.ctrlKey)&&!s.shiftKey&&!s.altKey:s.ctrlKey&&!s.metaKey&&!s.shiftKey&&!s.altKey){const u=KL.getZoomLevel(),c=a.deltaY>0?1:-1;KL.setZoomLevel(u+c),a.preventDefault(),a.stopPropagation()}};this._register(De(this.viewHelper.viewDomNode,it.MOUSE_WHEEL,o,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){if(e.hasChanged(129)){const t=this._context.configuration.options.get(129).height;this._height!==t&&(this._height=t,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const r=new mie(e,t).toPageCoordinates(),o=vie(this.viewHelper.viewDomNode);return r.y<o.y||r.y>o.y+o.height||r.x<o.x||r.x>o.x+o.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,r,null)}_createMouseTarget(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){this._mouseDownOperation.isActive()||e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=t.type===6||t.type===7,r=t.type===2||t.type===3||t.type===4,o=t.type===3,s=this._context.configuration.options.get(97),a=t.type===8||t.type===5,l=t.type===9;let u=e.leftButton||e.middleButton;Qt&&e.leftButton&&e.ctrlKey&&(u=!1);const c=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(u&&(i||o&&s))c(),this._mouseDownOperation.start(t.type,e);else if(r)e.preventDefault();else if(a){const d=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)&&(c(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(c(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}Bg.MOUSE_MOVE_MINIMUM_TIME=100;class zxe extends Pe{constructor(e,t,i,r,o){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=r,this._getMouseColumn=o,this._mouseMoveMonitor=this._register(new MCe(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new yu),this._mouseState=new QD,this._currentSelection=new Bt(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(e===3),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const r=this._context.configuration.options;if(!r.get(79)&&r.get(29)&&!r.get(16)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&i.type===6&&i.position&&this._currentSelection.containsPosition(i.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,gT(null),o=>this._onMouseDownThenMove(o),o=>{const s=this._findMousePosition(this._lastMouseEvent,!0);o&&o instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:s?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,gT(null),o=>this._onMouseDownThenMove(o),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,r=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){const a=Math.max(r.getCurrentScrollTop()-(t.y-e.posy),0),l=Rv.getZoneAtCoord(this._context,a);if(l){const c=this._helpPositionJumpOverViewZone(l);if(c)return new Na(null,13,o,c)}const u=r.getLineNumberAtVerticalOffset(a);return new Na(null,13,o,new ve(u,1))}if(e.posy>t.y+t.height){const a=r.getCurrentScrollTop()+(e.posy-t.y),l=Rv.getZoneAtCoord(this._context,a);if(l){const c=this._helpPositionJumpOverViewZone(l);if(c)return new Na(null,13,o,c)}const u=r.getLineNumberAtVerticalOffset(a);return new Na(null,13,o,new ve(u,i.getLineMaxColumn(u)))}const s=r.getLineNumberAtVerticalOffset(r.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new Na(null,13,o,new ve(s,1)):e.posx>t.x+t.width?new Na(null,13,o,new ve(s,i.getLineMaxColumn(s))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const r=this._createMouseTarget(e,t);if(!r.position)return null;if(r.type===8||r.type===5){const s=this._helpPositionJumpOverViewZone(r.detail);if(s)return new Na(r.element,r.type,r.mouseColumn,s,null,r.detail)}return r}_helpPositionJumpOverViewZone(e){const t=new ve(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,r=e.positionAfter;return i&&r?i.isBefore(t)?i:r:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class QD{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=new Date().getTime();i-this._lastSetMouseDownCountTime>QD.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}QD.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var Zs;(function(n){n.text="text/plain",n.binary="application/octet-stream",n.unknown="application/unknown",n.markdown="text/markdown"})(Zs||(Zs={}));let pT=[],Die=[],Eie=[];function y1(n,e=!1){const t=Hxe(n);pT.push(t),t.userConfigured?Eie.push(t):Die.push(t),e&&!t.userConfigured&&pT.forEach(i=>{i.mime===t.mime||i.userConfigured||(t.extension&&i.extension===t.extension&&console.warn(`Overwriting extension <<${t.extension}>> to now point to mime <<${t.mime}>>`),t.filename&&i.filename===t.filename&&console.warn(`Overwriting filename <<${t.filename}>> to now point to mime <<${t.mime}>>`),t.filepattern&&i.filepattern===t.filepattern&&console.warn(`Overwriting filepattern <<${t.filepattern}>> to now point to mime <<${t.mime}>>`),t.firstline&&i.firstline===t.firstline&&console.warn(`Overwriting firstline <<${t.firstline}>> to now point to mime <<${t.mime}>>`))})}function Hxe(n){return{id:n.id,mime:n.mime,filename:n.filename,extension:n.extension,filepattern:n.filepattern,firstline:n.firstline,userConfigured:n.userConfigured,filenameLowercase:n.filename?n.filename.toLowerCase():void 0,extensionLowercase:n.extension?n.extension.toLowerCase():void 0,filepatternLowercase:n.filepattern?n.filepattern.toLowerCase():void 0,filepatternOnPath:n.filepattern?n.filepattern.indexOf(Ai.sep)>=0:!1}}function Uxe(n,e){let t;if(n)switch(n.scheme){case Nn.file:t=n.fsPath;break;case Nn.data:t=HL.parseMetaData(n).get(HL.META_DATA_LABEL);break;default:t=n.path}if(!t)return[Zs.unknown];t=t.toLowerCase();const i=Pte(t),r=Z6(t,i,Eie);if(r)return[r,Zs.text];const o=Z6(t,i,Die);if(o)return[o,Zs.text];if(e){const s=Gxe(e);if(s)return[s,Zs.text]}return[Zs.unknown]}function Z6(n,e,t){let i=null,r=null,o=null;for(let s=t.length-1;s>=0;s--){const a=t[s];if(e===a.filenameLowercase){i=a;break}if(a.filepattern&&(!r||a.filepattern.length>r.filepattern.length)){const l=a.filepatternOnPath?n:e;gne(a.filepatternLowercase,l)&&(r=a)}a.extension&&(!o||a.extension.length>o.extension.length)&&e.endsWith(a.extensionLowercase)&&(o=a)}return i?i.mime:r?r.mime:o?o.mime:null}function Gxe(n){if(o$(n)&&(n=n.substr(1)),n.length>0)for(let e=pT.length-1;e>=0;e--){const t=pT[e];if(!t.firstline)continue;const i=n.match(t.firstline);if(i&&i.length>0)return t.mime}return null}class Ei{constructor(e,t,i,r,o){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=r,this.selectionEndPosition=o}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new Ei(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new Ei(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const r=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,r,-1)}if(e>=this.selectionEnd){const r=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,r,1)}const t=this.value.substring(this.selectionStart,e);if(t.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let r=0,o=-1;for(;(o=t.indexOf(`
`,o+1))!==-1;)r++;return[e,i*t.length,r]}static selectedText(e){return new Ei(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};let r=e.value,o=e.selectionStart,s=e.selectionEnd,a=t.value,l=t.selectionStart,u=t.selectionEnd;const c=r.substring(s),d=a.substring(u),h=L7(c,d);a=a.substring(0,a.length-h),r=r.substring(0,r.length-h);const f=r.substring(0,o),g=a.substring(0,l),p=x7(f,g);if(a=a.substring(p),r=r.substring(p),l-=p,o-=p,u-=p,s-=p,i&&l===u&&r.length>0){let v=null;if(l===a.length?a.startsWith(r)&&(v=a.substring(r.length)):a.endsWith(r)&&(v=a.substring(0,a.length-r.length)),v!==null&&v.length>0&&(/\uFE0F/.test(v)||Wbe(v)))return{text:v,replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0}}if(l===u){if(r===a&&o===0&&s===r.length&&l===a.length&&a.indexOf(`
`)===-1&&Hbe(a))return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};const v=f.length-p;return{text:a,replacePrevCharCnt:v,replaceNextCharCnt:0,positionDelta:0}}const m=s-o;return{text:a,replacePrevCharCnt:m,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(e,t){if(!e)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e.value===t.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:t.selectionEnd-e.selectionEnd};const i=Math.min(x7(e.value,t.value),e.selectionEnd),r=Math.min(L7(e.value,t.value),e.value.length-e.selectionEnd),o=e.value.substring(i,e.value.length-r),s=t.value.substring(i,t.value.length-r);e.selectionStart-i;const a=e.selectionEnd-i;t.selectionStart-i;const l=t.selectionEnd-i;return{text:s,replacePrevCharCnt:a,replaceNextCharCnt:o.length-a,positionDelta:l-s.length}}}Ei.EMPTY=new Ei("",0,0,null,null);class km{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t,r=i+1,o=i+t;return new ee(r,1,o+1,1)}static fromEditorSelection(e,t,i,r,o){const s=km._getPageOfLine(i.startLineNumber,r),a=km._getRangeForPage(s,r),l=km._getPageOfLine(i.endLineNumber,r),u=km._getRangeForPage(l,r),c=a.intersectRanges(new ee(1,1,i.startLineNumber,i.startColumn));let d=t.getValueInRange(c,1);const h=t.getLineCount(),f=t.getLineMaxColumn(h),g=u.intersectRanges(new ee(i.endLineNumber,i.endColumn,h,f));let p=t.getValueInRange(g,1),m;if(s===l||s+1===l)m=t.getValueInRange(i,1);else{const v=a.intersectRanges(i),y=u.intersectRanges(i);m=t.getValueInRange(v,1)+String.fromCharCode(8230)+t.getValueInRange(y,1)}return o&&(d.length>500&&(d=d.substring(d.length-500,d.length)),p.length>500&&(p=p.substring(0,500)),m.length>2*500&&(m=m.substring(0,500)+String.fromCharCode(8230)+m.substring(m.length-500,m.length))),new Ei(d+m+p,d.length,d.length+m.length,new ve(i.startLineNumber,i.startColumn),new ve(i.endLineNumber,i.endColumn))}}var mT;(function(n){n.Tap="-monaco-textarea-synthetic-tap"})(mT||(mT={}));class vT{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}vT.INSTANCE=new vT;class Kxe extends Pe{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new ae),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ae),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ae),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ae),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ae),this.onCut=this._onCut.event,this._onPaste=this._register(new ae),this.onPaste=this._onPaste.event,this._onType=this._register(new ae),this.onType=this._onType.event,this._onCompositionStart=this._register(new ae),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ae),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ae),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ae),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new jxe(t)),this._asyncTriggerCut=this._register(new vr(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new vr(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=Ei.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(to(t.domNode,"keydown",a=>{(a.keyCode===109||this._isDoingComposition&&a.keyCode===1)&&a.stopPropagation(),a.equals(9)&&a.preventDefault(),i=a,this._onKeyDown.fire(a)})),this._register(to(t.domNode,"keyup",a=>{this._onKeyUp.fire(a)})),this._register(De(t.domNode,"compositionstart",a=>{if(!this._isDoingComposition){if(this._isDoingComposition=!0,Qt&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===a.data&&(i&&i.equals(109)&&(i.code==="ArrowRight"||i.code==="ArrowLeft")||eo)){this._textAreaState=new Ei(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new ve(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition),this._onCompositionStart.fire({revealDeltaColumns:-1});return}if(e_){this._onCompositionStart.fire({revealDeltaColumns:-this._textAreaState.selectionStart});return}this._setAndWriteTextAreaState("compositionstart",Ei.EMPTY),this._onCompositionStart.fire({revealDeltaColumns:0})}}));const r=a=>{const l=this._textAreaState,u=Ei.readFromTextArea(this._textArea);return[u,Ei.deduceInput(l,u,a)]},o=()=>{const a=this._textAreaState,l=Ei.readFromTextArea(this._textArea);return[l,Ei.deduceAndroidCompositionInput(a,l)]},s=a=>{const l=this._textAreaState,u=Ei.selectedText(a),c={text:u.value,replacePrevCharCnt:l.selectionEnd-l.selectionStart,replaceNextCharCnt:0,positionDelta:0};return[u,c]};this._register(De(t.domNode,"compositionupdate",a=>{if(e_){const[c,d]=o();this._textAreaState=c,this._onType.fire(d),this._onCompositionUpdate.fire(a);return}const[l,u]=s(a.data||"");this._textAreaState=l,this._onType.fire(u),this._onCompositionUpdate.fire(a)})),this._register(De(t.domNode,"compositionend",a=>{if(!this._isDoingComposition)return;if(this._isDoingComposition=!1,e_){const[c,d]=o();this._textAreaState=c,this._onType.fire(d),this._onCompositionEnd.fire();return}const[l,u]=s(a.data||"");this._textAreaState=l,this._onType.fire(u),(WL||eo)&&(this._textAreaState=Ei.readFromTextArea(this._textArea)),this._onCompositionEnd.fire()})),this._register(De(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[a,l]=r(Qt);l.replacePrevCharCnt===0&&l.text.length===1&&ji(l.text.charCodeAt(0))||(this._textAreaState=a,this._nextCommand===0?(l.text!==""||l.replacePrevCharCnt!==0)&&this._onType.fire(l):((l.text!==""||l.replacePrevCharCnt!==0)&&this._firePaste(l.text,null),this._nextCommand=0))})),this._register(De(t.domNode,"cut",a=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(a),this._asyncTriggerCut.schedule()})),this._register(De(t.domNode,"copy",a=>{this._ensureClipboardGetsEditorSelection(a)})),this._register(De(t.domNode,"paste",a=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),s0.canUseTextData(a)){const[l,u]=s0.getTextData(a);l!==""&&this._firePaste(l,u)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",Ei.EMPTY),this._nextCommand=1})),this._register(De(t.domNode,"focus",()=>{const a=this._hasFocus;this._setHasFocus(!0),Mg&&!a&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(De(t.domNode,"blur",()=>{this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(De(t.domNode,mT.Tap,()=>{e_&&this._isDoingComposition&&(this._isDoingComposition=!1,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let e=0;return De(document,"selectionchange",t=>{if(!this._hasFocus||this._isDoingComposition||!WL)return;const i=Date.now(),r=i-e;if(e=i,r<5)return;const o=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),o<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const s=this._textArea.getValue();if(this._textAreaState.value!==s)return;const a=this._textArea.getSelectionStart(),l=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===a&&this._textAreaState.selectionEnd===l)return;const u=this._textAreaState.deduceEditorPosition(a),c=this._host.deduceModelPosition(u[0],u[1],u[2]),d=this._textAreaState.deduceEditorPosition(l),h=this._host.deduceModelPosition(d[0],d[1],d[2]),f=new Bt(c.lineNumber,c.column,h.lineNumber,h.column);this._onSelectionChangeRequest.fire(f)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=rw(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):YF(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(s0.canUseTextData(e)),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};if(vT.INSTANCE.set(eo?t.text.replace(/\r\n/g,`
`):t.text,i),!s0.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",Ei.selectedText(t.text));return}s0.setTextData(e,t.text,t.html,i)}_firePaste(e,t){t||(t=vT.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class s0{static canUseTextData(e){return!!(e.clipboardData||window.clipboardData)}static getTextData(e){if(e.clipboardData){e.preventDefault();const t=e.clipboardData.getData(Zs.text);let i=null;const r=e.clipboardData.getData("vscode-editor-data");if(typeof r=="string")try{i=JSON.parse(r),i.version!==1&&(i=null)}catch{}return[t,i]}if(window.clipboardData)return e.preventDefault(),[window.clipboardData.getData("Text"),null];throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,r){if(e.clipboardData){e.clipboardData.setData(Zs.text,t),typeof i=="string"&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(r)),e.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t),e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class jxe extends Pe{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionEnd:this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionDirection==="backward"?this._actual.domNode.selectionStart:this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const r=this._actual.domNode;let o=null;const s=rw(r);s?o=s.activeElement:o=document.activeElement;const a=o===r,l=r.selectionStart,u=r.selectionEnd;if(a&&l===t&&u===i){eo&&window.parent!==window&&r.focus();return}if(a){this.setIgnoreSelectionChangeTime("setSelectionRange"),r.setSelectionRange(t,i),eo&&window.parent!==window&&r.focus();return}try{const c=xbe(r);this.setIgnoreSelectionChangeTime("setSelectionRange"),r.focus(),r.setSelectionRange(t,i),Lbe(r,c)}catch{}}}class qxe extends Bg{constructor(e,t,i){super(e,t,i),this._register(bn.addTarget(this.viewHelper.linesContentDomNode)),this._register(De(this.viewHelper.linesContentDomNode,Vn.Tap,o=>this.onTap(o))),this._register(De(this.viewHelper.linesContentDomNode,Vn.Change,o=>this.onChange(o))),this._register(De(this.viewHelper.linesContentDomNode,Vn.Contextmenu,o=>this._onContextMenu(new Rg(o,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(De(this.viewHelper.linesContentDomNode,"pointerdown",o=>{const s=o.pointerType;if(s==="mouse"){this._lastPointerType="mouse";return}else s==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const r=new ECe(this.viewHelper.viewDomNode);this._register(r.onPointerMoveThrottled(this.viewHelper.viewDomNode,o=>this._onMouseMove(o),gT(this.mouseTargetFactory),Bg.MOUSE_MOVE_MINIMUM_TIME)),this._register(r.onPointerUp(this.viewHelper.viewDomNode,o=>this._onMouseUp(o))),this._register(r.onPointerLeave(this.viewHelper.viewDomNode,o=>this._onMouseLeave(o))),this._register(r.onPointerDown(this.viewHelper.viewDomNode,o=>this._onMouseDown(o)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Rg(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){this._lastPointerType==="touch"&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.browserEvent.pointerType!=="touch"&&super._onMouseDown(e)}}class Yxe extends Bg{constructor(e,t,i){super(e,t,i),this._register(bn.addTarget(this.viewHelper.linesContentDomNode)),this._register(De(this.viewHelper.linesContentDomNode,Vn.Tap,r=>this.onTap(r))),this._register(De(this.viewHelper.linesContentDomNode,Vn.Change,r=>this.onChange(r))),this._register(De(this.viewHelper.linesContentDomNode,Vn.Contextmenu,r=>this._onContextMenu(new Rg(r,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Rg(e,this.viewHelper.viewDomNode),!1);if(t.position){const i=document.createEvent("CustomEvent");i.initEvent(mT.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(i),this.viewController.moveTo(t.position)}}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class Xxe extends Pe{constructor(e,t,i){super(),Dv&&Ute.pointerEvents?this.handler=this._register(new qxe(e,t,i)):window.TouchEvent?this.handler=this._register(new Yxe(e,t,i)):this.handler=this._register(new Bg(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}class xy extends uw{}const Mie={ColorContribution:"base.contributions.colors"};class Zxe{constructor(){this._onDidChangeSchema=new ae,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,r=!1,o){let s={id:e,description:i,defaults:t,needsTransparency:r,deprecationMessage:o};this.colorsById[e]=s;let a={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),this.colorSchema.properties[e]=a,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults){const r=i.defaults[t.type];return zu(r,t)}}getColorSchema(){return this.colorSchema}toString(){let e=(t,i)=>{let r=t.indexOf(".")===-1?0:1,o=i.indexOf(".")===-1?0:1;return r!==o?r-o:t.localeCompare(i)};return Object.keys(this.colorsById).sort(e).map(t=>`- \`${t}\`: ${this.colorsById[t].description}`).join(`
`)}}const JD=new Zxe;ir.add(Mie.ColorContribution,JD);function me(n,e,t,i,r){return JD.registerColor(n,e,t,i,r)}const ug=me("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},E("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Qxe=me("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},E("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));me("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},E("iconForeground","The default color for icons in the workbench."));const Fg=me("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},E("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Zi=me("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},E("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Cs=me("contrastActiveBorder",{light:null,dark:null,hc:Fg},E("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));me("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E("textLinkForeground","Foreground color for links in text."));me("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},E("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));me("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:_e.black},E("textCodeBlockBackground","Background color for code blocks in text."));const Bv=me("widget.shadow",{dark:Si(_e.black,.36),light:Si(_e.black,.16),hc:null},E("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Aie=me("input.background",{dark:"#3C3C3C",light:_e.white,hc:_e.black},E("inputBoxBackground","Input box background.")),Nie=me("input.foreground",{dark:ug,light:ug,hc:ug},E("inputBoxForeground","Input box foreground.")),kie=me("input.border",{dark:null,light:null,hc:Zi},E("inputBoxBorder","Input box border.")),NR=me("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Zi},E("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),kR=me("inputOption.activeBackground",{dark:Si(Fg,.4),light:Si(Fg,.2),hc:_e.transparent},E("inputOption.activeBackground","Background color of activated options in input fields.")),PR=me("inputOption.activeForeground",{dark:_e.white,light:_e.black,hc:null},E("inputOption.activeForeground","Foreground color of activated options in input fields.")),Pie=me("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:_e.black},E("inputValidationInfoBackground","Input validation background color for information severity.")),Oie=me("inputValidation.infoForeground",{dark:null,light:null,hc:null},E("inputValidationInfoForeground","Input validation foreground color for information severity.")),Rie=me("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Zi},E("inputValidationInfoBorder","Input validation border color for information severity.")),Bie=me("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:_e.black},E("inputValidationWarningBackground","Input validation background color for warning severity.")),Fie=me("inputValidation.warningForeground",{dark:null,light:null,hc:null},E("inputValidationWarningForeground","Input validation foreground color for warning severity.")),$ie=me("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Zi},E("inputValidationWarningBorder","Input validation border color for warning severity.")),Vie=me("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:_e.black},E("inputValidationErrorBackground","Input validation background color for error severity.")),Wie=me("inputValidation.errorForeground",{dark:null,light:null,hc:null},E("inputValidationErrorForeground","Input validation foreground color for error severity.")),zie=me("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Zi},E("inputValidationErrorBorder","Input validation border color for error severity.")),RA=me("dropdown.background",{dark:"#3C3C3C",light:_e.white,hc:_e.black},E("dropdownBackground","Dropdown background.")),Q6=me("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:_e.white},E("dropdownForeground","Dropdown foreground.")),Jxe=me("button.foreground",{dark:_e.white,light:_e.white,hc:_e.white},E("buttonForeground","Button foreground color.")),OR=me("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},E("buttonBackground","Button background color.")),eLe=me("button.hoverBackground",{dark:Xie(OR,.2),light:Yie(OR,.2),hc:null},E("buttonHoverBackground","Button background color when hovering.")),Lx=me("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:_e.black},E("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Tx=me("badge.foreground",{dark:_e.white,light:"#333",hc:_e.white},E("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),eE=me("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},E("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Ix=me("scrollbarSlider.background",{dark:_e.fromHex("#797979").transparent(.4),light:_e.fromHex("#646464").transparent(.4),hc:Si(Zi,.6)},E("scrollbarSliderBackground","Scrollbar slider background color.")),Dx=me("scrollbarSlider.hoverBackground",{dark:_e.fromHex("#646464").transparent(.7),light:_e.fromHex("#646464").transparent(.7),hc:Si(Zi,.8)},E("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Ex=me("scrollbarSlider.activeBackground",{dark:_e.fromHex("#BFBFBF").transparent(.4),light:_e.fromHex("#000000").transparent(.6),hc:Zi},E("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),tLe=me("progressBar.background",{dark:_e.fromHex("#0E70C0"),light:_e.fromHex("#0E70C0"),hc:Zi},E("progressBarBackground","Background color of the progress bar that can show for long running operations.")),nLe=me("editorError.background",{dark:null,light:null,hc:null},E("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Mx=me("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},E("editorError.foreground","Foreground color of error squigglies in the editor.")),iLe=me("editorError.border",{dark:null,light:null,hc:_e.fromHex("#E47777").transparent(.8)},E("errorBorder","Border color of error boxes in the editor.")),rLe=me("editorWarning.background",{dark:null,light:null,hc:null},E("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Yd=me("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hc:null},E("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),$$=me("editorWarning.border",{dark:null,light:null,hc:_e.fromHex("#FFCC00").transparent(.8)},E("warningBorder","Border color of warning boxes in the editor.")),oLe=me("editorInfo.background",{dark:null,light:null,hc:null},E("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),sv=me("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},E("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Hie=me("editorInfo.border",{dark:null,light:null,hc:_e.fromHex("#75BEFF").transparent(.8)},E("infoBorder","Border color of info boxes in the editor.")),sLe=me("editorHint.foreground",{dark:_e.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},E("editorHint.foreground","Foreground color of hint squigglies in the editor.")),aLe=me("editorHint.border",{dark:null,light:null,hc:_e.fromHex("#eeeeee").transparent(.8)},E("hintBorder","Border color of hint boxes in the editor.")),gc=me("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:_e.black},E("editorBackground","Editor background color.")),cw=me("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:_e.white},E("editorForeground","Editor default foreground color.")),pc=me("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},E("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Xd=me("editorWidget.foreground",{dark:ug,light:ug,hc:ug},E("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ax=me("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Zi},E("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),lLe=me("editorWidget.resizeBorder",{light:null,dark:null,hc:null},E("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),J6=me("quickInput.background",{dark:pc,light:pc,hc:pc},E("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),uLe=me("quickInput.foreground",{dark:Xd,light:Xd,hc:Xd},E("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),cLe=me("quickInputTitle.background",{dark:new _e(new Xt(255,255,255,.105)),light:new _e(new Xt(0,0,0,.06)),hc:"#000000"},E("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),dLe=me("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:_e.white},E("pickerGroupForeground","Quick picker color for grouping labels.")),hLe=me("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:_e.white},E("pickerGroupBorder","Quick picker color for grouping borders.")),fLe=me("keybindingLabel.background",{dark:new _e(new Xt(128,128,128,.17)),light:new _e(new Xt(221,221,221,.4)),hc:_e.transparent},E("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),gLe=me("keybindingLabel.foreground",{dark:_e.fromHex("#CCCCCC"),light:_e.fromHex("#555555"),hc:_e.white},E("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),pLe=me("keybindingLabel.border",{dark:new _e(new Xt(51,51,51,.6)),light:new _e(new Xt(204,204,204,.4)),hc:new _e(new Xt(111,195,223))},E("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),mLe=me("keybindingLabel.bottomBorder",{dark:new _e(new Xt(68,68,68,.6)),light:new _e(new Xt(187,187,187,.4)),hc:new _e(new Xt(111,195,223))},E("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),av=me("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},E("editorSelectionBackground","Color of the editor selection.")),vLe=me("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},E("editorSelectionForeground","Color of the selected text for high contrast.")),V$=me("editor.inactiveSelectionBackground",{light:Si(av,.5),dark:Si(av,.5),hc:Si(av,.5)},E("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Uie=me("editor.selectionHighlightBackground",{light:r8(av,gc,.3,.6),dark:r8(av,gc,.3,.6),hc:null},E("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);me("editor.selectionHighlightBorder",{light:null,dark:null,hc:Cs},E("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));const yLe=me("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},E("editorFindMatch","Color of the current search match.")),RR=me("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},E("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),_Le=me("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},E("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),bLe=me("editor.findMatchBorder",{light:null,dark:null,hc:Cs},E("editorFindMatchBorder","Border color of the current search match.")),SLe=me("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Cs},E("findMatchHighlightBorder","Border color of the other search matches.")),wLe=me("editor.findRangeHighlightBorder",{dark:null,light:null,hc:Si(Cs,.4)},E("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);me("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},E("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const e8=me("editorHoverWidget.background",{light:pc,dark:pc,hc:pc},E("hoverBackground","Background color of the editor hover."));me("editorHoverWidget.foreground",{light:Xd,dark:Xd,hc:Xd},E("hoverForeground","Foreground color of the editor hover."));me("editorHoverWidget.border",{light:Ax,dark:Ax,hc:Ax},E("hoverBorder","Border color of the editor hover."));me("editorHoverWidget.statusBarBackground",{dark:Xie(e8,.2),light:Yie(e8,.05),hc:pc},E("statusBarBackground","Background color of the editor hover status bar."));me("editorLink.activeForeground",{dark:"#4E94CE",light:_e.blue,hc:_e.cyan},E("activeLinkForeground","Color of active links."));me("editorInlayHint.foreground",{dark:Si(Tx,.8),light:Si(Tx,.8),hc:Tx},E("editorInlayHintForeground","Foreground color of inline hints"));me("editorInlayHint.background",{dark:Si(Lx,.6),light:Si(Lx,.3),hc:Lx},E("editorInlayHintBackground","Background color of inline hints"));me("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},E("editorLightBulbForeground","The color used for the lightbulb actions icon."));me("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},E("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));const BR=new _e(new Xt(155,185,85,.2)),FR=new _e(new Xt(255,0,0,.2)),Gie=me("diffEditor.insertedTextBackground",{dark:BR,light:BR,hc:null},E("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Kie=me("diffEditor.removedTextBackground",{dark:FR,light:FR,hc:null},E("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),CLe=me("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},E("diffEditorInsertedOutline","Outline color for the text that got inserted.")),xLe=me("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},E("diffEditorRemovedOutline","Outline color for text that got removed.")),LLe=me("diffEditor.border",{dark:null,light:null,hc:Zi},E("diffEditorBorder","Border color between the two text editors.")),TLe=me("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},E("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ILe=me("list.focusBackground",{dark:null,light:null,hc:null},E("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),DLe=me("list.focusForeground",{dark:null,light:null,hc:null},E("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ELe=me("list.focusOutline",{dark:Fg,light:Fg,hc:Cs},E("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zd=me("list.activeSelectionBackground",{dark:"#094771",light:"#0060C0",hc:null},E("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Qd=me("list.activeSelectionForeground",{dark:_e.white,light:_e.white,hc:null},E("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Nx=me("list.activeSelectionIconForeground",{dark:null,light:null,hc:null},E("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),MLe=me("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},E("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),ALe=me("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},E("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),NLe=me("list.inactiveSelectionIconForeground",{dark:null,light:null,hc:null},E("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),kLe=me("list.inactiveFocusBackground",{dark:null,light:null,hc:null},E("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),PLe=me("list.inactiveFocusOutline",{dark:null,light:null,hc:null},E("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),OLe=me("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},E("listHoverBackground","List/Tree background when hovering over items using the mouse.")),RLe=me("list.hoverForeground",{dark:null,light:null,hc:null},E("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),BLe=me("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},E("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),BA=me("list.highlightForeground",{dark:"#18A3FF",light:"#0066BF",hc:Fg},E("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));me("list.focusHighlightForeground",{dark:BA,light:oTe(Zd,BA,"#9DDDFF"),hc:BA},E("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));const FLe=me("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:_e.black},E("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),$Le=me("listFilterWidget.outline",{dark:_e.transparent,light:_e.transparent,hc:"#f38518"},E("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),VLe=me("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Zi},E("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),WLe=me("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},E("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),zLe=me("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hc:null},E("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),t8=me("quickInput.list.focusBackground",{dark:null,light:null,hc:null},"",void 0,E("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),HLe=me("quickInputList.focusForeground",{dark:Qd,light:Qd,hc:Qd},E("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),ULe=me("quickInputList.focusIconForeground",{dark:Nx,light:Nx,hc:Nx},E("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),GLe=me("quickInputList.focusBackground",{dark:i8(t8,Zd),light:i8(t8,Zd),hc:null},E("quickInput.listFocusBackground","Quick picker background color for the focused item.")),KLe=me("menu.border",{dark:null,light:null,hc:Zi},E("menuBorder","Border color of menus.")),jLe=me("menu.foreground",{dark:Q6,light:ug,hc:Q6},E("menuForeground","Foreground color of menu items.")),qLe=me("menu.background",{dark:RA,light:RA,hc:RA},E("menuBackground","Background color of menu items.")),YLe=me("menu.selectionForeground",{dark:Qd,light:Qd,hc:Qd},E("menuSelectionForeground","Foreground color of the selected menu item in menus.")),XLe=me("menu.selectionBackground",{dark:Zd,light:Zd,hc:Zd},E("menuSelectionBackground","Background color of the selected menu item in menus.")),ZLe=me("menu.selectionBorder",{dark:null,light:null,hc:Cs},E("menuSelectionBorder","Border color of the selected menu item in menus.")),QLe=me("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Zi},E("menuSeparatorBackground","Color of a separator menu item in menus."));me("editor.snippetTabstopHighlightBackground",{dark:new _e(new Xt(124,124,124,.3)),light:new _e(new Xt(10,50,100,.2)),hc:new _e(new Xt(124,124,124,.3))},E("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));me("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},E("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));me("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},E("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));me("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new _e(new Xt(10,50,100,.5)),hc:"#525252"},E("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const W$=me("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},E("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);me("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},E("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const jie=me("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},E("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),n8=me("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},E("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),JLe=me("minimap.errorHighlight",{dark:new _e(new Xt(255,18,18,.7)),light:new _e(new Xt(255,18,18,.7)),hc:new _e(new Xt(255,50,50,1))},E("minimapError","Minimap marker color for errors.")),eTe=me("minimap.warningHighlight",{dark:Yd,light:Yd,hc:$$},E("overviewRuleWarning","Minimap marker color for warnings.")),qie=me("minimap.background",{dark:null,light:null,hc:null},E("minimapBackground","Minimap background color.")),tTe=me("minimapSlider.background",{light:Si(Ix,.5),dark:Si(Ix,.5),hc:Si(Ix,.5)},E("minimapSliderBackground","Minimap slider background color.")),nTe=me("minimapSlider.hoverBackground",{light:Si(Dx,.5),dark:Si(Dx,.5),hc:Si(Dx,.5)},E("minimapSliderHoverBackground","Minimap slider background color when hovering.")),iTe=me("minimapSlider.activeBackground",{light:Si(Ex,.5),dark:Si(Ex,.5),hc:Si(Ex,.5)},E("minimapSliderActiveBackground","Minimap slider background color when clicked on."));me("problemsErrorIcon.foreground",{dark:Mx,light:Mx,hc:Mx},E("problemsErrorIconForeground","The color used for the problems error icon."));me("problemsWarningIcon.foreground",{dark:Yd,light:Yd,hc:Yd},E("problemsWarningIconForeground","The color used for the problems warning icon."));me("problemsInfoIcon.foreground",{dark:sv,light:sv,hc:sv},E("problemsInfoIconForeground","The color used for the problems info icon."));function rTe(n,e){var t,i,r;switch(n.op){case 0:return(t=zu(n.value,e))===null||t===void 0?void 0:t.darken(n.factor);case 1:return(i=zu(n.value,e))===null||i===void 0?void 0:i.lighten(n.factor);case 2:return(r=zu(n.value,e))===null||r===void 0?void 0:r.transparent(n.factor);case 3:for(const a of n.values){const l=zu(a,e);if(l)return l}return;case 5:return zu(e.defines(n.if)?n.then:n.else,e);case 4:const o=zu(n.value,e);if(!o)return;const s=zu(n.background,e);return s?o.isDarkerThan(s)?_e.getLighterColor(o,s,n.factor).transparent(n.transparency):_e.getDarkerColor(o,s,n.factor).transparent(n.transparency):o.transparent(n.factor*n.transparency);default:throw hSe()}}function Yie(n,e){return{op:0,value:n,factor:e}}function Xie(n,e){return{op:1,value:n,factor:e}}function Si(n,e){return{op:2,value:n,factor:e}}function i8(...n){return{op:3,values:n}}function oTe(n,e,t){return{op:5,if:n,then:e,else:t}}function r8(n,e,t,i){return{op:4,value:n,background:e,factor:t,transparency:i}}function zu(n,e){if(n!==null){if(typeof n=="string")return n[0]==="#"?_e.fromHex(n):e.getColor(n);if(n instanceof _e)return n;if(typeof n=="object")return rTe(n,e)}}const Zie="vscode://schemas/workbench-colors";let Qie=ir.as(BD.JSONContribution);Qie.registerSchema(Zie,JD.getColorSchema());const o8=new vr(()=>Qie.notifySchemaChanged(Zie),200);JD.onDidChangeSchema(()=>{o8.isScheduled()||o8.schedule()});const sTe=me("editor.lineHighlightBackground",{dark:null,light:null,hc:null},E("lineHighlight","Background color for the highlight of line at the cursor position.")),s8=me("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},E("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),aTe=me("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},E("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),lTe=me("editor.rangeHighlightBorder",{dark:null,light:null,hc:Cs},E("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),uTe=me("editor.symbolHighlightBackground",{dark:RR,light:RR,hc:null},E("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),cTe=me("editor.symbolHighlightBorder",{dark:null,light:null,hc:Cs},E("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),Jie=me("editorCursor.foreground",{dark:"#AEAFAD",light:_e.black,hc:_e.white},E("caret","Color of the editor cursor.")),dTe=me("editorCursor.background",null,E("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),cg=me("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},E("editorWhitespaces","Color of whitespace characters in the editor.")),tE=me("editorIndentGuide.background",{dark:cg,light:cg,hc:cg},E("editorIndentGuides","Color of the editor indentation guides.")),nE=me("editorIndentGuide.activeBackground",{dark:cg,light:cg,hc:cg},E("editorActiveIndentGuide","Color of the active editor indentation guides.")),ere=me("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:_e.white},E("editorLineNumbers","Color of editor line numbers.")),FA=me("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Cs},E("editorActiveLineNumber","Color of editor active line number"),!1,E("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),hTe=me("editorLineNumber.activeForeground",{dark:FA,light:FA,hc:FA},E("editorActiveLineNumber","Color of editor active line number")),fTe=me("editorRuler.foreground",{dark:"#5A5A5A",light:_e.lightgrey,hc:_e.white},E("editorRuler","Color of the editor rulers."));me("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hc:"#999999"},E("editorCodeLensForeground","Foreground color of editor CodeLens"));me("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},E("editorBracketMatchBackground","Background color behind matching brackets"));me("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Zi},E("editorBracketMatchBorder","Color for matching brackets boxes"));const gTe=me("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},E("editorOverviewRulerBorder","Color of the overview ruler border.")),pTe=me("editorOverviewRuler.background",null,E("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),mTe=me("editorGutter.background",{dark:gc,light:gc,hc:gc},E("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),vTe=me("editorUnnecessaryCode.border",{dark:null,light:null,hc:_e.fromHex("#fff").transparent(.8)},E("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),yTe=me("editorUnnecessaryCode.opacity",{dark:_e.fromHex("#000a"),light:_e.fromHex("#0007"),hc:null},E("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));me("editorGhostText.border",{dark:null,light:null,hc:_e.fromHex("#fff").transparent(.8)},E("editorGhostTextBorder","Border color of ghost text in the editor."));me("editorGhostText.foreground",{dark:_e.fromHex("#ffffff56"),light:_e.fromHex("#0007"),hc:null},E("editorGhostTextForeground","Foreground color of the ghost text in the editor."));const $A=new _e(new Xt(0,122,204,.6));me("editorOverviewRuler.rangeHighlightForeground",{dark:$A,light:$A,hc:$A},E("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const _Te=me("editorOverviewRuler.errorForeground",{dark:new _e(new Xt(255,18,18,.7)),light:new _e(new Xt(255,18,18,.7)),hc:new _e(new Xt(255,50,50,1))},E("overviewRuleError","Overview ruler marker color for errors.")),bTe=me("editorOverviewRuler.warningForeground",{dark:Yd,light:Yd,hc:$$},E("overviewRuleWarning","Overview ruler marker color for warnings.")),STe=me("editorOverviewRuler.infoForeground",{dark:sv,light:sv,hc:Hie},E("overviewRuleInfo","Overview ruler marker color for infos."));es((n,e)=>{const t=n.getColor(gc);t&&e.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${t}; }`);const i=n.getColor(cw);i&&e.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${i}; }`);const r=n.getColor(mTe);r&&e.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const o=n.getColor(aTe);o&&e.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);const s=n.getColor(lTe);s&&e.addRule(`.monaco-editor .rangeHighlight { border: 1px ${n.type==="hc"?"dotted":"solid"} ${s}; }`);const a=n.getColor(uTe);a&&e.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=n.getColor(cTe);l&&e.addRule(`.monaco-editor .symbolHighlight { border: 1px ${n.type==="hc"?"dotted":"solid"} ${l}; }`);const u=n.getColor(cg);u&&(e.addRule(`.monaco-editor .mtkw { color: ${u} !important; }`),e.addRule(`.monaco-editor .mtkz { color: ${u} !important; }`))});class Fv extends xy{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new ve(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(57);const t=e.get(58);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(83);const i=e.get(129);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);let i=!1;return this._activeLineNumber!==t.lineNumber&&(this._activeLineNumber=t.lineNumber,i=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(i=!0),i}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ve(e,1));if(t.column!==1)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(this._renderLineNumbers===2){const r=Math.abs(this._lastCursorModelPosition.lineNumber-i);return r===0?'<span class="relative-current-line-number">'+i+"</span>":String(r)}return this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===i||i%10===0?String(i):"":String(i)}prepareRender(e){if(this._renderLineNumbers===0){this._renderResult=null;return}const t=Ho?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,o='<div class="'+Fv.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">',s=this._context.model.getLineCount(),a=[];for(let l=i;l<=r;l++){const u=l-i;if(!this._renderFinalNewline&&l===s&&this._context.model.getLineLength(l)===0){a[u]="";continue}const c=this._getLineRenderLineNumber(l);c?l===this._activeLineNumber?a[u]='<div class="active-line-number '+Fv.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+c+"</div>":a[u]=o+c+"</div>":a[u]=""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Fv.CLASS_NAME="line-numbers";es((n,e)=>{const t=n.getColor(ere);t&&e.addRule(`.monaco-editor .line-numbers { color: ${t}; }`);const i=n.getColor(hTe);i&&e.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${i}; }`)});class $g extends Is{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._canUseLayerHinting=!t.get(26),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Ot(document.createElement("div")),this._domNode.setClassName($g.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Ot(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName($g.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._canUseLayerHinting=!t.get(26),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}$g.CLASS_NAME="glyph-margin";$g.OUTER_CLASS_NAME="margin";const dg="monaco-mouse-cursor-text";class z${constructor(e,t,i){this._visibleTextAreaBrand=void 0,this.top=e,this.left=t,this.width=i}setWidth(e){return new z$(this.top,this.left,e)}}const a0=eo;class wTe extends Is{constructor(e,t,i){super(e),this._primaryCursorPosition=new ve(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const r=this._context.configuration.options,o=r.get(129);this._setAccessibilityOptions(r),this._contentLeft=o.contentLeft,this._contentWidth=o.contentWidth,this._contentHeight=o.height,this._fontInfo=r.get(41),this._lineHeight=r.get(57),this._emptySelectionClipboard=r.get(30),this._copyWithSyntaxHighlighting=r.get(19),this._visibleTextArea=null,this._selections=[new Bt(1,1,1,1)],this._modelSelections=[new Bt(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Ot(document.createElement("textarea")),ru.write(this.textArea,6),this.textArea.setClassName(`inputarea ${dg}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(r)),this.textArea.setAttribute("tabindex",String(r.get(111))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",E("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),r.get(28)&&r.get(79)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Ot(document.createElement("div")),this.textAreaCover.setPosition("absolute");const s={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:l=>this._context.model.getLineMaxColumn(l),getValueInRange:(l,u)=>this._context.model.getValueInRange(l,u)},a={getDataToCopy:l=>{const u=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,zo),c=this._context.model.getEOL(),d=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),h=Array.isArray(u)?u:null,f=Array.isArray(u)?u.join(c):u;let g,p=null;if(l&&this._copyWithSyntaxHighlighting&&f.length<65536){const m=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);m&&(g=m.html,p=m.mode)}return{isFromEmptySelection:d,multicursorText:h,text:f,html:g,mode:p}},getScreenReaderContent:l=>{if(this._accessibilitySupport===1){if(Qt){const u=this._selections[0];if(u.isEmpty()){const c=u.getStartPosition();let d=this._getWordBeforePosition(c);if(d.length===0&&(d=this._getCharacterBeforePosition(c)),d.length>0)return new Ei(d,d.length,d.length,c,c)}}return Ei.EMPTY}if(e_){const u=this._selections[0];if(u.isEmpty()){const c=u.getStartPosition(),[d,h]=this._getAndroidWordAtPosition(c);if(d.length>0)return new Ei(d,h,h,c,c)}return Ei.EMPTY}return km.fromEditorSelection(l,s,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(l,u,c)=>this._context.model.deduceModelPositionRelativeToViewPosition(l,u,c)};this._textAreaInput=this._register(new Kxe(a,this.textArea)),this._register(this._textAreaInput.onKeyDown(l=>{this._viewController.emitKeyDown(l)})),this._register(this._textAreaInput.onKeyUp(l=>{this._viewController.emitKeyUp(l)})),this._register(this._textAreaInput.onPaste(l=>{let u=!1,c=null,d=null;l.metadata&&(u=this._emptySelectionClipboard&&!!l.metadata.isFromEmptySelection,c=typeof l.metadata.multicursorText<"u"?l.metadata.multicursorText:null,d=l.metadata.mode),this._viewController.paste(l.text,u,c,d)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(l=>{l.replacePrevCharCnt||l.replaceNextCharCnt||l.positionDelta?this._viewController.compositionType(l.text,l.replacePrevCharCnt,l.replaceNextCharCnt,l.positionDelta):this._viewController.type(l.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(l=>{this._viewController.setSelection(l)})),this._register(this._textAreaInput.onCompositionStart(l=>{const u=this._selections[0].startLineNumber,c=this._selections[0].startColumn+l.revealDeltaColumns;this._context.model.revealRange("keyboard",!0,new ee(u,c,u,c),0,1);const d=this._viewHelper.visibleRangeForPositionRelativeToEditor(u,c);d&&(this._visibleTextArea=new z$(this._context.viewLayout.getVerticalOffsetForLineNumber(u),d.left,a0?0:1),this._render()),this.textArea.setClassName(`inputarea ${dg} ime-input`),this._viewController.compositionStart(),this._context.model.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(l=>{this._visibleTextArea&&(this._visibleTextArea=this._visibleTextArea.setWidth(CTe(l.data,this._fontInfo)),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${dg}`),this._viewController.compositionEnd(),this._context.model.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(e){const t='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',i=this._context.model.getLineContent(e.lineNumber),r=Pv(t);let o=!0,s=e.column,a=!0,l=e.column,u=0;for(;u<50&&(o||a);){if(o&&s<=1&&(o=!1),o){const c=i.charCodeAt(s-2);r.get(c)!==0?o=!1:s--}if(a&&l>i.length&&(a=!1),a){const c=i.charCodeAt(l-1);r.get(c)!==0?a=!1:l++}u++}return[i.substring(s-1,l-1),e.column-s]}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=Pv(this._context.configuration.options.get(115));let r=e.column,o=0;for(;r>1;){const s=t.charCodeAt(r-2);if(i.get(s)!==0||o>50)return t.substring(r-1,e.column-1);o++,r--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const i=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!ji(i.charCodeAt(0)))return i}return""}_getAriaLabel(e){return e.get(2)===1?E("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",Ho?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);this._accessibilitySupport===2&&t===sp.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(41),this._lineHeight=t.get(57),this._emptySelectionClipboard=t.get(30),this._copyWithSyntaxHighlighting=t.get(19),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(111))),(e.hasChanged(28)||e.hasChanged(79))&&(t.get(28)&&t.get(79)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new ve(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}if(Qt){this._renderInsideEditor(this._primaryCursorPosition,t,e,a0?0:1,this._lineHeight);return}this._renderInsideEditor(this._primaryCursorPosition,t,e,a0?0:1,a0?0:1)}_renderInsideEditor(e,t,i,r,o){this._lastRenderPosition=e;const s=this.textArea,a=this.textAreaCover;no.applyFontInfo(s,this._fontInfo),s.setTop(t),s.setLeft(i),s.setWidth(r),s.setHeight(o),a.setTop(0),a.setLeft(0),a.setWidth(0),a.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(no.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),a0){e.setWidth(0),e.setHeight(0),t.setWidth(0),t.setHeight(0);return}e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(47)?t.setClassName("monaco-editor-background textAreaCover "+$g.OUTER_CLASS_NAME):i.get(58).renderType!==0?t.setClassName("monaco-editor-background textAreaCover "+Fv.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}function CTe(n,e){const i=document.createElement("canvas").getContext("2d");i.font=xTe(e);const r=i.measureText(n);return eo?r.width+2:r.width}function xTe(n){return LTe("normal",n.fontWeight,n.fontSize,n.lineHeight,n.fontFamily)}function LTe(n,e,t,i,r){return`${n} normal ${e} ${t}px / ${i}px ${r}`}class kf{static columnSelect(e,t,i,r,o,s){let a=Math.abs(o-i)+1,l=i>o,u=r>s,c=r<s,d=[];for(let h=0;h<a;h++){let f=i+(l?-h:h),g=cn.columnFromVisibleColumn2(e,t,f,r),p=cn.columnFromVisibleColumn2(e,t,f,s),m=cn.visibleColumnFromColumn2(e,t,new ve(f,g)),v=cn.visibleColumnFromColumn2(e,t,new ve(f,p));c&&(m>s||v<r)||u&&(v>r||m<s)||d.push(new Ri(new ee(f,g,f,g),0,new ve(f,p),0))}if(d.length===0)for(let h=0;h<a;h++){const f=i+(l?-h:h),g=t.getLineMaxColumn(f);d.push(new Ri(new ee(f,g,f,g),0,new ve(f,g),0))}return{viewStates:d,reversed:l,fromLineNumber:i,fromVisualColumn:r,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(e,t,i){let r=i.toViewVisualColumn;return r>0&&r--,kf.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,r)}static columnSelectRight(e,t,i){let r=0;const o=Math.min(i.fromViewLineNumber,i.toViewLineNumber),s=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let l=o;l<=s;l++){const u=t.getLineMaxColumn(l),c=cn.visibleColumnFromColumn2(e,t,new ve(l,u));r=Math.max(r,c)}let a=i.toViewVisualColumn;return a<r&&a++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,a)}static columnSelectUp(e,t,i,r){const o=r?e.pageSize:1,s=Math.max(1,i.toViewLineNumber-o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}static columnSelectDown(e,t,i,r){const o=r?e.pageSize:1,s=Math.min(t.getLineCount(),i.toViewLineNumber+o);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,s,i.toViewVisualColumn)}}class jr{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return new Bt(r.endLineNumber,r.endColumn,r.endLineNumber,r.endColumn)}}class _1{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return new Bt(r.startLineNumber,r.startColumn,r.startLineNumber,r.startColumn)}}class kx{constructor(e,t,i,r,o=!1){this._range=e,this._text=t,this._columnDeltaOffset=r,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=o}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return new Bt(r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset,r.endLineNumber+this._lineNumberDeltaOffset,r.endColumn+this._columnDeltaOffset)}}class tre{constructor(e,t,i,r=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=r,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class b1{constructor(e,t,i){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class tn{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-Bbe(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const i=t.lineNumber-1;return new ve(i,e.getLineMaxColumn(i))}else return t}static leftPositionAtomicSoftTabs(e,t,i){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const r=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=Wb.atomicPosition(o,t.column-1,i,0);if(s!==-1&&s+1>=r)return new ve(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,i){const r=e.stickyTabStops?tn.leftPositionAtomicSoftTabs(t,i,e.tabSize):tn.leftPosition(t,i);return new b1(r.lineNumber,r.column,0)}static moveLeft(e,t,i,r,o){let s,a;if(i.hasSelection()&&!r)s=i.selection.startLineNumber,a=i.selection.startColumn;else{const l=i.position.delta(void 0,-(o-1)),u=t.normalizePosition(tn.clipPositionColumn(l,t),0),c=tn.left(e,t,u);s=c.lineNumber,a=c.column}return i.move(r,s,a,0)}static clipPositionColumn(e,t){return new ve(e.lineNumber,tn.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,i){return e<t?t:e>i?i:e}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i=i+zL(e.getLineContent(t),i-1):t<e.getLineCount()&&(t=t+1,i=e.getLineMinColumn(t)),new ve(t,i)}static rightPositionAtomicSoftTabs(e,t,i,r,o){if(i<e.getLineIndentColumn(t)){const s=e.getLineContent(t),a=Wb.atomicPosition(s,i-1,r,1);if(a!==-1)return new ve(t,a+1)}return this.rightPosition(e,t,i)}static right(e,t,i){const r=e.stickyTabStops?tn.rightPositionAtomicSoftTabs(t,i.lineNumber,i.column,e.tabSize,e.indentSize):tn.rightPosition(t,i.lineNumber,i.column);return new b1(r.lineNumber,r.column,0)}static moveRight(e,t,i,r,o){let s,a;if(i.hasSelection()&&!r)s=i.selection.endLineNumber,a=i.selection.endColumn;else{const l=i.position.delta(void 0,o-1),u=t.normalizePosition(tn.clipPositionColumn(l,t),1),c=tn.right(e,t,u);s=c.lineNumber,a=c.column}return i.move(r,s,a,0)}static down(e,t,i,r,o,s,a){const l=cn.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+o,u=t.getLineCount(),c=i===u&&r===t.getLineMaxColumn(i);return i=i+s,i>u?(i=u,a?r=t.getLineMaxColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=cn.columnFromVisibleColumn2(e,t,i,l),c?o=0:o=l-cn.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new b1(i,r,o)}static moveDown(e,t,i,r,o){let s,a;i.hasSelection()&&!r?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);let l=tn.down(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,i){let r=i.selection,o=tn.down(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=tn.down(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ri(new ee(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new ve(s.lineNumber,s.column),s.leftoverVisibleColumns)}static up(e,t,i,r,o,s,a){const l=cn.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize)+o,u=i===1&&r===1;return i=i-s,i<1?(i=1,a?r=t.getLineMinColumn(i):r=Math.min(t.getLineMaxColumn(i),r)):r=cn.columnFromVisibleColumn2(e,t,i,l),u?o=0:o=l-cn.visibleColumnFromColumn(t.getLineContent(i),r,e.tabSize),new b1(i,r,o)}static moveUp(e,t,i,r,o){let s,a;i.hasSelection()&&!r?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);let l=tn.up(e,t,s,a,i.leftoverVisibleColumns,o,!0);return i.move(r,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,i){let r=i.selection,o=tn.up(e,t,r.selectionStartLineNumber,r.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=tn.up(e,t,r.positionLineNumber,r.positionColumn,i.leftoverVisibleColumns,1,!1);return new Ri(new ee(o.lineNumber,o.column,o.lineNumber,o.column),o.leftoverVisibleColumns,new ve(s.lineNumber,s.column),s.leftoverVisibleColumns)}static _isBlankLine(e,t){return e.getLineFirstNonWhitespaceColumn(t)===0}static moveToPrevBlankLine(e,t,i,r){let o=i.position.lineNumber;for(;o>1&&this._isBlankLine(t,o);)o--;for(;o>1&&!this._isBlankLine(t,o);)o--;return i.move(r,o,t.getLineMinColumn(o),0)}static moveToNextBlankLine(e,t,i,r){const o=t.getLineCount();let s=i.position.lineNumber;for(;s<o&&this._isBlankLine(t,s);)s++;for(;s<o&&!this._isBlankLine(t,s);)s++;return i.move(r,s,t.getLineMinColumn(s),0)}static moveToBeginningOfLine(e,t,i,r){let o=i.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s,l;return i.position.column===a?l=s:l=a,i.move(r,o,l,0)}static moveToEndOfLine(e,t,i,r,o){let s=i.position.lineNumber,a=t.getLineMaxColumn(s);return i.move(r,s,a,o?1073741824-a:0)}static moveToBeginningOfBuffer(e,t,i,r){return i.move(r,1,1,0)}static moveToEndOfBuffer(e,t,i,r){let o=t.getLineCount(),s=t.getLineMaxColumn(o);return i.move(r,o,s,0)}}class Vg{static deleteRight(e,t,i,r){let o=[],s=e!==3;for(let a=0,l=r.length;a<l;a++){const u=r[a];let c=u;if(c.isEmpty()){let d=u.getPosition(),h=tn.right(t,i,d);c=new ee(h.lineNumber,h.column,d.lineNumber,d.column)}if(c.isEmpty()){o[a]=null;continue}c.startLineNumber!==c.endLineNumber&&(s=!0),o[a]=new jr(c,"")}return[s,o]}static isAutoClosingPairDelete(e,t,i,r,o,s,a){if(t==="never"&&i==="never"||e==="never")return!1;for(let l=0,u=s.length;l<u;l++){const c=s[l],d=c.getPosition();if(!c.isEmpty())return!1;const h=o.getLineContent(d.lineNumber);if(d.column<2||d.column>=h.length+1)return!1;const f=h.charAt(d.column-2),g=r.get(f);if(!g)return!1;if(_m(f)){if(i==="never")return!1}else if(t==="never")return!1;const p=h.charAt(d.column-1);let m=!1;for(const v of g)v.open===f&&v.close===p&&(m=!0);if(!m)return!1;if(e==="auto"){let v=!1;for(let y=0,_=a.length;y<_;y++){const b=a[y];if(d.lineNumber===b.startLineNumber&&d.column===b.startColumn){v=!0;break}}if(!v)return!1}}return!0}static _runAutoClosingPairDelete(e,t,i){let r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o].getPosition(),l=new ee(a.lineNumber,a.column-1,a.lineNumber,a.column+1);r[o]=new jr(l,"")}return[!0,r]}static deleteLeft(e,t,i,r,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,i,r,o))return this._runAutoClosingPairDelete(t,i,r);const s=[];let a=e!==2;for(let l=0,u=r.length;l<u;l++){let c=Vg.getDeleteRange(r[l],i,t);if(c.isEmpty()){s[l]=null;continue}c.startLineNumber!==c.endLineNumber&&(a=!0),s[l]=new jr(c,"")}return[a,s]}static getDeleteRange(e,t,i){if(!e.isEmpty())return e;const r=e.getPosition();if(i.useTabStops&&r.column>1){const o=t.getLineContent(r.lineNumber),s=ps(o),a=s===-1?o.length+1:s+1;if(r.column<=a){const l=cn.visibleColumnFromColumn2(i,t,r),u=cn.prevIndentTabStop(l,i.indentSize),c=cn.columnFromVisibleColumn2(i,t,r.lineNumber,u);return new ee(r.lineNumber,c,r.lineNumber,r.column)}}return ee.fromPositions(Vg.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const i=jbe(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,i+1)}else if(e.lineNumber>1){const i=e.lineNumber-1;return new ve(i,t.getLineMaxColumn(i))}else return e}static cut(e,t,i){let r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a.isEmpty())if(e.emptySelectionClipboard){let l=a.getPosition(),u,c,d,h;l.lineNumber<t.getLineCount()?(u=l.lineNumber,c=1,d=l.lineNumber+1,h=1):l.lineNumber>1?(u=l.lineNumber-1,c=t.getLineMaxColumn(l.lineNumber-1),d=l.lineNumber,h=t.getLineMaxColumn(l.lineNumber)):(u=l.lineNumber,c=1,d=l.lineNumber,h=t.getLineMaxColumn(l.lineNumber));let f=new ee(u,c,d,h);f.isEmpty()?r[o]=null:r[o]=new jr(f,"")}else r[o]=null;else r[o]=new jr(a,"")}return new ho(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Yn{static _createWord(e,t,i,r,o){return{start:r,end:o,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let r=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(r,e,i)}static _doFindPreviousWordOnLine(e,t,i){let r=0;for(let o=i.column-2;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===0){if(r===2)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1));r=1}else if(a===2){if(r===1)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1));r=2}else if(a===1&&r!==0)return this._createWord(e,r,a,o+1,this._findEndOfWord(e,t,r,o+1))}return r!==0?this._createWord(e,r,1,0,this._findEndOfWord(e,t,r,0)):null}static _findEndOfWord(e,t,i,r){let o=e.length;for(let s=r;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===1||i===1&&l===2||i===2&&l===0)return s}return o}static _findNextWordOnLine(e,t,i){let r=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(r,e,i)}static _doFindNextWordOnLine(e,t,i){let r=0,o=e.length;for(let s=i.column-1;s<o;s++){let a=e.charCodeAt(s),l=t.get(a);if(l===0){if(r===2)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s);r=1}else if(l===2){if(r===1)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s);r=2}else if(l===1&&r!==0)return this._createWord(e,r,l,this._findStartOfWord(e,t,r,s-1),s)}return r!==0?this._createWord(e,r,1,this._findStartOfWord(e,t,r,o-1),o):null}static _findStartOfWord(e,t,i,r){for(let o=r;o>=0;o--){let s=e.charCodeAt(o),a=t.get(s);if(a===1||i===1&&a===2||i===2&&a===0)return o+1}return 0}static moveWordLeft(e,t,i,r){let o=i.lineNumber,s=i.column;s===1&&o>1&&(o=o-1,s=t.getLineMaxColumn(o));let a=Yn._findPreviousWordOnLine(e,t,new ve(o,s));if(r===0)return new ve(o,a?a.start+1:1);if(r===1)return a&&a.wordType===2&&a.end-a.start===1&&a.nextCharClass===0&&(a=Yn._findPreviousWordOnLine(e,t,new ve(o,a.start+1))),new ve(o,a?a.start+1:1);if(r===3){for(;a&&a.wordType===2;)a=Yn._findPreviousWordOnLine(e,t,new ve(o,a.start+1));return new ve(o,a?a.start+1:1)}return a&&s<=a.end+1&&(a=Yn._findPreviousWordOnLine(e,t,new ve(o,a.start+1))),new ve(o,a?a.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===1)return i>1?new ve(i-1,e.getLineMaxColumn(i-1)):t;const o=e.getLineContent(i);for(let s=t.column-1;s>1;s--){const a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a===95&&l!==95)return new ve(i,s);if(Gf(a)&&Yu(l))return new ve(i,s);if(Yu(a)&&Yu(l)&&s+1<r){const u=o.charCodeAt(s);if(Gf(u))return new ve(i,s)}}return new ve(i,1)}static moveWordRight(e,t,i,r){let o=i.lineNumber,s=i.column,a=!1;s===t.getLineMaxColumn(o)&&o<t.getLineCount()&&(a=!0,o=o+1,s=1);let l=Yn._findNextWordOnLine(e,t,new ve(o,s));if(r===2)l&&l.wordType===2&&l.end-l.start===1&&l.nextCharClass===0&&(l=Yn._findNextWordOnLine(e,t,new ve(o,l.end+1))),l?s=l.end+1:s=t.getLineMaxColumn(o);else if(r===3){for(a&&(s=0);l&&(l.wordType===2||l.start+1<=s);)l=Yn._findNextWordOnLine(e,t,new ve(o,l.end+1));l?s=l.start+1:s=t.getLineMaxColumn(o)}else l&&!a&&s>=l.start+1&&(l=Yn._findNextWordOnLine(e,t,new ve(o,l.end+1))),l?s=l.start+1:s=t.getLineMaxColumn(o);return new ve(o,s)}static _moveWordPartRight(e,t){const i=t.lineNumber,r=e.getLineMaxColumn(i);if(t.column===r)return i<e.getLineCount()?new ve(i+1,1):t;const o=e.getLineContent(i);for(let s=t.column+1;s<r;s++){const a=o.charCodeAt(s-2),l=o.charCodeAt(s-1);if(a!==95&&l===95)return new ve(i,s);if(Gf(a)&&Yu(l))return new ve(i,s);if(Yu(a)&&Yu(l)&&s+1<r){const u=o.charCodeAt(s);if(Gf(u))return new ve(i,s)}}return new ve(i,r)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-2,o=by(i,r);return o+1<r?new ee(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const i=e.wordSeparators,r=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;if(Vg.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const d=e.selection.getPosition();return new ee(d.lineNumber,d.column-1,d.lineNumber,d.column+1)}const a=new ve(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,u=a.column;if(l===1&&u===1)return null;if(s){let d=this._deleteWordLeftWhitespace(r,a);if(d)return d}let c=Yn._findPreviousWordOnLine(i,r,a);return t===0?c?u=c.start+1:u>1?u=1:(l--,u=r.getLineMaxColumn(l)):(c&&u<=c.end+1&&(c=Yn._findPreviousWordOnLine(i,r,new ve(l,c.start+1))),c?u=c.end+1:u>1?u=1:(l--,u=r.getLineMaxColumn(l))),new ee(l,u,a.lineNumber,a.column)}static deleteInsideWord(e,t,i){if(!i.isEmpty())return i;const r=new ve(i.positionLineNumber,i.positionColumn);let o=this._deleteInsideWordWhitespace(t,r);return o||this._deleteInsideWordDetermineDeleteRange(e,t,r)}static _charAtIsWhitespace(e,t){const i=e.charCodeAt(t);return i===32||i===9}static _deleteInsideWordWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=i.length;if(r===0)return null;let o=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(i,o))return null;let s=Math.min(t.column-1,r-1);if(!this._charAtIsWhitespace(i,s))return null;for(;o>0&&this._charAtIsWhitespace(i,o-1);)o--;for(;s+1<r&&this._charAtIsWhitespace(i,s+1);)s++;return new ee(t.lineNumber,o+1,t.lineNumber,s+2)}static _deleteInsideWordDetermineDeleteRange(e,t,i){const r=t.getLineContent(i.lineNumber),o=r.length;if(o===0)return i.lineNumber>1?new ee(i.lineNumber-1,t.getLineMaxColumn(i.lineNumber-1),i.lineNumber,1):i.lineNumber<t.getLineCount()?new ee(i.lineNumber,1,i.lineNumber+1,1):new ee(i.lineNumber,1,i.lineNumber,1);const s=d=>d.start+1<=i.column&&i.column<=d.end+1,a=(d,h)=>(d=Math.min(d,i.column),h=Math.max(h,i.column),new ee(i.lineNumber,d,i.lineNumber,h)),l=d=>{let h=d.start+1,f=d.end+1,g=!1;for(;f-1<o&&this._charAtIsWhitespace(r,f-1);)g=!0,f++;if(!g)for(;h>1&&this._charAtIsWhitespace(r,h-2);)h--;return a(h,f)},u=Yn._findPreviousWordOnLine(e,t,i);if(u&&s(u))return l(u);const c=Yn._findNextWordOnLine(e,t,i);return c&&s(c)?l(c):u&&c?a(u.end+1,c.start+1):u?a(u.start+1,u.end+1):c?a(c.start+1,c.end+1):a(1,o+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Yn._moveWordPartLeft(e,i);return new ee(i.lineNumber,i.column,r.lineNumber,r.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let r=t;r<i;r++){let o=e.charAt(r);if(o!==" "&&o!=="	")return r}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),r=t.column-1,o=this._findFirstNonWhitespaceChar(i,r);return r+1<o?new ee(t.lineNumber,t.column,t.lineNumber,o+1):null}static deleteWordRight(e,t){const i=e.wordSeparators,r=e.model,o=e.selection,s=e.whitespaceHeuristics;if(!o.isEmpty())return o;const a=new ve(o.positionLineNumber,o.positionColumn);let l=a.lineNumber,u=a.column;const c=r.getLineCount(),d=r.getLineMaxColumn(l);if(l===c&&u===d)return null;if(s){let f=this._deleteWordRightWhitespace(r,a);if(f)return f}let h=Yn._findNextWordOnLine(i,r,a);return t===2?h?u=h.end+1:u<d||l===c?u=d:(l++,h=Yn._findNextWordOnLine(i,r,new ve(l,1)),h?u=h.start+1:u=r.getLineMaxColumn(l)):(h&&u>=h.start+1&&(h=Yn._findNextWordOnLine(i,r,new ve(l,h.end+1))),h?u=h.start+1:u<d||l===c?u=d:(l++,h=Yn._findNextWordOnLine(i,r,new ve(l,1)),h?u=h.start+1:u=r.getLineMaxColumn(l))),new ee(l,u,a.lineNumber,a.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),r=Yn._moveWordPartRight(e,i);return new ee(i.lineNumber,i.column,r.lineNumber,r.column)}static _createWordAtPosition(e,t,i){const r=new ee(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(r),startColumn:r.startColumn,endColumn:r.endColumn}}static getWordAtPosition(e,t,i){const r=Pv(t),o=Yn._findPreviousWordOnLine(r,e,i);if(o&&o.wordType===1&&o.start<=i.column-1&&i.column-1<=o.end)return Yn._createWordAtPosition(e,i.lineNumber,o);const s=Yn._findNextWordOnLine(r,e,i);return s&&s.wordType===1&&s.start<=i.column-1&&i.column-1<=s.end?Yn._createWordAtPosition(e,i.lineNumber,s):null}static word(e,t,i,r,o){const s=Pv(e.wordSeparators);let a=Yn._findPreviousWordOnLine(s,t,o),l=Yn._findNextWordOnLine(s,t,o);if(!r){let f,g;return a&&a.wordType===1&&a.start<=o.column-1&&o.column-1<=a.end?(f=a.start+1,g=a.end+1):l&&l.wordType===1&&l.start<=o.column-1&&o.column-1<=l.end?(f=l.start+1,g=l.end+1):(a?f=a.end+1:f=1,l?g=l.start+1:g=t.getLineMaxColumn(o.lineNumber)),new Ri(new ee(o.lineNumber,f,o.lineNumber,g),0,new ve(o.lineNumber,g),0)}let u,c;a&&a.wordType===1&&a.start<o.column-1&&o.column-1<a.end?(u=a.start+1,c=a.end+1):l&&l.wordType===1&&l.start<o.column-1&&o.column-1<l.end?(u=l.start+1,c=l.end+1):(u=o.column,c=o.column);let d=o.lineNumber,h;if(i.selectionStart.containsPosition(o))h=i.selectionStart.endColumn;else if(o.isBeforeOrEqual(i.selectionStart.getStartPosition())){h=u;let f=new ve(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.endColumn)}else{h=c;let f=new ve(d,h);i.selectionStart.containsPosition(f)&&(h=i.selectionStart.startColumn)}return i.move(!0,d,h,0)}}class ar{static addCursorDown(e,t,i){let r=[],o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];r[o++]=new yt(l.modelState,l.viewState),i?r[o++]=yt.fromModelState(tn.translateDown(e.cursorConfig,e.model,l.modelState)):r[o++]=yt.fromViewState(tn.translateDown(e.cursorConfig,e,l.viewState))}return r}static addCursorUp(e,t,i){let r=[],o=0;for(let s=0,a=t.length;s<a;s++){const l=t[s];r[o++]=new yt(l.modelState,l.viewState),i?r[o++]=yt.fromModelState(tn.translateUp(e.cursorConfig,e.model,l.modelState)):r[o++]=yt.fromViewState(tn.translateUp(e.cursorConfig,e,l.viewState))}return r}static moveToBeginningOfLine(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=this._moveToLineStart(e,a,i)}return r}static _moveToLineStart(e,t,i){const r=t.viewState.position.column,o=t.modelState.position.column,s=r===o,a=t.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(a);return!s&&!(r===l)?this._moveToLineStartByView(e,t,i):this._moveToLineStartByModel(e,t,i)}static _moveToLineStartByView(e,t,i){return yt.fromViewState(tn.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return yt.fromModelState(tn.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=this._moveToLineEnd(e,l,i,r)}return o}static _moveToLineEnd(e,t,i,r){const o=t.viewState.position,s=e.getLineMaxColumn(o.lineNumber),a=o.column===s,l=t.modelState.position,u=e.model.getLineMaxColumn(l.lineNumber),c=s-o.column===u-l.column;return a||c?this._moveToLineEndByModel(e,t,i,r):this._moveToLineEndByView(e,t,i,r)}static _moveToLineEndByView(e,t,i,r){return yt.fromViewState(tn.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,r))}static _moveToLineEndByModel(e,t,i,r){return yt.fromModelState(tn.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,r))}static expandLineSelection(e,t){let i=[];for(let r=0,o=t.length;r<o;r++){const s=t[r],a=s.modelState.selection.startLineNumber,l=e.model.getLineCount();let u=s.modelState.selection.endLineNumber,c;u===l?c=e.model.getLineMaxColumn(l):(u++,c=1),i[r]=yt.fromModelState(new Ri(new ee(a,1,a,1),0,new ve(u,c),0))}return i}static moveToBeginningOfBuffer(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=yt.fromModelState(tn.moveToBeginningOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static moveToEndOfBuffer(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o];r[o]=yt.fromModelState(tn.moveToEndOfBuffer(e.cursorConfig,e.model,a.modelState,i))}return r}static selectAll(e,t){const i=e.model.getLineCount(),r=e.model.getLineMaxColumn(i);return yt.fromModelState(new Ri(new ee(1,1,1,1),0,new ve(i,r),0))}static line(e,t,i,r,o){const s=e.model.validatePosition(r),a=o?e.coordinatesConverter.validateViewPosition(new ve(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!i||!t.modelState.hasSelection()){const u=e.model.getLineCount();let c=s.lineNumber+1,d=1;return c>u&&(c=u,d=e.model.getLineMaxColumn(c)),yt.fromModelState(new Ri(new ee(s.lineNumber,1,c,d),0,new ve(c,d),0))}const l=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<l)return yt.fromViewState(t.viewState.move(t.modelState.hasSelection(),a.lineNumber,1,0));if(s.lineNumber>l){const u=e.getLineCount();let c=a.lineNumber+1,d=1;return c>u&&(c=u,d=e.getLineMaxColumn(c)),yt.fromViewState(t.viewState.move(t.modelState.hasSelection(),c,d,0))}else{const u=t.modelState.selectionStart.getEndPosition();return yt.fromModelState(t.modelState.move(t.modelState.hasSelection(),u.lineNumber,u.column,0))}}static word(e,t,i,r){const o=e.model.validatePosition(r);return yt.fromModelState(Yn.word(e.cursorConfig,e.model,t.modelState,i,o))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new yt(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,r=t.viewState.position.column;return yt.fromViewState(new Ri(new ee(i,r,i,r),0,new ve(i,r),0))}static moveTo(e,t,i,r,o){const s=e.model.validatePosition(r),a=o?e.coordinatesConverter.validateViewPosition(new ve(o.lineNumber,o.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return yt.fromViewState(t.viewState.move(i,a.lineNumber,a.column,0))}static simpleMove(e,t,i,r,o,s){switch(i){case 0:return s===4?this._moveHalfLineLeft(e,t,r):this._moveLeft(e,t,r,o);case 1:return s===4?this._moveHalfLineRight(e,t,r):this._moveRight(e,t,r,o);case 2:return s===2?this._moveUpByViewLines(e,t,r,o):this._moveUpByModelLines(e,t,r,o);case 3:return s===2?this._moveDownByViewLines(e,t,r,o):this._moveDownByModelLines(e,t,r,o);case 4:return s===2?t.map(a=>yt.fromViewState(tn.moveToPrevBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>yt.fromModelState(tn.moveToPrevBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 5:return s===2?t.map(a=>yt.fromViewState(tn.moveToNextBlankLine(e.cursorConfig,e,a.viewState,r))):t.map(a=>yt.fromModelState(tn.moveToNextBlankLine(e.cursorConfig,e.model,a.modelState,r)));case 6:return this._moveToViewMinColumn(e,t,r);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,r);case 8:return this._moveToViewCenterColumn(e,t,r);case 9:return this._moveToViewMaxColumn(e,t,r);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,r);default:return null}}static viewportMove(e,t,i,r,o){const s=e.getCompletelyVisibleViewRange(),a=e.coordinatesConverter.convertViewRangeToModelRange(s);switch(i){case 11:{const l=this._firstLineNumberInRange(e.model,a,o),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 13:{const l=this._lastLineNumberInRange(e.model,a,o),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 12:{const l=Math.round((a.startLineNumber+a.endLineNumber)/2),u=e.model.getLineFirstNonWhitespaceColumn(l);return[this._moveToModelPosition(e,t[0],r,l,u)]}case 14:{let l=[];for(let u=0,c=t.length;u<c;u++){const d=t[u];l[u]=this.findPositionInViewportIfOutside(e,d,s,r)}return l}default:return null}}static findPositionInViewportIfOutside(e,t,i,r){let o=t.viewState.position.lineNumber;if(i.startLineNumber<=o&&o<=i.endLineNumber-1)return new yt(t.modelState,t.viewState);{o>i.endLineNumber-1&&(o=i.endLineNumber-1),o<i.startLineNumber&&(o=i.startLineNumber);const s=e.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,r,o,s)}}static _firstLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.min(t.endLineNumber,r+i-1)}static _lastLineNumberInRange(e,t,i){let r=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(r)&&r++,Math.max(r,t.endLineNumber-i+1)}static _moveLeft(e,t,i,r){return t.map(o=>yt.fromViewState(tn.moveLeft(e.cursorConfig,e,o.viewState,i,r)))}static _moveHalfLineLeft(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=Math.round(e.getLineContent(l).length/2);r[o]=yt.fromViewState(tn.moveLeft(e.cursorConfig,e,a.viewState,i,u))}return r}static _moveRight(e,t,i,r){return t.map(o=>yt.fromViewState(tn.moveRight(e.cursorConfig,e,o.viewState,i,r)))}static _moveHalfLineRight(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=Math.round(e.getLineContent(l).length/2);r[o]=yt.fromViewState(tn.moveRight(e.cursorConfig,e,a.viewState,i,u))}return r}static _moveDownByViewLines(e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=yt.fromViewState(tn.moveDown(e.cursorConfig,e,l.viewState,i,r))}return o}static _moveDownByModelLines(e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=yt.fromModelState(tn.moveDown(e.cursorConfig,e.model,l.modelState,i,r))}return o}static _moveUpByViewLines(e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=yt.fromViewState(tn.moveUp(e.cursorConfig,e,l.viewState,i,r))}return o}static _moveUpByModelLines(e,t,i,r){let o=[];for(let s=0,a=t.length;s<a;s++){const l=t[s];o[s]=yt.fromModelState(tn.moveUp(e.cursorConfig,e.model,l.modelState,i,r))}return o}static _moveToViewPosition(e,t,i,r,o){return yt.fromViewState(t.viewState.move(i,r,o,0))}static _moveToModelPosition(e,t,i,r,o){return yt.fromModelState(t.modelState.move(i,r,o,0))}static _moveToViewMinColumn(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=e.getLineMinColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=e.getLineFirstNonWhitespaceColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewCenterColumn(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=Math.round((e.getLineMaxColumn(l)+e.getLineMinColumn(l))/2);r[o]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewMaxColumn(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=e.getLineMaxColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,u)}return r}static _moveToViewLastNonWhitespaceColumn(e,t,i){let r=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.viewState.position.lineNumber,u=e.getLineLastNonWhitespaceColumn(l);r[o]=this._moveToViewPosition(e,a,i,l,u)}return r}}var yT;(function(n){const e=function(i){if(!fs(i))return!1;let r=i;return!(!il(r.to)||!ms(r.select)&&!dne(r.select)||!ms(r.by)&&!il(r.by)||!ms(r.value)&&!ow(r.value))};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(i){if(!i.to)return null;let r;switch(i.to){case n.RawDirection.Left:r=0;break;case n.RawDirection.Right:r=1;break;case n.RawDirection.Up:r=2;break;case n.RawDirection.Down:r=3;break;case n.RawDirection.PrevBlankLine:r=4;break;case n.RawDirection.NextBlankLine:r=5;break;case n.RawDirection.WrappedLineStart:r=6;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:r=7;break;case n.RawDirection.WrappedLineColumnCenter:r=8;break;case n.RawDirection.WrappedLineEnd:r=9;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:r=10;break;case n.RawDirection.ViewPortTop:r=11;break;case n.RawDirection.ViewPortBottom:r=13;break;case n.RawDirection.ViewPortCenter:r=12;break;case n.RawDirection.ViewPortIfOutside:r=14;break;default:return null}let o=0;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Character:o=3;break;case n.RawUnit.HalfLine:o=4;break}return{direction:r,unit:o,select:!!i.select,value:i.value||1}}n.parse=t})(yT||(yT={}));const VA=Object.create(null);function Oh(n,e){if(e<=0)return"";VA[n]||(VA[n]=["",n]);const t=VA[n];for(let i=t.length;i<=e;i++)t[i]=t[i-1]+n;return t[e]}class Dd{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,r,o){const s=cn.visibleColumnFromColumn(e,t,i);if(o){const a=Oh(" ",r),u=cn.prevIndentTabStop(s,r)/r;return Oh(a,u)}else{const a="	",u=cn.prevRenderTabStop(s,i)/i;return Oh(a,u)}}static shiftIndent(e,t,i,r,o){const s=cn.visibleColumnFromColumn(e,t,i);if(o){const a=Oh(" ",r),u=cn.nextIndentTabStop(s,r)/r;return Oh(a,u)}else{const a="	",u=cn.nextRenderTabStop(s,i)/i;return Oh(a,u)}}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let r=this._selection.endLineNumber;this._selection.endColumn===1&&i!==r&&(r=r-1);const{tabSize:o,indentSize:s,insertSpaces:a}=this._opts,l=i===r;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let u=0,c=0;for(let d=i;d<=r;d++,u=c){c=0;let h=e.getLineContent(d),f=ps(h);if(this._opts.isUnshift&&(h.length===0||f===0)||!l&&!this._opts.isUnshift&&h.length===0)continue;if(f===-1&&(f=h.length),d>1&&cn.visibleColumnFromColumn(h,f+1,o)%s!==0&&e.isCheapToTokenize(d-1)){let m=Dn.getEnterAction(this._opts.autoIndent,e,new ee(d-1,e.getLineMaxColumn(d-1),d-1,e.getLineMaxColumn(d-1)));if(m){if(c=u,m.appendText)for(let v=0,y=m.appendText.length;v<y&&c<s&&m.appendText.charCodeAt(v)===32;v++)c++;m.removeText&&(c=Math.max(0,c-m.removeText));for(let v=0;v<c&&!(f===0||h.charCodeAt(f-1)!==32);v++)f--}}if(this._opts.isUnshift&&f===0)continue;let g;this._opts.isUnshift?g=Dd.unshiftIndent(h,f+1,o,s,a):g=Dd.shiftIndent(h,f+1,o,s,a),this._addEditOperation(t,new ee(d,1,d,f+1),g),d===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&e.getLineLength(i)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const u=a?Oh(" ",s):"	";for(let c=i;c<=r;c++){const d=e.getLineContent(c);let h=ps(d);if(!(this._opts.isUnshift&&(d.length===0||h===0))&&!(!l&&!this._opts.isUnshift&&d.length===0)&&(h===-1&&(h=d.length),!(this._opts.isUnshift&&h===0)))if(this._opts.isUnshift){h=Math.min(h,s);for(let f=0;f<h;f++)if(d.charCodeAt(f)===9){h=f+1;break}this._addEditOperation(t,new ee(c,1,c,h+1),"")}else this._addEditOperation(t,new ee(c,1,c,1),u),c===i&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let r=t.getInverseEditOperations()[0];return new Bt(r.range.endLineNumber,r.range.endColumn,r.range.endLineNumber,r.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let r=this._selection.startColumn;return i.startColumn<=r?i:i.getDirection()===0?new Bt(i.startLineNumber,r,i.endLineNumber,i.endColumn):new Bt(i.endLineNumber,i.endColumn,i.startLineNumber,r)}return i}}class TTe{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new ee(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new ee(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),r=i[0].range,o=i[1].range;return new Bt(r.endLineNumber,r.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}class Xn{static indent(e,t,i){if(t===null||i===null)return[];let r=[];for(let o=0,s=i.length;o<s;o++)r[o]=new Dd(i[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static outdent(e,t,i){let r=[];for(let o=0,s=i.length;o<s;o++)r[o]=new Dd(i[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return r}static shiftIndent(e,t,i){return i=i||1,Dd.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Dd.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,r){let o=[];for(let s=0,a=i.length;s<a;s++)o[s]=new jr(i[s],r[s]);return new ho(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,r,o){let s=[];for(let a=0,l=i.length;a<l;a++){const u=i[a];let c=u.getPosition();if(o&&!u.isEmpty()&&(o=!1),o&&r.indexOf(`
`)!==r.length-1&&(o=!1),o){let d=new ee(c.lineNumber,1,c.lineNumber,1);s[a]=new tre(d,r,u,!0)}else s[a]=new jr(u,r)}return new ho(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,r,o){if(r||t.length===1)return null;if(o&&o.length===t.length)return o;if(e.multiCursorPaste==="spread"){i.charCodeAt(i.length-1)===10&&(i=i.substr(0,i.length-1)),i.charCodeAt(i.length-1)===13&&(i=i.substr(0,i.length-1));let s=DD(i);if(s.length===t.length)return s}return null}static paste(e,t,i,r,o,s){const a=this._distributePasteToCursors(e,i,r,o,s);return a?(i=i.sort(ee.compareRangesUsingStarts),this._distributedPaste(e,t,i,a)):this._simplePaste(e,t,i,r,o)}static _goodIndentForLine(e,t,i){let r=null,o="";const s=Dn.getInheritIndentForLine(e.autoIndent,t,i,!1);if(s)r=s.action,o=s.indentation;else if(i>1){let a;for(a=i-1;a>=1;a--){const c=t.getLineContent(a);if(by(c)>=0)break}if(a<1)return null;const l=t.getLineMaxColumn(a),u=Dn.getEnterAction(e.autoIndent,t,new ee(a,l,a,l));u&&(o=u.indentation+u.appendText)}return r&&(r===Ii.Indent&&(o=Xn.shiftIndent(e,o)),r===Ii.Outdent&&(o=Xn.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,i,r){let o="",s=i.getStartPosition();if(e.insertSpaces){let a=cn.visibleColumnFromColumn2(e,t,s),l=e.indentSize,u=l-a%l;for(let c=0;c<u;c++)o+=" "}else o="	";return new jr(i,o,r)}static tab(e,t,i){let r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a.isEmpty()){let l=t.getLineContent(a.startLineNumber);if(/^\s*$/.test(l)&&t.isCheapToTokenize(a.startLineNumber)){let u=this._goodIndentForLine(e,t,a.startLineNumber);u=u||"	";let c=e.normalizeIndentation(u);if(!l.startsWith(c)){r[o]=new jr(new ee(a.startLineNumber,1,a.startLineNumber,l.length+1),c,!0);continue}}r[o]=this._replaceJumpToNextIndent(e,t,a,!0)}else{if(a.startLineNumber===a.endLineNumber){let l=t.getLineMaxColumn(a.startLineNumber);if(a.startColumn!==1||a.endColumn!==l){r[o]=this._replaceJumpToNextIndent(e,t,a,!1);continue}}r[o]=new Dd(a,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return r}static compositionType(e,t,i,r,o,s,a,l){const u=r.map(c=>this._compositionType(i,c,o,s,a,l));return new ho(4,u,{shouldPushStackElementBefore:S1(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,i,r,o,s){if(!t.isEmpty())return null;const a=t.getPosition(),l=Math.max(1,a.column-r),u=Math.min(e.getLineMaxColumn(a.lineNumber),a.column+o),c=new ee(a.lineNumber,l,a.lineNumber,u);return e.getValueInRange(c)===i&&s===0?null:new kx(c,i,0,s)}static _typeCommand(e,t,i){return i?new _1(e,t,!0):new jr(e,t,!0)}static _enter(e,t,i,r){if(e.autoIndent===0)return Xn._typeCommand(r,`
`,i);if(!t.isCheapToTokenize(r.getStartPosition().lineNumber)||e.autoIndent===1){let l=t.getLineContent(r.startLineNumber),u=Ar(l).substring(0,r.startColumn-1);return Xn._typeCommand(r,`
`+e.normalizeIndentation(u),i)}const o=Dn.getEnterAction(e.autoIndent,t,r);if(o){if(o.indentAction===Ii.None)return Xn._typeCommand(r,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Ii.Indent)return Xn._typeCommand(r,`
`+e.normalizeIndentation(o.indentation+o.appendText),i);if(o.indentAction===Ii.IndentOutdent){const l=e.normalizeIndentation(o.indentation),u=e.normalizeIndentation(o.indentation+o.appendText),c=`
`+u+`
`+l;return i?new _1(r,c,!0):new kx(r,c,-1,u.length-l.length,!0)}else if(o.indentAction===Ii.Outdent){const l=Xn.unshiftIndent(e,o.indentation);return Xn._typeCommand(r,`
`+e.normalizeIndentation(l+o.appendText),i)}}const s=t.getLineContent(r.startLineNumber),a=Ar(s).substring(0,r.startColumn-1);if(e.autoIndent>=4){const l=Dn.getIndentForEnter(e.autoIndent,t,r,{unshiftIndent:u=>Xn.unshiftIndent(e,u),shiftIndent:u=>Xn.shiftIndent(e,u),normalizeIndentation:u=>e.normalizeIndentation(u)});if(l){let u=cn.visibleColumnFromColumn2(e,t,r.getEndPosition());const c=r.endColumn,d=t.getLineContent(r.endLineNumber),h=ps(d);if(h>=0?r=r.setEndPosition(r.endLineNumber,Math.max(r.endColumn,h+1)):r=r.setEndPosition(r.endLineNumber,t.getLineMaxColumn(r.endLineNumber)),i)return new _1(r,`
`+e.normalizeIndentation(l.afterEnter),!0);{let f=0;return c<=h+1&&(e.insertSpaces||(u=Math.ceil(u/e.indentSize)),f=Math.min(u+1-e.normalizeIndentation(l.afterEnter).length-1,0)),new kx(r,`
`+e.normalizeIndentation(l.afterEnter),0,f,!0)}}}return Xn._typeCommand(r,`
`+e.normalizeIndentation(a),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let r=0,o=i.length;r<o;r++)if(!t.isCheapToTokenize(i[r].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,r){const o=Dn.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),s=Dn.getIndentActionForType(e.autoIndent,t,i,r,{shiftIndent:a=>Xn.shiftIndent(e,a),unshiftIndent:a=>Xn.unshiftIndent(e,a)});if(s===null)return null;if(s!==e.normalizeIndentation(o)){const a=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return a===0?Xn._typeCommand(new ee(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+r,!1):Xn._typeCommand(new ee(i.startLineNumber,1,i.endLineNumber,i.endColumn),e.normalizeIndentation(s)+t.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+r,!1)}return null}static _isAutoClosingOvertype(e,t,i,r,o){if(e.autoClosingOvertype==="never"||!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(o))return!1;for(let s=0,a=i.length;s<a;s++){const l=i[s];if(!l.isEmpty())return!1;const u=l.getPosition(),c=t.getLineContent(u.lineNumber);if(c.charAt(u.column-1)!==o)return!1;const h=_m(o);if((u.column>2?c.charCodeAt(u.column-2):0)===92&&h)return!1;if(e.autoClosingOvertype==="auto"){let g=!1;for(let p=0,m=r.length;p<m;p++){const v=r[p];if(u.lineNumber===v.startLineNumber&&u.column===v.startColumn){g=!0;break}}if(!g)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,r,o){let s=[];for(let a=0,l=r.length;a<l;a++){const c=r[a].getPosition(),d=new ee(c.lineNumber,c.column,c.lineNumber,c.column+1);s[a]=new jr(d,o)}return new ho(4,s,{shouldPushStackElementBefore:S1(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const i=t.charAt(0),r=e.autoClosingPairs.autoClosingPairsOpenByStart.get(i)||[],o=e.autoClosingPairs.autoClosingPairsCloseByStart.get(i)||[],s=r.some(l=>t.startsWith(l.open)),a=o.some(l=>t.startsWith(l.close));return!s&&a}static _findAutoClosingPairOpen(e,t,i,r){const o=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(r);if(!o)return null;let s=null;for(const a of o)if(s===null||a.open.length>s.open.length){let l=!0;for(const u of i)if(t.getValueInRange(new ee(u.lineNumber,u.column-a.open.length+1,u.lineNumber,u.column))+r!==a.open){l=!1;break}l&&(s=a)}return s}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const i=t.close.charAt(t.close.length-1),r=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(i)||[];let o=null;for(const s of r)s.open!==t.open&&t.open.includes(s.open)&&t.close.endsWith(s.close)&&(!o||s.open.length>o.open.length)&&(o=s);return o?o.close:""}static _getAutoClosingPairClose(e,t,i,r,o){const s=_m(r),a=s?e.autoClosingQuotes:e.autoClosingBrackets;if(a==="never")return null;const l=this._findAutoClosingPairOpen(e,t,i.map(h=>h.getPosition()),r);if(!l)return null;const u=this._findSubAutoClosingPairClose(e,l);let c=!0;const d=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let h=0,f=i.length;h<f;h++){const g=i[h];if(!g.isEmpty())return null;const p=g.getPosition(),m=t.getLineContent(p.lineNumber),v=m.substring(p.column-1);if(v.startsWith(u)||(c=!1),m.length>p.column-1){const b=m.charAt(p.column-1);if(!Xn._isBeforeClosingBrace(e,v)&&!d(b))return null}if(!t.isCheapToTokenize(p.lineNumber))return null;if(l.open.length===1&&s&&a!=="always"){const b=Pv(e.wordSeparators);if(o&&p.column>1&&b.get(m.charCodeAt(p.column-2))===0||!o&&p.column>2&&b.get(m.charCodeAt(p.column-3))===0)return null}t.forceTokenization(p.lineNumber);const y=t.getLineTokens(p.lineNumber);let _=!1;try{_=Dn.shouldAutoClosePair(l,y,o?p.column:p.column-1)}catch(b){Rn(b)}if(!_)return null}return c?l.close.substring(0,l.close.length-u.length):l.close}static _runAutoClosingOpenCharType(e,t,i,r,o,s,a){let l=[];for(let u=0,c=r.length;u<c;u++){const d=r[u];l[u]=new nre(d,o,s,a)}return new ho(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return _m(t)?e.autoSurround==="quotes"||e.autoSurround==="languageDefined":e.autoSurround==="brackets"||e.autoSurround==="languageDefined"}static _isSurroundSelectionType(e,t,i,r){if(!Xn._shouldSurroundChar(e,r)||!e.surroundingPairs.hasOwnProperty(r))return!1;const o=_m(r);for(let s=0,a=i.length;s<a;s++){const l=i[s];if(l.isEmpty())return!1;let u=!0;for(let c=l.startLineNumber;c<=l.endLineNumber;c++){const d=t.getLineContent(c),h=c===l.startLineNumber?l.startColumn-1:0,f=c===l.endLineNumber?l.endColumn-1:d.length,g=d.substring(h,f);if(/[^ \t]/.test(g)){u=!1;break}}if(u)return!1;if(o&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn){const c=t.getValueInRange(l);if(_m(c))return!1}}return!0}static _runSurroundSelectionType(e,t,i,r,o){let s=[];for(let a=0,l=r.length;a<l;a++){const u=r[a],c=t.surroundingPairs[o];s[a]=new TTe(u,o,c)}return new ho(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!!(i.length===1&&t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,r,o){if(!t.electricChars.hasOwnProperty(o)||!r.isEmpty())return null;let s=r.getPosition();i.forceTokenization(s.lineNumber);let a=i.getLineTokens(s.lineNumber),l;try{l=Dn.onElectricCharacter(o,a,s.column)}catch(u){return Rn(u),null}if(!l)return null;if(l.matchOpenBracket){let u=(a.getLineContent()+o).lastIndexOf(l.matchOpenBracket)+1,c=i.findMatchingBracketUp(l.matchOpenBracket,{lineNumber:s.lineNumber,column:u});if(c){if(c.startLineNumber===s.lineNumber)return null;let d=i.getLineContent(c.startLineNumber),h=Ar(d),f=t.normalizeIndentation(h),g=i.getLineContent(s.lineNumber),p=i.getLineFirstNonWhitespaceColumn(s.lineNumber)||s.column,m=g.substring(p-1,s.column-1),v=f+m+o,y=new ee(s.lineNumber,1,s.lineNumber,s.column);const _=new jr(y,v);return new ho(WA(v,e),[_],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,r,o,s){if(!r||Bt.selectionsArrEqual(r,o))return null;let a=null;for(const u of o){if(!u.isEmpty())return null;const c=u.getPosition(),d=i.getValueInRange(new ee(c.lineNumber,c.column-1,c.lineNumber,c.column));if(a===null)a=d;else if(a!==d)return null}if(!a)return null;if(this._isAutoClosingOvertype(t,i,o,s,a)){const u=o.map(c=>new jr(new ee(c.positionLineNumber,c.positionColumn,c.positionLineNumber,c.positionColumn+1),"",!1));return new ho(4,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const l=this._getAutoClosingPairClose(t,i,o,a,!1);return l!==null?this._runAutoClosingOpenCharType(e,t,i,o,a,!1,l):null}static typeWithInterceptors(e,t,i,r,o,s,a){if(!e&&a===`
`){let c=[];for(let d=0,h=o.length;d<h;d++)c[d]=Xn._enter(i,r,!1,o[d]);return new ho(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,r,o)){let c=[],d=!1;for(let h=0,f=o.length;h<f;h++)if(c[h]=this._runAutoIndentType(i,r,o[h],a),!c[h]){d=!0;break}if(!d)return new ho(4,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,r,o,s,a))return this._runAutoClosingOvertype(t,i,r,o,a);if(!e){const c=this._getAutoClosingPairClose(i,r,o,a,!0);if(c)return this._runAutoClosingOpenCharType(t,i,r,o,a,!0,c)}if(this._isSurroundSelectionType(i,r,o,a))return this._runSurroundSelectionType(t,i,r,o,a);if(!e&&this._isTypeInterceptorElectricChar(i,r,o)){const c=this._typeInterceptorElectricChar(t,i,r,o[0],a);if(c)return c}let l=[];for(let c=0,d=o.length;c<d;c++)l[c]=new jr(o[c],a);const u=WA(a,t);return new ho(u,l,{shouldPushStackElementBefore:S1(t,u),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,r,o){let s=[];for(let l=0,u=r.length;l<u;l++)s[l]=new jr(r[l],o);const a=WA(o,e);return new ho(a,s,{shouldPushStackElementBefore:S1(e,a),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(t===null||i===null)return[];let r=[];for(let o=0,s=i.length;o<s;o++){let a=i[o].positionLineNumber;if(a===1)r[o]=new _1(new ee(1,1,1,1),`
`);else{a--;let l=t.getLineMaxColumn(a);r[o]=this._enter(e,t,!1,new ee(a,l,a,l))}}return r}static lineInsertAfter(e,t,i){if(t===null||i===null)return[];let r=[];for(let o=0,s=i.length;o<s;o++){const a=i[o].positionLineNumber;let l=t.getLineMaxColumn(a);r[o]=this._enter(e,t,!1,new ee(a,l,a,l))}return r}static lineBreakInsert(e,t,i){let r=[];for(let o=0,s=i.length;o<s;o++)r[o]=this._enter(e,t,!0,i[o]);return r}}class nre extends kx{constructor(e,t,i,r){super(e,(i?t:"")+r,0,-r.length),this._openCharacter=t,this._closeCharacter=r,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let r=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new ee(r.startLineNumber,r.endColumn-this._closeCharacter.length,r.endLineNumber,r.endColumn),this.enclosingRange=new ee(r.startLineNumber,r.endColumn-this._openCharacter.length-this._closeCharacter.length,r.endLineNumber,r.endColumn),super.computeCursorState(e,t)}}function WA(n,e){return n===" "?e===5||e===6?6:5:4}function S1(n,e){return l8(n)&&!l8(e)?!0:n===5?!1:a8(n)!==a8(e)}function a8(n){return n===6||n===5?"space":n}function l8(n){return n===4||n===5||n===6}var Re;(function(n){n.editorSimpleInput=new ht("editorSimpleInput",!1,!0),n.editorTextFocus=new ht("editorTextFocus",!1,E("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),n.focus=new ht("editorFocus",!1,E("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),n.textInputFocus=new ht("textInputFocus",!1,E("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),n.readOnly=new ht("editorReadonly",!1,E("editorReadonly","Whether the editor is read only")),n.inDiffEditor=new ht("inDiffEditor",!1,E("inDiffEditor","Whether the context is a diff editor")),n.columnSelection=new ht("editorColumnSelection",!1,E("editorColumnSelection","Whether `editor.columnSelection` is enabled")),n.writable=n.readOnly.toNegated(),n.hasNonEmptySelection=new ht("editorHasSelection",!1,E("editorHasSelection","Whether the editor has text selected")),n.hasOnlyEmptySelection=n.hasNonEmptySelection.toNegated(),n.hasMultipleSelections=new ht("editorHasMultipleSelections",!1,E("editorHasMultipleSelections","Whether the editor has multiple selections")),n.hasSingleSelection=n.hasMultipleSelections.toNegated(),n.tabMovesFocus=new ht("editorTabMovesFocus",!1,E("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),n.tabDoesNotMoveFocus=n.tabMovesFocus.toNegated(),n.isInWalkThroughSnippet=new ht("isInEmbeddedEditor",!1,!0),n.canUndo=new ht("canUndo",!1,!0),n.canRedo=new ht("canRedo",!1,!0),n.hoverVisible=new ht("editorHoverVisible",!1,E("editorHoverVisible","Whether the editor hover is visible")),n.inCompositeEditor=new ht("inCompositeEditor",void 0,E("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),n.notInCompositeEditor=n.inCompositeEditor.toNegated(),n.languageId=new ht("editorLangId","",E("editorLangId","The language identifier of the editor")),n.hasCompletionItemProvider=new ht("editorHasCompletionItemProvider",!1,E("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),n.hasCodeActionsProvider=new ht("editorHasCodeActionsProvider",!1,E("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),n.hasCodeLensProvider=new ht("editorHasCodeLensProvider",!1,E("editorHasCodeLensProvider","Whether the editor has a code lens provider")),n.hasDefinitionProvider=new ht("editorHasDefinitionProvider",!1,E("editorHasDefinitionProvider","Whether the editor has a definition provider")),n.hasDeclarationProvider=new ht("editorHasDeclarationProvider",!1,E("editorHasDeclarationProvider","Whether the editor has a declaration provider")),n.hasImplementationProvider=new ht("editorHasImplementationProvider",!1,E("editorHasImplementationProvider","Whether the editor has an implementation provider")),n.hasTypeDefinitionProvider=new ht("editorHasTypeDefinitionProvider",!1,E("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),n.hasHoverProvider=new ht("editorHasHoverProvider",!1,E("editorHasHoverProvider","Whether the editor has a hover provider")),n.hasDocumentHighlightProvider=new ht("editorHasDocumentHighlightProvider",!1,E("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),n.hasDocumentSymbolProvider=new ht("editorHasDocumentSymbolProvider",!1,E("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),n.hasReferenceProvider=new ht("editorHasReferenceProvider",!1,E("editorHasReferenceProvider","Whether the editor has a reference provider")),n.hasRenameProvider=new ht("editorHasRenameProvider",!1,E("editorHasRenameProvider","Whether the editor has a rename provider")),n.hasSignatureHelpProvider=new ht("editorHasSignatureHelpProvider",!1,E("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),n.hasInlayHintsProvider=new ht("editorHasInlayHintsProvider",!1,E("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),n.hasDocumentFormattingProvider=new ht("editorHasDocumentFormattingProvider",!1,E("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),n.hasDocumentSelectionFormattingProvider=new ht("editorHasDocumentSelectionFormattingProvider",!1,E("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),n.hasMultipleDocumentFormattingProvider=new ht("editorHasMultipleDocumentFormattingProvider",!1,E("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),n.hasMultipleDocumentSelectionFormattingProvider=new ht("editorHasMultipleDocumentSelectionFormattingProvider",!1,E("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(Re||(Re={}));const Pt=0;class ei extends dp{runEditorCommand(e,t,i){const r=t._getViewModel();r&&this.runCoreEditorCommand(r,i||{})}}var _T;(function(n){const e=function(i){if(!fs(i))return!1;const r=i;return!(!il(r.to)||!ms(r.by)&&!il(r.by)||!ms(r.value)&&!ow(r.value)||!ms(r.revealCursor)&&!dne(r.revealCursor))};n.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:e,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},n.RawDirection={Up:"up",Down:"down"},n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(i){let r;switch(i.to){case n.RawDirection.Up:r=1;break;case n.RawDirection.Down:r=2;break;default:return null}let o;switch(i.by){case n.RawUnit.Line:o=1;break;case n.RawUnit.WrappedLine:o=2;break;case n.RawUnit.Page:o=3;break;case n.RawUnit.HalfPage:o=4;break;default:o=2}const s=Math.floor(i.value||1),a=!!i.revealCursor;return{direction:r,unit:o,value:s,revealCursor:a,select:!!i.select}}n.parse=t})(_T||(_T={}));var Pm;(function(n){const e=function(t){if(!fs(t))return!1;const i=t;return!(!ow(i.lineNumber)&&!il(i.lineNumber)||!ms(i.at)&&!il(i.at))};n.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:e,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},n.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(Pm||(Pm={}));class $R{constructor(e){e.addImplementation(1e4,"code-editor",(t,i)=>{const r=t.get(mr).getFocusedCodeEditor();return r&&r.hasTextFocus()?this._runEditorCommand(t,r,i):!1}),e.addImplementation(1e3,"generic-dom-input-textarea",(t,i)=>{const r=document.activeElement;return r&&["input","textarea"].indexOf(r.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),e.addImplementation(0,"generic-dom",(t,i)=>{const r=t.get(mr).getActiveCodeEditor();return r?(r.focus(),this._runEditorCommand(t,r,i)):!1})}_runEditorCommand(e,t,i){const r=this.runEditorCommand(e,t,i);return r||!0}}var Li;(function(n){class e extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,[ar.moveTo(y,y.getPrimaryCursorState(),this._inSelectionMode,_.position,_.viewPosition)]),y.revealPrimaryCursor(_.source,!0)}}n.MoveTo=Xe(new e({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),n.MoveToSelect=Xe(new e({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class t extends ei{runCoreEditorCommand(y,_){y.model.pushStackElement();const b=this._getColumnSelectResult(y,y.getPrimaryCursorState(),y.getCursorColumnSelectData(),_);y.setCursorStates(_.source,3,b.viewStates.map(S=>yt.fromViewState(S))),y.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:b.fromLineNumber,fromViewVisualColumn:b.fromVisualColumn,toViewLineNumber:b.toLineNumber,toViewVisualColumn:b.toVisualColumn}),b.reversed?y.revealTopMostCursor(_.source):y.revealBottomMostCursor(_.source)}}n.ColumnSelect=Xe(new class extends t{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(v,y,_,b){const S=v.model.validatePosition(b.position),w=v.coordinatesConverter.validateViewPosition(new ve(b.viewPosition.lineNumber,b.viewPosition.column),S);let C=b.doColumnSelect?_.fromViewLineNumber:w.lineNumber,x=b.doColumnSelect?_.fromViewVisualColumn:b.mouseColumn-1;return kf.columnSelect(v.cursorConfig,v,C,x,w.lineNumber,b.mouseColumn-1)}}),n.CursorColumnSelectLeft=Xe(new class extends t{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(v,y,_,b){return kf.columnSelectLeft(v.cursorConfig,v,_)}}),n.CursorColumnSelectRight=Xe(new class extends t{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(v,y,_,b){return kf.columnSelectRight(v.cursorConfig,v,_)}});class i extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,_,b,S){return kf.columnSelectUp(y.cursorConfig,y,b,this._isPaged)}}n.CursorColumnSelectUp=Xe(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3600,linux:{primary:0}}})),n.CursorColumnSelectPageUp=Xe(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3595,linux:{primary:0}}}));class r extends t{constructor(y){super(y),this._isPaged=y.isPaged}_getColumnSelectResult(y,_,b,S){return kf.columnSelectDown(y.cursorConfig,y,b,this._isPaged)}}n.CursorColumnSelectDown=Xe(new r({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3602,linux:{primary:0}}})),n.CursorColumnSelectPageDown=Xe(new r({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3596,linux:{primary:0}}}));class o extends ei{constructor(){super({id:"cursorMove",precondition:void 0,description:yT.description})}runCoreEditorCommand(y,_){const b=yT.parse(_);b&&this._runCursorMove(y,_.source,b)}_runCursorMove(y,_,b){y.model.pushStackElement(),y.setCursorStates(_,3,o._move(y,y.getCursorStates(),b)),y.revealPrimaryCursor(_,!0)}static _move(y,_,b){const S=b.select,w=b.value;switch(b.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return ar.simpleMove(y,_,b.direction,S,w,b.unit);case 11:case 13:case 12:case 14:return ar.viewportMove(y,_,b.direction,S,w);default:return null}}}n.CursorMoveImpl=o,n.CursorMove=Xe(new o);class s extends ei{constructor(y){super(y),this._staticArgs=y.args}runCoreEditorCommand(y,_){let b=this._staticArgs;this._staticArgs.value===-1&&(b={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:y.cursorConfig.pageSize}),y.model.pushStackElement(),y.setCursorStates(_.source,3,ar.simpleMove(y,y.getCursorStates(),b.direction,b.select,b.value,b.unit)),y.revealPrimaryCursor(_.source,!0)}}n.CursorLeft=Xe(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),n.CursorLeftSelect=Xe(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1039}})),n.CursorRight=Xe(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),n.CursorRightSelect=Xe(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1041}})),n.CursorUp=Xe(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),n.CursorUpSelect=Xe(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),n.CursorPageUp=Xe(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:11}})),n.CursorPageUpSelect=Xe(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1035}})),n.CursorDown=Xe(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),n.CursorDownSelect=Xe(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),n.CursorPageDown=Xe(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:12}})),n.CursorPageDownSelect=Xe(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1036}})),n.CreateCursor=Xe(new class extends ei{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(v,y){let _;y.wholeLine?_=ar.line(v,v.getPrimaryCursorState(),!1,y.position,y.viewPosition):_=ar.moveTo(v,v.getPrimaryCursorState(),!1,y.position,y.viewPosition);const b=v.getCursorStates();if(b.length>1){const S=_.modelState?_.modelState.position:null,w=_.viewState?_.viewState.position:null;for(let C=0,x=b.length;C<x;C++){const L=b[C];if(!(S&&!L.modelState.selection.containsPosition(S))&&!(w&&!L.viewState.selection.containsPosition(w))){b.splice(C,1),v.model.pushStackElement(),v.setCursorStates(y.source,3,b);return}}}b.push(_),v.model.pushStackElement(),v.setCursorStates(y.source,3,b)}}),n.LastCursorMoveToSelect=Xe(new class extends ei{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(v,y){const _=v.getLastAddedCursorIndex(),b=v.getCursorStates(),S=b.slice(0);S[_]=ar.moveTo(v,b[_],!0,y.position,y.viewPosition),v.model.pushStackElement(),v.setCursorStates(y.source,3,S)}});class a extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,ar.moveToBeginningOfLine(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(_.source,!0)}}n.CursorHome=Xe(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),n.CursorHomeSelect=Xe(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class l extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,this._exec(y.getCursorStates())),y.revealPrimaryCursor(_.source,!0)}_exec(y){const _=[];for(let b=0,S=y.length;b<S;b++){const w=y[b],C=w.modelState.position.lineNumber;_[b]=yt.fromModelState(w.modelState.move(this._inSelectionMode,C,1,0))}return _}}n.CursorLineStart=Xe(new l({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:0,mac:{primary:287}}})),n.CursorLineStartSelect=Xe(new l({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:0,mac:{primary:1311}}}));class u extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,ar.moveToEndOfLine(y,y.getCursorStates(),this._inSelectionMode,_.sticky||!1)),y.revealPrimaryCursor(_.source,!0)}}n.CursorEnd=Xe(new u({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Pt,kbExpr:Re.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),n.CursorEndSelect=Xe(new u({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:Pt,kbExpr:Re.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:E("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class c extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,this._exec(y,y.getCursorStates())),y.revealPrimaryCursor(_.source,!0)}_exec(y,_){const b=[];for(let S=0,w=_.length;S<w;S++){const C=_[S],x=C.modelState.position.lineNumber,L=y.model.getLineMaxColumn(x);b[S]=yt.fromModelState(C.modelState.move(this._inSelectionMode,x,L,0))}return b}}n.CursorLineEnd=Xe(new c({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:0,mac:{primary:291}}})),n.CursorLineEndSelect=Xe(new c({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,ar.moveToBeginningOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(_.source,!0)}}n.CursorTop=Xe(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2062,mac:{primary:2064}}})),n.CursorTopSelect=Xe(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3086,mac:{primary:3088}}}));class h extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,ar.moveToEndOfBuffer(y,y.getCursorStates(),this._inSelectionMode)),y.revealPrimaryCursor(_.source,!0)}}n.CursorBottom=Xe(new h({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2061,mac:{primary:2066}}})),n.CursorBottomSelect=Xe(new h({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:3085,mac:{primary:3090}}}));class f extends ei{constructor(){super({id:"editorScroll",precondition:void 0,description:_T.description})}runCoreEditorCommand(y,_){const b=_T.parse(_);b&&this._runEditorScroll(y,_.source,b)}_runEditorScroll(y,_,b){const S=this._computeDesiredScrollTop(y,b);if(b.revealCursor){const w=y.getCompletelyVisibleViewRangeAtScrollTop(S);y.setCursorStates(_,3,[ar.findPositionInViewportIfOutside(y,y.getPrimaryCursorState(),w,b.select)])}y.setScrollTop(S,0)}_computeDesiredScrollTop(y,_){if(_.unit===1){const w=y.getCompletelyVisibleViewRange(),C=y.coordinatesConverter.convertViewRangeToModelRange(w);let x;_.direction===1?x=Math.max(1,C.startLineNumber-_.value):x=Math.min(y.model.getLineCount(),C.startLineNumber+_.value);const L=y.coordinatesConverter.convertModelPositionToViewPosition(new ve(x,1));return y.getVerticalOffsetForLineNumber(L.lineNumber)}let b;_.unit===3?b=y.cursorConfig.pageSize*_.value:_.unit===4?b=Math.round(y.cursorConfig.pageSize/2)*_.value:b=_.value;const S=(_.direction===1?-1:1)*b;return y.getScrollTop()+S*y.cursorConfig.lineHeight}}n.EditorScrollImpl=f,n.EditorScroll=Xe(new f),n.ScrollLineUp=Xe(new class extends ei{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(v,y){n.EditorScroll._runEditorScroll(v,y.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageUp=Xe(new class extends ei{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(v,y){n.EditorScroll._runEditorScroll(v,y.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),n.ScrollLineDown=Xe(new class extends ei{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(v,y){n.EditorScroll._runEditorScroll(v,y.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),n.ScrollPageDown=Xe(new class extends ei{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(v,y){n.EditorScroll._runEditorScroll(v,y.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class g extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,[ar.word(y,y.getPrimaryCursorState(),this._inSelectionMode,_.position)]),y.revealPrimaryCursor(_.source,!0)}}n.WordSelect=Xe(new g({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),n.WordSelectDrag=Xe(new g({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),n.LastCursorWordSelect=Xe(new class extends ei{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(v,y){const _=v.getLastAddedCursorIndex(),b=v.getCursorStates(),S=b.slice(0),w=b[_];S[_]=ar.word(v,w,w.modelState.hasSelection(),y.position),v.model.pushStackElement(),v.setCursorStates(y.source,3,S)}});class p extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){y.model.pushStackElement(),y.setCursorStates(_.source,3,[ar.line(y,y.getPrimaryCursorState(),this._inSelectionMode,_.position,_.viewPosition)]),y.revealPrimaryCursor(_.source,!1)}}n.LineSelect=Xe(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),n.LineSelectDrag=Xe(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class m extends ei{constructor(y){super(y),this._inSelectionMode=y.inSelectionMode}runCoreEditorCommand(y,_){const b=y.getLastAddedCursorIndex(),S=y.getCursorStates(),w=S.slice(0);w[b]=ar.line(y,S[b],this._inSelectionMode,_.position,_.viewPosition),y.model.pushStackElement(),y.setCursorStates(_.source,3,w)}}n.LastCursorLineSelect=Xe(new m({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),n.LastCursorLineSelectDrag=Xe(new m({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),n.ExpandLineSelection=Xe(new class extends ei{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:2090}})}runCoreEditorCommand(v,y){v.model.pushStackElement(),v.setCursorStates(y.source,3,ar.expandLineSelection(v,v.getCursorStates())),v.revealPrimaryCursor(y.source,!0)}}),n.CancelSelection=Xe(new class extends ei{constructor(){super({id:"cancelSelection",precondition:Re.hasNonEmptySelection,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,y){v.model.pushStackElement(),v.setCursorStates(y.source,3,[ar.cancelSelection(v,v.getPrimaryCursorState())]),v.revealPrimaryCursor(y.source,!0)}}),n.RemoveSecondaryCursors=Xe(new class extends ei{constructor(){super({id:"removeSecondaryCursors",precondition:Re.hasMultipleSelections,kbOpts:{weight:Pt+1,kbExpr:Re.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(v,y){v.model.pushStackElement(),v.setCursorStates(y.source,3,[v.getPrimaryCursorState()]),v.revealPrimaryCursor(y.source,!0),TR(E("removedCursor","Removed secondary cursors"))}}),n.RevealLine=Xe(new class extends ei{constructor(){super({id:"revealLine",precondition:void 0,description:Pm.description})}runCoreEditorCommand(v,y){const _=y,b=_.lineNumber||0;let S=typeof b=="number"?b+1:parseInt(b)+1;S<1&&(S=1);const w=v.model.getLineCount();S>w&&(S=w);const C=new ee(S,1,S,v.model.getLineMaxColumn(S));let x=0;if(_.at)switch(_.at){case Pm.RawAtArgument.Top:x=3;break;case Pm.RawAtArgument.Center:x=1;break;case Pm.RawAtArgument.Bottom:x=4;break}const L=v.coordinatesConverter.convertModelRangeToViewRange(C);v.revealRange(y.source,!1,L,x,0)}}),n.SelectAll=new class extends $R{constructor(){super(bCe)}runDOMCommand(){eo&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(v,y,_){const b=y._getViewModel();b&&this.runCoreEditorCommand(b,_)}runCoreEditorCommand(v,y){v.model.pushStackElement(),v.setCursorStates("keyboard",3,[ar.selectAll(v,v.getPrimaryCursorState())])}},n.SetSelection=Xe(new class extends ei{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(v,y){v.model.pushStackElement(),v.setCursorStates(y.source,3,[yt.fromModelSelection(y.selection)])}})})(Li||(Li={}));const ITe=dn.and(Re.textInputFocus,Re.columnSelection);function Ly(n,e){Cy.registerKeybindingRule({id:n,primary:e,when:ITe,weight:Pt+1})}Ly(Li.CursorColumnSelectLeft.id,1039);Ly(Li.CursorColumnSelectRight.id,1041);Ly(Li.CursorColumnSelectUp.id,1040);Ly(Li.CursorColumnSelectPageUp.id,1035);Ly(Li.CursorColumnSelectDown.id,1042);Ly(Li.CursorColumnSelectPageDown.id,1036);function u8(n){return n.register(),n}var c8;(function(n){class e extends dp{runEditorCommand(i,r,o){const s=r._getViewModel();s&&this.runCoreEditingCommand(r,s,o||{})}}n.CoreEditingCommand=e,n.LineBreakInsert=Xe(new class extends e{constructor(){super({id:"lineBreakInsert",precondition:Re.writable,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Xn.lineBreakInsert(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection)))}}),n.Outdent=Xe(new class extends e{constructor(){super({id:"outdent",precondition:Re.writable,kbOpts:{weight:Pt,kbExpr:dn.and(Re.editorTextFocus,Re.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Xn.outdent(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.Tab=Xe(new class extends e{constructor(){super({id:"tab",precondition:Re.writable,kbOpts:{weight:Pt,kbExpr:dn.and(Re.editorTextFocus,Re.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(t,i,r){t.pushUndoStop(),t.executeCommands(this.id,Xn.tab(i.cursorConfig,i.model,i.getCursorStates().map(o=>o.modelState.selection))),t.pushUndoStop()}}),n.DeleteLeft=Xe(new class extends e{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(t,i,r){const[o,s]=Vg.deleteLeft(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection),i.getCursorAutoClosedCharacters());o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(2)}}),n.DeleteRight=Xe(new class extends e{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:Pt,kbExpr:Re.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(t,i,r){const[o,s]=Vg.deleteRight(i.getPrevEditOperationType(),i.cursorConfig,i.model,i.getCursorStates().map(a=>a.modelState.selection));o&&t.pushUndoStop(),t.executeCommands(this.id,s),i.setPrevEditOperationType(3)}}),n.Undo=new class extends $R{constructor(){super(hie)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(79)===!0))return i.getModel().undo()}},n.Redo=new class extends $R{constructor(){super(fie)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(t,i,r){if(!(!i.hasModel()||i.getOption(79)===!0))return i.getModel().redo()}}})(c8||(c8={}));class d8 extends XD{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(mr).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function fp(n,e){u8(new d8("default:"+n,n)),u8(new d8(n,n,e))}fp("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]});fp("replacePreviousChar");fp("compositionType");fp("compositionStart");fp("compositionEnd");fp("paste");fp("cut");class DTe{constructor(e,t,i,r){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=r}paste(e,t,i,r){this.commandDelegate.paste(e,t,i,r)}type(e){this.commandDelegate.type(e)}compositionType(e,t,i,r){this.commandDelegate.compositionType(e,t,i,r)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){Li.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new ve(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(68)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(68)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=Ho&&t.get(95),r=t.get(16);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():e.mouseDownCount===3?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount===2?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):r?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){Li.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){Li.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),Li.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),Li.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){Li.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){Li.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){Li.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){Li.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){Li.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){Li.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){Li.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){Li.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){Li.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class iE{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseDropCanceled(){this.onMouseDropCanceled&&this.onMouseDropCanceled()}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return iE.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new ETe(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class ETe{constructor(e,t,i,r,o,s){this.element=e,this.type=t,this.mouseColumn=i,this.position=r,this.range=o,this.detail=s}toString(){return Na.toString(this)}}var zA;class ire{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(this.getCount()===0)return null;const i=this.getStartLineNumber(),r=this.getEndLineNumber();if(t<i){const l=t-e+1;return this._rendLineNumberStart-=l,null}if(e>r)return null;let o=0,s=0;for(let l=i;l<=r;l++){const u=l-this._rendLineNumberStart;e<=l&&l<=t&&(s===0?(o=u,s=1):s++)}if(e<i){let l=0;t<i?l=t-e+1:l=i-e,this._rendLineNumberStart-=l}return this._lines.splice(o,s)}onLinesChanged(e,t){if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),r=this.getEndLineNumber();let o=!1;for(let s=e;s<=t;s++)s>=i&&s<=r&&(this._lines[s-this._rendLineNumberStart].onContentChanged(),o=!0);return o}onLinesInserted(e,t){if(this.getCount()===0)return null;const i=t-e+1,r=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=r)return this._rendLineNumberStart+=i,null;if(e>o)return null;if(i+e>o)return this._lines.splice(e-this._rendLineNumberStart,o-e+1);const s=[];for(let d=0;d<i;d++)s[d]=this._createLine();const a=e-this._rendLineNumberStart,l=this._lines.slice(0,a),u=this._lines.slice(a,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=l.concat(s).concat(u),c}onTokensChanged(e){if(this.getCount()===0)return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let r=!1;for(let o=0,s=e.length;o<s;o++){const a=e[o];if(a.toLineNumber<t||a.fromLineNumber>i)continue;const l=Math.max(t,a.fromLineNumber),u=Math.min(i,a.toLineNumber);for(let c=l;c<=u;c++){const d=c-this._rendLineNumberStart;this._lines[d].onTokensChanged(),r=!0}}return r}}class rre{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new ire(()=>this._host.createVisibleLine())}_createDomNode(){const e=Ot(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(129)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let i=0,r=t.length;i<r;i++){const o=t[i].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new sc(this.domNode.domNode,this._host,e),r={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=i.render(r,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)}}class sc{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,r){const o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||i<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=i-t+1,o.lines=[];for(let s=t;s<=i;s++)o.lines[s-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,r),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(i-o.rendLineNumberStart,o.linesLength-1),r,t),o.rendLineNumberStart>t){const s=t,a=Math.min(i,o.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(o,s,a,r,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart<t){const s=Math.min(o.linesLength,t-o.rendLineNumberStart);s>0&&(this._removeLinesBefore(o,s),o.linesLength-=s)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<i){const s=o.rendLineNumberStart+o.linesLength,a=i;s<=a&&(this._insertLinesAfter(o,s,a,r,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart+o.linesLength-1>i){const s=Math.max(0,i-o.rendLineNumberStart+1),l=o.linesLength-1-s+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,r),o}_renderUntouchedLines(e,t,i,r,o){const s=e.rendLineNumberStart,a=e.lines;for(let l=t;l<=i;l++){const u=s+l;a[l].layoutLine(u,r[u-o])}}_insertLinesBefore(e,t,i,r,o){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=s.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const r=e.lines[i].getDomNode();r&&this.domNode.removeChild(r)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,r,o){const s=[];let a=0;for(let l=t;l<=i;l++)s[a++]=this.host.createVisibleLine();e.lines=e.lines.concat(s)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let r=0;r<t;r++){const o=e.lines[i+r].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,r){sc._ttPolicy&&(i=sc._ttPolicy.createHTML(i));const o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=i:o.insertAdjacentHTML("afterend",i);let s=this.domNode.lastChild;for(let a=e.linesLength-1;a>=0;a--){const l=e.lines[a];r[a]&&(l.setDomNode(s),s=s.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const r=document.createElement("div");sc._ttPolicy&&(t=sc._ttPolicy.createHTML(t)),r.innerHTML=t;for(let o=0;o<e.linesLength;o++){const s=e.lines[o];if(i[o]){const a=r.firstChild,l=s.getDomNode();l.parentNode.replaceChild(a,l),s.setDomNode(a)}}}_finishRendering(e,t,i){const r=sc._sb,o=e.linesLength,s=e.lines,a=e.rendLineNumberStart,l=[];{r.reset();let u=!1;for(let c=0;c<o;c++){const d=s[c];l[c]=!1,!(d.getDomNode()||!d.renderLine(c+a,i[c],this.viewportData,r))&&(l[c]=!0,u=!0)}u&&this._finishRenderingNewLines(e,t,r.build(),l)}{r.reset();let u=!1;const c=[];for(let d=0;d<o;d++){const h=s[d];c[d]=!1,!(l[d]||!h.renderLine(d+a,i[d],this.viewportData,r))&&(c[d]=!0,u=!0)}u&&this._finishRenderingInvalidLines(e,r.build(),c)}}}sc._ttPolicy=(zA=window.trustedTypes)===null||zA===void 0?void 0:zA.createPolicy("editorViewLayer",{createHTML:n=>n});sc._sb=kv(1e5);class ore extends Is{constructor(e){super(e),this._visibleLines=new rre(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++)if(this._dynamicOverlays[e].shouldRender())return!0;return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++)this._dynamicOverlays[e].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new MTe(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onConfigurationChanged(e);return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,r=t.length;i<r;i++){const o=t[i];o.prepareRender(e),o.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class MTe{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(57),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Ot(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(57)}renderLine(e,t,i,r){let o="";for(let s=0,a=this._dynamicOverlays.length;s<a;s++){const l=this._dynamicOverlays[s];o+=l.render(i.startLineNumber,e)}return this._renderedContent===o?!1:(this._renderedContent=o,r.appendASCIIString('<div style="position:absolute;top:'),r.appendASCIIString(String(t)),r.appendASCIIString("px;width:100%;height:"),r.appendASCIIString(String(this._lineHeight)),r.appendASCIIString('px;">'),r.appendASCIIString(o),r.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class ATe extends ore{constructor(e){super(e);const i=this._context.configuration.options.get(129);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const i=this._context.configuration.options.get(129);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class NTe extends ore{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),no.applyFontInfo(this.domNode,t.get(41))}onConfigurationChanged(e){const t=this._context.configuration.options;no.applyFontInfo(this.domNode,t.get(41));const i=t.get(129);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class l0{constructor(e,t){this._coordinateBrand=void 0,this.top=e,this.left=t}}class kTe extends Is{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Ot(document.createElement("div")),ru.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Ot(document.createElement("div")),ru.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new PTe(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const i=this._widgets[t];delete this._widgets[t];const r=i.domNode.domNode;r.parentNode.removeChild(r),r.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return this._widgets.hasOwnProperty(e)?this._widgets[e].suppressMouseDown:!1}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}let PTe=class{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Ot(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const r=this._context.configuration.options,o=r.get(129);this._fixedOverflowWidgets=r.get(34),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=r.get(57),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(57),e.hasChanged(129)){const i=t.get(129);this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,r,o){const s=e.top,a=s,l=t.top+this._lineHeight,u=o.viewportHeight-l,c=s-r,d=a>=r,h=l,f=u>=r;let g=e.left,p=t.left;return g+i>o.scrollLeft+o.viewportWidth&&(g=o.scrollLeft+o.viewportWidth-i),p+i>o.scrollLeft+o.viewportWidth&&(p=o.scrollLeft+o.viewportWidth-i),g<o.scrollLeft&&(g=o.scrollLeft),p<o.scrollLeft&&(p=o.scrollLeft),{fitsAbove:d,aboveTop:c,aboveLeft:g,fitsBelow:f,belowTop:h,belowLeft:p}}_layoutHorizontalSegmentInPage(e,t,i,r){const o=Math.max(0,t.left-r),s=Math.min(t.left+t.width+r,e.width);let a=t.left+i-dc.scrollX;if(a+r>s){const l=a-(s-r);a-=l,i-=l}if(a<o){const l=a-o;a-=l,i-=l}return[i,a]}_layoutBoxInPage(e,t,i,r,o){const s=e.top-r,a=t.top+this._lineHeight,l=ia(this._viewDomNode.domNode),u=l.top+s-dc.scrollY,c=l.top+a-dc.scrollY,d=Kte(document.body),[h,f]=this._layoutHorizontalSegmentInPage(d,l,e.left-o.scrollLeft+this._contentLeft,i),[g,p]=this._layoutHorizontalSegmentInPage(d,l,t.left-o.scrollLeft+this._contentLeft,i),m=22,v=22,y=u>=m,_=c+r<=d.height-v;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(u,m),aboveLeft:f,fitsBelow:_,belowTop:c,belowLeft:p}:{fitsAbove:y,aboveTop:s,aboveLeft:h,fitsBelow:_,belowTop:a,belowLeft:g}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new l0(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||t.length===0)return[null,null];let i=t[0],r=t[0];for(const d of t)d.lineNumber<i.lineNumber&&(i=d),d.lineNumber>r.lineNumber&&(r=d);let o=1073741824;for(const d of i.ranges)d.left<o&&(o=d.left);let s=1073741824;for(const d of r.ranges)d.left<s&&(s=d.left);const a=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,l=new l0(a,o),u=e.getVerticalOffsetForLineNumber(r.lineNumber)-e.scrollTop,c=new l0(u,s);return[l,c]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(this._cachedDomNodeClientWidth===-1||this._cachedDomNodeClientHeight===-1){let o=null;if(typeof this._actual.beforeRender=="function"&&(o=HA(this._actual.beforeRender,this._actual)),o)this._cachedDomNodeClientWidth=o.width,this._cachedDomNodeClientHeight=o.height;else{const s=this.domNode.domNode;this._cachedDomNodeClientWidth=s.clientWidth,this._cachedDomNodeClientHeight=s.clientHeight}}let r;if(this.allowEditorOverflow?r=this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):r=this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let o=1;o<=2;o++)for(const s of this._preference)if(s===1){if(!r)return null;if(o===2||r.fitsAbove)return{coordinate:new l0(r.aboveTop,r.aboveLeft),position:1}}else if(s===2){if(!r)return null;if(o===2||r.fitsBelow)return{coordinate:new l0(r.belowTop,r.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(t),position:0}:{coordinate:t,position:0};return null}onBeforeRender(e){!this._viewRange||!this._preference||this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&HA(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&HA(this._actual.afterRender,this._actual,this._renderData.position)}};function HA(n,e,...t){try{return n.call(e,...t)}catch{return null}}let VR=!0;class sre extends xy{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new Bt(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=VR?this._selections.slice(0,1):this._selections,i=t.map(o=>o.positionLineNumber);i.sort((o,s)=>o-s),fc(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const r=t.every(o=>o.isEmpty());return this._selectionIsEmpty!==r&&(this._selectionIsEmpty=r,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._renderLineHighlight=t.get(84),this._renderLineHighlightOnlyWhenFocus=t.get(85),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return this._renderLineHighlightOnlyWhenFocus?(this._focused=e.isFocused,!0):!1}prepareRender(e){if(!this._shouldRenderThis()){this._renderData=null;return}const t=this._renderOne(e),i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length;let s=0;const a=[];for(let l=i;l<=r;l++){const u=l-i;for(;s<o&&this._cursorLineNumbers[s]<l;)s++;s<o&&this._cursorLineNumbers[s]===l?a[u]=t:a[u]=""}this._renderData=a}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class OTe extends sre{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class RTe extends sre{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderThis(){return!0}_shouldRenderOther(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}es((n,e)=>{VR=!1;const t=n.getColor(sTe);if(t&&(e.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||n.defines(s8)){const i=n.getColor(s8);i&&(VR=!0,e.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),e.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),n.type==="hc"&&(e.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),e.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class BTe extends xy{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let l=0,u=t.length;l<u;l++){const c=t[l];c.options.className&&(i[r++]=c)}i=i.sort((l,u)=>{if(l.options.zIndex<u.options.zIndex)return-1;if(l.options.zIndex>u.options.zIndex)return 1;const c=l.options.className,d=u.options.className;return c<d?-1:c>d?1:ee.compareRangesUsingStarts(l.range,u.range)});const o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber,a=[];for(let l=o;l<=s;l++){const u=l-o;a[u]=""}this._renderWholeLineDecorations(e,i,a),this._renderNormalDecorations(e,i,a),this._renderResult=a}_renderWholeLineDecorations(e,t,i){const r=String(this._lineHeight),o=e.visibleRange.startLineNumber,s=e.visibleRange.endLineNumber;for(let a=0,l=t.length;a<l;a++){const u=t[a];if(!u.options.isWholeLine)continue;const c='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+r+'px;"></div>',d=Math.max(u.range.startLineNumber,o),h=Math.min(u.range.endLineNumber,s);for(let f=d;f<=h;f++){const g=f-o;i[g]+=c}}}_renderNormalDecorations(e,t,i){const r=String(this._lineHeight),o=e.visibleRange.startLineNumber;let s=null,a=!1,l=null;for(let u=0,c=t.length;u<c;u++){const d=t[u];if(d.options.isWholeLine)continue;const h=d.options.className,f=!!d.options.showIfCollapsed;let g=d.range;if(f&&g.endColumn===1&&g.endLineNumber!==g.startLineNumber&&(g=new ee(g.startLineNumber,g.startColumn,g.endLineNumber-1,this._context.model.getLineMaxColumn(g.endLineNumber-1))),s===h&&a===f&&ee.areIntersectingOrTouching(l,g)){l=ee.plusRange(l,g);continue}s!==null&&this._renderNormalDecoration(e,l,s,a,r,o,i),s=h,a=f,l=g}s!==null&&this._renderNormalDecoration(e,l,s,a,r,o,i)}_renderNormalDecoration(e,t,i,r,o,s,a){const l=e.linesVisibleRangesForRange(t,i==="findMatch");if(l)for(let u=0,c=l.length;u<c;u++){const d=l[u];if(d.outsideRenderedLine)continue;const h=d.lineNumber-s;if(r&&d.ranges.length===1){const f=d.ranges[0];f.width===0&&(d.ranges[0]=new jd(f.left,this._typicalHalfwidthCharacterWidth))}for(let f=0,g=d.ranges.length;f<g;f++){const p=d.ranges[f],m='<div class="cdr '+i+'" style="left:'+String(p.left)+"px;width:"+String(p.width)+"px;height:"+o+'px;"></div>';a[h]+=m}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class _u extends Pe{onclick(e,t){this._register(De(e,it.CLICK,i=>t(new na(i))))}onmousedown(e,t){this._register(De(e,it.MOUSE_DOWN,i=>t(new na(i))))}onmouseover(e,t){this._register(De(e,it.MOUSE_OVER,i=>t(new na(i))))}onnonbubblingmouseout(e,t){this._register(XF(e,i=>t(new na(i))))}onkeydown(e,t){this._register(De(e,it.KEY_DOWN,i=>t(new ni(i))))}onkeyup(e,t){this._register(De(e,it.KEY_UP,i=>t(new ni(i))))}oninput(e,t){this._register(De(e,it.INPUT,t))}onblur(e,t){this._register(De(e,it.BLUR,t))}onfocus(e,t){this._register(De(e,it.FOCUS,t))}ignoreGesture(e){bn.ignoreTarget(e)}}const $v=11;class FTe extends _u{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=$v+"px",this.domNode.style.height=$v+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new ZD),this.onmousedown(this.bgDomNode,t=>this._arrowMouseDown(t)),this.onmousedown(this.domNode,t=>this._arrowMouseDown(t)),this._mousedownRepeatTimer=this._register(new iw),this._mousedownScheduleRepeatTimer=this._register(new yu)}_arrowMouseDown(e){const t=()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),41.666666666666664)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(t,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,M$,i=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class $Te extends Pe{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new yu)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}const VTe=140;class are extends _u{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new $Te(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new ZD),this._shouldRender=!0,this.domNode=Ot(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,t=>this._domNodeMouseDown(t))}_createArrow(e){const t=this._register(new FTe(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,r){this.slider=Ot(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),typeof i=="number"&&this.slider.setWidth(i),typeof r=="number"&&this.slider.setHeight(r),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,o=>{o.leftButton&&(o.preventDefault(),this._sliderMouseDown(o,()=>{}))}),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){const t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),r=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);i<=o&&o<=r?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX=="number"&&typeof e.browserEvent.offsetY=="number")t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const o=ia(this.domNode.domNode);t=e.posx-o.left,i=e.posy-o.top}const r=this._mouseDownRelativePosition(t,i);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(r):this._scrollbarState.getDesiredScrollPositionFromOffset(r)),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),r=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,M$,s=>{const a=this._sliderOrthogonalMousePosition(s),l=Math.abs(a-r);if(zo&&l>VTe){this._setDesiredScrollPositionNow(o.getScrollPosition());return}const c=this._sliderMousePosition(s)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(c))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const WTe=20;class zb{constructor(e,t,i,r,o,s){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=r,this._scrollSize=o,this._scrollPosition=s,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new zb(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t?(this._visibleSize=t,this._refreshComputedValues(),!0):!1}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t?(this._scrollSize=t,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t?(this._scrollPosition=t,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,r,o){const s=Math.max(0,i-e),a=Math.max(0,s-2*t),l=r>0&&r>i;if(!l)return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(WTe,Math.floor(i*a/r))),c=(a-u)/(r-i),d=o*c;return{computedAvailableSize:Math.round(s),computedIsNeeded:l,computedSliderSize:Math.round(u),computedSliderRatio:c,computedSliderPosition:Math.round(d)}}_refreshComputedValues(){const e=zb._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const zTe=ga("scrollbar-button-left",sn.triangleLeft),HTe=ga("scrollbar-button-right",sn.triangleRight);class UTe extends are{constructor(e,t,i){const r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new zb(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===2?0:t.horizontalScrollbarSize,t.vertical===2?0:t.verticalScrollbarSize,r.width,r.scrollWidth,o.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:t.scrollByPage}),t.horizontalHasArrows){const s=(t.arrowSize-$v)/2,a=(t.horizontalScrollbarSize-$v)/2;this._createArrow({className:"scra",icon:zTe,top:a,left:s,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Ev(null,1,0))}),this._createArrow({className:"scra",icon:HTe,top:a,left:void 0,bottom:void 0,right:s,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Ev(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}updateOptions(e){this.updateScrollbarSize(e.horizontal===2?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}const GTe=ga("scrollbar-button-up",sn.triangleUp),KTe=ga("scrollbar-button-down",sn.triangleDown);class jTe extends are{constructor(e,t,i){const r=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new zb(t.verticalHasArrows?t.arrowSize:0,t.vertical===2?0:t.verticalScrollbarSize,0,r.height,r.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const s=(t.arrowSize-$v)/2,a=(t.verticalScrollbarSize-$v)/2;this._createArrow({className:"scra",icon:GTe,top:s,left:a,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Ev(null,0,1))}),this._createArrow({className:"scra",icon:KTe,top:void 0,left:a,bottom:s,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Ev(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(e.vertical===2?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}class bT{constructor(e,t,i,r,o,s){this._scrollStateBrand=void 0,e=e|0,t=t|0,i=i|0,r=r|0,o=o|0,s=s|0,this.rawScrollLeft=i,this.rawScrollTop=s,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),r<0&&(r=0),s+r>o&&(s=o-r),s<0&&(s=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=r,this.scrollHeight=o,this.scrollTop=s}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new bT(typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new bT(this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,t){const i=this.width!==e.width,r=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,s=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:t,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:i,scrollWidthChanged:r,scrollLeftChanged:o,heightChanged:s,scrollHeightChanged:a,scrollTopChanged:l}}}class rE extends Pe{constructor(e,t){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new bT(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i,!!this._smoothScrolling),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(e,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let r;t?r=new Hb(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):r=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=r}else{const i=this._state.withScrollPosition(e);this._smoothScrolling=Hb.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);if(this._setState(t,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,t){const i=this._state;i.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(i,t)))}}class h8{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function UA(n,e){const t=e-n;return function(i){return n+t*XTe(i)}}function qTe(n,e,t){return function(i){return i<t?n(i/t):e((i-t)/(1-t))}}class Hb{constructor(e,t,i,r){this.from=e,this.to=t,this.duration=r,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let o,s;return e<t?(o=e+.75*i,s=t-.75*i):(o=e-.75*i,s=t+.75*i),qTe(UA(e,o),UA(s,t),.33)}return UA(e,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this.startTime)/this.duration;if(t<1){const i=this.scrollLeft(t),r=this.scrollTop(t);return new h8(i,r,!1)}return new h8(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Hb.start(e,t,i)}static start(e,t,i){i=i+10;const r=Date.now()-10;return new Hb(e,t,r,i)}}function YTe(n){return Math.pow(n,3)}function XTe(n){return 1-YTe(1-n)}const ZTe=500,f8=50;class QTe{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class WR{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,t=0,i=1,r=this._rear;do{const o=r===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[r].score*o,r===this._front)break;r=(this._capacity+r-1)%this._capacity,i++}while(!0);return t<=.5}accept(e,t,i){const r=new QTe(e,t,i);r.score=this._computeScore(r),this._front===-1&&this._rear===-1?(this._memory[0]=r,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=r)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;return this._front===-1&&this._rear===-1||this._memory[this._rear],(!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}WR.INSTANCE=new WR;class lre extends _u{constructor(e,t,i){super(),this._onScroll=this._register(new ae),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ae),e.style.overflow="hidden",this._options=JTe(t),this._scrollable=i,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const r={onMouseWheel:o=>this._onMouseWheel(o),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new jTe(this._scrollable,this._options,r)),this._horizontalScrollbar=this._register(new UTe(this._scrollable,this._options,r)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Ot(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Ot(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Ot(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onnonbubblingmouseout(this._listenOnDomNode,o=>this._onMouseOut(o)),this._hideTimeout=this._register(new yu),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=Bn(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,Qt&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=Bn(this._mouseWheelToDispose),e)){const i=r=>{this._onMouseWheel(new Ev(r))};this._mouseWheelToDispose.push(De(this._listenOnDomNode,it.MOUSE_WHEEL,i,{passive:!1}))}}_onMouseWheel(e){const t=WR.INSTANCE;{const o=window.devicePixelRatio/Q_e();zo||Ho?t.accept(Date.now(),e.deltaX/o,e.deltaY/o):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,s=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(o)>=Math.abs(s)?s=0:o=0),this._options.flipAxes&&([o,s]=[s,o]);const a=!Qt&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!s&&(s=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(s=s*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);const l=this._scrollable.getFutureScrollPosition();let u={};if(o){const c=l.scrollTop-f8*o;this._verticalScrollbar.writeScrollPosition(u,c)}if(s){const c=l.scrollLeft-f8*s;this._horizontalScrollbar.writeScrollPosition(u,c)}u=this._scrollable.validateScrollPosition(u),(l.scrollLeft!==u.scrollLeft||l.scrollTop!==u.scrollTop)&&(this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(u):this._scrollable.setScrollPositionNow(u),i=!0)}let r=i;!r&&this._options.alwaysConsumeMouseWheel&&(r=!0),!r&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(r=!0),r&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,r=i?" left":"",o=t?" top":"",s=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${r}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${s}${o}${r}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),ZTe)}}class ure extends lre{constructor(e,t){t=t||{},t.mouseWheelSmoothScroll=!1;const i=new rE(0,r=>iu(r));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class H$ extends lre{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class cre extends ure{constructor(e,t){super(e,t),this._element=e,this.onScroll(i=>{i.scrollTopChanged&&(this._element.scrollTop=i.scrollTop),i.scrollLeftChanged&&(this._element.scrollLeft=i.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function JTe(n){const e={lazyRender:typeof n.lazyRender<"u"?n.lazyRender:!1,className:typeof n.className<"u"?n.className:"",useShadows:typeof n.useShadows<"u"?n.useShadows:!0,handleMouseWheel:typeof n.handleMouseWheel<"u"?n.handleMouseWheel:!0,flipAxes:typeof n.flipAxes<"u"?n.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof n.consumeMouseWheelIfScrollbarIsNeeded<"u"?n.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof n.alwaysConsumeMouseWheel<"u"?n.alwaysConsumeMouseWheel:!1,scrollYToX:typeof n.scrollYToX<"u"?n.scrollYToX:!1,mouseWheelScrollSensitivity:typeof n.mouseWheelScrollSensitivity<"u"?n.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof n.fastScrollSensitivity<"u"?n.fastScrollSensitivity:5,scrollPredominantAxis:typeof n.scrollPredominantAxis<"u"?n.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof n.mouseWheelSmoothScroll<"u"?n.mouseWheelSmoothScroll:!0,arrowSize:typeof n.arrowSize<"u"?n.arrowSize:11,listenOnDomNode:typeof n.listenOnDomNode<"u"?n.listenOnDomNode:null,horizontal:typeof n.horizontal<"u"?n.horizontal:1,horizontalScrollbarSize:typeof n.horizontalScrollbarSize<"u"?n.horizontalScrollbarSize:10,horizontalSliderSize:typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:0,horizontalHasArrows:typeof n.horizontalHasArrows<"u"?n.horizontalHasArrows:!1,vertical:typeof n.vertical<"u"?n.vertical:1,verticalScrollbarSize:typeof n.verticalScrollbarSize<"u"?n.verticalScrollbarSize:10,verticalHasArrows:typeof n.verticalHasArrows<"u"?n.verticalHasArrows:!1,verticalSliderSize:typeof n.verticalSliderSize<"u"?n.verticalSliderSize:0,scrollByPage:typeof n.scrollByPage<"u"?n.scrollByPage:!1};return e.horizontalSliderSize=typeof n.horizontalSliderSize<"u"?n.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof n.verticalSliderSize<"u"?n.verticalSliderSize:e.verticalScrollbarSize,Qt&&(e.className+=" mac"),e}class eIe extends Is{constructor(e,t,i,r){super(e);const o=this._context.configuration.options,s=o.get(91),a=o.get(65),l=o.get(32),u=o.get(94),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+cT(e.theme.type),useShadows:!1,lazyRender:!0,vertical:s.vertical,horizontal:s.horizontal,verticalHasArrows:s.verticalHasArrows,horizontalHasArrows:s.horizontalHasArrows,verticalScrollbarSize:s.verticalScrollbarSize,verticalSliderSize:s.verticalSliderSize,horizontalScrollbarSize:s.horizontalScrollbarSize,horizontalSliderSize:s.horizontalSliderSize,handleMouseWheel:s.handleMouseWheel,alwaysConsumeMouseWheel:s.alwaysConsumeMouseWheel,arrowSize:s.arrowSize,mouseWheelScrollSensitivity:a,fastScrollSensitivity:l,scrollPredominantAxis:u,scrollByPage:s.scrollByPage};this.scrollbar=this._register(new H$(t.domNode,c,this._context.viewLayout.getScrollable())),ru.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Ot(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const d=(h,f,g)=>{const p={};if(f){const m=h.scrollTop;m&&(p.scrollTop=this._context.viewLayout.getCurrentScrollTop()+m,h.scrollTop=0)}if(g){const m=h.scrollLeft;m&&(p.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+m,h.scrollLeft=0)}this._context.model.setScrollPosition(p,1)};this._register(De(i.domNode,"scroll",h=>d(i.domNode,!0,!0))),this._register(De(t.domNode,"scroll",h=>d(t.domNode,!0,!1))),this._register(De(r.domNode,"scroll",h=>d(r.domNode,!0,!1))),this._register(De(this.scrollbarDomNode.domNode,"scroll",h=>d(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(129);this.scrollbarDomNode.setLeft(t.contentLeft),e.get(63).side==="right"?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(91)||e.hasChanged(65)||e.hasChanged(32)){const t=this._context.configuration.options,i=t.get(91),r=t.get(65),o=t.get(32),s=t.get(94),a={vertical:i.vertical,horizontal:i.horizontal,verticalScrollbarSize:i.verticalScrollbarSize,horizontalScrollbarSize:i.horizontalScrollbarSize,scrollByPage:i.scrollByPage,handleMouseWheel:i.handleMouseWheel,mouseWheelScrollSensitivity:r,fastScrollSensitivity:o,scrollPredominantAxis:s};this.scrollbar.updateOptions(a)}return e.hasChanged(129)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+cT(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}class ST{constructor(e,t,i){this._decorationToRenderBrand=void 0,this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class U$ extends xy{_render(e,t,i){const r=[];for(let a=e;a<=t;a++){const l=a-e;r[l]=[]}if(i.length===0)return r;i.sort((a,l)=>a.className===l.className?a.startLineNumber===l.startLineNumber?a.endLineNumber-l.endLineNumber:a.startLineNumber-l.startLineNumber:a.className<l.className?-1:1);let o=null,s=0;for(let a=0,l=i.length;a<l;a++){const u=i[a],c=u.className;let d=Math.max(u.startLineNumber,e)-e;const h=Math.min(u.endLineNumber,t)-e;o===c?(d=Math.max(s+1,d),s=Math.max(s,h)):(o=c,s=h);for(let f=d;f<=s;f++)r[f].push(o)}return r}}class tIe extends U${constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._glyphMargin=t.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._glyphMargin=t.get(47),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.options.glyphMarginClassName;l&&(i[r++]=new ST(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){if(!this._glyphMargin){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),o=this._lineHeight.toString(),s=this._glyphMarginLeft.toString(),a=this._glyphMarginWidth.toString(),l='" style="left:'+s+"px;width:"+a+"px;height:"+o+'px;"></div>',u=[];for(let c=t;c<=i;c++){const d=c-t,h=r[d];h.length===0?u[d]="":u[d]='<div class="cgmr codicon '+h.join(" ")+l}this._renderResult=u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}class nIe extends xy{constructor(e){super(),this._context=e,this._primaryLineNumber=0;const t=this._context.configuration.options,i=t.get(130),r=t.get(41);this._lineHeight=t.get(57),this._spaceWidth=r.spaceWidth,this._enabled=t.get(82),this._activeIndentEnabled=t.get(50),this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(130),r=t.get(41);return this._lineHeight=t.get(57),this._spaceWidth=r.spaceWidth,this._enabled=t.get(82),this._activeIndentEnabled=t.get(50),this._maxIndentLeft=i.wrappingColumn===-1?-1:i.wrappingColumn*r.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i?(this._primaryLineNumber=i,!0):!1}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._enabled){this._renderResult=null;return}const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,{indentSize:r}=this._context.model.getTextModelOptions(),o=r*this._spaceWidth,s=e.scrollWidth,a=this._lineHeight,l=this._context.model.getLinesIndentGuides(t,i);let u=0,c=0,d=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const f=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);u=f.startLineNumber,c=f.endLineNumber,d=f.indent}const h=[];for(let f=t;f<=i;f++){const g=u<=f&&f<=c,p=f-t,m=l[p];let v="";if(m>=1){const y=e.visibleRangeForPosition(new ve(f,1));let _=y?y.left:0;for(let b=1;b<=m&&(v+=`<div class="${g&&b===d?"cigra":"cigr"}" style="left:${_}px;height:${a}px;width:${o}px"></div>`,_+=o,!(_>s||this._maxIndentLeft>0&&_>this._maxIndentLeft));b++);}h[p]=v}this._renderResult=h}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}es((n,e)=>{const t=n.getColor(tE);t&&e.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${t} inset; }`);const i=n.getColor(nE)||t;i&&e.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${i} inset; }`)});class iIe{constructor(){this._currentVisibleRange=new ee(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class rIe{constructor(e,t,i,r,o,s){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=r,this.stopScrollTop=o,this.scrollType=s,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class oIe{constructor(e,t,i,r){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=r,this.type="selections";let o=e[0].startLineNumber,s=e[0].endLineNumber;for(let a=1,l=e.length;a<l;a++){const u=e[a];o=Math.min(o,u.startLineNumber),s=Math.max(s,u.endLineNumber)}this.minLineNumber=o,this.maxLineNumber=s}}class oE extends Is{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new rre(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,r=this._context.configuration.options,o=r.get(41),s=r.get(130);this._lineHeight=r.get(57),this._typicalHalfwidthCharacterWidth=o.typicalHalfwidthCharacterWidth,this._isViewportWrapping=s.isViewportWrapping,this._revealHorizontalRightPadding=r.get(88),this._cursorSurroundingLines=r.get(23),this._cursorSurroundingLinesStyle=r.get(24),this._canUseLayerHinting=!r.get(26),this._viewLineOptions=new N6(i,this._context.theme.type),ru.write(this.domNode,7),this.domNode.setClassName(`view-lines ${dg}`),no.applyFontInfo(this.domNode,o),this._maxLineWidth=0,this._asyncUpdateLineWidths=new vr(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new vr(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new iIe,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Wl(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(130)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(41),r=t.get(130);return this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=r.isViewportWrapping,this._revealHorizontalRightPadding=t.get(88),this._cursorSurroundingLines=t.get(23),this._cursorSurroundingLinesStyle=t.get(24),this._canUseLayerHinting=!t.get(26),no.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(129)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new N6(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++)this._visibleLines.getVisibleLine(o).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=!1;for(let o=t;o<=i;o++)r=this._visibleLines.getVisibleLine(o).onSelectionChanged()||r;return r}onDecorationsChanged(e){{const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++)this._visibleLines.getVisibleLine(r).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(t===-1)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new rIe(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new oIe(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const o=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,o),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(i===null)return null;const r=this._getLineNumberFor(i);if(r===-1||r<1||r>this._context.model.getLineCount())return null;if(this._context.model.getLineMaxColumn(r)===1)return new ve(r,1);const o=this._visibleLines.getStartLineNumber(),s=this._visibleLines.getEndLineNumber();if(r<o||r>s)return null;let a=this._visibleLines.getVisibleLine(r).getColumnOfNodeOffset(r,e,t);const l=this._context.model.getLineMinColumn(r);return a<l&&(a=l),new ve(r,a)}_getViewLineDomNode(e){for(;e&&e.nodeType===1;){if(e.className===Wl.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let r=t;r<=i;r++){const o=this._visibleLines.getVisibleLine(r);if(e===o.getDomNode())return r}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,r=ee.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!r)return null;let o=[],s=0;const a=new A6(this.domNode.domNode,this._textRangeRestingSpot);let l=0;t&&(l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ve(r.startLineNumber,1)).lineNumber);const u=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let d=r.startLineNumber;d<=r.endLineNumber;d++){if(d<u||d>c)continue;const h=d===r.startLineNumber?r.startColumn:1,f=d===r.endLineNumber?r.endColumn:this._context.model.getLineMaxColumn(d),g=this._visibleLines.getVisibleLine(d).getVisibleRangesForRange(h,f,a);if(g){if(t&&d<i){const p=l;l=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new ve(d+1,1)).lineNumber,p!==l&&(g.ranges[g.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[s++]=new kCe(g.outsideRenderedLine,d,g.ranges)}}return s===0?null:o}_visibleRangesForLineRange(e,t,i){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new A6(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new PCe(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let r=1,o=!0;for(let s=t;s<=i;s++){const a=this._visibleLines.getVisibleLine(s);if(e&&!a.getWidthIsFast()){o=!1;continue}r=Math.max(r,a.getWidth())}return o&&t===1&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(r),o}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++){const s=this._visibleLines.getVisibleLine(o);if(s.needsMonospaceFontCheck()){const a=s.getWidth();a>t&&(t=a,e=o)}}if(e!==-1&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let o=i;o<=r;o++)this._visibleLines.getVisibleLine(o).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const i=this._horizontalRevealRequest;if(e.startLineNumber<=i.minLineNumber&&i.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const r=this._computeScrollLeftToReveal(i);r&&(this._isViewportWrapping||this._ensureMaxLineWidth(r.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:r.scrollLeft},i.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),Ho&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const i=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();for(let o=i;o<=r;o++)if(this._visibleLines.getVisibleLine(o).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,r,o){const s=e.top,a=e.height,l=s+a;let u,c,d;if(r&&r.length>0){let g=r[0].startLineNumber,p=r[0].endLineNumber;for(let m=1,v=r.length;m<v;m++){const y=r[m];g=Math.min(g,y.startLineNumber),p=Math.max(p,y.endLineNumber)}u=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(g),d=this._context.viewLayout.getVerticalOffsetForLineNumber(p)+this._lineHeight}else if(i)u=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),d=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight;else return-1;if(!(t==="mouse"&&this._cursorSurroundingLinesStyle==="default")){const g=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);c-=g*this._lineHeight,d+=Math.max(0,g-1)*this._lineHeight}(o===0||o===4)&&(d+=this._lineHeight);let f;if(d-c>a){if(!u)return-1;f=c}else if(o===5||o===6)if(o===6&&s<=c&&d<=l)f=s;else{const g=Math.max(5*this._lineHeight,a*.2),p=c-g,m=d-a;f=Math.max(m,p)}else if(o===1||o===2)if(o===2&&s<=c&&d<=l)f=s;else{const g=(c+d)/2;f=Math.max(0,g-a/2)}else f=this._computeMinimumScrolling(s,l,c,d,o===3,o===4);return f}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,r=i+t.width;let o=1073741824,s=0;if(e.type==="range"){const l=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!l)return null;for(const u of l.ranges)o=Math.min(o,u.left),s=Math.max(s,u.left+u.width)}else for(const l of e.selections){if(l.startLineNumber!==l.endLineNumber)return null;const u=this._visibleRangesForLineRange(l.startLineNumber,l.startColumn,l.endColumn);if(!u)return null;for(const c of u.ranges)o=Math.min(o,c.left),s=Math.max(s,c.left+c.width)}return o=Math.max(0,o-oE.HORIZONTAL_EXTRA_PX),s+=this._revealHorizontalRightPadding,e.type==="selections"&&s-o>t.width?null:{scrollLeft:this._computeMinimumScrolling(i,r,o,s),maxHorizontalOffset:s}}_computeMinimumScrolling(e,t,i,r,o,s){e=e|0,t=t|0,i=i|0,r=r|0,o=!!o,s=!!s;const a=t-e;if(r-i<a){if(o)return i;if(s)return Math.max(0,r-a);if(i<e)return i;if(r>t)return Math.max(0,r-a)}else return i;return e}}oE.HORIZONTAL_EXTRA_PX=30;class sIe extends U${constructor(e){super(),this._context=e;const i=this._context.configuration.options.get(129);this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const i=this._context.configuration.options.get(129);return this._decorationsLeft=i.decorationsLeft,this._decorationsWidth=i.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.options.linesDecorationsClassName;l&&(i[r++]=new ST(a.range.startLineNumber,a.range.endLineNumber,l));const u=a.options.firstLineDecorationClassName;u&&(i[r++]=new ST(a.range.startLineNumber,a.range.startLineNumber,u))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),o=this._decorationsLeft.toString(),s=this._decorationsWidth.toString(),a='" style="left:'+o+"px;width:"+s+'px;"></div>',l=[];for(let u=t;u<=i;u++){const c=u-t,d=r[c];let h="";for(let f=0,g=d.length;f<g;f++)h+='<div class="cldr '+d[f]+a;l[c]=h}this._renderResult=l}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class aIe extends U${constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],r=0;for(let o=0,s=t.length;o<s;o++){const a=t[o],l=a.options.marginClassName;l&&(i[r++]=new ST(a.range.startLineNumber,a.range.endLineNumber,l))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,r=this._render(t,i,this._getDecorations(e)),o=[];for(let s=t;s<=i;s++){const a=s-t,l=r[a];let u="";for(let c=0,d=l.length;c<d;c++)u+='<div class="cmdr '+l[c]+'" style=""></div>';o[a]=u}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}class Ga{constructor(e,t,i,r){this._rgba8Brand=void 0,this.r=Ga._clamp(e),this.g=Ga._clamp(t),this.b=Ga._clamp(i),this.a=Ga._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:e|0}}Ga.Empty=new Ga(0,0,0,0);class dw extends Pe{constructor(){super(),this._onDidChange=new ae,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(gi.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=new dw),this._INSTANCE}_updateColorMap(){const e=gi.getColorMap();if(!e){this._colors=[Ga.Empty],this._backgroundIsLight=!0;return}this._colors=[Ga.Empty];for(let i=1;i<e.length;i++){const r=e[i].rgba;this._colors[i]=new Ga(r.r,r.g,r.b,Math.round(r.a*255))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}dw._INSTANCE=null;const lIe=(()=>{const n=[];for(let e=32;e<=126;e++)n.push(e);return n.push(65533),n})(),uIe=(n,e)=>(n-=32,n<0||n>96?e<=2?(n+96)%96:96-1:n);class Ub{constructor(e,t){this.scale=t,this._minimapCharRendererBrand=void 0,this.charDataNormal=Ub.soften(e,12/15),this.charDataLight=Ub.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let r=0,o=e.length;r<o;r++)i[r]=QL(e[r]*t);return i}renderChar(e,t,i,r,o,s,a,l,u){const c=1*this.scale,d=2*this.scale,h=u?1:d;if(t+c>e.width||i+h>e.height){console.warn("bad render request outside image data");return}const f=l?this.charDataLight:this.charDataNormal,g=uIe(r,a),p=e.width*4,m=s.r,v=s.g,y=s.b,_=o.r-m,b=o.g-v,S=o.b-y,w=e.data;let C=g*c*d,x=i*p+t*4;for(let L=0;L<h;L++){let T=x;for(let I=0;I<c;I++){const D=f[C++]/255;w[T++]=m+_*D,w[T++]=v+b*D,w[T++]=y+S*D,T++}x+=p}}blockRenderChar(e,t,i,r,o,s,a){const l=1*this.scale,u=2*this.scale,c=a?1:u;if(t+l>e.width||i+c>e.height){console.warn("bad render request outside image data");return}const d=e.width*4,h=.5,f=o.r,g=o.g,p=o.b,m=r.r-f,v=r.g-g,y=r.b-p,_=f+m*h,b=g+v*h,S=p+y*h,w=e.data;let C=i*d+t*4;for(let x=0;x<c;x++){let L=C;for(let T=0;T<l;T++)w[L++]=_,w[L++]=b,w[L++]=S,L++;C+=d}}}const g8={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},p8=n=>{const e=new Uint8ClampedArray(n.length/2);for(let t=0;t<n.length;t+=2)e[t>>1]=g8[n[t]]<<4|g8[n[t+1]]&15;return e},m8={1:Dg(()=>p8("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:Dg(()=>p8("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class H_{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return m8[e]?i=new Ub(m8[e](),e):i=H_.createFromSampleData(H_.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=96*10,t.style.width=96*10+"px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let r=0;for(const o of lIe)i.fillText(String.fromCharCode(o),r,16/2),r+=10;return i.getImageData(0,0,96*10,16)}static createFromSampleData(e,t){if(e.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");let r=H_._downsample(e,t);return new Ub(r,t)}static _downsampleChar(e,t,i,r,o){const s=1*o,a=2*o;let l=r,u=0;for(let c=0;c<a;c++){const d=c/a*16,h=(c+1)/a*16;for(let f=0;f<s;f++){const g=f/s*10,p=(f+1)/s*10;let m=0,v=0;for(let _=d;_<h;_++){const b=t+Math.floor(_)*3840,S=1-(_-Math.floor(_));for(let w=g;w<p;w++){const C=1-(w-Math.floor(w)),x=b+Math.floor(w)*4,L=C*S;v+=L,m+=e[x]*e[x+3]/255*L}}const y=m/v;u=Math.max(u,y),i[l++]=QL(y)}}return u}static _downsample(e,t){const i=2*t*1*t,r=i*96,o=new Uint8ClampedArray(r);let s=0,a=0,l=0;for(let u=0;u<96;u++)l=Math.max(l,this._downsampleChar(e,a,o,s,t)),s+=i,a+=10*4;if(l>0){const u=255/l;for(let c=0;c<r;c++)o[c]*=u}return o}}const cIe=140,dIe=2;class wT{constructor(e,t,i){const r=e.options,o=r.get(127),s=r.get(129),a=s.minimap,l=r.get(41),u=r.get(63);this.renderMinimap=a.renderMinimap,this.size=u.size,this.minimapHeightIsEditorHeight=a.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=r.get(93),this.showSlider=u.showSlider,this.pixelRatio=o,this.typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this.lineHeight=r.get(57),this.minimapLeft=a.minimapLeft,this.minimapWidth=a.minimapWidth,this.minimapHeight=s.height,this.canvasInnerWidth=a.minimapCanvasInnerWidth,this.canvasInnerHeight=a.minimapCanvasInnerHeight,this.canvasOuterWidth=a.minimapCanvasOuterWidth,this.canvasOuterHeight=a.minimapCanvasOuterHeight,this.isSampling=a.minimapIsSampling,this.editorHeight=s.height,this.fontScale=a.minimapScale,this.minimapLineHeight=a.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=Dg(()=>H_.create(this.fontScale,l.fontFamily)),this.backgroundColor=wT._getMinimapBackground(t,i)}static _getMinimapBackground(e,t){const i=e.getColor(qie);return i?new Ga(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a):t.getColor(2)}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)}}class U_{constructor(e,t,i,r,o,s,a,l){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=r,this.sliderTop=o,this.sliderHeight=s,this.startLineNumber=a,this.endLineNumber=l}getDesiredScrollTopFromDelta(e){return Math.round(this.scrollTop+e/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,r,o,s,a,l,u,c,d){const h=e.pixelRatio,f=e.minimapLineHeight,g=Math.floor(e.canvasInnerHeight/f),p=e.lineHeight;if(e.minimapHeightIsEditorHeight){const S=l*e.lineHeight+(e.scrollBeyondLastLine?o-e.lineHeight:0),w=Math.max(1,Math.floor(o*o/S)),C=Math.max(0,e.minimapHeight-w),x=C/(c-o),L=u*x,T=C>0,I=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new U_(u,c,T,x,L,w,1,Math.min(a,I))}let m;if(s&&i!==a){const S=i-t+1;m=Math.floor(S*f/h)}else{const S=o/p;m=Math.floor(S*f/h)}let v;e.scrollBeyondLastLine?v=(a-1)*f/h:v=Math.max(0,a*f/h-m),v=Math.min(e.minimapHeight-m,v);const y=v/(c-o),_=u*y;let b=0;if(e.scrollBeyondLastLine&&(b=o/p-1),g>=a+b){const w=a,C=v>0;return new U_(u,c,C,y,_,m,1,w)}else{let S=Math.max(1,Math.floor(t-_*h/f));d&&d.scrollHeight===c&&(d.scrollTop>u&&(S=Math.min(S,d.startLineNumber)),d.scrollTop<u&&(S=Math.max(S,d.startLineNumber)));const w=Math.min(a,S+g-1),C=(u-r)/p,x=(t-S+C)*f/h;return new U_(u,c,!0,y,x,m,S,w)}}}class CT{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}CT.INVALID=new CT(-1);class v8{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new ire(()=>CT.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const i=this._renderedLines._get().lines;for(let r=0,o=i.length;r<o;r++)if(i[r].dy===-1)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class G${constructor(e,t,i,r){this._backgroundFillData=G$._createBackgroundFillData(t,i,r),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const r=i.r,o=i.g,s=i.b,a=new Uint8ClampedArray(e*t*4);let l=0;for(let u=0;u<t;u++)for(let c=0;c<e;c++)a[l]=r,a[l+1]=o,a[l+2]=s,a[l+3]=255,l+=4;return a}}class Gb{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(e.renderMinimap===0||!e.isSampling)return[null,[]];const r=e.pixelRatio,o=e.lineHeight,s=e.scrollBeyondLastLine,{minimapLineCount:a}=qm.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:s,height:e.editorHeight,lineHeight:o,pixelRatio:r}),l=t/a,u=l/2;if(!i||i.minimapLines.length===0){let _=[];if(_[0]=1,a>1){for(let b=0,S=a-1;b<S;b++)_[b]=Math.round(b*l+u);_[a-1]=t}return[new Gb(l,_),[]]}const c=i.minimapLines,d=c.length;let h=[],f=0,g=0,p=1;const m=10;let v=[],y=null;for(let _=0;_<a;_++){const b=Math.max(p,Math.round(_*l)),S=Math.max(b,Math.round((_+1)*l));for(;f<d&&c[f]<b;){if(v.length<m){const C=f+1+g;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:C,deleteToLineNumber:C},v.push(y)),g--}f++}let w;if(f<d&&c[f]<=S)w=c[f],f++;else if(_===0?w=1:_+1===a?w=t:w=Math.round(_*l+u),v.length<m){const C=f+1+g;y&&y.type==="inserted"&&y._i===_-1?y.insertToLineNumber++:(y={type:"inserted",_i:_,insertFromLineNumber:C,insertToLineNumber:C},v.push(y)),g++}h[_]=w,p=w}if(v.length<m)for(;f<d;){const _=f+1+g;y&&y.type==="deleted"&&y._oldIndex===f-1?y.deleteToLineNumber++:(y={type:"deleted",_oldIndex:f,deleteFromLineNumber:_,deleteToLineNumber:_},v.push(y)),g--,f++}else v=[{type:"flush"}];return[new Gb(l,h),v]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let r=this.modelLineToMinimapLine(t)-1;for(;r+1<this.minimapLines.length&&this.minimapLines[r+1]<=t;)r++;if(i===r){const o=this.minimapLines[i];if(o<e||o>t)return null}return[i+1,r+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),r=this.modelLineToMinimapLine(t);return e!==t&&r===i&&(r===this.minimapLines.length?i>1&&i--:r++),[i,r]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,r=0;for(let o=this.minimapLines.length-1;o>=0&&!(this.minimapLines[o]<e.fromLineNumber);o--)this.minimapLines[o]<=e.toLineNumber?(this.minimapLines[o]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,o),r=Math.max(r,o)):this.minimapLines[o]-=t;return[i,r]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class hIe extends Is{constructor(e){super(e),this.tokensColorTracker=dw.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new wT(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Gb.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new xT(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new wT(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(e)?!1:(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return e.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return t?this._actual.onLinesChanged(t[0],t[1]):!1}else return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const r=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);r&&t.push({fromLineNumber:r[0],toLineNumber:r[1]})}return t.length?this._actual.onTokensChanged(t):!1}else return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const r={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,viewportStartLineNumberVerticalOffset:e.getVerticalOffsetForLineNumber(t),scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(r)}_recreateLineSampling(){this._minimapSelections=null;const e=!!this._samplingState,[t,i]=Gb.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const r of i)switch(r.type){case"deleted":this._actual.onLinesDeleted(r.deleteFromLineNumber,r.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(r.insertFromLineNumber,r.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let r=[];for(let o=0,s=t-e+1;o<s;o++)i[o]?r[o]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+o-1]):r[o]=null;return r}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new Bt(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const o=this._samplingState.minimapLines[e-1],s=this._samplingState.minimapLines[t-1];i=new ee(o,1,s,this._context.model.getLineMaxColumn(s))}else i=new ee(e,1,t,this._context.model.getLineMaxColumn(t));const r=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let o=[];for(const s of r){if(!s.options.minimap)continue;const a=s.range,l=this._samplingState.modelLineToMinimapLine(a.startLineNumber),u=this._samplingState.modelLineToMinimapLine(a.endLineNumber);o.push(new Bne(new ee(l,a.startColumn,u,a.endColumn),s.options))}return o}return r}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new ee(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class xT extends Pe{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(n8),this._domNode=Ot(document.createElement("div")),ru.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Ot(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Ot(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Ot(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Ot(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Ot(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=to(this._domNode.domNode,"mousedown",i=>{if(i.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(i.leftButton&&this._lastRenderData){const u=ia(this._slider.domNode),c=u.top+u.height/2;this._startSliderDragging(i.buttons,i.posx,c,i.posy,this._lastRenderData.renderedLayout)}return}const o=this._model.options.minimapLineHeight,s=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*i.browserEvent.offsetY;let l=Math.floor(s/o)+this._lastRenderData.renderedLayout.startLineNumber;l=Math.min(l,this._model.getLineCount()),this._model.revealLineNumber(l)}),this._sliderMouseMoveMonitor=new ZD,this._sliderMouseDownListener=to(this._slider.domNode,"mousedown",i=>{i.preventDefault(),i.stopPropagation(),i.leftButton&&this._lastRenderData&&this._startSliderDragging(i.buttons,i.posx,i.posy,i.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=bn.addTarget(this._domNode.domNode),this._sliderTouchStartListener=De(this._domNode.domNode,Vn.Start,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(i))},{passive:!1}),this._sliderTouchMoveListener=De(this._domNode.domNode,Vn.Change,i=>{i.preventDefault(),i.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(i)},{passive:!1}),this._sliderTouchEndListener=to(this._domNode.domNode,Vn.End,i=>{i.preventDefault(),i.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,r,o){this._slider.toggleClassName("active",!0);const s=(a,l)=>{const u=Math.abs(l-t);if(zo&&u>cIe){this._model.setScrollTop(o.scrollTop);return}const c=a-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(c))};r!==i&&s(r,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,M$,a=>s(a.posy,a.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return this._model.options.showSlider==="always"?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new G$(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return this._lastRenderData?this._lastRenderData.onLinesChanged(e,t):!1}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(n8),this._renderDecorations=!0,!0}onTokensChanged(e){return this._lastRenderData?this._lastRenderData.onTokensChanged(e):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const i=U_.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportStartLineNumberVerticalOffset,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(i.sliderNeeded?"block":"none"),this._slider.setTop(i.sliderTop),this._slider.setHeight(i.sliderHeight);const r=e.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,o=Math.min(this._model.options.minimapWidth,Math.round(r*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(o),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-o),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(i.sliderHeight),this.renderDecorations(i),this._lastRenderData=this.renderLines(i)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections(),i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber),{canvasInnerWidth:r,canvasInnerHeight:o}=this._model.options,s=this._model.options.minimapLineHeight,a=this._model.options.minimapCharWidth,l=this._model.getOptions().tabSize,u=this._decorationsCanvas.domNode.getContext("2d");u.clearRect(0,0,r,o);const c=new Map;for(let d=0;d<t.length;d++){const h=t[d];for(let f=h.startLineNumber;f<=h.endLineNumber;f++)this.renderDecorationOnLine(u,c,h,this._selectionColor,e,f,s,s,l,a)}for(let d=0;d<i.length;d++){const h=i[d];if(!h.options.minimap)continue;const f=h.options.minimap.getColor(this._theme);for(let g=h.range.startLineNumber;g<=h.range.endLineNumber;g++)switch(h.options.minimap.position){case ah.Inline:this.renderDecorationOnLine(u,c,h.range,f,e,g,s,s,l,a);continue;case ah.Gutter:const p=(g-e.startLineNumber)*s,m=2;this.renderDecoration(u,f,m,p,dIe,s);continue}}}}renderDecorationOnLine(e,t,i,r,o,s,a,l,u,c){const d=(s-o.startLineNumber)*l;if(d+a<0||d>this._model.options.canvasInnerHeight)return;let h=t.get(s);const f=!h;if(!h){const b=this._model.getLineContent(s);h=[J0];for(let S=1;S<b.length+1;S++){const w=b.charCodeAt(S-1),C=w===9?u*c:Za(w)?2*c:c;h[S]=h[S-1]+C}t.set(s,h)}const{startColumn:g,endColumn:p,startLineNumber:m,endLineNumber:v}=i,y=m===s?h[g-1]:J0,_=v>s?h.length-1:p-1;if(_>0){const b=h[_]-y||2;this.renderDecoration(e,r,y,d,b,a)}f&&this.renderLineHighlight(e,r,d,a)}renderLineHighlight(e,t,i,r){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(J0,i,e.canvas.width,r)}renderDecoration(e,t,i,r,o,s){e.fillStyle=t&&t.toString()||"",e.fillRect(i,r,o,s)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,r=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const I=this._lastRenderData._get();return new v8(e,I.imageData,I.lines)}const o=this._getBuffer();if(!o)return null;let[s,a,l]=xT._renderUntouchedLines(o,t,i,r,this._lastRenderData);const u=this._model.getMinimapLinesRenderingData(t,i,l),c=this._model.getOptions().tabSize,d=this._model.options.backgroundColor,h=this._model.tokensColorTracker,f=h.backgroundIsLight(),g=this._model.options.renderMinimap,p=this._model.options.charRenderer(),m=this._model.options.fontScale,v=this._model.options.minimapCharWidth,_=(g===1?2:2+1)*m,b=r>_?Math.floor((r-_)/2):0;let S=0;const w=[];for(let I=0,D=i-t+1;I<D;I++)l[I]&&xT._renderLine(o,d,f,g,v,h,p,S,b,c,u[I],m,r),w[I]=new CT(S),S+=r;const C=s===-1?0:s,L=(a===-1?o.height:a)-C;return this._canvas.domNode.getContext("2d").putImageData(o,0,0,0,C,o.width,L),new v8(e,o,w)}static _renderUntouchedLines(e,t,i,r,o){const s=[];if(!o){for(let x=0,L=i-t+1;x<L;x++)s[x]=!0;return[-1,-1,s]}const a=o._get(),l=a.imageData.data,u=a.rendLineNumberStart,c=a.lines,d=c.length,h=e.width,f=e.data,g=(i-t+1)*r*h*4;let p=-1,m=-1,v=-1,y=-1,_=-1,b=-1,S=0;for(let x=t;x<=i;x++){const L=x-t,T=x-u,I=T>=0&&T<d?c[T].dy:-1;if(I===-1){s[L]=!0,S+=r;continue}const D=I*h*4,M=(I+r)*h*4,P=S*h*4,k=(S+r)*h*4;y===D&&b===P?(y=M,b=k):(v!==-1&&(f.set(l.subarray(v,y),_),p===-1&&v===0&&v===_&&(p=y),m===-1&&y===g&&v===_&&(m=v)),v=D,y=M,_=P,b=k),s[L]=!1,S+=r}v!==-1&&(f.set(l.subarray(v,y),_),p===-1&&v===0&&v===_&&(p=y),m===-1&&y===g&&v===_&&(m=v));const w=p===-1?-1:p/(h*4),C=m===-1?-1:m/(h*4);return[w,C,s]}static _renderLine(e,t,i,r,o,s,a,l,u,c,d,h,f){const g=d.content,p=d.tokens,m=e.width-o,v=f===1;let y=J0,_=0,b=0;for(let S=0,w=p.getCount();S<w;S++){const C=p.getEndOffset(S),x=p.getForeground(S),L=s.getColor(x);for(;_<C;_++){if(y>m)return;const T=g.charCodeAt(_);if(T===9){const I=c-(_+b)%c;b+=I-1,y+=I*o}else if(T===32)y+=o;else{const I=Za(T)?2:1;for(let D=0;D<I;D++)if(r===2?a.blockRenderChar(e,y,l+u,L,t,i,v):a.renderChar(e,y,l+u,T,L,t,h,i,v),y+=o,y>m)return}}}}}es((n,e)=>{const t=n.getColor(qie);t&&e.addRule(`.monaco-editor .minimap > canvas { opacity: ${t.rgba.a}; will-change: opacity; }`);const i=n.getColor(tTe);i&&e.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${i}; }`);const r=n.getColor(nTe);r&&e.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${r}; }`);const o=n.getColor(iTe);o&&e.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${o}; }`);const s=n.getColor(eE);s&&e.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)});class fIe extends Is{constructor(e){super(e);const i=this._context.configuration.options.get(129);this._widgets={},this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,this._domNode=Ot(document.createElement("div")),ru.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const i=this._context.configuration.options.get(129);return this._verticalScrollbarWidth=i.verticalScrollbarWidth,this._minimapWidth=i.minimap.minimapWidth,this._horizontalScrollbarHeight=i.horizontalScrollbarHeight,this._editorHeight=i.height,this._editorWidth=i.width,!0}addWidget(e){const t=Ot(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference===t?!1:(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const r=this._widgets[t].domNode.domNode;delete this._widgets[t],r.parentNode.removeChild(r),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===0)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(e.preference===1){const i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else e.preference===2&&(t.setTop(0),t.domNode.style.right="50%")}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let i=0,r=t.length;i<r;i++){const o=t[i];this._renderWidget(this._widgets[o])}}}class gIe{constructor(e,t){const i=e.options;this.lineHeight=i.get(57),this.pixelRatio=i.get(127),this.overviewRulerLanes=i.get(72),this.renderBorder=i.get(71);const r=t.getColor(gTe);this.borderColor=r?r.toString():null,this.hideCursor=i.get(49);const o=t.getColor(Jie);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;const s=i.get(63),a=s.enabled,l=s.side,u=a?t.getColor(pTe)||gi.getDefaultBackground():null;u===null||l==="left"?this.backgroundColor=null:this.backgroundColor=_e.Format.CSS.formatHex(u);const d=i.get(129).overviewRuler;this.top=d.top,this.right=d.right,this.domWidth=d.width,this.domHeight=d.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,f]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=f}_initLanes(e,t,i){const r=t-e;if(i>=3){const o=Math.floor(r/3),s=Math.floor(r/3),a=r-o-s,l=e,u=l+o,c=l+o+a;return[[0,l,u,l,c,l,u,l],[0,o,a,o+a,s,o+a+s,a+s,o+a+s]]}else if(i===2){const o=Math.floor(r/2),s=r-o,a=e,l=a+o;return[[0,a,a,a,l,a,a,a],[0,o,o,o,s,o+s,o+s,o+s]]}else{const o=e,s=r;return[[0,o,o,o,o,o,o,o],[0,s,s,s,s,s,s,s]]}}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class pIe extends Is{constructor(e){super(e),this._domNode=Ot(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=gi.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new gIe(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(ve.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");return}const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,r=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),s=t/o,a=this._context.model.getAllOverviewRulerDecorations(this._context.theme),l=6*this._settings.pixelRatio|0,u=l/2|0,c=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?c.clearRect(0,0,e,t):(c.fillStyle=this._settings.backgroundColor,c.fillRect(0,0,e,t));const d=this._settings.x,h=this._settings.w,f=Object.keys(a);f.sort();for(let g=0,p=f.length;g<p;g++){const m=f[g],v=a[m];c.fillStyle=m;let y=0,_=0,b=0;for(let S=0,w=v.length;S<w;S++){const C=v[3*S],x=v[3*S+1],L=v[3*S+2];let T=r.getVerticalOffsetForLineNumber(x)*s|0,I=(r.getVerticalOffsetForLineNumber(L)+i)*s|0;if(I-T<l){let M=(T+I)/2|0;M<u?M=u:M+u>t&&(M=t-u),T=M-u,I=M+u}T>b+1||C!==y?(S!==0&&c.fillRect(d[y],_,h[y],b-_),y=C,_=T,b=I):I>b&&(b=I)}c.fillRect(d[y],_,h[y],b-_)}if(!this._settings.hideCursor&&this._settings.cursorColor){const g=2*this._settings.pixelRatio|0,p=g/2|0,m=this._settings.x[7],v=this._settings.w[7];c.fillStyle=this._settings.cursorColor;let y=-100,_=-100;for(let b=0,S=this._cursorPositions.length;b<S;b++){const w=this._cursorPositions[b];let C=r.getVerticalOffsetForLineNumber(w.lineNumber)*s|0;C<p?C=p:C+p>t&&(C=t-p);const x=C-p,L=x+g;x>_+1?(b!==0&&c.fillRect(m,y,v,_-y),y=x,_=L):L>_&&(_=L)}c.fillRect(m,y,v,_-y)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(c.beginPath(),c.lineWidth=1,c.strokeStyle=this._settings.borderColor,c.moveTo(0,0),c.lineTo(0,t),c.stroke(),c.moveTo(0,0),c.lineTo(e,0),c.stroke())}}class y8{constructor(e,t,i){this._colorZoneBrand=void 0,this.from=e|0,this.to=t|0,this.colorId=i|0}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Kb{constructor(e,t,i){this._overviewRulerZoneBrand=void 0,this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class mIe{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Kb.compare)}setLineHeight(e){return this._lineHeight===e?!1:(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth===e?!1:(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight===e?!1:(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight===e?!1:(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),r=Math.floor(this._outerHeight),o=i/r,s=Math.floor(4*this._pixelRatio/2);let a=[];for(let l=0,u=this._zones.length;l<u;l++){const c=this._zones[l];if(!e){const y=c.getColorZones();if(y){a.push(y);continue}}const d=Math.floor(o*this._getVerticalOffsetForLine(c.startLineNumber)),h=Math.floor(o*(this._getVerticalOffsetForLine(c.endLineNumber)+t));let f=Math.floor((d+h)/2),g=h-f;g<s&&(g=s),f-g<0&&(f=g),f+g>i&&(f=i-g);const p=c.color;let m=this._color2Id[p];m||(m=++this._lastAssignedId,this._color2Id[p]=m,this._id2Color[m]=p);const v=new y8(f-g,f+g,m);c.setColorZone(v),a.push(v)}return this._colorZonesInvalid=!1,a.sort(y8.compare),a}}class vIe extends uw{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Ot(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new mIe(r=>this._context.viewLayout.getVerticalOffsetForLineNumber(r)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(57)),this._zoneManager.setPixelRatio(i.get(127)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(57)&&(this._zoneManager.setLineHeight(t.get(57)),this._render()),e.hasChanged(127)&&(this._zoneManager.setPixelRatio(t.get(127)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),r=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(o,i,r,e),!0}_renderOneLane(e,t,i,r){let o=0,s=0,a=0;for(const l of t){const u=l.colorId,c=l.from,d=l.to;u!==o?(e.fillRect(0,s,r,a-s),o=u,e.fillStyle=i[o],s=c,a=d):a>=c?a=Math.max(a,d):(e.fillRect(0,s,r,a-s),s=c,a=d)}e.fillRect(0,s,r,a-s)}}class yIe extends Is{constructor(e){super(e),this.domNode=Ot(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(90),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:r}=this._context.model.getTextModelOptions(),o=r;let s=t-e;for(;s>0;){const a=Ot(document.createElement("div"));a.setClassName("view-ruler"),a.setWidth(o),this.domNode.appendChild(a),this._renderedRulers.push(a),s--}return}let i=e-t;for(;i>0;){const r=this._renderedRulers.pop();this.domNode.removeChild(r),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const r=this._renderedRulers[t],o=this._rulers[t];r.setBoxShadow(o.color?`1px 0 0 0 ${o.color} inset`:""),r.setHeight(Math.min(e.scrollHeight,1e6)),r.setLeft(o.column*this._typicalHalfwidthCharacterWidth)}}}es((n,e)=>{const t=n.getColor(fTe);t&&e.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${t} inset; }`)});class _Ie extends Is{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const i=this._context.configuration.options.get(91);this._useShadows=i.useShadows,this._domNode=Ot(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e?(this._shouldShow=e,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const t=this._context.configuration.options.get(129);t.minimap.renderMinimap===0||t.minimap.minimapWidth>0&&t.minimap.minimapLeft===0?this._width=t.width:this._width=t.width-t.minimap.minimapWidth-t.verticalScrollbarWidth}onConfigurationChanged(e){const i=this._context.configuration.options.get(91);return this._useShadows=i.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}es((n,e)=>{const t=n.getColor(eE);t&&e.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${t} 0 6px 6px -6px inset; }`)});class bIe{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class SIe{constructor(e,t){this.lineNumber=e,this.ranges=t}}function wIe(n){return new bIe(n)}function CIe(n){return new SIe(n.lineNumber,n.ranges.map(wIe))}class Gn extends xy{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(57),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(57),this._roundedSelection=t.get(89),this._typicalHalfwidthCharacterWidth=t.get(41).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++)if(e[t].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(e,t,i){const r=this._typicalHalfwidthCharacterWidth/4;let o=null,s=null;if(i&&i.length>0&&t.length>0){const a=t[0].lineNumber;if(a===e.startLineNumber)for(let u=0;!o&&u<i.length;u++)i[u].lineNumber===a&&(o=i[u].ranges[0]);const l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(let u=i.length-1;!s&&u>=0;u--)i[u].lineNumber===l&&(s=i[u].ranges[0]);o&&!o.startStyle&&(o=null),s&&!s.startStyle&&(s=null)}for(let a=0,l=t.length;a<l;a++){const u=t[a].ranges[0],c=u.left,d=u.left+u.width,h={top:0,bottom:0},f={top:0,bottom:0};if(a>0){const g=t[a-1].ranges[0].left,p=t[a-1].ranges[0].left+t[a-1].ranges[0].width;w1(c-g)<r?h.top=2:c>g&&(h.top=1),w1(d-p)<r?f.top=2:g<d&&d<p&&(f.top=1)}else o&&(h.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<l){const g=t[a+1].ranges[0].left,p=t[a+1].ranges[0].left+t[a+1].ranges[0].width;w1(c-g)<r?h.bottom=2:g<c&&c<p&&(h.bottom=1),w1(d-p)<r?f.bottom=2:d<p&&(f.bottom=1)}else s&&(h.bottom=s.startStyle.bottom,f.bottom=s.endStyle.bottom);u.startStyle=h,u.endStyle=f}}_getVisibleRangesWithStyle(e,t,i){const o=(t.linesVisibleRangesForRange(e,!0)||[]).map(CIe);return!this._visibleRangesHaveGaps(o)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(t.visibleRange,o,i),o}_createSelectionPiece(e,t,i,r,o){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+r.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,r){if(r.length===0)return;const o=!!r[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=r[0].lineNumber,u=r[r.length-1].lineNumber;for(let c=0,d=r.length;c<d;c++){const h=r[c],f=h.lineNumber,g=f-t,p=i&&(f===u||f===l)?a:s,m=i&&f===l?1:0;let v="",y="";for(let _=0,b=h.ranges.length;_<b;_++){const S=h.ranges[_];if(o){const C=S.startStyle,x=S.endStyle;if(C.top===1||C.bottom===1){v+=this._createSelectionPiece(m,p,Gn.SELECTION_CLASS_NAME,S.left-Gn.ROUNDED_PIECE_WIDTH,Gn.ROUNDED_PIECE_WIDTH);let L=Gn.EDITOR_BACKGROUND_CLASS_NAME;C.top===1&&(L+=" "+Gn.SELECTION_TOP_RIGHT),C.bottom===1&&(L+=" "+Gn.SELECTION_BOTTOM_RIGHT),v+=this._createSelectionPiece(m,p,L,S.left-Gn.ROUNDED_PIECE_WIDTH,Gn.ROUNDED_PIECE_WIDTH)}if(x.top===1||x.bottom===1){v+=this._createSelectionPiece(m,p,Gn.SELECTION_CLASS_NAME,S.left+S.width,Gn.ROUNDED_PIECE_WIDTH);let L=Gn.EDITOR_BACKGROUND_CLASS_NAME;x.top===1&&(L+=" "+Gn.SELECTION_TOP_LEFT),x.bottom===1&&(L+=" "+Gn.SELECTION_BOTTOM_LEFT),v+=this._createSelectionPiece(m,p,L,S.left+S.width,Gn.ROUNDED_PIECE_WIDTH)}}let w=Gn.SELECTION_CLASS_NAME;if(o){const C=S.startStyle,x=S.endStyle;C.top===0&&(w+=" "+Gn.SELECTION_TOP_LEFT),C.bottom===0&&(w+=" "+Gn.SELECTION_BOTTOM_LEFT),x.top===0&&(w+=" "+Gn.SELECTION_TOP_RIGHT),x.bottom===0&&(w+=" "+Gn.SELECTION_BOTTOM_RIGHT)}y+=this._createSelectionPiece(m,p,w,S.left,S.width)}e[g][0]+=v,e[g][1]+=y}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber;for(let s=i;s<=r;s++){const a=s-i;t[a]=["",""]}const o=[];for(let s=0,a=this._selections.length;s<a;s++){const l=this._selections[s];if(l.isEmpty()){o[s]=null;continue}const u=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[s]);o[s]=u,this._actualRenderOneSelection(t,i,this._selections.length>1,u)}this._previousFrameVisibleRangesWithStyle=o,this._renderResult=t.map(([s,a])=>s+a)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Gn.SELECTION_CLASS_NAME="selected-text";Gn.SELECTION_TOP_LEFT="top-left-radius";Gn.SELECTION_BOTTOM_LEFT="bottom-left-radius";Gn.SELECTION_TOP_RIGHT="top-right-radius";Gn.SELECTION_BOTTOM_RIGHT="bottom-right-radius";Gn.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";Gn.ROUNDED_PIECE_WIDTH=10;es((n,e)=>{const t=n.getColor(av);t&&e.addRule(`.monaco-editor .focused .selected-text { background-color: ${t}; }`);const i=n.getColor(V$);i&&e.addRule(`.monaco-editor .selected-text { background-color: ${i}; }`);const r=n.getColor(vLe);r&&!r.isTransparent()&&e.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)});function w1(n){return n<0?-n:n}class _8{constructor(e,t,i,r,o,s){this.top=e,this.left=t,this.width=i,this.height=r,this.textContent=o,this.textContentClassName=s}}class b8{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(41);this._cursorStyle=t.get(22),this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Ot(document.createElement("div")),this._domNode.setClassName(`cursor ${dg}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),no.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new ve(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(41);return this._cursorStyle=t.get(22),this._lineHeight=t.get(57),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(25),this._typicalHalfwidthCharacterWidth),no.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===Bi.Line||this._cursorStyle===Bi.LineThin){const h=e.visibleRangeForPosition(this._position);if(!h||h.outsideRenderedLine)return null;let f;if(this._cursorStyle===Bi.Line){if(f=b7(this._lineCursorWidth>0?this._lineCursorWidth:2),f>2){const m=this._context.model.getLineContent(this._position.lineNumber),v=zL(m,this._position.column-1);t=m.substr(this._position.column-1,v)}}else f=b7(1);let g=h.left;f>=2&&g>=1&&(g-=1);const p=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new _8(p,g,f,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),r=zL(i,this._position.column-1),o=e.linesVisibleRangesForRange(new ee(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+r),!1);if(!o||o.length===0)return null;const s=o[0];if(s.outsideRenderedLine||s.ranges.length===0)return null;const a=s.ranges[0],l=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;let u="";if(this._cursorStyle===Bi.Block){const h=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,r);const f=h.tokens.findTokenIndexAtOffset(this._position.column-1);u=h.tokens.getClassName(f)}let c=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===Bi.Underline||this._cursorStyle===Bi.UnderlineThin)&&(c+=this._lineHeight-2,d=2),new _8(c,a.left,l,d,t,u)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${dg} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class jb extends Is{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(79),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new b8(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Ot(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new yu,this._cursorFlatBlinkInterval=new iw,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(e){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(e){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(79),this._cursorBlinking=t.get(20),this._cursorStyle=t.get(22),this._cursorSmoothCaretAnimation=t.get(21),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let i=0,r=this._secondaryCursors.length;i<r;i++)this._secondaryCursors[i].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const i=t.length-this._secondaryCursors.length;for(let r=0;r<i;r++){const o=new b8(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}}else if(this._secondaryCursors.length>t.length){const i=this._secondaryCursors.length-t.length;for(let r=0;r<i;r++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])}onCursorStateChanged(e){const t=[];for(let r=0,o=e.selections.length;r<o;r++)t[r]=e.selections[r].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=i=>{for(let r=0,o=e.ranges.length;r<o;r++)if(e.ranges[r].fromLineNumber<=i.lineNumber&&i.lineNumber<=e.ranges[r].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const i of this._secondaryCursors)if(t(i.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=e===0,i=e===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!i&&(e===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},jb.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},jb.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case Bi.Line:e+=" cursor-line-style";break;case Bi.Block:e+=" cursor-block-style";break;case Bi.Underline:e+=" cursor-underline-style";break;case Bi.LineThin:e+=" cursor-line-thin-style";break;case Bi.BlockOutline:e+=" cursor-block-outline-style";break;case Bi.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const r=this._primaryCursor.render(e);r&&(t[i++]=r);for(let o=0,s=this._secondaryCursors.length;o<s;o++){const a=this._secondaryCursors[o].render(e);a&&(t[i++]=a)}this._renderData=t}getLastRenderData(){return this._renderData}}jb.BLINK_INTERVAL=500;es((n,e)=>{const t=n.getColor(Jie);if(t){let i=n.getColor(dTe);i||(i=t.opposite()),e.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${t}; border-color: ${t}; color: ${i}; }`),n.type==="hc"&&e.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${i}; border-right: 1px solid ${i}; }`)}});const GA=()=>{throw new Error("Invalid change accessor")};class xIe extends Is{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(129);this._lineHeight=t.get(57),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Ot(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Ot(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const r of e)t.set(r.id,r);let i=!1;return this._context.model.changeWhitespace(r=>{const o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){const l=o[s],u=this._zones[l],c=this._computeWhitespaceProps(u.delegate),d=t.get(l);d&&(d.afterLineNumber!==c.afterViewLineNumber||d.height!==c.heightInPx)&&(r.changeOneWhitespace(l,c.afterViewLineNumber,c.heightInPx),this._safeCallOnComputedHeight(u.delegate,c.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(129);return this._lineHeight=t.get(57),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(57)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return typeof e.afterColumn<"u"?e.afterColumn:1e4}_computeWhitespaceProps(e){if(e.afterLineNumber===0)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t;if(typeof e.afterColumn<"u")t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const s=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new ve(s,this._context.model.getModelLineMaxColumn(s))}let i;t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?i=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):i=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),o=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:r.lineNumber,heightInPx:o?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const r={addZone:o=>(t=!0,this._addZone(i,o)),removeZone:o=>{o&&(t=this._removeZone(i,o)||t)},layoutZone:o=>{o&&(t=this._layoutZone(i,o)||t)}};LIe(e,r),r.addZone=GA,r.removeZone=GA,r.layoutZone=GA}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),o={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:Ot(t.domNode),marginDomNode:t.marginDomNode?Ot(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,i.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],r=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(i.delegate,r.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){return this._zones.hasOwnProperty(e)?!!this._zones[e].delegate.suppressMouseDown:!1}_heightInPixels(e){return typeof e.heightInPx=="number"?e.heightInPx:typeof e.heightInLines=="number"?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return typeof e.minWidthInPx=="number"?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if(typeof e.onComputedHeight=="function")try{e.onComputedHeight(t)}catch(i){Rn(i)}}_safeCallOnDomNodeTop(e,t){if(typeof e.onDomNodeTop=="function")try{e.onDomNodeTop(t)}catch(i){Rn(i)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let r=!1;for(let s=0,a=t.length;s<a;s++)i[t[s].id]=t[s],r=!0;const o=Object.keys(this._zones);for(let s=0,a=o.length;s<a;s++){const l=o[s],u=this._zones[l];let c=0,d=0,h="none";i.hasOwnProperty(l)?(c=i[l].verticalOffset-e.bigNumbersDelta,d=i[l].height,h="block",u.isVisible||(u.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(i[l].verticalOffset))):(u.isVisible&&(u.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),u.domNode.setTop(c),u.domNode.setHeight(d),u.domNode.setDisplay(h),u.marginDomNode&&(u.marginDomNode.setTop(c),u.marginDomNode.setHeight(d),u.marginDomNode.setDisplay(h))}r&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function LIe(n,e){try{return n(e)}catch(t){Rn(t)}}class TIe{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class IIe{constructor(e,t,i){this.configuration=e,this.theme=new TIe(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class DIe{constructor(e,t,i,r){this.selections=e,this.startLineNumber=t.startLineNumber|0,this.endLineNumber=t.endLineNumber|0,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=t.bigNumbersDelta|0,this.whitespaceViewportData=i,this._model=r,this.visibleRange=new ee(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}let EIe=class extends uw{constructor(e,t,i,r,o,s){super(),this._selections=[new Bt(1,1,1,1)],this._renderAnimationFrame=null;const a=new DTe(t,r,o,e);this._context=new IIe(t,i.getColorTheme(),r),this._configPixelRatio=this._context.configuration.options.get(127),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(p=>{this._context.theme.update(p),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new wTe(this._context,a,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Ot(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Ot(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Ot(document.createElement("div")),ru.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new eIe(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new oE(this._context,this._linesContent),this._viewZones=new xIe(this._context),this._viewParts.push(this._viewZones);const l=new pIe(this._context);this._viewParts.push(l);const u=new _Ie(this._context);this._viewParts.push(u);const c=new ATe(this._context);this._viewParts.push(c),c.addDynamicOverlay(new OTe(this._context)),c.addDynamicOverlay(new Gn(this._context)),c.addDynamicOverlay(new nIe(this._context)),c.addDynamicOverlay(new BTe(this._context));const d=new NTe(this._context);this._viewParts.push(d),d.addDynamicOverlay(new RTe(this._context)),d.addDynamicOverlay(new tIe(this._context)),d.addDynamicOverlay(new aIe(this._context)),d.addDynamicOverlay(new sIe(this._context)),d.addDynamicOverlay(new Fv(this._context));const h=new $g(this._context);h.getDomNode().appendChild(this._viewZones.marginDomNode),h.getDomNode().appendChild(d.getDomNode()),this._viewParts.push(h),this._contentWidgets=new kTe(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new jb(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new fIe(this._context),this._viewParts.push(this._overlayWidgets);const f=new yIe(this._context);this._viewParts.push(f);const g=new hIe(this._context);if(this._viewParts.push(g),l){const p=this._scrollbar.getOverviewRulerLayoutInfo();p.parent.insertBefore(l.getDomNode(),p.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(f.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(h.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(g.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),s?s.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Xxe(this._context,a,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:e=>{this._textAreaHandler.textArea.domNode.dispatchEvent(e)},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new $xe(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ve(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new ve(e,t)))}}_applyLayout(){const t=this._context.configuration.options.get(129);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this._overflowGuardContainer.setWidth(t.width),this._overflowGuardContainer.setHeight(t.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(126)+" "+cT(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this._configPixelRatio=this._context.configuration.options.get(127),this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const e of this._viewParts)e.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=Gte(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){MIe(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(const i of this._viewParts)i.shouldRender()&&(e[t++]=i);return e}_actualRender(){if(!YF(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&e.length===0)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new DIe(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const r=new NCe(this._context.viewLayout,i,this._viewLines);for(const o of e)o.prepareRender(r);for(const o of e)o.render(r),o.onDidRender();Math.abs(VL()-this._configPixelRatio)>.001&&this._context.configuration.updatePixelRatio()}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const o=this._viewLines.visibleRangeForPosition(new ve(r.lineNumber,r.column));return o?o.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?iE.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new vIe(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(const i of this._viewParts)i.forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(t===null){const r=e.position?e.position.position:null;r!==null&&(t=new ee(r.lineNumber,r.column,r.lineNumber,r.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}};function MIe(n){try{return n()}catch(e){Rn(e)}}class LT{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Ri(new ee(1,1,1,1),0,new ve(1,1),0),new Ri(new ee(1,1,1,1),0,new ve(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new yt(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.getDirection()===0?new Bt(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Bt(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}static _validatePositionWithCache(e,t,i,r){return t.equals(i)?r:e.normalizePosition(t,2)}static _validateViewState(e,t){const i=t.position,r=t.selectionStart.getStartPosition(),o=t.selectionStart.getEndPosition(),s=e.normalizePosition(i,2),a=this._validatePositionWithCache(e,r,i,s),l=this._validatePositionWithCache(e,o,r,a);return i.equals(s)&&r.equals(a)&&o.equals(l)?t:new Ri(ee.fromPositions(a,l),t.selectionStartLeftoverVisibleColumns+r.column-a.column,s,t.leftoverVisibleColumns+i.column-s.column)}_setState(e,t,i){if(i&&(i=LT._validateViewState(e.viewModel,i)),t){const r=e.model.validateRange(t.selectionStart),o=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,s=e.model.validatePosition(t.position),a=t.position.equals(s)?t.leftoverVisibleColumns:0;t=new Ri(r,o,s,a)}else{if(!i)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Ri(r,i.selectionStartLeftoverVisibleColumns,o,i.leftoverVisibleColumns)}if(i){const r=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Ri(r,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const r=e.coordinatesConverter.convertModelPositionToViewPosition(new ve(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),o=e.coordinatesConverter.convertModelPositionToViewPosition(new ve(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),s=new ee(r.lineNumber,r.column,o.lineNumber,o.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Ri(s,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class S8{constructor(e){this.context=e,this.primaryCursor=new LT(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const r=this.secondaryCursors[t].viewState.position;r.isBefore(e)&&(e=r)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const r=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(r)&&(e=r)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(yt.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){e!==null&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let r=i-t;for(let o=0;o<r;o++)this._addSecondaryCursor()}else if(t>i){let r=t-i;for(let o=0;o<r;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let r=0;r<i;r++)this.secondaryCursors[r].setState(this.context,e[r].modelState,e[r].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new LT(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return this.secondaryCursors.length===0||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(this.secondaryCursors.length===0)return;let e=this._getAll(),t=[];for(let i=0,r=e.length;i<r;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((i,r)=>i.selection.startLineNumber===r.selection.startLineNumber?i.selection.startColumn-r.selection.startColumn:i.selection.startLineNumber-r.selection.startLineNumber);for(let i=0;i<t.length-1;i++){const r=t[i],o=t[i+1],s=r.selection,a=o.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let l;if(a.isEmpty()||s.isEmpty()?l=a.getStartPosition().isBeforeOrEqual(s.getEndPosition()):l=a.getStartPosition().isBefore(s.getEndPosition()),l){const u=r.index<o.index?i:i+1,c=r.index<o.index?i+1:i,d=t[c].index,h=t[u].index,f=t[c].selection,g=t[u].selection;if(!f.equalsSelection(g)){const p=f.plusRange(g),m=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,v=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn;let y;d===this.lastAddedCursorIndex?(y=m,this.lastAddedCursorIndex=h):y=v;let _;y?_=new Bt(p.startLineNumber,p.startColumn,p.endLineNumber,p.endColumn):_=new Bt(p.endLineNumber,p.endColumn,p.startLineNumber,p.startColumn),t[u].selection=_;const b=yt.fromModelSelection(_);e[h].setState(this.context,b.modelState,b.viewState)}for(const p of t)p.index>d&&p.index--;e.splice(d,1),t.splice(c,1),this._removeSecondaryCursor(d-1),i--}}}}class AIe{constructor(){this.type=0}}class NIe{constructor(){this.type=1}}class kIe{constructor(e){this.type=2,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class PIe{constructor(e,t){this.type=3,this.selections=e,this.modelSelections=t}}class Up{constructor(e){this.type=4,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class C1{constructor(){this.type=5}}class OIe{constructor(e){this.type=6,this.isFocused=e}}class RIe{constructor(){this.type=7}}class x1{constructor(){this.type=8}}class dre{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class zR{constructor(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}}class HR{constructor(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}}class Px{constructor(e,t,i,r,o,s){this.type=12,this.source=e,this.range=t,this.selections=i,this.verticalType=r,this.revealHorizontal=o,this.scrollType=s}}class BIe{constructor(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class FIe{constructor(){this.type=14}}class $Ie{constructor(e){this.type=15,this.ranges=e}}class VIe{constructor(){this.type=16}}let WIe=class{constructor(){this.type=17}};class zIe extends Pe{constructor(){super(),this._onEvent=this._register(new ae),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind){this._outgoingEvents[t]=this._outgoingEvents[t].merge(e);return}this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new HIe),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const i of e)this._addOutgoingEvent(i);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class HIe{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class K${constructor(e,t,i,r){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=r,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return e.kind!==0?this:new K$(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class j${constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return e.kind!==1?this:new j$(this.oldHasFocus,e.hasFocus)}}class q${constructor(e,t,i,r,o,s,a,l){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=r,this.scrollWidth=o,this.scrollLeft=s,this.scrollHeight=a,this.scrollTop=l,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}merge(e){return e.kind!==2?this:new q$(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class UIe{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class TT{constructor(e,t,i,r,o,s,a){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=r,this.source=o,this.reason=s,this.reachedMaxCursorCount=a}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length,r=t.length;if(i!==r)return!1;for(let o=0;o<i;o++)if(!e[o].equalsSelection(t[o]))return!1;return!0}isNoOp(){return TT._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return e.kind!==5?this:new TT(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class GIe{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class KA{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e||this.modelVersionId!==e.modelVersionId||this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class w8{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let i=0;i<this._autoClosedEnclosingDecorations.length;i++){const r=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[i]);if(r&&(t.push(r),r.startLineNumber!==r.endLineNumber))return!1}t.sort(ee.compareRangesUsingStarts),e.sort(ee.compareRangesUsingStarts);for(let i=0;i<e.length;i++)if(i>=t.length||!t[i].strictContainsRange(e[i]))return!1;return!0}}class Vv extends Pe{constructor(e,t,i,r){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Y6(this._model,this._viewModel,this._coordinatesConverter,r),this._cursors=new S8(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=Bn(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Y6(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,r){let o=!1;r!==null&&r.length>Vv.MAX_CURSOR_COUNT&&(r=r.slice(0,Vv.MAX_CURSOR_COUNT),o=!0);const s=new KA(this._model,this);return this._cursors.setStates(r),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,s,o)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,r){const o=this._cursors.getViewPositions();if(o.length>1){this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,r);return}else{const s=o[0],a=new ee(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,0,i,r)}}_revealPrimaryCursor(e,t,i,r,o){const s=this._cursors.getViewPositions();if(s.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,r,o);else{const a=s[0],l=new ee(a.lineNumber,a.column,a.lineNumber,a.column);this._emitCursorRevealRange(e,t,l,null,i,r,o)}}_emitCursorRevealRange(e,t,i,r,o,s,a){e.emitViewEvent(new Px(t,i,r,o,s,a))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e}restoreState(e,t){let i=[];for(let r=0,o=t.length;r<o;r++){const s=t[r];let a=1,l=1;s.position&&s.position.lineNumber&&(a=s.position.lineNumber),s.position&&s.position.column&&(l=s.position.column);let u=a,c=l;s.selectionStart&&s.selectionStart.lineNumber&&(u=s.selectionStart.lineNumber),s.selectionStart&&s.selectionStart.column&&(c=s.selectionStart.column),i.push({selectionStartLineNumber:u,selectionStartColumn:c,positionLineNumber:a,positionColumn:l})}this.setStates(e,"restoreState",0,yt.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof Tie){const i=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,yt.fromModelSelections(i))}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new S8(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const r=yt.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,r)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const r=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,yt.fromModelSelections(r))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:cn.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:cn.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i,r){this.setStates(e,t,r,yt.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],r=[];for(let a=0,l=e.length;a<l;a++)i.push({range:e[a],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),r.push({range:t[a],options:{description:"auto-closed-enclosing",stickiness:1}});const o=this._model.deltaDecorations([],i),s=this._model.deltaDecorations([],r);this._autoClosedActions.push(new w8(this._model,o,s))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=KIe.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],r=[];for(let o=0;o<e.commands.length;o++){const s=e.commands[o];s instanceof nre&&s.enclosingRange&&s.closeCharacterRange&&(i.push(s.closeCharacterRange),r.push(s.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,r),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){(!e||e.length===0)&&(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,r,o){const s=new KA(this._model,this);if(s.equals(r))return!1;const a=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new PIe(l,a)),!r||r.cursorState.length!==s.cursorState.length||s.cursorState.some((u,c)=>!u.modelState.equals(r.cursorState[c].modelState))){const u=r?r.cursorState.map(d=>d.modelState.selection):null,c=r?r.modelVersionId:0;e.emitOutgoingEvent(new TT(u,a,c,s.modelVersionId,t||"keyboard",i,o))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.text||o.text.indexOf(`
`)>=0)return null;const s=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!s)return null;const a=s[1],l=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(a);if(!l||l.length!==1)return null;const u=l[0].open,c=o.text.length-s[2].length-1,d=o.text.lastIndexOf(u,c-1);if(d===-1)return null;t.push([d,c])}return t}executeEdits(e,t,i,r){let o=null;t==="snippet"&&(o=this._findAutoClosingPairs(i)),o&&(i[0]._isTracked=!0);let s=[],a=[];const l=this._model.pushEditOperations(this.getSelections(),i,u=>{if(o)for(let d=0,h=o.length;d<h;d++){const[f,g]=o[d],p=u[d],m=p.range.startLineNumber,v=p.range.startColumn-1+f,y=p.range.startColumn-1+g;s.push(new ee(m,y+1,m,y+2)),a.push(new ee(m,v+1,m,y+2))}const c=r(u);return c&&(this._isHandling=!0),c});l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),s.length>0&&this._pushAutoClosedAction(s,a)}_executeEdit(e,t,i,r=0){if(this.context.cursorConfig.readOnly)return;const o=new KA(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(s){Rn(s)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,r,o,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return w8.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{t==="keyboard"&&(this._executeEditOperation(Xn.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)},e,t)}type(e,t,i){this._executeEdit(()=>{if(i==="keyboard"){const r=t.length;let o=0;for(;o<r;){const s=zL(t,o),a=t.substr(o,s);this._executeEditOperation(Xn.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),a)),o+=s}}else this._executeEditOperation(Xn.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}compositionType(e,t,i,r,o,s){if(t.length===0&&i===0&&r===0){if(o!==0){const a=this.getSelections().map(l=>{const u=l.getPosition();return new Bt(u.lineNumber,u.column+o,u.lineNumber,u.column+o)});this.setSelections(e,s,a,0)}return}this._executeEdit(()=>{this._executeEditOperation(Xn.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i,r,o))},e,s)}paste(e,t,i,r,o){this._executeEdit(()=>{this._executeEditOperation(Xn.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,r||[]))},e,o,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Vg.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new ho(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new ho(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}Vv.MAX_CURSOR_COUNT=1e4;class KIe{static executeCommands(e,t,i){const r={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(r,i);for(let s=0,a=r.trackedRanges.length;s<a;s++)r.model._setTrackedRange(r.trackedRanges[s],null,0);return o}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(i.operations.length===0)return null;const r=i.operations,o=this._getLoserCursorMap(r);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let s=[];for(let u=0,c=r.length;u<c;u++)o.hasOwnProperty(r[u].identifier.major.toString())||s.push(r[u]);i.hadTrackedEditOperation&&s.length>0&&(s[0]._isTracked=!0);let a=e.model.pushEditOperations(e.selectionsBefore,s,u=>{let c=[];for(let f=0;f<e.selectionsBefore.length;f++)c[f]=[];for(const f of u)f.identifier&&c[f.identifier.major].push(f);const d=(f,g)=>f.identifier.minor-g.identifier.minor;let h=[];for(let f=0;f<e.selectionsBefore.length;f++)c[f].length>0?(c[f].sort(d),h[f]=t[f].computeCursorState(e.model,{getInverseEditOperations:()=>c[f],getTrackedSelection:g=>{const p=parseInt(g,10),m=e.model._getTrackedRange(e.trackedRanges[p]);return e.trackedRangesDirection[p]===0?new Bt(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new Bt(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn)}})):h[f]=e.selectionsBefore[f];return h});a||(a=e.selectionsBefore);let l=[];for(let u in o)o.hasOwnProperty(u)&&l.push(parseInt(u,10));l.sort((u,c)=>c-u);for(const u of l)a.splice(u,1);return a}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],r=!1;for(let o=0,s=t.length;o<s;o++){const a=t[o];if(a){const l=this._getEditOperationsFromCommand(e,o,a);i=i.concat(l.operations),r=r||l.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:r}}static _getEditOperationsFromCommand(e,t,i){let r=[],o=0;const s=(d,h,f=!1)=>{ee.isEmpty(d)&&h===""||r.push({identifier:{major:t,minor:o++},range:d,text:h,forceMoveMarkers:f,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let a=!1;const c={addEditOperation:s,addTrackedEditOperation:(d,h,f)=>{a=!0,s(d,h,f)},trackSelection:(d,h)=>{const f=Bt.liftSelection(d);let g;if(f.isEmpty())if(typeof h=="boolean")h?g=2:g=3;else{const v=e.model.getLineMaxColumn(f.startLineNumber);f.startColumn===v?g=2:g=3}else g=1;const p=e.trackedRanges.length,m=e.model._setTrackedRange(null,f,g);return e.trackedRanges[p]=m,e.trackedRangesDirection[p]=f.getDirection(),p.toString()}};try{i.getEditOperations(e.model,c)}catch(d){return Rn(d),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:a}}static _getLoserCursorMap(e){e=e.slice(0),e.sort((i,r)=>-ee.compareRangesUsingEnds(i.range,r.range));let t={};for(let i=1;i<e.length;i++){const r=e[i-1],o=e[i];if(ee.getStartPosition(r.range).isBefore(ee.getEndPosition(o.range))){let s;r.identifier.major>o.identifier.major?s=r.identifier.major:s=o.identifier.major,t[s.toString()]=!0;for(let a=0;a<e.length;a++)e[a].identifier.major===s&&(e.splice(a,1),a<i&&i--,a--);i>0&&i--}}return t}}class hre{constructor(e,t,i,r,o,s){this.id=e,this.label=t,this.alias=i,this._precondition=r,this._run=o,this._contextKeyService=s}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}function jIe(n,e,t,i,r,o,s){let a="<div>",l=i,u=0;for(let c=0,d=e.getCount();c<d;c++){const h=e.getEndOffset(c);if(h<=i)continue;let f="";for(;l<h&&l<r;l++){const g=n.charCodeAt(l);switch(g){case 9:let p=o-(l+u)%o;for(u+=p-1;p>0;)f+=s?"&#160;":" ",p--;break;case 60:f+="&lt;";break;case 62:f+="&gt;";break;case 38:f+="&amp;";break;case 0:f+="&#00;";break;case 65279:case 8232:case 8233:case 133:f+="";break;case 13:f+="&#8203";break;case 32:f+=s?"&#160;":" ";break;default:f+=String.fromCharCode(g)}}if(a+=`<span style="${e.getInlineStyle(c,t)}">${f}</span>`,h>r||l>=r)break}return a+="</div>",a}class qIe{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,r=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,r)}}class YIe{constructor(e,t,i,r,o){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=r,this.minWidth=o,this.prefixSum=0}}class qb{constructor(e,t,i,r){this._instanceId=lne(++qb.INSTANCE_COUNT),this._pendingChanges=new qIe,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=r}static findInsertionIndex(e,t,i){let r=0,o=e.length;for(;r<o;){const s=r+o>>>1;t===e[s].afterLineNumber?i<e[s].ordinal?o=s:r=s+1:t<e[s].afterLineNumber?o=s:r=s+1}return r}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(r,o,s,a)=>{t=!0,r=r|0,o=o|0,s=s|0,a=a|0;const l=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new YIe(l,r,o,s,a)),l},changeOneWhitespace:(r,o,s)=>{t=!0,o=o|0,s=s|0,this._pendingChanges.change({id:r,newAfterLineNumber:o,newHeight:s})},removeWhitespace:r=>{t=!0,this._pendingChanges.remove({id:r})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const l of e)this._insertWhitespace(l);for(const l of t)this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight);for(const l of i){const u=this._findWhitespaceIndex(l.id);u!==-1&&this._removeWhitespace(u)}return}const r=new Set;for(const l of i)r.add(l.id);const o=new Map;for(const l of t)o.set(l.id,l);const s=l=>{let u=[];for(const c of l)if(!r.has(c.id)){if(o.has(c.id)){const d=o.get(c.id);c.afterLineNumber=d.newAfterLineNumber,c.height=d.newHeight}u.push(c)}return u},a=s(this._arr).concat(s(e));a.sort((l,u)=>l.afterLineNumber===u.afterLineNumber?l.ordinal-u.ordinal:l.afterLineNumber-u.afterLineNumber),this._arr=a,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=qb.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,r=t.length;i<r;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const r=this._findWhitespaceIndex(e);if(r!==-1&&(this._arr[r].height!==i&&(this._arr[r].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,r-1)),this._arr[r].afterLineNumber!==t)){const o=this._arr[r];this._removeWhitespace(r),o.afterLineNumber=t,this._insertWhitespace(o)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount-=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const o=this._arr[i].afterLineNumber;e<=o&&o<=t?this._arr[i].afterLineNumber=e-1:o>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e=e|0,t=t|0,this._lineCount+=t-e+1;for(let i=0,r=this._arr.length;i<r;i++){const o=this._arr[i].afterLineNumber;e<=o&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e=e|0;let t=Math.max(0,this._prefixSumValidIndex+1);t===0&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e=e|0;const t=this._findLastWhitespaceBeforeLineNumber(e);return t===-1?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e=e|0;const t=this._arr;let i=0,r=t.length-1;for(;i<=r;){const s=(r-i|0)/2|0,a=i+s|0;if(t[a].afterLineNumber<e){if(a+1>=t.length||t[a+1].afterLineNumber>=e)return a;i=a+1|0}else r=a-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e=e|0;const i=this._findLastWhitespaceBeforeLineNumber(e)+1;return i<this._arr.length?i:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e=e|0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){this._checkPendingChanges(),e=e|0;let t;e>1?t=this._lineHeight*(e-1):t=0;const i=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+i+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>t}isInTopPadding(e){return this._paddingTop===0?!1:(this._checkPendingChanges(),e<this._paddingTop)}isInBottomPadding(e){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const t=this.getLinesTotalHeight();return e>=t-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),e=e|0,e<0)return 1;const t=this._lineCount|0,i=this._lineHeight;let r=1,o=t;for(;r<o;){const s=(r+o)/2|0,a=this.getVerticalOffsetForLineNumber(s)|0;if(e>=a+i)r=s+1;else{if(e>=a)return s;o=s}}return r>t?t:r}getLinesViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this._lineHeight,r=this.getLineNumberAtOrAfterVerticalOffset(e)|0,o=this.getVerticalOffsetForLineNumber(r)|0;let s=this._lineCount|0,a=this.getFirstWhitespaceIndexAfterLineNumber(r)|0;const l=this.getWhitespacesCount()|0;let u,c;a===-1?(a=l,c=s+1,u=0):(c=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);let d=o,h=d;const f=5e5;let g=0;o>=f&&(g=Math.floor(o/f)*f,g=Math.floor(g/i)*i,h-=g);const p=[],m=e+(t-e)/2;let v=-1;for(let S=r;S<=s;S++){if(v===-1){const w=d,C=d+i;(w<=m&&m<C||w>m)&&(v=S)}for(d+=i,p[S-r]=h,h+=i;c===S;)h+=u,d+=u,a++,a>=l?c=s+1:(c=this.getAfterLineNumberForWhitespaceIndex(a)|0,u=this.getHeightForWhitespaceIndex(a)|0);if(d>=t){s=S;break}}v===-1&&(v=s);const y=this.getVerticalOffsetForLineNumber(s)|0;let _=r,b=s;return _<b&&o<e&&_++,_<b&&y+i>t&&b--,{bigNumbersDelta:g,startLineNumber:r,endLineNumber:s,relativeVerticalOffset:p,centeredLineNumber:v,completelyVisibleStartLineNumber:_,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e=e|0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i;t>=1?i=this._lineHeight*t:i=0;let r;return e>0?r=this.getWhitespacesAccumulatedHeight(e-1):r=0,i+r+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e=e|0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;const r=this.getVerticalOffsetForWhitespaceIndex(i),o=this.getHeightForWhitespaceIndex(i);if(e>=r+o)return-1;for(;t<i;){const s=Math.floor((t+i)/2),a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(e>=a+l)t=s+1;else{if(e>=a)return s;i=s}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e=e|0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0||t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const r=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),s=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:s,verticalOffset:i,height:r}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e=e|0,t=t|0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),r=this.getWhitespacesCount()-1;if(i<0)return[];let o=[];for(let s=i;s<=r;s++){const a=this.getVerticalOffsetForWhitespaceIndex(s),l=this.getHeightForWhitespaceIndex(s);if(a>=t)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:a,height:l})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e=e|0,this._arr[e].height}}qb.INSTANCE_COUNT=0;const XIe=125;class o_{constructor(e,t,i,r){e=e|0,t=t|0,i=i|0,r=r|0,e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),r<0&&(r=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=r,this.scrollHeight=Math.max(i,r)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class ZIe extends Pe{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ae),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new o_(0,0,0,0),this._scrollable=this._register(new rE(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,r=t.contentHeight!==e.contentHeight;(i||r)&&this._onDidContentSizeChange.fire(new K$(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class QIe extends Pe{constructor(e,t,i){super(),this._configuration=e;const r=this._configuration.options,o=r.get(129),s=r.get(73);this._linesLayout=new qb(t,r.get(57),s.top,s.bottom),this._scrollable=this._register(new ZIe(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new o_(o.contentWidth,0,o.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(102)?XIe:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(57)&&this._linesLayout.setLineHeight(t.get(57)),e.hasChanged(73)){const i=t.get(73);this._linesLayout.setPadding(i.top,i.bottom)}if(e.hasChanged(129)){const i=t.get(129),r=i.contentWidth,o=i.height,s=this._scrollable.getScrollDimensions(),a=s.contentWidth;this._scrollable.setScrollDimensions(new o_(r,s.contentWidth,o,this._getContentHeight(r,o,a)))}else this._updateHeight();e.hasChanged(102)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const r=this._configuration.options.get(91);return r.horizontal===2||e>=t?0:r.horizontalScrollbarSize}_getContentHeight(e,t,i){const r=this._configuration.options;let o=this._linesLayout.getLinesTotalHeight();return r.get(93)?o+=Math.max(0,t-r.get(57)-r.get(73).bottom):o+=this._getHorizontalScrollbarHeight(e,i),o}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,r=e.contentWidth;this._scrollable.setScrollDimensions(new o_(t,e.contentWidth,i,this._getContentHeight(t,i,r)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new l6(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new l6(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(130),r=t.get(41);if(i.isViewportWrapping){const o=t.get(129),s=t.get(63);return e>o.contentWidth+r.typicalHalfwidthCharacterWidth&&s.enabled&&s.side==="right"?e+o.verticalScrollbarWidth:e}else{const o=t.get(92)*r.typicalHalfwidthCharacterWidth,s=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+o,s)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new o_(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),r=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-r,scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}isInTopPadding(e){return this._linesLayout.isInTopPadding(e)}isInBottomPadding(e){return this._linesLayout.isInBottomPadding(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){t===1?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class JIe{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e,t){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column,t)}convertModelRangeToViewRange(e,t){return this._lines.convertModelRangeToViewRange(e,t)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}getModelLineViewLineCount(e){return this._lines.getModelLineViewLineCount(e)}}class eDe{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const i=this._counts[e],r=e>0?this._modelToView[e-1]:0;this._modelToView[e]=r+i;for(let o=0;o<i;o++)this._viewToModel[r+o]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=Ob(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new Ene(t,e-i)}}class tDe{constructor(e,t,i,r,o,s,a,l,u){this._editorId=e,this.model=t,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=i,this._monospaceLineBreaksComputerFactory=r,this.fontInfo=o,this.tabSize=s,this.wrappingStrategy=a,this.wrappingColumn=l,this.wrappingIndent=u,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new JIe(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);const i=this.model.getLinesContent(),r=this.model.getInjectedTextDecorations(this._editorId),o=rl.fromDecorations(r),s=i.length,a=this.createLineBreaksComputer(),l=o.length;let u=0,c=u<l?o[u].lineNumber:s+1;for(let y=0;y<s;y++){let _=null;if(y+1===c)for(_=[];y+1===c&&u<l;)_.push(o[u]),u++,c=u<l?o[u].lineNumber:s+1;a.addRequest(i[y],_,t?t[y]:null)}const d=a.finalize();let h=[],f=this.hiddenAreasIds.map(y=>this.model.getDecorationRange(y)).sort(ee.compareRangesUsingStarts),g=1,p=0,m=-1,v=m+1<f.length?p+1:s+2;for(let y=0;y<s;y++){let _=y+1;_===v&&(m++,g=f[m].startLineNumber,p=f[m].endLineNumber,v=m+1<f.length?p+1:s+2);let b=_>=g&&_<=p,S=qA(d[y],!b);h[y]=S.getViewLineCount(),this.lines[y]=S}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new eDe(h)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(e.length===0)return[];let t=e.map(s=>this.model.validateRange(s)).sort(ee.compareRangesUsingStarts),i=[],r=t[0].startLineNumber,o=t[0].endLineNumber;for(let s=1,a=t.length;s<a;s++){let l=t[s];l.startLineNumber>o+1?(i.push(new ee(r,1,o,1)),r=l.startLineNumber,o=l.endLineNumber):l.endLineNumber>o&&(o=l.endLineNumber)}return i.push(new ee(r,1,o,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map(d=>this.model.getDecorationRange(d)).sort(ee.compareRangesUsingStarts);if(t.length===i.length){let d=!1;for(let h=0;h<t.length;h++)if(!t[h].equalsRange(i[h])){d=!0;break}if(!d)return!1}let r=[];for(const d of t)r.push({range:d,options:Zn.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,r);let o=t,s=1,a=0,l=-1,u=l+1<o.length?a+1:this.lines.length+2,c=!1;for(let d=0;d<this.lines.length;d++){let h=d+1;h===u&&(l++,s=o[l].startLineNumber,a=o[l].endLineNumber,u=l+1<o.length?a+1:this.lines.length+2);let f=!1;if(h>=s&&h<=a?this.lines[d].isVisible()&&(this.lines[d]=this.lines[d].setVisible(!1),f=!0):(c=!0,this.lines[d].isVisible()||(this.lines[d]=this.lines[d].setVisible(!0),f=!0)),f){let g=this.lines[d].getViewLineCount();this.prefixSumComputer.changeValue(d,g)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return e<1||e>this.lines.length?!1:this.lines[e-1].isVisible()}getModelLineViewLineCount(e){return e<1||e>this.lines.length?1:this.lines[e-1].getViewLineCount()}setTabSize(e){return this.tabSize===e?!1:(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,r){const o=this.fontInfo.equals(e),s=this.wrappingStrategy===t,a=this.wrappingColumn===i,l=this.wrappingIndent===r;if(o&&s&&a&&l)return!1;const u=o&&s&&!a&&l;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=r;let c=null;if(u){c=[];for(let d=0,h=this.lines.length;d<h;d++)c[d]=this.lines[d].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(!e||e<=this._validModelVersionId)return null;let r=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new zR(r,o)}onModelLinesInserted(e,t,i,r){if(!e||e<=this._validModelVersionId)return null;const o=t>2&&!this.lines[t-2].isVisible();let s=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,a=0,l=[],u=[];for(let c=0,d=r.length;c<d;c++){let h=qA(r[c],!o);l.push(h);let f=h.getViewLineCount();a+=f,u[c]=f}return this.lines=this.lines.slice(0,t-1).concat(l).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,u),new HR(s,s+a-1)}onModelLineChanged(e,t,i){if(e!==null&&e<=this._validModelVersionId)return[!1,null,null,null];let r=t-1,o=this.lines[r].getViewLineCount(),s=this.lines[r].isVisible(),a=qA(i,s);this.lines[r]=a;let l=this.lines[r].getViewLineCount(),u=!1,c=0,d=-1,h=0,f=-1,g=0,p=-1;o>l?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+l-1,g=d+1,p=g+(o-l)-1,u=!0):o<l?(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+o-1,h=d+1,f=h+(l-o)-1,u=!0):(c=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,d=c+l-1),this.prefixSumComputer.changeValue(r,l);const m=c<=d?new dre(c,d):null,v=h<=f?new HR(h,f):null,y=g<=p?new zR(g,p):null;return[u,m,v,y]}acceptVersionId(e){this._validModelVersionId=e,this.lines.length===1&&!this.lines[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:e|0}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const r=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),s=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),a=this.model.getActiveIndentGuide(r.lineNumber,o.lineNumber,s.lineNumber),l=this.convertModelPositionToViewPosition(a.startLineNumber,1),u=this.convertModelPositionToViewPosition(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber));return{startLineNumber:l.lineNumber,endLineNumber:u.lineNumber,indent:a.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let o=[],s=[],a=[];const l=i.lineNumber-1,u=r.lineNumber-1;let c=null;for(let g=l;g<=u;g++){const p=this.lines[g];if(p.isVisible()){let m=p.getViewLineNumberOfModelPosition(0,g===l?i.column:1),v=p.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(g+1)),y=v-m+1,_=0;y>1&&p.getViewLineMinColumn(this.model,g+1,v)===1&&(_=m===0?1:2),s.push(y),a.push(_),c===null&&(c=new ve(g+1,0))}else c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,g)),c=null)}c!==null&&(o=o.concat(this.model.getLinesIndentGuides(c.lineNumber,r.lineNumber)),c=null);const d=t-e+1;let h=new Array(d),f=0;for(let g=0,p=o.length;g<p;g++){let m=o[g],v=Math.min(d-f,s[g]),y=a[g],_;y===2?_=0:y===1?_=1:_=v;for(let b=0;b<v;b++)b===_&&(m=0),h[f++]=m}return h}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,r=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,r)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,r=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,r)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,r=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,r)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,r=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,r)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,r=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,r)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let r=this.prefixSumComputer.getIndexOf(e-1),o=e,s=r.index,a=r.remainder,l=[];for(let u=s,c=this.model.getLineCount();u<c;u++){let d=this.lines[u];if(!d.isVisible())continue;let h=u===s?a:0,f=d.getViewLineCount()-h,g=!1;o+f>t&&(g=!0,f=t-o+1);let p=h+f;if(d.getViewLinesData(this.model,u+1,h,p,o-e,i,l),o+=f,g)break}return l}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let r=this.prefixSumComputer.getIndexOf(e-1),o=r.index,s=r.remainder,a=this.lines[o],l=a.getViewLineMinColumn(this.model,o+1,s),u=a.getViewLineMaxColumn(this.model,o+1,s);t<l&&(t=l),t>u&&(t=u);let c=a.getModelColumnOfViewPosition(s,t);return this.model.validatePosition(new ve(o+1,c)).equals(i)?new ve(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),r=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new ee(i.lineNumber,i.column,r.lineNumber,r.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),r=i.index,o=i.remainder,s=this.lines[r].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new ve(r+1,s))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new ee(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t,i=2){const r=this.model.validatePosition(new ve(e,t)),o=r.lineNumber,s=r.column;let a=o-1,l=!1;for(;a>0&&!this.lines[a].isVisible();)a--,l=!0;if(a===0&&!this.lines[a].isVisible())return new ve(1,1);const u=1+(a===0?0:this.prefixSumComputer.getAccumulatedValue(a-1));let c;return l?c=this.lines[a].getViewPositionOfModelPosition(u,this.model.getLineMaxColumn(a+1),i):c=this.lines[o-1].getViewPositionOfModelPosition(u,s,i),c}convertModelRangeToViewRange(e,t=0){if(e.isEmpty()){const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,t);return ee.fromPositions(i)}else{const i=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn,1),r=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn,0);return new ee(i.lineNumber,i.column,r.lineNumber,r.column)}}_getViewLineNumberForModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const o=1+(i===0?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(o,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(i===0&&!this.lines[i].isVisible())return 1;const r=1+(i===0?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))}getAllOverviewRulerDecorations(e,t,i){const r=this.model.getOverviewRulerDecorations(e,t),o=new fre;for(const s of r){const a=s.options.overviewRuler,l=a?a.position:0;if(l===0)continue;const u=a.getColor(i),c=this._getViewLineNumberForModelPosition(s.range.startLineNumber,s.range.startColumn),d=this._getViewLineNumberForModelPosition(s.range.endLineNumber,s.range.endColumn);o.accept(u,c,d,l)}return o.result}getDecorationsInRange(e,t,i){const r=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-r.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new ee(r.lineNumber,1,o.lineNumber,o.column),t,i);let s=[];const a=r.lineNumber-1,l=o.lineNumber-1;let u=null;for(let f=a;f<=l;f++)if(this.lines[f].isVisible())u===null&&(u=new ve(f+1,f===a?r.column:1));else if(u!==null){const p=this.model.getLineMaxColumn(f);s=s.concat(this.model.getDecorationsInRange(new ee(u.lineNumber,u.column,f,p),t,i)),u=null}u!==null&&(s=s.concat(this.model.getDecorationsInRange(new ee(u.lineNumber,u.column,o.lineNumber,o.column),t,i)),u=null),s.sort((f,g)=>{const p=ee.compareRangesUsingStarts(f.range,g.range);return p===0?f.id<g.id?-1:f.id>g.id?1:0:p});let c=[],d=0,h=null;for(const f of s){const g=f.id;h!==g&&(h=g,c[d++]=f)}return c}getInjectedTextAt(e){const t=this._toValidViewLineNumber(e.lineNumber),i=this.prefixSumComputer.getIndexOf(t-1),r=i.index,o=i.remainder;return this.lines[r].getInjectedTextAt(o,e.column)}normalizePosition(e,t){const i=this._toValidViewLineNumber(e.lineNumber),r=this.prefixSumComputer.getIndexOf(i-1),o=r.index,s=r.remainder;return this.lines[o].normalizePosition(this.model,o+1,s,e,t)}getLineIndentColumn(e){const t=this._toValidViewLineNumber(e),i=this.prefixSumComputer.getIndexOf(t-1),r=i.index;return i.remainder===0?this.model.getLineIndentColumn(r+1):0}}class IT{constructor(){}isVisible(){return!0}setVisible(e){return e?this:DT.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let r=e.getLineTokens(t),o=r.getLineContent();return new _$(o,!1,1,o.length+1,0,r.inflate(),null)}getViewLinesData(e,t,i,r,o,s,a){if(!s[o]){a[o]=null;return}a[o]=this.getViewLineData(e,t,0)}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new ve(e,t)}getViewLineNumberOfModelPosition(e,t){return e}normalizePosition(e,t,i,r,o){return r}getInjectedTextAt(e,t){return null}}IT.INSTANCE=new IT;class DT{constructor(){}isVisible(){return!1}setVisible(e){return e?IT.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,r,o,s,a){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}normalizePosition(e,t,i,r,o){throw new Error("Not supported")}getInjectedTextAt(e,t){throw new Error("Not supported")}}DT.INSTANCE=new DT;class nDe{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return this._lineBreakData.getInputOffsetOfOutputPosition(e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:this._lineBreakData.getInputOffsetOfOutputPosition(i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");const r=i>0?this._lineBreakData.breakOffsets[i-1]:0,o=i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1];let s;if(this._lineBreakData.injectionOffsets!==null){const a=this._lineBreakData.injectionOffsets.map((l,u)=>new rl(0,0,l+1,this._lineBreakData.injectionOptions[u],0));s=rl.applyInjectedText(e.getLineContent(t),a).substring(r,o)}else s=e.getValueInRange({startLineNumber:t,startColumn:r+1,endLineNumber:t,endColumn:o+1});return i>0&&(s=C8(this._lineBreakData.wrappedTextIndentLength)+s),s}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");const r=i>0?this._lineBreakData.breakOffsets[i-1]:0;let s=(i<this._lineBreakData.breakOffsets.length?this._lineBreakData.breakOffsets[i]:this._lineBreakData.breakOffsets[this._lineBreakData.breakOffsets.length-1])-r;return i>0&&(s=this._lineBreakData.wrappedTextIndentLength+s),s}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this._getViewLineMinColumn(i)}_getViewLineMinColumn(e){return e>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineLength(e,t,i)+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");const r=this._lineBreakData,o=i>0?r.wrappedTextIndentLength:0,s=r.injectionOffsets,a=r.injectionOptions;let l,u,c;if(s){const p=e.getLineTokens(t).withInserted(s.map((_,b)=>({offset:_,text:a[b].content,tokenMetadata:Ir.defaultTokenMetadata}))),m=i>0?r.breakOffsets[i-1]:0,v=r.breakOffsets[i];l=p.getLineContent().substring(m,v),u=p.sliceAndInflate(m,v,o),c=new Array;let y=0;for(let _=0;_<s.length;_++){const b=a[_].content.length,S=s[_]+y,w=s[_]+y+b;if(S>v)break;if(m<w){const C=a[_];if(C.inlineClassName){const x=i>0?r.wrappedTextIndentLength:0,L=x+Math.max(S-m,0),T=x+Math.min(w-m,v);L!==T&&c.push(new a1e(L,T,C.inlineClassName,C.inlineClassNameAffectsLetterSpacing))}}y+=b}}else{const p=this.getInputStartOffsetOfOutputLineIndex(i),m=this.getInputEndOffsetOfOutputLineIndex(e,t,i),v=e.getLineTokens(t);l=e.getValueInRange({startLineNumber:t,startColumn:p+1,endLineNumber:t,endColumn:m+1}),u=v.sliceAndInflate(p,m,o),c=null}i>0&&(l=C8(r.wrappedTextIndentLength)+l);const d=i>0?r.wrappedTextIndentLength+1:1,h=l.length+1,f=i+1<this.getViewLineCount(),g=i===0?0:r.breakOffsetsVisibleColumn[i-1];return new _$(l,f,d,h,g,u,c)}getViewLinesData(e,t,i,r,o,s,a){if(!this._isVisible)throw new Error("Not supported");for(let l=i;l<r;l++){let u=o+l-i;if(!s[u]){a[u]=null;continue}a[u]=this.getViewLineData(e,t,l)}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),this._lineBreakData.getInputOffsetOfOutputPosition(e,i)+1}getViewPositionOfModelPosition(e,t,i=2){if(!this._isVisible)throw new Error("Not supported");let r=this._lineBreakData.getOutputPositionOfInputOffset(t-1,i),o=r.outputLineIndex,s=r.outputOffset+1;return o>0&&(s+=this._lineBreakData.wrappedTextIndentLength),new ve(e+o,s)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");const i=this._lineBreakData.getOutputPositionOfInputOffset(t-1);return e+i.outputLineIndex}normalizePosition(e,t,i,r,o){if(this._lineBreakData.injectionOffsets!==null){const s=r.lineNumber-i,a=this._lineBreakData.outputPositionToOffsetInUnwrappedLine(i,r.column-1),l=this._lineBreakData.normalizeOffsetAroundInjections(a,o);if(l!==a)return this._lineBreakData.getOutputPositionOfOffsetInUnwrappedLine(l,o).toPosition(s,this._lineBreakData.wrappedTextIndentLength)}if(o===0){if(i>0&&r.column===this._getViewLineMinColumn(i))return new ve(r.lineNumber-1,this.getViewLineMaxColumn(e,t,i-1))}else if(o===1){const s=this.getViewLineCount()-1;if(i<s&&r.column===this.getViewLineMaxColumn(e,t,i))return new ve(r.lineNumber+1,this._getViewLineMinColumn(i+1))}return r}getInjectedTextAt(e,t){return this._lineBreakData.getInjectedText(e,t-1)}}let jA=[""];function C8(n){if(n>=jA.length)for(let e=1;e<=n;e++)jA[e]=iDe(e);return jA[n]}function iDe(n){return new Array(n+1).join(" ")}function qA(n,e){return n===null?e?IT.INSTANCE:DT.INSTANCE:new nDe(n,e)}class rDe{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}getModelLineViewLineCount(e){return 1}}class oDe{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new rDe(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,r){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i,r)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new zR(t,i)}onModelLinesInserted(e,t,i,r){return new HR(t,i)}onModelLineChanged(e,t,i){return[!1,new dre(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const i=t-e+1;let r=new Array(i);for(let o=0;o<i;o++)r[o]=0;return r}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new _$(i,!1,1,i.length+1,0,t.inflate(),null)}getViewLinesData(e,t,i){const r=this.model.getLineCount();e=Math.min(Math.max(1,e),r),t=Math.min(Math.max(1,t),r);let o=[];for(let s=e;s<=t;s++){let a=s-e;i[a]||(o[a]=null),o[a]=this.getViewLineData(s)}return o}getAllOverviewRulerDecorations(e,t,i){const r=this.model.getOverviewRulerDecorations(e,t),o=new fre;for(const s of r){const a=s.options.overviewRuler,l=a?a.position:0;if(l===0)continue;const u=a.getColor(i),c=s.range.startLineNumber,d=s.range.endLineNumber;o.accept(u,c,d,l)}return o.result}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}normalizePosition(e,t){return this.model.normalizePosition(e,t)}getLineIndentColumn(e){return this.model.getLineIndentColumn(e)}getInjectedTextAt(e){return null}}class fre{constructor(){this.result=Object.create(null)}accept(e,t,i,r){let o=this.result[e];if(o){const s=o[o.length-3],a=o[o.length-1];if(s===r&&a+1>=t){i>a&&(o[o.length-1]=i);return}o.push(r,t,i)}else this.result[e]=[r,t,i]}}class sDe{constructor(e,t,i,r,o){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=r,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const r=e.range,o=e.options;let s;if(o.isWholeLine){const a=this._coordinatesConverter.convertModelPositionToViewPosition(new ve(r.startLineNumber,1),0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new ve(r.endLineNumber,this.model.getLineMaxColumn(r.endLineNumber)),1);s=new ee(a.lineNumber,a.column,l.lineNumber,l.column)}else s=this._coordinatesConverter.convertModelRangeToViewRange(r,1);i=new Bne(s,o),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=this._cachedModelDecorationsResolver!==null;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,UF(this.configuration.options)),i=e.startLineNumber,r=e.endLineNumber;let o=[],s=0,a=[];for(let l=i;l<=r;l++)a[l-i]=[];for(let l=0,u=t.length;l<u;l++){let c=t[l],d=c.options,h=this._getOrCreateViewModelDecoration(c),f=h.range;if(o[s++]=h,d.inlineClassName){let g=new P_(f,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),p=Math.max(i,f.startLineNumber),m=Math.min(r,f.endLineNumber);for(let v=p;v<=m;v++)a[v-i].push(g)}if(d.beforeContentClassName&&i<=f.startLineNumber&&f.startLineNumber<=r){let g=new P_(new ee(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);a[f.startLineNumber-i].push(g)}if(d.afterContentClassName&&i<=f.endLineNumber&&f.endLineNumber<=r){let g=new P_(new ee(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);a[f.endLineNumber-i].push(g)}}return{decorations:o,inlineDecorations:a}}}class aDe extends Pe{constructor(e,t,i,r,o,s){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new zIe,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Ks(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new vr(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new vr(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,this.model.isTooLargeForTokenization())this._lines=new oDe(this.model);else{const a=this._configuration.options,l=a.get(41),u=a.get(123),c=a.get(130),d=a.get(122);this._lines=new tDe(this._editorId,this.model,r,o,l,this.model.getOptions().tabSize,u,c.wrappingColumn,d)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Vv(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new QIe(this._configuration,this.getLineCount(),s)),this._register(this.viewLayout.onDidScroll(a=>{a.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new BIe(a)),this._eventDispatcher.emitOutgoingEvent(new q$(a.oldScrollWidth,a.oldScrollLeft,a.oldScrollHeight,a.oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(a=>{this._eventDispatcher.emitOutgoingEvent(a)})),this._decorations=new sDe(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(a=>{try{const l=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(l,a)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(dw.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new VIe)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new ve(e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new ve(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new OIe(e)),this._eventDispatcher.emitOutgoingEvent(new j$(!e,e))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new AIe)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new NIe)}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new FIe)}_onConfigurationChanged(e,t){let i=null;if(this._viewportStartLine!==-1){let c=new ve(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(c)}let r=!1;const o=this._configuration.options,s=o.get(41),a=o.get(123),l=o.get(130),u=o.get(122);if(this._lines.setWrappingSettings(s,a,l.wrappingColumn,u)&&(e.emitViewEvent(new C1),e.emitViewEvent(new x1),e.emitViewEvent(new Up(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(r=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(79)&&(this._decorations.reset(),e.emitViewEvent(new Up(null))),e.emitViewEvent(new kIe(t)),this.viewLayout.onConfigurationChanged(t),r&&i){const c=this.coordinatesConverter.convertModelPositionToViewPosition(i),d=this.viewLayout.getVerticalOffsetForLineNumber(c.lineNumber);this.viewLayout.setScrollPosition({scrollTop:d+this._viewportStartLineDelta},1)}Ks.shouldRecreate(t)&&(this.cursorConfig=new Ks(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,r=!1;const o=e.changes,s=e instanceof lg?e.versionId:null,a=this._lines.createLineBreaksComputer();for(const c of o)switch(c.changeType){case 4:{for(let d=0;d<c.detail.length;d++){const h=c.detail[d];let f=c.injectedTexts[d];f&&(f=f.filter(g=>!g.ownerId||g.ownerId===this._editorId)),a.addRequest(h,f,null)}break}case 2:{let d=null;c.injectedText&&(d=c.injectedText.filter(h=>!h.ownerId||h.ownerId===this._editorId)),a.addRequest(c.detail,d,null);break}}const l=a.finalize();let u=0;for(const c of o)switch(c.changeType){case 1:{this._lines.onModelFlushed(),t.emitViewEvent(new C1),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break}case 3:{const d=this._lines.onModelLinesDeleted(s,c.fromLineNumber,c.toLineNumber);d!==null&&(t.emitViewEvent(d),this.viewLayout.onLinesDeleted(d.fromLineNumber,d.toLineNumber)),i=!0;break}case 4:{const d=l.slice(u,u+c.detail.length);u+=c.detail.length;const h=this._lines.onModelLinesInserted(s,c.fromLineNumber,c.toLineNumber,d);h!==null&&(t.emitViewEvent(h),this.viewLayout.onLinesInserted(h.fromLineNumber,h.toLineNumber)),i=!0;break}case 2:{const d=l[u];u++;const[h,f,g,p]=this._lines.onModelLineChanged(s,c.lineNumber,d);r=h,f&&t.emitViewEvent(f),g&&(t.emitViewEvent(g),this.viewLayout.onLinesInserted(g.fromLineNumber,g.toLineNumber)),p&&(t.emitViewEvent(p),this.viewLayout.onLinesDeleted(p.fromLineNumber,p.toLineNumber));break}case 5:break}s!==null&&this._lines.acceptVersionId(s),this.viewLayout.onHeightMaybeChanged(),!i&&r&&(t.emitViewEvent(new x1),t.emitViewEvent(new Up(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const t=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(t){const i=this.coordinatesConverter.convertModelPositionToViewPosition(t.getStartPosition()),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber);this.viewLayout.setScrollPosition({scrollTop:r+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,r=e.ranges.length;i<r;i++){const o=e.ranges[i],s=this.coordinatesConverter.convertModelPositionToViewPosition(new ve(o.fromLineNumber,1)).lineNumber,a=this.coordinatesConverter.convertModelPositionToViewPosition(new ve(o.toLineNumber,this.model.getLineMaxColumn(o.toLineNumber))).lineNumber;t[i]={fromLineNumber:s,toLineNumber:a}}this._eventDispatcher.emitSingleViewEvent(new $Ie(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new RIe),this.cursorConfig=new Ks(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Ks(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const t=this._eventDispatcher.beginEmitViewEvents();t.emitViewEvent(new C1),t.emitViewEvent(new x1),t.emitViewEvent(new Up(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Ks(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new Up(e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(e)&&(t.emitViewEvent(new C1),t.emitViewEvent(new x1),t.emitViewEvent(new Up(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(129),t=this._configuration.options.get(57),i=Math.max(20,Math.round(e.height/t)),r=this.viewLayout.getLinesViewportData(),o=Math.max(1,r.completelyVisibleStartLineNumber-i),s=Math.min(this.getLineCount(),r.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new ee(o,this.getLineMinColumn(o),s,this.getLineMaxColumn(s)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(i.length===0)return[t];let r=[],o=0,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,u=t.endColumn;for(let c=0,d=i.length;c<d;c++){const h=i[c].startLineNumber,f=i[c].endLineNumber;f<s||h>l||(s<h&&(r[o++]=new ee(s,a,h-1,this.model.getLineMaxColumn(h-1))),s=f+1,a=1)}return(s<l||s===l&&a<u)&&(r[o++]=new ee(s,a,l,u)),r}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new ee(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,r=t.completelyVisibleEndLineNumber;return new ee(i,this.getLineMinColumn(i),r,this.getLineMaxColumn(r))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),r=this.coordinatesConverter.convertViewPositionToModelPosition(new ve(i,this.getLineMinColumn(i))),o=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:r,firstPositionDeltaTop:o}}reduceRestoreState(e){if(typeof e.firstPosition>"u")return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),r=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:r}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let r=this.coordinatesConverter.convertViewPositionToModelPosition(new ve(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new ee(r.lineNumber,r.column,r.lineNumber,r.column),1);const o=this.viewLayout.getVerticalOffsetForLineNumber(e),s=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=s-o}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=ps(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=by(this.getLineContent(e));return t===-1?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getInjectedTextAt(e){return this._lines.getInjectedTextAt(e)}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),r=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),s=this._lines.getViewLineData(t),l=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return s.inlineDecorations&&(l=[...l,...s.inlineDecorations.map(u=>u.toInlineDecoration(t))]),new jo(s.minColumn,s.maxColumn,s.content,s.continuesWithWrappedLine,i,r,s.tokens,l,o,s.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let r=this._lines.getViewLinesData(e,t,i);return new s1e(this.getTabSize(),r)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,UF(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const i=t.options.overviewRuler;i&&i.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const i=t.options.minimap;i&&i.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const r=this.coordinatesConverter.convertViewPositionToModelPosition(e);this.model.getEOL().length===2&&(t<0?t-=i:t+=i);const s=this.model.getOffsetAt(r)+t;return this.model.getPositionAt(s)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const r=i?`\r
`:this.model.getEOL();e=e.slice(0),e.sort(ee.compareRangesUsingStarts);let o=!1,s=!1;for(const l of e)l.isEmpty()?o=!0:s=!0;if(!s){if(!t)return"";const l=e.map(c=>c.startLineNumber);let u="";for(let c=0;c<l.length;c++)c>0&&l[c-1]===l[c]||(u+=this.model.getLineContent(l[c])+r);return u}if(o&&t){let l=[],u=0;for(const c of e){const d=c.startLineNumber;c.isEmpty()?d!==u&&l.push(this.model.getLineContent(d)):l.push(this.model.getValueInRange(c,i?2:0)),u=d}return l.length===1?l[0]:l}let a=[];for(const l of e)l.isEmpty()||a.push(this.model.getValueInRange(l,i?2:0));return a.length===1?a[0]:a}getRichTextToCopy(e,t){const i=this.model.getLanguageIdentifier();if(i.id===1||e.length!==1)return null;let r=e[0];if(r.isEmpty()){if(!t)return null;const c=r.startLineNumber;r=new ee(c,this.model.getLineMinColumn(c),c,this.model.getLineMaxColumn(c))}const o=this._configuration.options.get(41),s=this._getColorMap(),l=/[:;\\\/<>]/.test(o.fontFamily)||o.fontFamily===la.fontFamily;let u;return l?u=la.fontFamily:(u=o.fontFamily,u=u.replace(/"/g,"'"),/[,']/.test(u)||/[+ ]/.test(u)&&(u=`'${u}'`),u=`${u}, ${la.fontFamily}`),{mode:i.language,html:`<div style="color: ${s[1]};background-color: ${s[2]};font-family: ${u};font-weight: ${o.fontWeight};font-size: ${o.fontSize}px;line-height: ${o.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(r,s)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this.getTabSize();let l="";for(let u=i;u<=o;u++){const c=this.model.getLineTokens(u),d=c.getLineContent(),h=u===i?r-1:0,f=u===o?s-1:d.length;d===""?l+="<br>":l+=jIe(d,c.inflate(),t,h,f,a,zo)}return l}_getColorMap(){let e=gi.getColorMap(),t=["#000000"];if(e)for(let i=1,r=e.length;i<r;i++)t[i]=_e.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(r=>this._cursor.setStates(r,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t,i=0){this._withViewEventsCollector(r=>this._cursor.setSelections(r,e,t,i))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new GIe);return}this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(r=>this._cursor.executeEdits(r,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}compositionType(e,t,i,r,o){this._executeCursorEdit(s=>this._cursor.compositionType(s,e,t,i,r,o))}paste(e,t,i,r){this._executeCursorEdit(o=>this._cursor.paste(o,e,t,i,r))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new ee(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Px(e,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new ee(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(r=>r.emitViewEvent(new Px(e,i,null,0,!0,0)))}revealRange(e,t,i,r,o){this._withViewEventsCollector(s=>s.emitViewEvent(new Px(e,i,null,r,t,o)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new WIe),this._eventDispatcher.emitOutgoingEvent(new UIe))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{const t=this._eventDispatcher.beginEmitViewEvents();e(t)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(e,t){return this._lines.normalizePosition(e,t)}getLineIndentColumn(e){return this._lines.getLineIndentColumn(e)}}class Yb{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const Ds=an("accessibilityService"),lDe=new ht("accessibilityModeEnabled",!1);class uDe extends sw{constructor(e,t){super(0);for(let i=0;i<e.length;i++)this.set(e.charCodeAt(i),1);for(let i=0;i<t.length;i++)this.set(t.charCodeAt(i),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let UR=[],GR=[];class Y${constructor(e,t){this.classifier=new uDe(e,t)}static create(e){return new Y$(e.get(118),e.get(117))}createLineBreaksComputer(e,t,i,r){t=t|0,i=+i;const o=[],s=[],a=[];return{addRequest:(l,u,c)=>{o.push(l),s.push(u),a.push(c)},finalize:()=>{const l=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let u=[];for(let c=0,d=o.length;c<d;c++){const h=s[c],f=a[c];f&&!f.injectionOptions&&!h?u[c]=cDe(this.classifier,f,o[c],t,i,l,r):u[c]=dDe(this.classifier,o[c],h,t,i,l,r)}return UR.length=0,GR.length=0,u}}}}function cDe(n,e,t,i,r,o,s){if(r===-1)return null;const a=t.length;if(a<=1)return null;const l=e.breakOffsets,u=e.breakOffsetsVisibleColumn,c=gre(t,i,r,o,s),d=r-c;let h=UR,f=GR,g=0,p=0,m=0,v=r;const y=l.length;let _=0;if(_>=0){let b=Math.abs(u[_]-v);for(;_+1<y;){const S=Math.abs(u[_+1]-v);if(S>=b)break;b=S,_++}}for(;_<y;){let b=_<0?0:l[_],S=_<0?0:u[_];p>b&&(b=p,S=m);let w=0,C=0,x=0,L=0;if(S<=v){let I=S,D=b===0?0:t.charCodeAt(b-1),M=b===0?0:n.get(D),P=!0;for(let k=b;k<a;k++){const O=k,F=t.charCodeAt(k);let R,$;if(ji(F)?(k++,R=0,$=2):(R=n.get(F),$=G_(F,I,i,o)),O>p&&KR(D,M,F,R)&&(w=O,C=I),I+=$,I>v){O>p?(x=O,L=I-$):(x=k+1,L=I),I-C>d&&(w=0),P=!1;break}D=F,M=R}if(P){g>0&&(h[g]=l[l.length-1],f[g]=u[l.length-1],g++);break}}if(w===0){let I=S,D=t.charCodeAt(b),M=n.get(D),P=!1;for(let k=b-1;k>=p;k--){const O=k+1,F=t.charCodeAt(k);if(F===9){P=!0;break}let R,$;if(Nb(F)?(k--,R=0,$=2):(R=n.get(F),$=Za(F)?o:1),I<=v){if(x===0&&(x=O,L=I),I<=v-d)break;if(KR(F,R,D,M)){w=O,C=I;break}}I-=$,D=F,M=R}if(w!==0){const k=d-(L-C);if(k<=i){const O=t.charCodeAt(x);let F;ji(O)?F=2:F=G_(O,L,i,o),k-F<0&&(w=0)}}if(P){_--;continue}}if(w===0&&(w=x,C=L),w<=p){const I=t.charCodeAt(p);ji(I)?(w=p+2,C=m+2):(w=p+1,C=m+G_(I,m,i,o))}for(p=w,h[g]=w,m=C,f[g]=C,g++,v=C+d;_<0||_<y&&u[_]<C;)_++;let T=Math.abs(u[_]-v);for(;_+1<y;){const I=Math.abs(u[_+1]-v);if(I>=T)break;T=I,_++}}return g===0?null:(h.length=g,f.length=g,UR=e.breakOffsets,GR=e.breakOffsetsVisibleColumn,e.breakOffsets=h,e.breakOffsetsVisibleColumn=f,e.wrappedTextIndentLength=c,e)}function dDe(n,e,t,i,r,o,s){const a=rl.applyInjectedText(e,t);let l,u;if(t&&t.length>0?(l=t.map(C=>C.options),u=t.map(C=>C.column-1)):(l=null,u=null),r===-1)return l?new k_([a.length],[],0,u,l):null;const c=a.length;if(c<=1)return l?new k_([a.length],[],0,u,l):null;const d=gre(a,i,r,o,s),h=r-d;let f=[],g=[],p=0,m=0,v=0,y=r,_=a.charCodeAt(0),b=n.get(_),S=G_(_,0,i,o),w=1;ji(_)&&(S+=1,_=a.charCodeAt(1),b=n.get(_),w++);for(let C=w;C<c;C++){const x=C,L=a.charCodeAt(C);let T,I;ji(L)?(C++,T=0,I=2):(T=n.get(L),I=G_(L,S,i,o)),KR(_,b,L,T)&&(m=x,v=S),S+=I,S>y&&((m===0||S-v>h)&&(m=x,v=S-I),f[p]=m,g[p]=v,p++,y=v+h,m=0),_=L,b=T}return p===0&&(!t||t.length===0)?null:(f[p]=c,g[p]=S,new k_(f,g,d,u,l))}function G_(n,e,t,i){return n===9?t-e%t:Za(n)||n<32?i:1}function x8(n,e){return e-n%e}function KR(n,e,t,i){return t!==32&&(e===2||e===3&&i!==2||i===1||i===3&&e!==1)}function gre(n,e,t,i,r){let o=0;if(r!==0){const s=ps(n);if(s!==-1){for(let l=0;l<s;l++){const u=n.charCodeAt(l)===9?x8(o,e):1;o+=u}const a=r===3?2:r===2?1:0;for(let l=0;l<a;l++){const u=x8(o,e);o+=u}o+i>t&&(o=0)}}return o}var YA;const XA=(YA=window.trustedTypes)===null||YA===void 0?void 0:YA.createPolicy("domLineBreaksComputer",{createHTML:n=>n});class X${static create(){return new X$}constructor(){}createLineBreaksComputer(e,t,i,r){t=t|0,i=+i;let o=[],s=[];return{addRequest:(a,l,u)=>{o.push(a),s.push(l)},finalize:()=>hDe(o,e,t,i,r,s)}}}function hDe(n,e,t,i,r,o){var s;function a(S){const w=o[S];if(w){const C=rl.applyInjectedText(n[S],w),x=w.map(T=>T.options),L=w.map(T=>T.column-1);return new k_([C.length],[],0,L,x)}else return null}if(i===-1){const S=[];for(let w=0,C=n.length;w<C;w++)S[w]=a(w);return S}const l=Math.round(i*e.typicalHalfwidthCharacterWidth);(r===2||r===3)&&(r=1);const u=document.createElement("div");no.applyFontInfoSlow(u,e);const c=kv(1e4),d=[],h=[],f=[],g=[],p=[];for(let S=0;S<n.length;S++){const w=rl.applyInjectedText(n[S],o[S]);let C=0,x=0,L=l;if(r!==0)if(C=ps(w),C===-1)C=0;else{for(let M=0;M<C;M++){const P=w.charCodeAt(M)===9?t-x%t:1;x+=P}const D=Math.ceil(e.spaceWidth*x);D+e.typicalFullwidthCharacterWidth>l?(C=0,x=0):L=l-D}const T=w.substr(C),I=fDe(T,x,t,L,c);d[S]=C,h[S]=x,f[S]=T,g[S]=I[0],p[S]=I[1]}const m=c.build(),v=(s=XA==null?void 0:XA.createHTML(m))!==null&&s!==void 0?s:m;u.innerHTML=v,u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);let y=document.createRange();const _=Array.prototype.slice.call(u.children,0);let b=[];for(let S=0;S<n.length;S++){const w=_[S],C=gDe(y,w,f[S],g[S]);if(C===null){b[S]=a(S);continue}const x=d[S],L=h[S],T=p[S],I=[];for(let k=0,O=C.length;k<O;k++)I[k]=T[C[k]];if(x!==0)for(let k=0,O=C.length;k<O;k++)C[k]+=x;let D,M;const P=o[S];P?(D=P.map(k=>k.options),M=P.map(k=>k.column-1)):(D=null,M=null),b[S]=new k_(C,I,L,M,D)}return document.body.removeChild(u),b}function fDe(n,e,t,i,r){r.appendASCIIString('<div style="width:'),r.appendASCIIString(String(i)),r.appendASCIIString('px;">');const o=n.length;let s=e,a=0,l=[],u=[],c=0<o?n.charCodeAt(0):0;r.appendASCIIString("<span>");for(let d=0;d<o;d++){d!==0&&d%16384===0&&r.appendASCIIString("</span><span>"),l[d]=a,u[d]=s;const h=c;c=d+1<o?n.charCodeAt(d+1):0;let f=1,g=1;switch(h){case 9:f=t-s%t,g=f;for(let p=1;p<=f;p++)p<f?r.write1(160):r.appendASCII(32);break;case 32:c===32?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:Za(h)&&g++,h<32?r.write1(9216+h):r.write1(h)}a+=f,s+=g}return r.appendASCIIString("</span>"),l[n.length]=a,u[n.length]=s,r.appendASCIIString("</div>"),[l,u]}function gDe(n,e,t,i){if(t.length<=1)return null;const r=Array.prototype.slice.call(e.children,0),o=[];try{jR(n,r,i,0,null,t.length-1,null,o)}catch(s){return console.log(s),null}return o.length===0?null:(o.push(t.length),o)}function jR(n,e,t,i,r,o,s,a){if(i===o||(r=r||ZA(n,e,t[i],t[i+1]),s=s||ZA(n,e,t[o],t[o+1]),Math.abs(r[0].top-s[0].top)<=.1))return;if(i+1===o){a.push(o);return}const l=i+(o-i)/2|0,u=ZA(n,e,t[l],t[l+1]);jR(n,e,t,i,r,l,u,a),jR(n,e,t,l,u,o,s,a)}function ZA(n,e,t,i){return n.setStart(e[t/16384|0].firstChild,t%16384),n.setEnd(e[i/16384|0].firstChild,i%16384),n.getClientRects()}var pDe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Rh=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let mDe=0,vDe=class{constructor(e,t,i,r,o){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=r,this.listenersToRemove=o}dispose(){Bn(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}},ET=class Ox extends Pe{constructor(e,t,i,r,o,s,a,l,u,c){super(),this._onDidDispose=this._register(new ae),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ae),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ae),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ae),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ae),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ae),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new ae),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new ae),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ae),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ae),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ae),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ae),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new L8),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new L8),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ae),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ae),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ae),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ae),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ae),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ae),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ae),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ae),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ae),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new ae),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onContextMenu=this._register(new ae),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ae),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ae),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ae),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ae),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ae),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ae),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ae),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ae),this.onDidChangeViewZones=this._onDidChangeViewZones.event;const d=Object.assign({},t);this._domElement=e,this._overflowWidgetsDomNode=d.overflowWidgetsDomNode,delete d.overflowWidgetsDomNode,this._id=++mDe,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(d,c)),this._register(this._configuration.onDidChange(f=>{this._onDidChangeConfiguration.fire(f);const g=this._configuration.options;if(f.hasChanged(129)){const p=g.get(129);this._onDidLayoutChange.fire(p)}})),this._contextKeyService=this._register(a.createScoped(this._domElement)),this._notificationService=u,this._codeEditorService=o,this._commandService=s,this._themeService=l,this._register(new yDe(this,this._contextKeyService)),this._register(new _De(this,this._contextKeyService)),this._instantiationService=r.createChild(new Yb([pn,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new bDe(e),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let h;Array.isArray(i.contributions)?h=i.contributions:h=iv.getEditorContributions();for(const f of h){if(this._contributions[f.id]){Rn(new Error(`Cannot have two contributions with the same id ${f.id}`));continue}try{const g=this._instantiationService.createInstance(f.ctor,this);this._contributions[f.id]=g}catch(g){Rn(g)}}iv.getEditorActions().forEach(f=>{if(this._actions[f.id]){Rn(new Error(`Cannot have two actions with the same id ${f.id}`));return}const g=new hre(f.id,f.label,f.alias,Mm(f.precondition),()=>this._instantiationService.invokeFunction(p=>Promise.resolve(f.runEditorCommand(p,this,null))),this._contextKeyService);this._actions[g.id]=g}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new no(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return MD.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const r=e[t];this._contributions[r].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Yn.getWordAtPosition(this._modelData.model,this._configuration.options.get(115),e):null}getValue(e=null){if(!this._modelData)return"";const t=!!(e&&e.preserveBOM);let i=0;return e&&e.lineEnding&&e.lineEnding===`
`?i=1:e&&e.lineEnding&&e.lineEnding===`\r
`&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(this._modelData===null&&t===null||this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),r=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const o={oldModelUrl:r?r.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(r)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const r=e.model.validatePosition({lineNumber:t,column:i}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(r);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)}getTopForLineNumber(e){return this._modelData?Ox._getVerticalOffsetForPosition(this._modelData,e,1):-1}getTopForPosition(e,t){return this._modelData?Ox._getVerticalOffsetForPosition(this._modelData,e,t):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(t=>ee.lift(t)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return cn.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!ve.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,r){if(!this._modelData)return;if(!ee.isIRange(e))throw new Error("Invalid arguments");const o=this._modelData.model.validateRange(e),s=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.viewModel.revealRange("api",i,s,t,r)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if(typeof e!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ee(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,r){if(!ve.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new ee(e.lineNumber,e.column,e.lineNumber,e.column),t,i,r)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=Bt.isISelection(e),i=ee.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const r={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(r)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new Bt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,r){if(typeof e!="number"||typeof t!="number")throw new Error("Invalid arguments");this._sendRevealRange(new ee(e,1,t,1),i,!1,r)}revealRange(e,t=0,i=!1,r=!0){this._revealRange(e,i?1:0,r,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,r){if(!ee.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(ee.lift(e),t,i,r)}setSelections(e,t="api",i=0){if(this._modelData){if(!e||e.length===0)throw new Error("Invalid arguments");for(let r=0,o=e.length;r<o;r++)if(!Bt.isISelection(e[r]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e,i)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if(typeof e!="number")throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const o of t){const s=this._contributions[o];typeof s.saveViewState=="function"&&(e[o]=s.saveViewState())}const i=this._modelData.viewModel.saveCursorState(),r=this._modelData.viewModel.saveState();return{cursorState:i,viewState:r,contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const i=t.cursorState;Array.isArray(i)?this._modelData.viewModel.restoreCursorState(i):this._modelData.viewModel.restoreCursorState([i]);const r=t.contributionsState||{},o=Object.keys(this._contributions);for(let a=0,l=o.length;a<l;a++){const u=o[a],c=this._contributions[u];typeof c.restoreViewState=="function"&&c.restoreViewState(r[u])}const s=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(s)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push(this._actions[o])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(t=>t.isSupported()),e}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(e);return;case"type":{const o=i;this._type(e,o.text||"");return}case"replacePreviousChar":{const o=i;this._compositionType(e,o.text||"",o.replaceCharCnt||0,0,0);return}case"compositionType":{const o=i;this._compositionType(e,o.text||"",o.replacePrevCharCnt||0,o.replaceNextCharCnt||0,o.positionDelta||0);return}case"paste":{const o=i;this._paste(e,o.text||"",o.pasteOnNewLine||!1,o.multicursorText||null,o.mode||null);return}case"cut":this._cut(e);return}const r=this.getAction(t);if(r){Promise.resolve(r.run()).then(void 0,Rn);return}this._modelData&&(this._triggerEditorCommand(e,t,i)||this._triggerCommand(t,i))}_triggerCommand(e,t){this._commandService.executeCommand(e,t)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){!this._modelData||t.length===0||(e==="keyboard"&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),e==="keyboard"&&this._onDidType.fire(t))}_compositionType(e,t,i,r,o){this._modelData&&this._modelData.viewModel.compositionType(t,i,r,o,e)}_paste(e,t,i,r,o){if(!this._modelData||t.length===0)return;const s=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,r,e);const a=this._modelData.viewModel.getSelection().getStartPosition();e==="keyboard"&&this._onDidPaste.fire({range:new ee(s.lineNumber,s.column,a.lineNumber,a.column),mode:o})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const r=iv.getEditorCommand(t);return r?(i=i||{},i.source=e,this._instantiationService.invokeFunction(o=>{Promise.resolve(r.runEditorCommand(o,this,i)).then(void 0,Rn)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(79)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(79)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(e,t,i){if(!this._modelData||this._configuration.options.get(79))return!1;let r;return i?Array.isArray(i)?r=()=>i:r=i:r=()=>null,this._modelData.viewModel.executeEdits(e,t,r),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,UF(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?e.length===0&&t.length===0?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(129)}createOverviewRuler(e){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(e)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarMouseDown(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(i)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(i)}}changeViewZones(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(e,t)}getScrolledVisiblePosition(e){if(!this._modelData||!this._modelData.hasRealView)return null;const t=this._modelData.model.validatePosition(e),i=this._configuration.options,r=i.get(129),o=Ox._getVerticalOffsetForPosition(this._modelData,t.lineNumber,t.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(t.lineNumber,t.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft();return{top:o,left:s,height:i.get(57)}}getOffsetForColumn(e,t){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(e,t)}render(e=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,e)}setAriaOptions(e){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(e)}applyFontInfo(e){no.applyFontInfoSlow(e,this._configuration.options.get(41))}_attachModel(e){if(!e){this._modelData=null;return}const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const i=new aDe(this._id,this._configuration,e,X$.create(),Y$.create(this._configuration.options),s=>iu(s));t.push(e.onDidChangeDecorations(s=>this._onDidChangeModelDecorations.fire(s))),t.push(e.onDidChangeLanguage(s=>{this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(s)})),t.push(e.onDidChangeLanguageConfiguration(s=>this._onDidChangeModelLanguageConfiguration.fire(s))),t.push(e.onDidChangeContent(s=>this._onDidChangeModelContent.fire(s))),t.push(e.onDidChangeOptions(s=>this._onDidChangeModelOptions.fire(s))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(s=>{switch(s.kind){case 0:this._onDidContentSizeChange.fire(s);break;case 1:this._editorTextFocus.setValue(s.hasFocus);break;case 2:this._onDidScrollChange.fire(s);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{s.reachedMaxCursorCount&&this._notificationService.warn(E("cursors.maximum","The number of cursors has been limited to {0}.",Vv.MAX_CURSOR_COUNT));const a=[];for(let c=0,d=s.selections.length;c<d;c++)a[c]=s.selections[c].getPosition();const l={position:a[0],secondaryPositions:a.slice(1),reason:s.reason,source:s.source};this._onDidChangeCursorPosition.fire(l);const u={selection:s.selections[0],secondarySelections:s.selections.slice(1),modelVersionId:s.modelVersionId,oldSelections:s.oldSelections,oldModelVersionId:s.oldModelVersionId,source:s.source,reason:s.reason};this._onDidChangeCursorSelection.fire(u);break}}}));const[r,o]=this._createView(i);if(o){this._domElement.appendChild(r.domNode.domNode);let s=Object.keys(this._contentWidgets);for(let a=0,l=s.length;a<l;a++){const u=s[a];r.addContentWidget(this._contentWidgets[u])}s=Object.keys(this._overlayWidgets);for(let a=0,l=s.length;a<l;a++){const u=s[a];r.addOverlayWidget(this._overlayWidgets[u])}r.render(!1,!0),r.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new vDe(e,i,r,o,t)}_createView(e){let t;this.isSimpleWidget?t={paste:(o,s,a,l)=>{this._paste("keyboard",o,s,a,l)},type:o=>{this._type("keyboard",o)},compositionType:(o,s,a,l)=>{this._compositionType("keyboard",o,s,a,l)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:t={paste:(o,s,a,l)=>{const u={text:o,pasteOnNewLine:s,multicursorText:a,mode:l};this._commandService.executeCommand("paste",u)},type:o=>{const s={text:o};this._commandService.executeCommand("type",s)},compositionType:(o,s,a,l)=>{if(a||l){const u={text:o,replacePrevCharCnt:s,replaceNextCharCnt:a,positionDelta:l};this._commandService.executeCommand("compositionType",u)}else{const u={text:o,replaceCharCnt:s};this._commandService.executeCommand("replacePreviousChar",u)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new iE(e.coordinatesConverter);return i.onKeyDown=o=>this._onKeyDown.fire(o),i.onKeyUp=o=>this._onKeyUp.fire(o),i.onContextMenu=o=>this._onContextMenu.fire(o),i.onMouseMove=o=>this._onMouseMove.fire(o),i.onMouseLeave=o=>this._onMouseLeave.fire(o),i.onMouseDown=o=>this._onMouseDown.fire(o),i.onMouseUp=o=>this._onMouseUp.fire(o),i.onMouseDrag=o=>this._onMouseDrag.fire(o),i.onMouseDrop=o=>this._onMouseDrop.fire(o),i.onMouseDropCanceled=o=>this._onMouseDropCanceled.fire(o),i.onMouseWheel=o=>this._onMouseWheel.fire(o),[new EIe(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return this._modelData!==null}};ET=pDe([Rh(3,Go),Rh(4,mr),Rh(5,Qo),Rh(6,pn),Rh(7,zi),Rh(8,pa),Rh(9,Ds)],ET);class L8 extends Pe{constructor(){super(),this._onDidChangeToTrue=this._register(new ae),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ae),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class yDe extends Pe{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=Re.editorSimpleInput.bindTo(t),this._editorFocus=Re.focus.bindTo(t),this._textInputFocus=Re.textInputFocus.bindTo(t),this._editorTextFocus=Re.editorTextFocus.bindTo(t),this._editorTabMovesFocus=Re.tabMovesFocus.bindTo(t),this._editorReadonly=Re.readOnly.bindTo(t),this._inDiffEditor=Re.inDiffEditor.bindTo(t),this._editorColumnSelection=Re.columnSelection.bindTo(t),this._hasMultipleSelections=Re.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=Re.hasNonEmptySelection.bindTo(t),this._canUndo=Re.canUndo.bindTo(t),this._canRedo=Re.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(128)),this._editorReadonly.set(e.get(79)),this._inDiffEditor.set(e.get(52)),this._editorColumnSelection.set(e.get(16))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(t=>!t.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(!!(e&&e.canUndo())),this._canRedo.set(!!(e&&e.canRedo()))}}class _De extends Pe{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=Re.languageId.bindTo(t),this._hasCompletionItemProvider=Re.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=Re.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=Re.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=Re.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=Re.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=Re.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=Re.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=Re.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=Re.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=Re.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=Re.hasReferenceProvider.bindTo(t),this._hasRenameProvider=Re.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=Re.hasSignatureHelpProvider.bindTo(t),this._hasInlayHintsProvider=Re.hasInlayHintsProvider.bindTo(t),this._hasDocumentFormattingProvider=Re.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=Re.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=Re.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=Re.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=Re.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(qL.onDidChange(i)),this._register(dR.onDidChange(i)),this._register(uR.onDidChange(i)),this._register(oR.onDidChange(i)),this._register(sR.onDidChange(i)),this._register(aR.onDidChange(i)),this._register(lR.onDidChange(i)),this._register(nR.onDidChange(i)),this._register(rR.onDidChange(i)),this._register(iR.onDidChange(i)),this._register(JO.onDidChange(i)),this._register(eR.onDidChange(i)),this._register(A_.onDidChange(i)),this._register(Ld.onDidChange(i)),this._register(tR.onDidChange(i)),this._register(cR.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();if(!e){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(qL.has(e)),this._hasCodeActionsProvider.set(dR.has(e)),this._hasCodeLensProvider.set(uR.has(e)),this._hasDefinitionProvider.set(oR.has(e)),this._hasDeclarationProvider.set(sR.has(e)),this._hasImplementationProvider.set(aR.has(e)),this._hasTypeDefinitionProvider.set(lR.has(e)),this._hasHoverProvider.set(nR.has(e)),this._hasDocumentHighlightProvider.set(rR.has(e)),this._hasDocumentSymbolProvider.set(iR.has(e)),this._hasReferenceProvider.set(JO.has(e)),this._hasRenameProvider.set(eR.has(e)),this._hasSignatureHelpProvider.set(tR.has(e)),this._hasInlayHintsProvider.set(cR.has(e)),this._hasDocumentFormattingProvider.set(A_.has(e)||Ld.has(e)),this._hasDocumentSelectionFormattingProvider.set(Ld.has(e)),this._hasMultipleDocumentFormattingProvider.set(A_.all(e).length+Ld.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Ld.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Nn.walkThroughSnippet)})}}class bDe extends Pe{constructor(e){super(),this._onChange=this._register(new ae),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Mv(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}const SDe=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),wDe=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function QA(n){return SDe+encodeURIComponent(n.toString())+wDe}const CDe=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),xDe=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function LDe(n){return CDe+encodeURIComponent(n.toString())+xDe}es((n,e)=>{const t=n.getColor(iLe);t&&e.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${t}; }`);const i=n.getColor(Mx);i&&e.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${QA(i)}") repeat-x bottom left; }`);const r=n.getColor(nLe);r&&e.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${r}; }`);const o=n.getColor($$);o&&e.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${o}; }`);const s=n.getColor(Yd);s&&e.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${QA(s)}") repeat-x bottom left; }`);const a=n.getColor(rLe);a&&e.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${a}; }`);const l=n.getColor(Hie);l&&e.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${l}; }`);const u=n.getColor(sv);u&&e.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${QA(u)}") repeat-x bottom left; }`);const c=n.getColor(oLe);c&&e.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${c}; }`);const d=n.getColor(aLe);d&&e.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${d}; }`);const h=n.getColor(sLe);h&&e.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${LDe(h)}") no-repeat bottom left; }`);const f=n.getColor(yTe);f&&e.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${f.rgba.a}; }`);const g=n.getColor(vTe);g&&e.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${g}; }`);const p=n.getColor(cw)||"inherit";e.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${p}}`)});class Mn{constructor(e,t,i){const r=o=>this.emitter.fire(o);this.emitter=new ae({onFirstListenerAdd:()=>e.addEventListener(t,r,i),onLastListenerRemove:()=>e.removeEventListener(t,r,i)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function T8(n){return n.preventDefault(),n.stopPropagation(),n}var Ty=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};let TDe=!1;var I8;(function(n){n.North="north",n.South="south",n.East="east",n.West="west"})(I8||(I8={}));let IDe=4;const DDe=new ae;let EDe=300;const MDe=new ae;class Z${constructor(){this.disposables=new St}get onPointerMove(){return this.disposables.add(new Mn(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new Mn(window,"mouseup")).event}dispose(){this.disposables.dispose()}}Ty([yi],Z$.prototype,"onPointerMove",null);Ty([yi],Z$.prototype,"onPointerUp",null);class Q${constructor(e){this.el=e,this.disposables=new St}get onPointerMove(){return this.disposables.add(new Mn(this.el,Vn.Change)).event}get onPointerUp(){return this.disposables.add(new Mn(this.el,Vn.End)).event}dispose(){this.disposables.dispose()}}Ty([yi],Q$.prototype,"onPointerMove",null);Ty([yi],Q$.prototype,"onPointerUp",null);class MT{constructor(e){this.factory=e}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}Ty([yi],MT.prototype,"onPointerMove",null);Ty([yi],MT.prototype,"onPointerUp",null);class ko extends Pe{constructor(e,t,i){super(),this.hoverDelay=EDe,this.hoverDelayer=this._register(new nw(this.hoverDelay)),this._state=3,this._onDidEnablementChange=this._register(new ae),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new ae),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new ae),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new ae),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new St),this.orthogonalStartDragHandleDisposables=this._register(new St),this.orthogonalEndSashDisposables=this._register(new St),this.orthogonalEndDragHandleDisposables=this._register(new St),this.el=je(e,at(".monaco-sash")),i.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${i.orthogonalEdge}`),Qt&&this.el.classList.add("mac");const r=this._register(new Mn(this.el,"mousedown")).event;this._register(r(d=>this.onPointerStart(d,new Z$),this));const o=this._register(new Mn(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const s=this._register(new Mn(this.el,"mouseenter")).event;this._register(s(()=>ko.onMouseEnter(this)));const a=this._register(new Mn(this.el,"mouseleave")).event;this._register(a(()=>ko.onMouseLeave(this))),this._register(bn.addTarget(this.el));const l=Ze.map(this._register(new Mn(this.el,Vn.Start)).event,d=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(l(d=>this.onPointerStart(d,new Q$(this.el)),this));const u=this._register(new Mn(this.el,Vn.Tap)).event,c=Ze.map(Ze.filter(Ze.debounce(u,(d,h)=>{var f;return{event:h,count:((f=d==null?void 0:d.count)!==null&&f!==void 0?f:0)+1}},250),({count:d})=>d===2),({event:d})=>{var h;return Object.assign(Object.assign({},d),{target:(h=d.initialTarget)!==null&&h!==void 0?h:null})});this._register(c(this.onPointerDoublePress,this)),typeof i.size=="number"?(this.size=i.size,i.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=IDe,this._register(DDe.event(d=>{this.size=d,this.layout()}))),this._register(MDe.event(d=>this.hoverDelay=d)),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",TDe),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const t=i=>{this.orthogonalStartDragHandleDisposables.clear(),i!==0&&(this._orthogonalStartDragHandle=je(this.el,at(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Tn(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new Mn(this._orthogonalStartDragHandle,"mouseenter")).event(()=>ko.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new Mn(this._orthogonalStartDragHandle,"mouseleave")).event(()=>ko.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const t=i=>{this.orthogonalEndDragHandleDisposables.clear(),i!==0&&(this._orthogonalEndDragHandle=je(this.el,at(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Tn(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new Mn(this._orthogonalEndDragHandle,"mouseenter")).event(()=>ko.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new Mn(this._orthogonalEndDragHandle,"mouseleave")).event(()=>ko.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(t,this)),t(e.state)}this._orthogonalEndSash=e}onPointerStart(e,t){Cn.stop(e);let i=!1;if(!e.__orthogonalSashEvent){const g=this.getOrthogonalSash(e);g&&(i=!0,e.__orthogonalSashEvent=!0,g.onPointerStart(e,new MT(t)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new MT(t))),!this.state)return;const r=Dbe("iframe");for(const g of r)g.style.pointerEvents="none";const o=e.pageX,s=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const u=ws(this.el),c=()=>{let g="";i?g="all-scroll":this.orientation===1?this.state===1?g="s-resize":this.state===2?g="n-resize":g=Qt?"row-resize":"ns-resize":this.state===1?g="e-resize":this.state===2?g="w-resize":g=Qt?"col-resize":"ew-resize",u.textContent=`* { cursor: ${g} !important; }`},d=new St;c(),i||this.onDidEnablementChange(c,null,d);const h=g=>{Cn.stop(g,!1);const p={startX:o,currentX:g.pageX,startY:s,currentY:g.pageY,altKey:a};this._onDidChange.fire(p)},f=g=>{Cn.stop(g,!1),this.el.removeChild(u),this.el.classList.remove("active"),this._onDidEnd.fire(),d.dispose();for(const p of r)p.style.pointerEvents="auto"};t.onPointerMove(h,null,d),t.onPointerUp(f,null,d),d.add(t)}onPointerDoublePress(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,t=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!t&&e.linkedSash&&ko.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,t=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!t&&e.linkedSash&&ko.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){ko.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}getOrthogonalSash(e){if(!(!e.target||!(e.target instanceof HTMLElement))&&e.target.classList.contains("orthogonal-drag-handle"))return e.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}class Sd{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const pre=[];function mre(n,e,t){e instanceof Sd||(e=new Sd(e,[],t)),pre.push([n,e])}function ADe(){return pre}const vre=an("IEditorCancelService"),yre=new ht("cancellableOperation",!1,E("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));mre(vre,class{constructor(){this._tokens=new WeakMap}add(n,e){let t=this._tokens.get(n);t||(t=n.invokeWithinContext(r=>{const o=yre.bindTo(r.get(pn)),s=new ta;return{key:o,tokens:s}}),this._tokens.set(n,t));let i;return t.key.set(!0),i=t.tokens.push(e),()=>{i&&(i(),t.key.set(!t.tokens.isEmpty()),i=void 0)}}cancel(n){const e=this._tokens.get(n);if(!e)return;const t=e.tokens.pop();t&&(t.cancel(),e.key.set(!e.tokens.isEmpty()))}},!0);Xe(new class extends dp{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:yre})}runEditorCommand(n,e){n.get(vre).cancel(e)}});class J${constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(e.getScrollTop()!==0){const r=e.getVisibleRanges();if(r.length>0){t=r[0].getStartPosition();const o=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-o}}return new J$(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}const _re={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:Zs.text,TERMINALS:"Terminals"};class NDe{constructor(e){this.data=e}update(){}getData(){return this.data}}const Hu={CurrentDragAndDropData:void 0};class K_ extends Pe{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Ql&&this._register(t.onDidChange(r=>{this.element&&this.handleActionChangeEvent(r)}))}handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new C$)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(bn.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,eo&&this._register(De(e,it.DRAG_START,r=>{var o;return(o=r.dataTransfer)===null||o===void 0?void 0:o.setData(_re.TEXT,this._action.label)}))),this._register(De(t,Vn.Tap,r=>this.onClick(r,!0))),this._register(De(t,it.MOUSE_DOWN,r=>{i||Cn.stop(r,!0),this._action.enabled&&r.button===0&&t.classList.add("active")})),Qt&&this._register(De(t,it.CONTEXT_MENU,r=>{r.button===0&&r.ctrlKey===!0&&this.onClick(r)})),this._register(De(t,it.CLICK,r=>{Cn.stop(r,!0),this.options&&this.options.isMenu||OL(()=>this.onClick(r))})),this._register(De(t,it.DBLCLICK,r=>{Cn.stop(r,!0)})),[it.MOUSE_UP,it.MOUSE_OUT].forEach(r=>{this._register(De(t,r,o=>{Cn.stop(o),t.classList.remove("active")}))})}onClick(e,t=!1){var i;Cn.stop(e,!0);const r=$a(this._context)?!((i=this.options)===null||i===void 0)&&i.useEventAsContext?e:{preserveFocus:t}:this._context;this.actionRunner.run(this._action,r)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class bre extends K_{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=je(this.element,at("a.action-label"))),this.label&&(this._action.id===up.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(je(this.element,at("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=E({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label&&this.label.classList.remove("codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element&&this.element.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element&&this.element.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}var kDe=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class Wv extends Pe{constructor(e,t={}){var i,r,o,s,a,l;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new ae),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ae({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new ae),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new ae),this.onBeforeRun=this._onBeforeRun.event,this.options=t,this._context=(i=t.context)!==null&&i!==void 0?i:null,this._orientation=(r=this.options.orientation)!==null&&r!==void 0?r:0,this._triggerKeys={keyDown:(s=(o=this.options.triggerKeys)===null||o===void 0?void 0:o.keyDown)!==null&&s!==void 0?s:!1,keys:(l=(a=this.options.triggerKeys)===null||a===void 0?void 0:a.keys)!==null&&l!==void 0?l:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new C$,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(d=>this._onDidRun.fire(d))),this._register(this._actionRunner.onBeforeRun(d=>this._onBeforeRun.fire(d))),this._actionIds=[],this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",t.animated!==!1&&this.domNode.classList.add("animated");let u,c;switch(this._orientation){case 0:u=[15],c=[17];break;case 1:u=[16],c=[18],this.domNode.className+=" vertical";break}this._register(De(this.domNode,it.KEY_DOWN,d=>{const h=new ni(d);let f=!0;const g=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;u&&(h.equals(u[0])||h.equals(u[1]))?f=this.focusPrevious():c&&(h.equals(c[0])||h.equals(c[1]))?f=this.focusNext():h.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():h.equals(14)?f=this.focusFirst():h.equals(13)?f=this.focusLast():h.equals(2)&&g instanceof K_&&g.trapsArrowNavigation?f=this.focusNext():this.isTriggerKeyEvent(h)?this._triggerKeys.keyDown?this.doTrigger(h):this.triggerKeyDown=!0:f=!1,f&&(h.preventDefault(),h.stopPropagation())})),this._register(De(this.domNode,it.KEY_UP,d=>{const h=new ni(d);this.isTriggerKeyEvent(h)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(h)),h.preventDefault(),h.stopPropagation()):(h.equals(2)||h.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Mv(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Qm()===this.domNode||!Cc(Qm(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(Cc(Qm(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let r=ow(t.index)?t.index:null;i.forEach(o=>{const s=document.createElement("li");s.className="action-item",s.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(De(s,it.CONTEXT_MENU,l=>{Cn.stop(l,!0)}));let a;this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o)),a||(a=new bre(this.context,o,t)),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(s),this.focusable&&a instanceof K_&&this.viewItems.length===0&&a.setFocusable(!0),r===null||r<0||r>=this.actionsList.children.length?(this.actionsList.appendChild(s),this.viewItems.push(a),this._actionIds.push(o.id)):(this.actionsList.insertBefore(s,this.actionsList.children[r]),this.viewItems.splice(r,0,a),this._actionIds.splice(r,0,o.id),r++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem)}clear(){Bn(this.viewItems),this.viewItems=[],this._actionIds=[],Ss(this.actionsList)}length(){return this.viewItems.length}focus(e){let t=!1,i;if(e===void 0?t=!0:typeof e=="number"?i=e:typeof e=="boolean"&&(t=e),t&&typeof this.focusedItem>"u"){const r=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=r===-1?void 0:r,this.updateFocus()}else i!==void 0&&(this.focusedItem=i),this.updateFocus()}focusFirst(){return this.focusedItem=this.length()>1?1:0,this.focusPrevious()}focusLast(){return this.focusedItem=this.length()<2?0:this.length()-2,this.focusNext()}focusNext(){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(),!0}focusPrevious(){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&this.options.focusOnlyEnabledItems&&!t.isEnabled());return this.updateFocus(!0),!0}updateFocus(e,t){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const r=this.viewItems[i],o=r;if(i===this.focusedItem){let s=!0;M_(o.focus)||(s=!1),this.options.focusOnlyEnabledItems&&M_(r.isEnabled)&&!r.isEnabled()&&(s=!1),s?o.focus(e):this.actionsList.focus({preventScroll:t})}else M_(o.blur)&&o.blur()}}doTrigger(e){if(typeof this.focusedItem>"u")return;const t=this.viewItems[this.focusedItem];if(t instanceof K_){const i=t._context===null||t._context===void 0?e:t._context;this.run(t._action,i)}}run(e,t){return kDe(this,void 0,void 0,function*(){yield this._actionRunner.run(e,t)})}dispose(){Bn(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}const PDe={IconContribution:"base.contributions.icons"};class ODe{constructor(){this._onDidChange=new ae,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:E("iconDefintion.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:E("iconDefintion.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${bo.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(e,t,i,r){const o=this.iconsById[e];if(o){if(i&&!o.description){o.description=i,this.iconSchema.properties[e].markdownDescription=`${i} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=i),this._onDidChange.fire()}return o}let s={id:e,description:i,defaults:t,deprecationMessage:r};this.iconsById[e]=s;let a={$ref:"#/definitions/icons"};return r&&(a.deprecationMessage=r),i&&(a.markdownDescription=`${i}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(i||""),this._onDidChange.fire(),{id:e}}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconFont(e){return this.iconFontsById[e]}toString(){const e=(o,s)=>o.id.localeCompare(s.id),t=o=>{for(;Pr.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`};let i=[];i.push("| preview     | identifier                        | default codicon ID                | description"),i.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of r.filter(s=>!!s.description).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|${Pr.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);i.push("| preview     | identifier                        "),i.push("| ----------- | --------------------------------- |");for(const o of r.filter(s=>!Pr.isThemeIcon(s.defaults)).sort(e))i.push(`|<i class="${t(o)}"></i>|${o.id}|`);return i.join(`
`)}}const Wg=new ODe;ir.add(PDe.IconContribution,Wg);function Es(n,e,t,i){return Wg.registerIcon(n,e,t,i)}function RDe(){return Wg}function BDe(){for(const n of jL.all)Wg.registerIcon(n.id,n.definition,n.description);jL.onDidRegister(n=>Wg.registerIcon(n.id,n.definition,n.description))}BDe();const Sre="vscode://schemas/icons";let wre=ir.as(BD.JSONContribution);wre.registerSchema(Sre,Wg.getIconSchema());const D8=new vr(()=>wre.notifySchemaChanged(Sre),200);Wg.onDidChange(()=>{D8.isScheduled()||D8.schedule()});const FDe=Es("widget-close",sn.close,E("widgetClose","Icon for the close action in widgets."));var $De=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},JA;const L1=3;class u0{constructor(e,t,i,r){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=r}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class e2{constructor(e){this.entries=e}}const VDe=Es("diff-review-insert",sn.add,E("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),WDe=Es("diff-review-remove",sn.remove,E("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),zDe=Es("diff-review-close",sn.close,E("diffReviewCloseIcon","Icon for 'Close' in diff review."));class ec extends Pe{constructor(e){super(),this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Ot(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Ot(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new Wv(this.actionBarContainer.domNode)),this._actionBar.push(new Ql("diffreview.close",E("label.close","Close"),"close-diff-review "+Pr.asClassName(zDe),!0,()=>$De(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=Ot(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Ot(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new cre(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(to(this.domNode.domNode,"click",t=>{t.preventDefault();let i=qte(t.target,"diff-review-row");i&&this._goToRow(i)})),this._register(to(this.domNode.domNode,"keydown",t=>{(t.equals(18)||t.equals(2066)||t.equals(530))&&(t.preventDefault(),this._goToRow(this._getNextRow())),(t.equals(16)||t.equals(2064)||t.equals(528))&&(t.preventDefault(),this._goToRow(this._getPrevRow())),(t.equals(9)||t.equals(2057)||t.equals(521)||t.equals(1033))&&(t.preventDefault(),this.hide()),(t.equals(10)||t.equals(3))&&(t.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let r=0,o=this._diffs.length;r<o;r++)if(this._diffs[r]===this._currentDiff){i=r;break}e=this._diffs.length+i-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new ve(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let i=-1;for(let r=0,o=this._diffs.length;r<o;r++)if(this._diffs[r]===this._currentDiff){i=r;break}e=i+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;e=e%this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new ve(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),e!==-1&&(this._diffEditor.setPosition(new ve(e,1)),this._diffEditor.revealPosition(new ve(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||e.length===0)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return!t||!i?[]:ec._mergeAdjacent(e,t.getLineCount(),i.getLineCount())}static _mergeAdjacent(e,t,i){if(!e||e.length===0)return[];let r=[],o=0;for(let u=0,c=e.length;u<c;u++){const d=e[u],h=d.originalStartLineNumber,f=d.originalEndLineNumber,g=d.modifiedStartLineNumber,p=d.modifiedEndLineNumber;let m=[],v=0;{const y=f===0?h:h-1,_=p===0?g:g-1;let b=1,S=1;if(u>0){const x=e[u-1];x.originalEndLineNumber===0?b=x.originalStartLineNumber+1:b=x.originalEndLineNumber+1,x.modifiedEndLineNumber===0?S=x.modifiedStartLineNumber+1:S=x.modifiedEndLineNumber+1}let w=y-L1+1,C=_-L1+1;if(w<b){const x=b-w;w=w+x,C=C+x}if(C<S){const x=S-C;w=w+x,C=C+x}m[v++]=new u0(w,y,C,_)}f!==0&&(m[v++]=new u0(h,f,0,0)),p!==0&&(m[v++]=new u0(0,0,g,p));{const y=f===0?h+1:f+1,_=p===0?g+1:p+1;let b=t,S=i;if(u+1<c){const x=e[u+1];x.originalEndLineNumber===0?b=x.originalStartLineNumber:b=x.originalStartLineNumber-1,x.modifiedEndLineNumber===0?S=x.modifiedStartLineNumber:S=x.modifiedStartLineNumber-1}let w=y+L1-1,C=_+L1-1;if(w>b){const x=b-w;w=w+x,C=C+x}if(C>S){const x=S-C;w=w+x,C=C+x}m[v++]=new u0(y,w,_,C)}r[o++]=new e2(m)}let s=r[0].entries,a=[],l=0;for(let u=1,c=r.length;u<c;u++){const d=r[u].entries,h=s[s.length-1],f=d[0];if(h.getType()===0&&f.getType()===0&&f.originalLineStart<=h.originalLineEnd){s[s.length-1]=new u0(h.originalLineStart,f.originalLineEnd,h.modifiedLineStart,f.modifiedLineEnd),s=s.concat(d.slice(1));continue}a[l++]=new e2(s),s=d}return a[l++]=new e2(s),a}_findDiffIndex(e){const t=e.lineNumber;for(let i=0,r=this._diffs.length;i<r;i++){const o=this._diffs[i].entries,s=o[o.length-1].modifiedLineEnd;if(t<=s)return i}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=r.getOptions();if(!this._isVisible||!i||!r){Ss(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries;let u=document.createElement("div");u.className="diff-review-table",u.setAttribute("role","list"),u.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),no.applyFontInfoSlow(u,t.get(41));let c=0,d=0,h=0,f=0;for(let C=0,x=l.length;C<x;C++){const L=l[C],T=L.originalLineStart,I=L.originalLineEnd,D=L.modifiedLineStart,M=L.modifiedLineEnd;T!==0&&(c===0||T<c)&&(c=T),I!==0&&(d===0||I>d)&&(d=I),D!==0&&(h===0||D<h)&&(h=D),M!==0&&(f===0||M>f)&&(f=M)}let g=document.createElement("div");g.className="diff-review-row";let p=document.createElement("div");p.className="diff-review-cell diff-review-summary";const m=d-c+1,v=f-h+1;p.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${c},${m} +${h},${v} @@`)),g.setAttribute("data-line",String(h));const y=C=>C===0?E("no_lines_changed","no lines changed"):C===1?E("one_line_changed","1 line changed"):E("more_lines_changed","{0} lines changed",C),_=y(m),b=y(v);g.setAttribute("aria-label",E({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,c,_,h,b)),g.appendChild(p),g.setAttribute("role","listitem"),u.appendChild(g);const S=t.get(57);let w=h;for(let C=0,x=l.length;C<x;C++){const L=l[C];ec._renderSection(u,L,w,S,this._width,e,i,o,t,r,s),L.modifiedLineStart!==0&&(w=L.modifiedLineEnd)}Ss(this._content.domNode),this._content.domNode.appendChild(u),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,r,o,s,a,l,u,c,d){const h=t.getType();let f="diff-review-row",g="";const p="diff-review-spacer";let m=null;switch(h){case 1:f="diff-review-row line-insert",g=" char-insert",m=VDe;break;case 2:f="diff-review-row line-delete",g=" char-delete",m=WDe;break}const v=t.originalLineStart,y=t.originalLineEnd,_=t.modifiedLineStart,b=t.modifiedLineEnd,S=Math.max(b-_,y-v),w=s.get(129),C=w.glyphMarginWidth+w.lineNumbersWidth,x=u.get(129),L=10+x.glyphMarginWidth+x.lineNumbersWidth;for(let T=0;T<=S;T++){const I=v===0?0:v+T,D=_===0?0:_+T,M=document.createElement("div");M.style.minWidth=o+"px",M.className=f,M.setAttribute("role","listitem"),D!==0&&(i=D),M.setAttribute("data-line",String(i));let P=document.createElement("div");P.className="diff-review-cell",P.style.height=`${r}px`,M.appendChild(P);const k=document.createElement("span");k.style.width=C+"px",k.style.minWidth=C+"px",k.className="diff-review-line-number"+g,I!==0?k.appendChild(document.createTextNode(String(I))):k.innerText="",P.appendChild(k);const O=document.createElement("span");O.style.width=L+"px",O.style.minWidth=L+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+g,D!==0?O.appendChild(document.createTextNode(String(D))):O.innerText="",P.appendChild(O);const F=document.createElement("span");if(F.className=p,m){const H=document.createElement("span");H.className=Pr.asClassName(m),H.innerText="",F.appendChild(H)}else F.innerText="";P.appendChild(F);let R;if(D!==0){let H=this._renderLine(c,u,d.tabSize,D);ec._ttPolicy&&(H=ec._ttPolicy.createHTML(H)),P.insertAdjacentHTML("beforeend",H),R=c.getLineContent(D)}else{let H=this._renderLine(a,s,l.tabSize,I);ec._ttPolicy&&(H=ec._ttPolicy.createHTML(H)),P.insertAdjacentHTML("beforeend",H),R=a.getLineContent(I)}R.length===0&&(R=E("blankLine","blank"));let $="";switch(h){case 0:I===D?$=E({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",R,I):$=E("equalLine","{0} original line {1} modified line {2}",R,I,D);break;case 1:$=E("insertLine","+ {0} modified line {1}",R,D);break;case 2:$=E("deleteLine","- {0} original line {1}",R,I);break}M.setAttribute("aria-label",$),e.appendChild(M)}}static _renderLine(e,t,i,r){const o=e.getLineContent(r),s=t.get(41),a=Ir.createEmpty(o),l=jo.isBasicASCII(o,e.mightContainNonBasicASCII()),u=jo.containsRTL(o,l,e.mightContainRTL());return OD(new Sy(s.isMonospace&&!t.get(27),s.canUseHalfwidthRightwardsArrow,o,!1,l,u,0,a,[],i,0,s.spaceWidth,s.middotWidth,s.wsmiddotWidth,t.get(104),t.get(87),t.get(81),t.get(42)!==us.OFF,null)).html}}ec._ttPolicy=(JA=window.trustedTypes)===null||JA===void 0?void 0:JA.createPolicy("diffReview",{createHTML:n=>n});es((n,e)=>{const t=n.getColor(ere);t&&e.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${t}; }`);const i=n.getColor(eE);i&&e.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${i} 0 -6px 6px -6px inset; }`)});class HDe extends Th{constructor(){super({id:"editor.action.diffReview.next",label:E("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:dn.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=Cre(e);i&&i.diffReviewNext()}}class UDe extends Th{constructor(){super({id:"editor.action.diffReview.prev",label:E("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:dn.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=Cre(e);i&&i.diffReviewPrev()}}function Cre(n){const e=n.get(mr),t=e.listDiffEditors(),i=e.getActiveCodeEditor();if(!i)return null;for(let r=0,o=t.length;r<o;r++){const s=t[r];if(s.getModifiedEditor().getId()===i.getId()||s.getOriginalEditor().getId()===i.getId())return s}return null}hp(HDe);hp(UDe);const gp=an("contextViewService"),sE=an("contextMenuService");var t2=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class GDe extends Pe{constructor(e,t,i,r,o,s){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=r,this._contextMenuService=o,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=sn.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=i.getOption(57),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const u=[];u.push(new Ql("diff.clipboard.copyDeletedContent",r.originalEndLineNumber>r.modifiedStartLineNumber?E("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):E("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,()=>t2(this,void 0,void 0,function*(){const g=new ee(r.originalStartLineNumber,1,r.originalEndLineNumber+1,1),p=r.originalModel.getValueInRange(g);yield this._clipboardService.writeText(p)})));let c=0,d;r.originalEndLineNumber>r.modifiedStartLineNumber&&(d=new Ql("diff.clipboard.copyDeletedLineContent",E("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber),void 0,!0,()=>t2(this,void 0,void 0,function*(){const g=r.originalModel.getLineContent(r.originalStartLineNumber+c);yield this._clipboardService.writeText(g)})),u.push(d)),i.getOption(79)||u.push(new Ql("diff.inline.revertChange",E("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>t2(this,void 0,void 0,function*(){const g=new ee(r.originalStartLineNumber,1,r.originalEndLineNumber,r.originalModel.getLineMaxColumn(r.originalEndLineNumber)),p=r.originalModel.getValueInRange(g);if(r.modifiedEndLineNumber===0){const m=i.getModel().getLineMaxColumn(r.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new ee(r.modifiedStartLineNumber,m,r.modifiedStartLineNumber,m),text:l+p}])}else{const m=i.getModel().getLineMaxColumn(r.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new ee(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,m),text:p}])}})));const f=(g,p)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:g,y:p}),getActions:()=>(d&&(d.label=E("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",r.originalStartLineNumber+c)),u),autoSelectFirstItem:!0})};this._register(to(this._diffActions,"mousedown",g=>{const{top:p,height:m}=ia(this._diffActions);let v=Math.floor(a/3);g.preventDefault(),f(g.posx,p+m+v)})),this._register(i.onMouseMove(g=>{g.target.type===8||g.target.type===5?g.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,c=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a)):this.visibility=!1:this.visibility=!1})),this._register(i.onMouseDown(g=>{g.event.rightButton&&(g.target.type===8||g.target.type===5)&&g.target.detail.viewZoneId===this._viewZoneId&&(g.event.preventDefault(),c=this._updateLightBulbPosition(this._marginDomNode,g.event.browserEvent.y,a),f(g.event.posx,g.event.posy+a))}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,e?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(e,t,i){const{top:r}=ia(e),o=t-r,s=Math.floor(o/i),a=s*i;if(this._diffActions.style.top=`${a}px`,this.diff.viewLineCounts){let l=0;for(let u=0;u<this.diff.viewLineCounts.length;u++)if(l+=this.diff.viewLineCounts[u],s<l)return u}return s}}const Iy=an("clipboardService"),aE=an("editorProgressService");var KDe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Mu=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},n2;class E8{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(t=>!this._zonesMap[String(t.id)])}clean(e){this._zones.length>0&&e.changeViewZones(t=>{for(const i of this._zones)t.removeZone(i)}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,r){const o=r?J$.capture(e):null;e.changeViewZones(s=>{for(const a of this._zones)s.removeZone(a);for(const a of this._inlineDiffMargins)a.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let a=0,l=i.zones.length;a<l;a++){const u=i.zones[a];u.suppressMouseDown=!0;const c=s.addZone(u);this._zones.push(c),this._zonesMap[String(c)]=!0,i.zones[a].diff&&u.marginDomNode&&(u.suppressMouseDown=!1,this._inlineDiffMargins.push(new GDe(c,u.marginDomNode,e,i.zones[a].diff,this._contextMenuService,this._clipboardService)))}}),o&&o.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let jDe=0;const qDe=Es("diff-insert",sn.add,E("diffInsertIcon","Line decoration for inserts in the diff editor.")),xre=Es("diff-remove",sn.remove,E("diffRemoveIcon","Line decoration for removals in the diff editor.")),M8=(n2=window.trustedTypes)===null||n2===void 0?void 0:n2.createPolicy("diffEditorWidget",{createHTML:n=>n});let ch=class lr extends Pe{constructor(e,t,i,r,o,s,a,l,u,c,d,h){super(),this._editorProgressService=h,this._onDidDispose=this._register(new ae),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new ae),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new ae),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=o,this._codeEditorService=l,this._contextKeyService=this._register(s.createScoped(e)),this._instantiationService=a.createChild(new Yb([pn,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=u,this._notificationService=c,this._id=++jDe,this._state=0,this._updatingDiffProgress=null,this._domElement=e,t=t||{},this._renderSideBySide=!0,typeof t.renderSideBySide<"u"&&(this._renderSideBySide=t.renderSideBySide),this._maxComputationTime=5e3,typeof t.maxComputationTime<"u"&&(this._maxComputationTime=t.maxComputationTime),this._ignoreTrimWhitespace=!0,typeof t.ignoreTrimWhitespace<"u"&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace),this._renderIndicators=!0,typeof t.renderIndicators<"u"&&(this._renderIndicators=t.renderIndicators),this._originalIsEditable=tt(t.originalEditable,!1),this._diffCodeLens=tt(t.diffCodeLens,!1),this._diffWordWrap=k8(t.diffWordWrap,"inherit"),typeof t.isInEmbeddedEditor<"u"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",t.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._renderOverviewRuler=!0,typeof t.renderOverviewRuler<"u"&&(this._renderOverviewRuler=!!t.renderOverviewRuler),this._updateDecorationsRunner=this._register(new vr(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=lr._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Ot(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(to(this._overviewDomElement,"mousedown",g=>{this._modifiedEditor.delegateVerticalScrollbarMouseDown(g)})),this._renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new E8(d,r),this._modifiedEditorState=new E8(d,r),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new gie(this._containerDomElement,t.dimension,()=>this._onDidContainerSizeChanged())),t.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(t,i.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(t,i.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new ec(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,typeof t.enableSplitViewResizing<"u"&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new ac(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new N8(this._createDataSource(),this._enableSplitViewResizing)),this._register(u.onDidColorThemeChange(g=>{this._strategy&&this._strategy.applyColors(g)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=lr._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const f=iv.getDiffEditorContributions();for(const g of f)try{this._register(a.createInstance(g.ctor,this))}catch(p){Rn(p)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=cT(e.type),i}_recreateOverviewRulers(){this._renderOverviewRuler&&(this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{i.getModel()&&(o.hasChanged(41)&&this._updateDecorationsRunner.schedule(),o.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const r=this._contextKeyService.createKey("isInDiffLeftEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>r.set(!0))),this._register(i.onDidBlurEditorWidget(()=>r.set(!1))),this._register(i.onDidContentSizeChange(o=>{const s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+lr.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createRightHandSideEditor(e,t){const i=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e),t);this._register(i.onDidScrollChange(o=>{this._isHandlingScrollEvent||!o.scrollTopChanged&&!o.scrollLeftChanged&&!o.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(i.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(i.onDidChangeConfiguration(o=>{i.getModel()&&(o.hasChanged(41)&&this._updateDecorationsRunner.schedule(),o.hasChanged(130)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(i.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(i.onDidChangeModelOptions(o=>{o.tabSize&&this._updateDecorationsRunner.schedule()}));const r=this._contextKeyService.createKey("isInDiffRightEditor",i.hasWidgetFocus());return this._register(i.onDidFocusEditorWidget(()=>r.set(!0))),this._register(i.onDidBlurEditorWidget(()=>r.set(!1))),this._register(i.onDidContentSizeChange(o=>{const s=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+lr.ONE_OVERVIEW_WIDTH,a=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:a,contentWidth:s,contentHeightChanged:o.contentHeightChanged,contentWidthChanged:o.contentWidthChanged})})),i}_createInnerEditor(e,t,i,r){return e.createInstance(ET,t,i,r)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return MD.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(e){let t=!1;typeof e.renderSideBySide<"u"&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,t=!0),typeof e.maxComputationTime<"u"&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let i=!1;typeof e.ignoreTrimWhitespace<"u"&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),typeof e.renderIndicators<"u"&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),this._originalIsEditable=tt(e.originalEditable,this._originalIsEditable),this._diffCodeLens=tt(e.diffCodeLens,this._diffCodeLens),this._diffWordWrap=k8(e.diffWordWrap,this._diffWordWrap),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e)),typeof e.enableSplitViewResizing<"u"&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),t&&(this._renderSideBySide?this._setStrategy(new ac(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new N8(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=lr._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)),typeof e.renderOverviewRuler<"u"&&this._renderOverviewRuler!==e.renderOverviewRuler&&(this._renderOverviewRuler=e.renderOverviewRuler,this._renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._originalEditor.setModel(e?e.original:null),this._modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this._modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(e){this._modifiedEditor.setPosition(e)}revealLine(e,t=0){this._modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this._modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this._modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this._modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this._modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this._modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(e){this._modifiedEditor.setSelection(e)}setSelections(e){this._modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this._modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this._modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this._modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,r=!0){this._modifiedEditor.revealRange(e,t,i,r)}revealRangeInCenter(e,t=0){this._modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this._modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this._modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const e=this._originalEditor.saveViewState(),t=this._modifiedEditor.saveViewState();return{original:e,modified:t}}restoreViewState(e){if(e&&e.original&&e.modified){const t=e;this._originalEditor.restoreViewState(t.original),this._modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(e,t,i){this._modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this._modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const e=this._elementSizeObserver.getHeight(),t=this._getReviewHeight(),i=lr.ENTIRE_DIFF_OVERVIEW_WIDTH-2*lr.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:lr.ONE_OVERVIEW_WIDTH,right:i+lr.ONE_OVERVIEW_WIDTH,height:e-t}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:lr.ONE_OVERVIEW_WIDTH,height:e-t}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),lr.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t?!0:!e||!t?!1:e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const e=this._originalEditor.getModel(),t=this._modifiedEditor.getModel();if(!e||!t)return;this._diffComputationToken++;const i=this._diffComputationToken;if(this._setState(1),!this._editorWorkerService.canComputeDiff(e.uri,t.uri)){(!lr._equals(e.uri,this._lastOriginalWarning)||!lr._equals(t.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=e.uri,this._lastModifiedWarning=t.uri,this._notificationService.warn(E("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._editorWorkerService.computeDiff(e.uri,t.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=r,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},r=>{i===this._diffComputationToken&&e===this._originalEditor.getModel()&&t===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),r=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,r.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,r.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){const t=Object.assign({},e);return t.inDiffEditor=!0,t.automaticLayout=!1,t.scrollbar=Object.assign({},t.scrollbar||{}),t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=this._diffCodeLens,t.fixedOverflowWidgets=!0,t.minimap=Object.assign({},t.minimap||{}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e){const t=this._adjustOptionsForSubEditor(e);return this._renderSideBySide?t.wordWrapOverride1=this._diffWordWrap:t.wordWrapOverride1="off",e.originalAriaLabel&&(t.ariaLabel=e.originalAriaLabel),t.readOnly=!this._originalIsEditable,t.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(e){const t=this._adjustOptionsForSubEditor(e);return e.modifiedAriaLabel&&(t.ariaLabel=e.modifiedAriaLabel),t.wordWrapOverride1=this._diffWordWrap,t.revealHorizontalRightPadding=sp.revealHorizontalRightPadding.defaultValue+lr.ENTIRE_DIFF_OVERVIEW_WIDTH,t.scrollbar.verticalHasArrows=!1,t.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},t),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const e=this._elementSizeObserver.getWidth(),t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),r=this._strategy.layout();this._originalDomNode.style.width=r+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-r+"px",this._modifiedDomNode.style.left=r+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=t-i+"px",this._overviewDomElement.style.width=lr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-lr.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(lr.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:r,height:t-i}),this._modifiedEditor.layout({width:e-r-(this._renderOverviewRuler?lr.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:t-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(t-i,e,i),this._layoutOverviewViewport()}_layoutOverviewViewport(){const e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const e=this._modifiedEditor.getLayoutInfo();if(!e)return null;const t=this._modifiedEditor.getScrollTop(),i=this._modifiedEditor.getScrollHeight(),r=Math.max(0,e.height),o=Math.max(0,r-2*0),s=i>0?o/i:0,a=Math.max(0,Math.floor(e.height*s)),l=Math.floor(t*s);return{height:a,top:l}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(i.length===0||e<t(i[0]))return null;let r=0,o=i.length-1;for(;r<o;){const s=Math.floor((r+o)/2),a=t(i[s]),l=s+1<=o?t(i[s+1]):1073741824;e<a?o=s-1:e>=l?r=s+1:(r=s,o=s)}return i[r]}_getEquivalentLineForOriginalLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.originalStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-i;return a<=o?r+Math.min(a,s):r+s-o+a}_getEquivalentLineForModifiedLineNumber(e){const t=this._getLineChangeAtOrBeforeLineNumber(e,l=>l.modifiedStartLineNumber);if(!t)return e;const i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),r=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,s=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,a=e-r;return a<=s?i+Math.min(a,o):i+o-s+a}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};ch.ONE_OVERVIEW_WIDTH=15;ch.ENTIRE_DIFF_OVERVIEW_WIDTH=30;ch.UPDATE_DIFF_DECORATIONS_DELAY=200;ch=KDe([Mu(3,Iy),Mu(4,lp),Mu(5,pn),Mu(6,Go),Mu(7,mr),Mu(8,zi),Mu(9,pa),Mu(10,sE),Mu(11,aE)],ch);class Lre extends Pe{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){const t=(e.getColor(Gie)||BR).transparent(2),i=(e.getColor(Kie)||FR).transparent(2),r=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,r}getEditorsDiffDecorations(e,t,i,r,o){o=o.sort((u,c)=>u.afterLineNumber-c.afterLineNumber),r=r.sort((u,c)=>u.afterLineNumber-c.afterLineNumber);const s=this._getViewZones(e,r,o,i),a=this._getOriginalEditorDecorations(e,t,i),l=this._getModifiedEditorDecorations(e,t,i);return{original:{decorations:a.decorations,overviewZones:a.overviewZones,zones:s.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:s.modified}}}}class A8{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class jf{constructor(e,t,i,r,o){this._lineChanges=e,this._originalForeignVZ=t,this._modifiedForeignVZ=i,this._originalEditor=r,this._modifiedEditor=o}static _getViewLineCount(e,t,i){const r=e.getModel(),o=e._getViewModel();if(r&&o){const s=Xb(r,o,t,i);return s.endLineNumber-s.startLineNumber+1}return i-t+1}getViewZones(){const e=this._originalEditor.getOption(57),t=this._modifiedEditor.getOption(57),i=this._originalEditor.getOption(130).wrappingColumn!==-1,r=this._modifiedEditor.getOption(130).wrappingColumn!==-1,o=i||r,s=this._originalEditor.getModel(),a=this._originalEditor._getViewModel().coordinatesConverter,l=this._modifiedEditor._getViewModel().coordinatesConverter,u={original:[],modified:[]};let c=0,d=0,h=0,f=0,g=0,p=0;const m=(w,C)=>w.afterLineNumber-C.afterLineNumber,v=(w,C)=>{if(C.domNode===null&&w.length>0){const x=w[w.length-1];if(x.afterLineNumber===C.afterLineNumber&&x.domNode===null){x.heightInLines+=C.heightInLines;return}}w.push(C)},y=new A8(this._modifiedForeignVZ),_=new A8(this._originalForeignVZ);let b=1,S=1;for(let w=0,C=this._lineChanges.length;w<=C;w++){const x=w<C?this._lineChanges[w]:null;x!==null?(h=x.originalStartLineNumber+(x.originalEndLineNumber>0?-1:0),f=x.modifiedStartLineNumber+(x.modifiedEndLineNumber>0?-1:0),d=x.originalEndLineNumber>0?jf._getViewLineCount(this._originalEditor,x.originalStartLineNumber,x.originalEndLineNumber):0,c=x.modifiedEndLineNumber>0?jf._getViewLineCount(this._modifiedEditor,x.modifiedStartLineNumber,x.modifiedEndLineNumber):0,g=Math.max(x.originalStartLineNumber,x.originalEndLineNumber),p=Math.max(x.modifiedStartLineNumber,x.modifiedEndLineNumber)):(h+=1e7+d,f+=1e7+c,g=h,p=f);let L=[],T=[];if(o){let M;x?x.originalEndLineNumber>0?M=x.originalStartLineNumber-b:M=x.modifiedStartLineNumber-S:M=s.getLineCount()-b;for(let P=0;P<M;P++){const k=b+P,O=S+P,F=a.getModelLineViewLineCount(k),R=l.getModelLineViewLineCount(O);F<R?L.push({afterLineNumber:k,heightInLines:R-F,domNode:null,marginDomNode:null}):F>R&&T.push({afterLineNumber:O,heightInLines:F-R,domNode:null,marginDomNode:null})}x&&(b=(x.originalEndLineNumber>0?x.originalEndLineNumber:x.originalStartLineNumber)+1,S=(x.modifiedEndLineNumber>0?x.modifiedEndLineNumber:x.modifiedStartLineNumber)+1)}for(;y.current&&y.current.afterLineNumber<=p;){let M;y.current.afterLineNumber<=f?M=h-f+y.current.afterLineNumber:M=g;let P=null;x&&x.modifiedStartLineNumber<=y.current.afterLineNumber&&y.current.afterLineNumber<=x.modifiedEndLineNumber&&(P=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),L.push({afterLineNumber:M,heightInLines:y.current.height/t,domNode:null,marginDomNode:P}),y.advance()}for(;_.current&&_.current.afterLineNumber<=g;){let M;_.current.afterLineNumber<=h?M=f-h+_.current.afterLineNumber:M=p,T.push({afterLineNumber:M,heightInLines:_.current.height/e,domNode:null}),_.advance()}if(x!==null&&lv(x)){const M=this._produceOriginalFromDiff(x,d,c);M&&L.push(M)}if(x!==null&&uv(x)){const M=this._produceModifiedFromDiff(x,d,c);M&&T.push(M)}let I=0,D=0;for(L=L.sort(m),T=T.sort(m);I<L.length&&D<T.length;){const M=L[I],P=T[D],k=M.afterLineNumber-h,O=P.afterLineNumber-f;k<O?(v(u.original,M),I++):O<k?(v(u.modified,P),D++):M.shouldNotShrink?(v(u.original,M),I++):P.shouldNotShrink?(v(u.modified,P),D++):M.heightInLines>=P.heightInLines?(M.heightInLines-=P.heightInLines,D++):(P.heightInLines-=M.heightInLines,I++)}for(;I<L.length;)v(u.original,L[I]),I++;for(;D<T.length;)v(u.modified,T[D]),D++}return{original:jf._ensureDomNodes(u.original),modified:jf._ensureDomNodes(u.modified)}}static _ensureDomNodes(e){return e.map(t=>(t.domNode||(t.domNode=Tre()),t))}}function tc(n,e,t,i,r){return{range:new ee(n,e,t,i),options:r}}const qr={charDelete:Zn.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Zn.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Zn.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Zn.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Zn.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Zn.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+Pr.asClassName(qDe),marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Zn.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Zn.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+Pr.asClassName(xre),marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Zn.register({description:"diff-editor-line-delete-margin",marginClassName:"line-delete"})};class ac extends Lre{constructor(e,t){super(e),this._disableSash=t===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new ko(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(i=>this._onSashDrag(i)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(e){const t=e===!1;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ch.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let r=Math.floor((e||.5)*i);const o=Math.floor(.5*i);return r=this._disableSash?o:r||o,i>ac.MINIMUM_EDITOR_WIDTH*2?(r<ac.MINIMUM_EDITOR_WIDTH&&(r=ac.MINIMUM_EDITOR_WIDTH),r>i-ac.MINIMUM_EDITOR_WIDTH&&(r=i-ac.MINIMUM_EDITOR_WIDTH)):r=o,this._sashPosition!==r&&(this._sashPosition=r,this._sash.layout()),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(e){const i=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?ch.ENTIRE_DIFF_OVERVIEW_WIDTH:0),r=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=r/i,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i){const r=this._dataSource.getOriginalEditor(),o=this._dataSource.getModifiedEditor();return new YDe(e,t,i,r,o).getViewZones()}_getOriginalEditorDecorations(e,t,i){const r=this._dataSource.getOriginalEditor(),o=String(this._removeColor),s={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(uv(u)){s.decorations.push({range:new ee(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:i?qr.lineDeleteWithSign:qr.lineDelete}),(!lv(u)||!u.charChanges)&&s.decorations.push(tc(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824,qr.charDeleteWholeLine));const c=Xb(a,l,u.originalStartLineNumber,u.originalEndLineNumber);if(s.overviewZones.push(new Kb(c.startLineNumber,c.endLineNumber,o)),u.charChanges){for(const d of u.charChanges)if(uv(d))if(t)for(let h=d.originalStartLineNumber;h<=d.originalEndLineNumber;h++){let f,g;h===d.originalStartLineNumber?f=d.originalStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.originalEndLineNumber?g=d.originalEndColumn:g=a.getLineLastNonWhitespaceColumn(h),s.decorations.push(tc(h,f,h,g,qr.charDelete))}else s.decorations.push(tc(d.originalStartLineNumber,d.originalStartColumn,d.originalEndLineNumber,d.originalEndColumn,qr.charDelete))}}return s}_getModifiedEditorDecorations(e,t,i){const r=this._dataSource.getModifiedEditor(),o=String(this._insertColor),s={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(lv(u)){s.decorations.push({range:new ee(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?qr.lineInsertWithSign:qr.lineInsert}),(!uv(u)||!u.charChanges)&&s.decorations.push(tc(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,qr.charInsertWholeLine));const c=Xb(a,l,u.modifiedStartLineNumber,u.modifiedEndLineNumber);if(s.overviewZones.push(new Kb(c.startLineNumber,c.endLineNumber,o)),u.charChanges){for(const d of u.charChanges)if(lv(d))if(t)for(let h=d.modifiedStartLineNumber;h<=d.modifiedEndLineNumber;h++){let f,g;h===d.modifiedStartLineNumber?f=d.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.modifiedEndLineNumber?g=d.modifiedEndColumn:g=a.getLineLastNonWhitespaceColumn(h),s.decorations.push(tc(h,f,h,g,qr.charInsert))}else s.decorations.push(tc(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,qr.charInsert))}}return s}}ac.MINIMUM_EDITOR_WIDTH=100;class YDe extends jf{constructor(e,t,i,r,o){super(e,t,i,r,o)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class N8 extends Lre{constructor(e,t){super(e),this._decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(i=>{this._decorationsLeft!==i.decorationsLeft&&(this._decorationsLeft=i.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,r){const o=this._dataSource.getOriginalEditor(),s=this._dataSource.getModifiedEditor();return new XDe(e,t,i,o,s,r).getViewZones()}_getOriginalEditorDecorations(e,t,i){const r=String(this._removeColor),o={decorations:[],overviewZones:[]},s=this._dataSource.getOriginalEditor(),a=s.getModel(),l=s._getViewModel();for(const u of e)if(uv(u)){o.decorations.push({range:new ee(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:qr.lineDeleteMargin});const c=Xb(a,l,u.originalStartLineNumber,u.originalEndLineNumber);o.overviewZones.push(new Kb(c.startLineNumber,c.endLineNumber,r))}return o}_getModifiedEditorDecorations(e,t,i){const r=this._dataSource.getModifiedEditor(),o=String(this._insertColor),s={decorations:[],overviewZones:[]},a=r.getModel(),l=r._getViewModel();for(const u of e)if(lv(u)){s.decorations.push({range:new ee(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824),options:i?qr.lineInsertWithSign:qr.lineInsert});const c=Xb(a,l,u.modifiedStartLineNumber,u.modifiedEndLineNumber);if(s.overviewZones.push(new Kb(c.startLineNumber,c.endLineNumber,o)),u.charChanges){for(const d of u.charChanges)if(lv(d))if(t)for(let h=d.modifiedStartLineNumber;h<=d.modifiedEndLineNumber;h++){let f,g;h===d.modifiedStartLineNumber?f=d.modifiedStartColumn:f=a.getLineFirstNonWhitespaceColumn(h),h===d.modifiedEndLineNumber?g=d.modifiedEndColumn:g=a.getLineLastNonWhitespaceColumn(h),s.decorations.push(tc(h,f,h,g,qr.charInsert))}else s.decorations.push(tc(d.modifiedStartLineNumber,d.modifiedStartColumn,d.modifiedEndLineNumber,d.modifiedEndColumn,qr.charInsert))}else s.decorations.push(tc(u.modifiedStartLineNumber,1,u.modifiedEndLineNumber,1073741824,qr.charInsertWholeLine))}return s}layout(){return Math.max(5,this._decorationsLeft)}}class XDe extends jf{constructor(e,t,i,r,o,s){super(e,t,i,r,o),this._originalModel=r.getModel(),this._renderIndicators=s,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const e=super.getViewZones();return this._finalize(e),e}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){const r=document.createElement("div");return r.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:r}}_produceModifiedFromDiff(e,t,i){const r=document.createElement("div");r.className=`view-lines line-delete ${dg}`;const o=document.createElement("div");o.className="inline-deleted-margin-view-zone";const s={shouldNotShrink:!0,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:0,domNode:r,marginDomNode:o,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let a=e.originalStartLineNumber;a<=e.originalEndLineNumber;a++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(a),null,null);return this._pendingLineChange.push(e),this._pendingViewZones.push(s),s}_finalize(e){const t=this._modifiedEditor.getOptions(),i=this._modifiedEditor.getModel().getOptions().tabSize,r=t.get(41),o=t.get(27),s=r.typicalHalfwidthCharacterWidth,a=t.get(92),l=this._originalModel.mightContainNonBasicASCII(),u=this._originalModel.mightContainRTL(),c=t.get(57),h=t.get(129).decorationsWidth,f=t.get(104),g=t.get(87),p=t.get(81),m=t.get(42),v=this._lineBreaksComputer.finalize();let y=0;for(let _=0;_<this._pendingLineChange.length;_++){const b=this._pendingLineChange[_],S=this._pendingViewZones[_],w=S.domNode;no.applyFontInfoSlow(w,r);const C=S.marginDomNode;no.applyFontInfoSlow(C,r);const x=[];if(b.charChanges)for(const O of b.charChanges)uv(O)&&x.push(new P_(new ee(O.originalStartLineNumber,O.originalStartColumn,O.originalEndLineNumber,O.originalEndColumn),"char-delete",0));const L=x.length>0,T=kv(1e4);let I=0,D=0,M=null;for(let O=b.originalStartLineNumber;O<=b.originalEndLineNumber;O++){const F=O-b.originalStartLineNumber,R=this._originalModel.getLineTokens(O),$=R.getLineContent(),H=v[y++],U=ra.filter(x,O,1,$.length+1);if(H){let z=0;for(const X of H.breakOffsets){const ce=R.sliceAndInflate(z,X,0),q=$.substring(z,X);I=Math.max(I,this._renderOriginalLine(D++,q,ce,ra.extractWrapped(U,z,X),L,l,u,r,o,c,h,f,g,p,m,i,T,C)),z=X}for(M||(M=[]);M.length<F;)M[M.length]=1;M[F]=H.breakOffsets.length,S.heightInLines+=H.breakOffsets.length-1;const Z=document.createElement("div");Z.className="line-delete",e.original.push({afterLineNumber:O,afterColumn:0,heightInLines:H.breakOffsets.length-1,domNode:Tre(),marginDomNode:Z})}else I=Math.max(I,this._renderOriginalLine(D++,$,R,U,L,l,u,r,o,c,h,f,g,p,m,i,T,C))}I+=a;const P=T.build(),k=M8?M8.createHTML(P):P;if(w.innerHTML=k,S.minWidthInPx=I*s,M){const O=b.originalEndLineNumber-b.originalStartLineNumber;for(;M.length<=O;)M[M.length]=1}S.diff.viewLineCounts=M}e.original.sort((_,b)=>_.afterLineNumber-b.afterLineNumber)}_renderOriginalLine(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p,m,v,y){v.appendASCIIString('<div class="view-line'),o||v.appendASCIIString(" char-delete"),v.appendASCIIString('" style="top:'),v.appendASCIIString(String(e*c)),v.appendASCIIString('px;width:1000000px;">');const _=jo.isBasicASCII(t,s),b=jo.containsRTL(t,_,a),S=y$(new Sy(l.isMonospace&&!u,l.canUseHalfwidthRightwardsArrow,t,!1,_,b,0,i,r,m,0,l.spaceWidth,l.middotWidth,l.wsmiddotWidth,h,f,g,p!==us.OFF,null),v);if(v.appendASCIIString("</div>"),this._renderIndicators){const w=document.createElement("div");w.className=`delete-sign ${Pr.asClassName(xre)}`,w.setAttribute("style",`position:absolute;top:${e*c}px;width:${d}px;height:${c}px;right:0;`),y.appendChild(w)}return S.characterMapping.getAbsoluteOffset(S.characterMapping.length)}}function k8(n,e){return Zr(n,e,["off","on","inherit"])}function lv(n){return n.modifiedEndLineNumber>0}function uv(n){return n.originalEndLineNumber>0}function Tre(){const n=document.createElement("div");return n.className="diagonal-fill",n}function Xb(n,e,t,i){const r=n.getLineCount();return t=Math.min(r,Math.max(1,t)),i=Math.min(r,Math.max(1,i)),e.coordinatesConverter.convertModelRangeToViewRange(new ee(t,n.getLineMinColumn(t),i,n.getLineMaxColumn(i)))}es((n,e)=>{const t=n.getColor(Gie);t&&(e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${t}; }`),e.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${t}; }`));const i=n.getColor(Kie);i&&(e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${i}; }`),e.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${i}; }`));const r=n.getColor(CLe);r&&e.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${n.type==="hc"?"dashed":"solid"} ${r}; }`);const o=n.getColor(xLe);o&&e.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${n.type==="hc"?"dashed":"solid"} ${o}; }`);const s=n.getColor(eE);s&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);const a=n.getColor(LLe);a&&e.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=n.getColor(Ix);l&&e.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${l};
			}
		`);const u=n.getColor(Dx);u&&e.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${u};
			}
		`);const c=n.getColor(Ex);c&&e.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${c};
			}
		`);const d=n.getColor(TLe);e.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${d} 12.5%,
			#0000 12.5%, #0000 50%,
			${d} 50%, ${d} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)});const hw=an("themeService"),oo=an("keybindingService");class ZDe extends Pe{constructor(){super(),this._onCodeEditorAdd=this._register(new ae),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ae),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new ae),this._onDiffEditorRemove=this._register(new ae),this._onDecorationTypeRegistered=this._register(new ae),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const r=e.toString();let o;this._modelProperties.has(r)?o=this._modelProperties.get(r):(o=new Map,this._modelProperties.set(r,o)),o.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}}var QDe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},JDe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class eEe{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,this._refCount===0&&((e=this._styleSheet.parentNode)===null||e===void 0||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Zte(e,this._styleSheet)}}class tEe{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){Zte(e,this._styleSheet)}}let qR=class extends ZDe{constructor(e,t){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=e||null,this._themeService=t}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new tEe(ws())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!JF(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const r=new eEe(this,i,ws(t));this._editorStyleSheets.set(i,r)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,r,o){let s=this._decorationOptionProviders.get(t);if(!s){const a=this._getOrCreateStyleSheet(o),l={styleSheet:a,key:t,parentTypeKey:r,options:i||Object.create(null)};r?s=new nEe(this._themeService,a,l):s=new iEe(e,this._themeService,a,l),this._decorationOptionProviders.set(t,s),this._onDecorationTypeRegistered.fire(t)}s.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(i=>i.removeDecorations(e))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};qR=QDe([JDe(1,zi)],qR);class nEe{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new AT(3,i,e),this._afterContentRules=new AT(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}class iEe{constructor(e,t,i,r){this._disposables=new St,this.description=e,this._styleSheet=i,this._styleSheet.ref(),this.refCount=0;const o=d=>{const h=new AT(d,r,t);if(this._disposables.add(h),h.hasContent)return h.className},s=d=>{const h=new AT(d,r,t);return this._disposables.add(h),h.hasContent?{className:h.className,hasLetterSpacing:h.hasLetterSpacing}:null};this.className=o(0);const a=s(1);if(a&&(this.inlineClassName=a.className,this.inlineClassNameAffectsLetterSpacing=a.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),r.options.beforeInjectedText&&r.options.beforeInjectedText.contentText){const d=s(5);this.beforeInjectedText={content:r.options.beforeInjectedText.contentText,inlineClassName:d==null?void 0:d.className,inlineClassNameAffectsLetterSpacing:(d==null?void 0:d.hasLetterSpacing)||r.options.beforeInjectedText.affectsLetterSpacing}}if(r.options.afterInjectedText&&r.options.afterInjectedText.contentText){const d=s(6);this.afterInjectedText={content:r.options.afterInjectedText.contentText,inlineClassName:d==null?void 0:d.className,inlineClassNameAffectsLetterSpacing:(d==null?void 0:d.hasLetterSpacing)||r.options.afterInjectedText.affectsLetterSpacing}}this.glyphMarginClassName=o(2);const l=r.options;this.isWholeLine=!!l.isWholeLine,this.stickiness=l.rangeBehavior;const u=l.light&&l.light.overviewRulerColor||l.overviewRulerColor,c=l.dark&&l.dark.overviewRulerColor||l.overviewRulerColor;(typeof u<"u"||typeof c<"u")&&(this.overviewRuler={color:u||c,darkColor:c||u,position:l.overviewRulerLane||sh.Center})}getOptions(e,t){return t?{description:this.description,inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness,before:this.beforeInjectedText}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}const c0={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",fontSize:"font-size:{0};",fontFamily:"font-family:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",padding:"padding:{0};",width:"width:{0};",height:"height:{0};"};class AT{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let r=i2.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(r=r+" "+i2.getClassName(this._providerArgs.parentTypeKey,e)),this._className=r,this._unThemedSelector=i2.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange(o=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,r;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),r=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),r=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),r=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),r=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),r=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;case 5:t=this.getCSSTextForModelDecorationContentClassName(e.beforeInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.beforeInjectedText),r=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.beforeInjectedText);break;case 6:t=this.getCSSTextForModelDecorationContentClassName(e.afterInjectedText),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.afterInjectedText),r=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.afterInjectedText);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const o=this._providerArgs.styleSheet;let s=!1;t.length>0&&(o.insertRule(`${this._unThemedSelector} {${t}}`,0),s=!0),i.length>0&&(o.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),s=!0),r.length>0&&(o.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${r}}`,0),s=!0),this._hasContent=s}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(typeof e<"u"){if(this.collectBorderSettingsCSSText(e,t),typeof e.contentIconPath<"u"&&t.push(Bl(c0.contentIconPath,Ab(Nt.revive(e.contentIconPath)))),typeof e.contentText=="string"){const r=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(Bl(c0.contentText,r))}this.collectCSSText(e,["fontStyle","fontWeight","fontSize","fontFamily","textDecoration","color","opacity","backgroundColor","margin","padding"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return typeof e.gutterIconPath<"u"&&(t.push(Bl(c0.gutterIconPath,Ab(Nt.revive(e.gutterIconPath)))),typeof e.gutterIconSize<"u"&&t.push(Bl(c0.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)?(t.push(Bl("box-sizing: border-box;")),!0):!1}collectCSSText(e,t,i){const r=i.length;for(let o of t){const s=this.resolveValue(e[o]);typeof s=="string"&&i.push(Bl(c0[o],s))}return i.length!==r}resolveValue(e){if(_Se(e)){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e}}class i2{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let r=".monaco-editor ."+this.getClassName(e,i);return t&&(r=r+"."+this.getClassName(t,i)),i===3?r+="::before":i===4&&(r+="::after"),r}}var rEe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},P8=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let NT=class extends qR{constructor(e,t,i){super(e,i),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=t.createKey("editorIsOpen",!1),this._activeCodeEditor=null}_checkContextKey(){let e=!1;for(const t of this.listCodeEditors())if(!t.isSimpleWidget){e=!0;break}this._editorIsOpen.set(e)}setActiveCodeEditor(e){this._activeCodeEditor=e}getActiveCodeEditor(){return this._activeCodeEditor}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const o=t.resource.scheme;if(o===Nn.http||o===Nn.https)return tne(t.resource.toString()),e}return null}const r=t.options?t.options.selection:null;if(r)if(typeof r.endLineNumber=="number"&&typeof r.endColumn=="number")e.setSelection(r),e.revealRangeInCenter(r,1);else{const o={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(o),e.revealPositionInCenter(o,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}};NT=rEe([P8(1,pn),P8(2,zi)],NT);var e3=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},En=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let oEe=0,O8=!1;function sEe(){O8||(O8=!0,hCe(document.body))}let kT=class extends ET{constructor(e,t,i,r,o,s,a,l,u,c){const d=Object.assign({},t);d.ariaLabel=d.ariaLabel||oT.editorViewAccessibleLabel,d.ariaLabel=d.ariaLabel+";"+oT.accessibilityHelpMessage,super(e,d,{},i,r,o,s,l,u,c),a instanceof eie?this._standaloneKeybindingService=a:this._standaloneKeybindingService=null,sEe()}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let r="DYNAMIC_"+ ++oEe,o=dn.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(r,e,t,o),r}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if(typeof e.id!="string"||typeof e.label!="string"||typeof e.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Pe.None;const t=e.id,i=e.label,r=dn.and(dn.equals("editorId",this.getId()),dn.deserialize(e.precondition)),o=e.keybindings,s=dn.and(r,dn.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,u=(f,...g)=>Promise.resolve(e.run(this,...g)),c=new St,d=this.getId()+":"+t;if(c.add(Mr.registerCommand(d,u)),a){let f={command:{id:d,title:i},when:r,group:a,order:l};c.add(F_.appendMenuItem(gn.EditorContext,f))}if(Array.isArray(o))for(const f of o)c.add(this._standaloneKeybindingService.addDynamicKeybinding(d,f,u,s));let h=new hre(d,i,i,r,u,this._contextKeyService);return this._actions[t]=h,c.add(Tn(()=>{delete this._actions[t]})),c}_triggerCommand(e,t){if(this._codeEditorService instanceof NT)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(e,t)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(e,t)}};kT=e3([En(2,Go),En(3,mr),En(4,Qo),En(5,pn),En(6,oo),En(7,zi),En(8,pa),En(9,Ds)],kT);let YR=class extends kT{constructor(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p){const m=Object.assign({},t);sT(h,m,!1);const v=c.registerEditorContainer(e);typeof m.theme=="string"&&c.setTheme(m.theme),typeof m.autoDetectHighContrast<"u"&&c.setAutoDetectHighContrast(!!m.autoDetectHighContrast);let y=m.model;delete m.model,super(e,m,r,o,s,a,l,c,d,f),this._contextViewService=u,this._configurationService=h,this._standaloneThemeService=c,this._register(i),this._register(v);let _;if(typeof y>"u"?(_=Ire(g,p,m.value||"",m.language||Zs.text,void 0),this._ownsModel=!0):(_=y,this._ownsModel=!1),this._attachModel(_),_){let b={oldModelUrl:null,newModelUrl:_.uri};this._onDidChangeModel.fire(b)}}dispose(){super.dispose()}updateOptions(e){sT(this._configurationService,e,!1),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};YR=e3([En(3,Go),En(4,mr),En(5,Qo),En(6,pn),En(7,oo),En(8,gp),En(9,hw),En(10,pa),En(11,br),En(12,Ds),En(13,Jo),En(14,h$)],YR);let XR=class extends ch{constructor(e,t,i,r,o,s,a,l,u,c,d,h,f,g,p){const m=Object.assign({},t);sT(h,m,!0);const v=c.registerEditorContainer(e);typeof m.theme=="string"&&c.setTheme(m.theme),typeof m.autoDetectHighContrast<"u"&&c.setAutoDetectHighContrast(!!m.autoDetectHighContrast),super(e,m,{},p,l,o,r,u,c,d,f,g),this._contextViewService=a,this._configurationService=h,this._standaloneThemeService=c,this._register(i),this._register(v),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){sT(this._configurationService,e,!0),typeof e.theme=="string"&&this._standaloneThemeService.setTheme(e.theme),typeof e.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!e.autoDetectHighContrast),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(kT,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};XR=e3([En(3,Go),En(4,pn),En(5,oo),En(6,gp),En(7,lp),En(8,mr),En(9,hw),En(10,pa),En(11,br),En(12,sE),En(13,aE),En(14,Iy)],XR);function Ire(n,e,t,i,r){if(t=t||"",!i){const o=t.indexOf(`
`);let s=t;return o!==-1&&(s=t.substring(0,o)),R8(n,t,e.createByFilepathOrFirstLine(r||null,s),r)}return R8(n,t,e.create(i),r)}function R8(n,e,t,i){return n.createModel(e,t,i)}class aEe{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}const lEe={ModesRegistry:"editor.modesRegistry"};class uEe{constructor(){this._onDidChangeLanguages=new ae,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e){this._languages.splice(t,1);return}}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}}const hg=new uEe;ir.add(lEe.ModesRegistry,hg);const Dre="plaintext",cEe=".txt",Ere=new u$(Dre,1);hg.registerLanguage({id:Dre,extensions:[cEe],aliases:[E("plainText.alias","Plain Text"),"text"],mimetypes:[Zs.text]});Dn.register(Ere,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}},0);const Bh=Object.prototype.hasOwnProperty;class dEe extends Pe{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(hg.onDidChangeLanguages(i=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=hg.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(t=>{let i=this._languages[t];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach(r=>{this._lowercaseNameMap[r.toLowerCase()]=i.identifier}),i.mimetypes.forEach(r=>{this._mimeTypesMap[r]=i.identifier})}),ir.as(wy.Configuration).registerOverrideIdentifiers(hg.getLanguages().map(t=>t.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let i;if(Bh.call(this._languages,t))i=this._languages[t];else{const r=this._getLanguageId(t);i={identifier:new u$(t,r),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i}this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let r=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),r=t.mimetypes[0]),r||(r=`text/x-${i}`,e.mimetypes.push(r)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let a of t.extensions)y1({id:i,mime:r,extension:a},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let a of t.filenames)y1({id:i,mime:r,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(t.filenamePatterns))for(let a of t.filenamePatterns)y1({id:i,mime:r,filepattern:a},this._warnOnOverwrite);if(typeof t.firstLine=="string"&&t.firstLine.length>0){let a=t.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{let l=new RegExp(a);Rbe(l)||y1({id:i,mime:r,firstline:l},this._warnOnOverwrite)}catch(l){Rn(l)}}e.aliases.push(i);let o=null;if(typeof t.aliases<"u"&&Array.isArray(t.aliases)&&(t.aliases.length===0?o=[null]:o=t.aliases),o!==null)for(const a of o)!a||a.length===0||e.aliases.push(a);let s=o!==null&&o.length>0;if(!(s&&o[0]===null)){let a=(s?o[0]:null)||i;(s||!e.name)&&(e.name=a)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return Bh.call(this._mimeTypesMap,e)?!0:Bh.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return Bh.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(t=>t.trim()).map(t=>Bh.call(this._mimeTypesMap,t)?this._mimeTypesMap[t].language:t).filter(t=>Bh.call(this._languages,t)):[]}getLanguageIdentifier(e){if(e===d$||e===0)return XL;let t;if(typeof e=="string")t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return Bh.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=Uxe(e,t);return this.extractModeIds(i.join(","))}}class B8{constructor(e,t){this._selector=t,this.languageIdentifier=this._selector();let i;this._onDidChange=new ae({onFirstListenerAdd:()=>{i=e(()=>this._evaluate())},onLastListenerRemove:()=>{i.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}class hEe extends Pe{constructor(e=!1){super(),this._onDidCreateMode=this._register(new ae),this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=this._register(new ae({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=this._register(new dEe(!0,e)),this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const i=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return vR(i,null)}getModeId(e){const t=this._registry.extractModeIds(e);return vR(t,null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new B8(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new B8(this.onLanguagesMaybeChanged,()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||XL;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||XL;this._instantiatedModes[e]=new aEe(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}const t3=an("undoRedoService");class Mre{constructor(e,t){this.resource=e,this.elements=t}}class zv{constructor(){this.id=zv._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}zv._ID=0;zv.None=new zv;class zl{constructor(){this.id=zl._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}zl._ID=0;zl.None=new zl;class fEe{constructor(e,t,i){this._legend=e,this._themeService=t,this._logService=i,this._hashTable=new nc,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,i){const r=this._hashTable.get(e,t,i.id);let o;if(r)o=r.metadata,this._logService.getLevel()===Ua.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Ys.getForeground(o)}, fontStyle ${Ys.getFontStyle(o).toString(2)}`);else{let s=this._legend.tokenTypes[e];const a=[];if(s){let l=t;for(let c=0;l>0&&c<this._legend.tokenModifiers.length;c++)l&1&&a.push(this._legend.tokenModifiers[c]),l=l>>1;l>0&&this._logService.getLevel()===Ua.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),a.push("not-in-legend"));const u=this._themeService.getColorTheme().getTokenStyleMetadata(s,a,i.language);if(typeof u>"u")o=2147483647;else{if(o=0,typeof u.italic<"u"){const c=(u.italic?1:0)<<11;o|=c|1}if(typeof u.bold<"u"){const c=(u.bold?2:0)<<11;o|=c|2}if(typeof u.underline<"u"){const c=(u.underline?4:0)<<11;o|=c|4}if(u.foreground){const c=u.foreground<<14;o|=c|8}o===0&&(o=2147483647)}}else this._logService.getLevel()===Ua.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),o=2147483647,s="not-in-legend";this._hashTable.add(e,t,i.id,o),this._logService.getLevel()===Ua.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${s}) / ${t} (${a.join(" ")}): foreground ${Ys.getForeground(o)}, fontStyle ${Ys.getFontStyle(o).toString(2)}`)}return o}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${e}, column ${t}`))}}function gEe(n,e,t){const i=n.data,r=n.data.length/5|0,o=Math.max(Math.ceil(r/1024),400),s=[];let a=0,l=1,u=0;for(;a<r;){const c=a;let d=Math.min(c+o,r);if(d<r){let _=d;for(;_-1>c&&i[5*_]===0;)_--;if(_-1===c){let b=d;for(;b+1<r&&i[5*b]===0;)b++;d=b}else d=_}let h=new Uint32Array((d-c)*4),f=0,g=0,p=0,m=0,v=0;for(;a<d;){const _=5*a,b=i[_],S=i[_+1],w=l+b,C=b===0?u+S:S,x=i[_+2],L=i[_+3],T=i[_+4],I=e.getMetadata(L,T,t);I!==2147483647&&(g===0&&(g=w),p===w&&v>C&&(e.warnOverlappingSemanticTokens(w,C+1),m<C?h[f-4+2]=C:f-=4),h[f]=w-g,h[f+1]=C,h[f+2]=C+x,h[f+3]=I,f+=4,p=w,m=C,v=C+x),l=w,u=C,a++}f!==h.length&&(h=h.subarray(0,f));const y=new hT(g,new dT(h));s.push(y)}return s}class pEe{constructor(e,t,i,r){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=r,this.next=null}}class nc{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=nc._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nc._SIZES.length?2/3*this._currentLength:0),this._elements=[],nc._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const r=this._hashFunc(e,t,i);let o=this._elements[r];for(;o;){if(o.tokenTypeIndex===e&&o.tokenModifierSet===t&&o.languageId===i)return o;o=o.next}return null}add(e,t,i,r){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const o=this._elements;this._currentLengthIndex++,this._currentLength=nc._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<nc._SIZES.length?2/3*this._currentLength:0),this._elements=[],nc._nullOutEntries(this._elements,this._currentLength);for(const s of o){let a=s;for(;a;){const l=a.next;a.next=null,this._add(a),a=l}}}this._add(new pEe(e,t,i,r))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}nc._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];function mEe(n){for(let e=0,t=n.length;e<t;e+=4){const i=n[e+0],r=n[e+1],o=n[e+2],s=n[e+3];n[e+0]=s,n[e+1]=o,n[e+2]=r,n[e+3]=i}}function vEe(n){const e=new Uint8Array(n.buffer,n.byteOffset,n.length*4);return xte()||mEe(e),ED.wrap(e)}function Are(n){const e=new Uint32Array(yEe(n));let t=0;if(e[t++]=n.id,n.type==="full")e[t++]=1,e[t++]=n.data.length,e.set(n.data,t),t+=n.data.length;else{e[t++]=2,e[t++]=n.deltas.length;for(const i of n.deltas)e[t++]=i.start,e[t++]=i.deleteCount,i.data?(e[t++]=i.data.length,e.set(i.data,t),t+=i.data.length):e[t++]=0}return vEe(e)}function yEe(n){let e=0;if(e+=1+1,n.type==="full")e+=1+n.data.length;else{e+=1,e+=(1+1+1)*n.deltas.length;for(const t of n.deltas)t.data&&(e+=t.data.length)}return e}var lE=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function n3(n){return n&&!!n.data}function _Ee(n){return n&&Array.isArray(n.edits)}function Nre(n,e,t){const i=kre(n);return i?{provider:i,request:Promise.resolve(i.provideDocumentSemanticTokens(n,e,t))}:null}function kre(n){const e=YL.ordered(n);return e.length>0?e[0]:null}function Pre(n){const e=Sne.ordered(n);return e.length>0?e[0]:null}Mr.registerCommand("_provideDocumentSemanticTokensLegend",(n,...e)=>lE(void 0,void 0,void 0,function*(){const[t]=e;Qa(t instanceof Nt);const i=n.get(Jo).getModel(t);if(!i)return;const r=kre(i);return r?r.getLegend():n.get(Qo).executeCommand("_provideDocumentRangeSemanticTokensLegend",t)}));Mr.registerCommand("_provideDocumentSemanticTokens",(n,...e)=>lE(void 0,void 0,void 0,function*(){const[t]=e;Qa(t instanceof Nt);const i=n.get(Jo).getModel(t);if(!i)return;const r=Nre(i,null,Uo.None);if(!r)return n.get(Qo).executeCommand("_provideDocumentRangeSemanticTokens",t,i.getFullModelRange());const{provider:o,request:s}=r;let a;try{a=yield s}catch(u){ZS(u);return}if(!a||!n3(a))return;const l=Are({id:0,type:"full",data:a.data});return a.resultId&&o.releaseDocumentSemanticTokens(a.resultId),l}));Mr.registerCommand("_provideDocumentRangeSemanticTokensLegend",(n,...e)=>lE(void 0,void 0,void 0,function*(){const[t]=e;Qa(t instanceof Nt);const i=n.get(Jo).getModel(t);if(!i)return;const r=Pre(i);if(r)return r.getLegend()}));Mr.registerCommand("_provideDocumentRangeSemanticTokens",(n,...e)=>lE(void 0,void 0,void 0,function*(){const[t,i]=e;Qa(t instanceof Nt),Qa(ee.isIRange(i));const r=n.get(Jo).getModel(t);if(!r)return;const o=Pre(r);if(!o)return;let s;try{s=yield o.provideDocumentRangeSemanticTokens(r,ee.lift(i),Uo.None)}catch(a){ZS(a);return}if(!(!s||!n3(s)))return Are({id:0,type:"full",data:s.data})}));var bEe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},d0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};function id(n){return n.toString()}function F8(n){const e=new AD,t=n.createSnapshot();let i;for(;i=t.read();)e.update(i);return e.digest()}class SEe{constructor(e,t,i){this._modelEventListeners=new St,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(r=>i(e,r)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}const wEe=Ho||Qt?1:2;class CEe{constructor(e,t,i,r,o,s,a,l){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=r,this.heapSize=o,this.sha1=s,this.versionId=a,this.alternativeVersionId=l}}function xEe(n){return n.scheme===Nn.file||n.scheme===Nn.vscodeRemote||n.scheme===Nn.userData||n.scheme==="fake-fs"}let PT=class s_ extends Pe{constructor(e,t,i,r,o){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=r,this._undoRedoService=o,this._onModelAdded=this._register(new ae),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ae),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ae),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new TEe(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new LEe(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let i=_o.tabSize;if(e.editor&&typeof e.editor.tabSize<"u"){const d=parseInt(e.editor.tabSize,10);isNaN(d)||(i=d),i<1&&(i=1)}let r=i;if(e.editor&&typeof e.editor.indentSize<"u"&&e.editor.indentSize!=="tabSize"){const d=parseInt(e.editor.indentSize,10);isNaN(d)||(r=d),r<1&&(r=1)}let o=_o.insertSpaces;e.editor&&typeof e.editor.insertSpaces<"u"&&(o=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let s=wEe;const a=e.eol;a===`\r
`?s=2:a===`
`&&(s=1);let l=_o.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace<"u"&&(l=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let u=_o.detectIndentation;e.editor&&typeof e.editor.detectIndentation<"u"&&(u=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let c=_o.largeFileOptimizations;return e.editor&&typeof e.editor.largeFileOptimizations<"u"&&(c=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:o,detectIndentation:u,defaultEOL:s,trimAutoWhitespace:l,largeFileOptimizations:c}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:Ba===3||Ba===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){let r=this._modelCreationOptionsByLanguageAndResource[e+t];if(!r){const o=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:t}),s=this._getEOL(t,e);r=s_._readModelOptions({editor:o,eol:s},i),this._modelCreationOptionsByLanguageAndResource[e+t]=r}return r}_updateModelOptions(){const e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const o=t[i],s=this._models[o],a=s.model.getLanguageIdentifier().language,l=s.model.uri,u=e[a+l],c=this.getCreationOptions(a,l,s.model.isForSimpleWidget);s_._setModelOptionsForModel(s.model,c,u)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace)&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_insertDisposedModel(e){this._disposedModels.set(id(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(id(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(id(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,r)=>i.time-r.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,r){const o=this.getCreationOptions(t.language,i,r),s=new Yr(e,o,t,i,this._undoRedoService);if(i&&this._disposedModels.has(id(i))){const u=this._removeDisposedModel(i),c=this._undoRedoService.getElements(i),d=F8(s)===u.sha1;if(d||u.sharesUndoRedoStack){for(const h of c.past)Qu(h)&&h.matchesResource(i)&&h.setModel(s);for(const h of c.future)Qu(h)&&h.matchesResource(i)&&h.setModel(s);this._undoRedoService.setElementsValidFlag(i,!0,h=>Qu(h)&&h.matchesResource(i)),d&&(s._overwriteVersionId(u.versionId),s._overwriteAlternativeVersionId(u.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(u.initialUndoRedoSnapshot))}else u.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(u.initialUndoRedoSnapshot)}const a=id(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");const l=new SEe(s,u=>this._onWillDispose(u),(u,c)=>this._onDidChangeLanguage(u,c));return this._models[a]=l,l}createModel(e,t,i,r=!1){let o;return t?(o=this._createModelData(e,t.languageIdentifier,i,r),this.setMode(o.model,t)):o=this._createModelData(e,Ere,i,r),this._onModelAdded.fire(o.model),o.model}setMode(e,t){if(!t)return;const i=this._models[id(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push(this._models[o].model)}return e}getModel(e){const t=id(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(e){const t=id(e.uri),i=this._models[t],r=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let o=!1,s=0;if(r||this._shouldRestoreUndoStack()&&xEe(e.uri)){const l=this._undoRedoService.getElements(e.uri);if(l.past.length>0||l.future.length>0){for(const u of l.past)Qu(u)&&u.matchesResource(e.uri)&&(o=!0,s+=u.heapSize(e.uri),u.setModel(e.uri));for(const u of l.future)Qu(u)&&u.matchesResource(e.uri)&&(o=!0,s+=u.heapSize(e.uri),u.setModel(e.uri))}}const a=s_.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(o)if(!r&&s>a){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}else this._ensureDisposedModelsHeapSize(a-s),this._undoRedoService.setElementsValidFlag(e.uri,!1,l=>Qu(l)&&l.matchesResource(e.uri)),this._insertDisposedModel(new CEe(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,s,F8(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!r){const l=i.model.getInitialUndoRedoSnapshot();l!==null&&this._undoRedoService.restoreSnapshot(l)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,r=e.getLanguageIdentifier().language,o=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(r,e.uri,e.isForSimpleWidget);s_._setModelOptionsForModel(e,s,o),this._onModelModeChanged.fire({model:e,oldModeId:i})}};PT.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024;PT=bEe([d0(0,br),d0(1,Ane),d0(2,zi),d0(3,aw),d0(4,t3)],PT);const Ore="editor.semanticHighlighting";function $8(n,e,t){var i;const r=(i=t.getValue(Ore,{overrideIdentifier:n.getLanguageIdentifier().language,resource:n.uri}))===null||i===void 0?void 0:i.enabled;return typeof r=="boolean"?r:e.getColorTheme().semanticHighlighting}class LEe extends Pe{constructor(e,t,i,r){super(),this._watchers=Object.create(null),this._semanticStyling=r;const o=l=>{this._watchers[l.uri.toString()]=new qf(l,t,this._semanticStyling)},s=(l,u)=>{u.dispose(),delete this._watchers[l.uri.toString()]},a=()=>{for(let l of e.getModels()){const u=this._watchers[l.uri.toString()];$8(l,t,i)?u||o(l):u&&s(l,u)}};this._register(e.onModelAdded(l=>{$8(l,t,i)&&o(l)})),this._register(e.onModelRemoved(l=>{const u=this._watchers[l.uri.toString()];u&&s(l,u)})),this._register(i.onDidChangeConfiguration(l=>{l.affectsConfiguration(Ore)&&a()})),this._register(t.onDidColorThemeChange(a))}}class TEe extends Pe{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new fEe(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}class IEe{constructor(e,t,i){this._provider=e,this.resultId=t,this.data=i}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class qf extends Pe{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new vr(()=>this._fetchDocumentSemanticTokensNow(),qf.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const r=()=>{Bn(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const o of YL.all(e))typeof o.onDidChange=="function"&&this._documentProvidersChangeListeners.push(o.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};r(),this._register(YL.onDidChange(()=>{r(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(o=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=new _y,t=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,i=Nre(this._model,t,e.token);if(!i){this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1);return}const{provider:r,request:o}=i;this._currentDocumentRequestCancellationTokenSource=e;const s=[],a=this._model.onDidChangeContent(u=>{s.push(u)}),l=this._semanticStyling.get(r);o.then(u=>{this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),this._setDocumentSemanticTokens(r,u||null,l,s)},u=>{u&&(QS(u)||typeof u.message=="string"&&u.message.indexOf("busy")!==-1)||Rn(u),this._currentDocumentRequestCancellationTokenSource=null,a.dispose(),s.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,i,r,o){for(let s=0;s<o;s++)i[r+s]=e[t+s]}_setDocumentSemanticTokens(e,t,i,r){const o=this._currentDocumentResponse,s=()=>{r.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){e&&t&&e.releaseDocumentSemanticTokens(t.resultId);return}if(!e||!i){this._model.setSemanticTokens(null,!1);return}if(!t){this._model.setSemanticTokens(null,!0),s();return}if(_Ee(t)){if(!o){this._model.setSemanticTokens(null,!0);return}if(t.edits.length===0)t={resultId:t.resultId,data:o.data};else{let a=0;for(const h of t.edits)a+=(h.data?h.data.length:0)-h.deleteCount;const l=o.data,u=new Uint32Array(l.length+a);let c=l.length,d=u.length;for(let h=t.edits.length-1;h>=0;h--){const f=t.edits[h],g=c-(f.start+f.deleteCount);g>0&&(qf._copy(l,c-g,u,d-g,g),d-=g),f.data&&(qf._copy(f.data,0,u,d-f.data.length,f.data.length),d-=f.data.length),c=f.start}c>0&&qf._copy(l,0,u,0,c),t={resultId:t.resultId,data:u}}}if(n3(t)){this._currentDocumentResponse=new IEe(e,t.resultId,t.data);const a=gEe(t,i,this._model.getLanguageIdentifier());if(r.length>0)for(const l of r)for(const u of a)for(const c of l.changes)u.applyEdit(c.range,c.text);this._model.setSemanticTokens(a,!0)}else this._model.setSemanticTokens(null,!0);s()}}qf.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300;class DEe{constructor(e,t,i,r,o){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=i,this.foreground=r,this.background=o}}function EEe(n){if(!n||!Array.isArray(n))return[];let e=[],t=0;for(let i=0,r=n.length;i<r;i++){let o=n[i],s=-1;if(typeof o.fontStyle=="string"){s=0;let u=o.fontStyle.split(" ");for(let c=0,d=u.length;c<d;c++)switch(u[c]){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break}}let a=null;typeof o.foreground=="string"&&(a=o.foreground);let l=null;typeof o.background=="string"&&(l=o.background),e[t++]=new DEe(o.token||"",i,s,a,l)}return e}function MEe(n,e){n.sort((c,d)=>{let h=OEe(c.token,d.token);return h!==0?h:c.index-d.index});let t=0,i="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){let c=n.shift();c.fontStyle!==-1&&(t=c.fontStyle),c.foreground!==null&&(i=c.foreground),c.background!==null&&(r=c.background)}let o=new NEe;for(let c of e)o.getId(c);let s=o.getId(i),a=o.getId(r),l=new i3(t,s,a),u=new r3(l);for(let c=0,d=n.length;c<d;c++){let h=n[c];u.insert(h.token,h.fontStyle,o.getId(h.foreground),o.getId(h.background))}return new Rre(o,u)}const AEe=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class NEe{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(e===null)return 0;const t=e.match(AEe);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=_e.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Rre{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(EEe(e),t)}static createFromParsedTokenTheme(e,t){return MEe(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(typeof i>"u"){let r=this._match(t),o=PEe(t);i=(r.metadata|o<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const kEe=/\b(comment|string|regex|regexp)\b/;function PEe(n){let e=n.match(kEe);if(!e)return 0;switch(e[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function OEe(n,e){return n<e?-1:n>e?1:0}class i3{constructor(e,t,i){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new i3(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){e!==-1&&(this._fontStyle=e),t!==0&&(this._foreground=t),i!==0&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class r3{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(e==="")return this._mainRule;let t=e.indexOf("."),i,r;t===-1?(i=e,r=""):(i=e.substring(0,t),r=e.substring(t+1));let o=this._children.get(i);return typeof o<"u"?o.match(r):this._mainRule}insert(e,t,i,r){if(e===""){this._mainRule.acceptOverwrite(t,i,r);return}let o=e.indexOf("."),s,a;o===-1?(s=e,a=""):(s=e.substring(0,o),a=e.substring(o+1));let l=this._children.get(s);typeof l>"u"&&(l=new r3(this._mainRule.clone()),this._children.set(s,l)),l.insert(a,t,i,r)}}function REe(n){let e=[];for(let t=1,i=n.length;t<i;t++){let r=n[t];e[t]=`.mtk${t} { color: ${r}; }`}return e.push(".mtki { font-style: italic; }"),e.push(".mtkb { font-weight: bold; }"),e.push(".mtku { text-decoration: underline; text-underline-position: under; }"),e.join(`
`)}const BEe={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[gc]:"#FFFFFE",[cw]:"#000000",[V$]:"#E5EBF1",[tE]:"#D3D3D3",[nE]:"#939393",[Uie]:"#ADD6FF4D"}},FEe={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[gc]:"#1E1E1E",[cw]:"#D4D4D4",[V$]:"#3A3D41",[tE]:"#404040",[nE]:"#707070",[Uie]:"#ADD6FF26"}},$Ee={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[gc]:"#000000",[cw]:"#FFFFFF",[tE]:"#FFFFFF",[nE]:"#FFFFFF"}};function VEe(){const n=new ae,e=RDe();return e.onDidChange(()=>n.fire()),{onDidChange:n.event,getCSS(){const t={},i=o=>{let s=o.defaults;for(;Pr.isThemeIcon(s);){const l=e.getIcon(s.id);if(!l)return;s=l.defaults}const a=s.fontId;if(a){const l=e.getIconFont(a);if(l)return t[a]=l,`.codicon-${o.id}:before { content: '${s.fontCharacter}'; font-family: ${S7(a)}; }`}return`.codicon-${o.id}:before { content: '${s.fontCharacter}'; }`},r=[];for(let o of e.getIcons()){const s=i(o);s&&r.push(s)}for(let o in t){const a=t[o].definition.src.map(l=>`${Ab(l.location)} format('${l.format}')`).join(", ");r.push(`@font-face { src: ${a}; font-family: ${S7(o)}; }`)}return r.join(`
`)}}}const Yf="vs",OT="vs-dark",cv="hc-black",WEe=ir.as(Mie.ColorContribution),zEe=ir.as(oie.ThemingContribution);class Bre{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(Rx(e)?this.id=e:this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,_e.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=ZR(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,_e.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);if(i)return i;if(t!==!1)return this.getDefault(e)}getDefault(e){let t=this.defaultColors[e];return t||(t=WEe.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Yf:return Jl.LIGHT;case cv:return Jl.HIGH_CONTRAST;default:return Jl.DARK}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=ZR(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Rre.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const o=this.tokenTheme._match([e].concat(t).join(".")).metadata,s=Ys.getForeground(o),a=Ys.getFontStyle(o);return{foreground:s,italic:!!(a&1),bold:!!(a&2),underline:!!(a&4)}}}function Rx(n){return n===Yf||n===OT||n===cv}function ZR(n){switch(n){case Yf:return BEe;case OT:return FEe;case cv:return $Ee}}function r2(n){let e=ZR(n);return new Bre(n,e)}class HEe extends Pe{constructor(){super(),this._onColorThemeChange=this._register(new ae),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(Yf,r2(Yf)),this._knownThemes.set(OT,r2(OT)),this._knownThemes.set(cv,r2(cv));const e=VEe();this._codiconCSS=e.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(Yf),e.onDidChange(()=>{this._codiconCSS=e.getCSS(),this._updateCSS()}),Mbe("(forced-colors: active)",()=>{this._updateActualTheme()})}registerEditorContainer(e){return JF(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=ws(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),Pe.None}_registerShadowDomContainer(e){const t=ws(e);return t.className="monaco-colors",t.textContent=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let i=0;i<this._styleElements.length;i++)if(this._styleElements[i]===t){this._styleElements.splice(i,1);return}}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!Rx(t.base)&&!Rx(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new Bre(e,t)),Rx(e)&&this._knownThemes.forEach(i=>{i.base===e&&i.notifyBaseUpdated()}),this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setColorMapOverride(e){this._colorMapOverride=e,this._updateThemeOrColorMap()}setTheme(e){let t;this._knownThemes.has(e)?t=this._knownThemes.get(e):t=this._knownThemes.get(Yf),this._desiredTheme=t,this._updateActualTheme()}_updateActualTheme(){const e=this._autoDetectHighContrast&&window.matchMedia("(forced-colors: active)").matches?this._knownThemes.get(cv):this._desiredTheme;this._theme!==e&&(this._theme=e,this._updateThemeOrColorMap())}setAutoDetectHighContrast(e){this._autoDetectHighContrast=e,this._updateActualTheme()}_updateThemeOrColorMap(){let e=[],t={},i={addRule:o=>{t[o]||(e.push(o),t[o]=!0)}};zEe.getThemingParticipants().forEach(o=>o(this._theme,i,this._environment));const r=this._colorMapOverride||this._theme.tokenTheme.getColorMap();i.addRule(REe(r)),this._themeCSS=e.join(`
`),this._updateCSS(),gi.setColorMap(r),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(e=>e.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}var UEe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},GEe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const j_="data-keybinding-context";class o3{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t?(this._value[e]=t,!0):!1}removeValue(e){return e in this._value?(delete this._value[e],!0):!1}getValue(e){const t=this._value[e];return typeof t>"u"&&this._parent?this._parent.getValue(e):t}}class Hv extends o3{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Hv.INSTANCE=new Hv;class Zb extends o3{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=E_.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(r=>{if(r.source===6){const o=Array.from(At.map(this._values,([s])=>s));this._values.clear(),i.fire(new W8(o))}else{const o=[];for(const s of r.affectedKeys){const a=`config.${s}`,l=this._values.findSuperstr(a);l!==void 0&&(o.push(...At.map(l,([u])=>u)),this._values.deleteSuperstr(a)),this._values.has(a)&&(o.push(a),this._values.delete(a))}i.fire(new W8(o))}})}dispose(){this._listener.dispose()}getValue(e){if(e.indexOf(Zb._keyPrefix)!==0)return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(Zb._keyPrefix.length),i=this._configurationService.getValue(t);let r;switch(typeof i){case"number":case"boolean":case"string":r=i;break;default:Array.isArray(i)?r=JSON.stringify(i):r=i}return this._values.set(e,r),r}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}Zb._keyPrefix="config.";let KEe=class{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}};class V8{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class W8{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class jEe{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class Fre{constructor(e){this._onDidChangeContext=new BL({merge:t=>new jEe(t)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new KEe(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new qEe(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return tv.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new V8(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new V8(e))}getContext(e){return this._isDisposed?Hv.INSTANCE:this.getContextValuesContainer(YEe(e))}}let QR=class extends Fre{constructor(e){super(0),this._contexts=new Map,this._toDispose=new St,this._lastContextId=0;const t=new Zb(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Hv.INSTANCE:this._contexts.get(e)||Hv.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new o3(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};QR=UEe([GEe(0,br)],QR);class qEe extends Fre{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new L_e,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(j_)){let i="";this._domNode.classList&&(i=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${i?": "+i:""}`)}this._domNode.setAttribute(j_,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(j_),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?Hv.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}function YEe(n){for(;n;){if(n.hasAttribute(j_)){const e=n.getAttribute(j_);return e?parseInt(e,10):NaN}n=n.parentElement}return 0}Mr.registerCommand(gCe,function(n,e,t){n.get(pn).createKey(String(e),t)});Mr.registerCommand({id:"getContextKeyInfo",handler(){return[...ht.all()].sort((n,e)=>n.key.localeCompare(e.key))},description:{description:E("getContextKeyInfo","A command that returns information about context keys"),args:[]}});Mr.registerCommand("_generateContextKeyInfo",function(){const n=[],e=new Set;for(let t of ht.all())e.has(t.key)||(e.add(t.key),n.push(t));n.sort((t,i)=>t.key.localeCompare(i.key)),console.log(JSON.stringify(n,void 0,2))});var cr;(function(n){function e(o,s){if(o.start>=s.end||s.start>=o.end)return{start:0,end:0};const a=Math.max(o.start,s.start),l=Math.min(o.end,s.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}n.intersect=e;function t(o){return o.end-o.start<=0}n.isEmpty=t;function i(o,s){return!t(e(o,s))}n.intersects=i;function r(o,s){const a=[],l={start:o.start,end:Math.min(s.start,o.end)},u={start:Math.max(s.end,o.start),end:o.end};return t(l)||a.push(l),t(u)||a.push(u),a}n.relativeComplement=r})(cr||(cr={}));var Ed;(function(n){n[n.AVOID=0]="AVOID",n[n.ALIGN=1]="ALIGN"})(Ed||(Ed={}));function Om(n,e,t){const i=t.mode===Ed.ALIGN?t.offset:t.offset+t.size,r=t.mode===Ed.ALIGN?t.offset+t.size:t.offset;return t.position===0?e<=n-i?i:e<=r?r-e:Math.max(n-e,0):e<=r?r-e:e<=n-i?i:0}class Uv extends Pe{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Pe.None,this.toDisposeOnSetContainer=Pe.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=at(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,_7(this.view),this.setContainer(e,t),this._register(Tn(()=>this.setContainer(null,1)))}setContainer(e,t){var i;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(i=this.shadowRootHostElement)===null||i===void 0||i.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){if(this.container=e,this.useFixedPosition=t!==1,this.useShadowDOM=t===3,this.useShadowDOM){this.shadowRootHostElement=at(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=XEe,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(at("slot"))}else this.container.appendChild(this.view);const r=new St;Uv.BUBBLE_UP_EVENTS.forEach(o=>{r.add(to(this.container,o,s=>{this.onDOMEvent(s,!1)}))}),Uv.BUBBLE_DOWN_EVENTS.forEach(o=>{r.add(to(this.container,o,s=>{this.onDOMEvent(s,!0)},!0))}),this.toDisposeOnSetContainer=r}}show(e){this.isVisible()&&this.hide(),Ss(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",ene(this.view),this.toDisposeOnClean=e.render(this.view)||Pe.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(Dv&&Ute.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;let e=this.delegate.getAnchor(),t;if(Qte(e)){let d=ia(e);t={top:d.top,left:d.left,width:d.width,height:d.height}}else t={top:e.y,left:e.x,width:e.width||1,height:e.height||2};const i=Ws(this.view),r=KO(this.view),o=this.delegate.anchorPosition||0,s=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,u;if(a===0){const d={offset:t.top-window.pageYOffset,size:t.height,position:o===0?0:1},h={offset:t.left,size:t.width,position:s===0?0:1,mode:Ed.ALIGN};l=Om(window.innerHeight,r,d)+window.pageYOffset,cr.intersects({start:l,end:l+r},{start:d.offset,end:d.offset+d.size})&&(h.mode=Ed.AVOID),u=Om(window.innerWidth,i,h)}else{const d={offset:t.left,size:t.width,position:s===0?0:1},h={offset:t.top,size:t.height,position:o===0?0:1,mode:Ed.ALIGN};u=Om(window.innerWidth,i,d),cr.intersects({start:u,end:u+i},{start:d.offset,end:d.offset+d.size})&&(h.mode=Ed.AVOID),l=Om(window.innerHeight,r,h)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(s===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const c=ia(this.container);this.view.style.top=`${l-(this.useFixedPosition?ia(this.view).top:c.top)}px`,this.view.style.left=`${u-(this.useFixedPosition?ia(this.view).left:c.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,t!=null&&t.onHide&&t.onHide(e),this.toDisposeOnClean.dispose(),_7(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Cc(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}Uv.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];Uv.BUBBLE_DOWN_EVENTS=["click"];let XEe=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;function z8(n){let e=n.definition;for(;e instanceof sn;)e=e.definition;return`.codicon-${n.id}:before { content: '${e.fontCharacter}'; }`}function $re(...n){return function(e,t){for(let i=0,r=n.length;i<r;i++){const o=n[i](e,t);if(o)return o}return null}}const s3=ZEe.bind(void 0,!0);function ZEe(n,e,t){if(!t||t.length<e.length)return null;let i;return n?i=n$(t,e):i=t.indexOf(e)===0,i?e.length>0?[{start:0,end:e.length}]:[]:null}function QEe(n,e){const t=e.toLowerCase().indexOf(n.toLowerCase());return t===-1?null:[{start:t,end:t+n.length}]}function JEe(n,e){return JR(n.toLowerCase(),e.toLowerCase(),0,0)}function JR(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]===e[i]){let r=null;return(r=JR(n,e,t+1,i+1))?Wre({start:i,end:i+1},r):null}return JR(n,e,t,i+1)}function a3(n){return 97<=n&&n<=122}function uE(n){return 65<=n&&n<=90}function l3(n){return 48<=n&&n<=57}function eMe(n){return n===32||n===9||n===10||n===13}const tMe=new Set;"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(n=>tMe.add(n.charCodeAt(0)));function Vre(n){return a3(n)||uE(n)||l3(n)}function Wre(n,e){return e.length===0?e=[n]:n.end===e[0].start?e[0].start=n.start:e.unshift(n),e}function zre(n,e){for(let t=e;t<n.length;t++){const i=n.charCodeAt(t);if(uE(i)||l3(i)||t>0&&!Vre(n.charCodeAt(t-1)))return t}return n.length}function e4(n,e,t,i){if(t===n.length)return[];if(i===e.length)return null;if(n[t]!==e[i].toLowerCase())return null;{let r=null,o=i+1;for(r=e4(n,e,t+1,i+1);!r&&(o=zre(e,o))<e.length;)r=e4(n,e,t+1,o),o++;return r===null?null:Wre({start:i,end:i+1},r)}}function nMe(n){let e=0,t=0,i=0,r=0,o=0;for(let c=0;c<n.length;c++)o=n.charCodeAt(c),uE(o)&&e++,a3(o)&&t++,Vre(o)&&i++,l3(o)&&r++;const s=e/n.length,a=t/n.length,l=i/n.length,u=r/n.length;return{upperPercent:s,lowerPercent:a,alphaPercent:l,numericPercent:u}}function iMe(n){const{upperPercent:e,lowerPercent:t}=n;return t===0&&e>.6}function rMe(n){const{upperPercent:e,lowerPercent:t,alphaPercent:i,numericPercent:r}=n;return t>.2&&e<.8&&i>.6&&r<.2}function oMe(n){let e=0,t=0,i=0,r=0;for(let o=0;o<n.length;o++)i=n.charCodeAt(o),uE(i)&&e++,a3(i)&&t++,eMe(i)&&r++;return(e===0||t===0)&&r===0?n.length<=30:e<=5}function Hre(n,e){if(!e||(e=e.trim(),e.length===0)||!oMe(n)||e.length>60)return null;const t=nMe(e);if(!rMe(t)){if(!iMe(t))return null;e=e.toLowerCase()}let i=null,r=0;for(n=n.toLowerCase();r<e.length&&(i=e4(n,e,0,r))===null;)r=zre(e,r+1);return i}const sMe=$re(s3,Hre,QEe),aMe=$re(s3,Hre,JEe),H8=new une(1e4);function U8(n,e,t=!1){if(typeof n!="string"||typeof e!="string")return null;let i=H8.get(n);i||(i=new RegExp(Obe(n),"i"),H8.set(n,i));const r=i.exec(e);return r?[{start:r.index,end:r.index+r[0].length}]:t?aMe(n,e):sMe(n,e)}const Md=128;function u3(){const n=[],e=[];for(let t=0;t<=Md;t++)e[t]=0;for(let t=0;t<=Md;t++)n.push(e.slice(0));return n}function Ure(n){const e=[];for(let t=0;t<=n;t++)e[t]=0;return e}const Gre=Ure(2*Md),t4=Ure(2*Md),Au=u3(),Fh=u3(),T1=u3();function I1(n,e){if(e<0||e>=n.length)return!1;const t=n.codePointAt(e);switch(t){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 40:case 91:return!0;case void 0:return!1;default:return!!I_(t)}}function G8(n,e){if(e<0||e>=n.length)return!1;switch(n.charCodeAt(e)){case 32:case 9:return!0;default:return!1}}function Bx(n,e,t){return e[n]!==t[n]}function lMe(n,e,t,i,r,o,s=!1){for(;e<t&&r<o;)n[e]===i[r]&&(s&&(Gre[e]=r),e+=1),r+=1;return e===t}var fg;(function(n){n.Default=[-100,0];function e(t){return!t||t.length===2&&t[0]===-100&&t[1]===0}n.isDefault=e})(fg||(fg={}));function uMe(n,e,t,i,r,o,s){const a=n.length>Md?Md:n.length,l=i.length>Md?Md:i.length;if(t>=a||o>=l||a-t>l-o||!lMe(e,t,a,r,o,l,!0))return;cMe(a,l,t,o,e,r);let u=1,c=1,d=t,h=o;const f=[!1];for(u=1,d=t;d<a;u++,d++){const y=Gre[d],_=t4[d],b=d+1<a?t4[d+1]:l;for(c=y-o+1,h=y;h<b;c++,h++){let S=Number.MIN_SAFE_INTEGER,w=!1;h<=_&&(S=dMe(n,e,d,t,i,r,h,l,o,Au[u-1][c-1]===0,f));let C=0;S!==Number.MAX_SAFE_INTEGER&&(w=!0,C=S+Fh[u-1][c-1]);const x=h>y,L=x?Fh[u][c-1]+(Au[u][c-1]>0?-5:0):0,T=h>y+1&&Au[u][c-1]>0,I=T?Fh[u][c-2]+(Au[u][c-2]>0?-5:0):0;if(T&&(!x||I>=L)&&(!w||I>=C))Fh[u][c]=I,T1[u][c]=3,Au[u][c]=0;else if(x&&(!w||L>=C))Fh[u][c]=L,T1[u][c]=2,Au[u][c]=0;else if(w)Fh[u][c]=C,T1[u][c]=1,Au[u][c]=Au[u-1][c-1]+1;else throw new Error("not possible")}}if(!f[0]&&!s)return;u--,c--;const g=[Fh[u][c],o];let p=0,m=0;for(;u>=1;){let y=c;do{const _=T1[u][y];if(_===3)y=y-2;else if(_===2)y=y-1;else break}while(y>=1);p>1&&e[t+u-1]===r[o+c-1]&&!Bx(y+o-1,i,r)&&p+1>Au[u][y]&&(y=c),y===c?p++:p=1,m||(m=y),u--,c=y-1,g.push(c)}l===a&&(g[0]+=2);const v=m-a;return g[0]-=v,g}function cMe(n,e,t,i,r,o){let s=n-1,a=e-1;for(;s>=t&&a>=i;)r[s]===o[a]&&(t4[s]=a,s--),a--}function dMe(n,e,t,i,r,o,s,a,l,u,c){if(e[t]!==o[s])return Number.MIN_SAFE_INTEGER;let d=1,h=!1;return s===t-i?d=n[t]===r[s]?7:5:Bx(s,r,o)&&(s===0||!Bx(s-1,r,o))?(d=n[t]===r[s]?7:5,h=!0):I1(o,s)&&(s===0||!I1(o,s-1))?d=5:(I1(o,s-1)||G8(o,s-1))&&(d=5,h=!0),d>1&&t===i&&(c[0]=!0),h||(h=Bx(s,r,o)||I1(o,s-1)||G8(o,s-1)),t===i?s>l&&(d-=h?3:5):u?d+=h?2:0:d+=h?0:1,s+1===a&&(d-=h?3:5),d}const q_="$(",c3=new RegExp(`\\$\\(${bo.iconNameExpression}(?:${bo.iconModifierExpression})?\\)`,"g");new RegExp(`(\\\\)?${c3.source}`,"g");new RegExp(`\\\\${c3.source}`,"g");const hMe=new RegExp(`(\\s)?(\\\\)?${c3.source}(\\s)?`,"g");function fMe(n){return n.indexOf(q_)===-1?n:n.replace(hMe,(e,t,i,r)=>i?e:t||r||"")}function D1(n){const e=n.indexOf(q_);return e===-1?{text:n}:gMe(n,e)}function gMe(n,e){const t=[];let i="";function r(h){if(h){i+=h;for(const f of h)t.push(a)}}let o=-1,s="",a=0,l,u,c=e;const d=n.length;for(r(n.substr(0,e));c<d;){if(l=n[c],u=n[c+1],l===q_[0]&&u===q_[1])o=c,r(s),s=q_,c++;else if(l===")"&&o!==-1){const h=c-o+1;a+=h,o=-1,s=""}else o!==-1?/^[a-z0-9\-]$/i.test(l)?s+=l:(r(s),o=-1,s=""):r(l);c++}return r(s),{text:i,iconOffsets:t}}function E1(n,e,t=!1){const{text:i,iconOffsets:r}=e;if(!r||r.length===0)return U8(n,i,t);const o=nne(i," "),s=i.length-o.length,a=U8(n,o,t);if(a)for(const l of a){const u=r[l.start+s]+s;l.start+=u,l.end+=u}return a}const n4=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,o2=/(&amp;)?(&amp;)([^\s&])/g,Kre=ga("menu-selection",sn.check),jre=ga("menu-submenu",sn.chevronRight);var RT;(function(n){n[n.Right=0]="Right",n[n.Left=1]="Left"})(RT||(RT={}));let qre=class a_ extends Wv{constructor(e,t,i={}){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const r=document.createElement("div");r.classList.add("monaco-menu"),r.setAttribute("role","presentation"),super(r,{orientation:1,actionViewItemProvider:a=>this.doGetActionViewItem(a,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Qt||Ho?[10]:[]],keyDown:!0}}),this.menuElement=r,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new St),this.initializeStyleSheet(e),De(r,it.KEY_DOWN,a=>{new ni(a).equals(2)&&a.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(De(r,it.KEY_DOWN,a=>{const l=a.key.toLocaleLowerCase();if(this.mnemonics.has(l)){Cn.stop(a,!0);const u=this.mnemonics.get(l);if(u.length===1&&(u[0]instanceof K8&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(a)),u.length>1){const c=u.shift();c&&c.container&&(this.focusItemByElement(c.container),u.push(c)),this.mnemonics.set(l,u)}}})),Ho&&this._register(De(r,it.KEY_DOWN,a=>{const l=new ni(a);l.equals(14)||l.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Cn.stop(a,!0)):(l.equals(13)||l.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Cn.stop(a,!0))})),this._register(De(this.domNode,it.MOUSE_OUT,a=>{let l=a.relatedTarget;Cc(l,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),a.stopPropagation())})),this._register(De(this.actionsList,it.MOUSE_OVER,a=>{let l=a.target;if(!(!l||!Cc(l,this.actionsList)||l===this.actionsList)){for(;l.parentElement!==this.actionsList&&l.parentElement!==null;)l=l.parentElement;if(l.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(l),u!==this.focusedItem&&this.updateFocus()}}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new cre(r,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this._register(De(s,it.MOUSE_UP,a=>{a.preventDefault()})),r.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(a=>{var l;return!((l=i.submenuIds)===null||l===void 0)&&l.has(a.id)?(console.warn(`Found submenu cycle: ${a.id}`),!1):!0}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(a=>!(a instanceof s2)).forEach((a,l,u)=>{a.updatePositionInSet(l+1,u.length)})}initializeStyleSheet(e){JF(e)?(this.styleSheet=ws(e),this.styleSheet.textContent=j8):(a_.globalStyleSheet||(a_.globalStyleSheet=ws(),a_.globalStyleSheet.textContent=j8),this.styleSheet=a_.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?`${e.foregroundColor}`:"",r=e.backgroundColor?`${e.backgroundColor}`:"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=o,this.domNode.style.color=i,this.domNode.style.backgroundColor=r,t.style.boxShadow=s,this.viewItems&&this.viewItems.forEach(a=>{(a instanceof i4||a instanceof s2)&&a.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){let i=this.actionsList.children[t];if(e===i){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof up)return new s2(t.context,e,{icon:!0});if(e instanceof iie){const r=new K8(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const o=r.getMnemonic();if(o&&r.isEnabled()){let s=[];this.mnemonics.has(o)&&(s=this.mnemonics.get(o)),s.push(r),this.mnemonics.set(o,s)}}return r}else{const r={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const s=t.getKeyBinding(e);if(s){const a=s.getLabel();a&&(r.keybinding=a)}}const o=new i4(t.context,e,r);if(t.enableMnemonics){const s=o.getMnemonic();if(s&&o.isEnabled()){let a=[];this.mnemonics.has(s)&&(a=this.mnemonics.get(s)),a.push(o),this.mnemonics.set(s,a)}}return o}}};class i4 extends K_{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=i.icon!==void 0?i.icon:!1,this.options.label=i.label!==void 0?i.label:!0,this.cssClass="",this.options.label&&i.enableMnemonics){let r=this.getAction().label;if(r){let o=n4.exec(r);o&&(this.mnemonic=(o[1]?o[1]:o[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new vr(()=>{this.element&&(this._register(De(this.element,it.MOUSE_UP,r=>{if(Cn.stop(r,!0),eo){if(new na(r).rightButton)return;this.onClick(r)}else setTimeout(()=>{this.onClick(r)},0)})),this._register(De(this.element,it.CONTEXT_MENU,r=>{Cn.stop(r,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=je(this.element,at("a.action-menu-item")),this._action.id===up.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=je(this.item,at("span.menu-item-check"+Kre.cssSelector)),this.check.setAttribute("role","none"),this.label=je(this.item,at("span.action-label")),this.options.label&&this.options.keybinding&&(je(this.item,at("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){if(this.label&&this.options.label){Ss(this.label);let e=fMe(this.getAction().label);if(e){const t=pMe(e);this.options.enableMnemonics||(e=t),this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));const i=n4.exec(e);if(i){e=kbe(e),o2.lastIndex=0;let r=o2.exec(e);for(;r&&r[1];)r=o2.exec(e);const o=s=>s.replace(/&amp;&amp;/g,"&amp;");r?this.label.append(nne(o(e.substr(0,r.index))," "),at("u",{"aria-hidden":"true"},r[3]),Pbe(o(e.substr(r.index+r[0].length))," ")):this.label.innerText=o(e).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=E({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){this.item&&(this.getAction().checked?(this.item.classList.add("checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(this.item.classList.remove("checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&this.element.classList.contains("focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,r=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=r)}style(e){this.menuStyle=e,this.applyStyle()}}class K8 extends i4{constructor(e,t,i,r){super(e,e,r),this.submenuActions=t,this.parentData=i,this.submenuOptions=r,this.mysubmenu=null,this.submenuDisposables=this._register(new St),this.mouseOver=!1,this.expandDirection=r&&r.expandDirection!==void 0?r.expandDirection:RT.Right,this.showScheduler=new vr(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new vr(()=>{this.element&&!Cc(Qm(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=je(this.item,at("span.submenu-indicator"+jre.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(De(this.element,it.KEY_UP,t=>{let i=new ni(t);(i.equals(17)||i.equals(3))&&(Cn.stop(t,!0),this.createSubmenu(!0))})),this._register(De(this.element,it.KEY_DOWN,t=>{let i=new ni(t);Qm()===this.item&&(i.equals(17)||i.equals(3))&&Cn.stop(t,!0)})),this._register(De(this.element,it.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(De(this.element,it.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register(De(this.element,it.FOCUS_OUT,t=>{this.element&&!Cc(Qm(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}updateEnabled(){}onClick(e){Cn.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,r){const o={top:0,left:0};return o.left=Om(e.width,t.width,{position:r===RT.Right?0:1,offset:i.left,size:i.width}),o.left>=i.left&&o.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(o.left=i.left+10),i.top+=10,i.height=0),o.top=Om(e.height,t.height,{position:0,offset:i.top,size:0}),o.top+t.height===i.top&&o.top+i.height+t.height<=e.height&&(o.top+=i.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=je(this.element,at("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new qre(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new zD],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const r=this.element.getBoundingClientRect(),o={top:r.top-i,left:r.left,height:r.height+2*i,width:r.width},s=this.submenuContainer.getBoundingClientRect(),{top:a,left:l}=this.calculateSubmenuMenuLayout(new Fa(window.innerWidth,window.innerHeight),Fa.lift(s),o,this.expandDirection);this.submenuContainer.style.left=`${l}px`,this.submenuContainer.style.top=`${a}px`,this.submenuDisposables.add(De(this.submenuContainer,it.KEY_UP,u=>{new ni(u).equals(15)&&(Cn.stop(u,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(De(this.submenuContainer,it.KEY_DOWN,u=>{new ni(u).equals(15)&&Cn.stop(u,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&((t=this.item)===null||t===void 0||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t?`${t}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class s2 extends bre{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}function pMe(n){const e=n4,t=e.exec(n);if(!t)return n;const i=!t[1];return n.replace(e,i?"$2$3":"").trim()}let j8=`
.monaco-menu {
	font-size: 13px;

}

${z8(Kre)}
${z8(jre)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 =  */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	opacity: 0.4;
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid #bbb;
	padding-top: 1px;
	margin-left: .8em;
	margin-right: .8em;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	padding: 0.5em 0 0 0;
	margin-bottom: 0.5em;
	width: 100%;
	height: 0px !important;
	margin-left: .8em !important;
	margin-right: .8em !important;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	border: thin solid transparent; /* prevents jumping behaviour on hover or focus */
}


/* High Contrast Theming */
:host-context(.hc-black) .context-view.monaco-menu-container {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .5em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 1.8em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	padding: 0.2em 0 0 0;
	margin-bottom: 0.2em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}

/* Arrows */
.monaco-scrollable-element > .scrollbar > .scra {
	cursor: pointer;
	font-size: 11px !important;
}

.monaco-scrollable-element > .visible {
	opacity: 1;

	/* Background rule added for IE9 - to allow clicks on dom node */
	background:rgba(0,0,0,0);

	transition: opacity 100ms linear;
}
.monaco-scrollable-element > .invisible {
	opacity: 0;
	pointer-events: none;
}
.monaco-scrollable-element > .invisible.fade {
	transition: opacity 800ms linear;
}

/* Scrollable Content Inset Shadow */
.monaco-scrollable-element > .shadow {
	position: absolute;
	display: none;
}
.monaco-scrollable-element > .shadow.top {
	display: block;
	top: 0;
	left: 3px;
	height: 3px;
	width: 100%;
	box-shadow: #DDD 0 6px 6px -6px inset;
}
.monaco-scrollable-element > .shadow.left {
	display: block;
	top: 3px;
	left: 0;
	height: 100%;
	width: 3px;
	box-shadow: #DDD 6px 0 6px -6px inset;
}
.monaco-scrollable-element > .shadow.top-left-corner {
	display: block;
	top: 0;
	left: 0;
	height: 3px;
	width: 3px;
}
.monaco-scrollable-element > .shadow.top.left {
	box-shadow: #DDD 6px 6px 6px -6px inset;
}

/* ---------- Default Style ---------- */

:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(100, 100, 100, .4);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(121, 121, 121, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {
	background: rgba(111, 195, 223, .6);
}

.monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(100, 100, 100, .7);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {
	background: rgba(111, 195, 223, .8);
}

.monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(0, 0, 0, .6);
}
:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(191, 191, 191, .4);
}
:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {
	background: rgba(111, 195, 223, 1);
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {
	box-shadow: #000 6px 0 6px -6px inset;
}

:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {
	box-shadow: #000 6px 6px 6px -6px inset;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.left {
	box-shadow: none;
}

:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {
	box-shadow: none;
}
`;function ka(n,e){const t=Object.create(null);for(let i in e){const r=e[i];r&&(t[i]=zu(r,n))}return t}function Yre(n,e,t){function i(){const r=ka(n.getColorTheme(),e);typeof t=="function"?t(r):t.style(r)}return i(),n.onDidColorThemeChange(i)}function Gv(n,e,t){return Yre(e,Object.assign(Object.assign({},cE),t||{}),n)}const cE={listFocusBackground:ILe,listFocusForeground:DLe,listFocusOutline:ELe,listActiveSelectionBackground:Zd,listActiveSelectionForeground:Qd,listActiveSelectionIconForeground:Nx,listFocusAndSelectionBackground:Zd,listFocusAndSelectionForeground:Qd,listInactiveSelectionBackground:MLe,listInactiveSelectionIconForeground:NLe,listInactiveSelectionForeground:ALe,listInactiveFocusBackground:kLe,listInactiveFocusOutline:PLe,listHoverBackground:OLe,listHoverForeground:RLe,listDropBackground:BLe,listSelectionOutline:Cs,listHoverOutline:Cs,listFilterWidgetBackground:FLe,listFilterWidgetOutline:$Le,listFilterWidgetNoMatchesOutline:VLe,listMatchesShadow:Bv,treeIndentGuidesStroke:WLe,tableColumnsBorder:zLe},mMe={shadowColor:Bv,borderColor:KLe,foregroundColor:jLe,backgroundColor:qLe,selectionForegroundColor:YLe,selectionBackgroundColor:XLe,selectionBorderColor:ZLe,separatorColor:QLe};function vMe(n,e,t){return Yre(e,Object.assign(Object.assign({},mMe),t),n)}class yMe{constructor(e,t,i,r,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=r,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;this.focusToReturn=document.activeElement;let i,r=Qte(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:o=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(o.className+=" "+s),this.options.blockMouse&&(this.block=o.appendChild(at(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",De(this.block,it.MOUSE_DOWN,u=>u.stopPropagation()));const a=new St,l=e.actionRunner||new C$;return l.onBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new qre(o,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:u=>this.keybindingService.lookupKeybinding(u.id)}),a.add(vMe(i,this.themeService)),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),a.add(De(window,it.BLUR,()=>this.contextViewService.hideContextView(!0))),a.add(De(window,it.MOUSE_DOWN,u=>{if(u.defaultPrevented)return;let c=new na(u),d=c.target;if(!c.rightButton){for(;d;){if(d===o)return;d=d.parentElement}this.contextViewService.hideContextView(!0)}})),Ym(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:o=>{e.onHide&&e.onHide(!!o),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},r,!!r)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!QS(e.error)&&this.notificationService.error(e.error)}}var _Me=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},h0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let r4=class extends Pe{constructor(e,t,i,r,o){super(),this.contextMenuHandler=new yMe(i,e,t,r,o)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),Em.getInstance().resetKeyStatus()}};r4=_Me([h0(0,YD),h0(1,pa),h0(2,gp),h0(3,oo),h0(4,zi)],r4);const dE=an("layoutService");var bMe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},SMe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let o4=class extends Pe{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=Pe.None,this.container=e.container,this.contextView=this._register(new Uv(this.container,1)),this.layout(),this._register(e.onDidLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const r=Tn(()=>{this.currentViewDisposable===r&&this.hideContextView()});return this.currentViewDisposable=r,r}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};o4=bMe([SMe(0,dE)],o4);const Xre=an("dialogService");let wMe=class{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}},CMe=class{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())t.outgoing.size===0&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),r=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),r),r.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let i of this._nodes.values())i.outgoing.delete(t),i.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new wMe(e),this._nodes.set(t,i)),i}isEmpty(){return this._nodes.size===0}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join(`
`)}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),r=this._findCycle(t,i);if(r)return r}}_findCycle(e,t){for(let[i,r]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const o=this._findCycle(r,t);if(o)return o;t.delete(i)}}};class q8 extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=(t=e.findCycleSlow())!==null&&t!==void 0?t:`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class BT{constructor(e=new Yb,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(Go,this)}createChild(e){return new BT(e,this._strict,this)}invokeFunction(e,...t){let i=Qs.traceInvocation(e),r=!1;try{return e({get:(s,a)=>{if(r)throw w_e("service accessor is only valid during the invocation of its target method");const l=this._getOrCreateServiceInstance(s,i);if(!l&&a!==Y_e)throw new Error(`[invokeFunction] unknown service '${s}'`);return l}},...t)}finally{r=!0,i.stop()}}createInstance(e,...t){let i,r;return e instanceof Sd?(i=Qs.traceCreation(e.ctor),r=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Qs.traceCreation(e),r=this._createInstance(e,t,i)),i.stop(),r}_createInstance(e,t=[],i){let r=Ha.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(const a of r){let l=this._getOrCreateServiceInstance(a.id,i);if(!l&&this._strict&&!a.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`);o.push(l)}let s=r.length>0?r[0].index:t.length;if(t.length!==s){console.warn(`[createInstance] First service dependency of ${e.name} at position ${s+1} conflicts with ${t.length} static arguments`);let a=s-t.length;a>0?t=t.concat(new Array(a)):t=t.slice(0,s)}return new e(...t,...o)}_setServiceInstance(e,t){if(this._services.get(e)instanceof Sd)this._services.set(e,t);else if(this._parent)this._parent._setServiceInstance(e,t);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof Sd?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const r=new CMe(a=>a.id.toString());let o=0;const s=[{id:e,desc:t,_trace:i}];for(;s.length;){const a=s.pop();if(r.lookupOrInsertNode(a),o++>1e3)throw new q8(r);for(let l of Ha.getServiceDependencies(a.desc.ctor)){let u=this._getServiceInstanceOrDescriptor(l.id);if(!u&&!l.optional&&console.warn(`[createInstance] ${e} depends on ${l.id} which is NOT registered.`),u instanceof Sd){const c={id:l.id,desc:u,_trace:a._trace.branch(l.id,!0)};r.insertEdge(a,c),s.push(c)}}}for(;;){const a=r.roots();if(a.length===0){if(!r.isEmpty())throw new q8(r);break}for(const{data:l}of a){if(this._getServiceInstanceOrDescriptor(l.id)instanceof Sd){const c=this._createServiceInstanceWithOwner(l.id,l.desc.ctor,l.desc.staticArguments,l.desc.supportsDelayedInstantiation,l._trace);this._setServiceInstance(l.id,c)}r.removeNode(l)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],r,o){if(this._services.get(e)instanceof Sd)return this._createServiceInstance(t,i,r,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,r,o);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,r){if(i){const o=new zte(()=>this._createInstance(e,t,r));return new Proxy(Object.create(null),{get(s,a){if(a in s)return s[a];let l=o.value,u=l[a];return typeof u!="function"||(u=u.bind(l),s[a]=u),u},set(s,a,l){return o.value[a]=l,!0}})}else return this._createInstance(e,t,r)}}class Qs{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return Qs._None}static traceCreation(e){return Qs._None}branch(e,t){let i=new Qs(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;Qs._totals+=e;let t=!1;function i(o,s){let a=[],l=new Array(o+1).join("	");for(const[u,c,d]of s._dep)if(c&&d){t=!0,a.push(`${l}CREATES -> ${u}`);let h=i(o+1,d);h&&a.push(h)}else a.push(`${l}uses -> ${u}`);return a.join(`
`)}let r=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${i(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Qs._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(r.join(`
`))}}Qs._None=new class extends Qs{constructor(){super(-1,null)}stop(){}branch(){return this}};Qs._totals=0;const xMe=an("labelService");class $h extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Y8(n,e){const t=[];for(let i of e){if(n.start>=i.range.end)continue;if(n.end<i.range.start)break;const r=cr.intersect(n,i.range);cr.isEmpty(r)||t.push({range:r,size:i.size})}return t}function s4({start:n,end:e},t){return{start:n+t,end:e+t}}function LMe(n){const e=[];let t=null;for(let i of n){const r=i.range.start,o=i.range.end,s=i.size;if(t&&s===t.size){t.range.end=o;continue}t={range:{start:r,end:o},size:s},e.push(t)}return e}function TMe(...n){return LMe(n.reduce((e,t)=>e.concat(t),[]))}class X8{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const r=i.length-t,o=Y8({start:0,end:e},this.groups),s=Y8({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:s4(l.range,r),size:l.size})),a=i.map((l,u)=>({range:{start:e+u,end:e+u+1},size:l.size}));this.groups=TMe(o,a,s),this._size=this.groups.reduce((l,u)=>l+u.size*(u.range.end-u.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let r of this.groups){const o=r.range.end-r.range.start,s=i+o*r.size;if(e<s)return t+Math.floor((e-i)/r.size);t+=o,i=s}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let r of this.groups){const o=r.range.end-r.range.start,s=i+o;if(e<s)return t+(e-i)*r.size;t+=o*r.size,i=s}return-1}}function IMe(n){try{n.parentElement&&n.parentElement.removeChild(n)}catch{}}class DMe{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=at(".monaco-list-row"),o=this.getRenderer(e).renderTemplate(i);t={domNode:i,templateId:e,templateData:o}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(t.classList.remove("scrolling"),IMe(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e)this.getRenderer(t).disposeTemplate(i.templateData),i.templateData=null}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var pp=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};const yl={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(n){return[n]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class fw{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class EMe{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class MMe{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}function AMe(n,e){return Array.isArray(n)&&Array.isArray(e)?fc(n,e):n===e}class NMe{constructor(e){e!=null&&e.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(t,i,r)=>r,e!=null&&e.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(t,i)=>i+1,e!=null&&e.getRole?this.getRole=e.getRole.bind(e):this.getRole=t=>"listitem",e!=null&&e.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=t=>{}}}class cl{constructor(e,t,i,r=yl){if(this.virtualDelegate=t,this.domId=`list_id_${++cl.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new nw(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Pe.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Pe.None,this.onDragLeaveTimeout=Pe.None,this.disposables=new St,this._onDidChangeContentHeight=new ae,this._horizontalScrolling=!1,r.horizontalScrolling&&r.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new X8;for(const s of i)this.renderers.set(s.templateId,s);this.cache=this.disposables.add(new DMe(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof r.mouseSupport=="boolean"?r.mouseSupport:!0),this._horizontalScrolling=vl(r,s=>s.horizontalScrolling,yl.horizontalScrolling),this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof r.additionalScrollHeight>"u"?0:r.additionalScrollHeight,this.accessibilityProvider=new NMe(r.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",vl(r,s=>s.transformOptimization,yl.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(bn.addTarget(this.rowsContainer)),this.scrollable=new rE(vl(r,s=>s.smoothScrolling,!1)?125:0,s=>iu(s)),this.scrollableElement=this.disposables.add(new H$(this.rowsContainer,{alwaysConsumeMouseWheel:vl(r,s=>s.alwaysConsumeMouseWheel,yl.alwaysConsumeMouseWheel),horizontal:1,vertical:vl(r,s=>s.verticalScrollMode,yl.verticalScrollMode),useShadows:vl(r,s=>s.useShadows,yl.useShadows),mouseWheelScrollSensitivity:r.mouseWheelScrollSensitivity,fastScrollSensitivity:r.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(De(this.rowsContainer,Vn.Change,s=>this.onTouchChange(s))),this.disposables.add(De(this.scrollableElement.getDomNode(),"scroll",s=>s.target.scrollTop=0)),this.disposables.add(De(this.domNode,"dragover",s=>this.onDragOver(this.toDragEvent(s)))),this.disposables.add(De(this.domNode,"drop",s=>this.onDrop(this.toDragEvent(s)))),this.disposables.add(De(this.domNode,"dragleave",s=>this.onDragLeave(this.toDragEvent(s)))),this.disposables.add(De(this.domNode,"dragend",s=>this.onDragEnd(s))),this.setRowLineHeight=vl(r,s=>s.setRowLineHeight,yl.setRowLineHeight),this.setRowHeight=vl(r,s=>s.setRowHeight,yl.setRowHeight),this.supportDynamicHeights=vl(r,s=>s.supportDynamicHeights,yl.supportDynamicHeights),this.dnd=vl(r,s=>s.dnd,yl.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const t of this.items)this.measureItemWidth(t);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:rA(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=e.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling),e.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:e.fastScrollSensitivity})}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+t},s=cr.intersect(r,o),a=new Map;for(let w=s.start;w<s.end;w++){const C=this.items[w];if(C.dragStartDisposable.dispose(),C.row){let x=a.get(C.templateId);x||(x=[],a.set(C.templateId,x));const L=this.renderers.get(C.templateId);L&&L.disposeElement&&L.disposeElement(C.element,w,C.row.templateData,C.size),x.push(C.row)}C.row=null}const l={start:e+t,end:this.items.length},u=cr.intersect(l,r),c=cr.relativeComplement(l,r),d=i.map(w=>({id:String(this.itemId++),element:w,templateId:this.virtualDelegate.getTemplateId(w),size:this.virtualDelegate.getHeight(w),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(w),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Pe.None}));let h;e===0&&t>=this.items.length?(this.rangeMap=new X8,this.rangeMap.splice(0,0,d),h=this.items,this.items=d):(this.rangeMap.splice(e,t,d),h=this.items.splice(e,t,...d));const f=i.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),p=s4(u,f),m=cr.intersect(g,p);for(let w=m.start;w<m.end;w++)this.updateItemInDOM(this.items[w],w);const v=cr.relativeComplement(p,g);for(const w of v)for(let C=w.start;C<w.end;C++)this.removeItemFromDOM(C);const y=c.map(w=>s4(w,f)),b=[{start:e,end:e+i.length},...y].map(w=>cr.intersect(g,w)),S=this.getNextToLastElement(b);for(const w of b)for(let C=w.start;C<w.end;C++){const x=this.items[C],L=a.get(x.templateId),T=L==null?void 0:L.pop();this.insertItemInDOM(C,S,T)}for(const w of a.values())for(const C of w)this.cache.release(C);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(w=>w.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=iu(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)typeof t.width<"u"&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:typeof e=="number"?e:wbe(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),typeof t<"u"&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof t=="number"?t:rA(this.domNode)})}render(e,t,i,r,o,s=!1){const a=this.getRenderRange(t,i),l=cr.relativeComplement(a,e),u=cr.relativeComplement(e,a),c=this.getNextToLastElement(l);if(s){const d=cr.intersect(e,a);for(let h=d.start;h<d.end;h++)this.updateItemInDOM(this.items[h],h)}for(const d of l)for(let h=d.start;h<d.end;h++)this.insertItemInDOM(h,c);for(const d of u)for(let h=d.start;h<d.end;h++)this.removeItemFromDOM(h);r!==void 0&&(this.rowsContainer.style.left=`-${r}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t,i){const r=this.items[e];r.row||(r.row=i??this.cache.alloc(r.templateId));const o=this.accessibilityProvider.getRole(r.element)||"listitem";r.row.domNode.setAttribute("role",o);const s=this.accessibilityProvider.isChecked(r.element);typeof s<"u"&&r.row.domNode.setAttribute("aria-checked",String(!!s)),r.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(r.row.domNode,t):this.rowsContainer.appendChild(r.row.domNode)),this.updateItemInDOM(r,e);const a=this.renderers.get(r.templateId);if(!a)throw new Error(`No renderer found for template id ${r.templateId}`);a&&a.renderElement(r.element,e,r.row.templateData,r.size);const l=this.dnd.getDragURI(r.element);r.dragStartDisposable.dispose(),r.row.domNode.draggable=!!l,l&&(r.dragStartDisposable=De(r.row.domNode,"dragstart",u=>this.onDragStart(r.element,l,u))),this.horizontalScrolling&&(this.measureItemWidth(r),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=eo?"-moz-fit-content":"fit-content",e.width=rA(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];if(t.dragStartDisposable.dispose(),t.row){const i=this.renderers.get(t.templateId);i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,t){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:t})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return Ze.map(this.disposables.add(new Mn(this.domNode,"click")).event,e=>this.toMouseEvent(e))}get onMouseDblClick(){return Ze.map(this.disposables.add(new Mn(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return Ze.filter(Ze.map(this.disposables.add(new Mn(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e)),e=>e.browserEvent.button===1)}get onMouseDown(){return Ze.map(this.disposables.add(new Mn(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e))}get onContextMenu(){return Ze.any(Ze.map(this.disposables.add(new Mn(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e)),Ze.map(this.disposables.add(new Mn(this.domNode,Vn.Contextmenu)).event,e=>this.toGestureEvent(e)))}get onTouchStart(){return Ze.map(this.disposables.add(new Mn(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e))}get onTap(){return Ze.map(this.disposables.add(new Mn(this.rowsContainer,Vn.Tap)).event,e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=typeof t>"u"?void 0:this.items[t],r=i&&i.element;return{browserEvent:e,index:t,element:r}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const r=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(_re.TEXT,t),i.dataTransfer.setDragImage){let o;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(r,i)),typeof o>"u"&&(o=String(r.length));const s=at(".monaco-drag-image");s.textContent=o,document.body.appendChild(s),i.dataTransfer.setDragImage(s,-10,-10),setTimeout(()=>document.body.removeChild(s),0)}this.currentDragData=new fw(r),Hu.CurrentDragAndDropData=new EMe(r),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Hu.CurrentDragAndDropData&&Hu.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Hu.CurrentDragAndDropData)this.currentDragData=Hu.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new MMe}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop=typeof t=="boolean"?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof t!="boolean"&&t.effect===0?"copy":"move";let i;if(typeof t!="boolean"&&t.feedback?i=t.feedback:typeof e.index>"u"?i=[-1]:i=[e.index],i=Nne(i).filter(r=>r>=-1&&r<this.length).sort((r,o)=>r-o),i=i[0]===-1?[-1]:i,AMe(this.currentDragFeedback,i))return!0;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),i[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=Tn(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const r of i){const o=this.items[r];o.dropTarget=!0,o.row&&o.row.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=Tn(()=>{for(const r of i){const o=this.items[r];o.dropTarget=!1,o.row&&o.row.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(e){var t,i;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=HO(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((i=(t=this.dnd).onDragLeave)===null||i===void 0||i.call(t,this.currentDragData,e.element,e.index,e.browserEvent))}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Hu.CurrentDragAndDropData=void 0,!(!t||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,Hu.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Pe.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const t=jte(this.domNode).top;this.dragOverAnimationDisposable=Ebe(this.animateDragAndDropScrollTop.bind(this,t))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=HO(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const r=i.getAttribute("data-index");if(r){const o=Number(r);if(!isNaN(o))return o}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t,i){const r=this.getRenderRange(e,t);let o,s;e===this.elementTop(r.start)?(o=r.start,s=0):r.end-r.start>1&&(o=r.start+1,s=this.elementTop(o)-e);let a=0;for(;;){const l=this.getRenderRange(e,t);let u=!1;for(let c=l.start;c<l.end;c++){const d=this.probeDynamicHeight(c);d!==0&&this.rangeMap.splice(c,1,[this.items[c]]),a+=d,u=u||d!==0}if(!u){a!==0&&this.eventuallyUpdateScrollDimensions();const c=cr.relativeComplement(r,l);for(const h of c)for(let f=h.start;f<h.end;f++)this.items[f].row&&this.removeItemFromDOM(f);const d=cr.relativeComplement(l,r);for(const h of d)for(let f=h.start;f<h.end;f++){const g=f+1,p=g<this.items.length?this.items[g].row:null,m=p?p.domNode:null;this.insertItemInDOM(f,m)}for(let h=l.start;h<l.end;h++)this.items[h].row&&this.updateItemInDOM(this.items[h],h);if(typeof o=="number"){const h=this.scrollable.getFutureScrollPosition().scrollTop-e,f=this.elementTop(o)-s+h;this.setScrollTop(f,i)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){const t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row){let s=t.row.domNode.offsetHeight;return t.size=s,t.lastDynamicHeightWidth=this.renderWidth,s-i}const r=this.cache.alloc(t.templateId);r.domNode.style.height="",this.rowsContainer.appendChild(r.domNode);const o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,r.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,r.templateData,void 0)),t.size=r.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(r.domNode),this.cache.release(r),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return!i||!i.row?null:i.row.domNode}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&(t.disposeElement&&t.disposeElement(e.element,-1,e.row.templateData,void 0),t.disposeTemplate(e.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Bn(this.disposables)}}cl.InstanceCount=0;pp([yi],cl.prototype,"onMouseClick",null);pp([yi],cl.prototype,"onMouseDblClick",null);pp([yi],cl.prototype,"onMouseMiddleClick",null);pp([yi],cl.prototype,"onMouseDown",null);pp([yi],cl.prototype,"onContextMenu",null);pp([yi],cl.prototype,"onTouchStart",null);pp([yi],cl.prototype,"onTap",null);class kMe{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(r=>r.splice(e,t,i))}}var mp=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Z8=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class PMe{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const r=this.renderedElements.findIndex(o=>o.templateData===i);if(r>=0){const o=this.renderedElements[r];this.trait.unrender(i),o.index=t}else{const o={index:t,templateData:i};this.renderedElements.push(o)}this.trait.renderIndex(t,i)}splice(e,t,i){const r=[];for(const o of this.renderedElements)o.index<e?r.push(o):o.index>=e+t&&r.push({index:o.index+i-t,templateData:o.templateData});this.renderedElements=r}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=this.renderedElements.findIndex(i=>i.templateData===e);t<0||this.renderedElements.splice(t,1)}}let FT=class{constructor(e){this._trait=e,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new ae,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new PMe(this)}splice(e,t,i){var r;t=Math.max(0,Math.min(t,this.length-e));const o=i.length-t,s=e+t,a=[...this.sortedIndexes.filter(u=>u<e),...i.map((u,c)=>u?c+e:-1).filter(u=>u!==-1),...this.sortedIndexes.filter(u=>u>=s).map(u=>u+o)],l=this.length+o;if(this.sortedIndexes.length>0&&a.length===0&&l>0){const u=(r=this.sortedIndexes.find(c=>c>=e))!==null&&r!==void 0?r:l-1;a.push(Math.min(u,l-1))}this.renderer.splice(e,t,i.length),this._set(a,a),this.length=l}renderIndex(e,t){t.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,t){return this._set(e,[...e].sort(J8),t)}_set(e,t,i){const r=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const s=a4(o,e);return this.renderer.renderIndexes(s),this._onChange.fire({indexes:e,browserEvent:i}),r}get(){return this.indexes}contains(e){return kwe(this.sortedIndexes,e,J8)>=0}dispose(){Bn(this._onChange)}};mp([yi],FT.prototype,"renderer",null);class OMe extends FT{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class a2{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const r=this.trait.get().map(s=>this.identityProvider.getId(this.view.element(s)).toString()),o=i.map(s=>r.indexOf(this.identityProvider.getId(s).toString())>-1);this.trait.splice(e,t,o)}}function dh(n){return n.tagName==="INPUT"||n.tagName==="TEXTAREA"}function Rm(n){return n.classList.contains("monaco-editor")?!0:n.classList.contains("monaco-list")||!n.parentElement?!1:Rm(n.parentElement)}class Zre{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new St,this.multipleSelectionDisposables=new St,this.onKeyDown.filter(r=>r.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(r=>r.keyCode===9).on(this.onEscape,this,this.disposables),i.multipleSelectionSupport!==!1&&this.onKeyDown.filter(r=>(Qt?r.metaKey:r.ctrlKey)&&r.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return Ze.chain(this.disposables.add(new Mn(this.view.domNode,"keydown")).event).filter(e=>!dh(e.target)).map(e=>new ni(e))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),e.multipleSelectionSupport&&this.onKeyDown.filter(t=>(Qt?t.metaKey:t.ctrlKey)&&t.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Nr(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}mp([yi],Zre.prototype,"onKeyDown",null);var Bm;(function(n){n[n.Idle=0]="Idle",n[n.Typing=1]="Typing"})(Bm||(Bm={}));const Qre=new class{mightProducePrintableCharacter(n){return n.ctrlKey||n.metaKey||n.altKey?!1:n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30||n.keyCode>=93&&n.keyCode<=102||n.keyCode>=80&&n.keyCode<=90}};class RMe{constructor(e,t,i,r){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=r,this.enabled=!1,this.state=Bm.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new St,this.disposables=new St,this.updateOptions(e.options)}updateOptions(e){(typeof e.enableKeyboardNavigation>"u"?!0:!!e.enableKeyboardNavigation)?this.enable():this.disable(),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=Ze.chain(this.enabledDisposables.add(new Mn(this.view.domNode,"keydown")).event).filter(r=>!dh(r.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(r=>new ni(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>{r.stopPropagation(),r.preventDefault()}).map(r=>r.browserEvent.key).event,t=Ze.debounce(e,()=>null,800);Ze.reduce(Ze.any(e,t),(r,o)=>o===null?null:(r||"")+o)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=(e=this.list.options.accessibilityProvider)===null||e===void 0?void 0:e.getAriaLabel(this.list.element(t[0]));i&&WD(i)}this.previouslyFocused=-1}onInput(e){if(!e){this.state=Bm.Idle,this.triggered=!1;return}const t=this.list.getFocus(),i=t.length>0?t[0]:0,r=this.state===Bm.Idle?1:0;this.state=Bm.Typing;for(let o=0;o<this.list.length;o++){const s=(i+o+r)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(s)),l=a&&a.toString();if(typeof l>"u"||s3(e,l)){this.previouslyFocused=i,this.list.setFocus([s]),this.list.reveal(s);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class BMe{constructor(e,t){this.list=e,this.view=t,this.disposables=new St,Ze.chain(this.disposables.add(new Mn(t.domNode,"keydown")).event).filter(r=>!dh(r.target)).map(r=>new ni(r)).filter(r=>r.keyCode===2&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(t.length===0)return;const i=this.view.domElement(t[0]);if(!i)return;const r=i.querySelector("[tabIndex]");if(!r||!(r instanceof HTMLElement)||r.tabIndex===-1)return;const o=window.getComputedStyle(r);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),r.focus())}dispose(){this.disposables.dispose()}}function Jre(n){return Qt?n.browserEvent.metaKey:n.browserEvent.ctrlKey}function eoe(n){return n.browserEvent.shiftKey}function FMe(n){return n instanceof MouseEvent&&n.button===2}const Q8={isSelectionSingleChangeEvent:Jre,isSelectionRangeChangeEvent:eoe};class toe{constructor(e){this.list=e,this.disposables=new St,this._onPointer=new ae,this.onPointer=this._onPointer.event,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Q8),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(bn.addTarget(e.getHTMLElement()))),Ze.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||Q8))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Rm(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Rm(e.browserEvent.target))return;const t=typeof e.index>"u"?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||dh(e.browserEvent.target)||Rm(e.browserEvent.target))return;const t=e.index;if(typeof t>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(e))return this.changeSelection(e);if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([t],e.browserEvent),this.list.setAnchor(t),FMe(e.browserEvent)||this.list.setSelection([t],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(dh(e.browserEvent.target)||Rm(e.browserEvent.target)||this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e){const t=e.index;let i=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){if(typeof i>"u"){const c=this.list.getFocus()[0];i=c??t,this.list.setAnchor(i)}const r=Math.min(i,t),o=Math.max(i,t),s=Nr(r,o+1),a=this.list.getSelection(),l=WMe(a4(a,[i]),i);if(l.length===0)return;const u=a4(s,zMe(a,l));this.list.setSelection(u,e.browserEvent),this.list.setFocus([t],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const r=this.list.getSelection(),o=r.filter(s=>s!==t);this.list.setFocus([t]),this.list.setAnchor(t),r.length===o.length?this.list.setSelection([...o,t],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class noe{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):Qt||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&i.push(`.monaco-list${t} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; }`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`
				.monaco-drag-image,
				.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`
				.monaco-list${t}.drop-target,
				.monaco-list${t} .monaco-list-rows.drop-target,
				.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }
			`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`),e.tableColumnsBorder&&i.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
			}`),this.styleElement.textContent=i.join(`
`)}}const $Me={listFocusBackground:_e.fromHex("#7FB0D0"),listActiveSelectionBackground:_e.fromHex("#0E639C"),listActiveSelectionForeground:_e.fromHex("#FFFFFF"),listActiveSelectionIconForeground:_e.fromHex("#FFFFFF"),listFocusAndSelectionBackground:_e.fromHex("#094771"),listFocusAndSelectionForeground:_e.fromHex("#FFFFFF"),listInactiveSelectionBackground:_e.fromHex("#3F3F46"),listInactiveSelectionIconForeground:_e.fromHex("#FFFFFF"),listHoverBackground:_e.fromHex("#2A2D2E"),listDropBackground:_e.fromHex("#383B3D"),treeIndentGuidesStroke:_e.fromHex("#a9a9a9"),tableColumnsBorder:_e.fromHex("#cccccc").transparent(.2)},VMe={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function WMe(n,e){const t=n.indexOf(e);if(t===-1)return[];const i=[];let r=t-1;for(;r>=0&&n[r]===e-(t-r);)i.push(n[r--]);for(i.reverse(),r=t;r<n.length&&n[r]===e+(r-t);)i.push(n[r++]);return i}function a4(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){t.push(n[i]),i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):t.push(e[r++]);return t}function zMe(n,e){const t=[];let i=0,r=0;for(;i<n.length||r<e.length;)if(i>=n.length)t.push(e[r++]);else if(r>=e.length)t.push(n[i++]);else if(n[i]===e[r]){i++,r++;continue}else n[i]<e[r]?t.push(n[i++]):r++;return t}const J8=(n,e)=>n-e;class HMe{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,r){let o=0;for(const s of this.renderers)s.renderElement(e,t,i[o++],r)}disposeElement(e,t,i,r){let o=0;for(const s of this.renderers)s.disposeElement&&s.disposeElement(e,t,i[o],r),o+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class UMe{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const r=this.accessibilityProvider.getAriaLabel(e);r?i.setAttribute("aria-label",r):i.removeAttribute("aria-label");const o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof o=="number"?i.setAttribute("aria-level",`${o}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class GMe{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,r){return this.dnd.onDragOver(e,t,i,r)}onDragLeave(e,t,i,r){var o,s;(s=(o=this.dnd).onDragLeave)===null||s===void 0||s.call(o,e,t,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,r){this.dnd.drop(e,t,i,r)}}let Wc=class{constructor(e,t,i,r,o=VMe){var s;this.user=e,this._options=o,this.focus=new FT("focused"),this.anchor=new FT("anchor"),this.eventBufferer=new GF,this._ariaLabel="",this.disposables=new St,this._onDidDispose=new ae,this.onDidDispose=this._onDidDispose.event;const a=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(s=this._options.accessibilityProvider)===null||s===void 0?void 0:s.getWidgetRole():"list";this.selection=new OMe(a!=="listbox"),Lh(o,$Me,!1);const l=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(l.push(new UMe(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),r=r.map(c=>new HMe(c.templateId,[...l,c]));const u=Object.assign(Object.assign({},o),{dnd:o.dnd&&new GMe(this,o.dnd)});if(this.view=new cl(t,i,r,u),this.view.domNode.setAttribute("role",a),o.styleController)this.styleController=o.styleController(this.view.domId);else{const c=ws(this.view.domNode);this.styleController=new noe(c,this.view.domId)}if(this.spliceable=new kMe([new a2(this.focus,this.view,o.identityProvider),new a2(this.selection,this.view,o.identityProvider),new a2(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new BMe(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new Zre(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const c=o.keyboardNavigationDelegate||Qre;this.typeLabelController=new RMe(this,this.view,o.keyboardNavigationLabelProvider,c),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return Ze.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return Ze.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const t=Ze.chain(this.disposables.add(new Mn(this.view.domNode,"keydown")).event).map(o=>new ni(o)).filter(o=>e=o.keyCode===58||o.shiftKey&&o.keyCode===68).map(T8).filter(()=>!1).event,i=Ze.chain(this.disposables.add(new Mn(this.view.domNode,"keyup")).event).forEach(()=>e=!1).map(o=>new ni(o)).filter(o=>o.keyCode===58||o.shiftKey&&o.keyCode===68).map(T8).map(({browserEvent:o})=>{const s=this.getFocus(),a=s.length?s[0]:void 0,l=typeof a<"u"?this.view.element(a):void 0,u=typeof a<"u"?this.view.domElement(a):this.view.domNode;return{index:a,element:l,anchor:u,browserEvent:o}}).event,r=Ze.chain(this.view.onContextMenu).filter(o=>!e).map(({element:o,index:s,browserEvent:a})=>({element:o,index:s,anchor:{x:a.pageX+1,y:a.pageY},browserEvent:a})).event;return Ze.any(t,i,r)}get onKeyDown(){return this.disposables.add(new Mn(this.view.domNode,"keydown")).event}get onDidFocus(){return Ze.signal(this.disposables.add(new Mn(this.view.domNode,"focus",!0)).event)}createMouseController(e){return new toe(this)}updateOptions(e={}){var t;this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),(t=this.keyboardController)===null||t===void 0||t.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new $h(this.user,`Invalid start index: ${e}`);if(t<0)throw new $h(this.user,`Invalid delete count: ${t}`);t===0&&i.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const i of e)if(i<0||i>=this.length)throw new $h(this.user,`Invalid index ${i}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new $h(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return vR(this.anchor.get(),void 0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,t){for(const i of e)if(i<0||i>=this.length)throw new $h(this.user,`Invalid index ${i}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,r){if(this.length===0)return;const o=this.focus.get(),s=this.findNextIndex(o.length>0?o[0]+e:0,t,r);s>-1&&this.setFocus([s],i)}focusPrevious(e=1,t=!1,i,r){if(this.length===0)return;const o=this.focus.get(),s=this.findPreviousIndex(o.length>0?o[0]-e:0,t,r);s>-1&&this.setFocus([s],i)}focusNextPage(e,t){return Z8(this,void 0,void 0,function*(){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=i===0?0:i-1;const r=this.view.element(i),o=this.getFocusedElements()[0];if(o!==r){const s=this.findPreviousIndex(i,!1,t);s>-1&&o!==this.view.element(s)?this.setFocus([s],e):this.setFocus([i],e)}else{const s=this.view.getScrollTop();this.view.setScrollTop(s+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==s&&(this.setFocus([]),yield Eb(0),yield this.focusNextPage(e,t))}})}focusPreviousPage(e,t){return Z8(this,void 0,void 0,function*(){let i;const r=this.view.getScrollTop();r===0?i=this.view.indexAt(r):i=this.view.indexAfter(r-1);const o=this.view.element(i),s=this.getFocusedElements()[0];if(s!==o){const a=this.findNextIndex(i,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([i],e)}else{const a=r;this.view.setScrollTop(r-this.view.renderHeight),this.view.getScrollTop()!==a&&(this.setFocus([]),yield Eb(0),yield this.focusPreviousPage(e,t))}})}focusLast(e,t){if(this.length===0)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(this.length===0)return;const r=this.findNextIndex(e,!1,i);r>-1&&this.setFocus([r],t)}findNextIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e>=this.length&&!t)return-1;if(e=e%this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let r=0;r<this.length;r++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new $h(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),r=this.view.elementTop(e),o=this.view.elementHeight(e);if(ow(t)){const s=o-this.view.renderHeight;this.view.setScrollTop(s*Ea(t,0,1)+r)}else{const s=r+o,a=i+this.view.renderHeight;r<i&&s>=a||(r<i||s>=a&&o>=this.view.renderHeight?this.view.setScrollTop(r):s>=a&&this.view.setScrollTop(s-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new $h(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),r=this.view.elementHeight(e);if(i<t||i+r>t+this.view.renderHeight)return null;const o=r-this.view.renderHeight;return Math.abs((t-i)/o)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(i=>this.view.element(i)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;!((e=this.accessibilityProvider)===null||e===void 0)&&e.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}};mp([yi],Wc.prototype,"onDidChangeFocus",null);mp([yi],Wc.prototype,"onDidChangeSelection",null);mp([yi],Wc.prototype,"onContextMenu",null);mp([yi],Wc.prototype,"onKeyDown",null);mp([yi],Wc.prototype,"onDidFocus",null);class KMe{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:Pe.None}}renderElement(e,t,i,r){if(i.disposable&&i.disposable.dispose(),!i.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,i.data,r);const s=new _y,a=o.resolve(e,s.token);i.disposable={dispose:()=>s.cancel()},this.renderer.renderPlaceholder(e,i.data),a.then(l=>this.renderer.renderElement(l,e,i.data,r))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class jMe{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}function qMe(n,e){return Object.assign(Object.assign({},e),{accessibilityProvider:e.accessibilityProvider&&new jMe(n,e.accessibilityProvider)})}class YMe{constructor(e,t,i,r,o={}){const s=()=>this.model,a=r.map(l=>new KMe(l,s));this.list=new Wc(e,t,i,a,qMe(s,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return Ze.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return Ze.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:e===void 0?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeSelection(){return Ze.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(r=>this._model.get(r)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Nr(e.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}style(e){this.list.style(e)}dispose(){this.list.dispose()}}new ht("isWindows",zo,E("isWindows","Whether the operating system is Windows"));const XMe="inputFocus";var Y_;(function(n){n[n.Unknown=0]="Unknown",n[n.Twistie=1]="Twistie",n[n.Element=2]="Element"})(Y_||(Y_={}));class cs extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class d3{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function h3(n){return typeof n=="object"&&"visibility"in n&&"data"in n}function Qb(n){switch(n){case!0:return 1;case!1:return 0;default:return n}}function l2(n){return typeof n.collapsible=="boolean"}class ZMe{constructor(e,t,i,r={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new GF,this._onDidChangeCollapseState=new ae,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ae,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ae,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=typeof r.collapseByDefault>"u"?!1:r.collapseByDefault,this.filter=r.filter,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=At.empty(),r={}){if(e.length===0)throw new cs(this.user,"Invalid tree location");r.diffIdentityProvider?this.spliceSmart(r.diffIdentityProvider,e,t,i,r):this.spliceSimple(e,t,i,r)}spliceSmart(e,t,i,r,o,s){var a;r===void 0&&(r=At.empty()),s===void 0&&(s=(a=o.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:l}=this.getParentNodeWithListIndex(t),u=[...r],c=t[t.length-1],d=new oc({getElements:()=>l.children.map(m=>e.getId(m.element).toString())},{getElements:()=>[...l.children.slice(0,c),...u,...l.children.slice(c+i)].map(m=>e.getId(m.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return this.spliceSimple(t,i,u,o);const h=t.slice(0,-1),f=(m,v,y)=>{if(s>0)for(let _=0;_<y;_++)m--,v--,this.spliceSmart(e,[...h,m,0],Number.MAX_SAFE_INTEGER,u[v].children,o,s-1)};let g=Math.min(l.children.length,c+i),p=u.length;for(const m of d.changes.sort((v,y)=>y.originalStart-v.originalStart))f(g,p,g-(m.originalStart+m.originalLength)),g=m.originalStart,p=m.modifiedStart-c,this.spliceSimple([...h,g],m.originalLength,At.slice(u,p,p+m.modifiedLength),o);f(g,p,g)}spliceSimple(e,t,i=At.empty(),{onDidCreateNode:r,onDidDeleteNode:o}){const{parentNode:s,listIndex:a,revealed:l,visible:u}=this.getParentNodeWithListIndex(e),c=[],d=At.map(i,w=>this.createTreeNode(w,s,s.visible?1:0,l,c,r)),h=e[e.length-1],f=s.children.length>0;let g=0;for(let w=h;w>=0&&w<s.children.length;w--){const C=s.children[w];if(C.visible){g=C.visibleChildIndex;break}}const p=[];let m=0,v=0;for(const w of d)p.push(w),v+=w.renderNodeCount,w.visible&&(w.visibleChildIndex=g+m++);const y=Fwe(s.children,h,t,p);let _=0;for(const w of y)w.visible&&_++;if(_!==0)for(let w=h+p.length;w<s.children.length;w++){const C=s.children[w];C.visible&&(C.visibleChildIndex-=_)}if(s.visibleChildrenCount+=m-_,l&&u){const w=y.reduce((C,x)=>C+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(s,v-w),this.list.splice(a,w,c)}if(y.length>0&&o){const w=C=>{o(C),C.children.forEach(w)};y.forEach(w)}const b=s.children.length>0;f!==b&&this.setCollapsible(e.slice(0,-1),b),this._onDidSplice.fire({insertedNodes:p,deletedNodes:y});let S=s;for(;S;){if(S.visibility===2){this.refilter();break}S=S.parent}}rerender(e){if(e.length===0)throw new cs(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:r}=this.getTreeNodeWithListIndex(e);t.visible&&r&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:r}=this.getTreeNodeWithListIndex(e);return i&&r?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);typeof t>"u"&&(t=!i.collapsible);const r={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const r=this.getTreeNode(e);typeof t>"u"&&(t=!r.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,t){const{node:i,listIndex:r,revealed:o}=this.getTreeNodeWithListIndex(e),s=this._setListNodeCollapseState(i,r,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!l2(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let a=-1;for(let l=0;l<i.children.length;l++)if(i.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],t)}return s}_setListNodeCollapseState(e,t,i,r){const o=this._setNodeCollapseState(e,r,!1);if(!i||!e.visible||!o)return o;const s=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=s-(t===-1?0:1);return this.list.splice(t+1,l,a.slice(1)),o}_setNodeCollapseState(e,t,i){let r;if(e===this.root?r=!1:(l2(t)?(r=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(r=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):r=!1,r&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!l2(t)&&t.recursive)for(const o of e.children)r=this._setNodeCollapseState(o,t,!0)||r;return r}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,r,o,s){const a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},l=this._filterNode(a,i);a.visibility=l,r&&o.push(a);const u=e.children||At.empty(),c=r&&l!==0&&!a.collapsed,d=At.map(u,g=>this.createTreeNode(g,a,l,c,o,s));let h=0,f=1;for(const g of d)a.children.push(g),f+=g.renderNodeCount,g.visible&&(g.visibleChildIndex=h++);return a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=h,a.visible=l===2?h>0:l===1,a.visible?a.collapsed||(a.renderNodeCount=f):(a.renderNodeCount=0,r&&o.pop()),s&&s(a),a}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(e.visible===!1)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,r=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),o===0)return e.visible=!1,e.renderNodeCount=0,!1;r&&i.push(e)}const s=i.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==0){let l=0;for(const u of e.children)a=this._updateNodeAfterFilterChange(u,o,i,r&&!e.collapsed)||a,u.visible&&(u.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===2?a:o===1),e.visible?e.collapsed||(e.renderNodeCount+=i.length-s):(e.renderNodeCount=0,r&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(t!==0)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return typeof i=="boolean"?(e.filterData=void 0,i?1:0):h3(i)?(e.filterData=i.data,Qb(i.visibility)):(e.filterData=void 0,Qb(i))}hasTreeNode(e,t=this.root){if(!e||e.length===0)return!0;const[i,...r]=e;return i<0||i>t.children.length?!1:this.hasTreeNode(r,t.children[i])}getTreeNode(e,t=this.root){if(!e||e.length===0)return t;const[i,...r]=e;if(i<0||i>t.children.length)throw new cs(this.user,"Invalid tree location");return this.getTreeNode(r,t.children[i])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:r,visible:o}=this.getParentNodeWithListIndex(e),s=e[e.length-1];if(s<0||s>t.children.length)throw new cs(this.user,"Invalid tree location");const a=t.children[s];return{node:a,listIndex:i,revealed:r,visible:o&&a.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,r=!0,o=!0){const[s,...a]=e;if(s<0||s>t.children.length)throw new cs(this.user,"Invalid tree location");for(let l=0;l<s;l++)i+=t.children[l].renderNodeCount;return r=r&&!t.collapsed,o=o&&t.visible,a.length===0?{parentNode:t,listIndex:i,revealed:r,visible:o}:this.getParentNodeWithListIndex(a,t.children[s],i+1,r,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Nwe(e)[0]}}const e9=ga("tree-item-expanded",sn.chevronDown),t9=ga("tree-filter-on-type-on",sn.listFilter),n9=ga("tree-filter-on-type-off",sn.listSelection),QMe=ga("tree-filter-clear",sn.close),$T=ga("tree-item-loading",sn.loading);class JMe extends fw{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function u2(n){return n instanceof fw?new JMe(n):n}class eAe{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Pe.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(u2(e),t)}onDragOver(e,t,i,r,o=!0){const s=this.dnd.onDragOver(u2(e),t&&t.element,i,r),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),typeof t>"u")return s;if(a&&typeof s!="boolean"&&s.autoExpand&&(this.autoExpandDisposable=HO(()=>{const h=this.modelProvider(),f=h.getNodeLocation(t);h.isCollapsed(f)&&h.setCollapsed(f,!1),this.autoExpandNode=void 0},500)),typeof s=="boolean"||!s.accept||typeof s.bubble>"u"||s.feedback){if(!o){const h=typeof s=="boolean"?s:s.accept,f=typeof s=="boolean"?void 0:s.effect;return{accept:h,effect:f,feedback:[i]}}return s}if(s.bubble===1){const h=this.modelProvider(),f=h.getNodeLocation(t),g=h.getParentNodeLocation(f),p=h.getNode(g),m=g&&h.getListIndex(g);return this.onDragOver(e,p,m,r,!1)}const l=this.modelProvider(),u=l.getNodeLocation(t),c=l.getListIndex(u),d=l.getListRenderCount(u);return Object.assign(Object.assign({},s),{feedback:Nr(c,c+d)})}drop(e,t,i,r){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(u2(e),t&&t.element,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function tAe(n,e){return e&&Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new eAe(n,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},isSelectionRangeChangeEvent(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getSetSize(t){const i=n(),r=i.getNodeLocation(t),o=i.getParentNodeLocation(r);return i.getNode(o).visibleChildrenCount},getPosInSet(t){return t.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?t=>e.accessibilityProvider.isChecked(t.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",getAriaLabel(t){return e.accessibilityProvider.getAriaLabel(t.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?t=>e.accessibilityProvider.getAriaLevel(t.element):t=>t.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),enableKeyboardNavigation:e.simpleKeyboardNavigation})}class f3{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var Jb;(function(n){n.None="none",n.OnHover="onHover",n.Always="always"})(Jb||(Jb={}));class nAe{constructor(e,t=[]){this._elements=t,this.onDidChange=Ze.forEach(e,i=>this._elements=i)}get elements(){return this._elements}}class eS{constructor(e,t,i,r,o={}){this.renderer=e,this.modelProvider=t,this.activeNodes=r,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=eS.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new N1e,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Pe.None,this.disposables=new St,this.templateId=e.templateId,this.updateOptions(o),Ze.map(i,s=>s.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(typeof e.indent<"u"&&(this.indent=Ea(e.indent,0,40)),typeof e.renderIndentGuides<"u"){const t=e.renderIndentGuides!==Jb.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const i=new St;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,i),this.indentGuidesDisposable=i,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=je(e,at(".monaco-tl-row")),i=je(t,at(".monaco-tl-indent")),r=je(t,at(".monaco-tl-twistie")),o=je(t,at(".monaco-tl-contents")),s=this.renderer.renderTemplate(o);return{container:e,indent:i,twistie:r,indentGuidesDisposable:Pe.None,templateData:s}}renderElement(e,t,i,r){typeof r=="number"&&(this.renderedNodes.set(e,{templateData:i,height:r}),this.renderedElements.set(e.element,e));const o=eS.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=`${o+this.indent-16}px`,this.renderTwistie(e,i),typeof r=="number"&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,r)}disposeElement(e,t,i,r){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,r),typeof r=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...e9.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...e9.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(Ss(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new St,r=this.modelProvider();let o=e;for(;;){const s=r.getNodeLocation(o),a=r.getParentNodeLocation(s);if(!a)break;const l=r.getNode(a),u=at(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(l)&&u.classList.add("active"),t.indent.childElementCount===0?t.indent.appendChild(u):t.indent.insertBefore(u,t.indent.firstElementChild),this.renderedIndentGuides.add(l,u),i.add(Tn(()=>this.renderedIndentGuides.delete(l,u))),o=l}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(r=>{const o=i.getNodeLocation(r);try{const s=i.getParentNodeLocation(o);r.collapsible&&r.children.length>0&&!r.collapsed?t.add(r):s&&t.add(i.getNode(s))}catch{}}),this.activeIndentNodes.forEach(r=>{t.has(r)||this.renderedIndentGuides.forEach(r,o=>o.classList.remove("active"))}),t.forEach(r=>{this.activeIndentNodes.has(r)||this.renderedIndentGuides.forEach(r,o=>o.classList.add("active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Bn(this.disposables)}}eS.DefaultIndent=8;class iAe{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new St,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const o=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return o;let s;if(typeof o=="boolean"?s=o?1:0:h3(o)?s=Qb(o.visibility):s=o,s===0)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:fg.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=Array.isArray(i)?i:[i];for(const o of r){const s=o&&o.toString();if(typeof s>"u")return{data:fg.Default,visibility:!0};const a=uMe(this._pattern,this._lowercasePattern,0,s,s.toLowerCase(),0,!0);if(a)return this._matchCount++,r.length===1?{data:a,visibility:!0}:{data:{label:s,score:a},visibility:!0}}return this.tree.options.filterOnType?2:{data:fg.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){Bn(this.disposables)}}class rAe{constructor(e,t,i,r,o){this.tree=e,this.view=i,this.filter=r,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new ae,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new ae,this.enabledDisposables=new St,this.disposables=new St,this.domNode=at(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add(De(this.domNode,"dragstart",()=>this.onDragStart())),this.messageDomNode=je(i.getHTMLElement(),at(".monaco-list-type-filter-message")),this.labelDomNode=je(this.domNode,at("span.label"));const s=je(this.domNode,at(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=je(s,at("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add(De(this.filterOnTypeDomNode,"input",()=>this.onDidChangeFilterOnType())),this.clearDomNode=je(s,at("button.clear"+QMe.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=E("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),typeof e.filterOnType<"u"&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),typeof e.automaticKeyboardNavigation<"u"&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new Mn(this.view.getHTMLElement(),"keydown")),t=Ze.chain(e.event).filter(r=>!dh(r.target)||r.target===this.filterOnTypeDomNode).filter(r=>r.key!=="Dead"&&!/^Media/.test(r.key)).map(r=>new ni(r)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(r=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(r)&&!(r.keyCode===18||r.keyCode===16||r.keyCode===15||r.keyCode===17)||(this.pattern.length>0||this.triggered)&&(r.keyCode===9||r.keyCode===1)&&!r.altKey&&!r.ctrlKey&&!r.metaKey||r.keyCode===1&&(Qt?r.altKey&&!r.metaKey:r.ctrlKey)&&!r.shiftKey).forEach(r=>{r.stopPropagation(),r.preventDefault()}).event,i=this.enabledDisposables.add(new Mn(this.clearDomNode,"click"));Ze.chain(Ze.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){typeof e=="string"?this.onInput(e):e instanceof MouseEvent||e.keyCode===9||e.keyCode===1&&(Qt?e.altKey:e.ctrlKey)?this.onInput(""):e.keyCode===1?this.onInput(this.pattern.length===0?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,r=>!fg.isDefault(r.filterData));const i=this.tree.getFocus();if(i.length>0){const r=i[0];this.tree.getRelativeTop(r)===null&&this.tree.reveal(r,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=ia(e),i=e.clientWidth,r=i/2,o=this.domNode.clientWidth,s=new St;let a=this.positionClassName;const l=()=>{switch(a){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${i-o-6}px`;break}},u=d=>{d.preventDefault();const h=d.clientX-t;d.dataTransfer&&(d.dataTransfer.dropEffect="none"),h<r?a="nw":a="ne",l()},c=()=>{this.positionClassName=a,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",Bn(s)};l(),this.domNode.classList.remove(a),this.domNode.classList.add("dragging"),s.add(Tn(()=>this.domNode.classList.remove("dragging"))),s.add(De(document,"dragover",d=>u(d))),s.add(De(this.domNode,"dragend",()=>c())),Hu.CurrentDragAndDropData=new NDe("vscode-ui"),s.add(Tn(()=>Hu.CurrentDragAndDropData=void 0))}onDidSpliceModel(){!this._enabled||this.pattern.length===0||(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...n9.classNamesArray),this.filterOnTypeDomNode.classList.add(...t9.classNamesArray),this.filterOnTypeDomNode.title=E("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...t9.classNamesArray),this.filterOnTypeDomNode.classList.add(...n9.classNamesArray),this.filterOnTypeDomNode.title=E("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=E("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=E("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!this.enabled||!this.pattern||this.filterOnType||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!fg.isDefault(e.filterData)}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Bn(this.disposables)}}function i9(n){let e=Y_.Unknown;return v7(n.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Y_.Twistie:v7(n.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(e=Y_.Element),{browserEvent:n.browserEvent,element:n.element?n.element.element:null,target:e}}function Fx(n,e){e(n),n.children.forEach(t=>Fx(t,e))}class c2{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new ae,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!(!((i=t)===null||i===void 0)&&i.__forceEvent)&&fc(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const r=this;this._onDidChange.fire({get elements(){return r.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const l=this.createNodeSet(),u=c=>l.delete(c);t.forEach(c=>Fx(c,u)),this.set([...l.values()]);return}const i=new Set,r=l=>i.add(this.identityProvider.getId(l.element).toString());t.forEach(l=>Fx(l,r));const o=new Map,s=l=>o.set(this.identityProvider.getId(l.element).toString(),l);e.forEach(l=>Fx(l,s));const a=[];for(const l of this.nodes){const u=this.identityProvider.getId(l.element).toString();if(!i.has(u))a.push(l);else{const d=o.get(u);d&&a.push(d)}}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class oAe extends toe{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(dh(e.browserEvent.target)||Rm(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,r=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?o=this.tree.expandOnlyOnTwistieClick(t.element):o=!!this.tree.expandOnlyOnTwistieClick,o&&!r&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e);if(t.collapsible){const s=this.tree.model,a=s.getNodeLocation(t),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),s.setCollapsed(a,void 0,l),o&&r)return}super.onViewPointer(e)}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(e)}}class sAe extends Wc{constructor(e,t,i,r,o,s,a,l){super(e,t,i,r,l),this.focusTrait=o,this.selectionTrait=s,this.anchorTrait=a}createMouseController(e){return new oAe(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),i.length===0)return;const r=[],o=[];let s;i.forEach((a,l)=>{this.focusTrait.has(a)&&r.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(s=e+l)}),r.length>0&&super.setFocus(n6([...super.getFocus(),...r])),o.length>0&&super.setSelection(n6([...super.getSelection(),...o])),typeof s=="number"&&super.setAnchor(s)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(r=>this.element(r)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(r=>this.element(r)),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class ioe{constructor(e,t,i,r,o={}){this._options=o,this.eventBufferer=new GF,this.disposables=new St,this._onWillRefilter=new ae,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ae;const s=new f3(i),a=new f7,l=new f7,u=new nAe(l.event);this.renderers=r.map(h=>new eS(h,()=>this.model,a.event,u,o));for(let h of this.renderers)this.disposables.add(h);let c;o.keyboardNavigationLabelProvider&&(c=new iAe(this,o.keyboardNavigationLabelProvider,o.filter),o=Object.assign(Object.assign({},o),{filter:c}),this.disposables.add(c)),this.focus=new c2(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new c2(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new c2(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new sAe(e,t,s,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},tAe(()=>this.model,o)),{tree:this})),this.model=this.createModel(e,this.view,o),a.input=this.model.onDidChangeCollapseState;const d=Ze.forEach(this.model.onDidSplice,h=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(h),this.selection.onDidModelSplice(h)})});if(d(()=>null,null,this.disposables),l.input=Ze.chain(Ze.any(d,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const h=new Set;for(const f of this.focus.getNodes())h.add(f);for(const f of this.selection.getNodes())h.add(f);return[...h.values()]}).event,o.keyboardSupport!==!1){const h=Ze.chain(this.view.onKeyDown).filter(f=>!dh(f.target)).map(f=>new ni(f));h.filter(f=>f.keyCode===15).on(this.onLeftArrow,this,this.disposables),h.filter(f=>f.keyCode===17).on(this.onRightArrow,this,this.disposables),h.filter(f=>f.keyCode===10).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){const h=o.keyboardNavigationDelegate||Qre;this.typeFilterController=new rAe(this,this.model,this.view,c,h),this.focusNavigationFilter=f=>this.typeFilterController.shouldAllowFocus(f),this.disposables.add(this.typeFilterController)}this.styleElement=ws(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Jb.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return Ze.map(this.view.onMouseDblClick,i9)}get onPointer(){return Ze.map(this.view.onPointer,i9)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Jb.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join(`
`),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(o=>this.model.getNode(o));this.selection.set(i,t);const r=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(r,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(o=>this.model.getNode(o));this.focus.set(i,t);const r=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(r,t,!0)}focusNext(e=1,t=!1,i,r=this.focusNavigationFilter){this.view.focusNext(e,t,i,r)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);i!==-1&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return t===-1?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!0)){const s=this.model.getParentNodeLocation(r);if(!s)return;const a=this.model.getListIndex(s);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i);if(!this.model.setCollapsed(r,!1)){if(!i.children.some(l=>l.visible))return;const[s]=this.view.getFocus(),a=s+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(t.length===0)return;const i=t[0],r=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(r,void 0,o)}dispose(){Bn(this.disposables),this.view.dispose()}}class g3{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ZMe(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(r,o){return i.sorter.compare(r.element,o.element)}}),this.identityProvider=i.identityProvider}setChildren(e,t=At.empty(),i={}){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i)}_setChildren(e,t=At.empty(),i){const r=new Set,o=new Set,s=l=>{var u;if(l.element===null)return;const c=l;if(r.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();o.add(d),this.nodesByIdentity.set(d,c)}(u=i.onDidCreateNode)===null||u===void 0||u.call(i,c)},a=l=>{var u;if(l.element===null)return;const c=l;if(r.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const d=this.identityProvider.getId(c.element).toString();o.has(d)||this.nodesByIdentity.delete(d)}(u=i.onDidDeleteNode)===null||u===void 0||u.call(i,c)};this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:s,onDidDeleteNode:a}))}preserveCollapseState(e=At.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),At.map(e,t=>{let i=this.nodes.get(t.element);if(!i&&this.identityProvider){const s=this.identityProvider.getId(t.element).toString();i=this.nodesByIdentity.get(s)}if(!i)return Object.assign(Object.assign({},t),{children:this.preserveCollapseState(t.children)});const r=typeof t.collapsible=="boolean"?t.collapsible:i.collapsible,o=typeof t.collapsed<"u"?t.collapsed:i.collapsed;return Object.assign(Object.assign({},t),{collapsible:r,collapsed:o,children:this.preserveCollapseState(t.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getElementLocation(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new cs(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new cs(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new cs(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),r=this.model.getParentNodeLocation(i);return this.model.getNode(r).element}getElementLocation(e){if(e===null)return[];const t=this.nodes.get(e);if(!t)throw new cs(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function $x(n){const e=[n.element],t=n.incompressible||!1;return{element:{elements:e,incompressible:t},children:At.map(At.from(n.children),$x),collapsible:n.collapsible,collapsed:n.collapsed}}function Vx(n){const e=[n.element],t=n.incompressible||!1;let i,r;for(;[r,i]=At.consume(At.from(n.children),2),!(r.length!==1||r[0].incompressible);)n=r[0],e.push(n.element);return{element:{elements:e,incompressible:t},children:At.map(At.concat(r,i),Vx),collapsible:n.collapsible,collapsed:n.collapsed}}function l4(n,e=0){let t;return e<n.element.elements.length-1?t=[l4(n,e+1)]:t=At.map(At.from(n.children),i=>l4(i,0)),e===0&&n.element.incompressible?{element:n.element.elements[e],children:t,incompressible:!0,collapsible:n.collapsible,collapsed:n.collapsed}:{element:n.element.elements[e],children:t,collapsible:n.collapsible,collapsed:n.collapsed}}function r9(n){return l4(n,0)}function roe(n,e,t){return n.element===e?Object.assign(Object.assign({},n),{children:t}):Object.assign(Object.assign({},n),{children:At.map(At.from(n.children),i=>roe(i,e,t))})}const aAe=n=>({getId(e){return e.elements.map(t=>n.getId(t).toString()).join("\0")}});class lAe{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new g3(e,t,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=At.empty(),i){const r=i.diffIdentityProvider&&aAe(i.diffIdentityProvider);if(e===null){const f=At.map(t,this.enabled?Vx:$x);this._setChildren(null,f,{diffIdentityProvider:r,diffDepth:1/0});return}const o=this.nodes.get(e);if(!o)throw new Error("Unknown compressed tree node");const s=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),u=r9(s),c=roe(u,e,t),d=(this.enabled?Vx:$x)(c),h=l.children.map(f=>f===s?d:f);this._setChildren(l.element,h,{diffIdentityProvider:r,diffDepth:s.depth-l.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const i=this.model.getNode().children,r=At.map(i,r9),o=At.map(r,e?Vx:$x);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const r=new Set,o=a=>{for(const l of a.element.elements)r.add(l),this.nodes.set(l,a.element)},s=a=>{for(const l of a.element.elements)r.has(l)||this.nodes.delete(l)};this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:o,onDidDeleteNode:s}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(typeof e>"u")return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return t===null?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return i===null?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const r=this.getCompressedNode(e);return this.model.setCollapsed(r,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(e===null)return null;const t=this.nodes.get(e);if(!t)throw new cs(this.user,`Tree element not found: ${e}`);return t}}const uAe=n=>n[n.length-1];class p3{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new p3(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function cAe(n,e){return{splice(t,i,r){e.splice(t,i,r.map(o=>n.map(o)))},updateElementHeight(t,i){e.updateElementHeight(t,i)}}}function dAe(n,e){return Object.assign(Object.assign({},e),{identityProvider:e.identityProvider&&{getId(t){return e.identityProvider.getId(n(t))}},sorter:e.sorter&&{compare(t,i){return e.sorter.compare(t.elements[0],i.elements[0])}},filter:e.filter&&{filter(t,i){return e.filter.filter(n(t),i)}}})}class hAe{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||uAe;const r=o=>this.elementMapper(o.elements);this.nodeMapper=new d3(o=>new p3(r,o)),this.model=new lAe(e,cAe(this.nodeMapper,t),dAe(r,i))}get onDidSplice(){return Ze.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(i=>this.nodeMapper.map(i)),deletedNodes:t.map(i=>this.nodeMapper.map(i))}))}get onDidChangeCollapseState(){return Ze.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return Ze.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=At.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var fAe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o};class m3 extends ioe{constructor(e,t,i,r,o={}){super(e,t,i,r,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=At.empty(),i){this.model.setChildren(e,t,i)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new g3(e,t,i)}}class ooe{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);o.element.elements.length===1?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,r)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,r))}disposeElement(e,t,i,r){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,r):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,t):!1}}fAe([yi],ooe.prototype,"compressedTreeNodeProvider",null);function gAe(n,e){return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let i;try{i=n().getCompressedTreeNode(t)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return i.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}class soe extends m3{constructor(e,t,i,r,o={}){const s=()=>this,a=r.map(l=>new ooe(s,l));super(e,t,i,a,gAe(s,o))}setChildren(e,t=At.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new hAe(e,t,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var rd=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function d2(n){return Object.assign(Object.assign({},n),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function u4(n,e){return e.parent?e.parent===n?!0:u4(n,e.parent):!1}function pAe(n,e){return n===e||u4(n,e)||u4(e,n)}class v3{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new v3(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class mAe{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...$T.classNamesArray),!0):(t.classList.remove(...$T.classNamesArray),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function o9(n){return{browserEvent:n.browserEvent,elements:n.elements.map(e=>e.element)}}function s9(n){return{browserEvent:n.browserEvent,element:n.element&&n.element.element,target:n.target}}class vAe extends fw{constructor(e){super(e.elements.map(t=>t.element)),this.data=e}}function h2(n){return n instanceof fw?new vAe(n):n}class yAe{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(i=>i.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(h2(e),t)}onDragOver(e,t,i,r,o=!0){return this.dnd.onDragOver(h2(e),t&&t.element,i,r)}drop(e,t,i,r){this.dnd.drop(h2(e),t&&t.element,i,r)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function aoe(n){return n&&Object.assign(Object.assign({},n),{collapseByDefault:!0,identityProvider:n.identityProvider&&{getId(e){return n.identityProvider.getId(e.element)}},dnd:n.dnd&&new yAe(n.dnd),multipleSelectionController:n.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return n.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},isSelectionRangeChangeEvent(e){return n.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))}},accessibilityProvider:n.accessibilityProvider&&Object.assign(Object.assign({},n.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:n.accessibilityProvider.getRole?e=>n.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:n.accessibilityProvider.isChecked?e=>{var t;return!!(!((t=n.accessibilityProvider)===null||t===void 0)&&t.isChecked(e.element))}:void 0,getAriaLabel(e){return n.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return n.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:n.accessibilityProvider.getWidgetRole?()=>n.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:n.accessibilityProvider.getAriaLevel&&(e=>n.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:n.accessibilityProvider.getActiveDescendantId&&(e=>n.accessibilityProvider.getActiveDescendantId(e.element))}),filter:n.filter&&{filter(e,t){return n.filter.filter(e.element,t)}},keyboardNavigationLabelProvider:n.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},n.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(e){return n.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof n.expandOnlyOnTwistieClick>"u"?void 0:typeof n.expandOnlyOnTwistieClick!="function"?n.expandOnlyOnTwistieClick:e=>n.expandOnlyOnTwistieClick(e.element),additionalScrollHeight:n.additionalScrollHeight})}function c4(n,e){e(n),n.children.forEach(t=>c4(t,e))}class loe{constructor(e,t,i,r,o,s={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ae,this._onDidChangeNodeSlowState=new ae,this.nodeMapper=new d3(a=>new v3(a)),this.disposables=new St,this.identityProvider=s.identityProvider,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.sorter=s.sorter,this.collapseByDefault=s.collapseByDefault,this.tree=this.createTree(e,t,i,r,s),this.root=d2({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return Ze.map(this.tree.onDidChangeFocus,o9)}get onDidChangeSelection(){return Ze.map(this.tree.onDidChangeSelection,o9)}get onMouseDblClick(){return Ze.map(this.tree.onMouseDblClick,s9)}get onPointer(){return Ze.map(this.tree.onPointer,s9)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,r,o){const s=new f3(i),a=r.map(u=>new mAe(u,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=aoe(o)||{};return new m3(e,t,s,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return rd(this,void 0,void 0,function*(){this.refreshPromises.forEach(r=>r.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&typeof t.scrollTop=="number"&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,r,o){return rd(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new cs(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ze.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(yield this.refreshAndRenderNode(s,t,r,o),i)try{this.tree.rerender(s)}catch{}})}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return rd(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new cs(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield Ze.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i)||(i.refreshPromise&&(yield this.root.refreshPromise,yield Ze.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i)))return!1;const r=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield Ze.toPromise(this._onDidRender.event)),r})}setSelection(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(t=>t.element)}setFocus(e,t){const i=e.map(r=>this.getDataNode(r));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(t=>t.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new cs(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,r){return rd(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i,r)})}refreshNode(e,t,i){return rd(this,void 0,void 0,function*(){let r;return this.subTreeRefreshPromises.forEach((o,s)=>{!r&&pAe(s,e)&&(r=o.then(()=>this.refreshNode(e,t,i)))}),r||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return rd(this,void 0,void 0,function*(){let r;e.refreshPromise=new Promise(o=>r=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield GO.settled(o.map(s=>this.doRefreshSubTree(s,t,i)))}finally{r()}})}doRefreshNode(e,t,i){return rd(this,void 0,void 0,function*(){e.hasChildren=!!this.dataSource.hasChildren(e.element);let r;if(!e.hasChildren)r=Promise.resolve(At.empty());else{const o=Eb(800);o.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},s=>null),r=this.doGetChildren(e).finally(()=>o.cancel())}try{const o=yield r;return this.setChildren(e,o,t,i)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),QS(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Wte(()=>rd(this,void 0,void 0,function*(){const i=yield this.dataSource.getChildren(e.element);return this.processChildren(i)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){e.element!==null&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(Rn))}setChildren(e,t,i,r){const o=[...t];if(e.children.length===0&&o.length===0)return[];const s=new Map,a=new Map;for(const c of e.children)if(s.set(c.element,c),this.identityProvider){const d=this.tree.isCollapsed(c);a.set(c.id,{node:c,collapsed:d})}const l=[],u=o.map(c=>{const d=!!this.dataSource.hasChildren(c);if(!this.identityProvider){const p=d2({element:c,parent:e,hasChildren:d});return d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(p.collapsedByDefault=!1,l.push(p)),p}const h=this.identityProvider.getId(c).toString(),f=a.get(h);if(f){const p=f.node;return s.delete(p.element),this.nodes.delete(p.element),this.nodes.set(c,p),p.element=c,p.hasChildren=d,i?f.collapsed?(p.children.forEach(m=>c4(m,v=>this.nodes.delete(v.element))),p.children.splice(0,p.children.length),p.stale=!0):l.push(p):d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(p.collapsedByDefault=!1,l.push(p)),p}const g=d2({element:c,parent:e,id:h,hasChildren:d});return r&&r.viewState.focus&&r.viewState.focus.indexOf(h)>-1&&r.focus.push(g),r&&r.viewState.selection&&r.viewState.selection.indexOf(h)>-1&&r.selection.push(g),r&&r.viewState.expanded&&r.viewState.expanded.indexOf(h)>-1?l.push(g):d&&this.collapseByDefault&&!this.collapseByDefault(c)&&(g.collapsedByDefault=!1,l.push(g)),g});for(const c of s.values())c4(c,d=>this.nodes.delete(d.element));for(const c of u)this.nodes.set(c.element,c);return e.children.splice(0,e.children.length,...u),e!==this.root&&this.autoExpandSingleChildren&&u.length===1&&l.length===0&&(u[0].collapsedByDefault=!1,l.push(u[0])),l}render(e,t,i){const r=e.children.map(s=>this.asTreeElement(s,t)),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId(s){return i.diffIdentityProvider.getId(s.element)}}});this.tree.setChildren(e===this.root?null:e,r,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1?i=!1:i=e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?At.map(e.children,r=>this.asTreeElement(r,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class y3{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new y3(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class _Ae{constructor(e,t,i,r){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=r,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,r){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,r)}renderCompressedElements(e,t,i,r){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}renderTwistie(e,t){return e.slow?(t.classList.add(...$T.classNamesArray),!0):(t.classList.remove(...$T.classNamesArray),!1)}disposeElement(e,t,i,r){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,r)}disposeCompressedElements(e,t,i,r){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,r)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=Bn(this.disposables)}}function bAe(n){const e=n&&aoe(n);return e&&Object.assign(Object.assign({},e),{keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(t){return n.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(i=>i.element))}})})}class SAe extends loe{constructor(e,t,i,r,o,s,a={}){super(e,t,i,o,s,a),this.compressionDelegate=r,this.compressibleNodeMapper=new d3(l=>new y3(l)),this.filter=a.filter}createTree(e,t,i,r,o){const s=new f3(i),a=r.map(u=>new _Ae(u,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=bAe(o)||{};return new soe(e,t,s,a,l)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=h=>this.identityProvider.getId(h).toString(),r=h=>{const f=new Set;for(const g of h){const p=this.tree.getCompressedTreeNode(g===this.root?null:g);if(p.element)for(const m of p.element.elements)f.add(i(m.element))}return f},o=r(this.tree.getSelection()),s=r(this.tree.getFocus());super.render(e,t);const a=this.getSelection();let l=!1;const u=this.getFocus();let c=!1;const d=h=>{const f=h.element;if(f)for(let g=0;g<f.elements.length;g++){const p=i(f.elements[g].element),m=f.elements[f.elements.length-1].element;o.has(p)&&a.indexOf(m)===-1&&(a.push(m),l=!0),s.has(p)&&u.indexOf(m)===-1&&(u.push(m),c=!0)}h.children.forEach(d)};d(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(a),c&&this.setFocus(u)}processChildren(e){return this.filter&&(e=At.filter(e,t=>{const i=this.filter.filter(t,1),r=wAe(i);if(r===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return r===1})),super.processChildren(e)}}function wAe(n){return typeof n=="boolean"?n?1:0:h3(n)?Qb(n.visibility):Qb(n)}class CAe extends ioe{constructor(e,t,i,r,o,s={}){super(e,t,i,r,s),this.user=e,this.dataSource=o,this.identityProvider=s.identityProvider}createModel(e,t,i){return new g3(e,t,i)}}const xAe={separatorBorder:_e.transparent};class uoe{constructor(e,t,i,r){this.container=e,this.view=t,this.disposable=r,this._cachedVisibleSize=void 0,typeof i=="number"?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,t){e!==this.visible&&(e?(this.size=Ea(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof t=="number"?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class LAe extends uoe{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class TAe extends uoe{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Uu;(function(n){n[n.Idle=0]="Idle",n[n.Busy=1]="Busy"})(Uu||(Uu={}));var a9;(function(n){n.Distribute={type:"distribute"};function e(i){return{type:"split",index:i}}n.Split=e;function t(i){return{type:"invisible",cachedVisibleSize:i}}n.Invisible=t})(a9||(a9={}));class IAe extends Pe{constructor(e,t={}){var i,r;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=Uu.Idle,this._onDidSashChange=this._register(new ae),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new ae),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=ms(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=ms(t.proportionalLayout)?!0:!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=je(this.el,at(".sash-container")),this.viewContainer=at(".split-view-container"),this.scrollable=new rE(125,iu),this.scrollableElement=this._register(new H$(this.viewContainer,{vertical:this.orientation===0?(i=t.scrollbarVisibility)!==null&&i!==void 0?i:1:2,horizontal:this.orientation===1?(r=t.scrollbarVisibility)!==null&&r!==void 0?r:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(o=>{this.viewContainer.scrollTop=o.scrollTop,this.viewContainer.scrollLeft=o.scrollLeft})),je(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||xAe),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach((o,s)=>{const a=ms(o.visible)||o.visible?o.size:{type:"invisible",cachedVisibleSize:o.size},l=o.view;this.doAddView(l,a,s,!0)}),this.contentSize=this.viewItems.reduce((o,s)=>o+s.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,r){this.doAddView(e,t,i,r)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let r=0;r<this.viewItems.length;r++){const o=this.viewItems[r];o.size=Ea(Math.round(this.proportions[r]*e),o.minimumSize,o.maximumSize)}else{const r=Nr(this.viewItems.length),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-i,void 0,o,s)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(e=>e.size/this.contentSize))}onSashStart({sash:e,start:t,alt:i}){for(const a of this.viewItems)a.enabled=!1;const r=this.sashItems.findIndex(a=>a.sash===e),o=Ym(De(document.body,"keydown",a=>s(this.sashDragState.current,a.altKey)),De(document.body,"keyup",()=>s(this.sashDragState.current,!1))),s=(a,l)=>{const u=this.viewItems.map(g=>g.size);let c=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(r===this.sashItems.length-1){const p=this.viewItems[r];c=(p.minimumSize-p.size)/2,d=(p.maximumSize-p.size)/2}else{const p=this.viewItems[r+1];c=(p.size-p.maximumSize)/2,d=(p.size-p.minimumSize)/2}let h,f;if(!l){const g=Nr(r,-1),p=Nr(r+1,this.viewItems.length),m=g.reduce((x,L)=>x+(this.viewItems[L].minimumSize-u[L]),0),v=g.reduce((x,L)=>x+(this.viewItems[L].viewMaximumSize-u[L]),0),y=p.length===0?Number.POSITIVE_INFINITY:p.reduce((x,L)=>x+(u[L]-this.viewItems[L].minimumSize),0),_=p.length===0?Number.NEGATIVE_INFINITY:p.reduce((x,L)=>x+(u[L]-this.viewItems[L].viewMaximumSize),0),b=Math.max(m,_),S=Math.min(y,v),w=this.findFirstSnapIndex(g),C=this.findFirstSnapIndex(p);if(typeof w=="number"){const x=this.viewItems[w],L=Math.floor(x.viewMinimumSize/2);h={index:w,limitDelta:x.visible?b-L:b+L,size:x.size}}if(typeof C=="number"){const x=this.viewItems[C],L=Math.floor(x.viewMinimumSize/2);f={index:C,limitDelta:x.visible?S+L:S-L,size:x.size}}}this.sashDragState={start:a,current:a,index:r,sizes:u,minDelta:c,maxDelta:d,alt:l,snapBefore:h,snapAfter:f,disposable:o}};s(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:r,alt:o,minDelta:s,maxDelta:a,snapBefore:l,snapAfter:u}=this.sashDragState;this.sashDragState.current=e;const c=e-i,d=this.resize(t,c,r,void 0,void 0,s,a,l,u);if(o){const h=t===this.sashItems.length-1,f=this.viewItems.map(_=>_.size),g=h?t:t+1,p=this.viewItems[g],m=p.size-p.maximumSize,v=p.size-p.minimumSize,y=h?t-1:t+1;this.resize(y,-d,f,void 0,void 0,m,v)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const t of this.viewItems)t.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t=typeof t=="number"?t:e.size,t=Ea(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==Uu.Idle)throw new Error("Cant modify splitview");if(this.state=Uu.Busy,e<0||e>=this.viewItems.length)return;const i=Nr(this.viewItems.length).filter(a=>a!==e),r=[...i.filter(a=>this.viewItems[a].priority===1),e],o=i.filter(a=>this.viewItems[a].priority===2),s=this.viewItems[e];t=Math.round(t),t=Ea(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(r,o),this.state=Uu.Idle}distributeViewSizes(){const e=[];let t=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),t+=a.size);const i=Math.floor(t/e.length);for(const a of e)a.size=Ea(i,a.minimumSize,a.maximumSize);const r=Nr(this.viewItems.length),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);this.relayout(o,s)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,r){if(this.state!==Uu.Idle)throw new Error("Cant modify splitview");this.state=Uu.Busy;const o=at(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(i));const s=e.onDidChange(h=>this.onViewChange(c,h)),a=Tn(()=>this.viewContainer.removeChild(o)),l=Ym(s,a);let u;typeof t=="number"?u=t:t.type==="split"?u=this.getViewSize(t.index)/2:t.type==="invisible"?u={cachedVisibleSize:t.cachedVisibleSize}:u=e.minimumSize;const c=this.orientation===0?new LAe(o,e,u,l):new TAe(o,e,u,l);if(this.viewItems.splice(i,0,c),this.viewItems.length>1){let h={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const f=this.orientation===0?new ko(this.sashContainer,{getHorizontalSashTop:x=>this.getSashPosition(x),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:1})):new ko(this.sashContainer,{getVerticalSashLeft:x=>this.getSashPosition(x),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},h),{orientation:0})),g=this.orientation===0?x=>({sash:f,start:x.startY,current:x.currentY,alt:x.altKey}):x=>({sash:f,start:x.startX,current:x.currentX,alt:x.altKey}),m=Ze.map(f.onDidStart,g)(this.onSashStart,this),y=Ze.map(f.onDidChange,g)(this.onSashChange,this),b=Ze.map(f.onDidEnd,()=>this.sashItems.findIndex(x=>x.sash===f))(this.onSashEnd,this),S=f.onDidReset(()=>{const x=this.sashItems.findIndex(M=>M.sash===f),L=Nr(x,-1),T=Nr(x+1,this.viewItems.length),I=this.findFirstSnapIndex(L),D=this.findFirstSnapIndex(T);typeof I=="number"&&!this.viewItems[I].visible||typeof D=="number"&&!this.viewItems[D].visible||this._onDidSashReset.fire(x)}),w=Ym(m,y,b,S,f),C={sash:f,disposable:w};this.sashItems.splice(i-1,0,C)}o.appendChild(e.element);let d;typeof t!="number"&&t.type==="split"&&(d=[t.index]),r||this.relayout([i],d),this.state=Uu.Idle,!r&&typeof t!="number"&&t.type==="distribute"&&this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce((r,o)=>r+o.size,0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map(c=>c.size),r,o,s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,u){if(e<0||e>=this.viewItems.length)return 0;const c=Nr(e,-1),d=Nr(e+1,this.viewItems.length);if(o)for(const C of o)bA(c,C),bA(d,C);if(r)for(const C of r)u1(c,C),u1(d,C);const h=c.map(C=>this.viewItems[C]),f=c.map(C=>i[C]),g=d.map(C=>this.viewItems[C]),p=d.map(C=>i[C]),m=c.reduce((C,x)=>C+(this.viewItems[x].minimumSize-i[x]),0),v=c.reduce((C,x)=>C+(this.viewItems[x].maximumSize-i[x]),0),y=d.length===0?Number.POSITIVE_INFINITY:d.reduce((C,x)=>C+(i[x]-this.viewItems[x].minimumSize),0),_=d.length===0?Number.NEGATIVE_INFINITY:d.reduce((C,x)=>C+(i[x]-this.viewItems[x].maximumSize),0),b=Math.max(m,_,s),S=Math.min(y,v,a);let w=!1;if(l){const C=this.viewItems[l.index],x=t>=l.limitDelta;w=x!==C.visible,C.setVisible(x,l.size)}if(!w&&u){const C=this.viewItems[u.index],x=t<u.limitDelta;w=x!==C.visible,C.setVisible(x,u.size)}if(w)return this.resize(e,t,i,r,o,s,a);t=Ea(t,b,S);for(let C=0,x=t;C<h.length;C++){const L=h[C],T=Ea(f[C]+x,L.minimumSize,L.maximumSize),I=T-f[C];x-=I,L.size=T}for(let C=0,x=t;C<g.length;C++){const L=g[C],T=Ea(p[C]-x,L.minimumSize,L.maximumSize),I=T-p[C];x+=I,L.size=T}return t}distributeEmptySpace(e){const t=this.viewItems.reduce((a,l)=>a+l.size,0);let i=this.size-t;const r=Nr(this.viewItems.length-1,-1),o=r.filter(a=>this.viewItems[a].priority===1),s=r.filter(a=>this.viewItems[a].priority===2);for(const a of s)bA(r,a);for(const a of o)u1(r,a);typeof e=="number"&&u1(r,e);for(let a=0;i!==0&&a<r.length;a++){const l=this.viewItems[r[a]],u=Ea(l.size+i,l.minimumSize,l.maximumSize),c=u-l.size;i-=c,l.size=u}}layoutViews(){this.contentSize=this.viewItems.reduce((t,i)=>t+i.size,0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach(t=>t.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const i=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),r=[...this.viewItems].reverse();e=!1;const o=r.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const s=r.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:u}=this.sashItems[l],c=this.viewItems[l];a+=c.size;const d=!(t[l]&&s[l+1]),h=!(i[l]&&o[l+1]);if(d&&h){const f=Nr(l,-1),g=Nr(l+1,this.viewItems.length),p=this.findFirstSnapIndex(f),m=this.findFirstSnapIndex(g),v=typeof p=="number"&&!this.viewItems[p].visible,y=typeof m=="number"&&!this.viewItems[m].visible;v&&o[l]&&(a>0||this.startSnappingEnabled)?u.state=1:y&&t[l]&&(a<this.contentSize||this.endSnappingEnabled)?u.state=2:u.state=0}else d&&!h?u.state=1:!d&&h?u.state=2:u.state=3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const i=this.viewItems[t];if(i.visible&&i.snap)return t}for(const t of e){const i=this.viewItems[t];if(i.visible&&i.maximumSize-i.minimumSize>0)return;if(!i.visible&&i.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach(e=>e.dispose()),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[]}}class gw{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=gw.TemplateId,this.renderedTemplates=new Set;const r=new Map(t.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const s=r.get(o.templateId);if(!s)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(s)}}renderTemplate(e){const t=je(e,at(".monaco-table-tr")),i=[],r=[];for(let s=0;s<this.columns.length;s++){const a=this.renderers[s],l=je(t,at(".monaco-table-td",{"data-col-index":s}));l.style.width=`${this.getColumnSize(s)}px`,i.push(l),r.push(a.renderTemplate(l))}const o={container:e,cellContainers:i,cellTemplateData:r};return this.renderedTemplates.add(o),o}renderElement(e,t,i,r){for(let o=0;o<this.columns.length;o++){const a=this.columns[o].project(e);this.renderers[o].renderElement(a,t,i.cellTemplateData[o],r)}}disposeElement(e,t,i,r){for(let o=0;o<this.columns.length;o++){const s=this.renderers[o];if(s.disposeElement){const l=this.columns[o].project(e);s.disposeElement(l,t,i.cellTemplateData[o],r)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++)this.renderers[t].disposeTemplate(e.cellTemplateData[t]);Ss(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}gw.TemplateId="row";function DAe(n){return{getHeight(e){return n.getHeight(e)},getTemplateId(){return gw.TemplateId}}}class EAe{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new ae,this.onDidLayout=this._onDidLayout.event,this.element=at(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return(e=this.column.minimumWidth)!==null&&e!==void 0?e:120}get maximumSize(){var e;return(e=this.column.maximumWidth)!==null&&e!==void 0?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return(e=this.column.onDidChangeWidthConstraints)!==null&&e!==void 0?e:Ze.None}layout(e){this._onDidLayout.fire([this.index,e])}}let coe=class doe{constructor(e,t,i,r,o,s){this.virtualDelegate=i,this.domId=`table_id_${++doe.InstanceCount}`,this.cachedHeight=0,this.domNode=je(t,at(`.monaco-table.${this.domId}`));const a=r.map((c,d)=>new EAe(c,d)),l={size:a.reduce((c,d)=>c+d.column.weight,0),views:a.map(c=>({size:c.column.weight,view:c}))};this.splitview=new IAe(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:l}),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const u=new gw(r,o,c=>this.splitview.getViewSize(c));this.list=new Wc(e,this.domNode,DAe(i),[u],s),this.columnLayoutDisposable=Ze.any(...a.map(c=>c.onDidLayout))(([c,d])=>u.layoutColumn(c,d)),this.styleElement=ws(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=t.join(`
`),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}};coe.InstanceCount=0;var bu=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},bt=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const Su=an("listService");let d4=class{constructor(e){this._themeService=e,this.disposables=new St,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const r=new noe(ws(),"");this.disposables.add(Gv(r,this._themeService))}if(this.lists.some(r=>r.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Ym(e.onDidFocus(()=>this._lastFocusedWidget=e),Tn(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(r=>r!==i),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};d4=bu([bt(0,zi)],d4);const hoe=new ht("listFocus",!0),hE=new ht("listSupportsMultiselect",!0);dn.and(hoe,dn.not(XMe));const _3=new ht("listHasSelectionOrFocus",!1),b3=new ht("listDoubleSelection",!1),S3=new ht("listMultiSelection",!1),fE=new ht("listSelectionNavigation",!1),foe="listAutomaticKeyboardNavigation";function gE(n,e){const t=n.createScoped(e.getHTMLElement());return hoe.bindTo(t),t}const vp="workbench.list.multiSelectModifier",h4="workbench.list.openMode",vs="workbench.list.horizontalScrolling",VT="workbench.list.keyboardNavigation",w3="workbench.list.automaticKeyboardNavigation",tS="workbench.tree.indent",WT="workbench.tree.renderIndentGuides",ol="workbench.list.smoothScrolling",ou="workbench.list.mouseWheelScrollSensitivity",su="workbench.list.fastScrollSensitivity",zT="workbench.tree.expandMode";function au(n){return n.getValue(vp)==="alt"}class MAe extends Pe{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=au(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(vp)&&(this.useAltAsMultipleSelectionModifier=au(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:Jre(e)}isSelectionRangeChangeEvent(e){return eoe(e)}}function pE(n,e,t){var i;const r=new St;return[Object.assign(Object.assign({},n),{keyboardNavigationDelegate:{mightProducePrintableCharacter(s){return t.mightProducePrintableCharacter(s)}},smoothScrolling:!!e.getValue(ol),mouseWheelScrollSensitivity:e.getValue(ou),fastScrollSensitivity:e.getValue(su),multipleSelectionController:(i=n.multipleSelectionController)!==null&&i!==void 0?i:r.add(new MAe(e))}),r]}let f4=class extends Wc{constructor(e,t,i,r,o,s,a,l,u,c){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!u.getValue(vs),[h,f]=pE(o,u,c);super(e,t,i,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ka(l.getColorTheme(),cE)),h),{horizontalScrolling:d})),this.disposables.add(f),this.contextKeyService=gE(s,this),this.themeService=l,this.listSupportsMultiSelect=hE.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),fE.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=_3.bindTo(this.contextKeyService),this.listDoubleSelection=b3.bindTo(this.contextKeyService),this.listMultiSelection=S3.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=au(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),m=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||m.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),m=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||m.length>0)})),this.disposables.add(u.onDidChangeConfiguration(p=>{p.affectsConfiguration(vp)&&(this._useAltAsMultipleSelectionModifier=au(u));let m={};if(p.affectsConfiguration(vs)&&this.horizontalScrolling===void 0){const v=!!u.getValue(vs);m=Object.assign(Object.assign({},m),{horizontalScrolling:v})}if(p.affectsConfiguration(ol)){const v=!!u.getValue(ol);m=Object.assign(Object.assign({},m),{smoothScrolling:v})}if(p.affectsConfiguration(ou)){const v=u.getValue(ou);m=Object.assign(Object.assign({},m),{mouseWheelScrollSensitivity:v})}if(p.affectsConfiguration(su)){const v=u.getValue(su);m=Object.assign(Object.assign({},m),{fastScrollSensitivity:v})}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new goe(this,Object.assign({configurationService:u},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Gv(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),super.dispose()}};f4=bu([bt(5,pn),bt(6,Su),bt(7,zi),bt(8,br),bt(9,oo)],f4);let l9=class extends YMe{constructor(e,t,i,r,o,s,a,l,u,c){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!u.getValue(vs),[h,f]=pE(o,u,c);super(e,t,i,r,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ka(l.getColorTheme(),cE)),h),{horizontalScrolling:d})),this.disposables=new St,this.disposables.add(f),this.contextKeyService=gE(s,this),this.themeService=l,this.horizontalScrolling=o.horizontalScrolling,this.listSupportsMultiSelect=hE.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),fE.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this._useAltAsMultipleSelectionModifier=au(u),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),o.overrideStyles&&this.updateStyles(o.overrideStyles),o.overrideStyles&&this.disposables.add(Gv(this,l,o.overrideStyles)),this.disposables.add(u.onDidChangeConfiguration(p=>{p.affectsConfiguration(vp)&&(this._useAltAsMultipleSelectionModifier=au(u));let m={};if(p.affectsConfiguration(vs)&&this.horizontalScrolling===void 0){const v=!!u.getValue(vs);m=Object.assign(Object.assign({},m),{horizontalScrolling:v})}if(p.affectsConfiguration(ol)){const v=!!u.getValue(ol);m=Object.assign(Object.assign({},m),{smoothScrolling:v})}if(p.affectsConfiguration(ou)){const v=u.getValue(ou);m=Object.assign(Object.assign({},m),{mouseWheelScrollSensitivity:v})}if(p.affectsConfiguration(su)){const v=u.getValue(su);m=Object.assign(Object.assign({},m),{fastScrollSensitivity:v})}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new goe(this,Object.assign({configurationService:u},o)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Gv(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};l9=bu([bt(5,pn),bt(6,Su),bt(7,zi),bt(8,br),bt(9,oo)],l9);let u9=class extends coe{constructor(e,t,i,r,o,s,a,l,u,c,d){const h=typeof s.horizontalScrolling<"u"?s.horizontalScrolling:!!c.getValue(vs),[f,g]=pE(s,c,d);super(e,t,i,r,o,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},ka(u.getColorTheme(),cE)),f),{horizontalScrolling:h})),this.disposables=new St,this.disposables.add(g),this.contextKeyService=gE(a,this),this.themeService=u,this.listSupportsMultiSelect=hE.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(s.multipleSelectionSupport!==!1),fE.bindTo(this.contextKeyService).set(!!s.selectionNavigation),this.listHasSelectionOrFocus=_3.bindTo(this.contextKeyService),this.listDoubleSelection=b3.bindTo(this.contextKeyService),this.listMultiSelection=S3.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=au(c),this.disposables.add(this.contextKeyService),this.disposables.add(l.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),v=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||v.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),v=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||v.length>0)})),this.disposables.add(c.onDidChangeConfiguration(m=>{m.affectsConfiguration(vp)&&(this._useAltAsMultipleSelectionModifier=au(c));let v={};if(m.affectsConfiguration(vs)&&this.horizontalScrolling===void 0){const y=!!c.getValue(vs);v=Object.assign(Object.assign({},v),{horizontalScrolling:y})}if(m.affectsConfiguration(ol)){const y=!!c.getValue(ol);v=Object.assign(Object.assign({},v),{smoothScrolling:y})}if(m.affectsConfiguration(ou)){const y=c.getValue(ou);v=Object.assign(Object.assign({},v),{mouseWheelScrollSensitivity:y})}if(m.affectsConfiguration(su)){const y=c.getValue(su);v=Object.assign(Object.assign({},v),{fastScrollSensitivity:y})}Object.keys(v).length>0&&this.updateOptions(v)})),this.navigator=new AAe(this,Object.assign({configurationService:c},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;(t=this._styler)===null||t===void 0||t.dispose(),this._styler=Gv(this,this.themeService,e)}dispose(){var e;(e=this._styler)===null||e===void 0||e.dispose(),this.disposables.dispose(),super.dispose()}};u9=bu([bt(6,pn),bt(7,Su),bt(8,zi),bt(9,br),bt(10,oo)],u9);class C3 extends Pe{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new ae),this.onDidOpen=this._onDidOpen.event,this._register(Ze.filter(this.widget.onDidChangeSelection,r=>r.browserEvent instanceof KeyboardEvent)(r=>this.onSelectionFromKeyboard(r))),this._register(this.widget.onPointer(r=>this.onPointer(r.element,r.browserEvent))),this._register(this.widget.onMouseDblClick(r=>this.onMouseDblClick(r.element,r.browserEvent))),typeof(t==null?void 0:t.openOnSingleClick)!="boolean"&&(t!=null&&t.configurationService)?(this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(h4))!=="doubleClick",this._register(t==null?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(t==null?void 0:t.configurationService.getValue(h4))!=="doubleClick"}))):this.openOnSingleClick=(i=t==null?void 0:t.openOnSingleClick)!==null&&i!==void 0?i:!0}onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const t=e.browserEvent,i=typeof t.preserveFocus=="boolean"?t.preserveFocus:!0,r=typeof t.pinned=="boolean"?t.pinned:!i,o=!1;this._open(this.getSelectedElement(),i,r,o,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick||t.detail===2)return;const r=t.button===1,o=!0,s=r,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const o=!1,s=!0,a=t.ctrlKey||t.metaKey||t.altKey;this._open(e,o,s,a,t)}_open(e,t,i,r,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:r,element:e,browserEvent:o})}}class goe extends C3{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class AAe extends C3{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class NAe extends C3{constructor(e,t){super(e,t)}getSelectedElement(){var e;return(e=this.widget.getSelection()[0])!==null&&e!==void 0?e:void 0}}function kAe(n,e){let t=!1;return i=>{if(t)return t=!1,!1;const r=e.softDispatch(i,n);return r&&r.enterChord?(t=!0,!1):(t=!1,!0)}}let c9=class extends m3{constructor(e,t,i,r,o,s,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:f,disposable:g}=pw(t,o,s,u,c,d);super(e,t,i,r,h),this.disposables.add(g),this.internals=new zg(this,o,f,o.overrideStyles,s,a,l,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};c9=bu([bt(5,pn),bt(6,Su),bt(7,zi),bt(8,br),bt(9,oo),bt(10,Ds)],c9);let d9=class extends soe{constructor(e,t,i,r,o,s,a,l,u,c,d){const{options:h,getAutomaticKeyboardNavigation:f,disposable:g}=pw(t,o,s,u,c,d);super(e,t,i,r,h),this.disposables.add(g),this.internals=new zg(this,o,f,o.overrideStyles,s,a,l,u,d),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};d9=bu([bt(5,pn),bt(6,Su),bt(7,zi),bt(8,br),bt(9,oo),bt(10,Ds)],d9);let h9=class extends CAe{constructor(e,t,i,r,o,s,a,l,u,c,d,h){const{options:f,getAutomaticKeyboardNavigation:g,disposable:p}=pw(t,s,a,c,d,h);super(e,t,i,r,o,f),this.disposables.add(p),this.internals=new zg(this,s,g,s.overrideStyles,a,l,u,c,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};h9=bu([bt(6,pn),bt(7,Su),bt(8,zi),bt(9,br),bt(10,oo),bt(11,Ds)],h9);let f9=class extends loe{constructor(e,t,i,r,o,s,a,l,u,c,d,h){const{options:f,getAutomaticKeyboardNavigation:g,disposable:p}=pw(t,s,a,c,d,h);super(e,t,i,r,o,f),this.disposables.add(p),this.internals=new zg(this,s,g,s.overrideStyles,a,l,u,c,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};f9=bu([bt(6,pn),bt(7,Su),bt(8,zi),bt(9,br),bt(10,oo),bt(11,Ds)],f9);let g9=class extends SAe{constructor(e,t,i,r,o,s,a,l,u,c,d,h,f){const{options:g,getAutomaticKeyboardNavigation:p,disposable:m}=pw(t,a,l,d,h,f);super(e,t,i,r,o,s,g),this.disposables.add(m),this.internals=new zg(this,a,p,a.overrideStyles,l,u,c,d,f),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};g9=bu([bt(7,pn),bt(8,Su),bt(9,zi),bt(10,br),bt(11,oo),bt(12,Ds)],g9);function pw(n,e,t,i,r,o){var s;const a=()=>{let g=!!t.getContextKeyValue(foe);return g&&(g=!!i.getValue(w3)),g},l=o.isScreenReaderOptimized(),u=e.simpleKeyboardNavigation||l?"simple":i.getValue(VT),c=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!i.getValue(vs),[d,h]=pE(e,i,r),f=e.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:h,options:Object.assign(Object.assign({keyboardSupport:!1},d),{indent:typeof i.getValue(tS)=="number"?i.getValue(tS):void 0,renderIndentGuides:i.getValue(WT),smoothScrolling:!!i.getValue(ol),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:u==="simple",filterOnType:u==="filter",horizontalScrolling:c,keyboardNavigationEventFilter:kAe(n,r),additionalScrollHeight:f,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(s=e.expandOnlyOnTwistieClick)!==null&&s!==void 0?s:i.getValue(zT)==="doubleClick"})}}let zg=class{constructor(e,t,i,r,o,s,a,l,u){this.tree=e,this.themeService=a,this.disposables=[],this.contextKeyService=gE(o,e),this.listSupportsMultiSelect=hE.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(t.multipleSelectionSupport!==!1),fE.bindTo(this.contextKeyService).set(!!t.selectionNavigation),this.hasSelectionOrFocus=_3.bindTo(this.contextKeyService),this.hasDoubleSelection=b3.bindTo(this.contextKeyService),this.hasMultiSelection=S3.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=au(l);const d=new Set;d.add(foe);const h=()=>{const g=u.isScreenReaderOptimized()?"simple":l.getValue(VT);e.updateOptions({simpleKeyboardNavigation:g==="simple",filterOnType:g==="filter"})};this.updateStyleOverrides(r),this.disposables.push(this.contextKeyService,s.register(e),e.onDidChangeSelection(()=>{const f=e.getSelection(),g=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(f.length>0||g.length>0),this.hasMultiSelection.set(f.length>1),this.hasDoubleSelection.set(f.length===2)})}),e.onDidChangeFocus(()=>{const f=e.getSelection(),g=e.getFocus();this.hasSelectionOrFocus.set(f.length>0||g.length>0)}),l.onDidChangeConfiguration(f=>{let g={};if(f.affectsConfiguration(vp)&&(this._useAltAsMultipleSelectionModifier=au(l)),f.affectsConfiguration(tS)){const p=l.getValue(tS);g=Object.assign(Object.assign({},g),{indent:p})}if(f.affectsConfiguration(WT)){const p=l.getValue(WT);g=Object.assign(Object.assign({},g),{renderIndentGuides:p})}if(f.affectsConfiguration(ol)){const p=!!l.getValue(ol);g=Object.assign(Object.assign({},g),{smoothScrolling:p})}if(f.affectsConfiguration(VT)&&h(),f.affectsConfiguration(w3)&&(g=Object.assign(Object.assign({},g),{automaticKeyboardNavigation:i()})),f.affectsConfiguration(vs)&&t.horizontalScrolling===void 0){const p=!!l.getValue(vs);g=Object.assign(Object.assign({},g),{horizontalScrolling:p})}if(f.affectsConfiguration(zT)&&t.expandOnlyOnTwistieClick===void 0&&(g=Object.assign(Object.assign({},g),{expandOnlyOnTwistieClick:l.getValue(zT)==="doubleClick"})),f.affectsConfiguration(ou)){const p=l.getValue(ou);g=Object.assign(Object.assign({},g),{mouseWheelScrollSensitivity:p})}if(f.affectsConfiguration(su)){const p=l.getValue(su);g=Object.assign(Object.assign({},g),{fastScrollSensitivity:p})}Object.keys(g).length>0&&e.updateOptions(g)}),this.contextKeyService.onDidChangeContext(f=>{f.affectsSome(d)&&e.updateOptions({automaticKeyboardNavigation:i()})}),u.onDidChangeScreenReaderOptimized(()=>h())),this.navigator=new NAe(e,Object.assign({configurationService:l},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){e.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){Bn(this.styler),this.styler=e?Gv(this.tree,this.themeService,e):Pe.None}dispose(){this.disposables=Bn(this.disposables),Bn(this.styler),this.styler=void 0}};zg=bu([bt(4,pn),bt(5,Su),bt(6,zi),bt(7,br),bt(8,Ds)],zg);const PAe=ir.as(wy.Configuration);PAe.registerConfiguration({id:"workbench",order:7,title:E("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[vp]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[E("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),E("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:E({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[h4]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:E({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[vs]:{type:"boolean",default:!1,description:E("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[tS]:{type:"number",default:8,minimum:0,maximum:40,description:E("tree indent setting","Controls tree indentation in pixels.")},[WT]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:E("render tree indent guides","Controls whether the tree should render indent guides.")},[ol]:{type:"boolean",default:!1,description:E("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ou]:{type:"number",default:1,description:E("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the deltaX and deltaY of mouse wheel scroll events.")},[su]:{type:"number",default:5,description:E("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing Alt.")},[VT]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[E("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),E("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),E("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:E("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[w3]:{type:"boolean",default:!0,markdownDescription:E("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[zT]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:E("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}});var ds;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(ds||(ds={}));(function(n){function e(s,a){return a-s}n.compare=e;const t=Object.create(null);t[n.Error]=E("sev.error","Error"),t[n.Warning]=E("sev.warning","Warning"),t[n.Info]=E("sev.info","Info");function i(s){return t[s]||""}n.toString=i;function r(s){switch(s){case _i.Error:return n.Error;case _i.Warning:return n.Warning;case _i.Info:return n.Info;case _i.Ignore:return n.Hint}}n.fromSeverity=r;function o(s){switch(s){case n.Error:return _i.Error;case n.Warning:return _i.Warning;case n.Info:return _i.Info;case n.Hint:return _i.Ignore}}n.toSeverity=o})(ds||(ds={}));var p9;(function(n){const e="";function t(r){return i(r,!0)}n.makeKey=t;function i(r,o){let s=[e];return r.source?s.push(r.source.replace("","\\")):s.push(e),r.code?typeof r.code=="string"?s.push(r.code.replace("","\\")):s.push(r.code.value.replace("","\\")):s.push(e),r.severity!==void 0&&r.severity!==null?s.push(ds.toString(r.severity)):s.push(e),r.message&&o?s.push(r.message.replace("","\\")):s.push(e),r.startLineNumber!==void 0&&r.startLineNumber!==null?s.push(r.startLineNumber.toString()):s.push(e),r.startColumn!==void 0&&r.startColumn!==null?s.push(r.startColumn.toString()):s.push(e),r.endLineNumber!==void 0&&r.endLineNumber!==null?s.push(r.endLineNumber.toString()):s.push(e),r.endColumn!==void 0&&r.endColumn!==null?s.push(r.endColumn.toString()):s.push(e),s.push(e),s.join("")}n.makeKeyOptionalMessage=i})(p9||(p9={}));const poe=an("markerService");class OAe{constructor(){this._byResource=new Jr,this._byOwner=new Map}set(e,t,i){let r=this._byResource.get(e);r||(r=new Map,this._byResource.set(e,r)),r.set(t,i);let o=this._byOwner.get(t);o||(o=new Jr,this._byOwner.set(t,o)),o.set(e,i)}get(e,t){let i=this._byResource.get(e);return i==null?void 0:i.get(t)}delete(e,t){let i=!1,r=!1,o=this._byResource.get(e);o&&(i=o.delete(t));let s=this._byOwner.get(t);if(s&&(r=s.delete(e)),i!==r)throw new Error("illegal state");return i&&r}values(e){var t,i,r,o;return typeof e=="string"?(i=(t=this._byOwner.get(e))===null||t===void 0?void 0:t.values())!==null&&i!==void 0?i:At.empty():Nt.isUri(e)?(o=(r=this._byResource.get(e))===null||r===void 0?void 0:r.values())!==null&&o!==void 0?o:At.empty():At.map(At.concat(...this._byOwner.values()),s=>s[1])}}class RAe{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Jr,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const i=this._data.get(t);i&&this._substract(i);const r=this._resourceStats(t);this._add(r),this._data.set(t,r)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===Nn.inMemory||e.scheme===Nn.walkThrough||e.scheme===Nn.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===ds.Error?t.errors+=1:i===ds.Warning?t.warnings+=1:i===ds.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class Pf{constructor(){this._onMarkerChanged=new D_e({delay:0,merge:Pf._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new OAe,this._stats=new RAe(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(Rwe(i))this._data.delete(t,e)&&this._onMarkerChanged.fire([t]);else{const r=[];for(const o of i){const s=Pf._toMarker(e,t,o);s&&r.push(s)}this._data.set(t,e,r),this._onMarkerChanged.fire([t])}}static _toMarker(e,t,i){let{code:r,severity:o,message:s,source:a,startLineNumber:l,startColumn:u,endLineNumber:c,endColumn:d,relatedInformation:h,tags:f}=i;if(s)return l=l>0?l:1,u=u>0?u:1,c=c>=l?c:l,d=d>0?d:u,{resource:t,owner:e,code:r,severity:o,message:s,source:a,startLineNumber:l,startColumn:u,endLineNumber:c,endColumn:d,relatedInformation:h,tags:f}}read(e=Object.create(null)){let{owner:t,resource:i,severities:r,take:o}=e;if((!o||o<0)&&(o=-1),t&&i){const s=this._data.get(i,t);if(s){const a=[];for(const l of s)if(Pf._accept(l,r)){const u=a.push(l);if(o>0&&u===o)break}return a}else return[]}else if(!t&&!i){const s=[];for(let a of this._data.values())for(let l of a)if(Pf._accept(l,r)){const u=s.push(l);if(o>0&&u===o)return s}return s}else{const s=this._data.values(i??t),a=[];for(const l of s)for(const u of l)if(Pf._accept(u,r)){const c=a.push(u);if(o>0&&c===o)return a}return a}}static _accept(e,t){return t===void 0||(t&e.severity)===e.severity}static _merge(e){const t=new Jr;for(let i of e)for(let r of i)t.set(r,!0);return Array.from(t.keys())}}var Wx=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})},Fm;(function(n){n[n.None=0]="None",n[n.Initialized=1]="Initialized",n[n.Closed=2]="Closed"})(Fm||(Fm={}));let g4=class moe extends Pe{constructor(e,t=Object.create(null)){super(),this.database=e,this.options=t,this._onDidChangeStorage=this._register(new ae),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=Fm.None,this.cache=new Map,this.flushDelayer=new cbe(moe.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){var t,i;(t=e.changed)===null||t===void 0||t.forEach((r,o)=>this.accept(o,r)),(i=e.deleted)===null||i===void 0||i.forEach(r=>this.accept(r,void 0))}accept(e,t){if(this.state===Fm.Closed)return;let i=!1;$a(t)?i=this.cache.delete(e):this.cache.get(e)!==t&&(this.cache.set(e,t),i=!0),i&&this._onDidChangeStorage.fire(e)}get(e,t){const i=this.cache.get(e);return $a(i)?t:i}getBoolean(e,t){const i=this.get(e);return $a(i)?t:i==="true"}getNumber(e,t){const i=this.get(e);return $a(i)?t:parseInt(i,10)}set(e,t){return Wx(this,void 0,void 0,function*(){if(this.state===Fm.Closed)return;if($a(t))return this.delete(e);const i=String(t);if(this.cache.get(e)!==i)return this.cache.set(e,i),this.pendingInserts.set(e,i),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())})}delete(e){return Wx(this,void 0,void 0,function*(){if(!(this.state===Fm.Closed||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire(e),this.flushDelayer.trigger(()=>this.flushPending())})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return Wx(this,void 0,void 0,function*(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{var t;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(t=this.whenFlushedCallbacks.pop())===null||t===void 0||t()})})}dispose(){this.flushDelayer.dispose(),super.dispose()}};g4.DEFAULT_FLUSH_DELAY=100;class m9{constructor(){this.onDidChangeItemsExternal=Ze.None,this.items=new Map}updateItems(e){return Wx(this,void 0,void 0,function*(){e.insert&&e.insert.forEach((t,i)=>this.items.set(i,t)),e.delete&&e.delete.forEach(t=>this.items.delete(t))})}}const M1="__$__targetStorageMarker",x3=an("storageService");var v9;(function(n){n[n.NONE=0]="NONE",n[n.SHUTDOWN=1]="SHUTDOWN"})(v9||(v9={}));class mE extends Pe{constructor(e={flushInterval:mE.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e,this._onDidChangeValue=this._register(new BL),this._onDidChangeTarget=this._register(new BL),this._onWillSaveState=this._register(new ae),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._globalKeyTargets=void 0}emitDidChangeValue(e,t){t===M1?(e===0?this._globalKeyTargets=void 0:e===1&&(this._workspaceKeyTargets=void 0),this._onDidChangeTarget.fire({scope:e})):this._onDidChangeValue.fire({scope:e,key:t,target:this.getKeyTargets(e)[t]})}get(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.get(e,i)}getBoolean(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getBoolean(e,i)}getNumber(e,t,i){var r;return(r=this.getStorage(t))===null||r===void 0?void 0:r.getNumber(e,i)}store(e,t,i,r){if($a(t)){this.remove(e,i);return}this.withPausedEmitters(()=>{var o;this.updateKeyTarget(e,i,r),(o=this.getStorage(i))===null||o===void 0||o.set(e,t)})}remove(e,t){this.withPausedEmitters(()=>{var i;this.updateKeyTarget(e,t,void 0),(i=this.getStorage(t))===null||i===void 0||i.delete(e)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(e,t,i){var r,o;const s=this.getKeyTargets(t);typeof i=="number"?s[e]!==i&&(s[e]=i,(r=this.getStorage(t))===null||r===void 0||r.set(M1,JSON.stringify(s))):typeof s[e]=="number"&&(delete s[e],(o=this.getStorage(t))===null||o===void 0||o.set(M1,JSON.stringify(s)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get globalKeyTargets(){return this._globalKeyTargets||(this._globalKeyTargets=this.loadKeyTargets(0)),this._globalKeyTargets}getKeyTargets(e){return e===0?this.globalKeyTargets:this.workspaceKeyTargets}loadKeyTargets(e){const t=this.get(M1,e);if(t)try{return JSON.parse(t)}catch{}return Object.create(null)}}mE.DEFAULT_FLUSH_INTERVAL=60*1e3;class BAe extends mE{constructor(){super(),this.globalStorage=this._register(new g4(new m9)),this.workspaceStorage=this._register(new g4(new m9)),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.globalStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e)))}getStorage(e){return e===0?this.globalStorage:this.workspaceStorage}}var voe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},zx=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let p4=class{constructor(e){this._commandService=e}createMenu(e,t,i=!1){return new m4(e,i,this._commandService,t,this)}};p4=voe([zx(0,Qo)],p4);let m4=class bm{constructor(e,t,i,r,o){this._id=e,this._fireEventsForSubmenuChanges=t,this._commandService=i,this._contextKeyService=r,this._menuService=o,this._disposables=new St,this._menuGroups=[],this._contextKeys=new Set,this._build();const s=new vr(()=>{this._build(),this._onDidChange.fire(this)},50);this._disposables.add(s),this._disposables.add(F_.onDidChangeMenu(u=>{u.has(e)&&s.schedule()}));const a=this._disposables.add(new St),l=()=>{const u=new vr(()=>this._onDidChange.fire(this),50);a.add(u),a.add(r.onDidChangeContext(c=>{c.affectsSome(this._contextKeys)&&u.schedule()}))};this._onDidChange=new ae({onFirstListenerAdd:l,onLastListenerRemove:a.clear.bind(a)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const e=F_.getMenuItems(this._id);let t;e.sort(bm._compareMenuItems);for(const i of e){const r=i.group||"";(!t||t[0]!==r)&&(t=[r,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeys(i)}}_collectContextKeys(e){if(bm._fillInKbExprKeys(e.when,this._contextKeys),n_(e)){if(e.command.precondition&&bm._fillInKbExprKeys(e.command.precondition,this._contextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;bm._fillInKbExprKeys(t,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&F_.getMenuItems(e.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[r,o]=i,s=[];for(const a of o)if(this._contextKeyService.contextMatchesRules(a.when)){const l=n_(a)?new DR(a.command,a.alt,e,this._contextKeyService,this._commandService):new yCe(a,this._menuService,this._contextKeyService,e);s.push(l)}s.length>0&&t.push([r,s])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(e,t){let i=e.group,r=t.group;if(i!==r){if(i){if(!r)return-1}else return 1;if(i==="navigation")return-1;if(r==="navigation")return 1;let a=i.localeCompare(r);if(a!==0)return a}let o=e.order||0,s=t.order||0;return o<s?-1:o>s?1:bm._compareTitles(n_(e)?e.command.title:e.title,n_(t)?t.command.title:t.title)}static _compareTitles(e,t){const i=typeof e=="string"?e:e.original,r=typeof t=="string"?t:t.original;return i.localeCompare(r)}};m4=voe([zx(2,Qo),zx(3,pn),zx(4,aie)],m4);var FAe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},y9=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};class $Ae extends Pe{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(Tn(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const r=this.model.deltaDecorations(i,t);for(let o=0;o<r.length;o++)this._markersData.set(r[o],e[o]);return i.length!==0||r.length!==0}getMarker(e){return this._markersData.get(e.id)}}let v4=class extends Pe{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ae),this._markerDecorations=new Jr,e.getModels().forEach(i=>this._onModelAdded(i)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(e);return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(t=>{const i=this._markerDecorations.get(t);i&&this._updateDecorations(i)})}_onModelAdded(e){const t=new $Ae(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),(e.uri.scheme===Nn.inMemory||e.uri.scheme===Nn.internal||e.uri.scheme===Nn.vscode)&&this._markerService&&this._markerService.read({resource:e.uri}).map(i=>i.owner).forEach(i=>this._markerService.remove(i,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map(r=>({range:this._createDecorationRange(e.model,r),options:this._createDecorationOption(r)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=ee.lift(t);if(t.severity===ds.Hint&&!this._hasMarkerTag(t,1)&&!this._hasMarkerTag(t,2)&&(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),i=e.validateRange(i),i.isEmpty()){let r=e.getWordAtPosition(i.getStartPosition());if(r)i=new ee(i.startLineNumber,r.startColumn,i.endLineNumber,r.endColumn);else{let o=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);o===1||(i.endColumn>=o?i=new ee(i.startLineNumber,o-1,i.endLineNumber,o):i=new ee(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&i.startLineNumber===i.endLineNumber){let r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<i.endColumn&&(i=new ee(i.startLineNumber,r,i.endLineNumber,i.endColumn),t.startColumn=r)}return i}_createDecorationOption(e){let t,i,r,o,s;switch(e.severity){case ds.Hint:this._hasMarkerTag(e,2)?t=void 0:this._hasMarkerTag(e,1)?t="squiggly-unnecessary":t="squiggly-hint",r=0;break;case ds.Warning:t="squiggly-warning",i=Va(bTe),r=20,s={color:Va(eTe),position:ah.Inline};break;case ds.Info:t="squiggly-info",i=Va(STe),r=10;break;case ds.Error:default:t="squiggly-error",i=Va(_Te),r=30,s={color:Va(JLe),position:ah.Inline};break}return e.tags&&(e.tags.indexOf(1)!==-1&&(o="squiggly-inline-unnecessary"),e.tags.indexOf(2)!==-1&&(o="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:i,position:sh.Right},minimap:s,zIndex:r,inlineClassName:o}}_hasMarkerTag(e,t){return e.tags?e.tags.indexOf(t)>=0:!1}};v4=FAe([y9(0,Jo),y9(1,poe)],v4);var VAe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},_9=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let y4=class extends Pe{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ae,this._accessibilityModeEnabledContext=lDe.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(r=>{r.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return e==="on"||e==="auto"&&this._accessibilitySupport===2}getAccessibilitySupport(){return this._accessibilitySupport}};y4=VAe([_9(0,pn),_9(1,br)],y4);var A1=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};class WAe{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return A1(this,void 0,void 0,function*(){if(t){this.mapTextToType.set(t,e);return}try{return yield navigator.clipboard.writeText(e)}catch(o){console.error(o)}const i=document.activeElement,r=document.body.appendChild(at("textarea",{"aria-hidden":!0}));r.style.height="1px",r.style.width="1px",r.style.position="absolute",r.value=e,r.focus(),r.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(r)})}readText(e){return A1(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(t){return console.error(t),""}})}readFindText(){return A1(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return A1(this,void 0,void 0,function*(){this.findText=e})}}var zAe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},b9=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},N1=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function k1(n){return n.scheme===Nn.file?n.fsPath:n.path}let yoe=0;class P1{constructor(e,t,i,r,o,s,a){this.id=++yoe,this.type=0,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=r,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class S9{constructor(e,t){this.resourceLabel=e,this.reason=t}}class w9{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,r]of this.elements)(r.reason===0?e:t).push(r.resourceLabel);let i=[];return e.length>0&&i.push(E({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(E({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join(`
`)}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class HAe{constructor(e,t,i,r,o,s,a){this.id=++yoe,this.type=1,this.actual=e,this.label=e.label,this.confirmBeforeUndo=e.confirmBeforeUndo||!1,this.resourceLabels=t,this.strResources=i,this.groupId=r,this.groupOrder=o,this.sourceId=s,this.sourceOrder=a,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(e,t,i){this.removedResources||(this.removedResources=new w9),this.removedResources.has(t)||this.removedResources.set(t,new S9(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new w9),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new S9(e,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class _oe{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)e.type===1&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){e.type===1?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const t of this._future)t.type===1&&t.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let i=0,r=this._past.length;i<r;i++)t.push(this._past[i].id);for(let i=this._future.length-1;i>=0;i--)t.push(this._future[i].id);return new Mre(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,r=0,o=-1;for(let a=0,l=this._past.length;a<l;a++,r++){const u=this._past[a];i&&(r>=t||u.id!==e.elements[r])&&(i=!1,o=0),!i&&u.type===1&&u.removeResource(this.resourceLabel,this.strResource,0)}let s=-1;for(let a=this._future.length-1;a>=0;a--,r++){const l=this._future[a];i&&(r>=t||l.id!==e.elements[r])&&(i=!1,s=a),!i&&l.type===1&&l.removeResource(this.resourceLabel,this.strResource,0)}o!==-1&&(this._past=this._past.slice(0,o)),s!==-1&&(this._future=this._future.slice(s+1)),this.versionId++}getElements(){const e=[],t=[];for(const i of this._past)e.push(i.actual);for(const i of this._future)t.push(i.actual);return{past:e,future:t}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class f2{constructor(e){this.editStacks=e,this._versionIds=[];for(let t=0,i=this.editStacks.length;t<i;t++)this._versionIds[t]=this.editStacks[t].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const boe=new _oe("","");boe.locked=!0;let HT=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const i of this._editStacks)t.push(i[1].toString());console.log(t.join(`
`))}pushElement(e,t=zv.None,i=zl.None){if(e.type===0){const r=k1(e.resource),o=this.getUriComparisonKey(e.resource);this._pushElement(new P1(e,r,o,t.id,t.nextOrder(),i.id,i.nextOrder()))}else{const r=new Set,o=[],s=[];for(const a of e.resources){const l=k1(a),u=this.getUriComparisonKey(a);r.has(u)||(r.add(u),o.push(l),s.push(u))}o.length===1?this._pushElement(new P1(e,o[0],s[0],t.id,t.nextOrder(),i.id,i.nextOrder())):this._pushElement(new HAe(e,o,s,t.id,t.nextOrder(),i.id,i.nextOrder()))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const r=e.resourceLabels[t],o=e.strResources[t];let s;this._editStacks.has(o)?s=this._editStacks.get(o):(s=new _oe(r,o),this._editStacks.set(o,s)),s.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const i=this._editStacks.get(t);if(i.hasFutureElements())return null;const r=i.getClosestPastElement();return r?r.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const o of i){const s=k1(o.resource),a=this.getUriComparisonKey(o.resource),l=new P1(o,s,a,0,0,0,0);r.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitPastWorkspaceElement(e,r)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),r=new Map;for(const o of i){const s=k1(o.resource),a=this.getUriComparisonKey(o.resource),l=new P1(o,s,a,0,0,0,0);r.set(l.strResource,l)}for(const o of e.strResources){if(t&&t.has(o))continue;this._editStacks.get(o).splitFutureWorkspaceElement(e,r)}}removeElements(e){const t=typeof e=="string"?e:this.getUriComparisonKey(e);this._editStacks.has(t)&&(this._editStacks.get(t).dispose(),this._editStacks.delete(t))}setElementsValidFlag(e,t,i){const r=this.getUriComparisonKey(e);this._editStacks.has(r)&&this._editStacks.get(r).setElementsValidFlag(t,i)}createSnapshot(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).createSnapshot(e):new Mre(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),!i.hasPastElements()&&!i.hasFutureElements()&&(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.sourceId===e&&(!t||s.sourceOrder>t.sourceOrder)&&(t=s,i=r)}return[t,i]}canUndo(e){if(e instanceof zl){const[,i]=this._findClosestUndoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasPastElements():!1}_onError(e,t){Rn(e);for(const i of t.strResources)this.removeElements(i);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,r,o){const s=this._acquireLocks(i);let a;try{a=t()}catch(l){return s(),r.dispose(),this._onError(l,e)}return a?a.then(()=>(s(),r.dispose(),o()),l=>(s(),r.dispose(),this._onError(l,e))):(s(),r.dispose(),o())}_invokeWorkspacePrepare(e){return N1(this,void 0,void 0,function*(){if(typeof e.actual.prepareUndoRedo>"u")return Pe.None;const t=e.actual.prepareUndoRedo();return typeof t>"u"?Pe.None:t})}_invokeResourcePrepare(e,t){if(e.actual.type!==1||typeof e.actual.prepareUndoRedo>"u")return t(Pe.None);const i=e.actual.prepareUndoRedo();return i?x_e(i)?t(i):i.then(r=>t(r)):t(Pe.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||boe);return new f2(t)}_tryToSplitAndUndo(e,t,i,r){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.warn(r),new O1(this._undo(e,0,!0));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(r),new O1}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,E({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,E({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestPastElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,E({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,E({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,E({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t,i){const r=this._getAffectedEditStacks(t),o=this._checkWorkspaceUndo(e,t,r,!1);return o?o.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,r,i)}_isPartOfUndoGroup(e){if(!e.groupId)return!1;for(const[,t]of this._editStacks){const i=t.getClosestPastElement();if(i){if(i===e){const r=t.getSecondClosestPastElement();if(r&&r.groupId===e.groupId)return!0}if(i.groupId===e.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(e,t,i,r){return N1(this,void 0,void 0,function*(){if(t.canSplit()&&!this._isPartOfUndoGroup(t)){const a=yield this._dialogService.show(_i.Info,E("confirmWorkspace","Would you like to undo '{0}' across all files?",t.label),[E({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",i.editStacks.length),E("nok","Undo this File"),E("cancel","Cancel")],{cancelId:2});if(a.choice===2)return;if(a.choice===1)return this._splitPastWorkspaceElement(t,null),this._undo(e,0,!0);const l=this._checkWorkspaceUndo(e,t,i,!1);if(l)return l.returnValue;r=!0}let o;try{o=yield this._invokeWorkspacePrepare(t)}catch(a){return this._onError(a,t)}const s=this._checkWorkspaceUndo(e,t,i,!0);if(s)return o.dispose(),s.returnValue;for(const a of i.editStacks)a.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,o,()=>this._continueUndoInGroup(t.groupId,r))})}_resourceUndo(e,t,i){if(!t.isValid){e.flushAllElements();return}if(e.locked){const r=E({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(r);return}return this._invokeResourcePrepare(t,r=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new f2([e]),r,()=>this._continueUndoInGroup(t.groupId,i))))}_findClosestUndoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestPastElement();s&&s.groupId===e&&(!t||s.groupOrder>t.groupOrder)&&(t=s,i=r)}return[t,i]}_continueUndoInGroup(e,t){if(!e)return;const[,i]=this._findClosestUndoElementInGroup(e);if(i)return this._undo(i,0,t)}undo(e){if(e instanceof zl){const[,t]=this._findClosestUndoElementWithSource(e.id);return t?this._undo(t,e.id,!1):void 0}return typeof e=="string"?this._undo(e,0,!1):this._undo(this.getUriComparisonKey(e),0,!1)}_undo(e,t=0,i){if(!this._editStacks.has(e))return;const r=this._editStacks.get(e),o=r.getClosestPastElement();if(!o)return;if(o.groupId){const[a,l]=this._findClosestUndoElementInGroup(o.groupId);if(o!==a&&l)return this._undo(l,t,i)}if((o.sourceId!==t||o.confirmBeforeUndo)&&!i)return this._confirmAndContinueUndo(e,t,o);try{return o.type===1?this._workspaceUndo(e,o,i):this._resourceUndo(r,o,i)}finally{}}_confirmAndContinueUndo(e,t,i){return N1(this,void 0,void 0,function*(){if((yield this._dialogService.show(_i.Info,E("confirmDifferentSource","Would you like to undo '{0}'?",i.label),[E("confirmDifferentSource.yes","Yes"),E("cancel","Cancel")],{cancelId:1})).choice!==1)return this._undo(e,t,!0)})}_findClosestRedoElementWithSource(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.sourceId===e&&(!t||s.sourceOrder<t.sourceOrder)&&(t=s,i=r)}return[t,i]}canRedo(e){if(e instanceof zl){const[,i]=this._findClosestRedoElementWithSource(e.id);return!!i}const t=this.getUriComparisonKey(e);return this._editStacks.has(t)?this._editStacks.get(t).hasFutureElements():!1}_tryToSplitAndRedo(e,t,i,r){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.warn(r),new O1(this._redo(e));for(const o of t.strResources)this.removeElements(o);return this._notificationService.warn(r),new O1}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,E({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,E({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const a of i.editStacks)a.getClosestFutureElement()!==t&&o.push(a.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,E({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const a of i.editStacks)a.locked&&s.push(a.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,E({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,E({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),r=this._checkWorkspaceRedo(e,t,i,!1);return r?r.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return N1(this,void 0,void 0,function*(){let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(s){return this._onError(s,t)}const o=this._checkWorkspaceRedo(e,t,i,!0);if(o)return r.dispose(),o.returnValue;for(const s of i.editStacks)s.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,r,()=>this._continueRedoInGroup(t.groupId))})}_resourceRedo(e,t){if(!t.isValid){e.flushAllElements();return}if(e.locked){const i=E({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.warn(i);return}return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new f2([e]),i,()=>this._continueRedoInGroup(t.groupId))))}_findClosestRedoElementInGroup(e){if(!e)return[null,null];let t=null,i=null;for(const[r,o]of this._editStacks){const s=o.getClosestFutureElement();s&&s.groupId===e&&(!t||s.groupOrder<t.groupOrder)&&(t=s,i=r)}return[t,i]}_continueRedoInGroup(e){if(!e)return;const[,t]=this._findClosestRedoElementInGroup(e);if(t)return this._redo(t)}redo(e){if(e instanceof zl){const[,t]=this._findClosestRedoElementWithSource(e.id);return t?this._redo(t):void 0}return typeof e=="string"?this._redo(e):this._redo(this.getUriComparisonKey(e))}_redo(e){if(!this._editStacks.has(e))return;const t=this._editStacks.get(e),i=t.getClosestFutureElement();if(i){if(i.groupId){const[r,o]=this._findClosestRedoElementInGroup(i.groupId);if(i!==r&&o)return this._redo(o)}try{return i.type===1?this._workspaceRedo(e,i):this._resourceRedo(t,i)}finally{}}}};HT=zAe([b9(0,Xre),b9(1,pa)],HT);class O1{constructor(e){this.returnValue=e}}mre(t3,HT);const UAe={ctrlCmd:!1,alt:!1};var nS;(function(n){n[n.Blur=1]="Blur",n[n.Gesture=2]="Gesture",n[n.Other=3]="Other"})(nS||(nS={}));var Ma;(function(n){n[n.NONE=0]="NONE",n[n.FIRST=1]="FIRST",n[n.SECOND=2]="SECOND",n[n.LAST=3]="LAST"})(Ma||(Ma={}));const C9=new zte(()=>{const n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:n,collatorIsNumeric:n.resolvedOptions().numeric}});function GAe(n,e,t=!1){const i=n||"",r=e||"",o=C9.value.collator.compare(i,r);return C9.value.collatorIsNumeric&&o===0&&i!==r?i<r?-1:1:o}function KAe(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),o=jAe(n,e,t);if(o)return o;const s=i.endsWith(t),a=r.endsWith(t);if(s!==a)return s?-1:1;const l=GAe(i,r);return l!==0?l:i.localeCompare(r)}function jAe(n,e,t){const i=n.toLowerCase(),r=e.toLowerCase(),o=i.startsWith(t),s=r.startsWith(t);if(o!==s)return o?-1:1;if(o&&s){if(i.length<r.length)return-1;if(i.length>r.length)return 1}return 0}const qAe=new RegExp(`(\\\\)?\\$\\((${bo.iconNameExpression}(?:${bo.iconModifierExpression})?)\\)`,"g");function X_(n){const e=new Array;let t,i=0,r=0;for(;(t=qAe.exec(n))!==null;){r=t.index||0,e.push(n.substring(i,r)),i=(t.index||0)+t[0].length;const[,o,s]=t;e.push(o?`$(${s})`:YAe({id:s}))}return i<n.length&&e.push(n.substring(i)),e}function YAe(n){const e=at("span");return e.classList.add(...bo.asClassNameArray(n)),e}class Hg{constructor(e,t){this.supportIcons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",r){e||(e=""),r&&(e=Hg.escapeNewLines(e,t)),!(this.didEverRender&&this.text===e&&this.title===i&&hc(this.highlights,t))&&(this.text=e,this.title=i,this.highlights=t,this.render())}render(){const e=[];let t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){const s=this.text.substring(t,i.start);e.push(at("span",void 0,...this.supportIcons?X_(s):[s])),t=i.end}const r=this.text.substring(i.start,i.end),o=at("span.highlight",void 0,...this.supportIcons?X_(r):[r]);i.extraClasses&&o.classList.add(i.extraClasses),e.push(o),t=i.end}if(t<this.text.length){const i=this.text.substring(t);e.push(at("span",void 0,...this.supportIcons?X_(i):[i]))}ID(this.domNode,...e),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,r=0;return e.replace(/\r\n|\r|\n/g,(o,s)=>{r=o===`\r
`?-1:0,s+=i;for(const a of t)a.end<=s||(a.start>=s&&(a.start+=r),a.end>=s&&(a.end+=r));return i+=r,""})}}var _4=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function XAe(n,e){il(e)?n.title=e:e!=null&&e.markdownNotSupportedFallback?n.title=e.markdownNotSupportedFallback:n.removeAttribute("title")}function ZAe(n,e,t){if(!t)return;const i=QAe(t);let r,o;const s=l=>{if(r)return;const u=new _y,c=v=>{const y=v.type===it.MOUSE_DOWN;y&&(o==null||o.dispose(),o=void 0),(y||v.fromElement===e)&&(r==null||r.dispose(),r=void 0)},d=De(e,it.MOUSE_LEAVE,c,!0),h=De(e,it.MOUSE_DOWN,c,!0),f={targetElements:[e],dispose:()=>{}};let g;if(n.placement===void 0||n.placement==="mouse"){const v=y=>f.x=y.x+10;g=De(e,it.MOUSE_MOVE,v,!0)}const p=()=>_4(this,void 0,void 0,function*(){var v;if(r){const y={text:E("iconLabel.loading","Loading..."),target:f,hoverPosition:2};o==null||o.dispose(),o=n.showHover(y);const _=(v=yield i(u.token))!==null&&v!==void 0?v:il(t)?void 0:t.markdownNotSupportedFallback;if(o==null||o.dispose(),o=void 0,_&&r){const b={text:_,target:f,showPointer:n.placement==="element",hoverPosition:2};o=n.showHover(b)}}g==null||g.dispose()}),m=new vr(p,n.delay);m.schedule(),r=Tn(()=>{m.dispose(),g==null||g.dispose(),h.dispose(),d.dispose(),u.dispose(!0)})},a=De(e,it.MOUSE_OVER,s,!0);return Tn(()=>{a.dispose(),r==null||r.dispose(),o==null||o.dispose()})}function QAe(n){if(il(n))return()=>_4(this,void 0,void 0,function*(){return n});if(M_(n.markdown))return n.markdown;{const e=n.markdown;return()=>_4(this,void 0,void 0,function*(){return e})}}class g2{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class JAe extends Pe{constructor(e,t){super(),this.customHovers=new Map,this.domNode=this._register(new g2(je(e,at(".monaco-icon-label")))),this.labelContainer=je(this.domNode.element,at(".monaco-icon-label-container"));const i=je(this.labelContainer,at("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new g2(je(this.labelContainer,at("span.monaco-icon-description-container")))),t!=null&&t.supportHighlights||t!=null&&t.supportIcons?this.nameNode=new n2e(i,!!t.supportIcons):this.nameNode=new e2e(i),t!=null&&t.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new Hg(je(this.descriptionContainer.element,at("span.label-description")),!!t.supportIcons):this.descriptionNodeFactory=()=>this._register(new g2(je(this.descriptionContainer.element,at("span.label-description")))),this.hoverDelegate=t==null?void 0:t.hoverDelegate}setLabel(e,t,i){const r=["monaco-icon-label"];i&&(i.extraClasses&&r.push(...i.extraClasses),i.italic&&r.push("italic"),i.strikethrough&&r.push("strikethrough")),this.domNode.className=r.join(" "),this.setupHover(this.labelContainer,i==null?void 0:i.title),this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof Hg?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,i==null?void 0:i.descriptionTitle)):(this.descriptionNode.textContent=t||"",this.setupHover(this.descriptionNode.element,(i==null?void 0:i.descriptionTitle)||""),this.descriptionNode.empty=!t))}setupHover(e,t){const i=this.customHovers.get(e);if(i&&(i.dispose(),this.customHovers.delete(e)),!t){e.removeAttribute("title");return}if(!this.hoverDelegate)XAe(e,t);else{const r=ZAe(this.hoverDelegate,e,t);r&&this.customHovers.set(e,r)}}dispose(){super.dispose();for(const e of this.customHovers.values())e.dispose();this.customHovers.clear()}}class e2e{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&hc(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=je(this.container,at("a.label-name",{id:t==null?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const r=e[i],o=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${i}`;je(this.container,at("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},r)),i<e.length-1&&je(this.container,at("span.label-separator",void 0,(t==null?void 0:t.separator)||"/"))}}}}function t2e(n,e,t){if(!t)return;let i=0;return n.map(r=>{const o={start:i,end:i+r.length},s=t.map(a=>cr.intersect(o,a)).filter(a=>!cr.isEmpty(a)).map(({start:a,end:l})=>({start:a-i,end:l-i}));return i=o.end+e.length,s})}class n2e{constructor(e,t){this.container=e,this.supportIcons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(!(this.label===e&&hc(this.options,t)))if(this.label=e,this.options=t,typeof e=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new Hg(je(this.container,at("a.label-name",{id:t==null?void 0:t.domId})),this.supportIcons)),this.singleLabel.set(e,t==null?void 0:t.matches,void 0,t==null?void 0:t.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const i=(t==null?void 0:t.separator)||"/",r=t2e(e,i,t==null?void 0:t.matches);for(let o=0;o<e.length;o++){const s=e[o],a=r?r[o]:void 0,l=(t==null?void 0:t.domId)&&`${t==null?void 0:t.domId}_${o}`,u=at("a.label-name",{id:l,"data-icon-label-count":e.length,"data-icon-label-index":o,role:"treeitem"});new Hg(je(this.container,u),this.supportIcons).set(s,a,void 0,t==null?void 0:t.labelEscapeNewLines),o<e.length-1&&je(u,at("span.label-separator",void 0,i))}}}}class i2e{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const p2={},r2e=new i2e("quick-input-button-icon-");function b4(n){if(!n)return;let e;const t=n.dark.toString();return p2[t]?e=p2[t]:(e=r2e.nextId(),y7(`.${e}`,`background-image: ${Ab(n.light||n.dark)}`),y7(`.vs-dark .${e}, .hc-black .${e}`,`background-image: ${Ab(n.dark)}`),p2[t]=e),e}const R1=at;class L3{constructor(e,t,i){this.os=t,this.keyElements=new Set,this.options=i||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=je(e,R1(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t){this.didEverRender&&this.keybinding===e&&L3.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(this.clear(),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(je(this.domNode,R1("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){Ss(this.domNode),this.keyElements.clear()}renderPart(e,t,i){const r=Xne.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,r.ctrlKey,!!(i!=null&&i.ctrlKey),r.separator),t.shiftKey&&this.renderKey(e,r.shiftKey,!!(i!=null&&i.shiftKey),r.separator),t.altKey&&this.renderKey(e,r.altKey,!!(i!=null&&i.altKey),r.separator),t.metaKey&&this.renderKey(e,r.metaKey,!!(i!=null&&i.metaKey),r.separator);const o=t.keyLabel;o&&this.renderKey(e,o,!!(i!=null&&i.keyCode),"")}renderKey(e,t,i,r){je(e,this.createKeyElement(t,i?".highlight":"")),r&&je(e,R1("span.monaco-keybinding-key-separator",void 0,r))}renderUnbound(e){je(e,this.createKeyElement(E("unbound","Unbound")))}createKeyElement(e,t=""){const i=R1("span.monaco-keybinding-key"+t,void 0,e);return this.keyElements.add(i),i}style(e){this.labelBackground=e.keybindingLabelBackground,this.labelForeground=e.keybindingLabelForeground,this.labelBorder=e.keybindingLabelBorder,this.labelBottomBorder=e.keybindingLabelBottomBorder,this.labelShadow=e.keybindingLabelShadow,this.applyStyles()}applyStyles(){var e;if(this.element){for(const t of this.keyElements)this.labelBackground&&(t.style.backgroundColor=(e=this.labelBackground)===null||e===void 0?void 0:e.toString()),this.labelBorder&&(t.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(t.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(e,t){return e===t||!e&&!t?!0:!!e&&!!t&&hc(e.firstPart,t.firstPart)&&hc(e.chordPart,t.chordPart)}}var Soe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},o2e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Tl=at;class s2e{constructor(e){this.hidden=!1,this._onChecked=new ae,this.onChecked=this._onChecked.event,Object.assign(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class mw{get templateId(){return mw.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=je(e,Tl(".quick-input-list-entry"));const i=je(t.entry,Tl("label.quick-input-list-label"));t.toDisposeTemplate.push(to(i,it.CLICK,u=>{t.checkbox.offsetParent||u.preventDefault()})),t.checkbox=je(i,Tl("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(to(t.checkbox,it.CHANGE,u=>{t.element.checked=t.checkbox.checked}));const r=je(i,Tl(".quick-input-list-rows")),o=je(r,Tl(".quick-input-list-row")),s=je(r,Tl(".quick-input-list-row"));t.label=new JAe(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const a=je(o,Tl(".quick-input-list-entry-keybinding"));t.keybinding=new L3(a,Ba);const l=je(s,Tl(".quick-input-list-label-meta"));return t.detail=new Hg(l,!0),t.separator=je(t.entry,Tl(".quick-input-list-separator")),t.actionBar=new Wv(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=Bn(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(u=>i.checkbox.checked=u));const{labelHighlights:r,descriptionHighlights:o,detailHighlights:s}=e,a=Object.create(null);a.matches=r||[],a.descriptionTitle=e.saneDescription,a.descriptionMatches=o||[],a.extraClasses=e.item.iconClasses,a.italic=e.item.italic,a.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,a),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,s),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",i.entry.classList.toggle("quick-input-list-separator-border",!!e.separator),i.actionBar.clear();const l=e.item.buttons;l&&l.length?(i.actionBar.push(l.map((u,c)=>{let d=u.iconClass||(u.iconPath?b4(u.iconPath):void 0);u.alwaysVisible&&(d=d?`${d} always-visible`:"always-visible");const h=new Ql(`id-${c}`,"",d,!0,()=>o2e(this,void 0,void 0,function*(){e.fireButtonTriggered({button:u,item:e.item})}));return h.tooltip=u.tooltip||"",h}),{icon:!0,label:!1}),i.entry.classList.add("has-actions")):i.entry.classList.remove("has-actions")}disposeElement(e,t,i){i.toDisposeElement=Bn(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=Bn(e.toDisposeElement),e.toDisposeTemplate=Bn(e.toDisposeTemplate)}}mw.ID="listelement";class a2e{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return mw.ID}}var ti;(function(n){n[n.First=1]="First",n[n.Second=2]="Second",n[n.Last=3]="Last",n[n.Next=4]="Next",n[n.Previous=5]="Previous",n[n.NextPage=6]="NextPage",n[n.PreviousPage=7]="PreviousPage"})(ti||(ti={}));class T3{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new ae,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new ae,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new ae,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new ae,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new ae,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new ae,this.onKeyDown=this._onKeyDown.event,this._onLeave=new ae,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=je(this.parent,Tl(".quick-input-list"));const r=new a2e,o=new u2e;this.list=i.createList("QuickInput",this.container,r,[new mw],{identityProvider:{getId:s=>s.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(s=>{const a=new ni(s);switch(a.keyCode){case 10:this.toggleCheckbox();break;case 31:(Qt?s.metaKey:s.ctrlKey)&&this.list.setFocus(Nr(this.list.length));break;case 16:const l=this.list.getFocus();l.length===1&&l[0]===0&&this._onLeave.fire();break;case 18:const u=this.list.getFocus();u.length===1&&u[0]===this.list.length-1&&this._onLeave.fire();break}this._onKeyDown.fire(a)})),this.disposables.push(this.list.onMouseDown(s=>{s.browserEvent.button!==2&&s.browserEvent.preventDefault()})),this.disposables.push(De(this.container,it.CLICK,s=>{(s.x||s.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(s=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(s=>{typeof s.index=="number"&&(s.browserEvent.preventDefault(),this.list.setSelection([s.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return Ze.map(this.list.onDidChangeFocus,e=>e.elements.map(t=>t.item))}get onDidChangeSelection(){return Ze.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(t=>t.item),event:e.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,r=e.length;i<r;i++){const o=e[i];if(!o.hidden)if(o.checked)t=!0;else return!1}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,r=t.length;i<r;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=Bn(this.elementDisposables);const t=i=>this.fireButtonTriggered(i);this.inputElements=e,this.elements=e.reduce((i,r,o)=>{var s,a,l;if(r.type!=="separator"){const u=o&&e[o-1],c=r.label&&r.label.replace(/\r?\n/g," "),d=r.meta&&r.meta.replace(/\r?\n/g," "),h=r.description&&r.description.replace(/\r?\n/g," "),f=r.detail&&r.detail.replace(/\r?\n/g," "),g=r.ariaLabel||[c,h,f].map(p=>VSe(p)).filter(p=>!!p).join(", ");i.push(new s2e({index:o,item:r,saneLabel:c,saneMeta:d,saneAriaLabel:g,saneDescription:h,saneDetail:f,labelHighlights:(s=r.highlights)===null||s===void 0?void 0:s.label,descriptionHighlights:(a=r.highlights)===null||a===void 0?void 0:a.description,detailHighlights:(l=r.highlights)===null||l===void 0?void 0:l.detail,checked:!1,separator:u&&u.type==="separator"?u:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(i=>i.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((i,r,o)=>(i.set(r.item,o),i),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t))),e.length>0){const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(t=>this.elementsToIndexes.has(t)).map(t=>this.elementsToIndexes.get(t)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const i of this.elements)i.checked=t.has(i.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===ti.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=ti.First),e===ti.Previous&&this.list.getFocus()[0]===0&&(e=ti.Last),e===ti.Second&&this.list.length<2&&(e=ti.First),e){case ti.First:this.list.focusFirst();break;case ti.Second:this.list.focusNth(1);break;case ti.Last:this.list.focusLast();break;case ti.Next:this.list.focusNext();break;case ti.Previous:this.list.focusPrevious();break;case ti.NextPage:this.list.focusNextPage();break;case ti.PreviousPage:this.list.focusPreviousPage();break}const t=this.list.getFocus()[0];typeof t=="number"&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${Math.floor(e/44)*44}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;if(e=e.trim(),!e||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(i=>{i.labelHighlights=void 0,i.descriptionHighlights=void 0,i.detailHighlights=void 0,i.hidden=!1;const r=i.index&&this.inputElements[i.index-1];i.separator=r&&r.type==="separator"?r:void 0});else{let i;this.elements.forEach(r=>{const o=this.matchOnLabel?Mm(E1(e,D1(r.saneLabel))):void 0,s=this.matchOnDescription?Mm(E1(e,D1(r.saneDescription||""))):void 0,a=this.matchOnDetail?Mm(E1(e,D1(r.saneDetail||""))):void 0,l=this.matchOnMeta?Mm(E1(e,D1(r.saneMeta||""))):void 0;if(o||s||a||l?(r.labelHighlights=o,r.descriptionHighlights=s,r.detailHighlights=a,r.hidden=!1):(r.labelHighlights=void 0,r.descriptionHighlights=void 0,r.detailHighlights=void 0,r.hidden=!r.item.alwaysShow),r.separator=void 0,!this.sortByLabel){const u=r.index&&this.inputElements[r.index-1];i=u&&u.type==="separator"?u:i,i&&!r.hidden&&(r.separator=i,i=void 0)}})}const t=this.elements.filter(i=>!i.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((r,o)=>l2e(r,o,i))}return this.elementsToIndexes=t.reduce((i,r,o)=>(i.set(r.item,o),i),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=Bn(this.elementDisposables),this.disposables=Bn(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}Soe([yi],T3.prototype,"onDidChangeFocus",null);Soe([yi],T3.prototype,"onDidChangeSelection",null);function l2e(n,e,t){const i=n.labelHighlights||[],r=e.labelHighlights||[];return i.length&&!r.length?-1:!i.length&&r.length?1:i.length===0&&r.length===0?0:KAe(n.saneLabel,e.saneLabel,t)}class u2e{getWidgetAriaLabel(){return E("quickInput","Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}function c2e(n,e={}){const t=woe(e);return t.textContent=n,t}function d2e(n,e={}){const t=woe(e);return Coe(t,f2e(n,!!e.renderCodeSegements),e.actionHandler,e.renderCodeSegements),t}function woe(n){const e=n.inline?"span":"div",t=document.createElement(e);return n.className&&(t.className=n.className),t}class h2e{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function Coe(n,e,t,i){let r;if(e.type===2)r=document.createTextNode(e.content||"");else if(e.type===3)r=document.createElement("b");else if(e.type===4)r=document.createElement("i");else if(e.type===7&&i)r=document.createElement("code");else if(e.type===5&&t){const o=document.createElement("a");o.href="#",t.disposeables.add(to(o,"click",s=>{t.callback(String(e.index),s)})),r=o}else e.type===8?r=document.createElement("br"):e.type===1&&(r=n);r&&n!==r&&n.appendChild(r),r&&Array.isArray(e.children)&&e.children.forEach(o=>{Coe(r,o,t,i)})}function f2e(n,e){const t={type:1,children:[]};let i=0,r=t;const o=[],s=new h2e(n);for(;!s.eos();){let a=s.next();const l=a==="\\"&&S4(s.peek(),e)!==0;if(l&&(a=s.next()),!l&&g2e(a,e)&&a===s.peek()){s.advance(),r.type===2&&(r=o.pop());const u=S4(a,e);if(r.type===u||r.type===5&&u===6)r=o.pop();else{const c={type:u,children:[]};u===5&&(c.index=i,i++),r.children.push(c),o.push(r),r=c}}else if(a===`
`)r.type===2&&(r=o.pop()),r.children.push({type:8});else if(r.type!==2){const u={type:2,content:a};r.children.push(u),o.push(r),r=u}else r.content+=a}return r.type===2&&(r=o.pop()),t}function g2e(n,e){return S4(n,e)!==0}function S4(n,e){switch(n){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}class p2e{constructor(e,t=0,i=e.length,r=t-1){this.items=e,this.start=t,this.end=i,this.index=r}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class m2e{constructor(e=[],t=10){this._initialize(e),this._limit=t,this._onChange()}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(e){return this._history.has(e)}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new p2e(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const t of e)this._history.add(t)}get _elements(){const e=[];return this._history.forEach(t=>e.push(t)),e}}const f0=at,v2e={inputBackground:_e.fromHex("#3C3C3C"),inputForeground:_e.fromHex("#CCCCCC"),inputValidationInfoBorder:_e.fromHex("#55AAFF"),inputValidationInfoBackground:_e.fromHex("#063B49"),inputValidationWarningBorder:_e.fromHex("#B89500"),inputValidationWarningBackground:_e.fromHex("#352A05"),inputValidationErrorBorder:_e.fromHex("#BE1100"),inputValidationErrorBackground:_e.fromHex("#5A1D1D")};class xoe extends _u{constructor(e,t,i){var r;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ae),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ae),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Lh(this.options,v2e,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(r=this.options.tooltip)!==null&&r!==void 0?r:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=je(e,f0(".monaco-inputbox.idle"));let o=this.options.flexibleHeight?"textarea":"input",s=je(this.element,f0(".ibwrapper"));if(this.input=je(s,f0(o+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=je(s,f0("div.mirror")),this.mirror.innerText="",this.scrollableElement=new ure(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),je(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(u=>this.input.scrollTop=u.scrollTop));const a=this._register(new Mn(document,"selectionchange")),l=Ze.filter(a.event,()=>{const u=document.getSelection();return(u==null?void 0:u.anchorNode)===s});this._register(l(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Wv(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:KO(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Ws(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){const i=parseFloat(this.mirror.style.paddingLeft||"")||0,r=parseFloat(this.mirror.style.paddingRight||"")||0;t=i+r}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e==null?void 0:e.type}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t=()=>e.style.width=Ws(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:r=>{if(!this.message)return null;e=je(r,f0(".monaco-inputbox-container")),t();const o={inline:!0,className:"monaco-inputbox-message"},s=this.message.formatContent?d2e(this.message.content,o):c2e(this.message.content,o);s.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return s.style.backgroundColor=a.background?a.background.toString():"",s.style.color=a.foreground?a.foreground.toString():"",s.style.border=a.border?`1px solid ${a.border}`:"",je(e,s),null},onHide:()=>{this.state="closed"},layout:t});let i;this.message.type===3?i=E("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?i=E("alertWarningMessage","Warning: {0}",this.message.content):i=E("alertInfoMessage","Info: {0}",this.message.content),WD(i),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,i=e.charCodeAt(e.length-1)===10?" ":"";(e+i).replace(/\u000c/g,"")?this.mirror.textContent=e+i:this.mirror.innerText="",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=KO(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,r=t.selectionEnd,o=t.value;i!==null&&r!==null&&(this.value=o.substr(0,i)+e+o.substr(r),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class Loe extends xoe{constructor(e,t,i){super(e,t,i),this.history=new m2e(i.history,100)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,TR(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,TR(this.value))}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}const y2e=at;class _2e extends Pe{constructor(e){super(),this.parent=e,this.onKeyDown=t=>De(this.inputBox.inputElement,it.KEY_DOWN,i=>{t(new ni(i))}),this.onMouseDown=t=>De(this.inputBox.inputElement,it.MOUSE_DOWN,i=>{t(new na(i))}),this.onDidChange=t=>this.inputBox.onDidChange(t),this.container=je(this.parent,y2e(".quick-input-box")),this.inputBox=this._register(new xoe(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return this.inputBox.inputElement.type==="password"}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===_i.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===_i.Info?1:e===_i.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===_i.Info?1:e===_i.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}const b2e={badgeBackground:_e.fromHex("#4D4D4D"),badgeForeground:_e.fromHex("#FFFFFF")};class x9{constructor(e,t){this.count=0,this.options=t||Object.create(null),Lh(this.options,b2e,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=je(e,at(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Bl(this.countFormat,this.count),this.element.title=Bl(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}const L9="done",T9="active",m2="infinite",I9="discrete",S2e={progressBarBackground:_e.fromHex("#0E70C0")};class w2e extends Pe{constructor(e,t){super(),this.options=t||Object.create(null),Lh(this.options,S2e,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new vr(()=>ene(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(T9,m2,I9),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(L9),this.element.classList.contains(m2)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(I9,L9),this.element.classList.add(T9,m2),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}const C2e={buttonBackground:_e.fromHex("#0E639C"),buttonHoverBackground:_e.fromHex("#006BB3"),buttonForeground:_e.white};let D9=class extends Pe{constructor(e,t){super(),this._onDidClick=this._register(new ae),this.options=t||Object.create(null),Lh(this.options,C2e,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(bn.addTarget(this._element)),[it.CLICK,Vn.Tap].forEach(i=>{this._register(De(this._element,i,r=>{if(!this.enabled){Cn.stop(r);return}this._onDidClick.fire(r)}))}),this._register(De(this._element,it.KEY_DOWN,i=>{const r=new ni(i);let o=!1;this.enabled&&(r.equals(3)||r.equals(10))?(this._onDidClick.fire(i),o=!0):r.equals(9)&&(this._element.blur(),o=!0),o&&Cn.stop(r,!0)})),this._register(De(this._element,it.MOUSE_OVER,i=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register(De(this._element,it.MOUSE_OUT,i=>{this.applyStyles()})),this.focusTracker=this._register(Mv(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;this.options.secondary?e=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:e=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,e&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){this._element.classList.add("monaco-text-button"),this.options.supportIcons?ID(this._element,...X_(e)):this._element.textContent=e,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}};var E9=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Io=at,x2e=ga("quick-input-back",sn.arrowLeft),w4={iconClass:x2e.classNames,tooltip:E("quickInput.back","Back"),handle:-1};class vE extends Pe{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=vE.noPromptMessage,this._severity=_i.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new ae),this.onDidHideEmitter=this._register(new ae),this.onDisposeEmitter=this._register(new ae),this.visibleDisposables=this._register(new St),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){const t=this._ignoreFocusOut!==e&&!Dv;this._ignoreFocusOut=e&&!Dv,t&&this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get severity(){return this._severity}set severity(e){this._severity=e,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{this.buttons.indexOf(e)!==-1&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(e=nS.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:e})}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:!e&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText=";");const t=this.getDescription();if(this.ui.description1.textContent!==t&&(this.ui.description1.textContent=t),this.ui.description2.textContent!==t&&(this.ui.description2.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new yu,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const r=this.buttons.filter(s=>s===w4);this.ui.leftActionBar.push(r.map((s,a)=>{const l=new Ql(`id-${a}`,"",s.iconClass||b4(s.iconPath),!0,()=>E9(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const o=this.buttons.filter(s=>s!==w4);this.ui.rightActionBar.push(o.map((s,a)=>{const l=new Ql(`id-${a}`,"",s.iconClass||b4(s.iconPath),!0,()=>E9(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(s)}));return l.tooltip=s.tooltip||"",l}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const i=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==i&&(this._lastValidationMessage=i,ID(this.ui.message,...X_(i))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?E("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e!==_i.Ignore){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}vE.noPromptMessage=E("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class iS extends vE{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ae),this.onWillAcceptEmitter=this._register(new ae),this.onDidAcceptEmitter=this._register(new ae),this.onDidCustomEmitter=this._register(new ae),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?Ma.NONE:Ma.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ae),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ae),this.onDidTriggerItemButtonEmitter=this._register(new ae),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=e=>e,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e||"",this.update(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?UAe:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(ti.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{if(e===this.value)return;this._value=e,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(ti.Next),this.canSelectMany&&this.ui.list.domFocus(),Cn.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(ti.Previous):this.ui.list.focus(ti.Last),this.canSelectMany&&this.ui.list.domFocus(),Cn.stop(e,!0);break;case 12:this.ui.list.focus(ti.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Cn.stop(e,!0);break;case 11:this.ui.list.focus(ti.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Cn.stop(e,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(ti.First),Cn.stop(e,!0));break;case 13:(e.ctrlKey||e.metaKey)&&!e.shiftKey&&!e.altKey&&(this.ui.list.focus(ti.Last),Cn.stop(e,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&fc(e,this._activeItems,(t,i)=>t===i)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{if(this.canSelectMany){e.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&fc(e,this._selectedItems,(i,r)=>i===r)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.handleAccept(t instanceof MouseEvent&&t.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&fc(e,this._selectedItems,(t,i)=>t===i)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(e){let t=!1;this.onWillAcceptEmitter.fire({veto:()=>t=!0}),t||this.onDidAcceptEmitter.fire({inBackground:e})}registerQuickNavigation(){return De(this.ui.container,it.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new ni(e),i=t.keyCode;this._quickNavigate.keybindings.some(s=>{const[a,l]=s.getParts();return l?!1:a.shiftKey&&i===4?!(t.ctrlKey||t.altKey||t.metaKey):!!(a.altKey&&i===6||a.ctrlKey&&i===5||a.metaKey&&i===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const e=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",e&&!this.description);const t={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(t),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");const i=this.ariaLabel||this.placeholder||iS.DEFAULT_ARIA_LABEL;if(this.ui.inputBox.ariaLabel!==i&&(this.ui.inputBox.ariaLabel=i),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Ma.NONE:this._itemActivation=Ma.FIRST;break;case Ma.SECOND:this.ui.list.focus(ti.Second),this._itemActivation=Ma.FIRST;break;case Ma.LAST:this.ui.list.focus(ti.Last),this._itemActivation=Ma.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),t.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(ti.First))}}iS.DEFAULT_ARIA_LABEL=E("quickInputBox.ariaLabel","Type to narrow down results.");class yE extends Pe{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ae),this.onDidCustomEmitter=this._register(new ae),this.onDidTriggerButtonEmitter=this._register(new ae),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ae),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ae),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=t=>{this.keyMods.ctrlCmd=t.ctrlKey||t.metaKey,this.keyMods.alt=t.altKey};this._register(De(window,it.KEY_DOWN,e,!0)),this._register(De(window,it.KEY_UP,e,!0)),this._register(De(window,it.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=je(this.parentElement,Io(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=ws(e),i=je(e,Io(".quick-input-titlebar")),r=this._register(new Wv(i));r.domNode.classList.add("quick-input-left-action-bar");const o=je(i,Io(".quick-input-title")),s=this._register(new Wv(i));s.domNode.classList.add("quick-input-right-action-bar");const a=je(e,Io(".quick-input-description")),l=je(e,Io(".quick-input-header")),u=je(l,Io("input.quick-input-check-all"));u.type="checkbox",this._register(to(u,it.CHANGE,T=>{const I=u.checked;C.setAllVisibleChecked(I)})),this._register(De(u,it.CLICK,T=>{(T.x||T.y)&&f.setFocus()}));const c=je(l,Io(".quick-input-description")),d=je(l,Io(".quick-input-and-message")),h=je(d,Io(".quick-input-filter")),f=this._register(new _2e(h));f.setAttribute("aria-describedby",`${this.idPrefix}message`);const g=je(h,Io(".quick-input-visible-count"));g.setAttribute("aria-live","polite"),g.setAttribute("aria-atomic","true");const p=new x9(g,{countFormat:E({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),m=je(h,Io(".quick-input-count"));m.setAttribute("aria-live","polite");const v=new x9(m,{countFormat:E({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),y=je(l,Io(".quick-input-action")),_=new D9(y);_.label=E("ok","OK"),this._register(_.onDidClick(T=>{this.onDidAcceptEmitter.fire()}));const b=je(l,Io(".quick-input-action")),S=new D9(b);S.label=E("custom","Custom"),this._register(S.onDidClick(T=>{this.onDidCustomEmitter.fire()}));const w=je(d,Io(`#${this.idPrefix}message.quick-input-message`)),C=this._register(new T3(e,this.idPrefix+"list",this.options));this._register(C.onChangedAllVisibleChecked(T=>{u.checked=T})),this._register(C.onChangedVisibleCount(T=>{p.setCount(T)})),this._register(C.onChangedCheckedCount(T=>{v.setCount(T)})),this._register(C.onLeave(()=>{setTimeout(()=>{f.setFocus(),this.controller instanceof iS&&this.controller.canSelectMany&&C.clearFocus()},0)})),this._register(C.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const x=new w2e(e);x.getContainer().classList.add("quick-input-progress");const L=Mv(e);return this._register(L),this._register(De(e,it.FOCUS,T=>{this.previousFocusElement=T.relatedTarget instanceof HTMLElement?T.relatedTarget:void 0},!0)),this._register(L.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(nS.Blur),this.previousFocusElement=void 0})),this._register(De(e,it.FOCUS,T=>{f.setFocus()})),this._register(De(e,it.KEY_DOWN,T=>{const I=new ni(T);switch(I.keyCode){case 3:Cn.stop(T,!0),this.onDidAcceptEmitter.fire();break;case 9:Cn.stop(T,!0),this.hide(nS.Gesture);break;case 2:if(!I.altKey&&!I.ctrlKey&&!I.metaKey){const D=[".action-label.codicon"];e.classList.contains("show-checkboxes")?D.push("input"):D.push("input[type=text]"),this.getUI().list.isDisplayed()&&D.push(".monaco-list");const M=e.querySelectorAll(D.join(", "));I.shiftKey&&I.target===M[0]?(Cn.stop(T,!0),M[M.length-1].focus()):!I.shiftKey&&I.target===M[M.length-1]&&(Cn.stop(T,!0),M[0].focus())}break}})),this.ui={container:e,styleSheet:t,leftActionBar:r,titleBar:i,title:o,description1:a,description2:c,rightActionBar:s,checkAll:u,filterContainer:h,inputBox:f,visibleCountContainer:g,visibleCount:p,countContainer:m,count:v,okContainer:y,ok:_,message:w,customButtonContainer:b,customButton:S,list:C,progressBar:x,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:T=>this.show(T),hide:()=>this.hide(),setVisibilities:T=>this.setVisibilities(T),setComboboxAccessibility:T=>this.setComboboxAccessibility(T),setEnabled:T=>this.setEnabled(T),setContextKey:T=>this.options.setContextKey(T)},this.updateStyles(),this.ui}pick(e,t={},i=Uo.None){return new Promise((r,o)=>{let s=c=>{s=r,t.onKeyMods&&t.onKeyMods(a.keyMods),r(c)};if(i.isCancellationRequested){s(void 0);return}const a=this.createQuickPick();let l;const u=[a,a.onDidAccept(()=>{if(a.canSelectMany)s(a.selectedItems.slice()),a.hide();else{const c=a.activeItems[0];c&&(s(c),a.hide())}}),a.onDidChangeActive(c=>{const d=c[0];d&&t.onDidFocus&&t.onDidFocus(d)}),a.onDidChangeSelection(c=>{if(!a.canSelectMany){const d=c[0];d&&(s(d),a.hide())}}),a.onDidTriggerItemButton(c=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},c),{removeItem:()=>{const d=a.items.indexOf(c.item);if(d!==-1){const h=a.items.slice(),f=h.splice(d,1),g=a.activeItems.filter(p=>p!==f[0]);a.items=h,g&&(a.activeItems=g)}}}))),a.onDidChangeValue(c=>{l&&!c&&(a.activeItems.length!==1||a.activeItems[0]!==l)&&(a.activeItems=[l])}),i.onCancellationRequested(()=>{a.hide()}),a.onDidHide(()=>{Bn(u),s(void 0)})];a.title=t.title,a.canSelectMany=!!t.canPickMany,a.placeholder=t.placeHolder,a.ignoreFocusOut=!!t.ignoreFocusLost,a.matchOnDescription=!!t.matchOnDescription,a.matchOnDetail=!!t.matchOnDetail,a.matchOnLabel=t.matchOnLabel===void 0||t.matchOnLabel,a.autoFocusOnList=t.autoFocusOnList===void 0||t.autoFocusOnList,a.quickNavigate=t.quickNavigate,a.contextKey=t.contextKey,a.busy=!0,Promise.all([e,t.activeItem]).then(([c,d])=>{l=d,a.busy=!1,a.items=c,a.canSelectMany&&(a.selectedItems=c.filter(h=>h.type!=="separator"&&h.picked)),l&&(a.activeItems=[l])}),a.show(),Promise.resolve(e).then(void 0,c=>{o(c),a.hide()})})}createQuickPick(){const e=this.getUI();return new iS(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description1.textContent="",t.description2.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(_i.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),ID(t.message),t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const r=this.options.backKeybindingLabel();w4.tooltip=r?E("quickInput.backWithKeybinding","Back ({0})",r):E("quickInput.back","Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description1.style.display=e.description&&(e.inputBox||e.checkAll)?"":"none",t.description2.style.display=e.description&&!(e.inputBox||e.checkAll)?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(e){var t;const i=this.controller;if(i){const r=!(!((t=this.ui)===null||t===void 0)&&t.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",r||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),i.didHide(e)}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(this.dimension.width*.62,yE.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:r,widgetShadow:o}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=r?`1px solid ${r}`:"",this.ui.container.style.boxShadow=o?`0 0 8px 2px ${o}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const s=[];this.styles.list.pickerGroupBorder&&s.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&s.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(s.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&s.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&s.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&s.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&s.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&s.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),s.push("}"));const a=s.join(`
`);a!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=a)}}}yE.MAX_WIDTH=600;const Toe=an("quickInputService");var C4;(function(n){n[n.PRESERVE=0]="PRESERVE",n[n.LAST=1]="LAST"})(C4||(C4={}));const Ioe={Quickaccess:"workbench.contributions.quickaccess"};class L2e{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return e.prefix.length===0?this.defaultProvider=e:this.providers.push(e),this.providers.sort((t,i)=>i.prefix.length-t.prefix.length),Tn(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Owe([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(i=>e.startsWith(i.prefix))||void 0||this.defaultProvider}}ir.add(Ioe.Quickaccess,new L2e);var T2e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},M9=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let x4=class extends Pe{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=ir.as(Ioe.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){this.doShowOrPick(e,!1,t)}doShowOrPick(e,t,i){var r;const[o,s]=this.getOrInstantiateProvider(e),a=this.visibleQuickAccess,l=a==null?void 0:a.descriptor;if(a&&s&&l===s){e!==s.prefix&&!(i!=null&&i.preserveValue)&&(a.picker.value=e),this.adjustValueSelection(a.picker,s,i);return}if(s&&!(i!=null&&i.preserveValue)){let g;if(a&&l&&l!==s){const p=a.value.substr(l.prefix.length);p&&(g=`${s.prefix}${p}`)}if(!g){const p=o==null?void 0:o.defaultFilterValue;p===C4.LAST?g=this.lastAcceptedPickerValues.get(s):typeof p=="string"&&(g=`${s.prefix}${p}`)}typeof g=="string"&&(e=g)}const u=new St,c=u.add(this.quickInputService.createQuickPick());c.value=e,this.adjustValueSelection(c,s,i),c.placeholder=s==null?void 0:s.placeholder,c.quickNavigate=i==null?void 0:i.quickNavigateConfiguration,c.hideInput=!!c.quickNavigate&&!a,(typeof(i==null?void 0:i.itemActivation)=="number"||i!=null&&i.quickNavigateConfiguration)&&(c.itemActivation=(r=i==null?void 0:i.itemActivation)!==null&&r!==void 0?r:Ma.SECOND),c.contextKey=s==null?void 0:s.contextKey,c.filterValue=g=>g.substring(s?s.prefix.length:0),s!=null&&s.placeholder&&(c.ariaLabel=s==null?void 0:s.placeholder);let d,h;t&&(d=new Promise(g=>h=g),u.add(Dg(c.onWillAccept)(g=>{g.veto(),c.hide()}))),u.add(this.registerPickerListeners(c,o,s,e));const f=u.add(new _y);if(o&&u.add(o.provide(c,f.token)),Dg(c.onDidHide)(()=>{c.selectedItems.length===0&&f.cancel(),u.dispose(),h==null||h(c.selectedItems)}),c.show(),t)return d}adjustValueSelection(e,t,i){var r;let o;i!=null&&i.preserveValue?o=[e.value.length,e.value.length]:o=[(r=t==null?void 0:t.prefix.length)!==null&&r!==void 0?r:0,e.value.length],e.valueSelection=o}registerPickerListeners(e,t,i,r){const o=new St,s=this.visibleQuickAccess={picker:e,descriptor:i,value:r};return o.add(Tn(()=>{s===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),o.add(e.onDidChangeValue(a=>{const[l]=this.getOrInstantiateProvider(a);l!==t?this.show(a,{preserveValue:!0}):s.value=a})),i&&o.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)})),o}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};x4=T2e([M9(0,Toe),M9(1,Go)],x4);var I2e=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},g0=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let L4=class extends mCe{constructor(e,t,i,r,o){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=r,this.layoutService=o,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(x4))),this._quickAccess}createController(e=this.layoutService,t){var i,r;const o={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:a=>this.setContextKey(a),returnFocus:()=>e.focus(),createList:(a,l,u,c,d)=>this.instantiationService.createInstance(f4,a,l,u,c,d),styles:this.computeStyles()},s=this._register(new yE(Object.assign(Object.assign({},o),t)));return s.layout(e.dimension,(r=(i=e.offset)===null||i===void 0?void 0:i.top)!==null&&r!==void 0?r:0),this._register(e.onDidLayout(a=>{var l,u;return s.layout(a,(u=(l=e.offset)===null||l===void 0?void 0:l.top)!==null&&u!==void 0?u:0)})),this._register(s.onShow(()=>this.resetContextKeys())),this._register(s.onHide(()=>this.resetContextKeys())),s}setContextKey(e){let t;e&&(t=this.contexts.get(e),t||(t=new ht(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),!(t&&t.get())&&(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=Uo.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},ka(this.theme,{quickInputBackground:J6,quickInputForeground:uLe,quickInputTitleBackground:cLe,contrastBorder:Zi,widgetShadow:Bv})),inputBox:ka(this.theme,{inputForeground:Nie,inputBackground:Aie,inputBorder:kie,inputValidationInfoBackground:Pie,inputValidationInfoForeground:Oie,inputValidationInfoBorder:Rie,inputValidationWarningBackground:Bie,inputValidationWarningForeground:Fie,inputValidationWarningBorder:$ie,inputValidationErrorBackground:Vie,inputValidationErrorForeground:Wie,inputValidationErrorBorder:zie}),countBadge:ka(this.theme,{badgeBackground:Lx,badgeForeground:Tx,badgeBorder:Zi}),button:ka(this.theme,{buttonForeground:Jxe,buttonBackground:OR,buttonHoverBackground:eLe,buttonBorder:Zi}),progressBar:ka(this.theme,{progressBarBackground:tLe}),keybindingLabel:ka(this.theme,{keybindingLabelBackground:fLe,keybindingLabelForeground:gLe,keybindingLabelBorder:pLe,keybindingLabelBottomBorder:mLe,keybindingLabelShadow:Bv}),list:ka(this.theme,{listBackground:J6,listInactiveFocusForeground:HLe,listInactiveSelectionIconForeground:ULe,listInactiveFocusBackground:GLe,listFocusOutline:Cs,listInactiveFocusOutline:Cs,pickerGroupBorder:hLe,pickerGroupForeground:dLe})}}};L4=I2e([g0(0,Go),g0(1,pn),g0(2,zi),g0(3,Ds),g0(4,dE)],L4);var Doe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Of=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};let T4=class extends L4{constructor(e,t,i,r,o,s){super(t,i,r,o,s),this.host=void 0;const a=Kv.get(e);this.host={_serviceBrand:void 0,get container(){return a.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onDidLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};T4=Doe([Of(1,Go),Of(2,pn),Of(3,zi),Of(4,Ds),Of(5,dE)],T4);let I4=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(T4,e);this.mapEditorToService.set(e,t),Dg(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=Uo.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};I4=Doe([Of(0,Go),Of(1,mr)],I4);class Kv{constructor(e){this.editor=e,this.widget=new _E(this.editor)}static get(e){return e.getContribution(Kv.ID)}dispose(){this.widget.dispose()}}Kv.ID="editor.controller.quickInput";class _E{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return _E.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}_E.ID="editor.contrib.quickInputWidget";D$(Kv.ID,Kv);var nn;(function(n){const e=new Yb;class t{constructor(l,u){this._serviceId=l,this._factory=u,this._value=null}get id(){return this._serviceId}get(l){if(!this._value){if(l&&(this._value=l[this._serviceId.toString()]),this._value||(this._value=this._factory(l)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");e.set(this._serviceId,this._value)}return this._value}}n.LazyStaticService=t;let i=[];function r(a,l){let u=new t(a,l);return i.push(u),u}function o(a){let l=new Yb;for(const[c,d]of ADe())l.set(c,d);for(let c in a)a.hasOwnProperty(c)&&l.set(an(c),a[c]);i.forEach(c=>l.set(c.id,c.get(a)));let u=new BT(l,!0);return l.set(Go,u),[l,u]}n.init=o,n.instantiationService=r(Go,()=>new BT(e,!0));const s=new tie;n.configurationService=r(br,()=>s),n.resourceConfigurationService=r(Mne,()=>new aCe(s)),n.resourcePropertiesService=r(Ane,()=>new CR(s)),n.contextService=r(tCe,()=>new VD),n.labelService=r(xMe,()=>new cCe),n.telemetryService=r(YD,()=>new lCe),n.dialogService=r(Xre,()=>new oCe),n.notificationService=r(pa,()=>new $D),n.markerService=r(poe,()=>new Pf),n.modeService=r(h$,a=>new hEe),n.standaloneThemeService=r(hw,()=>new HEe),n.logService=r(aw,()=>new Wwe(new Vwe)),n.undoRedoService=r(t3,a=>new HT(n.dialogService.get(a),n.notificationService.get(a))),n.modelService=r(Jo,a=>new PT(n.configurationService.get(a),n.resourcePropertiesService.get(a),n.standaloneThemeService.get(a),n.logService.get(a),n.undoRedoService.get(a))),n.markerDecorationsService=r(nie,a=>new v4(n.modelService.get(a),n.markerService.get(a))),n.contextKeyService=r(pn,a=>new QR(n.configurationService.get(a))),n.codeEditorService=r(mr,a=>new NT(null,n.contextKeyService.get(a),n.standaloneThemeService.get(a))),n.editorProgressService=r(aE,()=>new FD),n.storageService=r(x3,()=>new BAe),n.editorWorkerService=r(lp,a=>new yR(n.modelService.get(a),n.resourceConfigurationService.get(a),n.logService.get(a)))})(nn||(nn={}));class D2e extends Pe{constructor(e,t){super();const[i,r]=nn.init(t);this._serviceCollection=i,this._instantiationService=r;const o=this.get(br),s=this.get(pa),a=this.get(YD),l=this.get(zi),u=this.get(aw),c=this.get(pn);let d=(m,v)=>{let y=null;return t&&(y=t[m.toString()]),y||(y=v()),this._serviceCollection.set(m,y),y};d(Ds,()=>new y4(c,o)),d(Su,()=>new d4(l));let h=d(Qo,()=>new sCe(this._instantiationService)),f=d(oo,()=>this._register(new eie(c,h,a,s,u,e))),g=d(dE,()=>new dCe(nn.codeEditorService.get(mr),e));d(Toe,()=>new I4(r,nn.codeEditorService.get(mr)));let p=d(gp,()=>this._register(new o4(g)));d(Iy,()=>new WAe),d(sE,()=>{const m=new r4(a,s,p,f,l);return m.configure({blockMouse:!1}),this._register(m)}),d(aie,()=>new p4(h)),d(v1e,()=>new uCe(nn.modelService.get(Jo)))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function Eoe(n,e,t){let i=new D2e(n,e),r=null;i.has(j7)||(r=new wR(nn.modelService.get()),i.set(j7,r)),i.has(N7)||i.set(N7,new ZO(i.get(mr),i.get(Qo)));let o=t(i);return r&&r.setEditor(o),o}function E2e(n,e,t){return Eoe(n,t||{},i=>new YR(n,e,i,i.get(Go),i.get(mr),i.get(Qo),i.get(pn),i.get(oo),i.get(gp),i.get(hw),i.get(pa),i.get(br),i.get(Ds),i.get(Jo),i.get(h$)))}function M2e(n){return nn.codeEditorService.get().onCodeEditorAdd(e=>{n(e)})}function A2e(n,e,t){return Eoe(n,t||{},i=>new XR(n,e,i,i.get(Go),i.get(pn),i.get(oo),i.get(gp),i.get(lp),i.get(mr),i.get(hw),i.get(pa),i.get(br),i.get(sE),i.get(aE),i.get(Iy)))}function N2e(n,e){return new mSe(n,e)}function k2e(n,e,t){return Ire(nn.modelService.get(),nn.modeService.get(),n,e,t)}function P2e(n,e){nn.modelService.get().setMode(n,nn.modeService.get().create(e))}function O2e(n,e,t){n&&nn.markerService.get().changeOne(e,n.uri,t)}function R2e(n){return nn.markerService.get().read(n)}function B2e(n){return nn.markerService.get().onMarkerChanged(n)}function F2e(n){return nn.modelService.get().getModel(n)}function $2e(){return nn.modelService.get().getModels()}function V2e(n){return nn.modelService.get().onModelAdded(n)}function W2e(n){return nn.modelService.get().onModelRemoved(n)}function z2e(n){return nn.modelService.get().onModelModeChanged(e=>{n({model:e.model,oldLanguage:e.oldModeId})})}function H2e(n){return Kwe(nn.modelService.get(),n)}function U2e(n,e){const t=nn.standaloneThemeService.get();return t.registerEditorContainer(n),b$.colorizeElement(t,nn.modeService.get(),n,e)}function G2e(n,e,t){return nn.standaloneThemeService.get().registerEditorContainer(document.body),b$.colorize(nn.modeService.get(),n,e,t)}function K2e(n,e,t=4){return nn.standaloneThemeService.get().registerEditorContainer(document.body),b$.colorizeModelLine(n,e,t)}function j2e(n){let e=gi.get(n);return e||{getInitialState:()=>c$,tokenize:(t,i,r,o)=>jSe(n,t,r,o)}}function q2e(n,e){nn.modeService.get().triggerMode(e);let i=j2e(e),r=DD(n),o=[],s=i.getInitialState();for(let a=0,l=r.length;a<l;a++){let u=r[a],c=i.tokenize(u,!0,s,0);o[a]=c.tokens,s=c.endState}return o}function Y2e(n,e){nn.standaloneThemeService.get().defineTheme(n,e)}function X2e(n){nn.standaloneThemeService.get().setTheme(n)}function Z2e(){LCe()}function Q2e(n,e){return Mr.registerCommand({id:n,handler:e})}function J2e(){return{create:E2e,onDidCreateEditor:M2e,createDiffEditor:A2e,createDiffNavigator:N2e,createModel:k2e,setModelLanguage:P2e,setModelMarkers:O2e,getModelMarkers:R2e,onDidChangeMarkers:B2e,getModels:$2e,getModel:F2e,onDidCreateModel:V2e,onWillDisposeModel:W2e,onDidChangeModelLanguage:z2e,createWebWorker:H2e,colorizeElement:U2e,colorize:G2e,colorizeModelLine:K2e,tokenize:q2e,defineTheme:Y2e,setTheme:X2e,remeasureFonts:Z2e,registerCommand:Q2e,AccessibilitySupport:oO,ContentWidgetPositionPreference:cO,CursorChangeReason:dO,DefaultEndOfLine:hO,EditorAutoIndentStrategy:gO,EditorOption:pO,EndOfLinePreference:mO,EndOfLineSequence:vO,MinimapPosition:xO,MouseTargetType:LO,OverlayWidgetPositionPreference:TO,OverviewRulerLane:IO,RenderLineNumbersType:DO,RenderMinimap:EO,ScrollbarVisibility:AO,ScrollType:MO,TextEditorCursorBlinkingStyle:RO,TextEditorCursorStyle:BO,TrackedRangeStickiness:FO,WrappingIndent:$O,ConfigurationChangedEvent:Ite,BareFontInfo:Av,FontInfo:QO,TextModelResolvedOptions:_x,FindMatch:kb,EditorType:MD,EditorOptions:sp}}function eNe(n,e){if(!e||!Array.isArray(e))return!1;for(const t of e)if(!n(t))return!1;return!0}function B1(n,e){return typeof n=="boolean"?n:e}function A9(n,e){return typeof n=="string"?n:e}function tNe(n){const e={};for(const t of n)e[t]=!0;return e}function N9(n,e=!1){e&&(n=n.map(function(i){return i.toLowerCase()}));const t=tNe(n);return e?function(i){return t[i.toLowerCase()]!==void 0&&t.hasOwnProperty(i.toLowerCase())}:function(i){return t[i]!==void 0&&t.hasOwnProperty(i)}}function D4(n,e){e=e.replace(/@@/g,"");let t=0,i;do i=!1,e=e.replace(/@(\w+)/g,function(o,s){i=!0;let a="";if(typeof n[s]=="string")a=n[s];else if(n[s]&&n[s]instanceof RegExp)a=n[s].source;else throw n[s]===void 0?vn(n,"language definition does not contain attribute '"+s+"', used at: "+e):vn(n,"attribute reference '"+s+"' must be a string, used at: "+e);return ym(a)?"":"(?:"+a+")"}),t++;while(i&&t<5);e=e.replace(/\x01/g,"@");let r=(n.ignoreCase?"i":"")+(n.unicode?"u":"");return new RegExp(e,r)}function nNe(n,e,t,i){if(i<0)return n;if(i<e.length)return e[i];if(i>=100){i=i-100;let r=t.split(".");if(r.unshift(t),i<r.length)return r[i]}return null}function iNe(n,e,t,i){let r=-1,o=t,s=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(r=parseInt(s[3]),s[2]&&(r=r+100)),o=s[4]);let a="~",l=o;!o||o.length===0?(a="!=",l=""):/^\w*$/.test(l)?a="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(a=s[1],l=s[2]));let u;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(l)){let c=N9(l.split("|"),n.ignoreCase);u=function(d){return a==="~"?c(d):!c(d)}}else if(a==="@"||a==="!@"){let c=n[l];if(!c)throw vn(n,"the @ match target '"+l+"' is not defined, in rule: "+e);if(!eNe(function(h){return typeof h=="string"},c))throw vn(n,"the @ match target '"+l+"' must be an array of strings, in rule: "+e);let d=N9(c,n.ignoreCase);u=function(h){return a==="@"?d(h):!d(h)}}else if(a==="~"||a==="!~")if(l.indexOf("$")<0){let c=D4(n,"^"+l+"$");u=function(d){return a==="~"?c.test(d):!c.test(d)}}else u=function(c,d,h,f){return D4(n,"^"+Td(n,l,d,h,f)+"$").test(c)};else if(l.indexOf("$")<0){let c=Kd(n,l);u=function(d){return a==="=="?d===c:d!==c}}else{let c=Kd(n,l);u=function(d,h,f,g,p){let m=Td(n,c,h,f,g);return a==="=="?d===m:d!==m}}return r===-1?{name:t,value:i,test:function(c,d,h,f){return u(c,c,d,h,f)}}:{name:t,value:i,test:function(c,d,h,f){let g=nNe(c,d,h,r);return u(g||"",c,d,h,f)}}}function E4(n,e,t){if(t){if(typeof t=="string")return t;if(t.token||t.token===""){if(typeof t.token!="string")throw vn(n,"a 'token' attribute must be of type string, in rule: "+e);{let i={token:t.token};if(t.token.indexOf("$")>=0&&(i.tokenSubst=!0),typeof t.bracket=="string")if(t.bracket==="@open")i.bracket=1;else if(t.bracket==="@close")i.bracket=-1;else throw vn(n,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+e);if(t.next){if(typeof t.next!="string")throw vn(n,"the next state must be a string value in rule: "+e);{let r=t.next;if(!/^(@pop|@push|@popall)$/.test(r)&&(r[0]==="@"&&(r=r.substr(1)),r.indexOf("$")<0&&!d1e(n,Td(n,r,"",[],""))))throw vn(n,"the next state '"+t.next+"' is not defined in rule: "+e);i.next=r}}return typeof t.goBack=="number"&&(i.goBack=t.goBack),typeof t.switchTo=="string"&&(i.switchTo=t.switchTo),typeof t.log=="string"&&(i.log=t.log),typeof t.nextEmbedded=="string"&&(i.nextEmbedded=t.nextEmbedded,n.usesEmbedded=!0),i}}else if(Array.isArray(t)){let i=[];for(let r=0,o=t.length;r<o;r++)i[r]=E4(n,e,t[r]);return{group:i}}else if(t.cases){let i=[];for(let o in t.cases)if(t.cases.hasOwnProperty(o)){const s=E4(n,e,t.cases[o]);o==="@default"||o==="@"||o===""?i.push({test:void 0,value:s,name:o}):o==="@eos"?i.push({test:function(a,l,u,c){return c},value:s,name:o}):i.push(iNe(n,e,o,s))}const r=n.defaultToken;return{test:function(o,s,a,l){for(const u of i)if(!u.test||u.test(o,s,a,l))return u.value;return r}}}else throw vn(n,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+e)}else return{token:""}}class rNe{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if(typeof t=="string")i=t;else if(t instanceof RegExp)i=t.source;else throw vn(e,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=i.length>0&&i[0]==="^",this.name=this.name+": "+i,this.regex=D4(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=E4(e,this.name,t)}}function oNe(n,e){if(!e||typeof e!="object")throw new Error("Monarch: expecting a language definition object");let t={};t.languageId=n,t.includeLF=B1(e.includeLF,!1),t.noThrow=!1,t.maxStack=100,t.start=typeof e.start=="string"?e.start:null,t.ignoreCase=B1(e.ignoreCase,!1),t.unicode=B1(e.unicode,!1),t.tokenPostfix=A9(e.tokenPostfix,"."+t.languageId),t.defaultToken=A9(e.defaultToken,"source"),t.usesEmbedded=!1;let i=e;i.languageId=n,i.includeLF=t.includeLF,i.ignoreCase=t.ignoreCase,i.unicode=t.unicode,i.noThrow=t.noThrow,i.usesEmbedded=t.usesEmbedded,i.stateNames=e.tokenizer,i.defaultToken=t.defaultToken;function r(s,a,l){for(const u of l){let c=u.include;if(c){if(typeof c!="string")throw vn(t,"an 'include' attribute must be a string at: "+s);if(c[0]==="@"&&(c=c.substr(1)),!e.tokenizer[c])throw vn(t,"include target '"+c+"' is not defined at: "+s);r(s+"."+c,a,e.tokenizer[c])}else{const d=new rNe(s);if(Array.isArray(u)&&u.length>=1&&u.length<=3)if(d.setRegex(i,u[0]),u.length>=3)if(typeof u[1]=="string")d.setAction(i,{token:u[1],next:u[2]});else if(typeof u[1]=="object"){const h=u[1];h.next=u[2],d.setAction(i,h)}else throw vn(t,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+s);else d.setAction(i,u[1]);else{if(!u.regex)throw vn(t,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+s);u.name&&typeof u.name=="string"&&(d.name=u.name),u.matchOnlyAtStart&&(d.matchOnlyAtLineStart=B1(u.matchOnlyAtLineStart,!1)),d.setRegex(i,u.regex),d.setAction(i,u.action)}a.push(d)}}}if(!e.tokenizer||typeof e.tokenizer!="object")throw vn(t,"a language definition must define the 'tokenizer' attribute as an object");t.tokenizer=[];for(let s in e.tokenizer)if(e.tokenizer.hasOwnProperty(s)){t.start||(t.start=s);const a=e.tokenizer[s];t.tokenizer[s]=new Array,r("tokenizer."+s,t.tokenizer[s],a)}if(t.usesEmbedded=i.usesEmbedded,e.brackets){if(!Array.isArray(e.brackets))throw vn(t,"the 'brackets' attribute must be defined as an array")}else e.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let s of e.brackets){let a=s;if(a&&Array.isArray(a)&&a.length===3&&(a={token:a[2],open:a[0],close:a[1]}),a.open===a.close)throw vn(t,"open and close brackets in a 'brackets' attribute must be different: "+a.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof a.open=="string"&&typeof a.token=="string"&&typeof a.close=="string")o.push({token:a.token+t.tokenPostfix,open:Kd(t,a.open),close:Kd(t,a.close)});else throw vn(t,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return t.brackets=o,t.noThrow=!0,t}function sNe(n){hg.registerLanguage(n)}function aNe(){let n=[];return n=n.concat(hg.getLanguages()),n}function lNe(n){let e=nn.modeService.get().getLanguageIdentifier(n);return e?e.id:0}function uNe(n,e){let t=nn.modeService.get().onDidCreateMode(i=>{i.getId()===n&&(t.dispose(),e())});return t}function cNe(n,e){let t=nn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error(`Cannot set configuration for unknown language ${n}`);return Dn.register(t,e,100)}class dNe{constructor(e,t){this._languageIdentifier=e,this._actual=t}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i,r){if(typeof this._actual.tokenize=="function")return rS.adaptTokenize(this._languageIdentifier.language,this._actual,e,i,r);throw new Error("Not supported!")}tokenize2(e,t,i){let r=this._actual.tokenizeEncoded(e,i);return new TD(r.tokens,r.endState)}}class rS{constructor(e,t,i){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(e,t,i){let r=[],o=0;for(let s=0,a=e.length;s<a;s++){const l=e[s];let u=l.startIndex;s===0?u=0:u<o&&(u=o),r[s]=new LD(u+i,l.scopes,t),o=u}return r}static adaptTokenize(e,t,i,r,o){let s=t.tokenize(i,r),a=rS._toClassicTokens(s.tokens,e,o),l;return s.endState.equals(r)?l=r:l=s.endState,new qF(a,l)}tokenize(e,t,i,r){return rS.adaptTokenize(this._languageIdentifier.language,this._actual,e,i,r)}_toBinaryTokens(e,t){const i=this._languageIdentifier.id,r=this._standaloneThemeService.getColorTheme().tokenTheme;let o=[],s=0,a=0;for(let u=0,c=e.length;u<c;u++){const d=e[u],h=r.match(i,d.scopes);if(s>0&&o[s-1]===h)continue;let f=d.startIndex;u===0?f=0:f<a&&(f=a),o[s++]=f+t,o[s++]=h,a=f}let l=new Uint32Array(s);for(let u=0;u<s;u++)l[u]=o[u];return l}tokenize2(e,t,i,r){let o=this._actual.tokenize(e,i),s=this._toBinaryTokens(o.tokens,r),a;return o.endState.equals(i)?a=i:a=o.endState,new TD(s,a)}}function hNe(n){return"tokenizeEncoded"in n}function Moe(n){return n&&typeof n.then=="function"}function fNe(n){if(n){const e=[null];for(let t=1,i=n.length;t<i;t++)e[t]=_e.fromHex(n[t]);nn.standaloneThemeService.get().setColorMapOverride(e)}else nn.standaloneThemeService.get().setColorMapOverride(null)}function gNe(n,e){let t=nn.modeService.get().getLanguageIdentifier(n);if(!t)throw new Error(`Cannot set tokens provider for unknown language ${n}`);const i=r=>hNe(r)?new dNe(t,r):new rS(nn.standaloneThemeService.get(),t,r);return Moe(e)?gi.registerPromise(n,e.then(r=>i(r))):gi.register(n,i(e))}function pNe(n,e){const t=i=>g1e(nn.modeService.get(),nn.standaloneThemeService.get(),n,oNe(n,i));return Moe(e)?gi.registerPromise(n,e.then(i=>t(i))):gi.register(n,t(e))}function mNe(n,e){return JO.register(n,e)}function vNe(n,e){return eR.register(n,e)}function yNe(n,e){return tR.register(n,e)}function _Ne(n,e){return nR.register(n,{provideHover:(t,i,r)=>{let o=t.getWordAtPosition(i);return Promise.resolve(e.provideHover(t,i,r)).then(s=>{if(s)return!s.range&&o&&(s.range=new ee(i.lineNumber,o.startColumn,i.lineNumber,o.endColumn)),s.range||(s.range=new ee(i.lineNumber,i.column,i.lineNumber,i.column)),s})}})}function bNe(n,e){return iR.register(n,e)}function SNe(n,e){return rR.register(n,e)}function wNe(n,e){return zSe.register(n,e)}function CNe(n,e){return oR.register(n,e)}function xNe(n,e){return aR.register(n,e)}function LNe(n,e){return lR.register(n,e)}function TNe(n,e){return uR.register(n,e)}function INe(n,e){return dR.register(n,{provideCodeActions:(t,i,r,o)=>{let s=nn.markerService.get().read({resource:t.uri}).filter(a=>ee.areIntersectingOrTouching(a,i));return e.provideCodeActions(t,i,{markers:s,only:r.only},o)}})}function DNe(n,e){return A_.register(n,e)}function ENe(n,e){return Ld.register(n,e)}function MNe(n,e){return _ne.register(n,e)}function ANe(n,e){return bne.register(n,e)}function NNe(n,e){return qL.register(n,e)}function kNe(n,e){return HSe.register(n,e)}function PNe(n,e){return GSe.register(n,e)}function ONe(n,e){return sR.register(n,e)}function RNe(n,e){return USe.register(n,e)}function BNe(n,e){return YL.register(n,e)}function FNe(n,e){return Sne.register(n,e)}function $Ne(n,e){return WSe.register(n,e)}function VNe(n,e){return cR.register(n,e)}function WNe(){return{register:sNe,getLanguages:aNe,onLanguage:uNe,getEncodedLanguageId:lNe,setLanguageConfiguration:cNe,setColorMap:fNe,setTokensProvider:gNe,setMonarchTokensProvider:pNe,registerReferenceProvider:mNe,registerRenameProvider:vNe,registerCompletionItemProvider:NNe,registerSignatureHelpProvider:yNe,registerHoverProvider:_Ne,registerDocumentSymbolProvider:bNe,registerDocumentHighlightProvider:SNe,registerLinkedEditingRangeProvider:wNe,registerDefinitionProvider:CNe,registerImplementationProvider:xNe,registerTypeDefinitionProvider:LNe,registerCodeLensProvider:TNe,registerCodeActionProvider:INe,registerDocumentFormattingEditProvider:DNe,registerDocumentRangeFormattingEditProvider:ENe,registerOnTypeFormattingEditProvider:MNe,registerLinkProvider:ANe,registerColorProvider:kNe,registerFoldingRangeProvider:PNe,registerDeclarationProvider:ONe,registerSelectionRangeProvider:RNe,registerDocumentSemanticTokensProvider:BNe,registerDocumentRangeSemanticTokensProvider:FNe,registerInlineCompletionsProvider:$Ne,registerInlayHintsProvider:VNe,DocumentHighlightKind:fO,CompletionItemKind:aO,CompletionItemTag:lO,CompletionItemInsertTextRule:sO,SymbolKind:PO,SymbolTag:OO,IndentAction:yO,CompletionTriggerKind:uO,SignatureHelpTriggerKind:kO,InlayHintKind:_O,InlineCompletionTriggerKind:bO,FoldingRangeKind:Ag}}class v2{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}var I3=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};function zNe(n){const e=[],t=new Set,i=A_.ordered(n);for(const o of i)e.push(o),o.extensionId&&t.add(v2.toKey(o.extensionId));const r=Ld.ordered(n);for(const o of r){if(o.extensionId){if(t.has(v2.toKey(o.extensionId)))continue;t.add(v2.toKey(o.extensionId))}e.push({displayName:o.displayName,extensionId:o.extensionId,provideDocumentFormattingEdits(s,a,l){return o.provideDocumentRangeFormattingEdits(s,s.getFullModelRange(),a,l)}})}return e}class oS{static setFormatterSelector(e){return{dispose:oS._selectors.unshift(e)}}static select(e,t,i){return I3(this,void 0,void 0,function*(){if(e.length===0)return;const r=At.first(oS._selectors);if(r)return yield r(e,t,i)})}}oS._selectors=new ta;function HNe(n,e,t,i,r){return I3(this,void 0,void 0,function*(){const o=Ld.ordered(e);for(const s of o){let a=yield Promise.resolve(s.provideDocumentRangeFormattingEdits(e,t,i,r)).catch(ZS);if(p$(a))return yield n.computeMoreMinimalEdits(e.uri,a)}})}function UNe(n,e,t,i){return I3(this,void 0,void 0,function*(){const r=zNe(e);for(const o of r){let s=yield Promise.resolve(o.provideDocumentFormattingEdits(e,t,i)).catch(ZS);if(p$(s))return yield n.computeMoreMinimalEdits(e.uri,s)}})}function GNe(n,e,t,i,r){const o=_ne.ordered(e);return o.length===0||o[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(o[0].provideOnTypeFormattingEdits(e,t,i,r,Uo.None)).catch(ZS).then(s=>n.computeMoreMinimalEdits(e.uri,s))}Mr.registerCommand("_executeFormatRangeProvider",function(n,...e){const[t,i,r]=e;Qa(Nt.isUri(t)),Qa(ee.isIRange(i));const o=n.get(Jo).getModel(t);if(!o)throw JS("resource");return HNe(n.get(lp),o,ee.lift(i),r,Uo.None)});Mr.registerCommand("_executeFormatDocumentProvider",function(n,...e){const[t,i]=e;Qa(Nt.isUri(t));const r=n.get(Jo).getModel(t);if(!r)throw JS("resource");return UNe(n.get(lp),r,i,Uo.None)});Mr.registerCommand("_executeFormatOnTypeProvider",function(n,...e){const[t,i,r,o]=e;Qa(Nt.isUri(t)),Qa(ve.isIPosition(i)),Qa(typeof r=="string");const s=n.get(Jo).getModel(t);if(!s)throw JS("resource");return GNe(n.get(lp),s,ve.lift(i),r,o)});var y2;sp.wrappingIndent.defaultValue=0;sp.glyphMargin.defaultValue=!1;sp.autoIndent.defaultValue=3;sp.overviewRulerLanes.defaultValue=2;oS.setFormatterSelector((n,e,t)=>Promise.resolve(n[0]));const zr=Fte();zr.editor=J2e();zr.languages=WNe();zr.CancellationTokenSource;const KNe=zr.Emitter;zr.KeyCode;zr.KeyMod;zr.Position;const D_t=zr.Range;zr.Selection;zr.SelectionDirection;const E_t=zr.MarkerSeverity;zr.MarkerTag;zr.Uri;zr.Token;const jNe=zr.editor,D3=zr.languages;(!((y2=li.MonacoEnvironment)===null||y2===void 0)&&y2.globalAPI||typeof define=="function"&&define.amd)&&(self.monaco=zr);typeof self.require<"u"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});class Cr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const r=i.options;if(r===Cr._FIND_MATCH_DECORATION||r===Cr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let r=0,o=this._decorations.length;r<o;r++){let s=this._editor.getModel().getDecorationRange(this._decorations[r]);if(e.equalsRange(s)){t=this._decorations[r],i=r+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(r=>{if(this._highlightedDecorationId!==null&&(r.changeDecorationOptions(this._highlightedDecorationId,Cr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,r.changeDecorationOptions(this._highlightedDecorationId,Cr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(r.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){let s=o.endLineNumber-1,a=this._editor.getModel().getLineMaxColumn(s);o=new ee(o.startLineNumber,o.startColumn,s,a)}this._rangeHighlightDecorationId=r.addDecoration(o,Cr._RANGE_HIGHLIGHT_DECORATION)}}),i}set(e,t){this._editor.changeDecorations(i=>{let r=Cr._FIND_MATCH_DECORATION,o=[];if(e.length>1e3){r=Cr._FIND_MATCH_NO_OVERVIEW_DECORATION;const a=this._editor.getModel().getLineCount(),u=this._editor.getLayoutInfo().height/a,c=Math.max(2,Math.ceil(3/u));let d=e[0].range.startLineNumber,h=e[0].range.endLineNumber;for(let f=1,g=e.length;f<g;f++){const p=e[f].range;h+c>=p.startLineNumber?p.endLineNumber>h&&(h=p.endLineNumber):(o.push({range:new ee(d,1,h,1),options:Cr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),d=p.startLineNumber,h=p.endLineNumber)}o.push({range:new ee(d,1,h,1),options:Cr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let a=0,l=e.length;a<l;a++)s[a]={range:e[a].range,options:r};this._decorations=i.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(a=>i.removeDecoration(a)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(a=>i.addDecoration(a,Cr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){let i=this._decorations[t],r=this._editor.getModel().getDecorationRange(i);if(!(!r||r.endLineNumber>e.lineNumber)){if(r.endLineNumber<e.lineNumber)return r;if(!(r.endColumn>e.column))return r}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,i=this._decorations.length;t<i;t++){let r=this._decorations[t],o=this._editor.getModel().getDecorationRange(r);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Cr._CURRENT_FIND_MATCH_DECORATION=Zn.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:Va(W$),position:sh.Center},minimap:{color:Va(jie),position:ah.Inline}});Cr._FIND_MATCH_DECORATION=Zn.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:Va(W$),position:sh.Center},minimap:{color:Va(jie),position:ah.Inline}});Cr._FIND_MATCH_NO_OVERVIEW_DECORATION=Zn.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0});Cr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Zn.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:Va(W$),position:sh.Center}});Cr._RANGE_HIGHLIGHT_DECORATION=Zn.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0});Cr._FIND_SCOPE_DECORATION=Zn.register({description:"find-scope",className:"findScope",isWholeLine:!0});class qNe{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){let i=[];for(let s=0;s<this._ranges.length;s++)i.push({range:this._ranges[s],text:this._replaceStrings[s]});i.sort((s,a)=>ee.compareRangesUsingStarts(s.range,a.range));let r=[],o=i[0];for(let s=1;s<i.length;s++)o.range.endLineNumber===i[s].range.startLineNumber&&o.range.endColumn===i[s].range.startColumn?(o.range=o.range.plusRange(i[s].range),o.text=o.text+i[s].text):(r.push(o),o=i[s]);r.push(o);for(const s of r)t.addEditOperation(s.range,s.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function Aoe(n,e){if(n&&n[0]!==""){const t=k9(n,e,"-"),i=k9(n,e,"_");return t&&!i?P9(n,e,"-"):!t&&i?P9(n,e,"_"):n[0].toUpperCase()===n[0]?e.toUpperCase():n[0].toLowerCase()===n[0]?e.toLowerCase():Gbe(n[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):n[0][0].toUpperCase()!==n[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function k9(n,e,t){return n[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&n[0].split(t).length===e.split(t).length}function P9(n,e,t){const i=e.split(t),r=n[0].split(t);let o="";return i.forEach((s,a)=>{o+=Aoe([r[a]],s)+t}),o.slice(0,-1)}class O9{constructor(e){this.staticValue=e,this.kind=0}}class YNe{constructor(e){this.pieces=e,this.kind=1}}class jv{constructor(e){!e||e.length===0?this._state=new O9(""):e.length===1&&e[0].staticValue!==null?this._state=new O9(e[0].staticValue):this._state=new YNe(e)}static fromStaticValue(e){return new jv([gg.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?Aoe(e,this._state.staticValue):this._state.staticValue;let i="";for(let r=0,o=this._state.pieces.length;r<o;r++){let s=this._state.pieces[r];if(s.staticValue!==null){i+=s.staticValue;continue}let a=jv._substitute(s.matchIndex,e);if(s.caseOps!==null&&s.caseOps.length>0){let l=[],u=s.caseOps.length,c=0;for(let d=0,h=a.length;d<h;d++){if(c>=u){l.push(a.slice(d));break}switch(s.caseOps[c]){case"U":l.push(a[d].toUpperCase());break;case"u":l.push(a[d].toUpperCase()),c++;break;case"L":l.push(a[d].toLowerCase());break;case"l":l.push(a[d].toLowerCase()),c++;break;default:l.push(a[d])}}a=l.join("")}i+=a}return i}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let i="";for(;e>0;){if(e<t.length)return(t[e]||"")+i;i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class gg{constructor(e,t,i){this.staticValue=e,this.matchIndex=t,!i||i.length===0?this.caseOps=null:this.caseOps=i.slice(0)}static staticValue(e){return new gg(e,-1,null)}static caseOps(e,t){return new gg(null,e,t)}}class XNe{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=gg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=gg.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=gg.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new jv(this._result)}}function ZNe(n){if(!n||n.length===0)return new jv(null);let e=[],t=new XNe(n);for(let i=0,r=n.length;i<r;i++){let o=n.charCodeAt(i);if(o===92){if(i++,i>=r)break;let s=n.charCodeAt(i);switch(s){case 92:t.emitUnchanged(i-1),t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1),t.emitStatic(`
`,i+1);break;case 116:t.emitUnchanged(i-1),t.emitStatic("	",i+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(i-1),t.emitStatic("",i+1),e.push(String.fromCharCode(s));break}continue}if(o===36){if(i++,i>=r)break;let s=n.charCodeAt(i);if(s===36){t.emitUnchanged(i-1),t.emitStatic("$",i+1);continue}if(s===48||s===38){t.emitUnchanged(i-1),t.emitMatchIndex(0,i+1,e),e.length=0;continue}if(49<=s&&s<=57){let a=s-48;if(i+1<r){let l=n.charCodeAt(i+1);if(48<=l&&l<=57){i++,a=a*10+(l-48),t.emitUnchanged(i-2),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}t.emitUnchanged(i-1),t.emitMatchIndex(a,i+1,e),e.length=0;continue}}}return t.finalize()}const yp=new ht("findWidgetVisible",!1),bE=new ht("findInputFocussed",!1),E3=new ht("replaceInputFocussed",!1),F1={primary:545,mac:{primary:2593}},$1={primary:565,mac:{primary:2613}},V1={primary:560,mac:{primary:2608}},W1={primary:554,mac:{primary:2602}},z1={primary:558,mac:{primary:2606}},wn={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Ad=19999,QNe=240;class Z_{constructor(e,t){this._toDispose=new St,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new yu,this._decorations=new Cr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new vr(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(i=>{(i.reason===3||i.reason===5||i.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(i=>{this._ignoreModelContentChanged||(i.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(i=>this._onStateChanged(i))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,Bn(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},QNe)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;typeof t<"u"?t!==null&&(Array.isArray(t)?i=t:i=[t]):i=this._decorations.getFindScopes(),i!==null&&(i=i.map(a=>{if(a.startLineNumber!==a.endLineNumber){let l=a.endLineNumber;return a.endColumn===1&&(l=l-1),new ee(a.startLineNumber,1,l,this._editor.getModel().getLineMaxColumn(l))}return a}));let r=this._findMatches(i,!1,Ad);this._decorations.set(r,i);const o=this._editor.getSelection();let s=this._decorations.getCurrentMatchesPosition(o);if(s===0&&r.length>0){const a=Pwe(r.map(l=>l.range),l=>ee.compareRangesUsingStarts(l,o)>=0);s=a>0?a-1+1:s}this._state.changeMatchInfo(s,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:r}=e,o=this._editor.getModel();return t||r===1?(i===1?i=o.getLineCount():i--,r=o.getLineMaxColumn(i)):r--,new ve(i,r)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const c=this._decorations.matchAfterPosition(e);c&&this._setCurrentFindMatch(c);return}if(this._decorations.getCount()<Ad){let c=this._decorations.matchBeforePosition(e);c&&c.isEmpty()&&c.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),c=this._decorations.matchBeforePosition(e)),c&&this._setCurrentFindMatch(c);return}if(this._cannotFind())return;let i=this._decorations.getFindScope(),r=Z_._getSearchRange(this._editor.getModel(),i);r.getEndPosition().isBefore(e)&&(e=r.getEndPosition()),e.isBefore(r.getStartPosition())&&(e=r.getEndPosition());let{lineNumber:o,column:s}=e,a=this._editor.getModel(),l=new ve(o,s),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),u=a.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),!!u){if(!t&&!r.containsRange(u.range))return this._moveToPrevMatch(u.range.getStartPosition(),!0);this._setCurrentFindMatch(u.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:i,column:r}=e,o=this._editor.getModel();return t||r===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,r=1):r++,new ve(i,r)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const i=this._decorations.matchBeforePosition(e);i&&this._setCurrentFindMatch(i);return}if(this._decorations.getCount()<Ad){let i=this._decorations.matchAfterPosition(e);i&&i.isEmpty()&&i.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),i=this._decorations.matchAfterPosition(e)),i&&this._setCurrentFindMatch(i);return}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,r=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),s=Z_._getSearchRange(this._editor.getModel(),o);s.getEndPosition().isBefore(e)&&(e=s.getStartPosition()),e.isBefore(s.getStartPosition())&&(e=s.getStartPosition());let{lineNumber:a,column:l}=e,u=this._editor.getModel(),c=new ve(a,l),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),d=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),d?!r&&!s.containsRange(d.range)?this._getNextMatch(d.range.getEndPosition(),t,i,!0):d:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?ZNe(this._state.replaceString):jv.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){let r=e.buildReplaceString(i.matches,this._state.preserveCase),o=new jr(t,r);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new ve(t.startLineNumber,t.startColumn+r.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const r=(e||[null]).map(o=>Z_._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,r,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Ad?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new gf(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let d="mu";i.ignoreCase&&(d+="i"),i.global&&(d+="g"),i=new RegExp(i.source,d)}const r=this._editor.getModel(),o=r.getValue(1),s=r.getFullModelRange(),a=this._getReplacePattern();let l;const u=this._state.preserveCase;a.hasReplacementPatterns||u?l=o.replace(i,function(){return a.buildReplaceString(arguments,u)}):l=o.replace(i,a.buildReplaceString(null,u));let c=new tre(s,l,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}_regularReplaceAll(e){const t=this._getReplacePattern();let i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),r=[];for(let s=0,a=i.length;s<a;s++)r[s]=t.buildReplaceString(i[s].matches,this._state.preserveCase);let o=new qNe(this._editor.getSelection(),i.map(s=>s.range),r);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),i=this._findMatches(e,!1,1073741824).map(o=>new Bt(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)),r=this._editor.getSelection();for(let o=0,s=i.length;o<s;o++)if(i[o].equalsRange(r)){i=[r].concat(i.slice(0,o)).concat(i.slice(o+1));break}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}const JNe={inputActiveOptionBorder:_e.fromHex("#007ACC00"),inputActiveOptionForeground:_e.fromHex("#FFFFFF"),inputActiveOptionBackground:_e.fromHex("#0E639C50")};let vw=class extends _u{constructor(e){super(),this._onChange=this._register(new ae),this.onChange=this._onChange.event,this._onKeyDown=this._register(new ae),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},JNe),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...bo.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,i=>{this.checked=!this._checked,this._onChange.fire(!1),i.preventDefault()}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,i=>{if(i.keyCode===10||i.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),i.preventDefault();return}this._onKeyDown.fire(i)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}};const eke=E("caseDescription","Match Case"),tke=E("wordsDescription","Match Whole Word"),nke=E("regexDescription","Use Regular Expression");class Noe extends vw{constructor(e){super({icon:sn.caseSensitive,title:eke+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class koe extends vw{constructor(e){super({icon:sn.wholeWord,title:tke+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Poe extends vw{constructor(e){super({icon:sn.regex,title:nke+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class SE extends _u{constructor(e,t,i,r){super(),this._hideSoon=this._register(new vr(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=r.getColorTheme().getColor(NR),s=r.getColorTheme().getColor(PR),a=r.getColorTheme().getColor(kR);this.caseSensitive=this._register(new Noe({appendTitle:this._keybindingLabelFor(wn.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new koe({appendTitle:this._keybindingLabelFor(wn.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new Poe({appendTitle:this._keybindingLabelFor(wn.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:s,inputActiveOptionBackground:a})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(l=>{let u=!1;l.isRegex&&(this.regex.checked=this._state.isRegex,u=!0),l.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,u=!0),l.matchCase&&(this.caseSensitive.checked=this._state.matchCase,u=!0),!this._state.isRevealed&&u&&this._revealTemporarily()})),this._register(XF(this._domNode,l=>this._onMouseOut())),this._register(De(this._domNode,"mouseover",l=>this._onMouseOver())),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return SE.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(NR),inputActiveOptionForeground:e.getColor(PR),inputActiveOptionBackground:e.getColor(kR)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}SE.ID="editor.contrib.findOptionsWidget";es((n,e)=>{const t=n.getColor(pc);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const i=n.getColor(Xd);i&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);const r=n.getColor(Bv);r&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${r}; }`);const o=n.getColor(Zi);o&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});function H1(n,e){return n===1?!0:n===2?!1:e}class ike extends Pe{constructor(){super(),this._onFindReplaceStateChange=this._register(new ae),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return H1(this._isRegexOverride,this._isRegex)}get wholeWord(){return H1(this._wholeWordOverride,this._wholeWord)}get matchCase(){return H1(this._matchCaseOverride,this._matchCase)}get preserveCase(){return H1(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,i){let r={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,r.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,r.matchesCount=!0,o=!0),typeof i<"u"&&(ee.equalsRange(this._currentMatch,i)||(this._currentMatch=i,r.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(r)}change(e,t,i=!0){var r;let o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},s=!1;const a=this.isRegex,l=this.wholeWord,u=this.matchCase,c=this.preserveCase;typeof e.searchString<"u"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,s=!0),typeof e.replaceString<"u"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,s=!0),typeof e.isRevealed<"u"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,s=!0),typeof e.isReplaceRevealed<"u"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,s=!0),typeof e.isRegex<"u"&&(this._isRegex=e.isRegex),typeof e.wholeWord<"u"&&(this._wholeWord=e.wholeWord),typeof e.matchCase<"u"&&(this._matchCase=e.matchCase),typeof e.preserveCase<"u"&&(this._preserveCase=e.preserveCase),typeof e.searchScope<"u"&&(!((r=e.searchScope)===null||r===void 0)&&r.every(d=>{var h;return(h=this._searchScope)===null||h===void 0?void 0:h.some(f=>!ee.equalsRange(f,d))})||(this._searchScope=e.searchScope,o.searchScope=!0,s=!0)),typeof e.loop<"u"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,s=!0),this._isRegexOverride=typeof e.isRegexOverride<"u"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride<"u"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride<"u"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride<"u"?e.preserveCaseOverride:0,a!==this.isRegex&&(s=!0,o.isRegex=!0),l!==this.wholeWord&&(s=!0,o.wholeWord=!0),u!==this.matchCase&&(s=!0,o.matchCase=!0),c!==this.preserveCase&&(s=!0,o.preserveCase=!0),s&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Ad}}const rke=E("defaultLabel","input");class oke extends _u{constructor(e,t,i,r){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new ae),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ae),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ae),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new ae),this._onKeyUp=this._register(new ae),this._onCaseSensitiveKeyDown=this._register(new ae),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new ae),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||rke,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const o=r.appendCaseSensitiveLabel||"",s=r.appendWholeWordsLabel||"",a=r.appendRegexLabel||"",l=r.history||[],u=!!r.flexibleHeight,c=!!r.flexibleWidth,d=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Loe(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:l,flexibleHeight:u,flexibleWidth:c,flexibleMaxHeight:d})),this.regex=this._register(new Poe({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(g=>{this._onRegexKeyDown.fire(g)})),this.wholeWords=this._register(new koe({appendTitle:s,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new Noe({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(g=>{this._onCaseSensitiveKeyDown.fire(g)})),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let h=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(15)||g.equals(17)||g.equals(9)){let p=h.indexOf(document.activeElement);if(p>=0){let m=-1;g.equals(17)?m=(p+1)%h.length:g.equals(15)&&(p===0?m=h.length-1:m=p-1),g.equals(9)?(h[p].blur(),this.inputBox.focus()):m>=0&&h[m].focus(),Cn.stop(g,!0)}}});let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.caseSensitive.domNode),f.appendChild(this.wholeWords.domNode),f.appendChild(this.regex.domNode),this.domNode.appendChild(f),e&&e.appendChild(this.domNode),this._register(De(this.inputBox.inputElement,"compositionstart",g=>{this.imeSessionInProgress=!0})),this._register(De(this.inputBox.inputElement,"compositionend",g=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}}const ske=E("defaultLabel","input"),ake=E("label.preserveCaseCheckbox","Preserve Case");class lke extends vw{constructor(e){super({icon:sn.preserveCase,title:ake+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class uke extends _u{constructor(e,t,i,r){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ae),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ae),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ae),this._onInput=this._register(new ae),this._onKeyUp=this._register(new ae),this._onPreserveCaseKeyDown=this._register(new ae),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=r.placeholder||"",this.validation=r.validation,this.label=r.label||ske,this.inputActiveOptionBorder=r.inputActiveOptionBorder,this.inputActiveOptionForeground=r.inputActiveOptionForeground,this.inputActiveOptionBackground=r.inputActiveOptionBackground,this.inputBackground=r.inputBackground,this.inputForeground=r.inputForeground,this.inputBorder=r.inputBorder,this.inputValidationInfoBorder=r.inputValidationInfoBorder,this.inputValidationInfoBackground=r.inputValidationInfoBackground,this.inputValidationInfoForeground=r.inputValidationInfoForeground,this.inputValidationWarningBorder=r.inputValidationWarningBorder,this.inputValidationWarningBackground=r.inputValidationWarningBackground,this.inputValidationWarningForeground=r.inputValidationWarningForeground,this.inputValidationErrorBorder=r.inputValidationErrorBorder,this.inputValidationErrorBackground=r.inputValidationErrorBackground,this.inputValidationErrorForeground=r.inputValidationErrorForeground;const o=r.appendPreserveCaseLabel||"",s=r.history||[],a=!!r.flexibleHeight,l=!!r.flexibleWidth,u=r.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new Loe(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:s,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:u})),this.preserveCase=this._register(new lke({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(h=>{this._onDidOptionChange.fire(h),!h&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(h=>{this._onPreserveCaseKeyDown.fire(h)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let c=[this.preserveCase.domNode];this.onkeydown(this.domNode,h=>{if(h.equals(15)||h.equals(17)||h.equals(9)){let f=c.indexOf(document.activeElement);if(f>=0){let g=-1;h.equals(17)?g=(f+1)%c.length:h.equals(15)&&(f===0?g=c.length-1:g=f-1),h.equals(9)?(c[f].blur(),this.inputBox.focus()):g>=0&&c[g].focus(),Cn.stop(h,!0)}}});let d=document.createElement("div");d.className="controls",d.style.display=this._showOptionButtons?"block":"none",d.appendChild(this.preserveCase.domNode),this.domNode.appendChild(d),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,h=>this._onKeyDown.fire(h)),this.onkeyup(this.inputBox.inputElement,h=>this._onKeyUp.fire(h)),this.oninput(this.inputBox.inputElement,h=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,h=>this._onMouseDown.fire(h))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Ooe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Roe=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}};const sS="historyNavigationWidget",M3="historyNavigationEnabled";function cke(n,e,t){new ht(t,e).bindTo(n)}function dke(n,e){return n.createScoped(e.target)}function Boe(n,e){return n.getContext(document.activeElement).getValue(e)}function Foe(n,e){const t=dke(n,e);cke(t,e,sS);const i=new ht(M3,!0).bindTo(t);return{scopedContextKeyService:t,historyNavigationEnablement:i}}let M4=class extends oke{constructor(e,t,i,r,o=!1){super(e,t,o,i),this._register(Foe(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};M4=Ooe([Roe(3,pn)],M4);let A4=class extends uke{constructor(e,t,i,r,o=!1){super(e,t,o,i),this._register(Foe(r,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};A4=Ooe([Roe(3,pn)],A4);Cy.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:dn.and(dn.has(sS),dn.equals(M3,!0)),primary:16,secondary:[528],handler:(n,e)=>{const t=Boe(n.get(pn),sS);t&&t.historyNavigator.showPreviousValue()}});Cy.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:dn.and(dn.has(sS),dn.equals(M3,!0)),primary:18,secondary:[530],handler:(n,e)=>{const t=Boe(n.get(pn),sS);t&&t.historyNavigator.showNextValue()}});var hke=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const fke=Es("find-selection",sn.selection,E("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),R9=Es("find-collapsed",sn.chevronRight,E("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),B9=Es("find-expanded",sn.chevronDown,E("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),gke=Es("find-replace",sn.replace,E("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),pke=Es("find-replace-all",sn.replaceAll,E("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),mke=Es("find-previous-match",sn.arrowUp,E("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),vke=Es("find-next-match",sn.arrowDown,E("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),yke=E("label.find","Find"),_ke=E("placeholder.find","Find"),bke=E("label.previousMatchButton","Previous Match"),Ske=E("label.nextMatchButton","Next Match"),wke=E("label.toggleSelectionFind","Find in Selection"),Cke=E("label.closeButton","Close"),xke=E("label.replace","Replace"),Lke=E("placeholder.replace","Replace"),Tke=E("label.replaceButton","Replace"),Ike=E("label.replaceAllButton","Replace All"),Dke=E("label.toggleReplaceButton","Toggle Replace"),Eke=E("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Ad),Mke=E("label.matchesLocation","{0} of {1}"),F9=E("label.noResults","No results"),_l=419,Ake=275,Nke=Ake-54;let p0=69;const kke=33,$9="ctrlEnterReplaceAll.windows.donotask",V9=Qt?256:2048;class _2{constructor(e){this.afterLineNumber=e,this.heightInPx=kke,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function W9(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionStart>0){n.stopPropagation();return}}function z9(n,e,t){const i=!!e.match(/\n/);if(t&&i&&t.selectionEnd<t.value.length){n.stopPropagation();return}}class wE extends _u{constructor(e,t,i,r,o,s,a,l,u){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=o,this._contextKeyService=s,this._storageService=l,this._notificationService=u,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean($9,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new nw(500),this._register(Tn(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(c=>this._onStateChanged(c))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(c=>{if(c.hasChanged(79)&&(this._codeEditor.getOption(79)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),c.hasChanged(129)&&this._tryUpdateWidgetWidth(),c.hasChanged(2)&&this.updateAccessibilitySupport(),c.hasChanged(33)){const d=this._codeEditor.getOption(33).addExtraSpaceOnTop;d&&!this._viewZone&&(this._viewZone=new _2(0),this._showViewZone()),!d&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>hke(this,void 0,void 0,function*(){if(this._isVisible){let c=yield this._controller.getGlobalBufferTerm();c&&c!==this._state.searchString&&(this._state.change({searchString:c},!1),this._findInput.select())}}))),this._findInputFocused=bE.bindTo(s),this._findFocusTracker=this._register(Mv(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=E3.bindTo(s),this._replaceFocusTracker=this._register(Mv(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new _2(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(c=>{if(c.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return wE.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(79)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=Ws(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Rn)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=p0+"px",this._state.matchesCount>=Ad?this._matchesCount.title=Eke:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Ad&&(t+="+");let i=String(this._state.matchesPosition);i==="0"&&(i="?"),e=Bl(Mke,i,t)}else e=F9;this._matchesCount.appendChild(document.createTextNode(e)),WD(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),p0=Math.max(p0,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===F9)return i===""?E("ariaSearchNoResultEmpty","{0} found",e):E("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const r=E("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${r}`:r}return E("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let i=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const i=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=i;break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const r=ia(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=r.left+(o?o.left:0),a=o?o.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const l=jte(this._domNode).left;s>l&&(t=!1);const u=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());r.left+(u?u.left:0)>l&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const i=this._viewZone;this._viewZoneId!==void 0||!i||this._codeEditor.changeViewZones(r=>{i.heightInPx=this._getHeight(),this._viewZoneId=r.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new _2(0));const i=this._viewZone;this._codeEditor.changeViewZones(r=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===i.heightInPx)return;let s=o-i.heightInPx;i.heightInPx=o,r.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+s);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(73).top,o<=0)return;i.heightInPx=o,this._viewZoneId=r.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(NR),inputActiveOptionBackground:e.getColor(kR),inputActiveOptionForeground:e.getColor(PR),inputBackground:e.getColor(Aie),inputForeground:e.getColor(Nie),inputBorder:e.getColor(kie),inputValidationInfoBackground:e.getColor(Pie),inputValidationInfoForeground:e.getColor(Oie),inputValidationInfoBorder:e.getColor(Rie),inputValidationWarningBackground:e.getColor(Bie),inputValidationWarningForeground:e.getColor(Fie),inputValidationWarningBorder:e.getColor($ie),inputValidationErrorBackground:e.getColor(Vie),inputValidationErrorForeground:e.getColor(Wie),inputValidationErrorBorder:e.getColor(zie)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!YF(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,r=e.minimap.minimapWidth;let o=!1,s=!1,a=!1;if(this._resized&&Ws(this._domNode)>_l){this._domNode.style.maxWidth=`${i-28-r-15}px`,this._replaceInput.width=Ws(this._findInput.domNode);return}if(_l+28+r>=i&&(s=!0),_l+28+r-p0>=i&&(a=!0),_l+28+r-p0>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",a),this._domNode.classList.toggle("reduced-find-widget",s),!a&&!o&&(this._domNode.style.maxWidth=`${i-28-r-15}px`),this._resized){this._findInput.inputBox.layout();let l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=Ws(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const i=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!ee.equalsRange(t,i)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(V9|3)){this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return W9(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return z9(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(V9|3)){zo&&jm&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(E("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store($9,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return W9(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return z9(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new M4(null,this._contextViewProvider,{width:Nke,label:yke,placeholder:_ke,appendCaseSensitiveLabel:this._keybindingLabelFor(wn.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(wn.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(wn.ToggleRegexCommand),validation:l=>{if(l.length===0||!this._findInput.getRegex())return null;try{return new RegExp(l,"gu"),null}catch(u){return{content:u.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(l=>this._onFindInputKeyDown(l))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(l=>{l.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),l.preventDefault())})),this._register(this._findInput.onRegexKeyDown(l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),l.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(l=>{this._tryUpdateHeight()&&this._showViewZone()})),Ho&&this._register(this._findInput.onMouseDown(l=>this._onFindInputMouseDown(l))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Gp({label:bke+this._keybindingLabelFor(wn.PreviousMatchFindAction),icon:mke,onTrigger:()=>{this._codeEditor.getAction(wn.PreviousMatchFindAction).run().then(void 0,Rn)}})),this._nextBtn=this._register(new Gp({label:Ske+this._keybindingLabelFor(wn.NextMatchFindAction),icon:vke,onTrigger:()=>{this._codeEditor.getAction(wn.NextMatchFindAction).run().then(void 0,Rn)}}));let i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const r=document.createElement("div");r.className="find-actions",i.appendChild(r),r.appendChild(this._matchesCount),r.appendChild(this._prevBtn.domNode),r.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new vw({icon:fke,title:wke+this._keybindingLabelFor(wn.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let l=this._codeEditor.getSelections();l.map(u=>(u.endColumn===1&&u.endLineNumber>u.startLineNumber&&(u=u.setEndPosition(u.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(u.endLineNumber-1))),u.isEmpty()?null:u)).filter(u=>!!u),l.length&&this._state.change({searchScope:l},!0)}}else this._state.change({searchScope:null},!0)})),r.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Gp({label:Cke+this._keybindingLabelFor(wn.CloseFindWidgetCommand),icon:FDe,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:l=>{l.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),l.preventDefault())}})),r.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new A4(null,void 0,{label:xke,placeholder:Lke,appendPreserveCaseLabel:this._keybindingLabelFor(wn.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(l=>this._onReplaceInputKeyDown(l))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(l=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(l=>{l.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),l.preventDefault())})),this._replaceBtn=this._register(new Gp({label:Tke+this._keybindingLabelFor(wn.ReplaceOneAction),icon:gke,onTrigger:()=>{this._controller.replace()},onKeyDown:l=>{l.equals(1026)&&(this._closeBtn.focus(),l.preventDefault())}})),this._replaceAllBtn=this._register(new Gp({label:Ike+this._keybindingLabelFor(wn.ReplaceAllAction),icon:pke,onTrigger:()=>{this._controller.replaceAll()}}));let o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const s=document.createElement("div");s.className="replace-actions",o.appendChild(s),s.appendChild(this._replaceBtn.domNode),s.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Gp({label:Dke,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=Ws(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${_l}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(o),this._resizeSash=new ko(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let a=_l;this._register(this._resizeSash.onDidStart(()=>{a=Ws(this._domNode)})),this._register(this._resizeSash.onDidChange(l=>{this._resized=!0;let u=a+l.startX-l.currentX;if(u<_l)return;const c=parseFloat(QF(this._domNode).maxWidth)||0;u>c||(this._domNode.style.width=`${u}px`,this._isReplaceVisible&&(this._replaceInput.width=Ws(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const l=Ws(this._domNode);if(l<_l)return;let u=_l;if(!this._resized||l===_l){const c=this._codeEditor.getLayoutInfo();u=c.width-28-c.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${u}px`,this._isReplaceVisible&&(this._replaceInput.width=Ws(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}wE.ID="editor.contrib.findWidget";class Gp extends _u{constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+Pr.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,i=>{this._opts.onTrigger(),i.preventDefault()}),this.onkeydown(this._domNode,i=>{if(i.equals(10)||i.equals(3)){this._opts.onTrigger(),i.preventDefault();return}this._opts.onKeyDown&&this._opts.onKeyDown(i)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...Pr.asClassNameArray(R9)),this._domNode.classList.add(...Pr.asClassNameArray(B9))):(this._domNode.classList.remove(...Pr.asClassNameArray(B9)),this._domNode.classList.add(...Pr.asClassNameArray(R9)))}}es((n,e)=>{const t=(f,g)=>{g&&e.addRule(`.monaco-editor ${f} { background-color: ${g}; }`)};t(".findMatch",n.getColor(RR)),t(".currentFindMatch",n.getColor(yLe)),t(".findScope",n.getColor(_Le));const i=n.getColor(pc);t(".find-widget",i);const r=n.getColor(Bv);r&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${r}; }`);const o=n.getColor(SLe);o&&e.addRule(`.monaco-editor .findMatch { border: 1px ${n.type==="hc"?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const s=n.getColor(bLe);s&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${s}; padding: 1px; box-sizing: border-box; }`);const a=n.getColor(wLe);a&&e.addRule(`.monaco-editor .findScope { border: 1px ${n.type==="hc"?"dashed":"solid"} ${a}; }`);const l=n.getColor(Zi);l&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);const u=n.getColor(Xd);u&&e.addRule(`.monaco-editor .find-widget { color: ${u}; }`);const c=n.getColor(Qxe);c&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const d=n.getColor(lLe);if(d)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${d}; }`);else{const f=n.getColor(Ax);f&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${f}; }`)}const h=n.getColor(Fg);h&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${h}; }`)});var $oe=globalThis&&globalThis.__decorate||function(n,e,t,i){var r=arguments.length,o=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o},Nl=globalThis&&globalThis.__param||function(n,e){return function(t,i){e(t,i,n)}},qv=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const Pke=524288;function N4(n,e="single",t=!1){if(!n.hasModel())return null;const i=n.getSelection();if(e==="single"&&i.startLineNumber===i.endLineNumber||e==="multiple"){if(i.isEmpty()){const r=n.getConfiguredWordAtPosition(i.getStartPosition());if(r&&t===!1)return r.word}else if(n.getModel().getValueLengthInRange(i)<Pke)return n.getModel().getValueInRange(i)}return null}let sl=class Voe extends Pe{constructor(e,t,i,r){super(),this._editor=e,this._findWidgetVisible=yp.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=r,this._updateHistoryDelayer=new nw(500),this._state=this._register(new ike),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{let o=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),o&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(Voe.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!bE.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=oh(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return qv(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if(e.seedSearchStringFromSelection==="single"){let i=N4(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);i&&(this._state.isRegex?t.searchString=oh(i):t.searchString=i)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){let i=N4(this._editor,e.seedSearchStringFromSelection);i&&(t.searchString=i)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let i=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;i&&(t.searchString=i)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let i=this._editor.getSelections();i.some(r=>!r.isEmpty())&&(t.searchScope=i)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new Z_(this._editor,this._state))})}start(e){return this._start(e)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return qv(this,void 0,void 0,function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};sl.ID="editor.contrib.findController";sl=$oe([Nl(1,pn),Nl(2,x3),Nl(3,Iy)],sl);let k4=class extends sl{constructor(e,t,i,r,o,s,a,l){super(e,i,a,l),this._contextViewService=t,this._keybindingService=r,this._themeService=o,this._notificationService=s,this._widget=null,this._findOptionsWidget=null}_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return qv(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const i=this._editor.getSelection();let r=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":r=!0;break;case"never":r=!1;break;case"multiline":r=!!i&&i.startLineNumber!==i.endLineNumber;break}e.updateSearchScope=r,yield t._start.call(this,e),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new wE(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new SE(this._editor,this._state,this._keybindingService,this._themeService))}};k4=$oe([Nl(1,gp),Nl(2,pn),Nl(3,oo),Nl(4,zi),Nl(5,pa),Nl(6,x3),Nl(7,Iy)],k4);const Oke=die(new cie({id:wn.StartFindAction,label:E("startFindAction","Find"),alias:"Find",precondition:dn.or(Re.focus,dn.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:gn.MenubarEditMenu,group:"3_find",title:E({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));Oke.addImplementation(0,(n,e,t)=>{const i=sl.get(e);return i?i.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(33).loop}):!1});class Rke extends Th{constructor(){super({id:wn.StartFindWithSelection,label:E("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return qv(this,void 0,void 0,function*(){let i=sl.get(t);i&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),i.setGlobalBufferTerm(i.getState().searchString))})}}class Woe extends Th{run(e,t){return qv(this,void 0,void 0,function*(){let i=sl.get(t);i&&!this._run(i)&&(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(i))})}}class Bke extends Woe{constructor(){super({id:wn.NextMatchFindAction,label:E("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:Re.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:dn.and(Re.focus,bE),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class Fke extends Woe{constructor(){super({id:wn.PreviousMatchFindAction,label:E("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:Re.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:dn.and(Re.focus,bE),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class zoe extends Th{run(e,t){return qv(this,void 0,void 0,function*(){let i=sl.get(t);if(!i)return;const r=t.getOption(33).seedSearchStringFromSelection==="selection";let o=null;t.getOption(33).seedSearchStringFromSelection!=="never"&&(o=N4(t,"single",r)),o&&i.setSearchString(o),this._run(i)||(yield i.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(33).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:r,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(i))})}}class $ke extends zoe{constructor(){super({id:wn.NextSelectionMatchFindAction,label:E("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:Re.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class Vke extends zoe{constructor(){super({id:wn.PreviousSelectionMatchFindAction,label:E("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:Re.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const Wke=die(new cie({id:wn.StartFindReplaceAction,label:E("startReplace","Replace"),alias:"Replace",precondition:dn.or(Re.focus,dn.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:gn.MenubarEditMenu,group:"3_find",title:E({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));Wke.addImplementation(0,(n,e,t)=>{if(!e.hasModel()||e.getOption(79))return!1;const i=sl.get(e);if(!i)return!1;const r=e.getSelection(),o=i.isFindInputFocused(),s=!r.isEmpty()&&r.startLineNumber===r.endLineNumber&&e.getOption(33).seedSearchStringFromSelection!=="never"&&!o,a=o||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(33).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(33).seedSearchStringFromSelection!=="never",shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(33).loop})});D$(sl.ID,k4);hp(Rke);hp(Bke);hp(Fke);hp($ke);hp(Vke);const dl=dp.bindToContribution(sl.get);Xe(new dl({id:wn.CloseFindWidgetCommand,precondition:yp,handler:n=>n.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:dn.and(Re.focus,dn.not("isComposing")),primary:9,secondary:[1033]}}));Xe(new dl({id:wn.ToggleCaseSensitiveCommand,precondition:void 0,handler:n=>n.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:F1.primary,mac:F1.mac,win:F1.win,linux:F1.linux}}));Xe(new dl({id:wn.ToggleWholeWordCommand,precondition:void 0,handler:n=>n.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:$1.primary,mac:$1.mac,win:$1.win,linux:$1.linux}}));Xe(new dl({id:wn.ToggleRegexCommand,precondition:void 0,handler:n=>n.toggleRegex(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:V1.primary,mac:V1.mac,win:V1.win,linux:V1.linux}}));Xe(new dl({id:wn.ToggleSearchScopeCommand,precondition:void 0,handler:n=>n.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:W1.primary,mac:W1.mac,win:W1.win,linux:W1.linux}}));Xe(new dl({id:wn.TogglePreserveCaseCommand,precondition:void 0,handler:n=>n.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:z1.primary,mac:z1.mac,win:z1.win,linux:z1.linux}}));Xe(new dl({id:wn.ReplaceOneAction,precondition:yp,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:3094}}));Xe(new dl({id:wn.ReplaceOneAction,precondition:yp,handler:n=>n.replace(),kbOpts:{weight:100+5,kbExpr:dn.and(Re.focus,E3),primary:3}}));Xe(new dl({id:wn.ReplaceAllAction,precondition:yp,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:2563}}));Xe(new dl({id:wn.ReplaceAllAction,precondition:yp,handler:n=>n.replaceAll(),kbOpts:{weight:100+5,kbExpr:dn.and(Re.focus,E3),primary:void 0,mac:{primary:2051}}}));Xe(new dl({id:wn.SelectAllMatchesAction,precondition:yp,handler:n=>n.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:Re.focus,primary:515}}));const Hoe=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},zke={name:"Monacoeditor",props:["content","option","height","isReadonly","id","theme"],setup(n,e){let t=null,i=pi({val:n.content});Ve(()=>n.content,(r,o)=>{r!=o&&r!=i.val&&(i.val=r,t&&t.setValue(r))}),Vt(()=>{setTimeout(()=>{t=jNe.create(document.getElementById(n.id),{value:n.content,theme:n.theme||"vs-dark",language:n.option.mode,readOnly:n.isReadonly}),t.onDidChangeModelContent(()=>{const r=t.getValue();i.val=r,e.emit("change",r)}),t.onKeyUp(r=>{r.code=="Enter"&&e.emit("enter",t.getValue())})},10)})}},Hke=["id"];function Uke(n,e,t,i,r,o){return rc(),T_("div",{id:t.id,style:YS([{width:"100%"},t.height?"height:"+t.height:"height: 500px;"])},null,12,Hke)}const Gke=Hoe(zke,[["render",Uke]]),Kke="modulepreload",jke=function(n){return"/"+n},H9={},qke=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=jke(o),o in H9)return;H9[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!i)for(let c=r.length-1;c>=0;c--){const d=r[c];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Kke,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var Yke=function(){function n(e,t,i){this._onDidChange=new KNe,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(n.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),n.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},n.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},n}(),Xke={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Zke={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Uoe=new Yke("json",Xke,Zke);D3.json={jsonDefaults:Uoe};function Qke(){return qke(()=>import("./jsonMode-4a8df040.js"),[])}D3.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});D3.onLanguage("json",function(){Qke().then(function(n){return n.setupMode(Uoe)})});const Jke={name:"JsonEditor",props:["value","id","height","isReadonly","noreset","theme"],data(){return{code:"",cmOptions:{styleActiveLine:!0,matchBrackets:!1,readOnly:!1,mode:"json",maxHighlightLength:1/0,foldGutter:!0,smartInder:!1,lint:!1}}},watch:{value(n,e){n!==e&&this.setValue()}},mounted(){this.setValue()},methods:{change(n){typeof n=="string"&&(this.$emit("update:value",n),this.$emit("fetch",n))},setValue(){if(this.code=this.value,this.value=="")this.code=this.value;else try{this.code=this.noreset?this.value:JSON.stringify(JSON.parse(this.value),null,2)}catch{}}}};function ePe(n,e,t,i,r,o){const s=Gke;return rc(),T_("div",null,[N(s,{id:t.id?t.id:"JsonEditor",content:r.code,"onUpdate:content":e[0]||(e[0]=a=>r.code=a),option:r.cmOptions,onChange:o.change,height:t.height,theme:t.theme,"is-readonly":t.isReadonly},null,8,["id","content","option","onChange","height","theme","is-readonly"])])}const tPe=Hoe(Jke,[["render",ePe]]);function aS(n){"@babel/helpers - typeof";return aS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aS(n)}function nPe(n,e){if(aS(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(aS(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iPe(n){var e=nPe(n,"string");return aS(e)==="symbol"?e:String(e)}function rPe(n,e,t){return e=iPe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function U9(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function se(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(t),!0).forEach(function(i){rPe(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):U9(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function A(){return A=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},A.apply(this,arguments)}const oPe=n=>typeof n=="function",sPe=Array.isArray,aPe=n=>typeof n=="string",lPe=n=>n!==null&&typeof n=="object",uPe=/^on[^a-z]/,cPe=n=>uPe.test(n),A3=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},dPe=/-(\w)/g,Dy=A3(n=>n.replace(dPe,(e,t)=>t?t.toUpperCase():"")),hPe=/\B([A-Z])/g,fPe=A3(n=>n.replace(hPe,"-$1").toLowerCase()),gPe=A3(n=>n.charAt(0).toUpperCase()+n.slice(1)),pPe=Object.prototype.hasOwnProperty,G9=(n,e)=>pPe.call(n,e);function mPe(n,e,t,i){const r=n[t];if(r!=null){const o=G9(r,"default");if(o&&i===void 0){const s=r.default;i=r.type!==Function&&oPe(s)?s():s}r.type===Boolean&&(!G9(e,t)&&!o?i=!1:i===""&&(i=!0))}return i}function Rf(n){return typeof n=="number"?`${n}px`:n}function Ee(){const n=[];for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(t){if(aPe(t))n.push(t);else if(sPe(t))for(let i=0;i<t.length;i++){const r=Ee(t[i]);r&&n.push(r)}else if(lPe(t))for(const i in t)t[i]&&n.push(i)}}return n.join(" ")}var Goe=function(){if(typeof Map<"u")return Map;function n(e,t){var i=-1;return e.some(function(r,o){return r[0]===t?(i=o,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var i=n(this.__entries__,t),r=this.__entries__[i];return r&&r[1]},e.prototype.set=function(t,i){var r=n(this.__entries__,t);~r?this.__entries__[r][1]=i:this.__entries__.push([t,i])},e.prototype.delete=function(t){var i=this.__entries__,r=n(i,t);~r&&i.splice(r,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var s=o[r];t.call(i,s[1],s[0])}},e}()}(),P4=typeof window<"u"&&typeof document<"u"&&window.document===document,UT=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),vPe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(UT):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),yPe=2;function _Pe(n,e){var t=!1,i=!1,r=0;function o(){t&&(t=!1,n()),i&&a()}function s(){vPe(o)}function a(){var l=Date.now();if(t){if(l-r<yPe)return;i=!0}else t=!0,i=!1,setTimeout(s,e);r=l}return a}var bPe=20,SPe=["top","right","bottom","left","width","height","size","weight"],wPe=typeof MutationObserver<"u",CPe=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_Pe(this.refresh.bind(this),bPe)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!P4||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),wPe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!P4||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=t===void 0?"":t,r=SPe.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Koe=function(n,e){for(var t=0,i=Object.keys(e);t<i.length;t++){var r=i[t];Object.defineProperty(n,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return n},Yv=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||UT},joe=CE(0,0,0,0);function GT(n){return parseFloat(n)||0}function K9(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(i,r){var o=n["border-"+r+"-width"];return i+GT(o)},0)}function xPe(n){for(var e=["top","right","bottom","left"],t={},i=0,r=e;i<r.length;i++){var o=r[i],s=n["padding-"+o];t[o]=GT(s)}return t}function LPe(n){var e=n.getBBox();return CE(0,0,e.width,e.height)}function TPe(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return joe;var i=Yv(n).getComputedStyle(n),r=xPe(i),o=r.left+r.right,s=r.top+r.bottom,a=GT(i.width),l=GT(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=K9(i,"left","right")+o),Math.round(l+s)!==t&&(l-=K9(i,"top","bottom")+s)),!DPe(n)){var u=Math.round(a+o)-e,c=Math.round(l+s)-t;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return CE(r.left,r.top,a,l)}var IPe=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Yv(n).SVGGraphicsElement}:function(n){return n instanceof Yv(n).SVGElement&&typeof n.getBBox=="function"}}();function DPe(n){return n===Yv(n).document.documentElement}function EPe(n){return P4?IPe(n)?LPe(n):TPe(n):joe}function MPe(n){var e=n.x,t=n.y,i=n.width,r=n.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return Koe(s,{x:e,y:t,width:i,height:r,top:t,right:e+i,bottom:r+t,left:e}),s}function CE(n,e,t,i){return{x:n,y:e,width:t,height:i}}var APe=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=CE(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=EPe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),NPe=function(){function n(e,t){var i=MPe(t);Koe(this,{target:e,contentRect:i})}return n}(),kPe=function(){function n(e,t,i){if(this.activeObservations_=[],this.observations_=new Goe,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=i}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Yv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new APe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Yv(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(i){return new NPe(i.target,i.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),qoe=typeof WeakMap<"u"?new WeakMap:new Goe,Yoe=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=CPe.getInstance(),i=new kPe(e,t,this);qoe.set(this,i)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Yoe.prototype[n]=function(){var e;return(e=qoe.get(this))[n].apply(e,arguments)}});var Xoe=function(){return typeof UT.ResizeObserver<"u"?UT.ResizeObserver:Yoe}(),PPe=typeof global=="object"&&global&&global.Object===Object&&global;const Zoe=PPe;var OPe=typeof self=="object"&&self&&self.Object===Object&&self,RPe=Zoe||OPe||Function("return this")();const wu=RPe;var BPe=wu.Symbol;const lu=BPe;var Qoe=Object.prototype,FPe=Qoe.hasOwnProperty,$Pe=Qoe.toString,m0=lu?lu.toStringTag:void 0;function VPe(n){var e=FPe.call(n,m0),t=n[m0];try{n[m0]=void 0;var i=!0}catch{}var r=$Pe.call(n);return i&&(e?n[m0]=t:delete n[m0]),r}var WPe=Object.prototype,zPe=WPe.toString;function HPe(n){return zPe.call(n)}var UPe="[object Null]",GPe="[object Undefined]",j9=lu?lu.toStringTag:void 0;function _p(n){return n==null?n===void 0?GPe:UPe:j9&&j9 in Object(n)?VPe(n):HPe(n)}function Joe(n,e){return function(t){return n(e(t))}}var KPe=Joe(Object.getPrototypeOf,Object);const jPe=KPe;function Ug(n){return n!=null&&typeof n=="object"}var qPe="[object Object]",YPe=Function.prototype,XPe=Object.prototype,ese=YPe.toString,ZPe=XPe.hasOwnProperty,QPe=ese.call(Object);function tse(n){if(!Ug(n)||_p(n)!=qPe)return!1;var e=jPe(n);if(e===null)return!0;var t=ZPe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&ese.call(t)==QPe}const JPe=n=>n!=null&&n!=="",O4=JPe,eOe=(n,e)=>{const t=A({},n);return Object.keys(e).forEach(i=>{const r=t[i];if(r)r.type||r.default?r.default=e[i]:r.def?r.def(e[i]):t[i]={type:r,default:e[i]};else throw new Error(`not have ${i} prop`)}),t},rr=eOe,nse=n=>{const e=Object.keys(n),t={},i={},r={};for(let o=0,s=e.length;o<s;o++){const a=e[o];cPe(a)?(t[a[2].toLowerCase()+a.slice(3)]=n[a],i[a]=n[a]):r[a]=n[a]}return{onEvents:i,events:t,extraAttrs:r}},tOe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;const t={},i=/;(?![^(]*\))/g,r=/:(.+)/;return typeof n=="object"?n:(n.split(i).forEach(function(o){if(o){const s=o.split(r);if(s.length>1){const a=e?Dy(s[0].trim()):s[0].trim();t[a]=s[1].trim()}}}),t)},Sm=(n,e)=>n[e]!==void 0,ise=Symbol("skipFlatten"),Qi=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const t=Array.isArray(n)?n:[n],i=[];return t.forEach(r=>{Array.isArray(r)?i.push(...Qi(r,e)):r&&r.type===$t?r.key===ise?i.push(r):i.push(...Qi(r.children,e)):r&&Rr(r)?e&&!N3(r)?i.push(r):e||i.push(r):O4(r)&&i.push(r)}),i},nOe=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Rr(n))return n.type===$t?e==="default"?Qi(n.children):[]:n.children&&n.children[e]?Qi(n.children[e](t)):[];{let i=n.$slots[e]&&n.$slots[e](t);return Qi(i)}},Ka=n=>{var e;let t=((e=n==null?void 0:n.vnode)===null||e===void 0?void 0:e.el)||n&&(n.$el||n);for(;t&&!t.tagName;)t=t.nextSibling;return t},iOe=n=>{const e={};if(n.$&&n.$.vnode){const t=n.$.vnode.props||{};Object.keys(n.$props).forEach(i=>{const r=n.$props[i],o=fPe(i);(r!==void 0||o in t)&&(e[i]=r)})}else if(Rr(n)&&typeof n.type=="object"){const t=n.props||{},i={};Object.keys(t).forEach(o=>{i[Dy(o)]=t[o]});const r=n.type.props||{};Object.keys(r).forEach(o=>{const s=mPe(r,i,o,i[o]);(s!==void 0||o in i)&&(e[o]=s)})}return e},rse=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,r;if(n.$){const o=n[e];if(o!==void 0)return typeof o=="function"&&i?o(t):o;r=n.$slots[e],r=i&&r?r(t):r}else if(Rr(n)){const o=n.props&&n.props[e];if(o!==void 0&&n.props!==null)return typeof o=="function"&&i?o(t):o;n.type===$t?r=n.children:n.children&&n.children[e]&&(r=n.children[e],r=i&&r?r(t):r)}return Array.isArray(r)&&(r=Qi(r),r=r.length===1?r[0]:r,r=r.length===0?void 0:r),r};function q9(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t={};return n.$?t=A(A({},t),n.$attrs):t=A(A({},t),n.props),nse(t)[e?"onEvents":"events"]}function rOe(n,e){let i=((Rr(n)?n.props:n.$attrs)||{}).style||{};if(typeof i=="string")i=tOe(i,e);else if(e&&i){const r={};return Object.keys(i).forEach(o=>r[Dy(o)]=i[o]),r}return i}function oOe(n){return n.length===1&&n[0].type===$t}function N3(n){return n&&(n.type===gs||n.type===$t&&n.children.length===0||n.type===rp&&n.children.trim()==="")}function qo(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return n.forEach(t=>{Array.isArray(t)?e.push(...t):(t==null?void 0:t.type)===$t?e.push(...qo(t.children)):e.push(t)}),e.filter(t=>!N3(t))}function v0(n){if(n){const e=qo(n);return e.length?e:void 0}else return n}function Yo(n){return Array.isArray(n)&&n.length===1&&(n=n[0]),n&&n.__v_isVNode&&typeof n.type!="symbol"}function pg(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var i,r;return(i=e[t])!==null&&i!==void 0?i:(r=n[t])===null||r===void 0?void 0:r.call(n)}const Tc=Ie({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(n,e){let{slots:t}=e;const i=pi({width:0,height:0,offsetHeight:0,offsetWidth:0});let r=null,o=null;const s=()=>{o&&(o.disconnect(),o=null)},a=c=>{const{onResize:d}=n,h=c[0].target,{width:f,height:g}=h.getBoundingClientRect(),{offsetWidth:p,offsetHeight:m}=h,v=Math.floor(f),y=Math.floor(g);if(i.width!==v||i.height!==y||i.offsetWidth!==p||i.offsetHeight!==m){const _={width:v,height:y,offsetWidth:p,offsetHeight:m};A(i,_),d&&Promise.resolve().then(()=>{d(A(A({},_),{offsetWidth:p,offsetHeight:m}),h)})}},l=Ts(),u=()=>{const{disabled:c}=n;if(c){s();return}const d=Ka(l);d!==r&&(s(),r=d),!o&&d&&(o=new Xoe(a),o.observe(d))};return Vt(()=>{u()}),vu(()=>{u()}),$c(()=>{s()}),Ve(()=>n.disabled,()=>{u()},{flush:"post"}),()=>{var c;return(c=t.default)===null||c===void 0?void 0:c.call(t)[0]}}});let ose=n=>setTimeout(n,16),sse=n=>clearTimeout(n);typeof window<"u"&&"requestAnimationFrame"in window&&(ose=n=>window.requestAnimationFrame(n),sse=n=>window.cancelAnimationFrame(n));let Y9=0;const k3=new Map;function ase(n){k3.delete(n)}function Dt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Y9+=1;const t=Y9;function i(r){if(r===0)ase(t),n();else{const o=ose(()=>{i(r-1)});k3.set(t,o)}}return i(e),t}Dt.cancel=n=>{const e=k3.get(n);return ase(e),sse(e)};const lS=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e},sOe=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e},Ey=n=>{const e=n;return e.install=function(t){t.component(e.displayName||e.name,n)},n};function Xv(){return{type:[Function,Array]}}function ci(n){return{type:Object,default:n}}function _t(n){return{type:Boolean,default:n}}function vt(n){return{type:Function,default:n}}function kl(n,e){const t={validator:()=>!0,default:n};return t}function b2(){return{validator:()=>!0}}function fr(n){return{type:Array,default:n}}function ui(n){return{type:String,default:n}}function Ki(n,e){return n?{type:n,default:e}:kl(e)}let lse=!1;try{let n=Object.defineProperty({},"passive",{get(){lse=!0}});window.addEventListener("testPassive",null,n),window.removeEventListener("testPassive",null,n)}catch{}const yo=lse;function oa(n,e,t,i){if(n&&n.addEventListener){let r=i;r===void 0&&yo&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(r={passive:!1}),n.addEventListener(e,t,r)}return{remove:()=>{n&&n.removeEventListener&&n.removeEventListener(e,t)}}}const aOe="anticon",use=Symbol("configProvider"),cse={getPrefixCls:(n,e)=>e||(n?`ant-${n}`:"ant"),iconPrefixCls:V(()=>aOe),getPopupContainer:V(()=>()=>document.body)},lOe=()=>kt(use,cse),uOe=Symbol("DisabledContextKey"),Gg=()=>kt(uOe,ke(void 0)),dse={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},cOe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},dOe=cOe,hOe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},hse=hOe,fOe={lang:A({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},dOe),timePickerLocale:A({},hse)},X9=fOe,is="${label} is not a valid ${type}",gOe={locale:"en",Pagination:dse,DatePicker:X9,TimePicker:hse,Calendar:X9,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:is,method:is,array:is,object:is,number:is,date:is,boolean:is,integer:is,float:is,regexp:is,email:is,url:is,hex:is},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},KT=gOe,fse=Ie({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(n,e){let{slots:t}=e;const i=kt("localeData",{}),r=V(()=>{const{componentName:s="global",defaultLocale:a}=n,l=a||KT[s||"global"],{antLocale:u}=i,c=s&&u?u[s]:{};return A(A({},typeof l=="function"?l():l),c||{})}),o=V(()=>{const{antLocale:s}=i,a=s&&s.locale;return s&&s.exist&&!a?KT.locale:a});return()=>{const s=n.children||t.default,{antLocale:a}=i;return s==null?void 0:s(r.value,o.value,a)}}});function gse(n,e,t){const i=kt("localeData",{});return[V(()=>{const{antLocale:o}=i,s=Wa(e)||KT[n||"global"],a=n&&o?o[n]:{};return A(A(A({},typeof s=="function"?s():s),a||{}),Wa(t)||{})})]}function P3(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}class pOe{constructor(){this.cache=new Map}get(e){return this.cache.get(Array.isArray(e)?e.join("%"):e)||null}update(e,t){const i=Array.isArray(e)?e.join("%"):e,r=this.cache.get(i),o=t(r);o===null?this.cache.delete(i):this.cache.set(i,o)}}const mOe=pOe,pse="data-token-hash",dv="data-css-hash",Q_="__cssinjs_instance__",jT=Math.random().toString(12).slice(2);function mse(){if(typeof document<"u"&&document.head&&document.body){const n=document.body.querySelectorAll(`style[${dv}]`)||[],{firstChild:e}=document.head;Array.from(n).forEach(i=>{i[Q_]=i[Q_]||jT,document.head.insertBefore(i,e)});const t={};Array.from(document.querySelectorAll(`style[${dv}]`)).forEach(i=>{var r;const o=i.getAttribute(dv);t[o]?i[Q_]===jT&&((r=i.parentNode)===null||r===void 0||r.removeChild(i)):t[o]=!0})}return new mOe}const vse=Symbol("StyleContextKey"),O3={cache:mse(),defaultCache:!0,hashPriority:"low"},R3=()=>kt(vse,ye(A({},O3))),vOe=n=>{const e=R3(),t=ye(A({},O3));return Ve([n,e],()=>{const i=A({},e.value),r=Wa(n);Object.keys(r).forEach(s=>{const a=r[s];r[s]!==void 0&&(i[s]=a)});const{cache:o}=r;i.cache=i.cache||mse(),i.defaultCache=!o&&e.value.defaultCache,t.value=i},{immediate:!0}),On(vse,t),t},yOe=()=>({autoClear:_t(),mock:ui(),cache:ci(),defaultCache:_t(),hashPriority:ui(),container:Ki(),ssrInline:_t(),transformers:fr(),linters:fr()});Ey(Ie({name:"AStyleProvider",inheritAttrs:!1,props:rr(yOe(),O3),setup(n,e){let{slots:t}=e;return vOe(n),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}}));function yse(n,e,t,i){const r=R3(),o=ye(""),s=ye();Ut(()=>{o.value=[n,...e.value].join("%")});const a=l=>{r.value.cache.update(l,u=>{const[c=0,d]=u||[];return c-1===0?(i==null||i(d,!1),null):[c-1,d]})};return Ve(o,(l,u)=>{u&&a(u),r.value.cache.update(l,c=>{const[d=0,h]=c||[],g=h||t();return[d+1,g]}),s.value=r.value.cache.get(o.value)[1]},{immediate:!0}),fn(()=>{a(o.value)}),s}function zc(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Bf(n,e){return n&&n.contains?n.contains(e):!1}const Z9="data-vc-order",_Oe="vc-util-key",R4=new Map;function _se(){let{mark:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n?n.startsWith("data-")?n:`data-${n}`:_Oe}function xE(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function bOe(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function bse(n){return Array.from((R4.get(n)||n).children).filter(e=>e.tagName==="STYLE")}function Sse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!zc())return null;const{csp:t,prepend:i}=e,r=document.createElement("style");r.setAttribute(Z9,bOe(i)),t!=null&&t.nonce&&(r.nonce=t==null?void 0:t.nonce),r.innerHTML=n;const o=xE(e),{firstChild:s}=o;if(i){if(i==="queue"){const a=bse(o).filter(l=>["prepend","prependQueue"].includes(l.getAttribute(Z9)));if(a.length)return o.insertBefore(r,a[a.length-1].nextSibling),r}o.insertBefore(r,s)}else o.appendChild(r);return r}function wse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=xE(e);return bse(t).find(i=>i.getAttribute(_se(e))===n)}function qT(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=wse(n,e);t&&xE(e).removeChild(t)}function SOe(n,e){const t=R4.get(n);if(!t||!Bf(document,t)){const i=Sse("",e),{parentNode:r}=i;R4.set(n,r),n.removeChild(i)}}function YT(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i,r,o;const s=xE(t);SOe(s,t);const a=wse(e,t);if(a)return!((i=t.csp)===null||i===void 0)&&i.nonce&&a.nonce!==((r=t.csp)===null||r===void 0?void 0:r.nonce)&&(a.nonce=(o=t.csp)===null||o===void 0?void 0:o.nonce),a.innerHTML!==n&&(a.innerHTML=n),a;const l=Sse(n,t);return l.setAttribute(_se(t),e),l}function XT(n){let e="";return Object.keys(n).forEach(t=>{const i=n[t];e+=t,i&&typeof i=="object"?e+=XT(i):e+=i}),e}function wOe(n,e){return P3(`${e}_${XT(n)}`)}const J_=`layer-${Date.now()}-${Math.random()}`.replace(/\./g,""),Cse="903px";function COe(n,e){var t;if(zc()){YT(n,J_);const i=document.createElement("div");i.style.position="fixed",i.style.left="0",i.style.top="0",e==null||e(i),document.body.appendChild(i);const r=getComputedStyle(i).width===Cse;return(t=i.parentNode)===null||t===void 0||t.removeChild(i),qT(J_),r}return!1}let S2;function xOe(){return S2===void 0&&(S2=COe(`@layer ${J_} { .${J_} { width: ${Cse}!important; } }`,n=>{n.className=J_})),S2}const Q9={},LOe="css",Ff=new Map;function TOe(n){Ff.set(n,(Ff.get(n)||0)+1)}function IOe(n){typeof document<"u"&&document.querySelectorAll(`style[${pse}="${n}"]`).forEach(t=>{var i;t[Q_]===jT&&((i=t.parentNode)===null||i===void 0||i.removeChild(t))})}function DOe(n){Ff.set(n,(Ff.get(n)||0)-1);const e=Array.from(Ff.keys()),t=e.filter(i=>(Ff.get(i)||0)<=0);t.length<e.length&&t.forEach(i=>{IOe(i),Ff.delete(i)})}function EOe(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ke({});const i=V(()=>A({},...e.value)),r=V(()=>XT(i.value)),o=V(()=>XT(t.value.override||Q9));return yse("token",V(()=>[t.value.salt||"",n.value.id,r.value,o.value]),()=>{const{salt:a="",override:l=Q9,formatToken:u}=t.value,c=n.value.getDerivativeToken(i.value);let d=A(A({},c),l);u&&(d=u(d));const h=wOe(d,a);d._tokenKey=h,TOe(h);const f=`${LOe}-${P3(h)}`;return d._hashId=f,[d,f]},a=>{DOe(a[0]._tokenKey)})}var MOe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xse="comm",Lse="rule",Tse="decl",AOe="@import",NOe="@keyframes",kOe="@layer",POe=Math.abs,B3=String.fromCharCode;function Ise(n){return n.trim()}function Hx(n,e,t){return n.replace(e,t)}function OOe(n,e){return n.indexOf(e)}function uS(n,e){return n.charCodeAt(e)|0}function cS(n,e,t){return n.slice(e,t)}function ic(n){return n.length}function ROe(n){return n.length}function U1(n,e){return e.push(n),n}var LE=1,Zv=1,Dse=0,da=0,qi=0,My="";function F3(n,e,t,i,r,o,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:o,line:LE,column:Zv,length:s,return:"",siblings:a}}function BOe(){return qi}function FOe(){return qi=da>0?uS(My,--da):0,Zv--,qi===10&&(Zv=1,LE--),qi}function Ja(){return qi=da<Dse?uS(My,da++):0,Zv++,qi===10&&(Zv=1,LE++),qi}function mg(){return uS(My,da)}function Ux(){return da}function TE(n,e){return cS(My,n,e)}function B4(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $Oe(n){return LE=Zv=1,Dse=ic(My=n),da=0,[]}function VOe(n){return My="",n}function w2(n){return Ise(TE(da-1,F4(n===91?n+2:n===40?n+1:n)))}function WOe(n){for(;(qi=mg())&&qi<33;)Ja();return B4(n)>2||B4(qi)>3?"":" "}function zOe(n,e){for(;--e&&Ja()&&!(qi<48||qi>102||qi>57&&qi<65||qi>70&&qi<97););return TE(n,Ux()+(e<6&&mg()==32&&Ja()==32))}function F4(n){for(;Ja();)switch(qi){case n:return da;case 34:case 39:n!==34&&n!==39&&F4(qi);break;case 40:n===41&&F4(n);break;case 92:Ja();break}return da}function HOe(n,e){for(;Ja()&&n+qi!==47+10;)if(n+qi===42+42&&mg()===47)break;return"/*"+TE(e,da-1)+"*"+B3(n===47?n:Ja())}function UOe(n){for(;!B4(mg());)Ja();return TE(n,da)}function GOe(n){return VOe(Gx("",null,null,null,[""],n=$Oe(n),0,[0],n))}function Gx(n,e,t,i,r,o,s,a,l){for(var u=0,c=0,d=s,h=0,f=0,g=0,p=1,m=1,v=1,y=0,_="",b=r,S=o,w=i,C=_;m;)switch(g=y,y=Ja()){case 40:if(g!=108&&uS(C,d-1)==58){OOe(C+=Hx(w2(y),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:C+=w2(y);break;case 9:case 10:case 13:case 32:C+=WOe(g);break;case 92:C+=zOe(Ux()-1,7);continue;case 47:switch(mg()){case 42:case 47:U1(KOe(HOe(Ja(),Ux()),e,t,l),l);break;default:C+="/"}break;case 123*p:a[u++]=ic(C)*v;case 125*p:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+c:v==-1&&(C=Hx(C,/\f/g,"")),f>0&&ic(C)-d&&U1(f>32?eU(C+";",i,t,d-1,l):eU(Hx(C," ","")+";",i,t,d-2,l),l);break;case 59:C+=";";default:if(U1(w=J9(C,e,t,u,c,r,a,_,b=[],S=[],d,o),o),y===123)if(c===0)Gx(C,e,w,w,b,o,d,a,S);else switch(h===99&&uS(C,3)===110?100:h){case 100:case 108:case 109:case 115:Gx(n,w,w,i&&U1(J9(n,w,w,0,0,r,a,_,r,b=[],d,S),S),r,S,d,a,i?b:S);break;default:Gx(C,w,w,w,[""],S,0,a,S)}}u=c=f=0,p=v=1,_=C="",d=s;break;case 58:d=1+ic(C),f=g;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&FOe()==125)continue}switch(C+=B3(y),y*p){case 38:v=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(ic(C)-1)*v,v=1;break;case 64:mg()===45&&(C+=w2(Ja())),h=mg(),c=d=ic(_=C+=UOe(Ux())),y++;break;case 45:g===45&&ic(C)==2&&(p=0)}}return o}function J9(n,e,t,i,r,o,s,a,l,u,c,d){for(var h=r-1,f=r===0?o:[""],g=ROe(f),p=0,m=0,v=0;p<i;++p)for(var y=0,_=cS(n,h+1,h=POe(m=s[p])),b=n;y<g;++y)(b=Ise(m>0?f[y]+" "+_:Hx(_,/&\f/g,f[y])))&&(l[v++]=b);return F3(n,e,t,r===0?Lse:a,l,u,c,d)}function KOe(n,e,t,i){return F3(n,e,t,xse,B3(BOe()),cS(n,2,-2),0,i)}function eU(n,e,t,i,r){return F3(n,e,t,Tse,cS(n,0,i),cS(n,i+1,-1),i,r)}function $4(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function jOe(n,e,t,i){switch(n.type){case kOe:if(n.children.length)break;case AOe:case Tse:return n.return=n.return||n.value;case xse:return"";case NOe:return n.return=n.value+"{"+$4(n.children,i)+"}";case Lse:if(!ic(n.value=n.props.join(",")))return""}return ic(t=$4(n.children,i))?n.return=n.value+"{"+t+"}":""}let tU={};function qOe(n,e){}function YOe(n,e,t){!e&&!tU[t]&&(n(!1,t),tU[t]=!0)}function Ese(n,e){YOe(qOe,n,e)}const nU=zc(),XOe="_skip_check_";function iU(n){return $4(GOe(n),jOe).replace(/\{%%%\:[^;];}/g,";")}function ZOe(n){return typeof n=="object"&&n&&XOe in n}function QOe(n,e,t){if(!e)return n;const i=`.${e}`,r=t==="low"?`:where(${i})`:i;return n.split(",").map(s=>{var a;const l=s.trim().split(/\s+/);let u=l[0]||"";const c=((a=u.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return u=`${c}${r}${u.slice(c.length)}`,[u,...l.slice(1)].join(" ")}).join(",")}const rU=new Set,V4=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:t,injectHash:i,parentSelectors:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:s,path:a,hashPriority:l,transformers:u=[],linters:c=[]}=e;let d="",h={};function f(m){const v=m.getName(o);if(!h[v]){const[y]=V4(m.style,e,{root:!1,parentSelectors:r});h[v]=`@keyframes ${m.getName(o)}${y}`}}function g(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return m.forEach(y=>{Array.isArray(y)?g(y,v):y&&v.push(y)}),v}if(g(Array.isArray(n)?n:[n]).forEach(m=>{const v=typeof m=="string"&&!t?{}:m;if(typeof v=="string")d+=`${v}
`;else if(v._keyframe)f(v);else{const y=u.reduce((_,b)=>{var S;return((S=b==null?void 0:b.visit)===null||S===void 0?void 0:S.call(b,_))||_},v);Object.keys(y).forEach(_=>{var b;const S=y[_];if(typeof S=="object"&&S&&(_!=="animationName"||!S._keyframe)&&!ZOe(S)){let w=!1,C=_.trim(),x=!1;(t||i)&&o?C.startsWith("@")?w=!0:C=QOe(_,o,l):t&&!o&&(C==="&"||C==="")&&(C="",x=!0);const[L,T]=V4(S,e,{root:x,injectHash:w,parentSelectors:[...r,C]});h=A(A({},h),T),d+=`${C}${L}`}else{const w=(b=S==null?void 0:S.value)!==null&&b!==void 0?b:S,C=_.replace(/[A-Z]/g,L=>`-${L.toLowerCase()}`);let x=w;!MOe[_]&&typeof x=="number"&&x!==0&&(x=`${x}px`),_==="animationName"&&(S!=null&&S._keyframe)&&(f(S),x=S.getName(o)),d+=`${C}:${x};`}})}}),!t)d=`{${d}}`;else if(s&&xOe()){const m=s.split(",");d=`@layer ${m[m.length-1].trim()} {${d}}`,m.length>1&&(d=`@layer ${s}{%%%:%}${d}`)}return[d,h]};function JOe(n,e){return P3(`${n.join("%")}${e}`)}function oU(n,e){const t=R3(),i=V(()=>n.value.token._tokenKey),r=V(()=>[i.value,...n.value.path]);let o=nU;return yse("style",r,()=>{const s=e(),{hashPriority:a,container:l,transformers:u,linters:c}=t.value,{path:d,hashId:h,layer:f}=n.value,[g,p]=V4(s,{hashId:h,hashPriority:a,layer:f,path:d.join("-"),transformers:u,linters:c}),m=iU(g),v=JOe(r.value,m);if(o){const y=YT(m,v,{mark:dv,prepend:"queue",attachTo:l});y[Q_]=jT,y.setAttribute(pse,i.value),Object.keys(p).forEach(_=>{rU.has(_)||(rU.add(_),YT(iU(p[_]),`_effect-${_}`,{mark:dv,prepend:"queue",attachTo:l}))})}return[m,i.value,v]},(s,a)=>{let[,,l]=s;(a||t.value.autoClear)&&nU&&qT(l,{mark:dv})}),s=>s}class eRe{constructor(e,t){this._keyframe=!0,this.name=e,this.style=t}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}const _n=eRe;function tRe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}class Qv{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={map:this.cache};return e.forEach(r=>{var o;i?i=(o=i==null?void 0:i.map)===null||o===void 0?void 0:o.get(r):i=void 0}),i!=null&&i.value&&t&&(i.value[1]=this.cacheCallTimes++),i==null?void 0:i.value}get(e){var t;return(t=this.internalGet(e,!0))===null||t===void 0?void 0:t[0]}has(e){return!!this.internalGet(e)}set(e,t){if(!this.has(e)){if(this.size()+1>Qv.MAX_CACHE_SIZE+Qv.MAX_CACHE_OFFSET){const[r]=this.keys.reduce((o,s)=>{const[,a]=o;return this.internalGet(s)[1]<a?[s,this.internalGet(s)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(r)}this.keys.push(e)}let i=this.cache;e.forEach((r,o)=>{if(o===e.length-1)i.set(r,{value:[t,this.cacheCallTimes++]});else{const s=i.get(r);s?s.map||(s.map=new Map):i.set(r,{map:new Map}),i=i.get(r).map}})}deleteByPath(e,t){var i;const r=e.get(t[0]);if(t.length===1)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),(i=r.value)===null||i===void 0?void 0:i[0];const o=this.deleteByPath(r.map,t.slice(1));return(!r.map||r.map.size===0)&&!r.value&&e.delete(t[0]),o}delete(e){if(this.has(e))return this.keys=this.keys.filter(t=>!tRe(t,e)),this.deleteByPath(this.cache,e)}}Qv.MAX_CACHE_SIZE=20;Qv.MAX_CACHE_OFFSET=5;function nRe(){}let iRe=nRe;const uu=iRe;let sU=0;class rRe{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=sU,e.length===0&&uu(e.length>0),sU+=1}getDerivativeToken(e){return this.derivatives.reduce((t,i)=>i(e,t),void 0)}}const C2=new Qv;function oRe(n){const e=Array.isArray(n)?n:[n];return C2.has(e)||C2.set(e,new rRe(e)),C2.get(e)}const sRe="4.0.0",ZT=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Br(n,e){aRe(n)&&(n="100%");var t=lRe(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function G1(n){return Math.min(1,Math.max(0,n))}function aRe(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function lRe(n){return typeof n=="string"&&n.indexOf("%")!==-1}function Mse(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function K1(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Xf(n){return n.length===1?"0"+n:String(n)}function uRe(n,e,t){return{r:Br(n,255)*255,g:Br(e,255)*255,b:Br(t,255)*255}}function aU(n,e,t){n=Br(n,255),e=Br(e,255),t=Br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=0,a=(i+r)/2;if(i===r)s=0,o=0;else{var l=i-r;switch(s=a>.5?l/(2-i-r):l/(i+r),i){case n:o=(e-t)/l+(e<t?6:0);break;case e:o=(t-n)/l+2;break;case t:o=(n-e)/l+4;break}o/=6}return{h:o,s,l:a}}function x2(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cRe(n,e,t){var i,r,o;if(n=Br(n,360),e=Br(e,100),t=Br(t,100),e===0)r=t,o=t,i=t;else{var s=t<.5?t*(1+e):t+e-t*e,a=2*t-s;i=x2(a,s,n+1/3),r=x2(a,s,n),o=x2(a,s,n-1/3)}return{r:i*255,g:r*255,b:o*255}}function W4(n,e,t){n=Br(n,255),e=Br(e,255),t=Br(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),o=0,s=i,a=i-r,l=i===0?0:a/i;if(i===r)o=0;else{switch(i){case n:o=(e-t)/a+(e<t?6:0);break;case e:o=(t-n)/a+2;break;case t:o=(n-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function dRe(n,e,t){n=Br(n,360)*6,e=Br(e,100),t=Br(t,100);var i=Math.floor(n),r=n-i,o=t*(1-e),s=t*(1-r*e),a=t*(1-(1-r)*e),l=i%6,u=[t,s,o,o,a,t][l],c=[a,t,t,s,o,o][l],d=[o,o,a,t,t,s][l];return{r:u*255,g:c*255,b:d*255}}function z4(n,e,t,i){var r=[Xf(Math.round(n).toString(16)),Xf(Math.round(e).toString(16)),Xf(Math.round(t).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function hRe(n,e,t,i,r){var o=[Xf(Math.round(n).toString(16)),Xf(Math.round(e).toString(16)),Xf(Math.round(t).toString(16)),Xf(fRe(i))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function fRe(n){return Math.round(parseFloat(n)*255).toString(16)}function lU(n){return os(n)/255}function os(n){return parseInt(n,16)}function gRe(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var H4={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wm(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,o=null,s=!1,a=!1;return typeof n=="string"&&(n=vRe(n)),typeof n=="object"&&(Nu(n.r)&&Nu(n.g)&&Nu(n.b)?(e=uRe(n.r,n.g,n.b),s=!0,a=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Nu(n.h)&&Nu(n.s)&&Nu(n.v)?(i=K1(n.s),r=K1(n.v),e=dRe(n.h,i,r),s=!0,a="hsv"):Nu(n.h)&&Nu(n.s)&&Nu(n.l)&&(i=K1(n.s),o=K1(n.l),e=cRe(n.h,i,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=Mse(t),{ok:s,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var pRe="[-\\+]?\\d+%?",mRe="[-\\+]?\\d*\\.\\d+%?",Nd="(?:".concat(mRe,")|(?:").concat(pRe,")"),L2="[\\s|\\(]+(".concat(Nd,")[,|\\s]+(").concat(Nd,")[,|\\s]+(").concat(Nd,")\\s*\\)?"),T2="[\\s|\\(]+(".concat(Nd,")[,|\\s]+(").concat(Nd,")[,|\\s]+(").concat(Nd,")[,|\\s]+(").concat(Nd,")\\s*\\)?"),Sa={CSS_UNIT:new RegExp(Nd),rgb:new RegExp("rgb"+L2),rgba:new RegExp("rgba"+T2),hsl:new RegExp("hsl"+L2),hsla:new RegExp("hsla"+T2),hsv:new RegExp("hsv"+L2),hsva:new RegExp("hsva"+T2),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vRe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(H4[n])n=H4[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Sa.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Sa.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Sa.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Sa.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Sa.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Sa.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Sa.hex8.exec(n),t?{r:os(t[1]),g:os(t[2]),b:os(t[3]),a:lU(t[4]),format:e?"name":"hex8"}:(t=Sa.hex6.exec(n),t?{r:os(t[1]),g:os(t[2]),b:os(t[3]),format:e?"name":"hex"}:(t=Sa.hex4.exec(n),t?{r:os(t[1]+t[1]),g:os(t[2]+t[2]),b:os(t[3]+t[3]),a:lU(t[4]+t[4]),format:e?"name":"hex8"}:(t=Sa.hex3.exec(n),t?{r:os(t[1]+t[1]),g:os(t[2]+t[2]),b:os(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Nu(n){return!!Sa.CSS_UNIT.exec(String(n))}var Fi=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var i;if(e instanceof n)return e;typeof e=="number"&&(e=gRe(e)),this.originalInput=e;var r=wm(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=t.format)!==null&&i!==void 0?i:r.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,i,r,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?t=o/12.92:t=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*i+.0722*r},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=Mse(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=W4(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=W4(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=aU(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=aU(this.r,this.g,this.b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),z4(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),hRe(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(Br(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(Br(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+z4(this.r,this.g,this.b,!1),t=0,i=Object.entries(H4);t<i.length;t++){var r=i[t],o=r[0],s=r[1];if(e===s)return o}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,o=!t&&r&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=G1(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=G1(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=G1(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=G1(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var i=this.toRgb(),r=new n(e).toRgb(),o=t/100,s={r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var i=this.toHsl(),r=360/t,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new n(i));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),i=t.h,r=t.s,o=t.v,s=[],a=1/e;e--;)s.push(new n({h:i,s:r,v:o})),o=(o+a)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),r=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/r,g:(t.g*t.a+i.g*i.a*(1-t.a))/r,b:(t.b*t.a+i.b*i.a*(1-t.a))/r,a:r})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new n({h:(i+s*o)%360,s:t.s,l:t.l}));return r},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),j1=2,uU=.16,yRe=.05,_Re=.05,bRe=.15,Ase=5,Nse=4,SRe=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function cU(n){var e=n.r,t=n.g,i=n.b,r=W4(e,t,i);return{h:r.h*360,s:r.s,v:r.v}}function q1(n){var e=n.r,t=n.g,i=n.b;return"#".concat(z4(e,t,i,!1))}function wRe(n,e,t){var i=t/100,r={r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b};return r}function dU(n,e,t){var i;return Math.round(n.h)>=60&&Math.round(n.h)<=240?i=t?Math.round(n.h)-j1*e:Math.round(n.h)+j1*e:i=t?Math.round(n.h)+j1*e:Math.round(n.h)-j1*e,i<0?i+=360:i>=360&&(i-=360),i}function hU(n,e,t){if(n.h===0&&n.s===0)return n.s;var i;return t?i=n.s-uU*e:e===Nse?i=n.s+uU:i=n.s+yRe*e,i>1&&(i=1),t&&e===Ase&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function fU(n,e,t){var i;return t?i=n.v+_Re*e:i=n.v-bRe*e,i>1&&(i=1),Number(i.toFixed(2))}function dS(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=wm(n),r=Ase;r>0;r-=1){var o=cU(i),s=q1(wm({h:dU(o,r,!0),s:hU(o,r,!0),v:fU(o,r,!0)}));t.push(s)}t.push(q1(i));for(var a=1;a<=Nse;a+=1){var l=cU(i),u=q1(wm({h:dU(l,a),s:hU(l,a),v:fU(l,a)}));t.push(u)}return e.theme==="dark"?SRe.map(function(c){var d=c.index,h=c.opacity,f=q1(wRe(wm(e.backgroundColor||"#141414"),wm(t[d]),h*100));return f}):t}var I2={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Kx={},D2={};Object.keys(I2).forEach(function(n){Kx[n]=dS(I2[n]),Kx[n].primary=Kx[n][5],D2[n]=dS(I2[n],{theme:"dark",backgroundColor:"#141414"}),D2[n].primary=D2[n][5]});var CRe=Kx.gold;const xRe=n=>{const{controlHeight:e}=n;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},LRe=xRe;function TRe(n){const{sizeUnit:e,sizeStep:t}=n;return{sizeXXL:e*(t+8),sizeXL:e*(t+4),sizeLG:e*(t+2),sizeMD:e*(t+1),sizeMS:e*t,size:e*t,sizeSM:e*(t-1),sizeXS:e*(t-2),sizeXXS:e*(t-3)}}const kse={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},IRe=A(A({},kse),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),$3=IRe;function DRe(n,e){let{generateColorPalettes:t,generateNeutralColorPalettes:i}=e;const{colorSuccess:r,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:u,colorTextBase:c}=n,d=t(l),h=t(r),f=t(o),g=t(s),p=t(a),m=i(u,c);return A(A({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:f[1],colorWarningBgHover:f[2],colorWarningBorder:f[3],colorWarningBorderHover:f[4],colorWarningHover:f[4],colorWarning:f[6],colorWarningActive:f[7],colorWarningTextHover:f[8],colorWarningText:f[9],colorWarningTextActive:f[10],colorInfoBg:p[1],colorInfoBgHover:p[2],colorInfoBorder:p[3],colorInfoBorderHover:p[4],colorInfoHover:p[4],colorInfo:p[6],colorInfoActive:p[7],colorInfoTextHover:p[8],colorInfoText:p[9],colorInfoTextActive:p[10],colorBgMask:new Fi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const ERe=n=>{let e=n,t=n,i=n,r=n;return n<6&&n>=5?e=n+1:n<16&&n>=6?e=n+2:n>=16&&(e=16),n<7&&n>=5?t=4:n<8&&n>=7?t=5:n<14&&n>=8?t=6:n<16&&n>=14?t=7:n>=16&&(t=8),n<6&&n>=2?i=1:n>=6&&(i=2),n>4&&n<8?r=4:n>=8&&(r=6),{borderRadius:n>16?16:n,borderRadiusXS:i,borderRadiusSM:t,borderRadiusLG:e,borderRadiusOuter:r}},MRe=ERe;function ARe(n){const{motionUnit:e,motionBase:t,borderRadius:i,lineWidth:r}=n;return A({motionDurationFast:`${(t+e).toFixed(1)}s`,motionDurationMid:`${(t+e*2).toFixed(1)}s`,motionDurationSlow:`${(t+e*3).toFixed(1)}s`,lineWidthBold:r+1},MRe(i))}const ku=(n,e)=>new Fi(n).setAlpha(e).toRgbString(),y0=(n,e)=>new Fi(n).darken(e).toHexString(),NRe=n=>{const e=dS(n);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},kRe=(n,e)=>{const t=n||"#fff",i=e||"#000";return{colorBgBase:t,colorTextBase:i,colorText:ku(i,.88),colorTextSecondary:ku(i,.65),colorTextTertiary:ku(i,.45),colorTextQuaternary:ku(i,.25),colorFill:ku(i,.15),colorFillSecondary:ku(i,.06),colorFillTertiary:ku(i,.04),colorFillQuaternary:ku(i,.02),colorBgLayout:y0(t,4),colorBgContainer:y0(t,0),colorBgElevated:y0(t,0),colorBgSpotlight:ku(i,.85),colorBorder:y0(t,15),colorBorderSecondary:y0(t,6)}};function PRe(n){const e=new Array(10).fill(null).map((t,i)=>{const r=i-1,o=n*Math.pow(2.71828,r/5),s=i>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=n,e.map(t=>{const i=t+8;return{size:t,lineHeight:i/t}})}const ORe=n=>{const e=PRe(n),t=e.map(r=>r.size),i=e.map(r=>r.lineHeight);return{fontSizeSM:t[0],fontSize:t[1],fontSizeLG:t[2],fontSizeXL:t[3],fontSizeHeading1:t[6],fontSizeHeading2:t[5],fontSizeHeading3:t[4],fontSizeHeading4:t[3],fontSizeHeading5:t[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}},RRe=ORe;function BRe(n){const e=Object.keys(kse).map(t=>{const i=dS(n[t]);return new Array(10).fill(1).reduce((r,o,s)=>(r[`${t}-${s+1}`]=i[s],r),{})}).reduce((t,i)=>(t=A(A({},t),i),t),{});return A(A(A(A(A(A(A({},n),e),DRe(n,{generateColorPalettes:NRe,generateNeutralColorPalettes:kRe})),RRe(n.fontSize)),TRe(n)),LRe(n)),ARe(n))}function E2(n){return n>=0&&n<=255}function Y1(n,e){const{r:t,g:i,b:r,a:o}=new Fi(n).toRgb();if(o<1)return n;const{r:s,g:a,b:l}=new Fi(e).toRgb();for(let u=.01;u<=1;u+=.01){const c=Math.round((t-s*(1-u))/u),d=Math.round((i-a*(1-u))/u),h=Math.round((r-l*(1-u))/u);if(E2(c)&&E2(d)&&E2(h))return new Fi({r:c,g:d,b:h,a:Math.round(u*100)/100}).toRgbString()}return new Fi({r:t,g:i,b:r,a:1}).toRgbString()}var FRe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function $Re(n){const{override:e}=n,t=FRe(n,["override"]),i=A({},e);Object.keys($3).forEach(f=>{delete i[f]});const r=A(A({},t),i),o=480,s=576,a=768,l=992,u=1200,c=1600,d=2e3;return A(A(A({},r),{colorLink:r.colorInfoText,colorLinkHover:r.colorInfoHover,colorLinkActive:r.colorInfoActive,colorFillContent:r.colorFillSecondary,colorFillContentHover:r.colorFill,colorFillAlter:r.colorFillQuaternary,colorBgContainerDisabled:r.colorFillTertiary,colorBorderBg:r.colorBgContainer,colorSplit:Y1(r.colorBorderSecondary,r.colorBgContainer),colorTextPlaceholder:r.colorTextQuaternary,colorTextDisabled:r.colorTextQuaternary,colorTextHeading:r.colorText,colorTextLabel:r.colorTextSecondary,colorTextDescription:r.colorTextTertiary,colorTextLightSolid:r.colorWhite,colorHighlight:r.colorError,colorBgTextHover:r.colorFillSecondary,colorBgTextActive:r.colorFill,colorIcon:r.colorTextTertiary,colorIconHover:r.colorText,colorErrorOutline:Y1(r.colorErrorBg,r.colorBgContainer),colorWarningOutline:Y1(r.colorWarningBg,r.colorBgContainer),fontSizeIcon:r.fontSizeSM,lineWidth:r.lineWidth,controlOutlineWidth:r.lineWidth*2,controlInteractiveSize:r.controlHeight/2,controlItemBgHover:r.colorFillTertiary,controlItemBgActive:r.colorPrimaryBg,controlItemBgActiveHover:r.colorPrimaryBgHover,controlItemBgActiveDisabled:r.colorFill,controlTmpOutline:r.colorFillQuaternary,controlOutline:Y1(r.colorPrimaryBg,r.colorBgContainer),lineType:r.lineType,borderRadius:r.borderRadius,borderRadiusXS:r.borderRadiusXS,borderRadiusSM:r.borderRadiusSM,borderRadiusLG:r.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:r.sizeXXS,paddingXS:r.sizeXS,paddingSM:r.sizeSM,padding:r.size,paddingMD:r.sizeMD,paddingLG:r.sizeLG,paddingXL:r.sizeXL,paddingContentHorizontalLG:r.sizeLG,paddingContentVerticalLG:r.sizeMS,paddingContentHorizontal:r.sizeMS,paddingContentVertical:r.sizeSM,paddingContentHorizontalSM:r.size,paddingContentVerticalSM:r.sizeXS,marginXXS:r.sizeXXS,marginXS:r.sizeXS,marginSM:r.sizeSM,margin:r.size,marginMD:r.sizeMD,marginLG:r.sizeLG,marginXL:r.sizeXL,marginXXL:r.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,screenXXLMax:d-1,screenXXXL:d,screenXXXLMin:d,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new Fi("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Fi("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Fi("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}const V3=n=>({color:n.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:focus, &:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive}}),Pse=(n,e,t,i,r)=>{const o=n/2,s=o-t*(Math.sqrt(2)-1),a=o,l=o+t*(1-1/Math.sqrt(2)),u=o-t*(1-1/Math.sqrt(2)),c=2*o-e*(1/Math.sqrt(2)),d=e*(1/Math.sqrt(2)),h=4*o-c,f=d,g=4*o-l,p=u,m=4*o-s,v=a;return{borderRadius:{_skip_check_:!0,value:`0 0 ${e}px`},pointerEvents:"none",width:n*2,height:n*2,overflow:"hidden","&::after":{content:'""',position:"absolute",width:n/Math.sqrt(2),height:n/Math.sqrt(2),bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:r,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n*2,height:n/2,background:i,clipPath:`path('M ${s} ${a} A ${t} ${t} 0 0 0 ${l} ${u} L ${c} ${d} A ${e} ${e} 0 0 1 ${h} ${f} L ${g} ${p} A ${t} ${t} 0 0 0 ${m} ${v} Z')`,content:'""'}}};function Ose(n,e){return ZT.reduce((t,i)=>{const r=n[`${i}-1`],o=n[`${i}-3`],s=n[`${i}-6`],a=n[`${i}-7`];return A(A({},t),e(i,{lightColor:r,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const hh={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},wi=n=>({boxSizing:"border-box",margin:0,padding:0,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,listStyle:"none",fontFamily:n.fontFamily}),W3=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),fh=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),VRe=n=>({a:{color:n.colorLink,textDecoration:n.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:n.colorLinkHover},"&:active":{color:n.colorLinkActive},"&:active,\n  &:hover":{textDecoration:n.linkHoverDecoration,outline:0},"&:focus":{textDecoration:n.linkFocusDecoration,outline:0},"&[disabled]":{color:n.colorTextDisabled,cursor:"not-allowed"}}}),WRe=(n,e)=>{const{fontFamily:t,fontSize:i}=n,r=`[class^="${e}"], [class*=" ${e}"]`;return{[r]:{fontFamily:t,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[r]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},Ic=n=>({outline:`${n.lineWidthBold}px solid ${n.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Jv=n=>({"&:focus-visible":A({},Ic(n))});function ki(n,e,t){return i=>{const r=V(()=>i==null?void 0:i.value),[o,s,a]=yw(),{getPrefixCls:l,iconPrefixCls:u}=lOe(),c=V(()=>l()),d=V(()=>({theme:o.value,token:s.value,hashId:a.value,path:["Shared",c.value]}));oU(d,()=>[{"&":VRe(s.value)}]);const h=V(()=>({theme:o.value,token:s.value,hashId:a.value,path:[n,r.value,u.value]}));return[oU(h,()=>{const{token:f,flush:g}=HRe(s.value),p=typeof t=="function"?t(f):t,m=A(A({},p),s.value[n]),v=`.${r.value}`,y=Ln(f,{componentCls:v,prefixCls:r.value,iconCls:`.${u.value}`,antCls:`.${c.value}`},m),_=e(y,{hashId:a.value,prefixCls:r.value,rootPrefixCls:c.value,iconPrefixCls:u.value,overrideComponentToken:s.value[n]});return g(n,m),[WRe(s.value,r.value),_]}),a]}}const Rse=typeof CSSINJS_STATISTIC<"u";let U4=!0;function Ln(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(!Rse)return A({},...e);U4=!1;const i={};return e.forEach(r=>{Object.keys(r).forEach(s=>{Object.defineProperty(i,s,{configurable:!0,enumerable:!0,get:()=>r[s]})})}),U4=!0,i}function zRe(){}function HRe(n){let e,t=n,i=zRe;return Rse&&(e=new Set,t=new Proxy(n,{get(r,o){return U4&&e.add(o),r[o]}}),i=(r,o)=>{Array.from(e)}),{token:t,keys:e,flush:i}}function Bse(n){if(!gr(n))return pi(n);const e=new Proxy({},{get(t,i,r){return Reflect.get(n.value,i,r)},set(t,i,r){return n.value[i]=r,!0},deleteProperty(t,i){return Reflect.deleteProperty(n.value,i)},has(t,i){return Reflect.has(n.value,i)},ownKeys(){return Object.keys(n.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return pi(e)}const URe=oRe(BRe),GRe={token:$3,hashed:!0},KRe=Symbol("DesignTokenContext"),jRe=ke();function yw(){const n=kt(KRe,jRe.value||GRe),e=V(()=>`${sRe}-${n.hashed||""}`),t=V(()=>n.theme||URe),i=EOe(t,V(()=>[$3,n.token]),V(()=>({salt:e.value,override:A({override:n.token},n.components),formatToken:$Re})));return[t,V(()=>i.value[0]),V(()=>n.hashed?i.value[1]:"")]}const Fse=Ie({compatConfig:{MODE:3},setup(){const[,n]=yw(),e=V(()=>new Fi(n.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>N("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[N("g",{fill:"none","fill-rule":"evenodd"},[N("g",{transform:"translate(24 31.67)"},[N("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),N("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),N("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),N("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),N("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),N("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),N("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[N("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),N("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});Fse.PRESENTED_IMAGE_DEFAULT=!0;const qRe=Fse,$se=Ie({compatConfig:{MODE:3},setup(){const[,n]=yw(),e=V(()=>{const{colorFill:t,colorFillTertiary:i,colorFillQuaternary:r,colorBgContainer:o}=n.value;return{borderColor:new Fi(t).onBackground(o).toHexString(),shadowColor:new Fi(i).onBackground(o).toHexString(),contentColor:new Fi(r).onBackground(o).toHexString()}});return()=>N("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[N("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[N("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),N("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[N("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),N("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});$se.PRESENTED_IMAGE_SIMPLE=!0;const YRe=$se,XRe=n=>{const{componentCls:e,margin:t,marginXS:i,marginXL:r,fontSize:o,lineHeight:s}=n;return{[e]:{marginInline:i,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:n.emptyImgHeight,marginBottom:i,opacity:n.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:t},"&-normal":{marginBlock:r,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightMD}},"&-small":{marginBlock:i,color:n.colorTextDisabled,[`${e}-image`]:{height:n.emptyImgHeightSM}}}}},ZRe=ki("Empty",n=>{const{componentCls:e,controlHeightLG:t}=n,i=Ln(n,{emptyImgCls:`${e}-img`,emptyImgHeight:t*2.5,emptyImgHeightMD:t,emptyImgHeightSM:t*.875});return[XRe(i)]});var QRe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Vse=N(qRe,null,null),Wse=N(YRe,null,null),JRe=()=>({prefixCls:String,imageStyle:ci(),image:kl(),description:kl()}),z3=Ie({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:JRe(),setup(n,e){let{slots:t={},attrs:i}=e;const{direction:r,prefixCls:o}=Wt("empty",n),[s,a]=ZRe(o);return()=>{var l,u;const c=o.value,d=A(A({},n),i),{image:h=((l=t.image)===null||l===void 0?void 0:l.call(t))||Vse,description:f=((u=t.description)===null||u===void 0?void 0:u.call(t))||void 0,imageStyle:g,class:p=""}=d,m=QRe(d,["image","description","imageStyle","class"]);return s(N(fse,{componentName:"Empty",children:v=>{const y=typeof f<"u"?f:v.description,_=typeof y=="string"?y:"empty";let b=null;return typeof h=="string"?b=N("img",{alt:_,src:h},null):b=h,N("div",se({class:Ee(c,p,a.value,{[`${c}-normal`]:h===Wse,[`${c}-rtl`]:r.value==="rtl"})},m),[N("div",{class:`${c}-image`,style:g},[b]),y&&N("p",{class:`${c}-description`},[y]),t.default&&N("div",{class:`${c}-footer`},[qo(t.default())])])}},null))}}});z3.PRESENTED_IMAGE_DEFAULT=Vse;z3.PRESENTED_IMAGE_SIMPLE=Wse;const $f=Ey(z3),zse=n=>{const{prefixCls:e}=Wt("empty",n);return(i=>{switch(i){case"Table":case"List":return N($f,{image:$f.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return N($f,{image:$f.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return N($f,null,null)}})(n.componentName)},e4e=Symbol("SizeContextKey"),t4e=()=>kt(e4e,ke(void 0)),Wt=(n,e)=>{const t=t4e(),i=Gg(),r=kt(use,A(A({},cse),{renderEmpty:w=>NL(zse,{componentName:w})})),o=V(()=>r.getPrefixCls(n,e.prefixCls)),s=V(()=>{var w,C;return(w=e.direction)!==null&&w!==void 0?w:(C=r.direction)===null||C===void 0?void 0:C.value}),a=V(()=>{var w;return(w=e.iconPrefixCls)!==null&&w!==void 0?w:r.iconPrefixCls.value}),l=V(()=>r.getPrefixCls()),u=V(()=>{var w;return(w=r.autoInsertSpaceInButton)===null||w===void 0?void 0:w.value}),c=r.renderEmpty,d=r.space,h=r.pageHeader,f=r.form,g=V(()=>{var w,C;return(w=e.getTargetContainer)!==null&&w!==void 0?w:(C=r.getTargetContainer)===null||C===void 0?void 0:C.value}),p=V(()=>{var w,C;return(w=e.getPopupContainer)!==null&&w!==void 0?w:(C=r.getPopupContainer)===null||C===void 0?void 0:C.value}),m=V(()=>{var w,C;return(w=e.dropdownMatchSelectWidth)!==null&&w!==void 0?w:(C=r.dropdownMatchSelectWidth)===null||C===void 0?void 0:C.value}),v=V(()=>{var w;return(e.virtual===void 0?((w=r.virtual)===null||w===void 0?void 0:w.value)!==!1:e.virtual!==!1)&&m.value!==!1}),y=V(()=>e.size||t.value),_=V(()=>{var w,C,x;return(w=e.autocomplete)!==null&&w!==void 0?w:(x=(C=r.input)===null||C===void 0?void 0:C.value)===null||x===void 0?void 0:x.autocomplete}),b=V(()=>{var w;return(w=e.disabled)!==null&&w!==void 0?w:i.value}),S=V(()=>{var w;return(w=e.csp)!==null&&w!==void 0?w:r.csp});return{configProvider:r,prefixCls:o,direction:s,size:y,getTargetContainer:g,getPopupContainer:p,space:d,pageHeader:h,form:f,autoInsertSpaceInButton:u,renderEmpty:c,virtual:v,dropdownMatchSelectWidth:m,rootPrefixCls:l,getPrefixCls:r.getPrefixCls,autocomplete:_,csp:S,iconPrefixCls:a,disabled:b,select:r.select}};function jn(n,e){const t=A({},n);for(let i=0;i<e.length;i+=1){const r=e[i];delete t[r]}return t}function n4e(n,e,t,i){const r=t-e;return n/=i/2,n<1?r/2*n*n*n+e:r/2*((n-=2)*n*n+2)+e}function G4(n){return n!=null&&n===n.window}function i4e(n,e){var t,i;if(typeof window>"u")return 0;const r=e?"scrollTop":"scrollLeft";let o=0;return G4(n)?o=n[e?"pageYOffset":"pageXOffset"]:n instanceof Document?o=n.documentElement[r]:(n instanceof HTMLElement||n)&&(o=n[r]),n&&!G4(n)&&typeof o!="number"&&(o=(i=((t=n.ownerDocument)!==null&&t!==void 0?t:n).documentElement)===null||i===void 0?void 0:i[r]),o}function r4e(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:t=()=>window,callback:i,duration:r=450}=e,o=t(),s=i4e(o,!0),a=Date.now(),l=()=>{const c=Date.now()-a,d=n4e(c>r?r:c,s,n,r);G4(o)?o.scrollTo(window.pageXOffset,d):o instanceof Document||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=d:o.scrollTop=d,c<r?Dt(l):typeof i=="function"&&i()};Dt(l)}function gU(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Hse(n,e,t){return e&&gU(n.prototype,e),t&&gU(n,t),n}function jx(){return(jx=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}).apply(this,arguments)}function Use(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function Gse(n,e){if(n==null)return{};var t,i,r={},o=Object.keys(n);for(i=0;i<o.length;i++)e.indexOf(t=o[i])>=0||(r[t]=n[t]);return r}function pU(n){return((e=n)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(n)==="[object Object]";var e}var Kse=Object.prototype,jse=Kse.toString,o4e=Kse.hasOwnProperty,qse=/^\s*function (\w+)/;function mU(n){var e,t=(e=n==null?void 0:n.type)!==null&&e!==void 0?e:n;if(t){var i=t.toString().match(qse);return i?i[1]:""}return""}var Kg=function(n){var e,t;return pU(n)!==!1&&typeof(e=n.constructor)=="function"&&pU(t=e.prototype)!==!1&&t.hasOwnProperty("isPrototypeOf")!==!1},s4e=function(n){return n},So=s4e,hS=function(n,e){return o4e.call(n,e)},a4e=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},ey=Array.isArray||function(n){return jse.call(n)==="[object Array]"},ty=function(n){return jse.call(n)==="[object Function]"},QT=function(n){return Kg(n)&&hS(n,"_vueTypes_name")},Yse=function(n){return Kg(n)&&(hS(n,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return hS(n,e)}))};function H3(n,e){return Object.defineProperty(n.bind(e),"__original",{value:n})}function bp(n,e,t){var i;t===void 0&&(t=!1);var r=!0,o="";i=Kg(n)?n:{type:n};var s=QT(i)?i._vueTypes_name+" - ":"";if(Yse(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return r;ey(i.type)?(r=i.type.some(function(d){return bp(d,e,!0)===!0}),o=i.type.map(function(d){return mU(d)}).join(" or ")):r=(o=mU(i))==="Array"?ey(e):o==="Object"?Kg(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(d){if(d==null)return"";var h=d.constructor.toString().match(qse);return h?h[1]:""}(e)===o:e instanceof i.type}if(!r){var a=s+'value "'+e+'" should be of type "'+o+'"';return t===!1?(So(a),!1):a}if(hS(i,"validator")&&ty(i.validator)){var l=So,u=[];if(So=function(d){u.push(d)},r=i.validator(e),So=l,!r){var c=(u.length>1?"* ":"")+u.join(`
* `);return u.length=0,t===!1?(So(c),r):c}}return r}function xs(n,e){var t=Object.defineProperties(e,{_vueTypes_name:{value:n,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(r){return r!==void 0||this.default?ty(r)||bp(this,r,!0)===!0?(this.default=ey(r)?function(){return[].concat(r)}:Kg(r)?function(){return Object.assign({},r)}:r,this):(So(this._vueTypes_name+' - invalid default value: "'+r+'"'),this):this}}}),i=t.validator;return ty(i)&&(t.validator=H3(i,t)),t}function cu(n,e){var t=xs(n,e);return Object.defineProperty(t,"validate",{value:function(i){return ty(this.validator)&&So(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=H3(i,this),this}})}function vU(n,e,t){var i,r,o=(i=e,r={},Object.getOwnPropertyNames(i).forEach(function(d){r[d]=Object.getOwnPropertyDescriptor(i,d)}),Object.defineProperties({},r));if(o._vueTypes_name=n,!Kg(t))return o;var s,a,l=t.validator,u=Gse(t,["validator"]);if(ty(l)){var c=o.validator;c&&(c=(a=(s=c).__original)!==null&&a!==void 0?a:s),o.validator=H3(c?function(d){return c.call(this,d)&&l.call(this,d)}:l,o)}return Object.assign(o,u)}function IE(n){return n.replace(/^(?!\s*$)/gm,"  ")}var l4e=function(){return cu("any",{})},u4e=function(){return cu("function",{type:Function})},c4e=function(){return cu("boolean",{type:Boolean})},d4e=function(){return cu("string",{type:String})},h4e=function(){return cu("number",{type:Number})},f4e=function(){return cu("array",{type:Array})},g4e=function(){return cu("object",{type:Object})},p4e=function(){return xs("integer",{type:Number,validator:function(n){return a4e(n)}})},m4e=function(){return xs("symbol",{validator:function(n){return typeof n=="symbol"}})};function v4e(n,e){if(e===void 0&&(e="custom validation failed"),typeof n!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return xs(n.name||"<<anonymous function>>",{validator:function(t){var i=n(t);return i||So(this._vueTypes_name+" - "+e),i}})}function y4e(n){if(!ey(n))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+n.join('", "')+'".',t=n.reduce(function(i,r){if(r!=null){var o=r.constructor;i.indexOf(o)===-1&&i.push(o)}return i},[]);return xs("oneOf",{type:t.length>0?t:void 0,validator:function(i){var r=n.indexOf(i)!==-1;return r||So(e),r}})}function _4e(n){if(!ey(n))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,t=[],i=0;i<n.length;i+=1){var r=n[i];if(Yse(r)){if(QT(r)&&r._vueTypes_name==="oneOf"){t=t.concat(r.type);continue}if(ty(r.validator)&&(e=!0),r.type!==!0&&r.type){t=t.concat(r.type);continue}}t.push(r)}return t=t.filter(function(o,s){return t.indexOf(o)===s}),xs("oneOfType",e?{type:t,validator:function(o){var s=[],a=n.some(function(l){var u=bp(QT(l)&&l._vueTypes_name==="oneOf"?l.type||null:l,o,!0);return typeof u=="string"&&s.push(u),u===!0});return a||So("oneOfType - provided value does not match any of the "+s.length+` passed-in validators:
`+IE(s.join(`
`))),a}}:{type:t})}function b4e(n){return xs("arrayOf",{type:Array,validator:function(e){var t,i=e.every(function(r){return(t=bp(n,r,!0))===!0});return i||So(`arrayOf - value validation error:
`+IE(t)),i}})}function S4e(n){return xs("instanceOf",{type:n})}function w4e(n){return xs("objectOf",{type:Object,validator:function(e){var t,i=Object.keys(e).every(function(r){return(t=bp(n,e[r],!0))===!0});return i||So(`objectOf - value validation error:
`+IE(t)),i}})}function C4e(n){var e=Object.keys(n),t=e.filter(function(r){var o;return!!(!((o=n[r])===null||o===void 0)&&o.required)}),i=xs("shape",{type:Object,validator:function(r){var o=this;if(!Kg(r))return!1;var s=Object.keys(r);if(t.length>0&&t.some(function(l){return s.indexOf(l)===-1})){var a=t.filter(function(l){return s.indexOf(l)===-1});return So(a.length===1?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return s.every(function(l){if(e.indexOf(l)===-1)return o._vueTypes_isLoose===!0||(So('shape - shape definition does not include a "'+l+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var u=bp(n[l],r[l],!0);return typeof u=="string"&&So('shape - "'+l+`" property validation error:
 `+IE(u)),u===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i}var Il=function(){function n(){}return n.extend=function(e){var t=this;if(ey(e))return e.forEach(function(d){return t.extend(d)}),this;var i=e.name,r=e.validate,o=r!==void 0&&r,s=e.getter,a=s!==void 0&&s,l=Gse(e,["name","validate","getter"]);if(hS(this,i))throw new TypeError('[VueTypes error]: Type "'+i+'" already defined');var u,c=l.type;return QT(c)?(delete l.type,Object.defineProperty(this,i,a?{get:function(){return vU(i,c,l)}}:{value:function(){var d,h=vU(i,c,l);return h.validator&&(h.validator=(d=h.validator).bind.apply(d,[h].concat([].slice.call(arguments)))),h}})):(u=a?{get:function(){var d=Object.assign({},l);return o?cu(i,d):xs(i,d)},enumerable:!0}:{value:function(){var d,h,f=Object.assign({},l);return d=o?cu(i,f):xs(i,f),f.validator&&(d.validator=(h=f.validator).bind.apply(h,[d].concat([].slice.call(arguments)))),d},enumerable:!0},Object.defineProperty(this,i,u))},Hse(n,null,[{key:"any",get:function(){return l4e()}},{key:"func",get:function(){return u4e().def(this.defaults.func)}},{key:"bool",get:function(){return c4e().def(this.defaults.bool)}},{key:"string",get:function(){return d4e().def(this.defaults.string)}},{key:"number",get:function(){return h4e().def(this.defaults.number)}},{key:"array",get:function(){return f4e().def(this.defaults.array)}},{key:"object",get:function(){return g4e().def(this.defaults.object)}},{key:"integer",get:function(){return p4e().def(this.defaults.integer)}},{key:"symbol",get:function(){return m4e()}}]),n}();function Xse(n){var e;return n===void 0&&(n={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(t){function i(){return t.apply(this,arguments)||this}return Use(i,t),Hse(i,null,[{key:"sensibleDefaults",get:function(){return jx({},this.defaults)},set:function(r){this.defaults=r!==!1?jx({},r!==!0?r:n):{}}}]),i}(Il)).defaults=jx({},n),e}Il.defaults={},Il.custom=v4e,Il.oneOf=y4e,Il.instanceOf=S4e,Il.oneOfType=_4e,Il.arrayOf=b4e,Il.objectOf=w4e,Il.shape=C4e,Il.utils={validate:function(n,e){return bp(e,n,!0)===!0},toType:function(n,e,t){return t===void 0&&(t=!1),t?cu(n,e):xs(n,e)}};(function(n){function e(){return n.apply(this,arguments)||this}return Use(e,n),e})(Xse());const Zse=Xse({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});Zse.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const ge=Zse,Vi=(n,e,t)=>{Ese(n,`[ant-design-vue: ${e}] ${t}`)};function yU(n,e){const{key:t}=n;let i;return"value"in n&&({value:i}=n),t??(i!==void 0?i:`rc-index-key-${e}`)}function Qse(n,e){const{label:t,value:i,options:r}=n||{};return{label:t||(e?"children":"label"),value:i||"value",options:r||"options"}}function x4e(n){let{fieldNames:e,childrenAsData:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=[],{label:r,value:o,options:s}=Qse(e,!1);function a(l,u){l.forEach(c=>{const d=c[r];if(u||!(s in c)){const h=c[o];i.push({key:yU(c,i.length),groupOption:u,data:c,label:d,value:h})}else{let h=d;h===void 0&&t&&(h=c.label),i.push({key:yU(c,i.length),group:!0,data:c,label:h}),a(c[s],!0)}})}return a(n,!1),i}function K4(n){const e=A({},n);return"props"in e||Object.defineProperty(e,"props",{get(){return e}}),e}function L4e(n,e){if(!e||!e.length)return null;let t=!1;function i(o,s){let[a,...l]=s;if(!a)return[o];const u=o.split(a);return t=t||u.length>1,u.reduce((c,d)=>[...c,...i(d,l)],[]).filter(c=>c)}const r=i(n,e);return t?r:null}function T4e(){return""}function I4e(n){return n?n.ownerDocument:window.document}function Jse(){}const D4e=()=>({action:ge.oneOfType([ge.string,ge.arrayOf(ge.string)]).def([]),showAction:ge.any.def([]),hideAction:ge.any.def([]),getPopupClassNameFromAlign:ge.any.def(T4e),onPopupVisibleChange:Function,afterPopupVisibleChange:ge.func.def(Jse),popup:ge.any,popupStyle:{type:Object,default:void 0},prefixCls:ge.string.def("rc-trigger-popup"),popupClassName:ge.string.def(""),popupPlacement:String,builtinPlacements:ge.object,popupTransitionName:String,popupAnimation:ge.any,mouseEnterDelay:ge.number.def(0),mouseLeaveDelay:ge.number.def(.1),zIndex:Number,focusDelay:ge.number.def(0),blurDelay:ge.number.def(.15),getPopupContainer:Function,getDocument:ge.func.def(I4e),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:ge.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),U3={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},E4e=A(A({},U3),{mobile:{type:Object}}),M4e=A(A({},U3),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function eae(n){let{prefixCls:e,animation:t,transitionName:i}=n;return t?{name:`${e}-${t}`}:i?{name:i}:{}}function tae(n){const{prefixCls:e,visible:t,zIndex:i,mask:r,maskAnimation:o,maskTransitionName:s}=n;if(!r)return null;let a={};return(s||o)&&(a=eae({prefixCls:e,transitionName:s,animation:o})),N(Vc,se({appear:!0},a),{default:()=>[Bc(N("div",{style:{zIndex:i},class:`${e}-mask`},null),[[Cye("if"),t]])]})}tae.displayName="Mask";const A4e=Ie({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:E4e,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:t,slots:i}=e;const r=ke();return t({forceAlign:()=>{},getElement:()=>r.value}),()=>{var o;const{zIndex:s,visible:a,prefixCls:l,mobile:{popupClassName:u,popupStyle:c,popupMotion:d={},popupRender:h}={}}=n,f=A({zIndex:s},c);let g=Qi((o=i.default)===null||o===void 0?void 0:o.call(i));g.length>1&&(g=N("div",{class:`${l}-content`},[g])),h&&(g=h(g));const p=Ee(l,u);return N(Vc,se({ref:r},d),{default:()=>[a?N("div",{class:p,style:f},[g]):null]})}}});var N4e=globalThis&&globalThis.__awaiter||function(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(c){try{u(i.next(c))}catch(d){s(d)}}function l(c){try{u(i.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):r(c.value).then(a,l)}u((i=i.apply(n,e||[])).next())})};const _U=["measure","align",null,"motion"],k4e=(n,e)=>{const t=ye(null),i=ye(),r=ye(!1);function o(l){r.value||(t.value=l)}function s(){Dt.cancel(i.value)}function a(l){s(),i.value=Dt(()=>{let u=t.value;switch(t.value){case"align":u="motion";break;case"motion":u="stable";break}o(u),l==null||l()})}return Ve(n,()=>{o("measure")},{immediate:!0,flush:"post"}),Vt(()=>{Ve(t,()=>{switch(t.value){case"measure":e();break}t.value&&(i.value=Dt(()=>N4e(void 0,void 0,void 0,function*(){const l=_U.indexOf(t.value),u=_U[l+1];u&&l!==-1&&o(u)})))},{immediate:!0,flush:"post"})}),fn(()=>{r.value=!0,s()}),[t,a]},P4e=n=>{const e=ye({width:0,height:0});function t(r){e.value={width:r.offsetWidth,height:r.offsetHeight}}return[V(()=>{const r={};if(n.value){const{width:o,height:s}=e.value;n.value.indexOf("height")!==-1&&s?r.height=`${s}px`:n.value.indexOf("minHeight")!==-1&&s&&(r.minHeight=`${s}px`),n.value.indexOf("width")!==-1&&o?r.width=`${o}px`:n.value.indexOf("minWidth")!==-1&&o&&(r.minWidth=`${o}px`)}return r}),t]};function bU(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function SU(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(t),!0).forEach(function(i){O4e(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bU(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j4(n){"@babel/helpers - typeof";return j4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j4(n)}function O4e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var _0,R4e={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function JT(){if(_0!==void 0)return _0;_0="";var n=document.createElement("p").style,e="Transform";for(var t in R4e)t+e in n&&(_0=t);return _0}function nae(){return JT()?"".concat(JT(),"TransitionProperty"):"transitionProperty"}function DE(){return JT()?"".concat(JT(),"Transform"):"transform"}function wU(n,e){var t=nae();t&&(n.style[t]=e,t!=="transitionProperty"&&(n.style.transitionProperty=e))}function M2(n,e){var t=DE();t&&(n.style[t]=e,t!=="transform"&&(n.style.transform=e))}function B4e(n){return n.style.transitionProperty||n.style[nae()]}function F4e(n){var e=window.getComputedStyle(n,null),t=e.getPropertyValue("transform")||e.getPropertyValue(DE());if(t&&t!=="none"){var i=t.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}var $4e=/matrix\((.*)\)/,V4e=/matrix3d\((.*)\)/;function W4e(n,e){var t=window.getComputedStyle(n,null),i=t.getPropertyValue("transform")||t.getPropertyValue(DE());if(i&&i!=="none"){var r,o=i.match($4e);if(o)o=o[1],r=o.split(",").map(function(a){return parseFloat(a,10)}),r[4]=e.x,r[5]=e.y,M2(n,"matrix(".concat(r.join(","),")"));else{var s=i.match(V4e)[1];r=s.split(",").map(function(a){return parseFloat(a,10)}),r[12]=e.x,r[13]=e.y,M2(n,"matrix3d(".concat(r.join(","),")"))}}else M2(n,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var z4e=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,_w;function CU(n){var e=n.style.display;n.style.display="none",n.offsetHeight,n.style.display=e}function hv(n,e,t){var i=t;if(j4(e)==="object"){for(var r in e)e.hasOwnProperty(r)&&hv(n,r,e[r]);return}if(typeof i<"u"){typeof i=="number"&&(i="".concat(i,"px")),n.style[e]=i;return}return _w(n,e)}function H4e(n){var e,t,i,r=n.ownerDocument,o=r.body,s=r&&r.documentElement;return e=n.getBoundingClientRect(),t=Math.floor(e.left),i=Math.floor(e.top),t-=s.clientLeft||o.clientLeft||0,i-=s.clientTop||o.clientTop||0,{left:t,top:i}}function iae(n,e){var t=n["page".concat(e?"Y":"X","Offset")],i="scroll".concat(e?"Top":"Left");if(typeof t!="number"){var r=n.document;t=r.documentElement[i],typeof t!="number"&&(t=r.body[i])}return t}function rae(n){return iae(n)}function oae(n){return iae(n,!0)}function fS(n){var e=H4e(n),t=n.ownerDocument,i=t.defaultView||t.parentWindow;return e.left+=rae(i),e.top+=oae(i),e}function G3(n){return n!=null&&n==n.window}function sae(n){return G3(n)?n.document:n.nodeType===9?n:n.ownerDocument}function U4e(n,e,t){var i=t,r="",o=sae(n);return i=i||o.defaultView.getComputedStyle(n,null),i&&(r=i.getPropertyValue(e)||i[e]),r}var G4e=new RegExp("^(".concat(z4e,")(?!px)[a-z%]+$"),"i"),K4e=/^(top|right|bottom|left)$/,A2="currentStyle",N2="runtimeStyle",Vh="left",j4e="px";function q4e(n,e){var t=n[A2]&&n[A2][e];if(G4e.test(t)&&!K4e.test(e)){var i=n.style,r=i[Vh],o=n[N2][Vh];n[N2][Vh]=n[A2][Vh],i[Vh]=e==="fontSize"?"1em":t||0,t=i.pixelLeft+j4e,i[Vh]=r,n[N2][Vh]=o}return t===""?"auto":t}typeof window<"u"&&(_w=window.getComputedStyle?U4e:q4e);function X1(n,e){return n==="left"?e.useCssRight?"right":n:e.useCssBottom?"bottom":n}function xU(n){if(n==="left")return"right";if(n==="right")return"left";if(n==="top")return"bottom";if(n==="bottom")return"top"}function LU(n,e,t){hv(n,"position")==="static"&&(n.style.position="relative");var i=-999,r=-999,o=X1("left",t),s=X1("top",t),a=xU(o),l=xU(s);o!=="left"&&(i=999),s!=="top"&&(r=999);var u="",c=fS(n);("left"in e||"top"in e)&&(u=B4e(n)||"",wU(n,"none")),"left"in e&&(n.style[a]="",n.style[o]="".concat(i,"px")),"top"in e&&(n.style[l]="",n.style[s]="".concat(r,"px")),CU(n);var d=fS(n),h={};for(var f in e)if(e.hasOwnProperty(f)){var g=X1(f,t),p=f==="left"?i:r,m=c[f]-d[f];g===f?h[g]=p+m:h[g]=p-m}hv(n,h),CU(n),("left"in e||"top"in e)&&wU(n,u);var v={};for(var y in e)if(e.hasOwnProperty(y)){var _=X1(y,t),b=e[y]-c[y];y===_?v[_]=h[_]+b:v[_]=h[_]-b}hv(n,v)}function Y4e(n,e){var t=fS(n),i=F4e(n),r={x:i.x,y:i.y};"left"in e&&(r.x=i.x+e.left-t.left),"top"in e&&(r.y=i.y+e.top-t.top),W4e(n,r)}function X4e(n,e,t){if(t.ignoreShake){var i=fS(n),r=i.left.toFixed(0),o=i.top.toFixed(0),s=e.left.toFixed(0),a=e.top.toFixed(0);if(r===s&&o===a)return}t.useCssRight||t.useCssBottom?LU(n,e,t):t.useCssTransform&&DE()in document.body.style?Y4e(n,e):LU(n,e,t)}function K3(n,e){for(var t=0;t<n.length;t++)e(n[t])}function aae(n){return _w(n,"boxSizing")==="border-box"}var Z4e=["margin","border","padding"],q4=-1,Q4e=2,Y4=1,J4e=0;function e5e(n,e,t){var i={},r=n.style,o;for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o],r[o]=e[o]);t.call(n);for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o])}function l_(n,e,t){var i=0,r,o,s;for(o=0;o<e.length;o++)if(r=e[o],r)for(s=0;s<t.length;s++){var a=void 0;r==="border"?a="".concat(r).concat(t[s],"Width"):a=r+t[s],i+=parseFloat(_w(n,a))||0}return i}var Kl={getParent:function(e){var t=e;do t.nodeType===11&&t.host?t=t.host:t=t.parentNode;while(t&&t.nodeType!==1&&t.nodeType!==9);return t}};K3(["Width","Height"],function(n){Kl["doc".concat(n)]=function(e){var t=e.document;return Math.max(t.documentElement["scroll".concat(n)],t.body["scroll".concat(n)],Kl["viewport".concat(n)](t))},Kl["viewport".concat(n)]=function(e){var t="client".concat(n),i=e.document,r=i.body,o=i.documentElement,s=o[t];return i.compatMode==="CSS1Compat"&&s||r&&r[t]||s}});function TU(n,e,t){var i=t;if(G3(n))return e==="width"?Kl.viewportWidth(n):Kl.viewportHeight(n);if(n.nodeType===9)return e==="width"?Kl.docWidth(n):Kl.docHeight(n);var r=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?n.getBoundingClientRect().width:n.getBoundingClientRect().height),s=aae(n),a=0;(o==null||o<=0)&&(o=void 0,a=_w(n,e),(a==null||Number(a)<0)&&(a=n.style[e]||0),a=Math.floor(parseFloat(a))||0),i===void 0&&(i=s?Y4:q4);var l=o!==void 0||s,u=o||a;return i===q4?l?u-l_(n,["border","padding"],r):a:l?i===Y4?u:u+(i===Q4e?-l_(n,["border"],r):l_(n,["margin"],r)):a+l_(n,Z4e.slice(i),r)}var t5e={position:"absolute",visibility:"hidden",display:"block"};function IU(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var i,r=e[0];return r.offsetWidth!==0?i=TU.apply(void 0,e):e5e(r,t5e,function(){i=TU.apply(void 0,e)}),i}K3(["width","height"],function(n){var e=n.charAt(0).toUpperCase()+n.slice(1);Kl["outer".concat(e)]=function(i,r){return i&&IU(i,n,r?J4e:Y4)};var t=n==="width"?["Left","Right"]:["Top","Bottom"];Kl[n]=function(i,r){var o=r;if(o!==void 0){if(i){var s=aae(i);return s&&(o+=l_(i,["padding","border"],t)),hv(i,n,o)}return}return i&&IU(i,n,q4)}});function lae(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}var Mt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:sae,offset:function(e,t,i){if(typeof t<"u")X4e(e,t,i||{});else return fS(e)},isWindow:G3,each:K3,css:hv,clone:function(e){var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);var r=e.overflow;if(r)for(t in e)e.hasOwnProperty(t)&&(i.overflow[t]=e.overflow[t]);return i},mix:lae,getWindowScrollLeft:function(e){return rae(e)},getWindowScrollTop:function(e){return oae(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Mt.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};lae(Mt,Kl);var k2=Mt.getParent;function X4(n){if(Mt.isWindow(n)||n.nodeType===9)return null;var e=Mt.getDocument(n),t=e.body,i,r=Mt.css(n,"position"),o=r==="fixed"||r==="absolute";if(!o)return n.nodeName.toLowerCase()==="html"?null:k2(n);for(i=k2(n);i&&i!==t&&i.nodeType!==9;i=k2(i))if(r=Mt.css(i,"position"),r!=="static")return i;return null}var DU=Mt.getParent;function n5e(n){if(Mt.isWindow(n)||n.nodeType===9)return!1;var e=Mt.getDocument(n),t=e.body,i=null;for(i=DU(n);i&&i!==t&&i!==e;i=DU(i)){var r=Mt.css(i,"position");if(r==="fixed")return!0}return!1}function j3(n,e){for(var t={left:0,right:1/0,top:0,bottom:1/0},i=X4(n),r=Mt.getDocument(n),o=r.defaultView||r.parentWindow,s=r.body,a=r.documentElement;i;){if((navigator.userAgent.indexOf("MSIE")===-1||i.clientWidth!==0)&&i!==s&&i!==a&&Mt.css(i,"overflow")!=="visible"){var l=Mt.offset(i);l.left+=i.clientLeft,l.top+=i.clientTop,t.top=Math.max(t.top,l.top),t.right=Math.min(t.right,l.left+i.clientWidth),t.bottom=Math.min(t.bottom,l.top+i.clientHeight),t.left=Math.max(t.left,l.left)}else if(i===s||i===a)break;i=X4(i)}var u=null;if(!Mt.isWindow(n)&&n.nodeType!==9){u=n.style.position;var c=Mt.css(n,"position");c==="absolute"&&(n.style.position="fixed")}var d=Mt.getWindowScrollLeft(o),h=Mt.getWindowScrollTop(o),f=Mt.viewportWidth(o),g=Mt.viewportHeight(o),p=a.scrollWidth,m=a.scrollHeight,v=window.getComputedStyle(s);if(v.overflowX==="hidden"&&(p=o.innerWidth),v.overflowY==="hidden"&&(m=o.innerHeight),n.style&&(n.style.position=u),e||n5e(n))t.left=Math.max(t.left,d),t.top=Math.max(t.top,h),t.right=Math.min(t.right,d+f),t.bottom=Math.min(t.bottom,h+g);else{var y=Math.max(p,d+f);t.right=Math.min(t.right,y);var _=Math.max(m,h+g);t.bottom=Math.min(t.bottom,_)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null}function i5e(n,e,t,i){var r=Mt.clone(n),o={width:e.width,height:e.height};return i.adjustX&&r.left<t.left&&(r.left=t.left),i.resizeWidth&&r.left>=t.left&&r.left+o.width>t.right&&(o.width-=r.left+o.width-t.right),i.adjustX&&r.left+o.width>t.right&&(r.left=Math.max(t.right-o.width,t.left)),i.adjustY&&r.top<t.top&&(r.top=t.top),i.resizeHeight&&r.top>=t.top&&r.top+o.height>t.bottom&&(o.height-=r.top+o.height-t.bottom),i.adjustY&&r.top+o.height>t.bottom&&(r.top=Math.max(t.bottom-o.height,t.top)),Mt.mix(r,o)}function q3(n){var e,t,i;if(!Mt.isWindow(n)&&n.nodeType!==9)e=Mt.offset(n),t=Mt.outerWidth(n),i=Mt.outerHeight(n);else{var r=Mt.getWindow(n);e={left:Mt.getWindowScrollLeft(r),top:Mt.getWindowScrollTop(r)},t=Mt.viewportWidth(r),i=Mt.viewportHeight(r)}return e.width=t,e.height=i,e}function EU(n,e){var t=e.charAt(0),i=e.charAt(1),r=n.width,o=n.height,s=n.left,a=n.top;return t==="c"?a+=o/2:t==="b"&&(a+=o),i==="c"?s+=r/2:i==="r"&&(s+=r),{left:s,top:a}}function Z1(n,e,t,i,r){var o=EU(e,t[1]),s=EU(n,t[0]),a=[s.left-o.left,s.top-o.top];return{left:Math.round(n.left-a[0]+i[0]-r[0]),top:Math.round(n.top-a[1]+i[1]-r[1])}}function MU(n,e,t){return n.left<t.left||n.left+e.width>t.right}function AU(n,e,t){return n.top<t.top||n.top+e.height>t.bottom}function r5e(n,e,t){return n.left>t.right||n.left+e.width<t.left}function o5e(n,e,t){return n.top>t.bottom||n.top+e.height<t.top}function Q1(n,e,t){var i=[];return Mt.each(n,function(r){i.push(r.replace(e,function(o){return t[o]}))}),i}function J1(n,e){return n[e]=-n[e],n}function NU(n,e){var t;return/%$/.test(n)?t=parseInt(n.substring(0,n.length-1),10)/100*e:t=parseInt(n,10),t||0}function kU(n,e){n[0]=NU(n[0],e.width),n[1]=NU(n[1],e.height)}function uae(n,e,t,i){var r=t.points,o=t.offset||[0,0],s=t.targetOffset||[0,0],a=t.overflow,l=t.source||n;o=[].concat(o),s=[].concat(s),a=a||{};var u={},c=0,d=!!(a&&a.alwaysByViewport),h=j3(l,d),f=q3(l);kU(o,f),kU(s,e);var g=Z1(f,e,r,o,s),p=Mt.merge(f,g);if(h&&(a.adjustX||a.adjustY)&&i){if(a.adjustX&&MU(g,f,h)){var m=Q1(r,/[lr]/gi,{l:"r",r:"l"}),v=J1(o,0),y=J1(s,0),_=Z1(f,e,m,v,y);r5e(_,f,h)||(c=1,r=m,o=v,s=y)}if(a.adjustY&&AU(g,f,h)){var b=Q1(r,/[tb]/gi,{t:"b",b:"t"}),S=J1(o,1),w=J1(s,1),C=Z1(f,e,b,S,w);o5e(C,f,h)||(c=1,r=b,o=S,s=w)}c&&(g=Z1(f,e,r,o,s),Mt.mix(p,g));var x=MU(g,f,h),L=AU(g,f,h);if(x||L){var T=r;x&&(T=Q1(r,/[lr]/gi,{l:"r",r:"l"})),L&&(T=Q1(r,/[tb]/gi,{t:"b",b:"t"})),r=T,o=t.offset||[0,0],s=t.targetOffset||[0,0]}u.adjustX=a.adjustX&&x,u.adjustY=a.adjustY&&L,(u.adjustX||u.adjustY)&&(p=i5e(g,f,h,u))}return p.width!==f.width&&Mt.css(l,"width",Mt.width(l)+p.width-f.width),p.height!==f.height&&Mt.css(l,"height",Mt.height(l)+p.height-f.height),Mt.offset(l,{left:p.left,top:p.top},{useCssRight:t.useCssRight,useCssBottom:t.useCssBottom,useCssTransform:t.useCssTransform,ignoreShake:t.ignoreShake}),{points:r,offset:o,targetOffset:s,overflow:u}}function s5e(n,e){var t=j3(n,e),i=q3(n);return!t||i.left+i.width<=t.left||i.top+i.height<=t.top||i.left>=t.right||i.top>=t.bottom}function Y3(n,e,t){var i=t.target||e,r=q3(i),o=!s5e(i,t.overflow&&t.overflow.alwaysByViewport);return uae(n,r,t,o)}Y3.__getOffsetParent=X4;Y3.__getVisibleRectForElement=j3;function a5e(n,e,t){var i,r,o=Mt.getDocument(n),s=o.defaultView||o.parentWindow,a=Mt.getWindowScrollLeft(s),l=Mt.getWindowScrollTop(s),u=Mt.viewportWidth(s),c=Mt.viewportHeight(s);"pageX"in e?i=e.pageX:i=a+e.clientX,"pageY"in e?r=e.pageY:r=l+e.clientY;var d={left:i,top:r,width:0,height:0},h=i>=0&&i<=a+u&&r>=0&&r<=l+c,f=[t.points[0],"cc"];return uae(n,d,SU(SU({},t),{},{points:f}),h)}function Ci(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=n;if(Array.isArray(n)&&(r=qo(n)[0]),!r)return null;const o=bs(r,e,i);return o.props=t?A(A({},o.props),e):o.props,uu(typeof o.props.class!="object"),o}const X3=n=>{if(!n)return!1;if(n.offsetParent)return!0;if(n.getBBox){const e=n.getBBox();if(e.width||e.height)return!0}if(n.getBoundingClientRect){const e=n.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function l5e(n,e){return n===e?!0:!n||!e?!1:"pageX"in e&&"pageY"in e?n.pageX===e.pageX&&n.pageY===e.pageY:"clientX"in e&&"clientY"in e?n.clientX===e.clientX&&n.clientY===e.clientY:!1}function u5e(n,e){n!==document.activeElement&&Bf(e,n)&&typeof n.focus=="function"&&n.focus()}function PU(n,e){let t=null,i=null;function r(s){let[{target:a}]=s;if(!document.documentElement.contains(a))return;const{width:l,height:u}=a.getBoundingClientRect(),c=Math.floor(l),d=Math.floor(u);(t!==c||i!==d)&&Promise.resolve().then(()=>{e({width:c,height:d})}),t=c,i=d}const o=new Xoe(r);return n&&o.observe(n),()=>{o.disconnect()}}const c5e=(n,e)=>{let t=!1,i=null;function r(){clearTimeout(i)}function o(s){if(!t||s===!0){if(n()===!1)return;t=!0,r(),i=setTimeout(()=>{t=!1},e.value)}else r(),i=setTimeout(()=>{t=!1,o()},e.value)}return[o,()=>{t=!1,r()}]};function d5e(){this.__data__=[],this.size=0}function Z3(n,e){return n===e||n!==n&&e!==e}function EE(n,e){for(var t=n.length;t--;)if(Z3(n[t][0],e))return t;return-1}var h5e=Array.prototype,f5e=h5e.splice;function g5e(n){var e=this.__data__,t=EE(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():f5e.call(e,t,1),--this.size,!0}function p5e(n){var e=this.__data__,t=EE(e,n);return t<0?void 0:e[t][1]}function m5e(n){return EE(this.__data__,n)>-1}function v5e(n,e){var t=this.__data__,i=EE(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}function Hc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Hc.prototype.clear=d5e;Hc.prototype.delete=g5e;Hc.prototype.get=p5e;Hc.prototype.has=m5e;Hc.prototype.set=v5e;function y5e(){this.__data__=new Hc,this.size=0}function _5e(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function b5e(n){return this.__data__.get(n)}function S5e(n){return this.__data__.has(n)}function jg(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var w5e="[object AsyncFunction]",C5e="[object Function]",x5e="[object GeneratorFunction]",L5e="[object Proxy]";function cae(n){if(!jg(n))return!1;var e=_p(n);return e==C5e||e==x5e||e==w5e||e==L5e}var T5e=wu["__core-js_shared__"];const P2=T5e;var OU=function(){var n=/[^.]+$/.exec(P2&&P2.keys&&P2.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function I5e(n){return!!OU&&OU in n}var D5e=Function.prototype,E5e=D5e.toString;function Sp(n){if(n!=null){try{return E5e.call(n)}catch{}try{return n+""}catch{}}return""}var M5e=/[\\^$.*+?()[\]{}|]/g,A5e=/^\[object .+?Constructor\]$/,N5e=Function.prototype,k5e=Object.prototype,P5e=N5e.toString,O5e=k5e.hasOwnProperty,R5e=RegExp("^"+P5e.call(O5e).replace(M5e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function B5e(n){if(!jg(n)||I5e(n))return!1;var e=cae(n)?R5e:A5e;return e.test(Sp(n))}function F5e(n,e){return n==null?void 0:n[e]}function wp(n,e){var t=F5e(n,e);return B5e(t)?t:void 0}var $5e=wp(wu,"Map");const gS=$5e;var V5e=wp(Object,"create");const pS=V5e;function W5e(){this.__data__=pS?pS(null):{},this.size=0}function z5e(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var H5e="__lodash_hash_undefined__",U5e=Object.prototype,G5e=U5e.hasOwnProperty;function K5e(n){var e=this.__data__;if(pS){var t=e[n];return t===H5e?void 0:t}return G5e.call(e,n)?e[n]:void 0}var j5e=Object.prototype,q5e=j5e.hasOwnProperty;function Y5e(n){var e=this.__data__;return pS?e[n]!==void 0:q5e.call(e,n)}var X5e="__lodash_hash_undefined__";function Z5e(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=pS&&e===void 0?X5e:e,this}function qg(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}qg.prototype.clear=W5e;qg.prototype.delete=z5e;qg.prototype.get=K5e;qg.prototype.has=Y5e;qg.prototype.set=Z5e;function Q5e(){this.size=0,this.__data__={hash:new qg,map:new(gS||Hc),string:new qg}}function J5e(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function ME(n,e){var t=n.__data__;return J5e(e)?t[typeof e=="string"?"string":"hash"]:t.map}function eBe(n){var e=ME(this,n).delete(n);return this.size-=e?1:0,e}function tBe(n){return ME(this,n).get(n)}function nBe(n){return ME(this,n).has(n)}function iBe(n,e){var t=ME(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}function Uc(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Uc.prototype.clear=Q5e;Uc.prototype.delete=eBe;Uc.prototype.get=tBe;Uc.prototype.has=nBe;Uc.prototype.set=iBe;var rBe=200;function oBe(n,e){var t=this.__data__;if(t instanceof Hc){var i=t.__data__;if(!gS||i.length<rBe-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new Uc(i)}return t.set(n,e),this.size=t.size,this}function Jd(n){var e=this.__data__=new Hc(n);this.size=e.size}Jd.prototype.clear=y5e;Jd.prototype.delete=_5e;Jd.prototype.get=b5e;Jd.prototype.has=S5e;Jd.prototype.set=oBe;var sBe="__lodash_hash_undefined__";function aBe(n){return this.__data__.set(n,sBe),this}function lBe(n){return this.__data__.has(n)}function mS(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Uc;++e<t;)this.add(n[e])}mS.prototype.add=mS.prototype.push=aBe;mS.prototype.has=lBe;function uBe(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}function dae(n,e){return n.has(e)}var cBe=1,dBe=2;function hae(n,e,t,i,r,o){var s=t&cBe,a=n.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(n),c=o.get(e);if(u&&c)return u==e&&c==n;var d=-1,h=!0,f=t&dBe?new mS:void 0;for(o.set(n,e),o.set(e,n);++d<a;){var g=n[d],p=e[d];if(i)var m=s?i(p,g,d,e,n,o):i(g,p,d,n,e,o);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!uBe(e,function(v,y){if(!dae(f,y)&&(g===v||r(g,v,t,i,o)))return f.push(y)})){h=!1;break}}else if(!(g===p||r(g,p,t,i,o))){h=!1;break}}return o.delete(n),o.delete(e),h}var hBe=wu.Uint8Array;const RU=hBe;function fBe(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}function Q3(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var gBe=1,pBe=2,mBe="[object Boolean]",vBe="[object Date]",yBe="[object Error]",_Be="[object Map]",bBe="[object Number]",SBe="[object RegExp]",wBe="[object Set]",CBe="[object String]",xBe="[object Symbol]",LBe="[object ArrayBuffer]",TBe="[object DataView]",BU=lu?lu.prototype:void 0,O2=BU?BU.valueOf:void 0;function IBe(n,e,t,i,r,o,s){switch(t){case TBe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case LBe:return!(n.byteLength!=e.byteLength||!o(new RU(n),new RU(e)));case mBe:case vBe:case bBe:return Z3(+n,+e);case yBe:return n.name==e.name&&n.message==e.message;case SBe:case CBe:return n==e+"";case _Be:var a=fBe;case wBe:var l=i&gBe;if(a||(a=Q3),n.size!=e.size&&!l)return!1;var u=s.get(n);if(u)return u==e;i|=pBe,s.set(n,e);var c=hae(a(n),a(e),i,r,o,s);return s.delete(n),c;case xBe:if(O2)return O2.call(n)==O2.call(e)}return!1}function fae(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var DBe=Array.isArray;const du=DBe;function EBe(n,e,t){var i=e(n);return du(n)?i:fae(i,t(n))}function MBe(n,e){for(var t=-1,i=n==null?0:n.length,r=0,o=[];++t<i;){var s=n[t];e(s,t,n)&&(o[r++]=s)}return o}function ABe(){return[]}var NBe=Object.prototype,kBe=NBe.propertyIsEnumerable,FU=Object.getOwnPropertySymbols,PBe=FU?function(n){return n==null?[]:(n=Object(n),MBe(FU(n),function(e){return kBe.call(n,e)}))}:ABe;const OBe=PBe;function RBe(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var BBe="[object Arguments]";function $U(n){return Ug(n)&&_p(n)==BBe}var gae=Object.prototype,FBe=gae.hasOwnProperty,$Be=gae.propertyIsEnumerable,VBe=$U(function(){return arguments}())?$U:function(n){return Ug(n)&&FBe.call(n,"callee")&&!$Be.call(n,"callee")};const AE=VBe;function WBe(){return!1}var pae=typeof exports=="object"&&exports&&!exports.nodeType&&exports,VU=pae&&typeof module=="object"&&module&&!module.nodeType&&module,zBe=VU&&VU.exports===pae,WU=zBe?wu.Buffer:void 0,HBe=WU?WU.isBuffer:void 0,UBe=HBe||WBe;const eI=UBe;var GBe=9007199254740991,KBe=/^(?:0|[1-9]\d*)$/;function J3(n,e){var t=typeof n;return e=e??GBe,!!e&&(t=="number"||t!="symbol"&&KBe.test(n))&&n>-1&&n%1==0&&n<e}var jBe=9007199254740991;function eV(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jBe}var qBe="[object Arguments]",YBe="[object Array]",XBe="[object Boolean]",ZBe="[object Date]",QBe="[object Error]",JBe="[object Function]",eFe="[object Map]",tFe="[object Number]",nFe="[object Object]",iFe="[object RegExp]",rFe="[object Set]",oFe="[object String]",sFe="[object WeakMap]",aFe="[object ArrayBuffer]",lFe="[object DataView]",uFe="[object Float32Array]",cFe="[object Float64Array]",dFe="[object Int8Array]",hFe="[object Int16Array]",fFe="[object Int32Array]",gFe="[object Uint8Array]",pFe="[object Uint8ClampedArray]",mFe="[object Uint16Array]",vFe="[object Uint32Array]",si={};si[uFe]=si[cFe]=si[dFe]=si[hFe]=si[fFe]=si[gFe]=si[pFe]=si[mFe]=si[vFe]=!0;si[qBe]=si[YBe]=si[aFe]=si[XBe]=si[lFe]=si[ZBe]=si[QBe]=si[JBe]=si[eFe]=si[tFe]=si[nFe]=si[iFe]=si[rFe]=si[oFe]=si[sFe]=!1;function yFe(n){return Ug(n)&&eV(n.length)&&!!si[_p(n)]}function _Fe(n){return function(e){return n(e)}}var mae=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eb=mae&&typeof module=="object"&&module&&!module.nodeType&&module,bFe=eb&&eb.exports===mae,R2=bFe&&Zoe.process,SFe=function(){try{var n=eb&&eb.require&&eb.require("util").types;return n||R2&&R2.binding&&R2.binding("util")}catch{}}();const zU=SFe;var HU=zU&&zU.isTypedArray,wFe=HU?_Fe(HU):yFe;const tV=wFe;var CFe=Object.prototype,xFe=CFe.hasOwnProperty;function LFe(n,e){var t=du(n),i=!t&&AE(n),r=!t&&!i&&eI(n),o=!t&&!i&&!r&&tV(n),s=t||i||r||o,a=s?RBe(n.length,String):[],l=a.length;for(var u in n)(e||xFe.call(n,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||J3(u,l)))&&a.push(u);return a}var TFe=Object.prototype;function vae(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||TFe;return n===t}var IFe=Joe(Object.keys,Object);const DFe=IFe;var EFe=Object.prototype,MFe=EFe.hasOwnProperty;function yae(n){if(!vae(n))return DFe(n);var e=[];for(var t in Object(n))MFe.call(n,t)&&t!="constructor"&&e.push(t);return e}function _ae(n){return n!=null&&eV(n.length)&&!cae(n)}function AFe(n){return _ae(n)?LFe(n):yae(n)}function UU(n){return EBe(n,AFe,OBe)}var NFe=1,kFe=Object.prototype,PFe=kFe.hasOwnProperty;function OFe(n,e,t,i,r,o){var s=t&NFe,a=UU(n),l=a.length,u=UU(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:PFe.call(e,h)))return!1}var f=o.get(n),g=o.get(e);if(f&&g)return f==e&&g==n;var p=!0;o.set(n,e),o.set(e,n);for(var m=s;++d<l;){h=a[d];var v=n[h],y=e[h];if(i)var _=s?i(y,v,h,e,n,o):i(v,y,h,n,e,o);if(!(_===void 0?v===y||r(v,y,t,i,o):_)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var b=n.constructor,S=e.constructor;b!=S&&"constructor"in n&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(p=!1)}return o.delete(n),o.delete(e),p}var RFe=wp(wu,"DataView");const Z4=RFe;var BFe=wp(wu,"Promise");const Q4=BFe;var FFe=wp(wu,"Set");const fv=FFe;var $Fe=wp(wu,"WeakMap");const J4=$Fe;var GU="[object Map]",VFe="[object Object]",KU="[object Promise]",jU="[object Set]",qU="[object WeakMap]",YU="[object DataView]",WFe=Sp(Z4),zFe=Sp(gS),HFe=Sp(Q4),UFe=Sp(fv),GFe=Sp(J4),pf=_p;(Z4&&pf(new Z4(new ArrayBuffer(1)))!=YU||gS&&pf(new gS)!=GU||Q4&&pf(Q4.resolve())!=KU||fv&&pf(new fv)!=jU||J4&&pf(new J4)!=qU)&&(pf=function(n){var e=_p(n),t=e==VFe?n.constructor:void 0,i=t?Sp(t):"";if(i)switch(i){case WFe:return YU;case zFe:return GU;case HFe:return KU;case UFe:return jU;case GFe:return qU}return e});const e5=pf;var KFe=1,XU="[object Arguments]",ZU="[object Array]",eC="[object Object]",jFe=Object.prototype,QU=jFe.hasOwnProperty;function qFe(n,e,t,i,r,o){var s=du(n),a=du(e),l=s?ZU:e5(n),u=a?ZU:e5(e);l=l==XU?eC:l,u=u==XU?eC:u;var c=l==eC,d=u==eC,h=l==u;if(h&&eI(n)){if(!eI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Jd),s||tV(n)?hae(n,e,t,i,r,o):IBe(n,e,l,t,i,r,o);if(!(t&KFe)){var f=c&&QU.call(n,"__wrapped__"),g=d&&QU.call(e,"__wrapped__");if(f||g){var p=f?n.value():n,m=g?e.value():e;return o||(o=new Jd),r(p,m,t,i,o)}}return h?(o||(o=new Jd),OFe(n,e,t,i,r,o)):!1}function bae(n,e,t,i,r){return n===e?!0:n==null||e==null||!Ug(n)&&!Ug(e)?n!==n&&e!==e:qFe(n,e,t,i,bae,r)}function YFe(n,e){return bae(n,e)}const XFe={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function JU(n){return typeof n!="function"?null:n()}function eG(n){return typeof n!="object"||!n?null:n}const ZFe=Ie({compatConfig:{MODE:3},name:"Align",props:XFe,emits:["align"],setup(n,e){let{expose:t,slots:i}=e;const r=ke({}),o=ke(),[s,a]=c5e(()=>{const{disabled:h,target:f,align:g,onAlign:p}=n;if(!h&&f&&o.value){const m=o.value;let v;const y=JU(f),_=eG(f);r.value.element=y,r.value.point=_,r.value.align=g;const{activeElement:b}=document;return y&&X3(y)?v=Y3(m,y,g):_&&(v=a5e(m,_,g)),u5e(b,m),p&&v&&p(m,v),!0}return!1},V(()=>n.monitorBufferTime)),l=ke({cancel:()=>{}}),u=ke({cancel:()=>{}}),c=()=>{const h=n.target,f=JU(h),g=eG(h);o.value!==u.value.element&&(u.value.cancel(),u.value.element=o.value,u.value.cancel=PU(o.value,s)),(r.value.element!==f||!l5e(r.value.point,g)||!YFe(r.value.align,n.align))&&(s(),l.value.element!==f&&(l.value.cancel(),l.value.element=f,l.value.cancel=PU(f,s)))};Vt(()=>{kn(()=>{c()})}),vu(()=>{kn(()=>{c()})}),Ve(()=>n.disabled,h=>{h?a():s()},{immediate:!0,flush:"post"});const d=ke(null);return Ve(()=>n.monitorWindowResize,h=>{h?d.value||(d.value=oa(window,"resize",s)):d.value&&(d.value.remove(),d.value=null)},{flush:"post"}),$c(()=>{l.value.cancel(),u.value.cancel(),d.value&&d.value.remove(),a()}),t({forceAlign:()=>s(!0)}),()=>{const h=i==null?void 0:i.default();return h?Ci(h[0],{ref:o},!0,!0):null}}});lS("bottomLeft","bottomRight","topLeft","topRight");const QFe=n=>n!==void 0&&(n==="topLeft"||n==="topRight")?"slide-down":"slide-up",Sae=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A(n?{name:n,appear:!0,enterFromClass:`${n}-enter ${n}-enter-prepare ${n}-enter-start`,enterActiveClass:`${n}-enter ${n}-enter-prepare`,enterToClass:`${n}-enter ${n}-enter-active`,leaveFromClass:` ${n}-leave`,leaveActiveClass:`${n}-leave ${n}-leave-active`,leaveToClass:`${n}-leave ${n}-leave-active`}:{css:!1},e)},wae=(n,e,t)=>t!==void 0?t:`${n}-${e}`,JFe=Ie({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:U3,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(n,e){let{expose:t,attrs:i,slots:r}=e;const o=ye(),s=ye(),a=ye(),[l,u]=P4e(Wn(n,"stretch")),c=()=>{n.stretch&&u(n.getRootDomNode())},d=ye(!1);let h;Ve(()=>n.visible,w=>{clearTimeout(h),w?h=setTimeout(()=>{d.value=n.visible}):d.value=!1},{immediate:!0});const[f,g]=k4e(d,c),p=ye(),m=()=>n.point?n.point:n.getRootDomNode,v=()=>{var w;(w=o.value)===null||w===void 0||w.forceAlign()},y=(w,C)=>{var x;const L=n.getClassNameFromAlign(C),T=a.value;a.value!==L&&(a.value=L),f.value==="align"&&(T!==L?Promise.resolve().then(()=>{v()}):g(()=>{var I;(I=p.value)===null||I===void 0||I.call(p)}),(x=n.onAlign)===null||x===void 0||x.call(n,w,C))},_=V(()=>{const w=typeof n.animation=="object"?n.animation:eae(n);return["onAfterEnter","onAfterLeave"].forEach(C=>{const x=w[C];w[C]=L=>{g(),f.value="stable",x==null||x(L)}}),w}),b=()=>new Promise(w=>{p.value=w});Ve([_,f],()=>{!_.value&&f.value==="motion"&&g()},{immediate:!0}),t({forceAlign:v,getElement:()=>s.value.$el||s.value});const S=V(()=>{var w;return!(!((w=n.align)===null||w===void 0)&&w.points&&(f.value==="align"||f.value==="stable"))});return()=>{var w;const{zIndex:C,align:x,prefixCls:L,destroyPopupOnHide:T,onMouseenter:I,onMouseleave:D,onTouchstart:M=()=>{},onMousedown:P}=n,k=f.value,O=[A(A({},l.value),{zIndex:C,opacity:k==="motion"||k==="stable"||!d.value?null:0,pointerEvents:!d.value&&k!=="stable"?"none":null}),i.style];let F=Qi((w=r.default)===null||w===void 0?void 0:w.call(r,{visible:n.visible}));F.length>1&&(F=N("div",{class:`${L}-content`},[F]));const R=Ee(L,i.class,a.value),H=d.value||!n.visible?Sae(_.value.name,_.value):{};return N(Vc,se(se({ref:s},H),{},{onBeforeEnter:b}),{default:()=>!T||n.visible?Bc(N(ZFe,{target:m(),key:"popup",ref:o,monitorWindowResize:!0,disabled:S.value,align:x,onAlign:y},{default:()=>N("div",{class:R,onMouseenter:I,onMouseleave:D,onMousedown:a7(P,["capture"]),[yo?"onTouchstartPassive":"onTouchstart"]:a7(M,["capture"]),style:O},[F])}),[[zF,d.value]]):null})}}}),e$e=Ie({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:M4e,setup(n,e){let{attrs:t,slots:i,expose:r}=e;const o=ye(!1),s=ye(!1),a=ye(),l=ye();return Ve([()=>n.visible,()=>n.mobile],()=>{o.value=n.visible,n.visible&&n.mobile&&(s.value=!0)},{immediate:!0,flush:"post"}),r({forceAlign:()=>{var u;(u=a.value)===null||u===void 0||u.forceAlign()},getElement:()=>{var u;return(u=a.value)===null||u===void 0?void 0:u.getElement()}}),()=>{const u=A(A(A({},n),t),{visible:o.value}),c=s.value?N(A4e,se(se({},u),{},{mobile:n.mobile,ref:a}),{default:i.default}):N(JFe,se(se({},u),{},{ref:a}),{default:i.default});return N("div",{ref:l},[N(tae,u,null),c])}}});function t$e(n,e,t){return t?n[0]===e[0]:n[0]===e[0]&&n[1]===e[1]}function tG(n,e,t){const i=n[e]||{};return A(A({},i),t)}function n$e(n,e,t,i){const{points:r}=t,o=Object.keys(n);for(let s=0;s<o.length;s+=1){const a=o[s];if(t$e(n[a].points,r,i))return`${e}-placement-${a}`}return""}const Cae={methods:{setState(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,t=typeof n=="function"?n(this.$data,this.$props):n;if(this.getDerivedStateFromProps){const i=this.getDerivedStateFromProps(iOe(this),A(A({},this.$data),t));if(i===null)return;t=A(A({},t),i||{})}A(this.$data,t),this._.isMounted&&this.$forceUpdate(),kn(()=>{e&&e()})},__emit(){const n=[].slice.call(arguments,0);let e=n[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const t=this.$props[e]||this.$attrs[e];if(n.length&&t)if(Array.isArray(t))for(let i=0,r=t.length;i<r;i++)t[i](...n.slice(1));else t(...n.slice(1))}}},xae=Symbol("PortalContextKey"),Lae=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};On(xae,{inTriggerContext:e.inTriggerContext,shouldRender:V(()=>{const{sPopupVisible:t,popupRef:i,forceRender:r,autoDestroy:o}=n||{};let s=!1;return(t||i||r)&&(s=!0),!t&&o&&(s=!1),s})})},i$e=()=>{Lae({},{inTriggerContext:!1});const n=kt(xae,{shouldRender:V(()=>!1),inTriggerContext:!1});return{shouldRender:V(()=>n.shouldRender.value||n.inTriggerContext===!1)}},r$e=Ie({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:ge.func.isRequired,didUpdate:Function},setup(n,e){let{slots:t}=e,i=!0,r;const{shouldRender:o}=i$e();nte(()=>{i=!1,o.value&&(r=n.getContainer())});const s=Ve(o,()=>{o.value&&!r&&(r=n.getContainer()),r&&s()});return vu(()=>{kn(()=>{var a;o.value&&((a=n.didUpdate)===null||a===void 0||a.call(n,n))})}),fn(()=>{r&&r.parentNode&&r.parentNode.removeChild(r)}),()=>{var a;return o.value?i?(a=t.default)===null||a===void 0?void 0:a.call(t):r?N(dte,{to:r},t):null:null}}});let B2;function tI(n){if(typeof document>"u")return 0;if(n||B2===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const t=document.createElement("div"),i=t.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const r=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;r===o&&(o=t.clientWidth),document.body.removeChild(t),B2=r-o}return B2}function nG(n){const e=n.match(/^(.*)px$/),t=Number(e==null?void 0:e[1]);return Number.isNaN(t)?tI():t}function o$e(n){if(typeof document>"u"||!n||!(n instanceof Element))return{width:0,height:0};const{width:e,height:t}=getComputedStyle(n,"::-webkit-scrollbar");return{width:nG(e),height:nG(t)}}const s$e=`vc-util-locker-${Date.now()}`;let iG=0;function a$e(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function l$e(n){const e=V(()=>!!n&&!!n.value);iG+=1;const t=`${s$e}_${iG}`;Ut(i=>{if(e.value){const r=tI(),o=a$e();YT(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${r}px);`:""}
}`,t)}else qT(t);i(()=>{qT(t)})},{flush:"post"})}let Wh=0;const qx=zc(),rG=n=>{if(!qx)return null;if(n){if(typeof n=="string")return document.querySelectorAll(n)[0];if(typeof n=="function")return n();if(typeof n=="object"&&n instanceof window.HTMLElement)return n}return document.body},u$e=Ie({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:ge.any,visible:{type:Boolean,default:void 0},autoLock:_t(),didUpdate:Function},setup(n,e){let{slots:t}=e;const i=ye(),r=ye(),o=ye(),s=()=>{var f,g;(g=(f=i.value)===null||f===void 0?void 0:f.parentNode)===null||g===void 0||g.removeChild(i.value),i.value=null};let a=null;const l=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||i.value&&!i.value.parentNode?(a=rG(n.getContainer),a?(a.appendChild(i.value),!0):!1):!0},u=document.createElement("div"),c=()=>qx?(i.value||(i.value=u,l(!0)),d(),i.value):null,d=()=>{const{wrapperClassName:f}=n;i.value&&f&&f!==i.value.className&&(i.value.className=f)};vu(()=>{d(),l()});const h=Ts();return l$e(V(()=>n.autoLock&&n.visible&&zc()&&(i.value===document.body||i.value===u))),Vt(()=>{let f=!1;Ve([()=>n.visible,()=>n.getContainer],(g,p)=>{let[m,v]=g,[y,_]=p;qx&&(a=rG(n.getContainer),a===document.body&&(m&&!y?Wh+=1:f&&(Wh-=1))),f&&(typeof v=="function"&&typeof _=="function"?v.toString()!==_.toString():v!==_)&&s(),f=!0},{immediate:!0,flush:"post"}),kn(()=>{l()||(o.value=Dt(()=>{h.update()}))})}),fn(()=>{const{visible:f}=n;qx&&a===document.body&&(Wh=f&&Wh?Wh-1:Wh),s(),Dt.cancel(o.value)}),()=>{const{forceRender:f,visible:g}=n;let p=null;const m={getOpenCount:()=>Wh,getContainer:c};return(f||g||r.value)&&(p=N(r$e,{getContainer:c,ref:r,didUpdate:n.didUpdate},{default:()=>{var v;return(v=t.default)===null||v===void 0?void 0:v.call(t,m)}})),p}}}),c$e=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],NE=Ie({compatConfig:{MODE:3},name:"Trigger",mixins:[Cae],inheritAttrs:!1,props:D4e(),setup(n){const e=V(()=>{const{popupPlacement:r,popupAlign:o,builtinPlacements:s}=n;return r&&s?tG(s,r,o):o}),t=ye(null),i=r=>{t.value=r};return{vcTriggerContext:kt("vcTriggerContext",{}),popupRef:t,setPopupRef:i,triggerRef:ye(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const n=this.$props;let e;return this.popupVisible!==void 0?e=!!n.popupVisible:e=!!n.defaultPopupVisible,c$e.forEach(t=>{this[`fire${t}`]=i=>{this.fireEvents(t,i)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(n){n!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=n)}},created(){On("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),Lae(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Dt.cancel(this.attachId)},methods:{updatedCal(){const n=this.$props;if(this.$data.sPopupVisible){let t;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(t=n.getDocument(this.getRootDomNode()),this.clickOutsideHandler=oa(t,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(t=t||n.getDocument(this.getRootDomNode()),this.touchOutsideHandler=oa(t,"touchstart",this.onDocumentClick,yo?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(t=t||n.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=oa(t,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=oa(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(n){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",n),this.delaySetPopupVisible(!0,e,e?null:n)},onMouseMove(n){this.fireEvents("onMousemove",n),this.setPoint(n)},onMouseleave(n){this.fireEvents("onMouseleave",n),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:n={}}=this;n.onPopupMouseenter&&n.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(n){var e;if(n&&n.relatedTarget&&!n.relatedTarget.setTimeout&&Bf((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),n.relatedTarget))return;this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:t={}}=this;t.onPopupMouseleave&&t.onPopupMouseleave(n)},onFocus(n){this.fireEvents("onFocus",n),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(n){this.fireEvents("onMousedown",n),this.preClickTime=Date.now()},onTouchstart(n){this.fireEvents("onTouchstart",n),this.preTouchTime=Date.now()},onBlur(n){Bf(n.target,n.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",n),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(n){n.preventDefault(),this.fireEvents("onContextmenu",n),this.setPopupVisible(!0,n)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(n){if(this.fireEvents("onClick",n),this.focusTime){let t;if(this.preClickTime&&this.preTouchTime?t=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?t=this.preClickTime:this.preTouchTime&&(t=this.preTouchTime),Math.abs(t-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&n&&n.preventDefault&&n.preventDefault(),n&&n.domEvent&&n.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,n)},onPopupMouseDown(){const{vcTriggerContext:n={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),n.onPopupMouseDown&&n.onPopupMouseDown(...arguments)},onDocumentClick(n){if(this.$props.mask&&!this.$props.maskClosable)return;const e=n.target,t=this.getRootDomNode(),i=this.getPopupDomNode();(!Bf(t,e)||this.isContextMenuOnly())&&!Bf(i,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var n;return((n=this.popupRef)===null||n===void 0?void 0:n.getElement())||null},getRootDomNode(){var n,e,t,i;const{getTriggerDOMNode:r}=this.$props;if(r){const o=((e=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:Ka(this.triggerRef);return Ka(r(o))}try{const o=((i=(t=this.triggerRef)===null||t===void 0?void 0:t.$el)===null||i===void 0?void 0:i.nodeName)==="#comment"?null:Ka(this.triggerRef);if(o)return o}catch{}return Ka(this)},handleGetPopupClassFromAlign(n){const e=[],t=this.$props,{popupPlacement:i,builtinPlacements:r,prefixCls:o,alignPoint:s,getPopupClassNameFromAlign:a}=t;return i&&r&&e.push(n$e(r,o,n,s)),a&&e.push(a(n)),e.join(" ")},getPopupAlign(){const n=this.$props,{popupPlacement:e,popupAlign:t,builtinPlacements:i}=n;return e&&i?tG(i,e,t):t},getComponent(){const n={};this.isMouseEnterToShow()&&(n.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(n.onMouseleave=this.onPopupMouseleave),n.onMousedown=this.onPopupMouseDown,n[yo?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:t,$attrs:i}=this,{prefixCls:r,destroyPopupOnHide:o,popupClassName:s,popupAnimation:a,popupTransitionName:l,popupStyle:u,mask:c,maskAnimation:d,maskTransitionName:h,zIndex:f,stretch:g,alignPoint:p,mobile:m,forceRender:v}=this.$props,{sPopupVisible:y,point:_}=this.$data,b=A(A({prefixCls:r,destroyPopupOnHide:o,visible:y,point:p?_:null,align:this.align,animation:a,getClassNameFromAlign:e,stretch:g,getRootDomNode:t,mask:c,zIndex:f,transitionName:l,maskAnimation:d,maskTransitionName:h,class:s,style:u,onAlign:i.onPopupAlign||Jse},n),{ref:this.setPopupRef,mobile:m,forceRender:v});return N(e$e,b,{default:this.$slots.popup||(()=>rse(this,"popup"))})},attachParent(n){Dt.cancel(this.attachId);const{getPopupContainer:e,getDocument:t}=this.$props,i=this.getRootDomNode();let r;e?(i||e.length===0)&&(r=e(i)):r=t(this.getRootDomNode()).body,r?r.appendChild(n):this.attachId=Dt(()=>{this.attachParent(n)})},getContainer(){const{$props:n}=this,{getDocument:e}=n,t=e(this.getRootDomNode()).createElement("div");return t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",this.attachParent(t),t},setPopupVisible(n,e){const{alignPoint:t,sPopupVisible:i,onPopupVisibleChange:r}=this;this.clearDelayTimer(),i!==n&&(Sm(this,"popupVisible")||this.setState({sPopupVisible:n,prevPopupVisible:i}),r&&r(n)),t&&e&&n&&this.setPoint(e)},setPoint(n){const{alignPoint:e}=this.$props;!e||!n||this.setState({point:{pageX:n.pageX,pageY:n.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(n,e,t){const i=e*1e3;if(this.clearDelayTimer(),i){const r=t?{pageX:t.pageX,pageY:t.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(n,r),this.clearDelayTimer()},i)}else this.setPopupVisible(n,t)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(n){let e=()=>{};const t=q9(this);return this.childOriginEvents[n]&&t[n]?this[`fire${n}`]:(e=this.childOriginEvents[n]||t[n]||e,e)},isClickToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:n}=this.$props;return n==="contextmenu"||n.length===1&&n[0]==="contextmenu"},isContextmenuToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:n,showAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:n,hideAction:e}=this.$props;return n.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var n;this.$data.sPopupVisible&&((n=this.popupRef)===null||n===void 0||n.forceAlign())},fireEvents(n,e){this.childOriginEvents[n]&&this.childOriginEvents[n](e);const t=this.$props[n]||this.$attrs[n];t&&t(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:n}=this,e=qo(nOe(this)),{alignPoint:t,getPopupContainer:i}=this.$props,r=e[0];this.childOriginEvents=q9(r);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[yo?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[yo?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,t&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=u=>{u&&(!u.relatedTarget||!Bf(u.target,u.relatedTarget))&&this.createTwoChains("onBlur")(u)});const s=Ee(r&&r.props&&r.props.class,n.class);s&&(o.class=s);const a=Ci(r,A(A({},o),{ref:"triggerRef"}),!0,!0),l=N(u$e,{key:"portal",getContainer:i&&(()=>i(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return N($t,null,[a,l])}});var d$e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const h$e=n=>{const e=n===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}},f$e=Ie({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:ge.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:ge.oneOfType([Number,Boolean]).def(!0),popupElement:ge.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup(n,e){let{slots:t,attrs:i,expose:r}=e;const o=V(()=>{const{dropdownMatchSelectWidth:a}=n;return h$e(a)}),s=ke();return r({getPopupElement:()=>s.value}),()=>{const a=A(A({},n),i),{empty:l=!1}=a,u=d$e(a,["empty"]),{visible:c,dropdownAlign:d,prefixCls:h,popupElement:f,dropdownClassName:g,dropdownStyle:p,direction:m="ltr",placement:v,dropdownMatchSelectWidth:y,containerWidth:_,dropdownRender:b,animation:S,transitionName:w,getPopupContainer:C,getTriggerDOMNode:x,onPopupVisibleChange:L,onPopupMouseEnter:T}=u,I=`${h}-dropdown`;let D=f;b&&(D=b({menuNode:f,props:n}));const M=S?`${I}-${S}`:w,P=A({minWidth:`${_}px`},p);return typeof y=="number"?P.width=`${y}px`:y&&(P.width=`${_}px`),N(NE,se(se({},n),{},{showAction:L?["click"]:[],hideAction:L?["click"]:[],popupPlacement:v||(m==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:o.value,prefixCls:I,popupTransitionName:M,popupAlign:d,popupVisible:c,getPopupContainer:C,popupClassName:Ee(g,{[`${I}-empty`]:l}),popupStyle:P,getTriggerDOMNode:x,onPopupVisibleChange:L}),{default:t.default,popup:()=>N("div",{ref:s,onMouseenter:T},[D])})}}}),g$e=f$e,xt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){const{keyCode:t}=e;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=xt.F1&&t<=xt.F12)return!1;switch(t){case xt.ALT:case xt.CAPS_LOCK:case xt.CONTEXT_MENU:case xt.CTRL:case xt.DOWN:case xt.END:case xt.ESC:case xt.HOME:case xt.INSERT:case xt.LEFT:case xt.MAC_FF_META:case xt.META:case xt.NUMLOCK:case xt.NUM_CENTER:case xt.PAGE_DOWN:case xt.PAGE_UP:case xt.PAUSE:case xt.PRINT_SCREEN:case xt.RIGHT:case xt.SHIFT:case xt.UP:case xt.WIN_KEY:case xt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=xt.ZERO&&e<=xt.NINE||e>=xt.NUM_ZERO&&e<=xt.NUM_MULTIPLY||e>=xt.A&&e<=xt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case xt.SPACE:case xt.QUESTION_MARK:case xt.NUM_PLUS:case xt.NUM_MINUS:case xt.NUM_PERIOD:case xt.NUM_DIVISION:case xt.SEMICOLON:case xt.DASH:case xt.EQUALS:case xt.COMMA:case xt.PERIOD:case xt.SLASH:case xt.APOSTROPHE:case xt.SINGLE_QUOTE:case xt.OPEN_SQUARE_BRACKET:case xt.BACKSLASH:case xt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},ot=xt,kE=(n,e)=>{let{slots:t}=e;var i;const{class:r,customizeIcon:o,customizeIconProps:s,onMousedown:a,onClick:l}=n;let u;return typeof o=="function"?u=o(s):u=o,N("span",{class:r,onMousedown:c=>{c.preventDefault(),a&&a(c)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},[u!==void 0?u:N("span",{class:r.split(/\s+/).map(c=>`${c}-icon`)},[(i=t.default)===null||i===void 0?void 0:i.call(t)])])};kE.inheritAttrs=!1;kE.displayName="TransBtn";kE.props={class:String,customizeIcon:ge.any,customizeIconProps:ge.any,onMousedown:Function,onClick:Function};const nI=kE;function p$e(n){n.target.composing=!0}function oG(n){n.target.composing&&(n.target.composing=!1,m$e(n.target,"input"))}function m$e(n,e){const t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function F2(n,e,t,i){n.addEventListener(e,t,i)}const v$e={created(n,e){(!e.modifiers||!e.modifiers.lazy)&&(F2(n,"compositionstart",p$e),F2(n,"compositionend",oG),F2(n,"change",oG))}},bw=v$e,y$e={inputRef:ge.any,prefixCls:String,id:String,inputElement:ge.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:ge.oneOfType([ge.number,ge.string]),attrs:ge.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},_$e=Ie({compatConfig:{MODE:3},name:"Input",inheritAttrs:!1,props:y$e,setup(n){let e=null;const t=kt("VCSelectContainerEvent");return()=>{var i;const{prefixCls:r,id:o,inputElement:s,disabled:a,tabindex:l,autofocus:u,autocomplete:c,editable:d,activeDescendantId:h,value:f,onKeydown:g,onMousedown:p,onChange:m,onPaste:v,onCompositionstart:y,onCompositionend:_,onFocus:b,onBlur:S,open:w,inputRef:C,attrs:x}=n;let L=s||Bc(N("input",null,null),[[bw]]);const T=L.props||{},{onKeydown:I,onInput:D,onFocus:M,onBlur:P,onMousedown:k,onCompositionstart:O,onCompositionend:F,style:R}=T;return L=Ci(L,A(A(A(A(A({type:"search"},T),{id:o,ref:C,disabled:a,tabindex:l,autocomplete:c||"off",autofocus:u,class:Ee(`${r}-selection-search-input`,(i=L==null?void 0:L.props)===null||i===void 0?void 0:i.class),role:"combobox","aria-expanded":w,"aria-haspopup":"listbox","aria-owns":`${o}_list`,"aria-autocomplete":"list","aria-controls":`${o}_list`,"aria-activedescendant":h}),x),{value:d?f:"",readonly:!d,unselectable:d?null:"on",style:A(A({},R),{opacity:d?null:0}),onKeydown:$=>{g($),I&&I($)},onMousedown:$=>{p($),k&&k($)},onInput:$=>{m($),D&&D($)},onCompositionstart($){y($),O&&O($)},onCompositionend($){_($),F&&F($)},onPaste:v,onFocus:function(){clearTimeout(e),M&&M(arguments.length<=0?void 0:arguments[0]),b&&b(arguments.length<=0?void 0:arguments[0]),t==null||t.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var $=arguments.length,H=new Array($),U=0;U<$;U++)H[U]=arguments[U];e=setTimeout(()=>{P&&P(H[0]),S&&S(H[0]),t==null||t.blur(H[0])},100)}}),L.type==="textarea"?{}:{type:"search"}),!0,!0),L}}}),Tae=_$e,b$e=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,S$e=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,sG=`${b$e} ${S$e}`.split(/[\s\n]+/),w$e="aria-",C$e="data-";function aG(n,e){return n.indexOf(e)===0}function Ay(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t;e===!1?t={aria:!0,data:!0,attr:!0}:e===!0?t={aria:!0}:t=A({},e);const i={};return Object.keys(n).forEach(r=>{(t.aria&&(r==="role"||aG(r,w$e))||t.data&&aG(r,C$e)||t.attr&&(sG.includes(r)||sG.includes(r.toLowerCase())))&&(i[r]=n[r])}),i}const Iae=Symbol("OverflowContextProviderKey"),t5=Ie({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(n,e){let{slots:t}=e;return On(Iae,V(()=>n.value)),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}}),x$e=()=>kt(Iae,V(()=>null));var L$e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Kp=void 0,Yx=Ie({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:ge.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:ge.any,invalidate:Boolean},setup(n,e){let{slots:t,expose:i}=e;const r=V(()=>n.responsive&&!n.display),o=ke();i({itemNodeRef:o});function s(a){n.registerSize(n.itemKey,a)}return $c(()=>{s(null)}),()=>{var a;const{prefixCls:l,invalidate:u,item:c,renderItem:d,responsive:h,registerSize:f,itemKey:g,display:p,order:m,component:v="div"}=n,y=L$e(n,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),_=(a=t.default)===null||a===void 0?void 0:a.call(t),b=d&&c!==Kp?d(c):_;let S;u||(S={opacity:r.value?0:1,height:r.value?0:Kp,overflowY:r.value?"hidden":Kp,order:h?m:Kp,pointerEvents:r.value?"none":Kp,position:r.value?"absolute":Kp});const w={};return r.value&&(w["aria-hidden"]=!0),N(Tc,{disabled:!h,onResize:C=>{let{offsetWidth:x}=C;s(x)}},{default:()=>N(v,se(se(se({class:Ee(!u&&l),style:S},w),y),{},{ref:o}),{default:()=>[b]})})}}});var $2=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const T$e=Ie({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:ge.any,title:ge.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(n,e){let{slots:t,attrs:i}=e;const r=x$e();return()=>{var o;if(!r.value){const{component:d="div"}=n,h=$2(n,["component"]);return N(d,se(se({},h),i),{default:()=>[(o=t.default)===null||o===void 0?void 0:o.call(t)]})}const s=r.value,{className:a}=s,l=$2(s,["className"]),{class:u}=i,c=$2(i,["class"]);return N(t5,{value:null},{default:()=>[N(Yx,se(se(se({class:Ee(a,u)},l),c),n),t)]})}}});var I$e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Dae="responsive",Eae="invalidate";function D$e(n){return`+ ${n.length} ...`}const E$e=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:ge.any,component:String,itemComponent:ge.any,onVisibleChange:Function,ssr:String,onMousedown:Function}),PE=Ie({name:"Overflow",inheritAttrs:!1,props:E$e(),emits:["visibleChange"],setup(n,e){let{attrs:t,emit:i,slots:r}=e;const o=V(()=>n.ssr==="full"),s=ye(null),a=V(()=>s.value||0),l=ye(new Map),u=ye(0),c=ye(0),d=ye(0),h=ye(null),f=ye(null),g=V(()=>f.value===null&&o.value?Number.MAX_SAFE_INTEGER:f.value||0),p=ye(!1),m=V(()=>`${n.prefixCls}-item`),v=V(()=>Math.max(u.value,c.value)),y=V(()=>!!(n.data.length&&n.maxCount===Dae)),_=V(()=>n.maxCount===Eae),b=V(()=>y.value||typeof n.maxCount=="number"&&n.data.length>n.maxCount),S=V(()=>{let k=n.data;return y.value?s.value===null&&o.value?k=n.data:k=n.data.slice(0,Math.min(n.data.length,a.value/n.itemWidth)):typeof n.maxCount=="number"&&(k=n.data.slice(0,n.maxCount)),k}),w=V(()=>y.value?n.data.slice(g.value+1):n.data.slice(S.value.length)),C=(k,O)=>{var F;return typeof n.itemKey=="function"?n.itemKey(k):(F=n.itemKey&&(k==null?void 0:k[n.itemKey]))!==null&&F!==void 0?F:O},x=V(()=>n.renderItem||(k=>k)),L=(k,O)=>{f.value=k,O||(p.value=k<n.data.length-1,i("visibleChange",k))},T=(k,O)=>{s.value=O.clientWidth},I=(k,O)=>{const F=new Map(l.value);O===null?F.delete(k):F.set(k,O),l.value=F},D=(k,O)=>{u.value=c.value,c.value=O},M=(k,O)=>{d.value=O},P=k=>l.value.get(C(S.value[k],k));return Ve([a,l,c,d,()=>n.itemKey,S],()=>{if(a.value&&v.value&&S.value){let k=d.value;const O=S.value.length,F=O-1;if(!O){L(0),h.value=null;return}for(let R=0;R<O;R+=1){const $=P(R);if($===void 0){L(R-1,!0);break}if(k+=$,F===0&&k<=a.value||R===F-1&&k+P(F)<=a.value){L(F),h.value=null;break}else if(k+v.value>a.value){L(R-1),h.value=k-$-d.value+c.value;break}}n.suffix&&P(0)+d.value>a.value&&(h.value=null)}}),()=>{const k=p.value&&!!w.value.length,{itemComponent:O,renderRawItem:F,renderRawRest:R,renderRest:$,prefixCls:H="rc-overflow",suffix:U,component:z="div",id:Z,onMousedown:X}=n,{class:ce,style:q}=t,j=I$e(t,["class","style"]);let ie={};h.value!==null&&y.value&&(ie={position:"absolute",left:`${h.value}px`,top:0});const Q={prefixCls:m.value,responsive:y.value,component:O,invalidate:_.value},le=F?(K,de)=>{const Y=C(K,de);return N(t5,{key:Y,value:A(A({},Q),{order:de,item:K,itemKey:Y,registerSize:I,display:de<=g.value})},{default:()=>[F(K,de)]})}:(K,de)=>{const Y=C(K,de);return N(Yx,se(se({},Q),{},{order:de,key:Y,item:K,renderItem:x.value,itemKey:Y,registerSize:I,display:de<=g.value}),null)};let ue=()=>null;const W={order:k?g.value:Number.MAX_SAFE_INTEGER,className:`${m.value} ${m.value}-rest`,registerSize:D,display:k};if(R)R&&(ue=()=>N(t5,{value:A(A({},Q),W)},{default:()=>[R(w.value)]}));else{const K=$||D$e;ue=()=>N(Yx,se(se({},Q),W),{default:()=>typeof K=="function"?K(w.value):K})}const G=()=>{var K;return N(z,se({id:Z,class:Ee(!_.value&&H,ce),style:q,onMousedown:X},j),{default:()=>[S.value.map(le),b.value?ue():null,U&&N(Yx,se(se({},Q),{},{order:g.value,class:`${m.value}-suffix`,registerSize:M,display:!0,style:ie}),{default:()=>U}),(K=r.default)===null||K===void 0?void 0:K.call(r)]})};return N(Tc,{disabled:!y.value,onResize:T},{default:G})}}});PE.Item=T$e;PE.RESPONSIVE=Dae;PE.INVALIDATE=Eae;const gv=PE,M$e=Symbol("TreeSelectLegacyContextPropsKey");function nV(){return kt(M$e,{})}const A$e={id:String,prefixCls:String,values:ge.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ge.any,placeholder:ge.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ge.oneOfType([ge.number,ge.string]),removeIcon:ge.any,choiceTransitionName:String,maxTagCount:ge.oneOfType([ge.number,ge.string]),maxTagTextLength:Number,maxTagPlaceholder:ge.any.def(()=>n=>`+ ${n.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},lG=n=>{n.preventDefault(),n.stopPropagation()},N$e=Ie({name:"MultipleSelectSelector",inheritAttrs:!1,props:A$e,setup(n){const e=ye(),t=ye(0),i=ye(!1),r=nV(),o=V(()=>`${n.prefixCls}-selection`),s=V(()=>n.open||n.mode==="tags"?n.searchValue:""),a=V(()=>n.mode==="tags"||n.showSearch&&(n.open||i.value));Vt(()=>{Ve(s,()=>{t.value=e.value.scrollWidth},{flush:"post",immediate:!0})});function l(h,f,g,p,m){return N("span",{class:Ee(`${o.value}-item`,{[`${o.value}-item-disabled`]:g}),title:typeof h=="string"||typeof h=="number"?h.toString():void 0},[N("span",{class:`${o.value}-item-content`},[f]),p&&N(nI,{class:`${o.value}-item-remove`,onMousedown:lG,onClick:m,customizeIcon:n.removeIcon},{default:()=>[Oo("")]})])}function u(h,f,g,p,m,v){var y;const _=S=>{lG(S),n.onToggleOpen(!open)};let b=v;return r.keyEntities&&(b=((y=r.keyEntities[h])===null||y===void 0?void 0:y.node)||{}),N("span",{key:h,onMousedown:_},[n.tagRender({label:f,value:h,disabled:g,closable:p,onClose:m,option:b})])}function c(h){const{disabled:f,label:g,value:p,option:m}=h,v=!n.disabled&&!f;let y=g;if(typeof n.maxTagTextLength=="number"&&(typeof g=="string"||typeof g=="number")){const b=String(y);b.length>n.maxTagTextLength&&(y=`${b.slice(0,n.maxTagTextLength)}...`)}const _=b=>{var S;b&&b.stopPropagation(),(S=n.onRemove)===null||S===void 0||S.call(n,h)};return typeof n.tagRender=="function"?u(p,y,f,v,_,m):l(g,y,f,v,_)}function d(h){const{maxTagPlaceholder:f=p=>`+ ${p.length} ...`}=n,g=typeof f=="function"?f(h):f;return l(g,g,!1)}return()=>{const{id:h,prefixCls:f,values:g,open:p,inputRef:m,placeholder:v,disabled:y,autofocus:_,autocomplete:b,activeDescendantId:S,tabindex:w,onInputChange:C,onInputPaste:x,onInputKeyDown:L,onInputMouseDown:T,onInputCompositionStart:I,onInputCompositionEnd:D}=n,M=N("div",{class:`${o.value}-search`,style:{width:t.value+"px"},key:"input"},[N(Tae,{inputRef:m,open:p,prefixCls:f,id:h,inputElement:null,disabled:y,autofocus:_,autocomplete:b,editable:a.value,activeDescendantId:S,value:s.value,onKeydown:L,onMousedown:T,onChange:C,onPaste:x,onCompositionstart:I,onCompositionend:D,tabindex:w,attrs:Ay(n,!0),onFocus:()=>i.value=!0,onBlur:()=>i.value=!1},null),N("span",{ref:e,class:`${o.value}-search-mirror`,"aria-hidden":!0},[s.value,Oo("")])]),P=N(gv,{prefixCls:`${o.value}-overflow`,data:g,renderItem:c,renderRest:d,suffix:M,itemKey:"key",maxCount:n.maxTagCount,key:"overflow"},null);return N($t,null,[P,!g.length&&!s.value&&N("span",{class:`${o.value}-placeholder`},[v])])}}}),k$e=N$e,P$e={inputElement:ge.any,id:String,prefixCls:String,values:ge.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ge.any,placeholder:ge.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ge.oneOfType([ge.number,ge.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},iV=Ie({name:"SingleSelector",setup(n){const e=ye(!1),t=V(()=>n.mode==="combobox"),i=V(()=>t.value||n.showSearch),r=V(()=>{let u=n.searchValue||"";return t.value&&n.activeValue&&!e.value&&(u=n.activeValue),u}),o=nV();Ve([t,()=>n.activeValue],()=>{t.value&&(e.value=!1)},{immediate:!0});const s=V(()=>n.mode!=="combobox"&&!n.open&&!n.showSearch?!1:!!r.value),a=V(()=>{const u=n.values[0];return u&&(typeof u.label=="string"||typeof u.label=="number")?u.label.toString():void 0}),l=()=>{if(n.values[0])return null;const u=s.value?{visibility:"hidden"}:void 0;return N("span",{class:`${n.prefixCls}-selection-placeholder`,style:u},[n.placeholder])};return()=>{var u,c,d,h;const{inputElement:f,prefixCls:g,id:p,values:m,inputRef:v,disabled:y,autofocus:_,autocomplete:b,activeDescendantId:S,open:w,tabindex:C,optionLabelRender:x,onInputKeyDown:L,onInputMouseDown:T,onInputChange:I,onInputPaste:D,onInputCompositionStart:M,onInputCompositionEnd:P}=n,k=m[0];let O=null;if(k&&o.customSlots){const F=(u=k.key)!==null&&u!==void 0?u:k.value,R=((c=o.keyEntities[F])===null||c===void 0?void 0:c.node)||{};O=o.customSlots[(d=R.slots)===null||d===void 0?void 0:d.title]||o.customSlots.title||k.label,typeof O=="function"&&(O=O(R))}else O=x&&k?x(k.option):k==null?void 0:k.label;return N($t,null,[N("span",{class:`${g}-selection-search`},[N(Tae,{inputRef:v,prefixCls:g,id:p,open:w,inputElement:f,disabled:y,autofocus:_,autocomplete:b,editable:i.value,activeDescendantId:S,value:r.value,onKeydown:L,onMousedown:T,onChange:F=>{e.value=!0,I(F)},onPaste:D,onCompositionstart:M,onCompositionend:P,tabindex:C,attrs:Ay(n,!0)},null)]),!t.value&&k&&!s.value&&N("span",{class:`${g}-selection-item`,title:a.value},[N($t,{key:(h=k.key)!==null&&h!==void 0?h:k.value},[O])]),l()])}}});iV.props=P$e;iV.inheritAttrs=!1;const O$e=iV;function R$e(n){return![ot.ESC,ot.SHIFT,ot.BACKSPACE,ot.TAB,ot.WIN_KEY,ot.ALT,ot.META,ot.WIN_KEY_RIGHT,ot.CTRL,ot.SEMICOLON,ot.EQUALS,ot.CAPS_LOCK,ot.CONTEXT_MENU,ot.F1,ot.F2,ot.F3,ot.F4,ot.F5,ot.F6,ot.F7,ot.F8,ot.F9,ot.F10,ot.F11,ot.F12].includes(n)}function Mae(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,t;fn(()=>{clearTimeout(t)});function i(r){(r||e===null)&&(e=r),clearTimeout(t),t=setTimeout(()=>{e=null},n)}return[()=>e,i]}function vS(){const n=e=>{n.current=e};return n}const B$e=Ie({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:ge.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:ge.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:ge.oneOfType([ge.number,ge.string]),disabled:{type:Boolean,default:void 0},placeholder:ge.any,removeIcon:ge.any,maxTagCount:ge.oneOfType([ge.number,ge.string]),maxTagTextLength:Number,maxTagPlaceholder:ge.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(n,e){let{expose:t}=e;const i=vS();let r=!1;const[o,s]=Mae(0),a=v=>{const{which:y}=v;(y===ot.UP||y===ot.DOWN)&&v.preventDefault(),n.onInputKeyDown&&n.onInputKeyDown(v),y===ot.ENTER&&n.mode==="tags"&&!r&&!n.open&&n.onSearchSubmit(v.target.value),R$e(y)&&n.onToggleOpen(!0)},l=()=>{s(!0)};let u=null;const c=v=>{n.onSearch(v,!0,r)!==!1&&n.onToggleOpen(!0)},d=()=>{r=!0},h=v=>{r=!1,n.mode!=="combobox"&&c(v.target.value)},f=v=>{let{target:{value:y}}=v;if(n.tokenWithEnter&&u&&/[\r\n]/.test(u)){const _=u.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");y=y.replace(_,u)}u=null,c(y)},g=v=>{const{clipboardData:y}=v;u=y.getData("text")},p=v=>{let{target:y}=v;y!==i.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{i.current.focus()}):i.current.focus())},m=v=>{const y=o();v.target!==i.current&&!y&&v.preventDefault(),(n.mode!=="combobox"&&(!n.showSearch||!y)||!n.open)&&(n.open&&n.onSearch("",!0,!1),n.onToggleOpen())};return t({focus:()=>{i.current.focus()},blur:()=>{i.current.blur()}}),()=>{const{prefixCls:v,domRef:y,mode:_}=n,b={inputRef:i,onInputKeyDown:a,onInputMouseDown:l,onInputChange:f,onInputPaste:g,onInputCompositionStart:d,onInputCompositionEnd:h},S=_==="multiple"||_==="tags"?N(k$e,se(se({},n),b),null):N(O$e,se(se({},n),b),null);return N("div",{ref:y,class:`${v}-selector`,onClick:p,onMousedown:m},[S])}}}),F$e=B$e;function $$e(n,e,t){function i(r){var o,s,a;let l=r.target;l.shadowRoot&&r.composed&&(l=r.composedPath()[0]||l);const u=[(o=n[0])===null||o===void 0?void 0:o.value,(a=(s=n[1])===null||s===void 0?void 0:s.value)===null||a===void 0?void 0:a.getPopupElement()];e.value&&u.every(c=>c&&!c.contains(l)&&c!==l)&&t(!1)}Vt(()=>{window.addEventListener("mousedown",i)}),fn(()=>{window.removeEventListener("mousedown",i)})}function V$e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const e=ye(!1);let t;const i=()=>{clearTimeout(t)};return Vt(()=>{i()}),[e,(o,s)=>{i(),t=setTimeout(()=>{e.value=o,s&&s()},n)},i]}const Aae=Symbol("BaseSelectContextKey");function W$e(n){return On(Aae,n)}function z$e(){return kt(Aae,{})}const Nae=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const n=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n==null?void 0:n.substr(0,4))};var H$e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const U$e=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],G$e=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:ge.any,emptyOptions:Boolean}),kae=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:ge.any,placeholder:ge.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:ge.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:ge.any,clearIcon:ge.any,removeIcon:ge.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),K$e=()=>A(A({},G$e()),kae());function Pae(n){return n==="tags"||n==="multiple"}const j$e=Ie({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:rr(K$e(),{showAction:[],notFoundContent:"Not Found"}),setup(n,e){let{attrs:t,expose:i,slots:r}=e;const o=V(()=>Pae(n.mode)),s=V(()=>n.showSearch!==void 0?n.showSearch:o.value||n.mode==="combobox"),a=ye(!1);Vt(()=>{a.value=Nae()});const l=nV(),u=ye(null),c=vS(),d=ye(null),h=ye(null),f=ye(null),[g,p,m]=V$e();i({focus:()=>{var j;(j=h.value)===null||j===void 0||j.focus()},blur:()=>{var j;(j=h.value)===null||j===void 0||j.blur()},scrollTo:j=>{var ie;return(ie=f.value)===null||ie===void 0?void 0:ie.scrollTo(j)}});const _=V(()=>{var j;if(n.mode!=="combobox")return n.searchValue;const ie=(j=n.displayValues[0])===null||j===void 0?void 0:j.value;return typeof ie=="string"||typeof ie=="number"?String(ie):""}),b=n.open!==void 0?n.open:n.defaultOpen,S=ye(b),w=ye(b),C=j=>{S.value=n.open!==void 0?n.open:j,w.value=S.value};Ve(()=>n.open,()=>{C(n.open)});const x=V(()=>!n.notFoundContent&&n.emptyOptions);Ut(()=>{w.value=S.value,(n.disabled||x.value&&w.value&&n.mode==="combobox")&&(w.value=!1)});const L=V(()=>x.value?!1:w.value),T=j=>{const ie=j!==void 0?j:!w.value;S.value!==ie&&!n.disabled&&(C(ie),n.onDropdownVisibleChange&&n.onDropdownVisibleChange(ie))},I=V(()=>(n.tokenSeparators||[]).some(j=>[`
`,`\r
`].includes(j))),D=(j,ie,Q)=>{var le,ue;let W=!0,G=j;(le=n.onActiveValueChange)===null||le===void 0||le.call(n,null);const K=Q?null:L4e(j,n.tokenSeparators);return n.mode!=="combobox"&&K&&(G="",(ue=n.onSearchSplit)===null||ue===void 0||ue.call(n,K),T(!1),W=!1),n.onSearch&&_.value!==G&&n.onSearch(G,{source:ie?"typing":"effect"}),W},M=j=>{var ie;!j||!j.trim()||(ie=n.onSearch)===null||ie===void 0||ie.call(n,j,{source:"submit"})};Ve(w,()=>{!w.value&&!o.value&&n.mode!=="combobox"&&D("",!1,!1)},{immediate:!0,flush:"post"}),Ve(()=>n.disabled,()=>{S.value&&n.disabled&&C(!1)},{immediate:!0});const[P,k]=Mae(),O=function(j){var ie;const Q=P(),{which:le}=j;if(le===ot.ENTER&&(n.mode!=="combobox"&&j.preventDefault(),w.value||T(!0)),k(!!_.value),le===ot.BACKSPACE&&!Q&&o.value&&!_.value&&n.displayValues.length){const K=[...n.displayValues];let de=null;for(let Y=K.length-1;Y>=0;Y-=1){const oe=K[Y];if(!oe.disabled){K.splice(Y,1),de=oe;break}}de&&n.onDisplayValuesChange(K,{type:"remove",values:[de]})}for(var ue=arguments.length,W=new Array(ue>1?ue-1:0),G=1;G<ue;G++)W[G-1]=arguments[G];w.value&&f.value&&f.value.onKeydown(j,...W),(ie=n.onKeydown)===null||ie===void 0||ie.call(n,j,...W)},F=function(j){for(var ie=arguments.length,Q=new Array(ie>1?ie-1:0),le=1;le<ie;le++)Q[le-1]=arguments[le];w.value&&f.value&&f.value.onKeyup(j,...Q),n.onKeyup&&n.onKeyup(j,...Q)},R=j=>{const ie=n.displayValues.filter(Q=>Q!==j);n.onDisplayValuesChange(ie,{type:"remove",values:[j]})},$=ye(!1);On("VCSelectContainerEvent",{focus:function(){p(!0),n.disabled||(n.onFocus&&!$.value&&n.onFocus(...arguments),n.showAction&&n.showAction.includes("focus")&&T(!0)),$.value=!0},blur:function(){if(p(!1,()=>{$.value=!1,T(!1)}),n.disabled)return;const j=_.value;j&&(n.mode==="tags"?n.onSearch(j,{source:"submit"}):n.mode==="multiple"&&n.onSearch("",{source:"blur"})),n.onBlur&&n.onBlur(...arguments)}});const z=[];Vt(()=>{z.forEach(j=>clearTimeout(j)),z.splice(0,z.length)}),fn(()=>{z.forEach(j=>clearTimeout(j)),z.splice(0,z.length)});const Z=function(j){var ie,Q;const{target:le}=j,ue=(ie=d.value)===null||ie===void 0?void 0:ie.getPopupElement();if(ue&&ue.contains(le)){const de=setTimeout(()=>{var Y;const oe=z.indexOf(de);oe!==-1&&z.splice(oe,1),m(),!a.value&&!ue.contains(document.activeElement)&&((Y=h.value)===null||Y===void 0||Y.focus())});z.push(de)}for(var W=arguments.length,G=new Array(W>1?W-1:0),K=1;K<W;K++)G[K-1]=arguments[K];(Q=n.onMousedown)===null||Q===void 0||Q.call(n,j,...G)},X=ye(null),ce=Ts(),q=()=>{ce.update()};return Vt(()=>{Ve(L,()=>{var j;if(L.value){const ie=Math.ceil((j=u.value)===null||j===void 0?void 0:j.offsetWidth);X.value!==ie&&!Number.isNaN(ie)&&(X.value=ie)}},{immediate:!0,flush:"post"})}),$$e([u,d],L,T),W$e(Bse(A(A({},S_(n)),{open:w,triggerOpen:L,showSearch:s,multiple:o,toggleOpen:T}))),()=>{const j=A(A({},n),t),{prefixCls:ie,id:Q,open:le,defaultOpen:ue,mode:W,showSearch:G,searchValue:K,onSearch:de,allowClear:Y,clearIcon:oe,showArrow:te,inputIcon:J,disabled:he,loading:pe,getInputElement:Ce,getPopupContainer:Ae,placement:Oe,animation:fe,transitionName:ne,dropdownStyle:Se,dropdownClassName:Be,dropdownMatchSelectWidth:He,dropdownRender:lt,dropdownAlign:xe,showAction:Me,direction:Ne,tokenSeparators:Ge,tagRender:Ke,optionLabelRender:Je,onPopupScroll:Ye,onDropdownVisibleChange:jt,onFocus:en,onBlur:zt,onKeyup:on,onKeydown:un,onMousedown:or,onClear:Ui,omitDomProps:sr,getRawInputElement:xi,displayValues:so,onDisplayValuesChange:gl,emptyOptions:Tu,activeDescendantId:Np,activeValue:pl,OptionList:Zy}=j,kp=H$e(j,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),Yc=W==="combobox"&&Ce&&Ce()||null,Eh=typeof xi=="function"&&xi(),Qy=A({},kp);let jw;Eh&&(jw=Mh=>{T(Mh)}),U$e.forEach(Mh=>{delete Qy[Mh]}),sr==null||sr.forEach(Mh=>{delete Qy[Mh]});const qw=te!==void 0?te:pe||!o.value&&W!=="combobox";let Yw;qw&&(Yw=N(nI,{class:Ee(`${ie}-arrow`,{[`${ie}-arrow-loading`]:pe}),customizeIcon:J,customizeIconProps:{loading:pe,searchValue:_.value,open:w.value,focused:g.value,showSearch:s.value}},null));let Xw;const BM=()=>{Ui==null||Ui(),gl([],{type:"clear",values:so}),D("",!1,!1)};!he&&Y&&(so.length||_.value)&&(Xw=N(nI,{class:`${ie}-clear`,onMousedown:BM,customizeIcon:oe},{default:()=>[Oo("")]}));const FM=N(Zy,{ref:f},A(A({},l.customSlots),{option:r.option})),$M=Ee(ie,t.class,{[`${ie}-focused`]:g.value,[`${ie}-multiple`]:o.value,[`${ie}-single`]:!o.value,[`${ie}-allow-clear`]:Y,[`${ie}-show-arrow`]:qw,[`${ie}-disabled`]:he,[`${ie}-loading`]:pe,[`${ie}-open`]:w.value,[`${ie}-customize-input`]:Yc,[`${ie}-show-search`]:s.value}),Xc=N(g$e,{ref:d,disabled:he,prefixCls:ie,visible:L.value,popupElement:FM,containerWidth:X.value,animation:fe,transitionName:ne,dropdownStyle:Se,dropdownClassName:Be,direction:Ne,dropdownMatchSelectWidth:He,dropdownRender:lt,dropdownAlign:xe,placement:Oe,getPopupContainer:Ae,empty:Tu,getTriggerDOMNode:()=>c.current,onPopupVisibleChange:jw,onPopupMouseEnter:q},{default:()=>Eh?Yo(Eh)&&Ci(Eh,{ref:c},!1,!0):N(F$e,se(se({},n),{},{domRef:c,prefixCls:ie,inputElement:Yc,ref:h,id:Q,showSearch:s.value,mode:W,activeDescendantId:Np,tagRender:Ke,optionLabelRender:Je,values:so,open:w.value,onToggleOpen:T,activeValue:pl,searchValue:_.value,onSearch:D,onSearchSubmit:M,onRemove:R,tokenWithEnter:I.value}),null)});let VM;return Eh?VM=Xc:VM=N("div",se(se({},Qy),{},{class:$M,ref:u,onMousedown:Z,onKeydown:O,onKeyup:F}),[g.value&&!w.value&&N("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${so.map(Mh=>{let{label:xH,value:eve}=Mh;return["number","string"].includes(typeof xH)?xH:eve}).join(", ")}`]),Xc,Yw,Xw]),VM}}}),OE=(n,e)=>{let{height:t,offset:i,prefixCls:r,onInnerResize:o}=n,{slots:s}=e;var a;let l={},u={display:"flex",flexDirection:"column"};return i!==void 0&&(l={height:`${t}px`,position:"relative",overflow:"hidden"},u=A(A({},u),{transform:`translateY(${i}px)`,position:"absolute",left:0,right:0,top:0})),N("div",{style:l},[N(Tc,{onResize:c=>{let{offsetHeight:d}=c;d&&o&&o()}},{default:()=>[N("div",{style:u,class:Ee({[`${r}-holder-inner`]:r})},[(a=s.default)===null||a===void 0?void 0:a.call(s)])]})])};OE.displayName="Filter";OE.inheritAttrs=!1;OE.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const q$e=OE,Oae=(n,e)=>{let{setRef:t}=n,{slots:i}=e;var r;const o=Qi((r=i.default)===null||r===void 0?void 0:r.call(i));return o&&o.length?bs(o[0],{ref:t}):o};Oae.props={setRef:{type:Function,default:()=>{}}};const Y$e=Oae,X$e=20;function uG(n){return"touches"in n?n.touches[0].pageY:n.pageY}const Z$e=Ie({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:vS(),thumbRef:vS(),visibleTimeout:null,state:pi({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var n,e;(n=this.scrollbarRef.current)===null||n===void 0||n.addEventListener("touchstart",this.onScrollbarTouchStart,yo?{passive:!1}:!1),(e=this.thumbRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onMouseDown,yo?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(n){n.preventDefault()},onContainerMouseDown(n){n.stopPropagation(),n.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,yo?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,yo?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,yo?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,yo?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),Dt.cancel(this.moveRaf)},onMouseDown(n){const{onStartMove:e}=this.$props;A(this.state,{dragging:!0,pageY:uG(n),startTop:this.getTop()}),e(),this.patchEvents(),n.stopPropagation(),n.preventDefault()},onMouseMove(n){const{dragging:e,pageY:t,startTop:i}=this.state,{onScroll:r}=this.$props;if(Dt.cancel(this.moveRaf),e){const o=uG(n)-t,s=i+o,a=this.getEnableScrollRange(),l=this.getEnableHeightRange(),u=l?s/l:0,c=Math.ceil(u*a);this.moveRaf=Dt(()=>{r(c)})}},onMouseUp(){const{onStopMove:n}=this.$props;this.state.dragging=!1,n(),this.removeEvents()},getSpinHeight(){const{height:n,count:e}=this.$props;let t=n/e*10;return t=Math.max(t,X$e),t=Math.min(t,n/2),Math.floor(t)},getEnableScrollRange(){const{scrollHeight:n,height:e}=this.$props;return n-e||0},getEnableHeightRange(){const{height:n}=this.$props,e=this.getSpinHeight();return n-e||0},getTop(){const{scrollTop:n}=this.$props,e=this.getEnableScrollRange(),t=this.getEnableHeightRange();return n===0||e===0?0:n/e*t},showScroll(){const{height:n,scrollHeight:e}=this.$props;return e>n}},render(){const{dragging:n,visible:e}=this.state,{prefixCls:t}=this.$props,i=this.getSpinHeight()+"px",r=this.getTop()+"px",o=this.showScroll(),s=o&&e;return N("div",{ref:this.scrollbarRef,class:Ee(`${t}-scrollbar`,{[`${t}-scrollbar-show`]:o}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:s?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[N("div",{ref:this.thumbRef,class:Ee(`${t}-scrollbar-thumb`,{[`${t}-scrollbar-thumb-moving`]:n}),style:{width:"100%",height:i,top:r,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function Q$e(n,e,t,i){const r=new Map,o=new Map,s=ke(Symbol("update"));Ve(n,()=>{s.value=Symbol("update")});let a;function l(){Dt.cancel(a)}function u(){l(),a=Dt(()=>{r.forEach((d,h)=>{if(d&&d.offsetParent){const{offsetHeight:f}=d;o.get(h)!==f&&(s.value=Symbol("update"),o.set(h,d.offsetHeight))}})})}function c(d,h){const f=e(d),g=r.get(f);h?(r.set(f,h.$el||h),u()):r.delete(f),!g!=!h&&(h?t==null||t(d):i==null||i(d))}return $c(()=>{l()}),[c,u,o,s]}function J$e(n,e,t,i,r,o,s,a){let l;return u=>{if(u==null){a();return}Dt.cancel(l);const c=e.value,d=i.itemHeight;if(typeof u=="number")s(u);else if(u&&typeof u=="object"){let h;const{align:f}=u;"index"in u?{index:h}=u:h=c.findIndex(m=>r(m)===u.key);const{offset:g=0}=u,p=(m,v)=>{if(m<0||!n.value)return;const y=n.value.clientHeight;let _=!1,b=v;if(y){const S=v||f;let w=0,C=0,x=0;const L=Math.min(c.length,h);for(let D=0;D<=L;D+=1){const M=r(c[D]);C=w;const P=t.get(M);x=C+(P===void 0?d:P),w=x,D===h&&P===void 0&&(_=!0)}const T=n.value.scrollTop;let I=null;switch(S){case"top":I=C-g;break;case"bottom":I=x-y+g;break;default:{const D=T+y;C<T?b="top":x>D&&(b="bottom")}}I!==null&&I!==T&&s(I)}l=Dt(()=>{_&&o(),p(m-1,b)},2)};p(5)}}}const e3e=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),t3e=e3e,Rae=(n,e)=>{let t=!1,i=null;function r(){clearTimeout(i),t=!0,i=setTimeout(()=>{t=!1},50)}return function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=o<0&&n.value||o>0&&e.value;return s&&a?(clearTimeout(i),t=!1):(!a||t)&&r(),!t&&a}};function n3e(n,e,t,i){let r=0,o=null,s=null,a=!1;const l=Rae(e,t);function u(d){if(!n.value)return;Dt.cancel(o);const{deltaY:h}=d;r+=h,s=h,!l(h)&&(t3e||d.preventDefault(),o=Dt(()=>{i(r*(a?10:1)),r=0}))}function c(d){n.value&&(a=d.detail===s)}return[u,c]}const i3e=14/15;function r3e(n,e,t){let i=!1,r=0,o=null,s=null;const a=()=>{o&&(o.removeEventListener("touchmove",l),o.removeEventListener("touchend",u))},l=h=>{if(i){const f=Math.ceil(h.touches[0].pageY);let g=r-f;r=f,t(g)&&h.preventDefault(),clearInterval(s),s=setInterval(()=>{g*=i3e,(!t(g,!0)||Math.abs(g)<=.1)&&clearInterval(s)},16)}},u=()=>{i=!1,a()},c=h=>{a(),h.touches.length===1&&!i&&(i=!0,r=Math.ceil(h.touches[0].pageY),o=h.target,o.addEventListener("touchmove",l,{passive:!1}),o.addEventListener("touchend",u))},d=()=>{};Vt(()=>{document.addEventListener("touchmove",d,{passive:!1}),Ve(n,h=>{e.value.removeEventListener("touchstart",c),a(),clearInterval(s),h&&e.value.addEventListener("touchstart",c,{passive:!1})},{immediate:!0})}),fn(()=>{document.removeEventListener("touchmove",d)})}var o3e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const s3e=[],a3e={overflowY:"auto",overflowAnchor:"none"};function l3e(n,e,t,i,r,o){let{getKey:s}=o;return n.slice(e,t+1).map((a,l)=>{const u=e+l,c=r(a,u,{}),d=s(a);return N(Y$e,{key:d,setRef:h=>i(a,h)},{default:()=>[c]})})}const u3e=Ie({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:ge.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(n,e){let{expose:t}=e;const i=V(()=>{const{height:R,itemHeight:$,virtual:H}=n;return!!(H!==!1&&R&&$)}),r=V(()=>{const{height:R,itemHeight:$,data:H}=n;return i.value&&H&&$*H.length>R}),o=pi({scrollTop:0,scrollMoving:!1}),s=V(()=>n.data||s3e),a=ye([]);Ve(s,()=>{a.value=Rt(s.value).slice()},{immediate:!0});const l=ye(R=>{});Ve(()=>n.itemKey,R=>{typeof R=="function"?l.value=R:l.value=$=>$==null?void 0:$[R]},{immediate:!0});const u=ye(),c=ye(),d=ye(),h=R=>l.value(R),f={getKey:h};function g(R){let $;typeof R=="function"?$=R(o.scrollTop):$=R;const H=w($);u.value&&(u.value.scrollTop=H),o.scrollTop=H}const[p,m,v,y]=Q$e(a,h,null,null),_=pi({scrollHeight:void 0,start:0,end:0,offset:void 0}),b=ye(0);Vt(()=>{kn(()=>{var R;b.value=((R=c.value)===null||R===void 0?void 0:R.offsetHeight)||0})}),vu(()=>{kn(()=>{var R;b.value=((R=c.value)===null||R===void 0?void 0:R.offsetHeight)||0})}),Ve([i,a],()=>{i.value||A(_,{scrollHeight:void 0,start:0,end:a.value.length-1,offset:void 0})},{immediate:!0}),Ve([i,a,b,r],()=>{i.value&&!r.value&&A(_,{scrollHeight:b.value,start:0,end:a.value.length-1,offset:void 0}),u.value&&(o.scrollTop=u.value.scrollTop)},{immediate:!0}),Ve([r,i,()=>o.scrollTop,a,y,()=>n.height,b],()=>{if(!i.value||!r.value)return;let R=0,$,H,U;const z=a.value.length,Z=a.value,X=o.scrollTop,{itemHeight:ce,height:q}=n,j=X+q;for(let ie=0;ie<z;ie+=1){const Q=Z[ie],le=h(Q);let ue=v.get(le);ue===void 0&&(ue=ce);const W=R+ue;$===void 0&&W>=X&&($=ie,H=R),U===void 0&&W>j&&(U=ie),R=W}$===void 0&&($=0,H=0,U=Math.ceil(q/ce)),U===void 0&&(U=z-1),U=Math.min(U+1,z),A(_,{scrollHeight:R,start:$,end:U,offset:H})},{immediate:!0});const S=V(()=>_.scrollHeight-n.height);function w(R){let $=R;return Number.isNaN(S.value)||($=Math.min($,S.value)),$=Math.max($,0),$}const C=V(()=>o.scrollTop<=0),x=V(()=>o.scrollTop>=S.value),L=Rae(C,x);function T(R){g(R)}function I(R){var $;const{scrollTop:H}=R.currentTarget;H!==o.scrollTop&&g(H),($=n.onScroll)===null||$===void 0||$.call(n,R)}const[D,M]=n3e(i,C,x,R=>{g($=>$+R)});r3e(i,u,(R,$)=>L(R,$)?!1:(D({preventDefault(){},deltaY:R}),!0));function P(R){i.value&&R.preventDefault()}const k=()=>{u.value&&(u.value.removeEventListener("wheel",D,yo?{passive:!1}:!1),u.value.removeEventListener("DOMMouseScroll",M),u.value.removeEventListener("MozMousePixelScroll",P))};Ut(()=>{kn(()=>{u.value&&(k(),u.value.addEventListener("wheel",D,yo?{passive:!1}:!1),u.value.addEventListener("DOMMouseScroll",M),u.value.addEventListener("MozMousePixelScroll",P))})}),fn(()=>{k()});const O=J$e(u,a,v,n,h,m,g,()=>{var R;(R=d.value)===null||R===void 0||R.delayHidden()});t({scrollTo:O});const F=V(()=>{let R=null;return n.height&&(R=A({[n.fullHeight?"height":"maxHeight"]:n.height+"px"},a3e),i.value&&(R.overflowY="hidden",o.scrollMoving&&(R.pointerEvents="none"))),R});return Ve([()=>_.start,()=>_.end,a],()=>{if(n.onVisibleChange){const R=a.value.slice(_.start,_.end+1);n.onVisibleChange(R,a.value)}},{flush:"post"}),{state:o,mergedData:a,componentStyle:F,onFallbackScroll:I,onScrollBar:T,componentRef:u,useVirtual:i,calRes:_,collectHeight:m,setInstance:p,sharedConfig:f,scrollBarRef:d,fillerInnerRef:c}},render(){const n=A(A({},this.$props),this.$attrs),{prefixCls:e="rc-virtual-list",height:t,itemHeight:i,fullHeight:r,data:o,itemKey:s,virtual:a,component:l="div",onScroll:u,children:c=this.$slots.default,style:d,class:h}=n,f=o3e(n,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),g=Ee(e,h),{scrollTop:p}=this.state,{scrollHeight:m,offset:v,start:y,end:_}=this.calRes,{componentStyle:b,onFallbackScroll:S,onScrollBar:w,useVirtual:C,collectHeight:x,sharedConfig:L,setInstance:T,mergedData:I}=this;return N("div",se({style:A(A({},d),{position:"relative"}),class:g},f),[N(l,{class:`${e}-holder`,style:b,ref:"componentRef",onScroll:S},{default:()=>[N(q$e,{prefixCls:e,height:m,offset:v,onInnerResize:x,ref:"fillerInnerRef"},{default:()=>l3e(I,y,_,T,c,L)})]}),C&&N(Z$e,{ref:"scrollBarRef",prefixCls:e,scrollTop:p,height:t,scrollHeight:m,count:I.length,onScroll:w,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}}),Bae=u3e;function c3e(n,e,t){const i=ke(n());return Ve(e,(r,o)=>{t?t(r,o)&&(i.value=n()):i.value=n()}),i}function d3e(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const Fae=Symbol("SelectContextKey");function h3e(n){return On(Fae,n)}function f3e(){return kt(Fae,{})}var g3e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function cG(n){return typeof n=="string"||typeof n=="number"}const p3e=Ie({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(n,e){let{expose:t,slots:i}=e;const r=z$e(),o=f3e(),s=V(()=>`${r.prefixCls}-item`),a=c3e(()=>o.flattenOptions,[()=>r.open,()=>o.flattenOptions],S=>S[0]),l=vS(),u=S=>{S.preventDefault()},c=S=>{l.current&&l.current.scrollTo(typeof S=="number"?{index:S}:S)},d=function(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const C=a.value.length;for(let x=0;x<C;x+=1){const L=(S+x*w+C)%C,{group:T,data:I}=a.value[L];if(!T&&!I.disabled)return L}return-1},h=pi({activeIndex:d(0)}),f=function(S){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;h.activeIndex=S;const C={source:w?"keyboard":"mouse"},x=a.value[S];if(!x){o.onActiveValue(null,-1,C);return}o.onActiveValue(x.value,S,C)};Ve([()=>a.value.length,()=>r.searchValue],()=>{f(o.defaultActiveFirstOption!==!1?d(0):-1)},{immediate:!0});const g=S=>o.rawValues.has(S)&&r.mode!=="combobox";Ve([()=>r.open,()=>r.searchValue],()=>{if(!r.multiple&&r.open&&o.rawValues.size===1){const S=Array.from(o.rawValues)[0],w=Rt(a.value).findIndex(C=>{let{data:x}=C;return x[o.fieldNames.value]===S});w!==-1&&(f(w),kn(()=>{c(w)}))}r.open&&kn(()=>{var S;(S=l.current)===null||S===void 0||S.scrollTo(void 0)})},{immediate:!0,flush:"post"});const p=S=>{S!==void 0&&o.onSelect(S,{selected:!o.rawValues.has(S)}),r.multiple||r.toggleOpen(!1)},m=S=>typeof S.label=="function"?S.label():S.label;function v(S){const w=a.value[S];if(!w)return null;const C=w.data||{},{value:x}=C,{group:L}=w,T=Ay(C,!0),I=m(w);return w?N("div",se(se({"aria-label":typeof I=="string"&&!L?I:null},T),{},{key:S,role:L?"presentation":"option",id:`${r.id}_list_${S}`,"aria-selected":g(x)}),[x]):null}return t({onKeydown:S=>{const{which:w,ctrlKey:C}=S;switch(w){case ot.N:case ot.P:case ot.UP:case ot.DOWN:{let x=0;if(w===ot.UP?x=-1:w===ot.DOWN?x=1:d3e()&&C&&(w===ot.N?x=1:w===ot.P&&(x=-1)),x!==0){const L=d(h.activeIndex+x,x);c(L),f(L,!0)}break}case ot.ENTER:{const x=a.value[h.activeIndex];x&&!x.data.disabled?p(x.value):p(void 0),r.open&&S.preventDefault();break}case ot.ESC:r.toggleOpen(!1),r.open&&S.stopPropagation()}},onKeyup:()=>{},scrollTo:S=>{c(S)}}),()=>{const{id:S,notFoundContent:w,onPopupScroll:C}=r,{menuItemSelectedIcon:x,fieldNames:L,virtual:T,listHeight:I,listItemHeight:D}=o,M=i.option,{activeIndex:P}=h,k=Object.keys(L).map(O=>L[O]);return a.value.length===0?N("div",{role:"listbox",id:`${S}_list`,class:`${s.value}-empty`,onMousedown:u},[w]):N($t,null,[N("div",{role:"listbox",id:`${S}_list`,style:{height:0,width:0,overflow:"hidden"}},[v(P-1),v(P),v(P+1)]),N(Bae,{itemKey:"key",ref:l,data:a.value,height:I,itemHeight:D,fullHeight:!1,onMousedown:u,onScroll:C,virtual:T},{default:(O,F)=>{var R;const{group:$,groupOption:H,data:U,value:z}=O,{key:Z}=U,X=typeof O.label=="function"?O.label():O.label;if($){const he=(R=U.title)!==null&&R!==void 0?R:cG(X)&&X;return N("div",{class:Ee(s.value,`${s.value}-group`),title:he},[M?M(U):X!==void 0?X:Z])}const{disabled:ce,title:q,children:j,style:ie,class:Q,className:le}=U,ue=g3e(U,["disabled","title","children","style","class","className"]),W=jn(ue,k),G=g(z),K=`${s.value}-option`,de=Ee(s.value,K,Q,le,{[`${K}-grouped`]:H,[`${K}-active`]:P===F&&!ce,[`${K}-disabled`]:ce,[`${K}-selected`]:G}),Y=m(O),oe=!x||typeof x=="function"||G,te=typeof Y=="number"?Y:Y||z;let J=cG(te)?te.toString():void 0;return q!==void 0&&(J=q),N("div",se(se({},W),{},{"aria-selected":G,class:de,title:J,onMousemove:he=>{ue.onMousemove&&ue.onMousemove(he),!(P===F||ce)&&f(F)},onClick:he=>{ce||p(z),ue.onClick&&ue.onClick(he)},style:ie}),[N("div",{class:`${K}-content`},[M?M(U):te]),Yo(x)||G,oe&&N(nI,{class:`${s.value}-option-state`,customizeIcon:x,customizeIconProps:{isSelected:G}},{default:()=>[G?"":null]})])}})])}}}),m3e=p3e;var v3e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function y3e(n){const e=n,{key:t,children:i}=e,r=e.props,{value:o,disabled:s}=r,a=v3e(r,["value","disabled"]),l=i==null?void 0:i.default;return A({key:t,value:o!==void 0?o:t,children:l,disabled:s||s===""},a)}function $ae(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Qi(n).map((i,r)=>{var o;if(!Yo(i)||!i.type)return null;const{type:{isSelectOptGroup:s},key:a,children:l,props:u}=i;if(e||!s)return y3e(i);const c=l&&l.default?l.default():void 0,d=(u==null?void 0:u.label)||((o=l.label)===null||o===void 0?void 0:o.call(l))||a;return A(A({key:`__RC_SELECT_GRP__${a===null?r:String(a)}__`},u),{label:d,options:$ae(c||[])})}).filter(i=>i)}function _3e(n,e,t){const i=ye(),r=ye(),o=ye(),s=ye([]);return Ve([n,e],()=>{n.value?s.value=Rt(n.value).slice():s.value=$ae(e.value)},{immediate:!0,deep:!0}),Ut(()=>{const a=s.value,l=new Map,u=new Map,c=t.value;function d(h){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let g=0;g<h.length;g+=1){const p=h[g];!p[c.options]||f?(l.set(p[c.value],p),u.set(p[c.label],p)):d(p[c.options],!0)}}d(a),i.value=a,r.value=l,o.value=u}),{options:i,valueOptions:r,labelOptions:o}}let dG=0;const b3e=zc();function S3e(){let n;return b3e?(n=dG,dG+=1):n="TEST_OR_SSR",n}function w3e(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke("");const e=`rc_select_${S3e()}`;return n.value||e}function Vae(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function V2(n,e){return Vae(n).join("").toUpperCase().includes(e)}const C3e=(n,e,t,i,r)=>V(()=>{const o=t.value,s=r==null?void 0:r.value,a=i==null?void 0:i.value;if(!o||a===!1)return n.value;const{options:l,label:u,value:c}=e.value,d=[],h=typeof a=="function",f=o.toUpperCase(),g=h?a:(m,v)=>s?V2(v[s],f):v[l]?V2(v[u!=="children"?u:"label"],f):V2(v[c],f),p=h?m=>K4(m):m=>m;return n.value.forEach(m=>{if(m[l]){if(g(o,p(m)))d.push(m);else{const y=m[l].filter(_=>g(o,p(_)));y.length&&d.push(A(A({},m),{[l]:y}))}return}g(o,p(m))&&d.push(m)}),d}),x3e=(n,e)=>{const t=ye({values:new Map,options:new Map});return[V(()=>{const{values:o,options:s}=t.value,a=n.value.map(c=>{var d;return c.label===void 0?A(A({},c),{label:(d=o.get(c.value))===null||d===void 0?void 0:d.label}):c}),l=new Map,u=new Map;return a.forEach(c=>{l.set(c.value,c),u.set(c.value,e.value.get(c.value)||s.get(c.value))}),t.value.values=l,t.value.options=u,a}),o=>e.value.get(o)||t.value.options.get(o)]};function ny(n,e){const{defaultValue:t,value:i=ke()}=e||{};let r=typeof n=="function"?n():n;i.value!==void 0&&(r=Wa(i)),t!==void 0&&(r=typeof t=="function"?t():t);const o=ke(r),s=ke(r);Ut(()=>{let l=i.value!==void 0?i.value:o.value;e.postState&&(l=e.postState(l)),s.value=l});function a(l){const u=s.value;o.value=l,Rt(s.value)!==l&&e.onChange&&e.onChange(l,u)}return Ve(i,()=>{o.value=i.value}),[s,a]}function An(n){const e=typeof n=="function"?n():n,t=ke(e);function i(r){t.value=r}return[t,i]}const L3e=["inputValue"];function Wae(){return A(A({},kae()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:ge.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:ge.any,defaultValue:ge.any,onChange:Function,children:Array})}function T3e(n){return!n||typeof n!="object"}const I3e=Ie({compatConfig:{MODE:3},name:"Select",inheritAttrs:!1,props:rr(Wae(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(n,e){let{expose:t,attrs:i,slots:r}=e;const o=w3e(Wn(n,"id")),s=V(()=>Pae(n.mode)),a=V(()=>!!(!n.options&&n.children)),l=V(()=>n.filterOption===void 0&&n.mode==="combobox"?!1:n.filterOption),u=V(()=>Qse(n.fieldNames,a.value)),[c,d]=ny("",{value:V(()=>n.searchValue!==void 0?n.searchValue:n.inputValue),postState:Q=>Q||""}),h=_3e(Wn(n,"options"),Wn(n,"children"),u),{valueOptions:f,labelOptions:g,options:p}=h,m=Q=>Vae(Q).map(ue=>{var W,G;let K,de,Y,oe;T3e(ue)?K=ue:(Y=ue.key,de=ue.label,K=(W=ue.value)!==null&&W!==void 0?W:Y);const te=f.value.get(K);return te&&(de===void 0&&(de=te==null?void 0:te[n.optionLabelProp||u.value.label]),Y===void 0&&(Y=(G=te==null?void 0:te.key)!==null&&G!==void 0?G:K),oe=te==null?void 0:te.disabled),{label:de,value:K,key:Y,disabled:oe,option:te}}),[v,y]=ny(n.defaultValue,{value:Wn(n,"value")}),_=V(()=>{var Q;const le=m(v.value);return n.mode==="combobox"&&!(!((Q=le[0])===null||Q===void 0)&&Q.value)?[]:le}),[b,S]=x3e(_,f),w=V(()=>{if(!n.mode&&b.value.length===1){const Q=b.value[0];if(Q.value===null&&(Q.label===null||Q.label===void 0))return[]}return b.value.map(Q=>{var le;return A(A({},Q),{label:(le=typeof Q.label=="function"?Q.label():Q.label)!==null&&le!==void 0?le:Q.value})})}),C=V(()=>new Set(b.value.map(Q=>Q.value)));Ut(()=>{var Q;if(n.mode==="combobox"){const le=(Q=b.value[0])===null||Q===void 0?void 0:Q.value;le!=null&&d(String(le))}},{flush:"post"});const x=(Q,le)=>{const ue=le??Q;return{[u.value.value]:Q,[u.value.label]:ue}},L=ye();Ut(()=>{if(n.mode!=="tags"){L.value=p.value;return}const Q=p.value.slice(),le=ue=>f.value.has(ue);[...b.value].sort((ue,W)=>ue.value<W.value?-1:1).forEach(ue=>{const W=ue.value;le(W)||Q.push(x(W,ue.label))}),L.value=Q});const T=C3e(L,u,c,l,Wn(n,"optionFilterProp")),I=V(()=>n.mode!=="tags"||!c.value||T.value.some(Q=>Q[n.optionFilterProp||"value"]===c.value)?T.value:[x(c.value),...T.value]),D=V(()=>n.filterSort?[...I.value].sort((Q,le)=>n.filterSort(Q,le)):I.value),M=V(()=>x4e(D.value,{fieldNames:u.value,childrenAsData:a.value})),P=Q=>{const le=m(Q);if(y(le),n.onChange&&(le.length!==b.value.length||le.some((ue,W)=>{var G;return((G=b.value[W])===null||G===void 0?void 0:G.value)!==(ue==null?void 0:ue.value)}))){const ue=n.labelInValue?le.map(G=>A(A({},G),{originLabel:G.label,label:typeof G.label=="function"?G.label():G.label})):le.map(G=>G.value),W=le.map(G=>K4(S(G.value)));n.onChange(s.value?ue:ue[0],s.value?W:W[0])}},[k,O]=An(null),[F,R]=An(0),$=V(()=>n.defaultActiveFirstOption!==void 0?n.defaultActiveFirstOption:n.mode!=="combobox"),H=function(Q,le){let{source:ue="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};R(le),n.backfill&&n.mode==="combobox"&&Q!==null&&ue==="keyboard"&&O(String(Q))},U=(Q,le)=>{const ue=()=>{var W;const G=S(Q),K=G==null?void 0:G[u.value.label];return[n.labelInValue?{label:typeof K=="function"?K():K,originLabel:K,value:Q,key:(W=G==null?void 0:G.key)!==null&&W!==void 0?W:Q}:Q,K4(G)]};if(le&&n.onSelect){const[W,G]=ue();n.onSelect(W,G)}else if(!le&&n.onDeselect){const[W,G]=ue();n.onDeselect(W,G)}},z=(Q,le)=>{let ue;const W=s.value?le.selected:!0;W?ue=s.value?[...b.value,Q]:[Q]:ue=b.value.filter(G=>G.value!==Q),P(ue),U(Q,W),n.mode==="combobox"?O(""):(!s.value||n.autoClearSearchValue)&&(d(""),O(""))},Z=(Q,le)=>{P(Q),(le.type==="remove"||le.type==="clear")&&le.values.forEach(ue=>{U(ue.value,!1)})},X=(Q,le)=>{var ue;if(d(Q),O(null),le.source==="submit"){const W=(Q||"").trim();if(W){const G=Array.from(new Set([...C.value,W]));P(G),U(W,!0),d("")}return}le.source!=="blur"&&(n.mode==="combobox"&&P(Q),(ue=n.onSearch)===null||ue===void 0||ue.call(n,Q))},ce=Q=>{let le=Q;n.mode!=="tags"&&(le=Q.map(W=>{const G=g.value.get(W);return G==null?void 0:G.value}).filter(W=>W!==void 0));const ue=Array.from(new Set([...C.value,...le]));P(ue),ue.forEach(W=>{U(W,!0)})},q=V(()=>n.virtual!==!1&&n.dropdownMatchSelectWidth!==!1);h3e(Bse(A(A({},h),{flattenOptions:M,onActiveValue:H,defaultActiveFirstOption:$,onSelect:z,menuItemSelectedIcon:Wn(n,"menuItemSelectedIcon"),rawValues:C,fieldNames:u,virtual:q,listHeight:Wn(n,"listHeight"),listItemHeight:Wn(n,"listItemHeight"),childrenAsData:a})));const j=ke();t({focus(){var Q;(Q=j.value)===null||Q===void 0||Q.focus()},blur(){var Q;(Q=j.value)===null||Q===void 0||Q.blur()},scrollTo(Q){var le;(le=j.value)===null||le===void 0||le.scrollTo(Q)}});const ie=V(()=>jn(n,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>N(j$e,se(se(se({},ie.value),i),{},{id:o,prefixCls:n.prefixCls,ref:j,omitDomProps:L3e,mode:n.mode,displayValues:w.value,onDisplayValuesChange:Z,searchValue:c.value,onSearch:X,onSearchSplit:ce,dropdownMatchSelectWidth:n.dropdownMatchSelectWidth,OptionList:m3e,emptyOptions:!M.value.length,activeValue:k.value,activeDescendantId:`${o}_list_${F.value}`}),r)}}),rV=()=>null;rV.isSelectOption=!0;rV.displayName="ASelectOption";const D3e=rV,oV=()=>null;oV.isSelectOptGroup=!0;oV.displayName="ASelectOptGroup";const E3e=oV;var M3e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const A3e=M3e;var hG=[],b0=[],N3e="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function k3e(){var n=document.createElement("style");return n.setAttribute("type","text/css"),n}function P3e(n,e){if(e=e||{},n===void 0)throw new Error(N3e);var t=e.prepend===!0?"prepend":"append",i=e.container!==void 0?e.container:document.querySelector("head"),r=hG.indexOf(i);r===-1&&(r=hG.push(i)-1,b0[r]={});var o;return b0[r]!==void 0&&b0[r][t]!==void 0?o=b0[r][t]:(o=b0[r][t]=k3e(),t==="prepend"?i.insertBefore(o,i.childNodes[0]):i.appendChild(o)),n.charCodeAt(0)===65279&&(n=n.substr(1,n.length)),o.styleSheet?o.styleSheet.cssText+=n:o.textContent+=n,o}function fG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){O3e(n,r,t[r])})}return n}function O3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gG(n){return typeof n=="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(typeof n.icon=="object"||typeof n.icon=="function")}function n5(n,e,t){return t?NL(n.tag,fG({key:e},t,n.attrs),(n.children||[]).map(function(i,r){return n5(i,"".concat(e,"-").concat(n.tag,"-").concat(r))})):NL(n.tag,fG({key:e},n.attrs),(n.children||[]).map(function(i,r){return n5(i,"".concat(e,"-").concat(n.tag,"-").concat(r))}))}function zae(n){return dS(n)[0]}function Hae(n){return n?Array.isArray(n)?n:[n]:[]}var R3e=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,pG=!1,B3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R3e;kn(function(){pG||(typeof window<"u"&&window.document&&window.document.documentElement&&P3e(e,{prepend:!0}),pG=!0)})},F3e=["icon","primaryColor","secondaryColor"];function $3e(n,e){if(n==null)return{};var t=V3e(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function V3e(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Xx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){W3e(n,r,t[r])})}return n}function W3e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tb={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function z3e(n){var e=n.primaryColor,t=n.secondaryColor;tb.primaryColor=e,tb.secondaryColor=t||zae(e),tb.calculated=!!t}function H3e(){return Xx({},tb)}var Ny=function(e,t){var i=Xx({},e,t.attrs),r=i.icon,o=i.primaryColor,s=i.secondaryColor,a=$3e(i,F3e),l=tb;if(o&&(l={primaryColor:o,secondaryColor:s||zae(o)}),B3e(),gG(r),!gG(r))return null;var u=r;return u&&typeof u.icon=="function"&&(u=Xx({},u,{icon:u.icon(l.primaryColor,l.secondaryColor)})),n5(u.icon,"svg-".concat(u.name),Xx({},a,{"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Ny.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Ny.inheritAttrs=!1;Ny.displayName="IconBase";Ny.getTwoToneColors=H3e;Ny.setTwoToneColors=z3e;const sV=Ny;function U3e(n,e){return q3e(n)||j3e(n,e)||K3e(n,e)||G3e()}function G3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(n,e){if(n){if(typeof n=="string")return mG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mG(n,e)}}function mG(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function j3e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,s,a;try{for(t=t.call(n);!(r=(s=t.next()).done)&&(i.push(s.value),!(e&&i.length===e));r=!0);}catch(l){o=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}return i}}function q3e(n){if(Array.isArray(n))return n}function Uae(n){var e=Hae(n),t=U3e(e,2),i=t[0],r=t[1];return sV.setTwoToneColors({primaryColor:i,secondaryColor:r})}function Y3e(){var n=sV.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var X3e=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Z3e(n,e){return tVe(n)||eVe(n,e)||J3e(n,e)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3e(n,e){if(n){if(typeof n=="string")return vG(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vG(n,e)}}function vG(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function eVe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],r=!0,o=!1,s,a;try{for(t=t.call(n);!(r=(s=t.next()).done)&&(i.push(s.value),!(e&&i.length===e));r=!0);}catch(l){o=!0,a=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(o)throw a}}return i}}function tVe(n){if(Array.isArray(n))return n}function yG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){i5(n,r,t[r])})}return n}function i5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nVe(n,e){if(n==null)return{};var t=iVe(n,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function iVe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}Uae("#1890ff");var ky=function(e,t){var i,r=yG({},e,t.attrs),o=r.class,s=r.icon,a=r.spin,l=r.rotate,u=r.tabindex,c=r.twoToneColor,d=r.onClick,h=nVe(r,X3e),f=(i={anticon:!0},i5(i,"anticon-".concat(s.name),!!s.name),i5(i,o,o),i),g=a===""||a||s.name==="loading"?"anticon-spin":"",p=u;p===void 0&&d&&(p=-1,h.tabindex=p);var m=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,v=Hae(c),y=Z3e(v,2),_=y[0],b=y[1];return N("span",yG({role:"img","aria-label":s.name},h,{onClick:d,class:f}),[N(sV,{class:g,icon:s,primaryColor:_,secondaryColor:b,style:m},null)])};ky.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};ky.displayName="AntdIcon";ky.inheritAttrs=!1;ky.getTwoToneColor=Y3e;ky.setTwoToneColor=Uae;const ri=ky;function _G(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){rVe(n,r,t[r])})}return n}function rVe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var aV=function(e,t){var i=_G({},e,t.attrs);return N(ri,_G({},i,{icon:A3e}),null)};aV.displayName="DownOutlined";aV.inheritAttrs=!1;const Gae=aV;var oVe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const sVe=oVe;function bG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){aVe(n,r,t[r])})}return n}function aVe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var lV=function(e,t){var i=bG({},e,t.attrs);return N(ri,bG({},i,{icon:sVe}),null)};lV.displayName="LoadingOutlined";lV.inheritAttrs=!1;const iI=lV;var lVe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const uVe=lVe;function SG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){cVe(n,r,t[r])})}return n}function cVe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var uV=function(e,t){var i=SG({},e,t.attrs);return N(ri,SG({},i,{icon:uVe}),null)};uV.displayName="CheckOutlined";uV.inheritAttrs=!1;const Kae=uV;var dVe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const hVe=dVe;function wG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){fVe(n,r,t[r])})}return n}function fVe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var cV=function(e,t){var i=wG({},e,t.attrs);return N(ri,wG({},i,{icon:hVe}),null)};cV.displayName="CloseOutlined";cV.inheritAttrs=!1;const dV=cV;var gVe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const pVe=gVe;function CG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){mVe(n,r,t[r])})}return n}function mVe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var hV=function(e,t){var i=CG({},e,t.attrs);return N(ri,CG({},i,{icon:pVe}),null)};hV.displayName="CloseCircleFilled";hV.inheritAttrs=!1;const fV=hV;var vVe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const yVe=vVe;function xG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){_Ve(n,r,t[r])})}return n}function _Ve(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var gV=function(e,t){var i=xG({},e,t.attrs);return N(ri,xG({},i,{icon:yVe}),null)};gV.displayName="SearchOutlined";gV.inheritAttrs=!1;const yS=gV;function bVe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:t,multiple:i,prefixCls:r,hasFeedback:o,feedbackIcon:s,showArrow:a}=n,l=n.suffixIcon||e.suffixIcon&&e.suffixIcon(),u=n.clearIcon||e.clearIcon&&e.clearIcon(),c=n.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),d=n.removeIcon||e.removeIcon&&e.removeIcon(),h=u??N(fV,null,null),f=v=>N($t,null,[a!==!1&&v,o&&s]);let g=null;if(l!==void 0)g=f(l);else if(t)g=f(N(iI,{spin:!0},null));else{const v=`${r}-suffix`;g=y=>{let{open:_,showSearch:b}=y;return f(_&&b?N(yS,{class:v},null):N(Gae,{class:v},null))}}let p=null;c!==void 0?p=c:i?p=N(Kae,null,null):p=null;let m=null;return d!==void 0?m=d:m=N(dV,null,null),{clearIcon:h,suffixIcon:g,itemIcon:p,removeIcon:m}}function pV(n){const e=Symbol("contextKey");return{useProvide:(r,o)=>{const s=pi({});return On(e,s),Ut(()=>{A(s,r,o||{})}),s},useInject:()=>kt(e,n)||{}}}const LG=Symbol("ContextProps"),TG=Symbol("InternalContextProps"),IG={id:V(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},DG={addFormItemField:()=>{},removeFormItemField:()=>{}},Cp=()=>{const n=kt(TG,DG),e=Symbol("FormItemFieldKey"),t=Ts();return n.addFormItemField(e,t.type),fn(()=>{n.removeFormItemField(e)}),On(TG,DG),On(LG,IG),kt(LG,IG)},Dc=pV({}),EG=Ie({name:"NoFormStatus",setup(n,e){let{slots:t}=e;return Dc.useProvide({}),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}});function pv(n,e,t){return Ee({[`${n}-status-success`]:e==="success",[`${n}-status-warning`]:e==="warning",[`${n}-status-error`]:e==="error",[`${n}-status-validating`]:e==="validating",[`${n}-has-feedback`]:t})}const RE=(n,e)=>e||n,SVe=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},wVe=SVe,CVe=n=>{const{componentCls:e}=n;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-space-item`]:{"&:empty":{display:"none"}}}}},xVe=ki("Space",n=>[CVe(n),wVe(n)]);var LVe="[object Symbol]";function BE(n){return typeof n=="symbol"||Ug(n)&&_p(n)==LVe}function TVe(n,e){for(var t=-1,i=n==null?0:n.length,r=Array(i);++t<i;)r[t]=e(n[t],t,n);return r}var IVe=1/0,MG=lu?lu.prototype:void 0,AG=MG?MG.toString:void 0;function jae(n){if(typeof n=="string")return n;if(du(n))return TVe(n,jae)+"";if(BE(n))return AG?AG.call(n):"";var e=n+"";return e=="0"&&1/n==-IVe?"-0":e}var DVe=/\s/;function EVe(n){for(var e=n.length;e--&&DVe.test(n.charAt(e)););return e}var MVe=/^\s+/;function AVe(n){return n&&n.slice(0,EVe(n)+1).replace(MVe,"")}var NG=0/0,NVe=/^[-+]0x[0-9a-f]+$/i,kVe=/^0b[01]+$/i,PVe=/^0o[0-7]+$/i,OVe=parseInt;function kG(n){if(typeof n=="number")return n;if(BE(n))return NG;if(jg(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=jg(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=AVe(n);var t=kVe.test(n);return t||PVe.test(n)?OVe(n.slice(2),t?2:8):NVe.test(n)?NG:+n}function RVe(n){return n}function BVe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function FVe(){}var $Ve=800,VVe=16,WVe=Date.now;function zVe(n){var e=0,t=0;return function(){var i=WVe(),r=VVe-(i-t);if(t=i,r>0){if(++e>=$Ve)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function HVe(n){return function(){return n}}var UVe=function(){try{var n=wp(Object,"defineProperty");return n({},"",{}),n}catch{}}();const rI=UVe;var GVe=rI?function(n,e){return rI(n,"toString",{configurable:!0,enumerable:!1,value:HVe(e),writable:!0})}:RVe;const KVe=GVe;var jVe=zVe(KVe);const qVe=jVe;function YVe(n,e,t,i){for(var r=n.length,o=t+(i?1:-1);i?o--:++o<r;)if(e(n[o],o,n))return o;return-1}function XVe(n){return n!==n}function ZVe(n,e,t){for(var i=t-1,r=n.length;++i<r;)if(n[i]===e)return i;return-1}function QVe(n,e,t){return e===e?ZVe(n,e,t):YVe(n,XVe,t)}function JVe(n,e){var t=n==null?0:n.length;return!!t&&QVe(n,e,0)>-1}function eWe(n,e,t){e=="__proto__"&&rI?rI(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var tWe=Object.prototype,nWe=tWe.hasOwnProperty;function iWe(n,e,t){var i=n[e];(!(nWe.call(n,e)&&Z3(i,t))||t===void 0&&!(e in n))&&eWe(n,e,t)}var PG=Math.max;function rWe(n,e,t){return e=PG(e===void 0?n.length-1:e,0),function(){for(var i=arguments,r=-1,o=PG(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=t(s),BVe(n,this,a)}}var oWe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sWe=/^\w*$/;function aWe(n,e){if(du(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||BE(n)?!0:sWe.test(n)||!oWe.test(n)||e!=null&&n in Object(e)}var lWe="Expected a function";function mV(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(lWe);var t=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=t.cache;if(o.has(r))return o.get(r);var s=n.apply(this,i);return t.cache=o.set(r,s)||o,s};return t.cache=new(mV.Cache||Uc),t}mV.Cache=Uc;var uWe=500;function cWe(n){var e=mV(n,function(i){return t.size===uWe&&t.clear(),i}),t=e.cache;return e}var dWe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hWe=/\\(\\)?/g,fWe=cWe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(dWe,function(t,i,r,o){e.push(r?o.replace(hWe,"$1"):i||t)}),e});const gWe=fWe;function pWe(n){return n==null?"":jae(n)}function FE(n,e){return du(n)?n:aWe(n,e)?[n]:gWe(pWe(n))}var mWe=1/0;function vV(n){if(typeof n=="string"||BE(n))return n;var e=n+"";return e=="0"&&1/n==-mWe?"-0":e}function vWe(n,e){e=FE(e,n);for(var t=0,i=e.length;n!=null&&t<i;)n=n[vV(e[t++])];return t&&t==i?n:void 0}var OG=lu?lu.isConcatSpreadable:void 0;function yWe(n){return du(n)||AE(n)||!!(OG&&n&&n[OG])}function qae(n,e,t,i,r){var o=-1,s=n.length;for(t||(t=yWe),r||(r=[]);++o<s;){var a=n[o];e>0&&t(a)?e>1?qae(a,e-1,t,i,r):fae(r,a):i||(r[r.length]=a)}return r}function _We(n){var e=n==null?0:n.length;return e?qae(n,1):[]}function bWe(n){return qVe(rWe(n,void 0,_We),n+"")}function SWe(n,e){return n!=null&&e in Object(n)}function wWe(n,e,t){e=FE(e,n);for(var i=-1,r=e.length,o=!1;++i<r;){var s=vV(e[i]);if(!(o=n!=null&&t(n,s)))break;n=n[s]}return o||++i!=r?o:(r=n==null?0:n.length,!!r&&eV(r)&&J3(s,r)&&(du(n)||AE(n)))}function CWe(n,e){return n!=null&&wWe(n,e,SWe)}var xWe=function(){return wu.Date.now()};const W2=xWe;var LWe="Expected a function",TWe=Math.max,IWe=Math.min;function DWe(n,e,t){var i,r,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof n!="function")throw new TypeError(LWe);e=kG(e)||0,jg(t)&&(c=!!t.leading,d="maxWait"in t,o=d?TWe(kG(t.maxWait)||0,e):o,h="trailing"in t?!!t.trailing:h);function f(w){var C=i,x=r;return i=r=void 0,u=w,s=n.apply(x,C),s}function g(w){return u=w,a=setTimeout(v,e),c?f(w):s}function p(w){var C=w-l,x=w-u,L=e-C;return d?IWe(L,o-x):L}function m(w){var C=w-l,x=w-u;return l===void 0||C>=e||C<0||d&&x>=o}function v(){var w=W2();if(m(w))return y(w);a=setTimeout(v,p(w))}function y(w){return a=void 0,h&&i?f(w):(i=r=void 0,s)}function _(){a!==void 0&&clearTimeout(a),u=0,i=l=r=a=void 0}function b(){return a===void 0?s:y(W2())}function S(){var w=W2(),C=m(w);if(i=arguments,r=this,l=w,C){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(v,e),f(l)}return a===void 0&&(a=setTimeout(v,e)),s}return S.cancel=_,S.flush=b,S}function EWe(n,e,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(e,n[i]))return!0;return!1}function MWe(n){for(var e=-1,t=n==null?0:n.length,i={};++e<t;){var r=n[e];i[r[0]]=r[1]}return i}var AWe="[object Map]",NWe="[object Set]",kWe=Object.prototype,PWe=kWe.hasOwnProperty;function Yae(n){if(n==null)return!0;if(_ae(n)&&(du(n)||typeof n=="string"||typeof n.splice=="function"||eI(n)||tV(n)||AE(n)))return!n.length;var e=e5(n);if(e==AWe||e==NWe)return!n.size;if(vae(n))return!yae(n).length;for(var t in n)if(PWe.call(n,t))return!1;return!0}function OWe(n,e,t,i){if(!jg(n))return n;e=FE(e,n);for(var r=-1,o=e.length,s=o-1,a=n;a!=null&&++r<o;){var l=vV(e[r]),u=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=s){var c=a[l];u=i?i(c,l,a):void 0,u===void 0&&(u=jg(c)?c:J3(e[r+1])?[]:{})}iWe(a,l,u),a=a[l]}return n}function RWe(n,e,t){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=vWe(n,s);t(a,s)&&OWe(o,FE(s,n),a)}return o}function BWe(n,e){return RWe(n,e,function(t,i){return CWe(n,i)})}var FWe=bWe(function(n,e){return n==null?{}:BWe(n,e)});const Xae=FWe;var $We=1/0,VWe=fv&&1/Q3(new fv([,-0]))[1]==$We?function(n){return new fv(n)}:FVe;const WWe=VWe;var zWe=200;function HWe(n,e,t){var i=-1,r=JVe,o=n.length,s=!0,a=[],l=a;if(t)s=!1,r=EWe;else if(o>=zWe){var u=e?null:WWe(n);if(u)return Q3(u);s=!1,r=dae,l=new mS}else l=e?[]:a;e:for(;++i<o;){var c=n[i],d=e?e(c):c;if(c=t||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else r(l,d,t)||(l!==a&&l.push(d),a.push(c))}return a}function z2(n){return n&&n.length?HWe(n):[]}const UWe=()=>({compactSize:String,compactDirection:ge.oneOf(lS("horizontal","vertical")).def("horizontal"),isFirstItem:_t(),isLastItem:_t()}),$E=pV(null),yV=(n,e)=>{const t=$E.useInject(),i=V(()=>{if(!t||Yae(t))return"";const{compactDirection:r,isFirstItem:o,isLastItem:s}=t,a=r==="vertical"?"-vertical-":"-";return Ee({[`${n.value}-compact${a}item`]:!0,[`${n.value}-compact${a}first-item`]:o,[`${n.value}-compact${a}last-item`]:s,[`${n.value}-compact${a}item-rtl`]:e.value==="rtl"})});return{compactSize:V(()=>t==null?void 0:t.compactSize),compactDirection:V(()=>t==null?void 0:t.compactDirection),compactItemClassnames:i}},RG=Ie({name:"NoCompactStyle",setup(n,e){let{slots:t}=e;return $E.useProvide(null),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}}),GWe=()=>({prefixCls:String,size:{type:String},direction:ge.oneOf(lS("horizontal","vertical")).def("horizontal"),align:ge.oneOf(lS("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),KWe=Ie({name:"CompactItem",props:UWe(),setup(n,e){let{slots:t}=e;return $E.useProvide(n),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}});Ie({name:"ASpaceCompact",inheritAttrs:!1,props:GWe(),setup(n,e){let{attrs:t,slots:i}=e;const{prefixCls:r,direction:o}=Wt("space-compact",n),s=$E.useInject(),[a,l]=xVe(r),u=V(()=>Ee(r.value,l.value,{[`${r.value}-rtl`]:o.value==="rtl",[`${r.value}-block`]:n.block,[`${r.value}-vertical`]:n.direction==="vertical"}));return()=>{var c;const d=Qi(((c=i.default)===null||c===void 0?void 0:c.call(i))||[]);return d.length===0?null:a(N("div",se(se({},t),{},{class:[u.value,t.class]}),[d.map((h,f)=>{var g;const p=h&&h.key||`${r.value}-item-${f}`,m=!s||Yae(s);return N(KWe,{key:p,compactSize:(g=n.size)!==null&&g!==void 0?g:"middle",compactDirection:n.direction,isFirstItem:f===0&&(m||(s==null?void 0:s.isFirstItem)),isLastItem:f===d.length-1&&(m||(s==null?void 0:s.isLastItem))},{default:()=>[h]})})]))}}});const jWe=n=>({animationDuration:n,animationFillMode:"both"}),qWe=n=>({animationDuration:n,animationFillMode:"both"}),_V=function(n,e,t,i){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${n}-enter,
      ${o}${n}-appear
    `]:A(A({},jWe(i)),{animationPlayState:"paused"}),[`${o}${n}-leave`]:A(A({},qWe(i)),{animationPlayState:"paused"}),[`
      ${o}${n}-enter${n}-enter-active,
      ${o}${n}-appear${n}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${n}-leave${n}-leave-active`]:{animationName:t,animationPlayState:"running",pointerEvents:"none"}}},YWe=new _n("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),XWe=new _n("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ZWe=new _n("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),QWe=new _n("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),JWe=new _n("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),eze=new _n("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),tze=new _n("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nze=new _n("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),ize={"move-up":{inKeyframes:tze,outKeyframes:nze},"move-down":{inKeyframes:YWe,outKeyframes:XWe},"move-left":{inKeyframes:ZWe,outKeyframes:QWe},"move-right":{inKeyframes:JWe,outKeyframes:eze}},oI=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=ize[e];return[_V(i,r,o,n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:n.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},bV=new _n("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),SV=new _n("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),wV=new _n("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),CV=new _n("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),rze=new _n("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),oze=new _n("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),sze=new _n("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),aze=new _n("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),lze={"slide-up":{inKeyframes:bV,outKeyframes:SV},"slide-down":{inKeyframes:wV,outKeyframes:CV},"slide-left":{inKeyframes:rze,outKeyframes:oze},"slide-right":{inKeyframes:sze,outKeyframes:aze}},gh=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=lze[e];return[_V(i,r,o,n.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:n.motionEaseOutQuint},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInQuint}}]},uze=new _n("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),cze=new _n("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),BG=new _n("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),FG=new _n("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),dze=new _n("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),hze=new _n("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),fze=new _n("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),gze=new _n("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),pze=new _n("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),mze=new _n("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),vze=new _n("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),yze=new _n("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),_ze={zoom:{inKeyframes:uze,outKeyframes:cze},"zoom-big":{inKeyframes:BG,outKeyframes:FG},"zoom-big-fast":{inKeyframes:BG,outKeyframes:FG},"zoom-left":{inKeyframes:fze,outKeyframes:gze},"zoom-right":{inKeyframes:pze,outKeyframes:mze},"zoom-up":{inKeyframes:dze,outKeyframes:hze},"zoom-down":{inKeyframes:vze,outKeyframes:yze}},xV=(n,e)=>{const{antCls:t}=n,i=`${t}-${e}`,{inKeyframes:r,outKeyframes:o}=_ze[e];return[_V(i,r,o,e==="zoom-big-fast"?n.motionDurationFast:n.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:n.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:n.motionEaseInOutCirc}}]},bze=n=>({[n.componentCls]:{[`${n.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}},[`${n.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${n.motionDurationMid} ${n.motionEaseInOut},
        opacity ${n.motionDurationMid} ${n.motionEaseInOut} !important`}}}),Zae=bze,$G=n=>{const{controlPaddingHorizontal:e}=n;return{position:"relative",display:"block",minHeight:n.controlHeight,padding:`${(n.controlHeight-n.fontSize*n.lineHeight)/2}px ${e}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,boxSizing:"border-box"}},Sze=n=>{const{antCls:e,componentCls:t}=n,i=`${t}-item`;return[{[`${t}-dropdown`]:A(A({},wi(n)),{position:"absolute",top:-9999,zIndex:n.zIndexPopup,boxSizing:"border-box",padding:n.paddingXXS,overflow:"hidden",fontSize:n.fontSize,fontVariant:"initial",backgroundColor:n.colorBgElevated,borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${t}-dropdown-placement-bottomLeft
          `]:{animationName:bV},[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${t}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${t}-dropdown-placement-topLeft
          `]:{animationName:wV},[`&${e}-slide-up-leave${e}-slide-up-leave-active${t}-dropdown-placement-bottomLeft`]:{animationName:SV},[`&${e}-slide-up-leave${e}-slide-up-leave-active${t}-dropdown-placement-topLeft`]:{animationName:CV},"&-hidden":{display:"none"},"&-empty":{color:n.colorTextDisabled},[`${i}-empty`]:A(A({},$G(n)),{color:n.colorTextDisabled}),[`${i}`]:A(A({},$G(n)),{cursor:"pointer",transition:`background ${n.motionDurationSlow} ease`,borderRadius:n.borderRadiusSM,"&-group":{color:n.colorTextDescription,fontSize:n.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":A({flex:"auto"},hh),"&-state":{flex:"none"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:n.controlItemBgHover},[`&-selected:not(${i}-option-disabled)`]:{color:n.colorText,fontWeight:n.fontWeightStrong,backgroundColor:n.controlItemBgActive,[`${i}-option-state`]:{color:n.colorPrimary}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:n.colorBgContainerDisabled},color:n.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:n.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},gh(n,"slide-up"),gh(n,"slide-down"),oI(n,"move-up"),oI(n,"move-down")]},wze=Sze,jp=2;function Qae(n){let{controlHeightSM:e,controlHeight:t,lineWidth:i}=n;const r=(t-e)/2-i,o=Math.ceil(r/2);return[r,o]}function H2(n,e){const{componentCls:t,iconCls:i}=n,r=`${t}-selection-overflow`,o=n.controlHeightSM,[s]=Qae(n),a=e?`${t}-${e}`:"";return{[`${t}-multiple${a}`]:{fontSize:n.fontSize,[r]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${t}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${s-jp}px ${jp*2}px`,borderRadius:n.borderRadius,[`${t}-show-search&`]:{cursor:"text"},[`${t}-disabled&`]:{background:n.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${jp}px 0`,lineHeight:`${o}px`,content:'"\\a0"'}},[`
        &${t}-show-arrow ${t}-selector,
        &${t}-allow-clear ${t}-selector
      `]:{paddingInlineEnd:n.fontSizeIcon+n.controlPaddingHorizontal},[`${t}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:jp,marginBottom:jp,lineHeight:`${o-n.lineWidth*2}px`,background:n.colorFillSecondary,border:`${n.lineWidth}px solid ${n.colorSplit}`,borderRadius:n.borderRadiusSM,cursor:"default",transition:`font-size ${n.motionDurationSlow}, line-height ${n.motionDurationSlow}, height ${n.motionDurationSlow}`,userSelect:"none",marginInlineEnd:jp*2,paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS/2,[`${t}-disabled&`]:{color:n.colorTextDisabled,borderColor:n.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:n.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":A(A({},W3()),{display:"inline-block",color:n.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${i}`]:{verticalAlign:"-0.2em"},"&:hover":{color:n.colorIconHover}})},[`${r}-item + ${r}-item`]:{[`${t}-selection-search`]:{marginInlineStart:0}},[`${t}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:n.inputPaddingHorizontalBase-s,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:n.fontFamily,lineHeight:`${o}px`,transition:`all ${n.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${t}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:n.inputPaddingHorizontalBase,insetInlineEnd:n.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${n.motionDurationSlow}`}}}}function Cze(n){const{componentCls:e}=n,t=Ln(n,{controlHeight:n.controlHeightSM,controlHeightSM:n.controlHeightXS,borderRadius:n.borderRadiusSM,borderRadiusSM:n.borderRadiusXS}),[,i]=Qae(n);return[H2(n),H2(t,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInlineStart:n.controlPaddingHorizontalSM-n.lineWidth,insetInlineEnd:"auto"},[`${e}-selection-search`]:{marginInlineStart:i}}},H2(Ln(n,{fontSize:n.fontSizeLG,controlHeight:n.controlHeightLG,controlHeightSM:n.controlHeight,borderRadius:n.borderRadiusLG,borderRadiusSM:n.borderRadius}),"lg")]}function U2(n,e){const{componentCls:t,inputPaddingHorizontalBase:i,borderRadius:r}=n,o=n.controlHeight-n.lineWidth*2,s=Math.ceil(n.fontSize*1.25),a=e?`${t}-${e}`:"";return{[`${t}-single${a}`]:{fontSize:n.fontSize,[`${t}-selector`]:A(A({},wi(n)),{display:"flex",borderRadius:r,[`${t}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:i,bottom:0,"&-input":{width:"100%"}},[`
          ${t}-selection-item,
          ${t}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${n.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${t}-selection-item`]:{position:"relative",userSelect:"none"},[`${t}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${t}-selection-item:after`,`${t}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${t}-show-arrow ${t}-selection-item,
        &${t}-show-arrow ${t}-selection-placeholder
      `]:{paddingInlineEnd:s},[`&${t}-open ${t}-selection-item`]:{color:n.colorTextPlaceholder},[`&:not(${t}-customize-input)`]:{[`${t}-selector`]:{width:"100%",height:n.controlHeight,padding:`0 ${i}px`,[`${t}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${t}-customize-input`]:{[`${t}-selector`]:{"&:after":{display:"none"},[`${t}-selection-search`]:{position:"static",width:"100%"},[`${t}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${i}px`,"&:after":{display:"none"}}}}}}}function xze(n){const{componentCls:e}=n,t=n.controlPaddingHorizontalSM-n.lineWidth;return[U2(n),U2(Ln(n,{controlHeight:n.controlHeightSM,borderRadius:n.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:t,insetInlineEnd:t},[`${e}-selector`]:{padding:`0 ${t}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t+n.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:n.fontSize*1.5}}}},U2(Ln(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG}),"lg")]}function Lze(n,e,t){const{focusElCls:i,focus:r,borderElCls:o}=t,s=o?"> *":"",a=["hover",r?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-n.lineWidth},"&-item":A(A({[a]:{zIndex:2}},i?{[`&${i}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function Tze(n,e,t){const{borderElCls:i}=t,r=i?`> ${i}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${r}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${r}, &${n}-sm ${r}, &${n}-lg ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function LV(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:t}=n,i=`${t}-compact`;return{[i]:A(A({},Lze(n,i,e)),Tze(t,i,e))}}const Ize=n=>{const{componentCls:e}=n;return{position:"relative",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${e}-disabled&`]:{color:n.colorTextDisabled,background:n.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:n.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},G2=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:i,borderHoverColor:r,outlineColor:o,antCls:s}=e,a=t?{[`${i}-selector`]:{borderColor:r}}:{};return{[n]:{[`&:not(${i}-disabled):not(${i}-customize-input):not(${s}-pagination-size-changer)`]:A(A({},a),{[`${i}-focused& ${i}-selector`]:{borderColor:r,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${e.controlLineWidth}px !important`,outline:0},[`&:hover ${i}-selector`]:{borderColor:r,borderInlineEndWidth:`${e.controlLineWidth}px !important`}})}}},Dze=n=>{const{componentCls:e}=n;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Eze=n=>{const{componentCls:e,inputPaddingHorizontalBase:t,iconCls:i}=n;return{[e]:A(A({},wi(n)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${e}-customize-input) ${e}-selector`]:A(A({},Ize(n)),Dze(n)),[`${e}-selection-item`]:A({flex:1,fontWeight:"normal"},hh),[`${e}-selection-placeholder`]:A(A({},hh),{flex:1,color:n.colorTextPlaceholder,pointerEvents:"none"}),[`${e}-arrow`]:A(A({},W3()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:t,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[i]:{verticalAlign:"top",transition:`transform ${n.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${e}-suffix)`]:{pointerEvents:"auto"}},[`${e}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:t,zIndex:1,display:"inline-block",width:n.fontSizeIcon,height:n.fontSizeIcon,marginTop:-n.fontSizeIcon/2,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:n.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${n.motionDurationMid} ease, opacity ${n.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:n.colorTextTertiary}},"&:hover":{[`${e}-clear`]:{opacity:1}}}),[`${e}-has-feedback`]:{[`${e}-clear`]:{insetInlineEnd:t+n.fontSize+n.paddingXXS}}}},Mze=n=>{const{componentCls:e}=n;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},Eze(n),xze(n),Cze(n),wze(n),{[`${e}-rtl`]:{direction:"rtl"}},G2(e,Ln(n,{borderHoverColor:n.colorPrimaryHover,outlineColor:n.controlOutline})),G2(`${e}-status-error`,Ln(n,{borderHoverColor:n.colorErrorHover,outlineColor:n.colorErrorOutline}),!0),G2(`${e}-status-warning`,Ln(n,{borderHoverColor:n.colorWarningHover,outlineColor:n.colorWarningOutline}),!0),LV(n,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Aze=ki("Select",(n,e)=>{let{rootPrefixCls:t}=e;const i=Ln(n,{rootPrefixCls:t,inputPaddingHorizontalBase:n.paddingSM-1});return[Mze(i)]},n=>({zIndexPopup:n.zIndexPopupBase+50})),TV=()=>A(A({},jn(Wae(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:Ki([Array,Object,String,Number]),defaultValue:Ki([Array,Object,String,Number]),notFoundContent:ge.any,suffixIcon:ge.any,itemIcon:ge.any,size:ui(),mode:ui(),bordered:_t(!0),transitionName:String,choiceTransitionName:ui(""),popupClassName:String,dropdownClassName:String,placement:ui(),status:ui(),"onUpdate:value":vt()}),VG="SECRET_COMBOBOX_MODE_DO_NOT_USE",Pl=Ie({compatConfig:{MODE:3},name:"ASelect",Option:D3e,OptGroup:E3e,inheritAttrs:!1,props:rr(TV(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:VG,slots:Object,setup(n,e){let{attrs:t,emit:i,slots:r,expose:o}=e;const s=ke(),a=Cp(),l=Dc.useInject(),u=V(()=>RE(l.status,n.status)),c=()=>{var z;(z=s.value)===null||z===void 0||z.focus()},d=()=>{var z;(z=s.value)===null||z===void 0||z.blur()},h=z=>{var Z;(Z=s.value)===null||Z===void 0||Z.scrollTo(z)},f=V(()=>{const{mode:z}=n;if(z!=="combobox")return z===VG?"combobox":z}),{prefixCls:g,direction:p,configProvider:m,renderEmpty:v,size:y,getPrefixCls:_,getPopupContainer:b,disabled:S,select:w}=Wt("select",n),{compactSize:C,compactItemClassnames:x}=yV(g,p),L=V(()=>C.value||y.value),T=Gg(),I=V(()=>{var z;return(z=S.value)!==null&&z!==void 0?z:T.value}),[D,M]=Aze(g),P=V(()=>_()),k=V(()=>n.placement!==void 0?n.placement:p.value==="rtl"?"bottomRight":"bottomLeft"),O=V(()=>wae(P.value,QFe(k.value),n.transitionName)),F=V(()=>Ee({[`${g.value}-lg`]:L.value==="large",[`${g.value}-sm`]:L.value==="small",[`${g.value}-rtl`]:p.value==="rtl",[`${g.value}-borderless`]:!n.bordered,[`${g.value}-in-form-item`]:l.isFormItemInput},pv(g.value,u.value,l.hasFeedback),x.value,M.value)),R=function(){for(var z=arguments.length,Z=new Array(z),X=0;X<z;X++)Z[X]=arguments[X];i("update:value",Z[0]),i("change",...Z),a.onFieldChange()},$=z=>{i("blur",z),a.onFieldBlur()};o({blur:d,focus:c,scrollTo:h});const H=V(()=>f.value==="multiple"||f.value==="tags"),U=V(()=>n.showArrow!==void 0?n.showArrow:n.loading||!(H.value||f.value==="combobox"));return()=>{var z,Z,X,ce;const{notFoundContent:q,listHeight:j=256,listItemHeight:ie=24,popupClassName:Q,dropdownClassName:le,virtual:ue,dropdownMatchSelectWidth:W,id:G=a.id.value,placeholder:K=(z=r.placeholder)===null||z===void 0?void 0:z.call(r),showArrow:de}=n,{hasFeedback:Y,feedbackIcon:oe}=l;let te;q!==void 0?te=q:r.notFoundContent?te=r.notFoundContent():f.value==="combobox"?te=null:te=(v==null?void 0:v("Select"))||N(zse,{componentName:"Select"},null);const{suffixIcon:J,itemIcon:he,removeIcon:pe,clearIcon:Ce}=bVe(A(A({},n),{multiple:H.value,prefixCls:g.value,hasFeedback:Y,feedbackIcon:oe,showArrow:U.value}),r),Ae=jn(n,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),Oe=Ee(Q||le,{[`${g.value}-dropdown-${p.value}`]:p.value==="rtl"},M.value);return D(N(I3e,se(se(se({ref:s,virtual:ue,dropdownMatchSelectWidth:W},Ae),t),{},{showSearch:(Z=n.showSearch)!==null&&Z!==void 0?Z:(X=w==null?void 0:w.value)===null||X===void 0?void 0:X.showSearch,placeholder:K,listHeight:j,listItemHeight:ie,mode:f.value,prefixCls:g.value,direction:p.value,inputIcon:J,menuItemSelectedIcon:he,removeIcon:pe,clearIcon:Ce,notFoundContent:te,class:[F.value,t.class],getPopupContainer:b==null?void 0:b.value,dropdownClassName:Oe,onChange:R,onBlur:$,id:G,dropdownRender:Ae.dropdownRender||r.dropdownRender,transitionName:O.value,children:(ce=r.default)===null||ce===void 0?void 0:ce.call(r),tagRender:n.tagRender||r.tagRender,optionLabelRender:r.optionLabel,maxTagPlaceholder:n.maxTagPlaceholder||r.maxTagPlaceholder,showArrow:Y||de,disabled:I.value}),{option:r.option}))}}});Pl.install=function(n){return n.component(Pl.name,Pl),n.component(Pl.Option.displayName,Pl.Option),n.component(Pl.OptGroup.displayName,Pl.OptGroup),n};const Nze=Pl.Option;Pl.OptGroup;const _S=Pl,tC=["xxxl","xxl","xl","lg","md","sm","xs"],kze=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`,xxxl:`{min-width: ${n.screenXXXL}px}`});function Jae(){const[,n]=yw();return V(()=>{const e=kze(n.value),t=new Map;let i=-1,r={};return{matchHandlers:{},dispatch(o){return r=o,t.forEach(s=>s(r)),t.size>=1},subscribe(o){return t.size||this.register(),i+=1,t.set(i,o),o(r),i},unsubscribe(o){t.delete(o),t.size||this.unregister()},unregister(){Object.keys(e).forEach(o=>{const s=e[o],a=this.matchHandlers[s];a==null||a.mql.removeListener(a==null?void 0:a.listener)}),t.clear()},register(){Object.keys(e).forEach(o=>{const s=e[o],a=u=>{let{matches:c}=u;this.dispatch(A(A({},r),{[o]:c}))},l=window.matchMedia(s);l.addListener(a),this.matchHandlers[s]={mql:l,listener:a},a(l)})},responsiveMap:e}})}function ele(){const n=ye({});let e=null;const t=Jae();return Vt(()=>{e=t.value.subscribe(i=>{n.value=i})}),$c(()=>{t.value.unsubscribe(e)}),n}function wa(n){const e=ye();return Ut(()=>{e.value=n()},{flush:"sync"}),e}const Ns={adjustX:1,adjustY:1},ks=[0,0],tle={left:{points:["cr","cl"],overflow:Ns,offset:[-4,0],targetOffset:ks},right:{points:["cl","cr"],overflow:Ns,offset:[4,0],targetOffset:ks},top:{points:["bc","tc"],overflow:Ns,offset:[0,-4],targetOffset:ks},bottom:{points:["tc","bc"],overflow:Ns,offset:[0,4],targetOffset:ks},topLeft:{points:["bl","tl"],overflow:Ns,offset:[0,-4],targetOffset:ks},leftTop:{points:["tr","tl"],overflow:Ns,offset:[-4,0],targetOffset:ks},topRight:{points:["br","tr"],overflow:Ns,offset:[0,-4],targetOffset:ks},rightTop:{points:["tl","tr"],overflow:Ns,offset:[4,0],targetOffset:ks},bottomRight:{points:["tr","br"],overflow:Ns,offset:[0,4],targetOffset:ks},rightBottom:{points:["bl","br"],overflow:Ns,offset:[4,0],targetOffset:ks},bottomLeft:{points:["tl","bl"],overflow:Ns,offset:[0,4],targetOffset:ks},leftBottom:{points:["br","bl"],overflow:Ns,offset:[-4,0],targetOffset:ks}},Pze={prefixCls:String,id:String,overlayInnerStyle:ge.any},Oze=Ie({compatConfig:{MODE:3},name:"Content",props:Pze,setup(n,e){let{slots:t}=e;return()=>{var i;return N("div",{class:`${n.prefixCls}-inner`,id:n.id,role:"tooltip",style:n.overlayInnerStyle},[(i=t.overlay)===null||i===void 0?void 0:i.call(t)])}}});var Rze=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function WG(){}const Bze=Ie({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:ge.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:ge.string.def("right"),transitionName:String,animation:ge.any,afterVisibleChange:ge.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:ge.string.def("rc-tooltip"),mouseEnterDelay:ge.number.def(.1),mouseLeaveDelay:ge.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:ge.object.def(()=>({})),arrowContent:ge.any.def(null),tipId:String,builtinPlacements:ge.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},setup(n,e){let{slots:t,attrs:i,expose:r}=e;const o=ye(),s=()=>{const{prefixCls:c,tipId:d,overlayInnerStyle:h}=n;return[N("div",{class:`${c}-arrow`,key:"arrow"},[pg(t,n,"arrowContent")]),N(Oze,{key:"content",prefixCls:c,id:d,overlayInnerStyle:h},{overlay:t.overlay})]};r({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var c;return(c=o.value)===null||c===void 0?void 0:c.forcePopupAlign()}});const l=ye(!1),u=ye(!1);return Ut(()=>{const{destroyTooltipOnHide:c}=n;if(typeof c=="boolean")l.value=c;else if(c&&typeof c=="object"){const{keepParent:d}=c;l.value=d===!0,u.value=d===!1}}),()=>{const{overlayClassName:c,trigger:d,mouseEnterDelay:h,mouseLeaveDelay:f,overlayStyle:g,prefixCls:p,afterVisibleChange:m,transitionName:v,animation:y,placement:_,align:b,destroyTooltipOnHide:S,defaultVisible:w}=n,C=Rze(n,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),x=A({},C);n.visible!==void 0&&(x.popupVisible=n.visible);const L=A(A(A({popupClassName:c,prefixCls:p,action:d,builtinPlacements:tle,popupPlacement:_,popupAlign:b,afterPopupVisibleChange:m,popupTransitionName:v,popupAnimation:y,defaultPopupVisible:w,destroyPopupOnHide:l.value,autoDestroy:u.value,mouseLeaveDelay:f,popupStyle:g,mouseEnterDelay:h},x),i),{onPopupVisibleChange:n.onVisibleChange||WG,onPopupAlign:n.onPopupAlign||WG,ref:o,popup:s()});return N(NE,L,{default:t.default})}}}),Fze=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:ci(),overlayInnerStyle:ci(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:ci(),builtinPlacements:ci(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),$ze={adjustX:1,adjustY:1},zG={adjustX:0,adjustY:0},Vze=[0,0];function HG(n){return typeof n=="boolean"?n?$ze:zG:A(A({},zG),n)}function nle(n){const{arrowWidth:e=4,horizontalArrowShift:t=16,verticalArrowShift:i=8,autoAdjustOverflow:r,arrowPointAtCenter:o}=n,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(t+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+e)]},topRight:{points:["br","tc"],offset:[t+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+e)]},bottomRight:{points:["tr","bc"],offset:[t+e,4]},rightBottom:{points:["bl","cr"],offset:[4,i+e]},bottomLeft:{points:["tl","bc"],offset:[-(t+e),4]},leftBottom:{points:["br","cl"],offset:[-4,i+e]}};return Object.keys(s).forEach(a=>{s[a]=o?A(A({},s[a]),{overflow:HG(r),targetOffset:Vze}):A(A({},tle[a]),{overflow:HG(r)}),s[a].ignoreShake=!0}),s}function r5(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,t=n.length;e<t;e++)if(n[e]!==void 0)return n[e]}const Wze=ZT.map(n=>`${n}-inverse`),zze=["success","processing","error","default","warning"];function ile(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...Wze,...ZT].includes(n):ZT.includes(n)}function Hze(n){return zze.includes(n)}function Uze(n,e){const t=ile(e),i=Ee({[`${n}-${e}`]:e&&t}),r={},o={};return e&&!t&&(r.background=e,o["--antd-arrow-background-color"]=e),{className:i,overlayStyle:r,arrowStyle:o}}function nC(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.map(t=>`${e}${t}`).join(",")}const rle=8;function ole(n){const e=rle,{sizePopupArrow:t,contentRadius:i,borderRadiusOuter:r,limitVerticalRadius:o}=n,s=t/2-Math.ceil(r*(Math.sqrt(2)-1)),a=(i>12?i+2:12)-s,l=o?e-s:a;return{dropdownArrowOffset:a,dropdownArrowOffsetVertical:l}}function Gze(n,e){const{componentCls:t,sizePopupArrow:i,marginXXS:r,borderRadiusXS:o,borderRadiusOuter:s,boxShadowPopoverArrow:a}=n,{colorBg:l,showArrowCls:u,contentRadius:c=n.borderRadiusLG,limitVerticalRadius:d}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:f}=ole({sizePopupArrow:i,contentRadius:c,borderRadiusOuter:s,limitVerticalRadius:d}),g=i/2+r;return{[t]:{[`${t}-arrow`]:[A(A({position:"absolute",zIndex:1,display:"block"},Pse(i,o,s,l,a)),{"&:before":{background:l}})],[[`&-placement-top ${t}-arrow`,`&-placement-topLeft ${t}-arrow`,`&-placement-topRight ${t}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${t}-arrow`]:{left:{_skip_check_:!0,value:f}},[`&-placement-topRight ${t}-arrow`]:{right:{_skip_check_:!0,value:f}},[[`&-placement-bottom ${t}-arrow`,`&-placement-bottomLeft ${t}-arrow`,`&-placement-bottomRight ${t}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${t}-arrow`]:{left:{_skip_check_:!0,value:f}},[`&-placement-bottomRight ${t}-arrow`]:{right:{_skip_check_:!0,value:f}},[[`&-placement-left ${t}-arrow`,`&-placement-leftTop ${t}-arrow`,`&-placement-leftBottom ${t}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${t}-arrow`]:{top:h},[`&-placement-leftBottom ${t}-arrow`]:{bottom:h},[[`&-placement-right ${t}-arrow`,`&-placement-rightTop ${t}-arrow`,`&-placement-rightBottom ${t}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${t}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${t}-arrow`]:{top:h},[`&-placement-rightBottom ${t}-arrow`]:{bottom:h},[nC(["&-placement-topLeft","&-placement-top","&-placement-topRight"],u)]:{paddingBottom:g},[nC(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"],u)]:{paddingTop:g},[nC(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"],u)]:{paddingRight:{_skip_check_:!0,value:g}},[nC(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"],u)]:{paddingLeft:{_skip_check_:!0,value:g}}}}}const Kze=n=>{const{componentCls:e,tooltipMaxWidth:t,tooltipColor:i,tooltipBg:r,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:u,paddingXS:c,tooltipRadiusOuter:d}=n;return[{[e]:A(A(A(A({},wi(n)),{position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:t,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":r,[`${e}-inner`]:{minWidth:a,minHeight:a,padding:`${u/2}px ${c}px`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:r,borderRadius:o,boxShadow:l},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,rle)}},[`${e}-content`]:{position:"relative"}}),Ose(n,(h,f)=>{let{darkColor:g}=f;return{[`&${e}-${h}`]:{[`${e}-inner`]:{backgroundColor:g},[`${e}-arrow`]:{"--antd-arrow-background-color":g}}}})),{"&-rtl":{direction:"rtl"}})},Gze(Ln(n,{borderRadiusOuter:d}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},jze=(n,e)=>ki("Tooltip",i=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:r,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=i,l=Ln(i,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:r,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[Kze(l),xV(i,"zoom-big-fast")]},i=>{let{zIndexPopupBase:r,colorBgSpotlight:o}=i;return{zIndexPopup:r+70,colorBgDefault:o}})(n),qze=(n,e)=>{const t={},i=A({},n);return e.forEach(r=>{n&&r in n&&(t[r]=n[r],delete i[r])}),{picked:t,omitted:i}},Yze=()=>A(A({},Fze()),{title:ge.any}),Xze=Ie({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:rr(Yze(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(n,e){let{slots:t,emit:i,attrs:r,expose:o}=e;const{prefixCls:s,getPopupContainer:a,direction:l,rootPrefixCls:u}=Wt("tooltip",n),c=V(()=>{var T;return(T=n.open)!==null&&T!==void 0?T:n.visible}),d=ke(r5([n.open,n.visible])),h=ke();let f;Ve(c,T=>{Dt.cancel(f),f=Dt(()=>{d.value=!!T})});const g=()=>{var T;const I=(T=n.title)!==null&&T!==void 0?T:t.title;return!I&&I!==0},p=T=>{const I=g();c.value===void 0&&(d.value=I?!1:T),I||(i("update:visible",T),i("visibleChange",T),i("update:open",T),i("openChange",T))};o({getPopupDomNode:()=>h.value.getPopupDomNode(),open:d,forcePopupAlign:()=>{var T;return(T=h.value)===null||T===void 0?void 0:T.forcePopupAlign()}});const v=V(()=>{const{builtinPlacements:T,arrowPointAtCenter:I,autoAdjustOverflow:D}=n;return T||nle({arrowPointAtCenter:I,autoAdjustOverflow:D})}),y=T=>T||T==="",_=T=>{const I=T.type;if(typeof I=="object"&&T.props&&((I.__ANT_BUTTON===!0||I==="button")&&y(T.props.disabled)||I.__ANT_SWITCH===!0&&(y(T.props.disabled)||y(T.props.loading))||I.__ANT_RADIO===!0&&y(T.props.disabled))){const{picked:D,omitted:M}=qze(rOe(T),["position","left","right","top","bottom","float","display","zIndex"]),P=A(A({display:"inline-block"},D),{cursor:"not-allowed",lineHeight:1,width:T.props&&T.props.block?"100%":void 0}),k=A(A({},M),{pointerEvents:"none"}),O=Ci(T,{style:k},!0);return N("span",{style:P,class:`${s.value}-disabled-compatible-wrapper`},[O])}return T},b=()=>{var T,I;return(T=n.title)!==null&&T!==void 0?T:(I=t.title)===null||I===void 0?void 0:I.call(t)},S=(T,I)=>{const D=v.value,M=Object.keys(D).find(P=>{var k,O;return D[P].points[0]===((k=I.points)===null||k===void 0?void 0:k[0])&&D[P].points[1]===((O=I.points)===null||O===void 0?void 0:O[1])});if(M){const P=T.getBoundingClientRect(),k={top:"50%",left:"50%"};M.indexOf("top")>=0||M.indexOf("Bottom")>=0?k.top=`${P.height-I.offset[1]}px`:(M.indexOf("Top")>=0||M.indexOf("bottom")>=0)&&(k.top=`${-I.offset[1]}px`),M.indexOf("left")>=0||M.indexOf("Right")>=0?k.left=`${P.width-I.offset[0]}px`:(M.indexOf("right")>=0||M.indexOf("Left")>=0)&&(k.left=`${-I.offset[0]}px`),T.style.transformOrigin=`${k.left} ${k.top}`}},w=V(()=>Uze(s.value,n.color)),C=V(()=>r["data-popover-inject"]),[x,L]=jze(s,V(()=>!C.value));return()=>{var T,I;const{openClassName:D,overlayClassName:M,overlayStyle:P,overlayInnerStyle:k}=n;let O=(I=qo((T=t.default)===null||T===void 0?void 0:T.call(t)))!==null&&I!==void 0?I:null;O=O.length===1?O[0]:O;let F=d.value;if(c.value===void 0&&g()&&(F=!1),!O)return null;const R=_(Yo(O)&&!oOe(O)?O:N("span",null,[O])),$=Ee({[D||`${s.value}-open`]:!0,[R.props&&R.props.class]:R.props&&R.props.class}),H=Ee(M,{[`${s.value}-rtl`]:l.value==="rtl"},w.value.className,L.value),U=A(A({},w.value.overlayStyle),k),z=w.value.arrowStyle,Z=A(A(A({},r),n),{prefixCls:s.value,getPopupContainer:a==null?void 0:a.value,builtinPlacements:v.value,visible:F,ref:h,overlayClassName:H,overlayStyle:A(A({},z),P),overlayInnerStyle:U,onVisibleChange:p,onPopupAlign:S,transitionName:wae(u.value,"zoom-big-fast",n.transitionName)});return x(N(Bze,Z,{default:()=>[d.value?Ci(R,{class:$}):R],arrowContent:()=>N("span",{class:`${s.value}-arrow-content`},null),overlay:b}))}}}),nb=Ey(Xze),qp={adjustX:1,adjustY:1},Yp=[0,0],Zze={topLeft:{points:["bl","tl"],overflow:qp,offset:[0,-4],targetOffset:Yp},topCenter:{points:["bc","tc"],overflow:qp,offset:[0,-4],targetOffset:Yp},topRight:{points:["br","tr"],overflow:qp,offset:[0,-4],targetOffset:Yp},bottomLeft:{points:["tl","bl"],overflow:qp,offset:[0,4],targetOffset:Yp},bottomCenter:{points:["tc","bc"],overflow:qp,offset:[0,4],targetOffset:Yp},bottomRight:{points:["tr","br"],overflow:qp,offset:[0,4],targetOffset:Yp}},Qze=Zze;var Jze=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const sle=Ie({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:ge.string.def("rc-dropdown"),transitionName:String,overlayClassName:ge.string.def(""),openClassName:String,animation:ge.any,align:ge.object,overlayStyle:{type:Object,default:void 0},placement:ge.string.def("bottomLeft"),overlay:ge.any,trigger:ge.oneOfType([ge.string,ge.arrayOf(ge.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:ge.array,hideAction:ge.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:ge.number.def(.15),mouseLeaveDelay:ge.number.def(.1)},emits:["visibleChange","overlayClick"],setup(n,e){let{slots:t,emit:i,expose:r}=e;const o=ke(!!n.visible);Ve(()=>n.visible,f=>{f!==void 0&&(o.value=f)});const s=ke();r({triggerRef:s});const a=f=>{n.visible===void 0&&(o.value=!1),i("overlayClick",f)},l=f=>{n.visible===void 0&&(o.value=f),i("visibleChange",f)},u=()=>{var f;const g=(f=t.overlay)===null||f===void 0?void 0:f.call(t),p={prefixCls:`${n.prefixCls}-menu`,onClick:a};return N($t,{key:ise},[n.arrow&&N("div",{class:`${n.prefixCls}-arrow`},null),Ci(g,p,!1)])},c=V(()=>{const{minOverlayWidthMatchTrigger:f=!n.alignPoint}=n;return f}),d=()=>{var f;const g=(f=t.default)===null||f===void 0?void 0:f.call(t);return o.value&&g?Ci(g[0],{class:n.openClassName||`${n.prefixCls}-open`},!1):g},h=V(()=>!n.hideAction&&n.trigger.indexOf("contextmenu")!==-1?["click"]:n.hideAction);return()=>{const{prefixCls:f,arrow:g,showAction:p,overlayStyle:m,trigger:v,placement:y,align:_,getPopupContainer:b,transitionName:S,animation:w,overlayClassName:C}=n,x=Jze(n,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return N(NE,se(se({},x),{},{prefixCls:f,ref:s,popupClassName:Ee(C,{[`${f}-show-arrow`]:g}),popupStyle:m,builtinPlacements:Qze,action:v,showAction:p,hideAction:h.value||[],popupPlacement:y,popupAlign:_,popupTransitionName:S,popupAnimation:w,popupVisible:o.value,stretch:c.value?"minWidth":"",onPopupVisibleChange:l,getPopupContainer:b}),{popup:u,default:d})}}}),eHe=n=>{const{componentCls:e,colorPrimary:t}=n;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${t})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${n.motionEaseOutCirc}`,`opacity 2s ${n.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},tHe=ki("Wave",n=>[eHe(n)]);function nHe(n){const e=(n||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function K2(n){return n&&n!=="#fff"&&n!=="#ffffff"&&n!=="rgb(255, 255, 255)"&&n!=="rgba(255, 255, 255, 1)"&&nHe(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&n!=="transparent"}function iHe(n){const{borderTopColor:e,borderColor:t,backgroundColor:i}=getComputedStyle(n);return K2(e)?e:K2(t)?t:K2(i)?i:null}function j2(n){return Number.isNaN(n)?0:n}const rHe=Ie({props:{target:ci(),className:String},setup(n){const e=ye(null),[t,i]=An(null),[r,o]=An([]),[s,a]=An(0),[l,u]=An(0),[c,d]=An(0),[h,f]=An(0),[g,p]=An(!1);function m(){const{target:C}=n,x=getComputedStyle(C);i(iHe(C));const L=x.position==="static",{borderLeftWidth:T,borderTopWidth:I}=x;a(L?C.offsetLeft:j2(-parseFloat(T))),u(L?C.offsetTop:j2(-parseFloat(I))),d(C.offsetWidth),f(C.offsetHeight);const{borderTopLeftRadius:D,borderTopRightRadius:M,borderBottomLeftRadius:P,borderBottomRightRadius:k}=x;o([D,M,k,P].map(O=>j2(parseFloat(O))))}let v,y,_;const b=()=>{clearTimeout(_),Dt.cancel(y),v==null||v.disconnect()},S=()=>{var C;const x=(C=e.value)===null||C===void 0?void 0:C.parentElement;x&&(_te(null,x),x.parentElement&&x.parentElement.removeChild(x))};Vt(()=>{b(),_=setTimeout(()=>{S()},5e3);const{target:C}=n;C&&(y=Dt(()=>{m(),p(!0)}),typeof ResizeObserver<"u"&&(v=new ResizeObserver(m),v.observe(C)))}),fn(()=>{b()});const w=C=>{C.propertyName==="opacity"&&S()};return()=>{if(!g.value)return null;const C={left:`${s.value}px`,top:`${l.value}px`,width:`${c.value}px`,height:`${h.value}px`,borderRadius:r.value.map(x=>`${x}px`).join(" ")};return t&&(C["--wave-color"]=t.value),N(Vc,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[N("div",{ref:e,class:n.className,style:C,onTransitionend:w},null)]})}}});function oHe(n,e){const t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.top="0px",n==null||n.insertBefore(t,n==null?void 0:n.firstChild),_te(N(rHe,{target:n,className:e},null),t)}function sHe(n,e){function t(){const i=Ka(n);oHe(i,e.value)}return t}const ale=Ie({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(n,e){let{slots:t}=e;const i=Ts(),{prefixCls:r}=Wt("wave",n),[,o]=tHe(r),s=sHe(i,V(()=>Ee(r.value,o.value)));let a;const l=()=>{Ka(i).removeEventListener("click",a,!0)};return Vt(()=>{Ve(()=>n.disabled,()=>{l(),kn(()=>{const u=Ka(i);if(!u||u.nodeType!==1||n.disabled)return;const c=d=>{d.target.tagName==="INPUT"||!X3(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||s()};u.addEventListener("click",c,!0)})},{immediate:!0,flush:"post"})}),fn(()=>{l()}),()=>{var u;return(u=t.default)===null||u===void 0?void 0:u.call(t)[0]}}}),aHe=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:ge.any,href:String,target:String,title:String,onClick:Xv(),onMousedown:Xv()}),lle=aHe,UG=n=>{n&&(n.style.width="0px",n.style.opacity="0",n.style.transform="scale(0)")},GG=n=>{kn(()=>{n&&(n.style.width=`${n.scrollWidth}px`,n.style.opacity="1",n.style.transform="scale(1)")})},KG=n=>{n&&n.style&&(n.style.width=null,n.style.opacity=null,n.style.transform=null)},lHe=Ie({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(n){return()=>{const{existIcon:e,prefixCls:t,loading:i}=n;if(e)return N("span",{class:`${t}-loading-icon`},[N(iI,null,null)]);const r=!!i;return N(Vc,{name:`${t}-loading-icon-motion`,onBeforeEnter:UG,onEnter:GG,onAfterEnter:KG,onBeforeLeave:GG,onLeave:o=>{setTimeout(()=>{UG(o)})},onAfterLeave:KG},{default:()=>[r?N("span",{class:`${t}-loading-icon`},[N(iI,null,null)]):null]})}}}),jG=(n,e)=>({[`> span, > ${n}`]:{"&:not(:last-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${n}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),uHe=n=>{const{componentCls:e,fontSize:t,lineWidth:i,colorPrimaryHover:r,colorErrorHover:o}=n;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-i,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:t}},jG(`${e}-primary`,r),jG(`${e}-danger`,o)]}},cHe=uHe;function dHe(n,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-n.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function hHe(n,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${n}-sm, &${n}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function fHe(n){const e=`${n.componentCls}-compact-vertical`;return{[e]:A(A({},dHe(n,e)),hHe(n.componentCls,e))}}const gHe=n=>{const{componentCls:e,iconCls:t}=n;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,cursor:"pointer",transition:`all ${n.motionDurationMid} ${n.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:n.lineHeight,color:n.colorText,"> span":{display:"inline-block"},[`> ${t} + span, > span + ${t}`]:{marginInlineStart:n.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":A({},Jv(n)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:n.lineWidth,height:`calc(100% + ${n.lineWidth*2}px)`,backgroundColor:n.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-n.lineWidth,insetInlineStart:-n.lineWidth,display:"inline-block",width:`calc(100% + ${n.lineWidth*2}px)`,height:n.lineWidth,backgroundColor:n.colorPrimaryHover,content:'""'}}}}}}},Ec=(n,e)=>({"&:not(:disabled)":{"&:hover":n,"&:active":e}}),pHe=n=>({minWidth:n.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),mHe=n=>({borderRadius:n.controlHeight,paddingInlineStart:n.controlHeight/2,paddingInlineEnd:n.controlHeight/2}),o5=n=>({cursor:"not-allowed",borderColor:n.colorBorder,color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,boxShadow:"none"}),sI=(n,e,t,i,r,o,s)=>({[`&${n}-background-ghost`]:A(A({color:e||void 0,backgroundColor:"transparent",borderColor:t||void 0,boxShadow:"none"},Ec(A({backgroundColor:"transparent"},o),A({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:r||void 0}})}),IV=n=>({"&:disabled":A({},o5(n))}),ule=n=>A({},IV(n)),aI=n=>({"&:disabled":{cursor:"not-allowed",color:n.colorTextDisabled}}),cle=n=>A(A(A(A(A({},ule(n)),{backgroundColor:n.colorBgContainer,borderColor:n.colorBorder,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlTmpOutline}`}),Ec({color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),sI(n.componentCls,n.colorBgContainer,n.colorBgContainer,n.colorTextDisabled,n.colorBorder)),{[`&${n.componentCls}-dangerous`]:A(A(A({color:n.colorError,borderColor:n.colorError},Ec({color:n.colorErrorHover,borderColor:n.colorErrorBorderHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),sI(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder)),IV(n))}),vHe=n=>A(A(A(A(A({},ule(n)),{color:n.colorTextLightSolid,backgroundColor:n.colorPrimary,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.controlOutline}`}),Ec({color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryHover},{color:n.colorTextLightSolid,backgroundColor:n.colorPrimaryActive})),sI(n.componentCls,n.colorPrimary,n.colorPrimary,n.colorTextDisabled,n.colorBorder,{color:n.colorPrimaryHover,borderColor:n.colorPrimaryHover},{color:n.colorPrimaryActive,borderColor:n.colorPrimaryActive})),{[`&${n.componentCls}-dangerous`]:A(A(A({backgroundColor:n.colorError,boxShadow:`0 ${n.controlOutlineWidth}px 0 ${n.colorErrorOutline}`},Ec({backgroundColor:n.colorErrorHover},{backgroundColor:n.colorErrorActive})),sI(n.componentCls,n.colorError,n.colorError,n.colorTextDisabled,n.colorBorder,{color:n.colorErrorHover,borderColor:n.colorErrorHover},{color:n.colorErrorActive,borderColor:n.colorErrorActive})),IV(n))}),yHe=n=>A(A({},cle(n)),{borderStyle:"dashed"}),_He=n=>A(A(A({color:n.colorLink},Ec({color:n.colorLinkHover},{color:n.colorLinkActive})),aI(n)),{[`&${n.componentCls}-dangerous`]:A(A({color:n.colorError},Ec({color:n.colorErrorHover},{color:n.colorErrorActive})),aI(n))}),bHe=n=>A(A(A({},Ec({color:n.colorText,backgroundColor:n.colorBgTextHover},{color:n.colorText,backgroundColor:n.colorBgTextActive})),aI(n)),{[`&${n.componentCls}-dangerous`]:A(A({color:n.colorError},aI(n)),Ec({color:n.colorErrorHover,backgroundColor:n.colorErrorBg},{color:n.colorErrorHover,backgroundColor:n.colorErrorBg}))}),SHe=n=>A(A({},o5(n)),{[`&${n.componentCls}:hover`]:A({},o5(n))}),wHe=n=>{const{componentCls:e}=n;return{[`${e}-default`]:cle(n),[`${e}-primary`]:vHe(n),[`${e}-dashed`]:yHe(n),[`${e}-link`]:_He(n),[`${e}-text`]:bHe(n),[`${e}-disabled`]:SHe(n)}},DV=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:t,iconCls:i,controlHeight:r,fontSize:o,lineHeight:s,lineWidth:a,borderRadius:l,buttonPaddingHorizontal:u}=n,c=Math.max(0,(r-o*s)/2-a),d=u-a,h=`${t}-icon-only`;return[{[`${t}${e}`]:{fontSize:o,height:r,padding:`${c}px ${d}px`,borderRadius:l,[`&${h}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${t}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${t}-loading`]:{opacity:n.opacityLoading,cursor:"default"},[`${t}-loading-icon`]:{transition:`width ${n.motionDurationSlow} ${n.motionEaseInOut}, opacity ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`&:not(${h}) ${t}-loading-icon > ${i}`]:{marginInlineEnd:n.marginXS}}},{[`${t}${t}-circle${e}`]:pHe(n)},{[`${t}${t}-round${e}`]:mHe(n)}]},CHe=n=>DV(n),xHe=n=>{const e=Ln(n,{controlHeight:n.controlHeightSM,padding:n.paddingXS,buttonPaddingHorizontal:8,borderRadius:n.borderRadiusSM});return DV(e,`${n.componentCls}-sm`)},LHe=n=>{const e=Ln(n,{controlHeight:n.controlHeightLG,fontSize:n.fontSizeLG,borderRadius:n.borderRadiusLG});return DV(e,`${n.componentCls}-lg`)},THe=n=>{const{componentCls:e}=n;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},IHe=ki("Button",n=>{const{controlTmpOutline:e,paddingContentHorizontal:t}=n,i=Ln(n,{colorOutlineDefault:e,buttonPaddingHorizontal:t});return[gHe(i),xHe(i),CHe(i),LHe(i),THe(i),wHe(i),cHe(i),LV(n,{focus:!1}),fHe(n)]}),DHe=()=>({prefixCls:String,size:{type:String}}),dle=pV(),s5=Ie({compatConfig:{MODE:3},name:"AButtonGroup",props:DHe(),setup(n,e){let{slots:t}=e;const{prefixCls:i,direction:r}=Wt("btn-group",n),[,,o]=yw();dle.useProvide(pi({size:V(()=>n.size)}));const s=V(()=>{const{size:a}=n;let l="";switch(a){case"large":l="lg";break;case"small":l="sm";break;case"middle":case void 0:break;default:Vi(!a,"Button.Group","Invalid prop `size`.")}return{[`${i.value}`]:!0,[`${i.value}-${l}`]:l,[`${i.value}-rtl`]:r.value==="rtl",[o.value]:!0}});return()=>{var a;return N("div",{class:s.value},[Qi((a=t.default)===null||a===void 0?void 0:a.call(t))])}}}),qG=/^[\u4e00-\u9fa5]{2}$/,YG=qG.test.bind(qG);function iC(n){return n==="text"||n==="link"}const el=Ie({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:rr(lle(),{type:"default"}),slots:Object,setup(n,e){let{slots:t,attrs:i,emit:r,expose:o}=e;const{prefixCls:s,autoInsertSpaceInButton:a,direction:l,size:u}=Wt("btn",n),[c,d]=IHe(s),h=dle.useInject(),f=Gg(),g=V(()=>{var k;return(k=n.disabled)!==null&&k!==void 0?k:f.value}),p=ye(null),m=ye(void 0);let v=!1;const y=ye(!1),_=ye(!1),b=V(()=>a.value!==!1),{compactSize:S,compactItemClassnames:w}=yV(s,l),C=V(()=>typeof n.loading=="object"&&n.loading.delay?n.loading.delay||!0:!!n.loading);Ve(C,k=>{clearTimeout(m.value),typeof C.value=="number"?m.value=setTimeout(()=>{y.value=k},C.value):y.value=k},{immediate:!0});const x=V(()=>{const{type:k,shape:O="default",ghost:F,block:R,danger:$}=n,H=s.value,U={large:"lg",small:"sm",middle:void 0},z=S.value||(h==null?void 0:h.size)||u.value,Z=z&&U[z]||"";return[w.value,{[d.value]:!0,[`${H}`]:!0,[`${H}-${O}`]:O!=="default"&&O,[`${H}-${k}`]:k,[`${H}-${Z}`]:Z,[`${H}-loading`]:y.value,[`${H}-background-ghost`]:F&&!iC(k),[`${H}-two-chinese-chars`]:_.value&&b.value,[`${H}-block`]:R,[`${H}-dangerous`]:!!$,[`${H}-rtl`]:l.value==="rtl"}]}),L=()=>{const k=p.value;if(!k||a.value===!1)return;const O=k.textContent;v&&YG(O)?_.value||(_.value=!0):_.value&&(_.value=!1)},T=k=>{if(y.value||g.value){k.preventDefault();return}r("click",k)},I=k=>{r("mousedown",k)},D=(k,O)=>{const F=O?" ":"";if(k.type===rp){let R=k.children.trim();return YG(R)&&(R=R.split("").join(F)),N("span",null,[R])}return k};return Ut(()=>{Vi(!(n.ghost&&iC(n.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),Vt(L),vu(L),fn(()=>{m.value&&clearTimeout(m.value)}),o({focus:()=>{var k;(k=p.value)===null||k===void 0||k.focus()},blur:()=>{var k;(k=p.value)===null||k===void 0||k.blur()}}),()=>{var k,O;const{icon:F=(k=t.icon)===null||k===void 0?void 0:k.call(t)}=n,R=Qi((O=t.default)===null||O===void 0?void 0:O.call(t));v=R.length===1&&!F&&!iC(n.type);const{type:$,htmlType:H,href:U,title:z,target:Z}=n,X=y.value?"loading":F,ce=A(A({},i),{title:z,disabled:g.value,class:[x.value,i.class,{[`${s.value}-icon-only`]:R.length===0&&!!X}],onClick:T,onMousedown:I});g.value||delete ce.disabled;const q=F&&!y.value?F:N(lHe,{existIcon:!!F,prefixCls:s.value,loading:!!y.value},null),j=R.map(Q=>D(Q,v&&b.value));if(U!==void 0)return c(N("a",se(se({},ce),{},{href:U,target:Z,ref:p}),[q,j]));let ie=N("button",se(se({},ce),{},{ref:p,type:H}),[q,j]);if(!iC($)){const Q=function(){return ie}();ie=N(ale,{ref:"wave",disabled:!!y.value},{default:()=>[Q]})}return c(ie)}}});el.Group=s5;el.install=function(n){return n.component(el.name,el),n.component(s5.name,s5),n};const hle=()=>({arrow:Ki([Boolean,Object]),trigger:{type:[Array,String]},menu:ci(),overlay:ge.any,visible:_t(),open:_t(),disabled:_t(),danger:_t(),autofocus:_t(),align:ci(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:ci(),forceRender:_t(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:_t(),destroyPopupOnHide:_t(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),q2=lle(),EHe=()=>A(A({},hle()),{type:q2.type,size:String,htmlType:q2.htmlType,href:String,disabled:_t(),prefixCls:String,icon:ge.any,title:String,loading:q2.loading,onClick:Xv()});var MHe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const AHe=MHe;function XG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){NHe(n,r,t[r])})}return n}function NHe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var EV=function(e,t){var i=XG({},e,t.attrs);return N(ri,XG({},i,{icon:AHe}),null)};EV.displayName="EllipsisOutlined";EV.inheritAttrs=!1;const MV=EV,kHe=n=>{const{componentCls:e,antCls:t,paddingXS:i,opacityLoading:r}=n;return{[`${e}-button`]:{whiteSpace:"nowrap",[`&${t}-btn-group > ${t}-btn`]:{[`&-loading, &-loading + ${t}-btn`]:{cursor:"default",pointerEvents:"none",opacity:r},[`&:last-child:not(:first-child):not(${t}-btn-icon-only)`]:{paddingInline:i}}}}},PHe=kHe,OHe=n=>{const{componentCls:e,menuCls:t,colorError:i,colorTextLightSolid:r}=n,o=`${t}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${t} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:i,"&:hover":{color:r,backgroundColor:i}}}}}},RHe=OHe,BHe=n=>{const{componentCls:e,menuCls:t,zIndexPopup:i,dropdownArrowDistance:r,dropdownArrowOffset:o,sizePopupArrow:s,antCls:a,iconCls:l,motionDurationMid:u,dropdownPaddingVertical:c,fontSize:d,dropdownEdgeChildPadding:h,colorTextDisabled:f,fontSizeIcon:g,controlPaddingHorizontal:p,colorBgElevated:m,boxShadowPopoverArrow:v}=n;return[{[e]:A(A({},wi(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:-r+s/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${e}-wrap`]:{position:"relative",[`${a}-btn > ${l}-down`]:{fontSize:g},[`${l}-down::before`]:{transition:`transform ${u}`}},[`${e}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${e}-placement-topLeft,
        &-show-arrow${e}-placement-top,
        &-show-arrow${e}-placement-topRight
      `]:{paddingBottom:r},[`
        &-show-arrow${e}-placement-bottomLeft,
        &-show-arrow${e}-placement-bottom,
        &-show-arrow${e}-placement-bottomRight
      `]:{paddingTop:r},[`${e}-arrow`]:A({position:"absolute",zIndex:1,display:"block"},Pse(s,n.borderRadiusXS,n.borderRadiusOuter,m,v)),[`
        &-placement-top > ${e}-arrow,
        &-placement-topLeft > ${e}-arrow,
        &-placement-topRight > ${e}-arrow
      `]:{bottom:r,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-topRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:o}},[`
          &-placement-bottom > ${e}-arrow,
          &-placement-bottomLeft > ${e}-arrow,
          &-placement-bottomRight > ${e}-arrow
        `]:{top:r,transform:"translateY(-100%)"},[`&-placement-bottom > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-bottomRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:o}},[`&${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottomLeft,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottomLeft,
          &${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottom,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottom,
          &${a}-slide-down-enter${a}-slide-down-enter-active${e}-placement-bottomRight,
          &${a}-slide-down-appear${a}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:bV},[`&${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-top,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-top,
          &${a}-slide-up-enter${a}-slide-up-enter-active${e}-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${e}-placement-topRight`]:{animationName:wV},[`&${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottomLeft,
          &${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottom,
          &${a}-slide-down-leave${a}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:SV},[`&${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-top,
          &${a}-slide-up-leave${a}-slide-up-leave-active${e}-placement-topRight`]:{animationName:CV}})},{[`${e} ${t}`]:{position:"relative",margin:0},[`${t}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${e}, ${e}-menu-submenu`]:{[t]:A(A({padding:h,listStyleType:"none",backgroundColor:m,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary},Jv(n)),{[`${t}-item-group-title`]:{padding:`${c}px ${p}px`,color:n.colorTextDescription,transition:`all ${u}`},[`${t}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:n.borderRadiusSM},[`${t}-item-icon`]:{minWidth:d,marginInlineEnd:n.marginXS,fontSize:n.fontSizeSM},[`${t}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${u}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${t}-item, ${t}-submenu-title`]:A(A({clear:"both",margin:0,padding:`${c}px ${p}px`,color:n.colorText,fontWeight:"normal",fontSize:d,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${u}`,"&:hover, &-active":{backgroundColor:n.controlItemBgHover}},Jv(n)),{"&-selected":{color:n.colorPrimary,backgroundColor:n.controlItemBgActive,"&:hover, &-active":{backgroundColor:n.controlItemBgActiveHover}},"&-disabled":{color:f,cursor:"not-allowed","&:hover":{color:f,backgroundColor:m,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${n.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:n.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:n.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:n.colorTextDescription,fontSize:g,fontStyle:"normal"}}}),[`${t}-item-group-list`]:{margin:`0 ${n.marginXS}px`,padding:0,listStyle:"none"},[`${t}-submenu-title`]:{paddingInlineEnd:p+n.fontSizeSM},[`${t}-submenu-vertical`]:{position:"relative"},[`${t}-submenu${t}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:f,backgroundColor:m,cursor:"not-allowed"}},[`${t}-submenu-selected ${e}-menu-submenu-title`]:{color:n.colorPrimary}})}},[gh(n,"slide-up"),gh(n,"slide-down"),oI(n,"move-up"),oI(n,"move-down"),xV(n,"zoom-big")]]},fle=ki("Dropdown",(n,e)=>{let{rootPrefixCls:t}=e;const{marginXXS:i,sizePopupArrow:r,controlHeight:o,fontSize:s,lineHeight:a,paddingXXS:l,componentCls:u,borderRadiusOuter:c,borderRadiusLG:d}=n,h=(o-s*a)/2,{dropdownArrowOffset:f}=ole({sizePopupArrow:r,contentRadius:d,borderRadiusOuter:c}),g=Ln(n,{menuCls:`${u}-menu`,rootPrefixCls:t,dropdownArrowDistance:r/2+i,dropdownArrowOffset:f,dropdownPaddingVertical:h,dropdownEdgeChildPadding:l});return[BHe(g),PHe(g),RHe(g)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));var FHe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const $He=el.Group,lI=Ie({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:rr(EHe(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(n,e){let{slots:t,attrs:i,emit:r}=e;const o=h=>{r("update:visible",h),r("visibleChange",h),r("update:open",h),r("openChange",h)},{prefixCls:s,direction:a,getPopupContainer:l}=Wt("dropdown",n),u=V(()=>`${s.value}-button`),[c,d]=fle(s);return()=>{var h,f;const g=A(A({},n),i),{type:p="default",disabled:m,danger:v,loading:y,htmlType:_,class:b="",overlay:S=(h=t.overlay)===null||h===void 0?void 0:h.call(t),trigger:w,align:C,open:x,visible:L,onVisibleChange:T,placement:I=a.value==="rtl"?"bottomLeft":"bottomRight",href:D,title:M,icon:P=((f=t.icon)===null||f===void 0?void 0:f.call(t))||N(MV,null,null),mouseEnterDelay:k,mouseLeaveDelay:O,overlayClassName:F,overlayStyle:R,destroyPopupOnHide:$,onClick:H,"onUpdate:open":U}=g,z=FHe(g,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),Z={align:C,disabled:m,trigger:m?[]:w,placement:I,getPopupContainer:l==null?void 0:l.value,onOpenChange:o,mouseEnterDelay:k,mouseLeaveDelay:O,open:x??L,overlayClassName:F,overlayStyle:R,destroyPopupOnHide:$},X=N(el,{danger:v,type:p,disabled:m,loading:y,onClick:H,htmlType:_,href:D,title:M},{default:t.default}),ce=N(el,{danger:v,type:p,icon:P},null);return c(N($He,se(se({},z),{},{class:Ee(u.value,b,d.value)}),{default:()=>[t.leftButton?t.leftButton({button:X}):X,N(vg,Z,{default:()=>[t.rightButton?t.rightButton({button:ce}):ce],overlay:()=>S})]}))}}});var VHe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const WHe=VHe;function ZG(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){zHe(n,r,t[r])})}return n}function zHe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var AV=function(e,t){var i=ZG({},e,t.attrs);return N(ri,ZG({},i,{icon:WHe}),null)};AV.displayName="RightOutlined";AV.inheritAttrs=!1;const uI=AV,gle=Symbol("OverrideContextKey"),ple=()=>kt(gle,void 0),mle=n=>{var e,t,i;const{prefixCls:r,mode:o,selectable:s,validator:a,onClick:l,expandIcon:u}=ple()||{};On(gle,{prefixCls:V(()=>{var c,d;return(d=(c=n.prefixCls)===null||c===void 0?void 0:c.value)!==null&&d!==void 0?d:r==null?void 0:r.value}),mode:V(()=>{var c,d;return(d=(c=n.mode)===null||c===void 0?void 0:c.value)!==null&&d!==void 0?d:o==null?void 0:o.value}),selectable:V(()=>{var c,d;return(d=(c=n.selectable)===null||c===void 0?void 0:c.value)!==null&&d!==void 0?d:s==null?void 0:s.value}),validator:(e=n.validator)!==null&&e!==void 0?e:a,onClick:(t=n.onClick)!==null&&t!==void 0?t:l,expandIcon:(i=n.expandIcon)!==null&&i!==void 0?i:u==null?void 0:u.value})},vle=Ie({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:rr(hle(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(n,e){let{slots:t,attrs:i,emit:r}=e;const{prefixCls:o,rootPrefixCls:s,direction:a,getPopupContainer:l}=Wt("dropdown",n),[u,c]=fle(o),d=V(()=>{const{placement:m="",transitionName:v}=n;return v!==void 0?v:m.includes("top")?`${s.value}-slide-down`:`${s.value}-slide-up`});mle({prefixCls:V(()=>`${o.value}-menu`),expandIcon:V(()=>N("span",{class:`${o.value}-menu-submenu-arrow`},[N(uI,{class:`${o.value}-menu-submenu-arrow-icon`},null)])),mode:V(()=>"vertical"),selectable:V(()=>!1),onClick:()=>{},validator:m=>{uu()}});const h=()=>{var m,v,y;const _=n.overlay||((m=t.overlay)===null||m===void 0?void 0:m.call(t)),b=Array.isArray(_)?_[0]:_;if(!b)return null;const S=b.props||{};Vi(!S.mode||S.mode==="vertical","Dropdown",`mode="${S.mode}" is not supported for Dropdown's Menu.`);const{selectable:w=!1,expandIcon:C=(y=(v=b.children)===null||v===void 0?void 0:v.expandIcon)===null||y===void 0?void 0:y.call(v)}=S,x=typeof C<"u"&&Yo(C)?C:N("span",{class:`${o.value}-menu-submenu-arrow`},[N(uI,{class:`${o.value}-menu-submenu-arrow-icon`},null)]);return Yo(b)?Ci(b,{mode:"vertical",selectable:w,expandIcon:()=>x}):b},f=V(()=>{const m=n.placement;if(!m)return a.value==="rtl"?"bottomRight":"bottomLeft";if(m.includes("Center")){const v=m.slice(0,m.indexOf("Center"));return Vi(!m.includes("Center"),"Dropdown",`You are using '${m}' placement in Dropdown, which is deprecated. Try to use '${v}' instead.`),v}return m}),g=V(()=>typeof n.visible=="boolean"?n.visible:n.open),p=m=>{r("update:visible",m),r("visibleChange",m),r("update:open",m),r("openChange",m)};return()=>{var m,v;const{arrow:y,trigger:_,disabled:b,overlayClassName:S}=n,w=(m=t.default)===null||m===void 0?void 0:m.call(t)[0],C=Ci(w,A({class:Ee((v=w==null?void 0:w.props)===null||v===void 0?void 0:v.class,{[`${o.value}-rtl`]:a.value==="rtl"},`${o.value}-trigger`)},b?{disabled:b}:{})),x=Ee(S,c.value,{[`${o.value}-rtl`]:a.value==="rtl"}),L=b?[]:_;let T;L&&L.includes("contextmenu")&&(T=!0);const I=nle({arrowPointAtCenter:typeof y=="object"&&y.pointAtCenter,autoAdjustOverflow:!0}),D=jn(A(A(A({},n),i),{visible:g.value,builtinPlacements:I,overlayClassName:x,arrow:!!y,alignPoint:T,prefixCls:o.value,getPopupContainer:l==null?void 0:l.value,transitionName:d.value,trigger:L,onVisibleChange:p,placement:f.value}),["overlay","onUpdate:visible"]);return u(N(sle,D,{default:()=>[C],overlay:h}))}}});vle.Button=lI;const vg=vle;function HHe(n,e,t,i){let r=t?t.call(i,n,e):void 0;if(r!==void 0)return!!r;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const o=Object.keys(n),s=Object.keys(e);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const u=o[l];if(!a(u))return!1;const c=n[u],d=e[u];if(r=t?t.call(i,c,d,u):void 0,r===!1||r===void 0&&c!==d)return!1}return!0}function S0(n,e){return HHe(Rt(n),Rt(e))}const yle=Symbol("menuContextKey"),_le=n=>{On(yle,n)},Gc=()=>kt(yle),ble=Symbol("ForceRenderKey"),UHe=n=>{On(ble,n)},Sle=()=>kt(ble,!1),wle=Symbol("menuFirstLevelContextKey"),Cle=n=>{On(wle,n)},GHe=()=>kt(wle,!0),cI=Ie({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(n,e){let{slots:t}=e;const i=Gc(),r=A({},i);return n.mode!==void 0&&(r.mode=Wn(n,"mode")),n.overflowDisabled!==void 0&&(r.overflowDisabled=Wn(n,"overflowDisabled")),_le(r),()=>{var o;return(o=t.default)===null||o===void 0?void 0:o.call(t)}}}),KHe=_le,jHe=Symbol("siderCollapsed"),rC="$$__vc-menu-more__key",xle=Symbol("KeyPathContext"),NV=()=>kt(xle,{parentEventKeys:V(()=>[]),parentKeys:V(()=>[]),parentInfo:{}}),qHe=(n,e,t)=>{const{parentEventKeys:i,parentKeys:r}=NV(),o=V(()=>[...i.value,n]),s=V(()=>[...r.value,e]);return On(xle,{parentEventKeys:o,parentKeys:s,parentInfo:t}),s},Lle=Symbol("measure"),QG=Ie({compatConfig:{MODE:3},setup(n,e){let{slots:t}=e;return On(Lle,!0),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}}),kV=()=>kt(Lle,!1),YHe=qHe;function Tle(n){const{mode:e,rtl:t,inlineIndent:i}=Gc();return V(()=>e.value!=="inline"?null:t.value?{paddingRight:`${n.value*i.value}px`}:{paddingLeft:`${n.value*i.value}px`})}let XHe=0;const ZHe=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:ge.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:ci()}),iy=Ie({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:ZHe(),slots:Object,setup(n,e){let{slots:t,emit:i,attrs:r}=e;const o=Ts(),s=kV(),a=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;Vi(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(a)}"\` not support Symbol type`);const l=`menu_item_${++XHe}_$$_${a}`,{parentEventKeys:u,parentKeys:c}=NV(),{prefixCls:d,activeKeys:h,disabled:f,changeActiveKeys:g,rtl:p,inlineCollapsed:m,siderCollapsed:v,onItemClick:y,selectedKeys:_,registerMenuInfo:b,unRegisterMenuInfo:S}=Gc(),w=GHe(),C=ye(!1),x=V(()=>[...c.value,a]);b(l,{eventKey:l,key:a,parentEventKeys:u,parentKeys:c,isLeaf:!0}),fn(()=>{S(l)}),Ve(h,()=>{C.value=!!h.value.find(U=>U===a)},{immediate:!0});const T=V(()=>f.value||n.disabled),I=V(()=>_.value.includes(a)),D=V(()=>{const U=`${d.value}-item`;return{[`${U}`]:!0,[`${U}-danger`]:n.danger,[`${U}-active`]:C.value,[`${U}-selected`]:I.value,[`${U}-disabled`]:T.value}}),M=U=>({key:a,eventKey:l,keyPath:x.value,eventKeyPath:[...u.value,l],domEvent:U,item:A(A({},n),r)}),P=U=>{if(T.value)return;const z=M(U);i("click",U),y(z)},k=U=>{T.value||(g(x.value),i("mouseenter",U))},O=U=>{T.value||(g([]),i("mouseleave",U))},F=U=>{if(i("keydown",U),U.which===ot.ENTER){const z=M(U);i("click",U),y(z)}},R=U=>{g(x.value),i("focus",U)},$=(U,z)=>{const Z=N("span",{class:`${d.value}-title-content`},[z]);return(!U||Yo(z)&&z.type==="span")&&z&&m.value&&w&&typeof z=="string"?N("div",{class:`${d.value}-inline-collapsed-noicon`},[z.charAt(0)]):Z},H=Tle(V(()=>x.value.length));return()=>{var U,z,Z,X,ce;if(s)return null;const q=(U=n.title)!==null&&U!==void 0?U:(z=t.title)===null||z===void 0?void 0:z.call(t),j=Qi((Z=t.default)===null||Z===void 0?void 0:Z.call(t)),ie=j.length;let Q=q;typeof q>"u"?Q=w&&ie?j:"":q===!1&&(Q="");const le={title:Q};!v.value&&!m.value&&(le.title=null,le.open=!1);const ue={};n.role==="option"&&(ue["aria-selected"]=I.value);const W=(X=n.icon)!==null&&X!==void 0?X:(ce=t.icon)===null||ce===void 0?void 0:ce.call(t,n);return N(nb,se(se({},le),{},{placement:p.value?"left":"right",overlayClassName:`${d.value}-inline-collapsed-tooltip`}),{default:()=>[N(gv.Item,se(se(se({component:"li"},r),{},{id:n.id,style:A(A({},r.style||{}),H.value),class:[D.value,{[`${r.class}`]:!!r.class,[`${d.value}-item-only-child`]:(W?ie+1:ie)===1}],role:n.role||"menuitem",tabindex:n.disabled?null:-1,"data-menu-id":a,"aria-disabled":n.disabled},ue),{},{onMouseenter:k,onMouseleave:O,onClick:P,onKeydown:F,onFocus:R,title:typeof q=="string"?q:void 0}),{default:()=>[Ci(typeof W=="function"?W(n.originItemValue):W,{class:`${d.value}-item-icon`},!1),$(W,j)]})]})}}}),kd={adjustX:1,adjustY:1},QHe={topLeft:{points:["bl","tl"],overflow:kd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:kd,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:kd,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:kd,offset:[4,0]}},JHe={topLeft:{points:["bl","tl"],overflow:kd,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:kd,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:kd,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:kd,offset:[4,0]}},e7e={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},JG=Ie({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(n,e){let{slots:t,emit:i}=e;const r=ye(!1),{getPopupContainer:o,rtl:s,subMenuOpenDelay:a,subMenuCloseDelay:l,builtinPlacements:u,triggerSubMenuAction:c,forceSubMenuRender:d,motion:h,defaultMotions:f,rootClassName:g}=Gc(),p=Sle(),m=V(()=>s.value?A(A({},JHe),u.value):A(A({},QHe),u.value)),v=V(()=>e7e[n.mode]),y=ye();Ve(()=>n.visible,S=>{Dt.cancel(y.value),y.value=Dt(()=>{r.value=S})},{immediate:!0}),fn(()=>{Dt.cancel(y.value)});const _=S=>{i("visibleChange",S)},b=V(()=>{var S,w;const C=h.value||((S=f.value)===null||S===void 0?void 0:S[n.mode])||((w=f.value)===null||w===void 0?void 0:w.other),x=typeof C=="function"?C():C;return x?Sae(x.name,{css:!0}):void 0});return()=>{const{prefixCls:S,popupClassName:w,mode:C,popupOffset:x,disabled:L}=n;return N(NE,{prefixCls:S,popupClassName:Ee(`${S}-popup`,{[`${S}-rtl`]:s.value},w,g.value),stretch:C==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:m.value,popupPlacement:v.value,popupVisible:r.value,popupAlign:x&&{offset:x},action:L?[]:[c.value],mouseEnterDelay:a.value,mouseLeaveDelay:l.value,onPopupVisibleChange:_,forceRender:p||d.value,popupAnimation:b.value},{popup:t.popup,default:t.default})}}}),Ile=(n,e)=>{let{slots:t,attrs:i}=e;var r;const{prefixCls:o,mode:s}=Gc();return N("ul",se(se({},i),{},{class:Ee(o.value,`${o.value}-sub`,`${o.value}-${s.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(r=t.default)===null||r===void 0?void 0:r.call(t)])};Ile.displayName="SubMenuList";const Dle=Ile,t7e=Ie({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(n,e){let{slots:t}=e;const i=V(()=>"inline"),{motion:r,mode:o,defaultMotions:s}=Gc(),a=V(()=>o.value===i.value),l=ke(!a.value),u=V(()=>a.value?n.open:!1);Ve(o,()=>{a.value&&(l.value=!1)},{flush:"post"});const c=V(()=>{var d,h;const f=r.value||((d=s.value)===null||d===void 0?void 0:d[i.value])||((h=s.value)===null||h===void 0?void 0:h.other),g=typeof f=="function"?f():f;return A(A({},g),{appear:n.keyPath.length<=1})});return()=>{var d;return l.value?null:N(cI,{mode:i.value},{default:()=>[N(Vc,c.value,{default:()=>[Bc(N(Dle,{id:n.id},{default:()=>[(d=t.default)===null||d===void 0?void 0:d.call(t)]}),[[zF,u.value]])]})]})}}});let eK=0;const n7e=()=>({icon:ge.any,title:ge.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:ci()}),ry=Ie({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:n7e(),slots:Object,setup(n,e){let{slots:t,attrs:i,emit:r}=e;var o,s;Cle(!1);const a=kV(),l=Ts(),u=typeof l.vnode.key=="symbol"?String(l.vnode.key):l.vnode.key;Vi(typeof l.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(u)}"\` not support Symbol type`);const c=O4(u)?u:`sub_menu_${++eK}_$$_not_set_key`,d=(o=n.eventKey)!==null&&o!==void 0?o:O4(u)?`sub_menu_${++eK}_$$_${u}`:c,{parentEventKeys:h,parentInfo:f,parentKeys:g}=NV(),p=V(()=>[...g.value,c]),m=ye([]),v={eventKey:d,key:c,parentEventKeys:h,childrenEventKeys:m,parentKeys:g};(s=f.childrenEventKeys)===null||s===void 0||s.value.push(d),fn(()=>{var J;f.childrenEventKeys&&(f.childrenEventKeys.value=(J=f.childrenEventKeys)===null||J===void 0?void 0:J.value.filter(he=>he!=d))}),YHe(d,c,v);const{prefixCls:y,activeKeys:_,disabled:b,changeActiveKeys:S,mode:w,inlineCollapsed:C,openKeys:x,overflowDisabled:L,onOpenChange:T,registerMenuInfo:I,unRegisterMenuInfo:D,selectedSubMenuKeys:M,expandIcon:P,theme:k}=Gc(),O=u!=null,F=!a&&(Sle()||!O);UHe(F),(a&&O||!a&&!O||F)&&(I(d,v),fn(()=>{D(d)}));const R=V(()=>`${y.value}-submenu`),$=V(()=>b.value||n.disabled),H=ye(),U=ye(),z=V(()=>x.value.includes(c)),Z=V(()=>!L.value&&z.value),X=V(()=>M.value.includes(c)),ce=ye(!1);Ve(_,()=>{ce.value=!!_.value.find(J=>J===c)},{immediate:!0});const q=J=>{$.value||(r("titleClick",J,c),w.value==="inline"&&T(c,!z.value))},j=J=>{$.value||(S(p.value),r("mouseenter",J))},ie=J=>{$.value||(S([]),r("mouseleave",J))},Q=Tle(V(()=>p.value.length)),le=J=>{w.value!=="inline"&&T(c,J)},ue=()=>{S(p.value)},W=d&&`${d}-popup`,G=V(()=>Ee(y.value,`${y.value}-${n.theme||k.value}`,n.popupClassName)),K=(J,he)=>{if(!he)return C.value&&!g.value.length&&J&&typeof J=="string"?N("div",{class:`${y.value}-inline-collapsed-noicon`},[J.charAt(0)]):N("span",{class:`${y.value}-title-content`},[J]);const pe=Yo(J)&&J.type==="span";return N($t,null,[Ci(typeof he=="function"?he(n.originItemValue):he,{class:`${y.value}-item-icon`},!1),pe?J:N("span",{class:`${y.value}-title-content`},[J])])},de=V(()=>w.value!=="inline"&&p.value.length>1?"vertical":w.value),Y=V(()=>w.value==="horizontal"?"vertical":w.value),oe=V(()=>de.value==="horizontal"?"vertical":de.value),te=()=>{var J,he;const pe=R.value,Ce=(J=n.icon)!==null&&J!==void 0?J:(he=t.icon)===null||he===void 0?void 0:he.call(t,n),Ae=n.expandIcon||t.expandIcon||P.value,Oe=K(pg(t,n,"title"),Ce);return N("div",{style:Q.value,class:`${pe}-title`,tabindex:$.value?null:-1,ref:H,title:typeof Oe=="string"?Oe:null,"data-menu-id":c,"aria-expanded":Z.value,"aria-haspopup":!0,"aria-controls":W,"aria-disabled":$.value,onClick:q,onFocus:ue},[Oe,w.value!=="horizontal"&&Ae?Ae(A(A({},n),{isOpen:Z.value})):N("i",{class:`${pe}-arrow`},null)])};return()=>{var J;if(a)return O?(J=t.default)===null||J===void 0?void 0:J.call(t):null;const he=R.value;let pe=()=>null;if(!L.value&&w.value!=="inline"){const Ce=w.value==="horizontal"?[0,8]:[10,0];pe=()=>N(JG,{mode:de.value,prefixCls:he,visible:!n.internalPopupClose&&Z.value,popupClassName:G.value,popupOffset:n.popupOffset||Ce,disabled:$.value,onVisibleChange:le},{default:()=>[te()],popup:()=>N(cI,{mode:oe.value},{default:()=>[N(Dle,{id:W,ref:U},{default:t.default})]})})}else pe=()=>N(JG,null,{default:te});return N(cI,{mode:Y.value},{default:()=>[N(gv.Item,se(se({component:"li"},i),{},{role:"none",class:Ee(he,`${he}-${w.value}`,i.class,{[`${he}-open`]:Z.value,[`${he}-active`]:ce.value,[`${he}-selected`]:X.value,[`${he}-disabled`]:$.value}),onMouseenter:j,onMouseleave:ie,"data-submenu-id":c}),{default:()=>N($t,null,[pe(),!L.value&&N(t7e,{id:W,open:Z.value,keyPath:p.value},{default:t.default})])})]})}}});function Ele(n,e){return n.classList?n.classList.contains(e):` ${n.className} `.indexOf(` ${e} `)>-1}function tK(n,e){n.classList?n.classList.add(e):Ele(n,e)||(n.className=`${n.className} ${e}`)}function nK(n,e){if(n.classList)n.classList.remove(e);else if(Ele(n,e)){const t=n.className;n.className=` ${t} `.replace(` ${e} `," ")}}const i7e=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:n,appear:e,css:!0,onBeforeEnter:t=>{t.style.height="0px",t.style.opacity="0",tK(t,n)},onEnter:t=>{kn(()=>{t.style.height=`${t.scrollHeight}px`,t.style.opacity="1"})},onAfterEnter:t=>{t&&(nK(t,n),t.style.height=null,t.style.opacity=null)},onBeforeLeave:t=>{tK(t,n),t.style.height=`${t.offsetHeight}px`,t.style.opacity=null},onLeave:t=>{setTimeout(()=>{t.style.height="0px",t.style.opacity="0"})},onAfterLeave:t=>{t&&(nK(t,n),t.style&&(t.style.height=null,t.style.opacity=null))}}},Mle=i7e,r7e=()=>({title:ge.any,originItemValue:ci()}),dI=Ie({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:r7e(),slots:Object,setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r}=Gc(),o=V(()=>`${r.value}-item-group`),s=kV();return()=>{var a,l;return s?(a=t.default)===null||a===void 0?void 0:a.call(t):N("li",se(se({},i),{},{onClick:u=>u.stopPropagation(),class:o.value}),[N("div",{title:typeof n.title=="string"?n.title:void 0,class:`${o.value}-title`},[pg(t,n,"title")]),N("ul",{class:`${o.value}-list`},[(l=t.default)===null||l===void 0?void 0:l.call(t)])])}}}),o7e=()=>({prefixCls:String,dashed:Boolean}),hI=Ie({compatConfig:{MODE:3},name:"AMenuDivider",props:o7e(),setup(n){const{prefixCls:e}=Gc(),t=V(()=>({[`${e.value}-item-divider`]:!0,[`${e.value}-item-divider-dashed`]:!!n.dashed}));return()=>N("li",{class:t.value},null)}});var s7e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function a5(n,e,t){return(n||[]).map((i,r)=>{if(i&&typeof i=="object"){const o=i,{label:s,children:a,key:l,type:u}=o,c=s7e(o,["label","children","key","type"]),d=l??`tmp-${r}`,h=t?t.parentKeys.slice():[],f=[],g={eventKey:d,key:d,parentEventKeys:ke(h),parentKeys:ke(h),childrenEventKeys:ke(f),isLeaf:!1};if(a||u==="group"){if(u==="group"){const m=a5(a,e,t);return N(dI,se(se({key:d},c),{},{title:s,originItemValue:i}),{default:()=>[m]})}e.set(d,g),t&&t.childrenEventKeys.push(d);const p=a5(a,e,{childrenEventKeys:f,parentKeys:[].concat(h,d)});return N(ry,se(se({key:d},c),{},{title:s,originItemValue:i}),{default:()=>[p]})}return u==="divider"?N(hI,se({key:d},c),null):(g.isLeaf=!0,e.set(d,g),N(iy,se(se({key:d},c),{},{originItemValue:i}),{default:()=>[s]}))}return null}).filter(i=>i)}function a7e(n){const e=ye([]),t=ye(!1),i=ye(new Map);return Ve(()=>n.items,()=>{const r=new Map;t.value=!1,n.items?(t.value=!0,e.value=a5(n.items,r)):e.value=void 0,i.value=r},{immediate:!0,deep:!0}),{itemsNodes:e,store:i,hasItmes:t}}const l7e=n=>{const{componentCls:e,motionDurationSlow:t,menuHorizontalHeight:i,colorSplit:r,lineWidth:o,lineType:s,menuItemPaddingInline:a}=n;return{[`${e}-horizontal`]:{lineHeight:`${i}px`,border:0,borderBottom:`${o}px ${s} ${r}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${t}`,`background ${t}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},u7e=l7e,c7e=n=>{let{componentCls:e,menuArrowOffset:t}=n;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${t})`},"&::after":{transform:`rotate(45deg) translateY(${t})`}}}}},d7e=c7e,iK=n=>A({},Ic(n)),h7e=(n,e)=>{const{componentCls:t,colorItemText:i,colorItemTextSelected:r,colorGroupTitle:o,colorItemBg:s,colorSubItemBg:a,colorItemBgSelected:l,colorActiveBarHeight:u,colorActiveBarWidth:c,colorActiveBarBorderSize:d,motionDurationSlow:h,motionEaseInOut:f,motionEaseOut:g,menuItemPaddingInline:p,motionDurationMid:m,colorItemTextHover:v,lineType:y,colorSplit:_,colorItemTextDisabled:b,colorDangerItemText:S,colorDangerItemTextHover:w,colorDangerItemTextSelected:C,colorDangerItemBgActive:x,colorDangerItemBgSelected:L,colorItemBgHover:T,menuSubMenuBg:I,colorItemTextSelectedHorizontal:D,colorItemBgSelectedHorizontal:M}=n;return{[`${t}-${e}`]:{color:i,background:s,[`&${t}-root:focus-visible`]:A({},iK(n)),[`${t}-item-group-title`]:{color:o},[`${t}-submenu-selected`]:{[`> ${t}-submenu-title`]:{color:r}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{color:`${b} !important`},[`${t}-item:hover, ${t}-submenu-title:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:v}},[`&:not(${t}-horizontal)`]:{[`${t}-item:not(${t}-item-selected)`]:{"&:hover":{backgroundColor:T},"&:active":{backgroundColor:l}},[`${t}-submenu-title`]:{"&:hover":{backgroundColor:T},"&:active":{backgroundColor:l}}},[`${t}-item-danger`]:{color:S,[`&${t}-item:hover`]:{[`&:not(${t}-item-selected):not(${t}-submenu-selected)`]:{color:w}},[`&${t}-item:active`]:{background:x}},[`${t}-item a`]:{"&, &:hover":{color:"inherit"}},[`${t}-item-selected`]:{color:r,[`&${t}-item-danger`]:{color:C},"a, a:hover":{color:"inherit"}},[`& ${t}-item-selected`]:{backgroundColor:l,[`&${t}-item-danger`]:{backgroundColor:L}},[`${t}-item, ${t}-submenu-title`]:{[`&:not(${t}-item-disabled):focus-visible`]:A({},iK(n))},[`&${t}-submenu > ${t}`]:{backgroundColor:I},[`&${t}-popup > ${t}`]:{backgroundColor:s},[`&${t}-horizontal`]:A(A({},e==="dark"?{borderBottom:0}:{}),{[`> ${t}-item, > ${t}-submenu`]:{top:d,marginTop:-d,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:p,bottom:0,borderBottom:`${u}px solid transparent`,transition:`border-color ${h} ${f}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:u,borderBottomColor:D}},"&-selected":{color:D,backgroundColor:M,"&::after":{borderBottomWidth:u,borderBottomColor:D}}}}),[`&${t}-root`]:{[`&${t}-inline, &${t}-vertical`]:{borderInlineEnd:`${d}px ${y} ${_}`}},[`&${t}-inline`]:{[`${t}-sub${t}-inline`]:{background:a},[`${t}-item, ${t}-submenu-title`]:d&&c?{width:`calc(100% + ${d}px)`}:{},[`${t}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${c}px solid ${r}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${m} ${g}`,`opacity ${m} ${g}`].join(","),content:'""'},[`&${t}-item-danger`]:{"&::after":{borderInlineEndColor:C}}},[`${t}-selected, ${t}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${m} ${f}`,`opacity ${m} ${f}`].join(",")}}}}}},rK=h7e,oK=n=>{const{componentCls:e,menuItemHeight:t,itemMarginInline:i,padding:r,menuArrowSize:o,marginXS:s,marginXXS:a}=n,l=r+o+s;return{[`${e}-item`]:{position:"relative"},[`${e}-item, ${e}-submenu-title`]:{height:t,lineHeight:`${t}px`,paddingInline:r,overflow:"hidden",textOverflow:"ellipsis",marginInline:i,marginBlock:a,width:`calc(100% - ${i*2}px)`},[`${e}-submenu`]:{paddingBottom:.02},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:t,lineHeight:`${t}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:l}}},f7e=n=>{const{componentCls:e,iconCls:t,menuItemHeight:i,colorTextLightSolid:r,dropdownWidth:o,controlHeightLG:s,motionDurationMid:a,motionEaseOut:l,paddingXL:u,fontSizeSM:c,fontSizeLG:d,motionDurationSlow:h,paddingXS:f,boxShadowSecondary:g}=n,p={height:i,lineHeight:`${i}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":A({[`&${e}-root`]:{boxShadow:"none"}},oK(n))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:A(A({},oK(n)),{boxShadow:g})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${s*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${a} ${l}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:p,[`& ${e}-item-group-title`]:{paddingInlineStart:u}},[`${e}-item`]:p}},{[`${e}-inline-collapsed`]:{width:i*2,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:d,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${c}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${t}`]:{margin:0,fontSize:d,lineHeight:`${i}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${t}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${t}`]:{display:"none"},"a, a:hover":{color:r}},[`${e}-item-group-title`]:A(A({},hh),{paddingInline:f})}}]},g7e=f7e,sK=n=>{const{componentCls:e,fontSize:t,motionDurationSlow:i,motionDurationMid:r,motionEaseInOut:o,motionEaseOut:s,iconCls:a,controlHeightSM:l}=n;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${i}`,`background ${i}`,`padding ${i} ${o}`].join(","),[`${e}-item-icon, ${a}`]:{minWidth:t,fontSize:t,transition:[`font-size ${r} ${s}`,`margin ${i} ${o}`,`color ${i}`].join(","),"+ span":{marginInlineStart:l-t,opacity:1,transition:[`opacity ${i} ${o}`,`margin ${i}`,`color ${i}`].join(",")}},[`${e}-item-icon`]:A({},W3()),[`&${e}-item-only-child`]:{[`> ${a}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},aK=n=>{const{componentCls:e,motionDurationSlow:t,motionEaseInOut:i,borderRadius:r,menuArrowSize:o,menuArrowOffset:s}=n;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:n.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${t} ${i}, opacity ${t}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:r,transition:[`background ${t} ${i}`,`transform ${t} ${i}`,`top ${t} ${i}`,`color ${t} ${i}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${s})`},"&::after":{transform:`rotate(-45deg) translateY(${s})`}}}}},p7e=n=>{const{antCls:e,componentCls:t,fontSize:i,motionDurationSlow:r,motionDurationMid:o,motionEaseInOut:s,lineHeight:a,paddingXS:l,padding:u,colorSplit:c,lineWidth:d,zIndexPopup:h,borderRadiusLG:f,radiusSubMenuItem:g,menuArrowSize:p,menuArrowOffset:m,lineType:v,menuPanelMaskInset:y}=n;return[{"":{[`${t}`]:A(A({},fh()),{"&-hidden":{display:"none"}})},[`${t}-submenu-hidden`]:{display:"none"}},{[t]:A(A(A(A(A(A(A({},wi(n)),fh()),{marginBottom:0,paddingInlineStart:0,fontSize:i,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${r} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${t}-item`]:{flex:"none"}},[`${t}-item, ${t}-submenu, ${t}-submenu-title`]:{borderRadius:n.radiusItem},[`${t}-item-group-title`]:{padding:`${l}px ${u}px`,fontSize:i,lineHeight:a,transition:`all ${r}`},[`&-horizontal ${t}-submenu`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`].join(",")},[`${t}-submenu, ${t}-submenu-inline`]:{transition:[`border-color ${r} ${s}`,`background ${r} ${s}`,`padding ${o} ${s}`].join(",")},[`${t}-submenu ${t}-sub`]:{cursor:"initial",transition:[`background ${r} ${s}`,`padding ${r} ${s}`].join(",")},[`${t}-title-content`]:{transition:`color ${r}`},[`${t}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${t}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:v,borderWidth:0,borderTopWidth:d,marginBlock:d,padding:0,"&-dashed":{borderStyle:"dashed"}}}),sK(n)),{[`${t}-item-group`]:{[`${t}-item-group-list`]:{margin:0,padding:0,[`${t}-item, ${t}-submenu-title`]:{paddingInline:`${i*2}px ${u}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:h,background:"transparent",borderRadius:f,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${y}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:y},[`> ${t}`]:A(A(A({borderRadius:f},sK(n)),aK(n)),{[`${t}-item, ${t}-submenu > ${t}-submenu-title`]:{borderRadius:g},[`${t}-submenu-title::after`]:{transition:`transform ${r} ${s}`}})}}),aK(n)),{[`&-inline-collapsed ${t}-submenu-arrow,
        &-inline ${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${m})`},"&::after":{transform:`rotate(45deg) translateX(-${m})`}},[`${t}-submenu-open${t}-submenu-inline > ${t}-submenu-title > ${t}-submenu-arrow`]:{transform:`translateY(-${p*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${m})`},"&::before":{transform:`rotate(45deg) translateX(${m})`}}})},{[`${e}-layout-header`]:{[t]:{lineHeight:"inherit"}}}]},m7e=(n,e)=>ki("Menu",(i,r)=>{let{overrideComponentToken:o}=r;if((e==null?void 0:e.value)===!1)return[];const{colorBgElevated:s,colorPrimary:a,colorError:l,colorErrorHover:u,colorTextLightSolid:c}=i,{controlHeightLG:d,fontSize:h}=i,f=h/7*5,g=Ln(i,{menuItemHeight:d,menuItemPaddingInline:i.margin,menuArrowSize:f,menuHorizontalHeight:d*1.15,menuArrowOffset:`${f*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:s}),p=new Fi(c).setAlpha(.65).toRgbString(),m=Ln(g,{colorItemText:p,colorItemTextHover:c,colorGroupTitle:p,colorItemTextSelected:c,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:a,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new Fi(c).setAlpha(.25).toRgbString(),colorDangerItemText:l,colorDangerItemTextHover:u,colorDangerItemTextSelected:c,colorDangerItemBgActive:l,colorDangerItemBgSelected:l,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:c,colorItemBgSelectedHorizontal:a},A({},o));return[p7e(g),u7e(g),g7e(g),rK(g,"light"),rK(m,"dark"),d7e(g),Zae(g),gh(g,"slide-up"),gh(g,"slide-down"),xV(g,"zoom-big")]},i=>{const{colorPrimary:r,colorError:o,colorTextDisabled:s,colorErrorBg:a,colorText:l,colorTextDescription:u,colorBgContainer:c,colorFillAlter:d,colorFillContent:h,lineWidth:f,lineWidthBold:g,controlItemBgActive:p,colorBgTextHover:m}=i;return{dropdownWidth:160,zIndexPopup:i.zIndexPopupBase+50,radiusItem:i.borderRadiusLG,radiusSubMenuItem:i.borderRadiusSM,colorItemText:l,colorItemTextHover:l,colorItemTextHoverHorizontal:r,colorGroupTitle:u,colorItemTextSelected:r,colorItemTextSelectedHorizontal:r,colorItemBg:c,colorItemBgHover:m,colorItemBgActive:h,colorSubItemBg:d,colorItemBgSelected:p,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:g,colorActiveBarBorderSize:f,colorItemTextDisabled:s,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:a,colorDangerItemBgSelected:a,itemMarginInline:i.marginXXS}})(n),v7e=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),lK=[],ua=Ie({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:v7e(),slots:Object,setup(n,e){let{slots:t,emit:i,attrs:r}=e;const{direction:o,getPrefixCls:s}=Wt("menu",n),a=ple(),l=V(()=>{var q;return s("menu",n.prefixCls||((q=a==null?void 0:a.prefixCls)===null||q===void 0?void 0:q.value))}),[u,c]=m7e(l,V(()=>!a)),d=ye(new Map),h=kt(jHe,ke(void 0)),f=V(()=>h.value!==void 0?h.value:n.inlineCollapsed),{itemsNodes:g}=a7e(n),p=ye(!1);Vt(()=>{p.value=!0}),Ut(()=>{Vi(!(n.inlineCollapsed===!0&&n.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Vi(!(h.value!==void 0&&n.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const m=ke([]),v=ke([]),y=ke({});Ve(d,()=>{const q={};for(const j of d.value.values())q[j.key]=j;y.value=q},{flush:"post"}),Ut(()=>{if(n.activeKey!==void 0){let q=[];const j=n.activeKey?y.value[n.activeKey]:void 0;j&&n.activeKey!==void 0?q=z2([].concat(Wa(j.parentKeys),n.activeKey)):q=[],S0(m.value,q)||(m.value=q)}}),Ve(()=>n.selectedKeys,q=>{q&&(v.value=q.slice())},{immediate:!0,deep:!0});const _=ke([]);Ve([y,v],()=>{let q=[];v.value.forEach(j=>{const ie=y.value[j];ie&&(q=q.concat(Wa(ie.parentKeys)))}),q=z2(q),S0(_.value,q)||(_.value=q)},{immediate:!0});const b=q=>{if(n.selectable){const{key:j}=q,ie=v.value.includes(j);let Q;n.multiple?ie?Q=v.value.filter(ue=>ue!==j):Q=[...v.value,j]:Q=[j];const le=A(A({},q),{selectedKeys:Q});S0(Q,v.value)||(n.selectedKeys===void 0&&(v.value=Q),i("update:selectedKeys",Q),ie&&n.multiple?i("deselect",le):i("select",le))}T.value!=="inline"&&!n.multiple&&S.value.length&&M(lK)},S=ke([]);Ve(()=>n.openKeys,function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.value;S0(S.value,q)||(S.value=q.slice())},{immediate:!0,deep:!0});let w;const C=q=>{clearTimeout(w),w=setTimeout(()=>{n.activeKey===void 0&&(m.value=q),i("update:activeKey",q[q.length-1])})},x=V(()=>!!n.disabled),L=V(()=>o.value==="rtl"),T=ke("vertical"),I=ye(!1);Ut(()=>{var q;(n.mode==="inline"||n.mode==="vertical")&&f.value?(T.value="vertical",I.value=f.value):(T.value=n.mode,I.value=!1),!((q=a==null?void 0:a.mode)===null||q===void 0)&&q.value&&(T.value=a.mode.value)});const D=V(()=>T.value==="inline"),M=q=>{S.value=q,i("update:openKeys",q),i("openChange",q)},P=ke(S.value),k=ye(!1);Ve(S,()=>{D.value&&(P.value=S.value)},{immediate:!0}),Ve(D,()=>{if(!k.value){k.value=!0;return}D.value?S.value=P.value:M(lK)},{immediate:!0});const O=V(()=>({[`${l.value}`]:!0,[`${l.value}-root`]:!0,[`${l.value}-${T.value}`]:!0,[`${l.value}-inline-collapsed`]:I.value,[`${l.value}-rtl`]:L.value,[`${l.value}-${n.theme}`]:!0})),F=V(()=>s()),R=V(()=>({horizontal:{name:`${F.value}-slide-up`},inline:Mle,other:{name:`${F.value}-zoom-big`}}));Cle(!0);const $=function(){let q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const j=[],ie=d.value;return q.forEach(Q=>{const{key:le,childrenEventKeys:ue}=ie.get(Q);j.push(le,...$(Wa(ue)))}),j},H=q=>{var j;i("click",q),b(q),(j=a==null?void 0:a.onClick)===null||j===void 0||j.call(a)},U=(q,j)=>{var ie;const Q=((ie=y.value[q])===null||ie===void 0?void 0:ie.childrenEventKeys)||[];let le=S.value.filter(ue=>ue!==q);if(j)le.push(q);else if(T.value!=="inline"){const ue=$(Wa(Q));le=z2(le.filter(W=>!ue.includes(W)))}S0(S,le)||M(le)},z=(q,j)=>{d.value.set(q,j),d.value=new Map(d.value)},Z=q=>{d.value.delete(q),d.value=new Map(d.value)},X=ke(0),ce=V(()=>{var q;return n.expandIcon||t.expandIcon||!((q=a==null?void 0:a.expandIcon)===null||q===void 0)&&q.value?j=>{let ie=n.expandIcon||t.expandIcon;return ie=typeof ie=="function"?ie(j):ie,Ci(ie,{class:`${l.value}-submenu-expand-icon`},!1)}:null});return KHe({prefixCls:l,activeKeys:m,openKeys:S,selectedKeys:v,changeActiveKeys:C,disabled:x,rtl:L,mode:T,inlineIndent:V(()=>n.inlineIndent),subMenuCloseDelay:V(()=>n.subMenuCloseDelay),subMenuOpenDelay:V(()=>n.subMenuOpenDelay),builtinPlacements:V(()=>n.builtinPlacements),triggerSubMenuAction:V(()=>n.triggerSubMenuAction),getPopupContainer:V(()=>n.getPopupContainer),inlineCollapsed:I,theme:V(()=>n.theme),siderCollapsed:h,defaultMotions:V(()=>p.value?R.value:null),motion:V(()=>p.value?n.motion:null),overflowDisabled:ye(void 0),onOpenChange:U,onItemClick:H,registerMenuInfo:z,unRegisterMenuInfo:Z,selectedSubMenuKeys:_,expandIcon:ce,forceSubMenuRender:V(()=>n.forceSubMenuRender),rootClassName:c}),()=>{var q,j;const ie=g.value||Qi((q=t.default)===null||q===void 0?void 0:q.call(t)),Q=X.value>=ie.length-1||T.value!=="horizontal"||n.disabledOverflow,le=T.value!=="horizontal"||n.disabledOverflow?ie:ie.map((W,G)=>N(cI,{key:W.key,overflowDisabled:G>X.value},{default:()=>W})),ue=((j=t.overflowedIndicator)===null||j===void 0?void 0:j.call(t))||N(MV,null,null);return u(N(gv,se(se({},r),{},{onMousedown:n.onMousedown,prefixCls:`${l.value}-overflow`,component:"ul",itemComponent:iy,class:[O.value,r.class,c.value],role:"menu",id:n.id,data:le,renderRawItem:W=>W,renderRawRest:W=>{const G=W.length,K=G?ie.slice(-G):null;return N($t,null,[N(ry,{eventKey:rC,key:rC,title:ue,disabled:Q,internalPopupClose:G===0},{default:()=>K}),N(QG,null,{default:()=>[N(ry,{eventKey:rC,key:rC,title:ue,disabled:Q,internalPopupClose:G===0},{default:()=>K})]})])},maxCount:T.value!=="horizontal"||n.disabledOverflow?gv.INVALIDATE:gv.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:W=>{X.value=W}}),{default:()=>[N(dte,{to:"body"},{default:()=>[N("div",{style:{display:"none"},"aria-hidden":!0},[N(QG,null,{default:()=>[le]})])]})]}))}}});ua.install=function(n){return n.component(ua.name,ua),n.component(iy.name,iy),n.component(ry.name,ry),n.component(hI.name,hI),n.component(dI.name,dI),n};ua.Item=iy;ua.Divider=hI;ua.SubMenu=ry;ua.ItemGroup=dI;var y7e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const _7e={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:ge.any,required:Boolean},Ale=Ie({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:rr(_7e,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup(n,e){let{attrs:t,emit:i,expose:r}=e;const o=ke(n.checked===void 0?n.defaultChecked:n.checked),s=ke();Ve(()=>n.checked,()=>{o.value=n.checked}),r({focus(){var c;(c=s.value)===null||c===void 0||c.focus()},blur(){var c;(c=s.value)===null||c===void 0||c.blur()}});const a=ke(),l=c=>{if(n.disabled)return;n.checked===void 0&&(o.value=c.target.checked),c.shiftKey=a.value;const d={target:A(A({},n),{checked:c.target.checked}),stopPropagation(){c.stopPropagation()},preventDefault(){c.preventDefault()},nativeEvent:c};n.checked!==void 0&&(s.value.checked=!!n.checked),i("change",d),a.value=!1},u=c=>{i("click",c),a.value=c.shiftKey};return()=>{const{prefixCls:c,name:d,id:h,type:f,disabled:g,readonly:p,tabindex:m,autofocus:v,value:y,required:_}=n,b=y7e(n,["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"]),{class:S,onFocus:w,onBlur:C,onKeydown:x,onKeypress:L,onKeyup:T}=t,I=A(A({},b),t),D=Object.keys(I).reduce((k,O)=>((O.startsWith("data-")||O.startsWith("aria-")||O==="role")&&(k[O]=I[O]),k),{}),M=Ee(c,S,{[`${c}-checked`]:o.value,[`${c}-disabled`]:g}),P=A(A({name:d,id:h,type:f,readonly:p,disabled:g,tabindex:m,class:`${c}-input`,checked:!!o.value,autofocus:v,value:y},D),{onChange:l,onClick:u,onFocus:w,onBlur:C,onKeydown:x,onKeypress:L,onKeyup:T,required:_});return N("span",{class:M},[N("input",se({ref:s},P),null),N("span",{class:`${c}-inner`},null)])}}}),Nle=Symbol("radioGroupContextKey"),b7e=n=>{On(Nle,n)},S7e=()=>kt(Nle,void 0),kle=Symbol("radioOptionTypeContextKey"),w7e=n=>{On(kle,n)},C7e=()=>kt(kle,void 0),x7e=new _n("antRadioEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),L7e=n=>{const{componentCls:e,antCls:t}=n,i=`${e}-group`;return{[i]:A(A({},wi(n)),{display:"inline-block",fontSize:0,[`&${i}-rtl`]:{direction:"rtl"},[`${t}-badge ${t}-badge-count`]:{zIndex:1},[`> ${t}-badge:not(:first-child) > ${t}-button-wrapper`]:{borderInlineStart:"none"}})}},T7e=n=>{const{componentCls:e,radioWrapperMarginRight:t,radioCheckedColor:i,radioSize:r,motionDurationSlow:o,motionDurationMid:s,motionEaseInOut:a,motionEaseInOutCirc:l,radioButtonBg:u,colorBorder:c,lineWidth:d,radioDotSize:h,colorBgContainerDisabled:f,colorTextDisabled:g,paddingXS:p,radioDotDisabledColor:m,lineType:v,radioDotDisabledSize:y,wireframe:_,colorWhite:b}=n,S=`${e}-inner`;return{[`${e}-wrapper`]:A(A({},wi(n)),{position:"relative",display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:t,cursor:"pointer",[`&${e}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:n.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${e}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${d}px ${v} ${i}`,borderRadius:"50%",visibility:"hidden",animationName:x7e,animationDuration:o,animationTimingFunction:a,animationFillMode:"both",content:'""'},[e]:A(A({},wi(n)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center"}),[`${e}-wrapper:hover &,
        &:hover ${S}`]:{borderColor:i},[`${e}-input:focus-visible + ${S}`]:A({},Ic(n)),[`${e}:hover::after, ${e}-wrapper:hover &::after`]:{visibility:"visible"},[`${e}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:r,height:r,marginBlockStart:r/-2,marginInlineStart:r/-2,backgroundColor:_?i:b,borderBlockStart:0,borderInlineStart:0,borderRadius:r,transform:"scale(0)",opacity:0,transition:`all ${o} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:r,height:r,backgroundColor:u,borderColor:c,borderStyle:"solid",borderWidth:d,borderRadius:"50%",transition:`all ${s}`},[`${e}-input`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,insetBlockEnd:0,insetInlineStart:0,zIndex:1,cursor:"pointer",opacity:0},[`${e}-checked`]:{[S]:{borderColor:i,backgroundColor:_?u:i,"&::after":{transform:`scale(${h/r})`,opacity:1,transition:`all ${o} ${l}`}}},[`${e}-disabled`]:{cursor:"not-allowed",[S]:{backgroundColor:f,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:m}},[`${e}-input`]:{cursor:"not-allowed"},[`${e}-disabled + span`]:{color:g,cursor:"not-allowed"},[`&${e}-checked`]:{[S]:{"&::after":{transform:`scale(${y/r})`}}}},[`span${e} + *`]:{paddingInlineStart:p,paddingInlineEnd:p}})}},I7e=n=>{const{radioButtonColor:e,controlHeight:t,componentCls:i,lineWidth:r,lineType:o,colorBorder:s,motionDurationSlow:a,motionDurationMid:l,radioButtonPaddingHorizontal:u,fontSize:c,radioButtonBg:d,fontSizeLG:h,controlHeightLG:f,controlHeightSM:g,paddingXS:p,borderRadius:m,borderRadiusSM:v,borderRadiusLG:y,radioCheckedColor:_,radioButtonCheckedBg:b,radioButtonHoverColor:S,radioButtonActiveColor:w,radioSolidCheckedColor:C,colorTextDisabled:x,colorBgContainerDisabled:L,radioDisabledButtonCheckedColor:T,radioDisabledButtonCheckedBg:I}=n;return{[`${i}-button-wrapper`]:{position:"relative",display:"inline-block",height:t,margin:0,paddingInline:u,paddingBlock:0,color:e,fontSize:c,lineHeight:`${t-r*2}px`,background:d,border:`${r}px ${o} ${s}`,borderBlockStartWidth:r+.02,borderInlineStartWidth:0,borderInlineEndWidth:r,cursor:"pointer",transition:[`color ${l}`,`background ${l}`,`border-color ${l}`,`box-shadow ${l}`].join(","),a:{color:e},[`> ${i}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:-r,insetInlineStart:-r,display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:r,paddingInline:0,backgroundColor:s,transition:`background-color ${a}`,content:'""'}},"&:first-child":{borderInlineStart:`${r}px ${o} ${s}`,borderStartStartRadius:m,borderEndStartRadius:m},"&:last-child":{borderStartEndRadius:m,borderEndEndRadius:m},"&:first-child:last-child":{borderRadius:m},[`${i}-group-large &`]:{height:f,fontSize:h,lineHeight:`${f-r*2}px`,"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},[`${i}-group-small &`]:{height:g,paddingInline:p-r,paddingBlock:0,lineHeight:`${g-r*2}px`,"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},"&:hover":{position:"relative",color:_},"&:has(:focus-visible)":A({},Ic(n)),[`${i}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${i}-button-wrapper-disabled)`]:{zIndex:1,color:_,background:b,borderColor:_,"&::before":{backgroundColor:_},"&:first-child":{borderColor:_},"&:hover":{color:S,borderColor:S,"&::before":{backgroundColor:S}},"&:active":{color:w,borderColor:w,"&::before":{backgroundColor:w}}},[`${i}-group-solid &-checked:not(${i}-button-wrapper-disabled)`]:{color:C,background:_,borderColor:_,"&:hover":{color:C,background:S,borderColor:S},"&:active":{color:C,background:w,borderColor:w}},"&-disabled":{color:x,backgroundColor:L,borderColor:s,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:L,borderColor:s}},[`&-disabled${i}-button-wrapper-checked`]:{color:T,backgroundColor:I,borderColor:s,boxShadow:"none"}}}},Ple=ki("Radio",n=>{const{padding:e,lineWidth:t,controlItemBgActiveDisabled:i,colorTextDisabled:r,colorBgContainer:o,fontSizeLG:s,controlOutline:a,colorPrimaryHover:l,colorPrimaryActive:u,colorText:c,colorPrimary:d,marginXS:h,controlOutlineWidth:f,colorTextLightSolid:g,wireframe:p}=n,m=`0 0 0 ${f}px ${a}`,v=m,y=s,_=4,b=y-_*2,S=p?b:y-(_+t)*2,w=d,C=c,x=l,L=u,T=e-t,M=Ln(n,{radioFocusShadow:m,radioButtonFocusShadow:v,radioSize:y,radioDotSize:S,radioDotDisabledSize:b,radioCheckedColor:w,radioDotDisabledColor:r,radioSolidCheckedColor:g,radioButtonBg:o,radioButtonCheckedBg:o,radioButtonColor:C,radioButtonHoverColor:x,radioButtonActiveColor:L,radioButtonPaddingHorizontal:T,radioDisabledButtonCheckedBg:i,radioDisabledButtonCheckedColor:r,radioWrapperMarginRight:h});return[L7e(M),T7e(M),I7e(M)]});var D7e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Ole=()=>({prefixCls:String,checked:_t(),disabled:_t(),isGroup:_t(),value:ge.any,name:String,id:String,autofocus:_t(),onChange:vt(),onFocus:vt(),onBlur:vt(),onClick:vt(),"onUpdate:checked":vt(),"onUpdate:value":vt()}),Ro=Ie({compatConfig:{MODE:3},name:"ARadio",inheritAttrs:!1,props:Ole(),setup(n,e){let{emit:t,expose:i,slots:r,attrs:o}=e;const s=Cp(),a=Dc.useInject(),l=C7e(),u=S7e(),c=Gg(),d=V(()=>{var x;return(x=p.value)!==null&&x!==void 0?x:c.value}),h=ke(),{prefixCls:f,direction:g,disabled:p}=Wt("radio",n),m=V(()=>(u==null?void 0:u.optionType.value)==="button"||l==="button"?`${f.value}-button`:f.value),v=Gg(),[y,_]=Ple(f);i({focus:()=>{h.value.focus()},blur:()=>{h.value.blur()}});const w=x=>{const L=x.target.checked;t("update:checked",L),t("update:value",L),t("change",x),s.onFieldChange()},C=x=>{t("change",x),u&&u.onChange&&u.onChange(x)};return()=>{var x;const L=u,{prefixCls:T,id:I=s.id.value}=n,D=D7e(n,["prefixCls","id"]),M=A(A({prefixCls:m.value,id:I},jn(D,["onUpdate:checked","onUpdate:value"])),{disabled:(x=p.value)!==null&&x!==void 0?x:v.value});L?(M.name=L.name.value,M.onChange=C,M.checked=n.value===L.value.value,M.disabled=d.value||L.disabled.value):M.onChange=w;const P=Ee({[`${m.value}-wrapper`]:!0,[`${m.value}-wrapper-checked`]:M.checked,[`${m.value}-wrapper-disabled`]:M.disabled,[`${m.value}-wrapper-rtl`]:g.value==="rtl",[`${m.value}-wrapper-in-form-item`]:a.isFormItemInput},o.class,_.value);return y(N("label",se(se({},o),{},{class:P}),[N(Ale,se(se({},M),{},{type:"radio",ref:h}),null),r.default&&N("span",null,[r.default()])]))}}}),E7e=()=>({prefixCls:String,value:ge.any,size:ui(),options:fr(),disabled:_t(),name:String,buttonStyle:ui("outline"),id:String,optionType:ui("default"),onChange:vt(),"onUpdate:value":vt()}),M7e=Ie({compatConfig:{MODE:3},name:"ARadioGroup",inheritAttrs:!1,props:E7e(),setup(n,e){let{slots:t,emit:i,attrs:r}=e;const o=Cp(),{prefixCls:s,direction:a,size:l}=Wt("radio",n),[u,c]=Ple(s),d=ke(n.value),h=ke(!1);return Ve(()=>n.value,g=>{d.value=g,h.value=!1}),b7e({onChange:g=>{const p=d.value,{value:m}=g.target;"value"in n||(d.value=m),!h.value&&m!==p&&(h.value=!0,i("update:value",m),i("change",g),o.onFieldChange()),kn(()=>{h.value=!1})},value:d,disabled:V(()=>n.disabled),name:V(()=>n.name),optionType:V(()=>n.optionType)}),()=>{var g;const{options:p,buttonStyle:m,id:v=o.id.value}=n,y=`${s.value}-group`,_=Ee(y,`${y}-${m}`,{[`${y}-${l.value}`]:l.value,[`${y}-rtl`]:a.value==="rtl"},r.class,c.value);let b=null;return p&&p.length>0?b=p.map(S=>{if(typeof S=="string"||typeof S=="number")return N(Ro,{key:S,prefixCls:s.value,disabled:n.disabled,value:S,checked:d.value===S},{default:()=>[S]});const{value:w,disabled:C,label:x}=S;return N(Ro,{key:`radio-group-value-options-${w}`,prefixCls:s.value,disabled:C||n.disabled,value:w,checked:d.value===w},{default:()=>[x]})}):b=(g=t.default)===null||g===void 0?void 0:g.call(t),u(N("div",se(se({},r),{},{class:_,id:v}),[b]))}}}),A7e=Ie({compatConfig:{MODE:3},name:"ARadioButton",inheritAttrs:!1,props:Ole(),setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r}=Wt("radio",n);return w7e("button"),()=>{var o;return N(Ro,se(se(se({},i),n),{},{prefixCls:r.value}),{default:()=>[(o=t.default)===null||o===void 0?void 0:o.call(t)]})}}});Ro.Group=M7e;Ro.Button=A7e;Ro.install=function(n){return n.component(Ro.name,Ro),n.component(Ro.Group.name,Ro.Group),n.component(Ro.Button.name,Ro.Button),n};const N7e=n=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:n,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),PV=n=>({borderColor:n.inputBorderHoverColor,borderInlineEndWidth:n.lineWidth}),l5=n=>({borderColor:n.inputBorderHoverColor,boxShadow:`0 0 0 ${n.controlOutlineWidth}px ${n.controlOutline}`,borderInlineEndWidth:n.lineWidth,outline:0}),k7e=n=>({color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":A({},PV(Ln(n,{inputBorderHoverColor:n.colorBorder})))}),Rle=n=>{const{inputPaddingVerticalLG:e,fontSizeLG:t,lineHeightLG:i,borderRadiusLG:r,inputPaddingHorizontalLG:o}=n;return{padding:`${e}px ${o}px`,fontSize:t,lineHeight:i,borderRadius:r}},OV=n=>({padding:`${n.inputPaddingVerticalSM}px ${n.controlPaddingHorizontalSM-1}px`,borderRadius:n.borderRadiusSM}),Ble=(n,e)=>{const{componentCls:t,colorError:i,colorWarning:r,colorErrorOutline:o,colorWarningOutline:s,colorErrorBorderHover:a,colorWarningBorderHover:l}=n;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:a},"&:focus, &-focused":A({},l5(Ln(n,{inputBorderActiveColor:i,inputBorderHoverColor:i,controlOutline:o}))),[`${t}-prefix`]:{color:i}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:l},"&:focus, &-focused":A({},l5(Ln(n,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:s}))),[`${t}-prefix`]:{color:r}}}},RV=n=>A(A({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${n.inputPaddingVertical}px ${n.inputPaddingHorizontal}px`,color:n.colorText,fontSize:n.fontSize,lineHeight:n.lineHeight,backgroundColor:n.colorBgContainer,backgroundImage:"none",borderWidth:n.lineWidth,borderStyle:n.lineType,borderColor:n.colorBorder,borderRadius:n.borderRadius,transition:`all ${n.motionDurationMid}`},N7e(n.colorTextPlaceholder)),{"&:hover":A({},PV(n)),"&:focus, &-focused":A({},l5(n)),"&-disabled, &[disabled]":A({},k7e(n)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:n.controlHeight,lineHeight:n.lineHeight,verticalAlign:"bottom",transition:`all ${n.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":A({},Rle(n)),"&-sm":A({},OV(n)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),P7e=n=>{const{componentCls:e,antCls:t}=n;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:n.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:A({},Rle(n)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:A({},OV(n)),[`&-lg ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightLG},[`&-sm ${t}-select-single ${t}-select-selector`]:{height:n.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${n.inputPaddingHorizontal}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,textAlign:"center",backgroundColor:n.colorFillAlter,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,transition:`all ${n.motionDurationSlow}`,lineHeight:1,[`${t}-select`]:{margin:`-${n.inputPaddingVertical+1}px -${n.inputPaddingHorizontal}px`,[`&${t}-select-single:not(${t}-select-customize-input)`]:{[`${t}-select-selector`]:{backgroundColor:"inherit",border:`${n.lineWidth}px ${n.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${t}-select-selector`]:{color:n.colorPrimary}}},[`${t}-cascader-picker`]:{margin:`-9px -${n.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${t}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${t}-select ${t}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:A(A({display:"block"},fh()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:n.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${e}-affix-wrapper`]:{display:"inline-flex"},[`& > ${t}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-n.lineWidth,borderInlineEndWidth:n.lineWidth},[`${e}`]:{float:"none"},[`& > ${t}-select > ${t}-select-selector,
      & > ${t}-select-auto-complete ${e},
      & > ${t}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:n.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${t}-select-focused`]:{zIndex:1},[`& > ${t}-select > ${t}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${t}-select:first-child > ${t}-select-selector,
      & > ${t}-select-auto-complete:first-child ${e},
      & > ${t}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:n.borderRadius,borderEndStartRadius:n.borderRadius},[`& > *:last-child,
      & > ${t}-select:last-child > ${t}-select-selector,
      & > ${t}-cascader-picker:last-child ${e},
      & > ${t}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:n.lineWidth,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius},[`& > ${t}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-n.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:n.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:n.borderRadius}}}})}},O7e=n=>{const{componentCls:e,controlHeightSM:t,lineWidth:i}=n,r=16,o=(t-i*2-r)/2;return{[e]:A(A(A(A({},wi(n)),RV(n)),Ble(n,e)),{'&[type="color"]':{height:n.controlHeight,[`&${e}-lg`]:{height:n.controlHeightLG},[`&${e}-sm`]:{height:t,paddingTop:o,paddingBottom:o}}})}},R7e=n=>{const{componentCls:e}=n;return{[`${e}-clear-icon`]:{margin:0,color:n.colorTextQuaternary,fontSize:n.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextTertiary},"&:active":{color:n.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${n.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${e}-clear-icon`]:{position:"absolute",insetBlockStart:n.paddingXS,insetInlineEnd:n.paddingXS,zIndex:1}}}},B7e=n=>{const{componentCls:e,inputAffixPadding:t,colorTextDescription:i,motionDurationSlow:r,colorIcon:o,colorIconHover:s,iconCls:a}=n;return{[`${e}-affix-wrapper`]:A(A(A(A(A({},RV(n)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:A(A({},PV(n)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:n.paddingXS}},"&-show-count-suffix":{color:i},"&-show-count-has-suffix":{marginInlineEnd:n.paddingXXS},"&-prefix":{marginInlineEnd:t},"&-suffix":{marginInlineStart:t}}}),R7e(n)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${r}`,"&:hover":{color:s}}}),Ble(n,`${e}-affix-wrapper`))}},F7e=n=>{const{componentCls:e,colorError:t,colorSuccess:i,borderRadiusLG:r,borderRadiusSM:o}=n;return{[`${e}-group`]:A(A(A({},wi(n)),P7e(n)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:r}},"&-sm":{[`${e}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${e}-group-addon`]:{color:t,borderColor:t}},"&-status-warning":{[`${e}-group-addon:last-child`]:{color:i,borderColor:i}}}})}},$7e=n=>{const{componentCls:e,antCls:t}=n,i=`${e}-search`;return{[i]:{[`${e}`]:{"&:hover, &:focus":{borderColor:n.colorPrimaryHover,[`+ ${e}-group-addon ${i}-button:not(${t}-btn-primary)`]:{borderInlineStartColor:n.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:n.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${i}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:n.borderRadius,borderEndEndRadius:n.borderRadius,borderEndStartRadius:0},[`${i}-button:not(${t}-btn-primary)`]:{color:n.colorTextDescription,"&:hover":{color:n.colorPrimaryHover},"&:active":{color:n.colorPrimaryActive},[`&${t}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${i}-button`]:{height:n.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${i}-button`]:{height:n.controlHeightLG},[`&-small ${i}-button`]:{height:n.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-n.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}};function BV(n){return Ln(n,{inputAffixPadding:n.paddingXXS,inputPaddingVertical:Math.max(Math.round((n.controlHeight-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,3),inputPaddingVerticalLG:Math.ceil((n.controlHeightLG-n.fontSizeLG*n.lineHeightLG)/2*10)/10-n.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((n.controlHeightSM-n.fontSize*n.lineHeight)/2*10)/10-n.lineWidth,0),inputPaddingHorizontal:n.paddingSM-n.lineWidth,inputPaddingHorizontalSM:n.paddingXS-n.lineWidth,inputPaddingHorizontalLG:n.controlPaddingHorizontal-n.lineWidth,inputBorderHoverColor:n.colorPrimaryHover,inputBorderActiveColor:n.colorPrimaryHover})}const V7e=n=>{const{componentCls:e,inputPaddingHorizontal:t,paddingLG:i}=n,r=`${e}-textarea`;return{[r]:{position:"relative",[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${r}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:i}}},"&-show-count":{[`> ${e}`]:{height:"100%"},"&::after":{color:n.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},FV=ki("Input",n=>{const e=BV(n);return[O7e(e),V7e(e),B7e(e),F7e(e),$7e(e),LV(e)]});function W7e(n){const e=ye(),t=ye(!1);function i(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t.value||(Dt.cancel(e.value),e.value=Dt(()=>{n(...o)}))}return fn(()=>{t.value=!0,Dt.cancel(e.value)}),i}function z7e(n){const e=ye([]),t=ye(typeof n=="function"?n():n),i=W7e(()=>{let o=t.value;e.value.forEach(s=>{o=s(o)}),e.value=[],t.value=o});function r(o){e.value.push(o),i()}return[t,r]}const H7e=Ie({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup(n,e){let{expose:t,attrs:i}=e;const r=ke();function o(l){var u;!((u=n.tab)===null||u===void 0)&&u.disabled||n.onClick(l)}t({domRef:r});function s(l){var u;l.preventDefault(),l.stopPropagation(),n.editable.onEdit("remove",{key:(u=n.tab)===null||u===void 0?void 0:u.key,event:l})}const a=V(()=>{var l;return n.editable&&n.closable!==!1&&!(!((l=n.tab)===null||l===void 0)&&l.disabled)});return()=>{var l;const{prefixCls:u,id:c,active:d,tab:{key:h,tab:f,disabled:g,closeIcon:p},renderWrapper:m,removeAriaLabel:v,editable:y,onFocus:_}=n,b=`${u}-tab`,S=N("div",{key:h,ref:r,class:Ee(b,{[`${b}-with-remove`]:a.value,[`${b}-active`]:d,[`${b}-disabled`]:g}),style:i.style,onClick:o},[N("div",{role:"tab","aria-selected":d,id:c&&`${c}-tab-${h}`,class:`${b}-btn`,"aria-controls":c&&`${c}-panel-${h}`,"aria-disabled":g,tabindex:g?null:0,onClick:w=>{w.stopPropagation(),o(w)},onKeydown:w=>{[ot.SPACE,ot.ENTER].includes(w.which)&&(w.preventDefault(),o(w))},onFocus:_},[typeof f=="function"?f():f]),a.value&&N("button",{type:"button","aria-label":v||"remove",tabindex:0,class:`${b}-remove`,onClick:w=>{w.stopPropagation(),s(w)}},[(p==null?void 0:p())||((l=y.removeIcon)===null||l===void 0?void 0:l.call(y))||""])]);return m?m(S):S}}}),uK={width:0,height:0,left:0,top:0};function U7e(n,e){const t=ke(new Map);return Ut(()=>{var i,r;const o=new Map,s=n.value,a=e.value.get((i=s[0])===null||i===void 0?void 0:i.key)||uK,l=a.left+a.width;for(let u=0;u<s.length;u+=1){const{key:c}=s[u];let d=e.value.get(c);d||(d=e.value.get((r=s[u-1])===null||r===void 0?void 0:r.key)||uK);const h=o.get(c)||A({},d);h.right=l-h.left-h.width,o.set(c,h)}t.value=new Map(o)}),t}const Fle=Ie({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup(n,e){let{expose:t,attrs:i}=e;const r=ke();return t({domRef:r}),()=>{const{prefixCls:o,editable:s,locale:a}=n;return!s||s.showAdd===!1?null:N("button",{ref:r,type:"button",class:`${o}-nav-add`,style:i.style,"aria-label":(a==null?void 0:a.addAriaLabel)||"Add tab",onClick:l=>{s.onEdit("add",{event:l})}},[s.addIcon?s.addIcon():"+"])}}}),G7e={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:ge.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function},popupClassName:String,getPopupContainer:vt()},K7e=Ie({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:G7e,emits:["tabClick"],slots:Object,setup(n,e){let{attrs:t,slots:i}=e;const[r,o]=An(!1),[s,a]=An(null),l=f=>{const g=n.tabs.filter(v=>!v.disabled);let p=g.findIndex(v=>v.key===s.value)||0;const m=g.length;for(let v=0;v<m;v+=1){p=(p+f+m)%m;const y=g[p];if(!y.disabled){a(y.key);return}}},u=f=>{const{which:g}=f;if(!r.value){[ot.DOWN,ot.SPACE,ot.ENTER].includes(g)&&(o(!0),f.preventDefault());return}switch(g){case ot.UP:l(-1),f.preventDefault();break;case ot.DOWN:l(1),f.preventDefault();break;case ot.ESC:o(!1);break;case ot.SPACE:case ot.ENTER:s.value!==null&&n.onTabClick(s.value,f);break}},c=V(()=>`${n.id}-more-popup`),d=V(()=>s.value!==null?`${c.value}-${s.value}`:null),h=(f,g)=>{f.preventDefault(),f.stopPropagation(),n.editable.onEdit("remove",{key:g,event:f})};return Vt(()=>{Ve(s,()=>{const f=document.getElementById(d.value);f&&f.scrollIntoView&&f.scrollIntoView(!1)},{flush:"post",immediate:!0})}),Ve(r,()=>{r.value||a(null)}),mle({}),()=>{var f;const{prefixCls:g,id:p,tabs:m,locale:v,mobile:y,moreIcon:_=((f=i.moreIcon)===null||f===void 0?void 0:f.call(i))||N(MV,null,null),moreTransitionName:b,editable:S,tabBarGutter:w,rtl:C,onTabClick:x,popupClassName:L}=n,T=`${g}-dropdown`,I=v==null?void 0:v.dropdownAriaLabel,D={[C?"marginRight":"marginLeft"]:w};m.length||(D.visibility="hidden",D.order=1);const M=Ee({[`${T}-rtl`]:C,[`${L}`]:!0}),P=y?null:N(sle,{prefixCls:T,trigger:["hover"],visible:r.value,transitionName:b,onVisibleChange:o,overlayClassName:M,mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:n.getPopupContainer},{overlay:()=>N(ua,{onClick:k=>{let{key:O,domEvent:F}=k;x(O,F),o(!1)},id:c.value,tabindex:-1,role:"listbox","aria-activedescendant":d.value,selectedKeys:[s.value],"aria-label":I!==void 0?I:"expanded dropdown"},{default:()=>[m.map(k=>{var O,F;const R=S&&k.closable!==!1&&!k.disabled;return N(iy,{key:k.key,id:`${c.value}-${k.key}`,role:"option","aria-controls":p&&`${p}-panel-${k.key}`,disabled:k.disabled},{default:()=>[N("span",null,[typeof k.tab=="function"?k.tab():k.tab]),R&&N("button",{type:"button","aria-label":n.removeAriaLabel||"remove",tabindex:0,class:`${T}-menu-item-remove`,onClick:$=>{$.stopPropagation(),h($,k.key)}},[((O=k.closeIcon)===null||O===void 0?void 0:O.call(k))||((F=S.removeIcon)===null||F===void 0?void 0:F.call(S))||""])]})})]}),default:()=>N("button",{type:"button",class:`${g}-nav-more`,style:D,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":c.value,id:`${p}-more`,"aria-expanded":r.value,onKeydown:u},[_])});return N("div",{class:Ee(`${g}-nav-operations`,t.class),style:t.style},[P,N(Fle,{prefixCls:g,locale:v,editable:S},null)])}}}),$le=Symbol("tabsContextKey"),j7e=n=>{On($le,n)},Vle=()=>kt($le,{tabs:ke([]),prefixCls:ke()}),q7e=.1,cK=.01,Zx=20,dK=Math.pow(.995,Zx);function Y7e(n,e){const[t,i]=An(),[r,o]=An(0),[s,a]=An(0),[l,u]=An(),c=ke();function d(S){const{screenX:w,screenY:C}=S.touches[0];i({x:w,y:C}),clearInterval(c.value)}function h(S){if(!t.value)return;S.preventDefault();const{screenX:w,screenY:C}=S.touches[0],x=w-t.value.x,L=C-t.value.y;e(x,L),i({x:w,y:C});const T=Date.now();a(T-r.value),o(T),u({x,y:L})}function f(){if(!t.value)return;const S=l.value;if(i(null),u(null),S){const w=S.x/s.value,C=S.y/s.value,x=Math.abs(w),L=Math.abs(C);if(Math.max(x,L)<q7e)return;let T=w,I=C;c.value=setInterval(()=>{if(Math.abs(T)<cK&&Math.abs(I)<cK){clearInterval(c.value);return}T*=dK,I*=dK,e(T*Zx,I*Zx)},Zx)}}const g=ke();function p(S){const{deltaX:w,deltaY:C}=S;let x=0;const L=Math.abs(w),T=Math.abs(C);L===T?x=g.value==="x"?w:C:L>T?(x=w,g.value="x"):(x=C,g.value="y"),e(-x,-x)&&S.preventDefault()}const m=ke({onTouchStart:d,onTouchMove:h,onTouchEnd:f,onWheel:p});function v(S){m.value.onTouchStart(S)}function y(S){m.value.onTouchMove(S)}function _(S){m.value.onTouchEnd(S)}function b(S){m.value.onWheel(S)}Vt(()=>{var S,w;document.addEventListener("touchmove",y,{passive:!1}),document.addEventListener("touchend",_,{passive:!1}),(S=n.value)===null||S===void 0||S.addEventListener("touchstart",v,{passive:!1}),(w=n.value)===null||w===void 0||w.addEventListener("wheel",b,{passive:!1})}),fn(()=>{document.removeEventListener("touchmove",y),document.removeEventListener("touchend",_)})}function hK(n,e){const t=ke(n);function i(r){const o=typeof r=="function"?r(t.value):r;o!==t.value&&e(o,t.value),t.value=o}return[t,i]}const X7e=()=>{const n=ke(new Map),e=t=>i=>{n.value.set(t,i)};return RF(()=>{n.value=new Map}),[e,n]},Z7e=X7e,fK={width:0,height:0,left:0,top:0,right:0},Q7e=()=>({id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:ci(),editable:ci(),moreIcon:ge.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:ci(),popupClassName:String,getPopupContainer:vt(),onTabClick:{type:Function},onTabScroll:{type:Function}}),gK=Ie({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:Q7e(),slots:Object,emits:["tabClick","tabScroll"],setup(n,e){let{attrs:t,slots:i}=e;const{tabs:r,prefixCls:o}=Vle(),s=ye(),a=ye(),l=ye(),u=ye(),[c,d]=Z7e(),h=V(()=>n.tabPosition==="top"||n.tabPosition==="bottom"),[f,g]=hK(0,(oe,te)=>{h.value&&n.onTabScroll&&n.onTabScroll({direction:oe>te?"left":"right"})}),[p,m]=hK(0,(oe,te)=>{!h.value&&n.onTabScroll&&n.onTabScroll({direction:oe>te?"top":"bottom"})}),[v,y]=An(0),[_,b]=An(0),[S,w]=An(null),[C,x]=An(null),[L,T]=An(0),[I,D]=An(0),[M,P]=z7e(new Map),k=U7e(r,M),O=V(()=>`${o.value}-nav-operations-hidden`),F=ye(0),R=ye(0);Ut(()=>{h.value?n.rtl?(F.value=0,R.value=Math.max(0,v.value-S.value)):(F.value=Math.min(0,S.value-v.value),R.value=0):(F.value=Math.min(0,C.value-_.value),R.value=0)});const $=oe=>oe<F.value?F.value:oe>R.value?R.value:oe,H=ye(),[U,z]=An(),Z=()=>{z(Date.now())},X=()=>{clearTimeout(H.value)},ce=(oe,te)=>{oe(J=>$(J+te))};Y7e(s,(oe,te)=>{if(h.value){if(S.value>=v.value)return!1;ce(g,oe)}else{if(C.value>=_.value)return!1;ce(m,te)}return X(),Z(),!0}),Ve(U,()=>{X(),U.value&&(H.value=setTimeout(()=>{z(0)},100))});const q=function(){let oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activeKey;const te=k.value.get(oe)||{width:0,height:0,left:0,right:0,top:0};if(h.value){let J=f.value;n.rtl?te.right<f.value?J=te.right:te.right+te.width>f.value+S.value&&(J=te.right+te.width-S.value):te.left<-f.value?J=-te.left:te.left+te.width>-f.value+S.value&&(J=-(te.left+te.width-S.value)),m(0),g($(J))}else{let J=p.value;te.top<-p.value?J=-te.top:te.top+te.height>-p.value+C.value&&(J=-(te.top+te.height-C.value)),g(0),m($(J))}},j=ye(0),ie=ye(0);Ut(()=>{let oe,te,J,he,pe,Ce;const Ae=k.value;["top","bottom"].includes(n.tabPosition)?(oe="width",he=S.value,pe=v.value,Ce=L.value,te=n.rtl?"right":"left",J=Math.abs(f.value)):(oe="height",he=C.value,pe=v.value,Ce=I.value,te="top",J=-p.value);let Oe=he;pe+Ce>he&&pe<he&&(Oe=he-Ce);const fe=r.value;if(!fe.length)return[j.value,ie.value]=[0,0];const ne=fe.length;let Se=ne;for(let He=0;He<ne;He+=1){const lt=Ae.get(fe[He].key)||fK;if(lt[te]+lt[oe]>J+Oe){Se=He-1;break}}let Be=0;for(let He=ne-1;He>=0;He-=1)if((Ae.get(fe[He].key)||fK)[te]<J){Be=He+1;break}return[j.value,ie.value]=[Be,Se]});const Q=()=>{var oe,te,J,he,pe;const Ce=((oe=s.value)===null||oe===void 0?void 0:oe.offsetWidth)||0,Ae=((te=s.value)===null||te===void 0?void 0:te.offsetHeight)||0,Oe=((J=u.value)===null||J===void 0?void 0:J.$el)||{},fe=Oe.offsetWidth||0,ne=Oe.offsetHeight||0;w(Ce),x(Ae),T(fe),D(ne);const Se=(((he=a.value)===null||he===void 0?void 0:he.offsetWidth)||0)-fe,Be=(((pe=a.value)===null||pe===void 0?void 0:pe.offsetHeight)||0)-ne;y(Se),b(Be),P(()=>{const He=new Map;return r.value.forEach(lt=>{let{key:xe}=lt;const Me=d.value.get(xe),Ne=(Me==null?void 0:Me.$el)||Me;Ne&&He.set(xe,{width:Ne.offsetWidth,height:Ne.offsetHeight,left:Ne.offsetLeft,top:Ne.offsetTop})}),He})},le=V(()=>[...r.value.slice(0,j.value),...r.value.slice(ie.value+1)]),[ue,W]=An(),G=V(()=>k.value.get(n.activeKey)),K=ye(),de=()=>{Dt.cancel(K.value)};Ve([G,h,()=>n.rtl],()=>{const oe={};G.value&&(h.value?(n.rtl?oe.right=Rf(G.value.right):oe.left=Rf(G.value.left),oe.width=Rf(G.value.width)):(oe.top=Rf(G.value.top),oe.height=Rf(G.value.height))),de(),K.value=Dt(()=>{W(oe)})}),Ve([()=>n.activeKey,G,k,h],()=>{q()},{flush:"post"}),Ve([()=>n.rtl,()=>n.tabBarGutter,()=>n.activeKey,()=>r.value],()=>{Q()},{flush:"post"});const Y=oe=>{let{position:te,prefixCls:J,extra:he}=oe;if(!he)return null;const pe=he==null?void 0:he({position:te});return pe?N("div",{class:`${J}-extra-content`},[pe]):null};return fn(()=>{X(),de()}),()=>{const{id:oe,animated:te,activeKey:J,rtl:he,editable:pe,locale:Ce,tabPosition:Ae,tabBarGutter:Oe,onTabClick:fe}=n,{class:ne,style:Se}=t,Be=o.value,He=!!le.value.length,lt=`${Be}-nav-wrap`;let xe,Me,Ne,Ge;h.value?he?(Me=f.value>0,xe=f.value+S.value<v.value):(xe=f.value<0,Me=-f.value+S.value<v.value):(Ne=p.value<0,Ge=-p.value+C.value<_.value);const Ke={};Ae==="top"||Ae==="bottom"?Ke[he?"marginRight":"marginLeft"]=typeof Oe=="number"?`${Oe}px`:Oe:Ke.marginTop=typeof Oe=="number"?`${Oe}px`:Oe;const Je=r.value.map((Ye,jt)=>{const{key:en}=Ye;return N(H7e,{id:oe,prefixCls:Be,key:en,tab:Ye,style:jt===0?void 0:Ke,closable:Ye.closable,editable:pe,active:en===J,removeAriaLabel:Ce==null?void 0:Ce.removeAriaLabel,ref:c(en),onClick:zt=>{fe(en,zt)},onFocus:()=>{q(en),Z(),s.value&&(he||(s.value.scrollLeft=0),s.value.scrollTop=0)}},i)});return N("div",{role:"tablist",class:Ee(`${Be}-nav`,ne),style:Se,onKeydown:()=>{Z()}},[N(Y,{position:"left",prefixCls:Be,extra:i.leftExtra},null),N(Tc,{onResize:Q},{default:()=>[N("div",{class:Ee(lt,{[`${lt}-ping-left`]:xe,[`${lt}-ping-right`]:Me,[`${lt}-ping-top`]:Ne,[`${lt}-ping-bottom`]:Ge}),ref:s},[N(Tc,{onResize:Q},{default:()=>[N("div",{ref:a,class:`${Be}-nav-list`,style:{transform:`translate(${f.value}px, ${p.value}px)`,transition:U.value?"none":void 0}},[Je,N(Fle,{ref:u,prefixCls:Be,locale:Ce,editable:pe,style:A(A({},Je.length===0?void 0:Ke),{visibility:He?"hidden":null})},null),N("div",{class:Ee(`${Be}-ink-bar`,{[`${Be}-ink-bar-animated`]:te.inkBar}),style:ue.value},null)])]})])]}),N(K7e,se(se({},n),{},{removeAriaLabel:Ce==null?void 0:Ce.removeAriaLabel,ref:l,prefixCls:Be,tabs:le.value,class:!He&&O.value}),Xae(i,["moreIcon"])),N(Y,{position:"right",prefixCls:Be,extra:i.rightExtra},null),N(Y,{position:"right",prefixCls:Be,extra:i.tabBarExtraContent},null)])}}}),J7e=Ie({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup(n){const{tabs:e,prefixCls:t}=Vle();return()=>{const{id:i,activeKey:r,animated:o,tabPosition:s,rtl:a,destroyInactiveTabPane:l}=n,u=o.tabPane,c=t.value,d=e.value.findIndex(h=>h.key===r);return N("div",{class:`${c}-content-holder`},[N("div",{class:[`${c}-content`,`${c}-content-${s}`,{[`${c}-content-animated`]:u}],style:d&&u?{[a?"marginRight":"marginLeft"]:`-${d}00%`}:null},[e.value.map(h=>Ci(h.node,{key:h.key,prefixCls:c,tabKey:h.key,id:i,animated:u,active:h.key===r,destroyInactiveTabPane:l}))])])}}});var e6e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const t6e=e6e;function pK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){n6e(n,r,t[r])})}return n}function n6e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var $V=function(e,t){var i=pK({},e,t.attrs);return N(ri,pK({},i,{icon:t6e}),null)};$V.displayName="PlusOutlined";$V.inheritAttrs=!1;const i6e=$V,r6e=n=>{const{componentCls:e,motionDurationSlow:t}=n;return[{[e]:{[`${e}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${t}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${t}`}}}}},[gh(n,"slide-up"),gh(n,"slide-down")]]},o6e=r6e,s6e=n=>{const{componentCls:e,tabsCardHorizontalPadding:t,tabsCardHeadBackground:i,tabsCardGutter:r,colorSplit:o}=n;return{[`${e}-card`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{margin:0,padding:t,background:i,border:`${n.lineWidth}px ${n.lineType} ${o}`,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`},[`${e}-tab-active`]:{color:n.colorPrimary,background:n.colorBgContainer},[`${e}-ink-bar`]:{visibility:"hidden"}},[`&${e}-top, &${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginLeft:{_skip_check_:!0,value:`${r}px`}}}},[`&${e}-top`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},[`${e}-tab-active`]:{borderBottomColor:n.colorBgContainer}}},[`&${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},[`${e}-tab-active`]:{borderTopColor:n.colorBgContainer}}},[`&${e}-left, &${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginTop:`${r}px`}}},[`&${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadiusLG}px 0 0 ${n.borderRadiusLG}px`}},[`${e}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:n.colorBgContainer}}}},[`&${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px 0`}},[`${e}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:n.colorBgContainer}}}}}}},a6e=n=>{const{componentCls:e,tabsHoverColor:t,dropdownEdgeChildVerticalPadding:i}=n;return{[`${e}-dropdown`]:A(A({},wi(n)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:n.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${e}-dropdown-menu`]:{maxHeight:n.tabsDropdownHeight,margin:0,padding:`${i}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:n.colorBgContainer,backgroundClip:"padding-box",borderRadius:n.borderRadiusLG,outline:"none",boxShadow:n.boxShadowSecondary,"&-item":A(A({},hh),{display:"flex",alignItems:"center",minWidth:n.tabsDropdownWidth,margin:0,padding:`${n.paddingXXS}px ${n.paddingSM}px`,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:n.marginSM},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:t}},"&:hover":{background:n.controlItemBgHover},"&-disabled":{"&, &:hover":{color:n.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},l6e=n=>{const{componentCls:e,margin:t,colorSplit:i}=n;return{[`${e}-top, ${e}-bottom`]:{flexDirection:"column",[`> ${e}-nav, > div > ${e}-nav`]:{margin:`0 0 ${t}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${n.lineWidth}px ${n.lineType} ${i}`,content:"''"},[`${e}-ink-bar`]:{height:n.lineWidthBold,"&-animated":{transition:`width ${n.motionDurationSlow}, left ${n.motionDurationSlow},
            right ${n.motionDurationSlow}`}},[`${e}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:n.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:n.boxShadowTabsOverflowRight},[`&${e}-nav-wrap-ping-left::before`]:{opacity:1},[`&${e}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${e}-top`]:{[`> ${e}-nav,
        > div > ${e}-nav`]:{"&::before":{bottom:0},[`${e}-ink-bar`]:{bottom:0}}},[`${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,marginTop:`${t}px`,marginBottom:0,"&::before":{top:0},[`${e}-ink-bar`]:{top:0}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0}},[`${e}-left, ${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{flexDirection:"column",minWidth:n.controlHeight*1.25,[`${e}-tab`]:{padding:`${n.paddingXS}px ${n.paddingLG}px`,textAlign:"center"},[`${e}-tab + ${e}-tab`]:{margin:`${n.margin}px 0 0 0`},[`${e}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:n.controlHeight},"&::before":{top:0,boxShadow:n.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:n.boxShadowTabsOverflowBottom},[`&${e}-nav-wrap-ping-top::before`]:{opacity:1},[`&${e}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${e}-ink-bar`]:{width:n.lineWidthBold,"&-animated":{transition:`height ${n.motionDurationSlow}, top ${n.motionDurationSlow}`}},[`${e}-nav-list, ${e}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${e}-left`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${n.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:n.paddingLG}}}},[`${e}-right`]:{[`> ${e}-nav, > div > ${e}-nav`]:{order:1,[`${e}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${e}-content-holder, > div > ${e}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-n.lineWidth},borderRight:{_skip_check_:!0,value:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`},[`> ${e}-content > ${e}-tabpane`]:{paddingRight:{_skip_check_:!0,value:n.paddingLG}}}}}},u6e=n=>{const{componentCls:e,padding:t}=n;return{[e]:{"&-small":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px 0`,fontSize:n.fontSize}}},"&-large":{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${t}px 0`,fontSize:n.fontSizeLG}}}},[`${e}-card`]:{[`&${e}-small`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXXS*1.5}px ${t}px`}},[`&${e}-bottom`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`0 0 ${n.borderRadius}px ${n.borderRadius}px`}},[`&${e}-top`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:`${n.borderRadius}px ${n.borderRadius}px 0 0`}},[`&${e}-right`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${n.borderRadius}px ${n.borderRadius}px 0`}}},[`&${e}-left`]:{[`> ${e}-nav ${e}-tab`]:{borderRadius:{_skip_check_:!0,value:`${n.borderRadius}px 0 0 ${n.borderRadius}px`}}}},[`&${e}-large`]:{[`> ${e}-nav`]:{[`${e}-tab`]:{padding:`${n.paddingXS}px ${t}px ${n.paddingXXS*1.5}px`}}}}}},c6e=n=>{const{componentCls:e,tabsActiveColor:t,tabsHoverColor:i,iconCls:r,tabsHorizontalGutter:o}=n,s=`${e}-tab`;return{[s]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${n.paddingSM}px 0`,fontSize:`${n.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":A({"&:focus:not(:focus-visible), &:active":{color:t}},Jv(n)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-n.marginXXS},marginLeft:{_skip_check_:!0,value:n.marginXS},color:n.colorTextDescription,fontSize:n.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{color:n.colorTextHeading}},"&:hover":{color:i},[`&${s}-active ${s}-btn`]:{color:n.colorPrimary,textShadow:n.tabsActiveTextShadow},[`&${s}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed"},[`&${s}-disabled ${s}-btn, &${s}-disabled ${e}-remove`]:{"&:focus, &:active":{color:n.colorTextDisabled}},[`& ${s}-remove ${r}`]:{margin:0},[r]:{marginRight:{_skip_check_:!0,value:n.marginSM}}},[`${s} + ${s}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},d6e=n=>{const{componentCls:e,tabsHorizontalGutter:t,iconCls:i,tabsCardGutter:r}=n;return{[`${e}-rtl`]:{direction:"rtl",[`${e}-nav`]:{[`${e}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${t}px`},[`${e}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[i]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${n.marginSM}px`}},[`${e}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${n.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${n.marginXXS}px`},[i]:{margin:0}}}},[`&${e}-left`]:{[`> ${e}-nav`]:{order:1},[`> ${e}-content-holder`]:{order:0}},[`&${e}-right`]:{[`> ${e}-nav`]:{order:0},[`> ${e}-content-holder`]:{order:1}},[`&${e}-card${e}-top, &${e}-card${e}-bottom`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-tab + ${e}-tab`]:{marginRight:{_skip_check_:!0,value:`${r}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${e}-dropdown-rtl`]:{direction:"rtl"},[`${e}-menu-item`]:{[`${e}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},h6e=n=>{const{componentCls:e,tabsCardHorizontalPadding:t,tabsCardHeight:i,tabsCardGutter:r,tabsHoverColor:o,tabsActiveColor:s,colorSplit:a}=n;return{[e]:A(A(A(A({},wi(n)),{display:"flex",[`> ${e}-nav, > div > ${e}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${e}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${n.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${e}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${n.motionDurationSlow}`},[`${e}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${e}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${e}-nav-more`]:{position:"relative",padding:t,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:n.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${e}-nav-add`]:A({minWidth:`${i}px`,marginLeft:{_skip_check_:!0,value:`${r}px`},padding:`0 ${n.paddingXS}px`,background:"transparent",border:`${n.lineWidth}px ${n.lineType} ${a}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:n.colorText,transition:`all ${n.motionDurationSlow} ${n.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:s}},Jv(n))},[`${e}-extra-content`]:{flex:"none"},[`${e}-ink-bar`]:{position:"absolute",background:n.colorPrimary,pointerEvents:"none"}}),c6e(n)),{[`${e}-content`]:{position:"relative",width:"100%"},[`${e}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${e}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${e}-centered`]:{[`> ${e}-nav, > div > ${e}-nav`]:{[`${e}-nav-wrap`]:{[`&:not([class*='${e}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}},f6e=ki("Tabs",n=>{const e=n.controlHeightLG,t=Ln(n,{tabsHoverColor:n.colorPrimaryHover,tabsActiveColor:n.colorPrimaryActive,tabsCardHorizontalPadding:`${(e-Math.round(n.fontSize*n.lineHeight))/2-n.lineWidth}px ${n.padding}px`,tabsCardHeight:e,tabsCardGutter:n.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:n.colorFillAlter,dropdownEdgeChildVerticalPadding:n.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[u6e(t),d6e(t),l6e(t),a6e(t),s6e(t),h6e(t),o6e(t)]},n=>({zIndexPopup:n.zIndexPopupBase+50}));let mK=0;const Wle=()=>({prefixCls:{type:String},id:{type:String},popupClassName:String,getPopupContainer:vt(),activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:ui(),animated:Ki([Boolean,Object]),renderTabBar:vt(),tabBarGutter:{type:Number},tabBarStyle:ci(),tabPosition:ui(),destroyInactiveTabPane:_t(),hideAdd:Boolean,type:ui(),size:ui(),centered:Boolean,onEdit:vt(),onChange:vt(),onTabClick:vt(),onTabScroll:vt(),"onUpdate:activeKey":vt(),locale:ci(),onPrevClick:vt(),onNextClick:vt(),tabBarExtraContent:ge.any});function g6e(n){return n.map(e=>{if(Yo(e)){const t=A({},e.props||{});for(const[h,f]of Object.entries(t))delete t[h],t[Dy(h)]=f;const i=e.children||{},r=e.key!==void 0?e.key:void 0,{tab:o=i.tab,disabled:s,forceRender:a,closable:l,animated:u,active:c,destroyInactiveTabPane:d}=t;return A(A({key:r},t),{node:e,closeIcon:i.closeIcon,tab:o,disabled:s===""||s,forceRender:a===""||a,closable:l===""||l,animated:u===""||u,active:c===""||c,destroyInactiveTabPane:d===""||d})}return null}).filter(e=>e)}const p6e=Ie({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:A(A({},rr(Wle(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{tabs:fr()}),slots:Object,setup(n,e){let{attrs:t,slots:i}=e;Vi(n.onPrevClick===void 0&&n.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),Vi(n.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),Vi(i.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");const{prefixCls:r,direction:o,size:s,rootPrefixCls:a,getPopupContainer:l}=Wt("tabs",n),[u,c]=f6e(r),d=V(()=>o.value==="rtl"),h=V(()=>{const{animated:C,tabPosition:x}=n;return C===!1||["left","right"].includes(x)?{inkBar:!1,tabPane:!1}:C===!0?{inkBar:!0,tabPane:!0}:A({inkBar:!0,tabPane:!1},typeof C=="object"?C:{})}),[f,g]=An(!1);Vt(()=>{g(Nae())});const[p,m]=ny(()=>{var C;return(C=n.tabs[0])===null||C===void 0?void 0:C.key},{value:V(()=>n.activeKey),defaultValue:n.defaultActiveKey}),[v,y]=An(()=>n.tabs.findIndex(C=>C.key===p.value));Ut(()=>{var C;let x=n.tabs.findIndex(L=>L.key===p.value);x===-1&&(x=Math.max(0,Math.min(v.value,n.tabs.length-1)),m((C=n.tabs[x])===null||C===void 0?void 0:C.key)),y(x)});const[_,b]=ny(null,{value:V(()=>n.id)}),S=V(()=>f.value&&!["left","right"].includes(n.tabPosition)?"top":n.tabPosition);Vt(()=>{n.id||(b(`rc-tabs-${mK}`),mK+=1)});const w=(C,x)=>{var L,T;(L=n.onTabClick)===null||L===void 0||L.call(n,C,x);const I=C!==p.value;m(C),I&&((T=n.onChange)===null||T===void 0||T.call(n,C))};return j7e({tabs:V(()=>n.tabs),prefixCls:r}),()=>{const{id:C,type:x,tabBarGutter:L,tabBarStyle:T,locale:I,destroyInactiveTabPane:D,renderTabBar:M=i.renderTabBar,onTabScroll:P,hideAdd:k,centered:O}=n,F={id:_.value,activeKey:p.value,animated:h.value,tabPosition:S.value,rtl:d.value,mobile:f.value};let R;x==="editable-card"&&(R={onEdit:(z,Z)=>{let{key:X,event:ce}=Z;var q;(q=n.onEdit)===null||q===void 0||q.call(n,z==="add"?ce:X,z)},removeIcon:()=>N(dV,null,null),addIcon:i.addIcon?i.addIcon:()=>N(i6e,null,null),showAdd:k!==!0});let $;const H=A(A({},F),{moreTransitionName:`${a.value}-slide-up`,editable:R,locale:I,tabBarGutter:L,onTabClick:w,onTabScroll:P,style:T,getPopupContainer:l.value,popupClassName:Ee(n.popupClassName,c.value)});M?$=M(A(A({},H),{DefaultTabBar:gK})):$=N(gK,H,Xae(i,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));const U=r.value;return u(N("div",se(se({},t),{},{id:C,class:Ee(U,`${U}-${S.value}`,{[c.value]:!0,[`${U}-${s.value}`]:s.value,[`${U}-card`]:["card","editable-card"].includes(x),[`${U}-editable-card`]:x==="editable-card",[`${U}-centered`]:O,[`${U}-mobile`]:f.value,[`${U}-editable`]:x==="editable-card",[`${U}-rtl`]:d.value},t.class)}),[$,N(J7e,se(se({destroyInactiveTabPane:D},F),{},{animated:h.value}),null)]))}}}),mv=Ie({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:rr(Wle(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:Object,setup(n,e){let{attrs:t,slots:i,emit:r}=e;const o=s=>{r("update:activeKey",s),r("change",s)};return()=>{var s;const a=g6e(Qi((s=i.default)===null||s===void 0?void 0:s.call(i)));return N(p6e,se(se(se({},jn(n,["onUpdate:activeKey"])),t),{},{onChange:o,tabs:a}),i)}}}),m6e=()=>({tab:ge.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}),u5=Ie({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:m6e(),slots:Object,setup(n,e){let{attrs:t,slots:i}=e;const r=ke(n.forceRender);Ve([()=>n.active,()=>n.destroyInactiveTabPane],()=>{n.active?r.value=!0:n.destroyInactiveTabPane&&(r.value=!1)},{immediate:!0});const o=V(()=>n.active?{}:n.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"});return()=>{var s;const{prefixCls:a,forceRender:l,id:u,active:c,tabKey:d}=n;return N("div",{id:u&&`${u}-panel-${d}`,role:"tabpanel",tabindex:c?0:-1,"aria-labelledby":u&&`${u}-tab-${d}`,"aria-hidden":!c,style:[o.value,t.style],class:[`${a}-tabpane`,c&&`${a}-tabpane-active`,t.class]},[(c||r.value||l)&&((s=i.default)===null||s===void 0?void 0:s.call(i))])}}});mv.TabPane=u5;mv.install=function(n){return n.component(mv.name,mv),n.component(u5.name,u5),n};const v6e=n=>{const{antCls:e,componentCls:t,cardHeadHeight:i,cardPaddingBase:r,cardHeadTabsMarginBottom:o}=n;return A(A({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:i,marginBottom:-1,padding:`0 ${r}px`,color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG,background:"transparent",borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`,borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`},fh()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":A(A({display:"inline-block",flex:1},hh),{[`
          > ${t}-typography,
          > ${t}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${e}-tabs-top`]:{clear:"both",marginBottom:o,color:n.colorText,fontWeight:"normal",fontSize:n.fontSize,"&-bar":{borderBottom:`${n.lineWidth}px ${n.lineType} ${n.colorBorderSecondary}`}}})},y6e=n=>{const{cardPaddingBase:e,colorBorderSecondary:t,cardShadow:i,lineWidth:r}=n;return{width:"33.33%",padding:e,border:0,borderRadius:0,boxShadow:`
      ${r}px 0 0 0 ${t},
      0 ${r}px 0 0 ${t},
      ${r}px ${r}px 0 0 ${t},
      ${r}px 0 0 0 ${t} inset,
      0 ${r}px 0 0 ${t} inset;
    `,transition:`all ${n.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:i}}},_6e=n=>{const{componentCls:e,iconCls:t,cardActionsLiMargin:i,cardActionsIconSize:r,colorBorderSecondary:o}=n;return A(A({margin:0,padding:0,listStyle:"none",background:n.colorBgContainer,borderTop:`${n.lineWidth}px ${n.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px `},fh()),{"& > li":{margin:i,color:n.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:n.cardActionsIconSize*2,fontSize:n.fontSize,lineHeight:n.lineHeight,cursor:"pointer","&:hover":{color:n.colorPrimary,transition:`color ${n.motionDurationMid}`},[`a:not(${e}-btn), > ${t}`]:{display:"inline-block",width:"100%",color:n.colorTextDescription,lineHeight:`${n.fontSize*n.lineHeight}px`,transition:`color ${n.motionDurationMid}`,"&:hover":{color:n.colorPrimary}},[`> ${t}`]:{fontSize:r,lineHeight:`${r*n.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${n.lineWidth}px ${n.lineType} ${o}`}}})},b6e=n=>A(A({margin:`-${n.marginXXS}px 0`,display:"flex"},fh()),{"&-avatar":{paddingInlineEnd:n.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:n.marginXS}},"&-title":A({color:n.colorTextHeading,fontWeight:n.fontWeightStrong,fontSize:n.fontSizeLG},hh),"&-description":{color:n.colorTextDescription}}),S6e=n=>{const{componentCls:e,cardPaddingBase:t,colorFillAlter:i}=n;return{[`${e}-head`]:{padding:`0 ${t}px`,background:i,"&-title":{fontSize:n.fontSize}},[`${e}-body`]:{padding:`${n.padding}px ${t}px`}}},w6e=n=>{const{componentCls:e}=n;return{overflow:"hidden",[`${e}-body`]:{userSelect:"none"}}},C6e=n=>{const{componentCls:e,cardShadow:t,cardHeadPadding:i,colorBorderSecondary:r,boxShadow:o,cardPaddingBase:s}=n;return{[e]:A(A({},wi(n)),{position:"relative",background:n.colorBgContainer,borderRadius:n.borderRadiusLG,[`&:not(${e}-bordered)`]:{boxShadow:o},[`${e}-head`]:v6e(n),[`${e}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:n.fontSize},[`${e}-body`]:A({padding:s,borderRadius:` 0 0 ${n.borderRadiusLG}px ${n.borderRadiusLG}px`},fh()),[`${e}-grid`]:y6e(n),[`${e}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${n.borderRadiusLG}px ${n.borderRadiusLG}px 0 0`}},[`${e}-actions`]:_6e(n),[`${e}-meta`]:b6e(n)}),[`${e}-bordered`]:{border:`${n.lineWidth}px ${n.lineType} ${r}`,[`${e}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${e}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${n.motionDurationMid}, border-color ${n.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:t}},[`${e}-contain-grid`]:{[`${e}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${e}-loading) ${e}-body`]:{marginBlockStart:-n.lineWidth,marginInlineStart:-n.lineWidth,padding:0}},[`${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{paddingTop:i}}},[`${e}-type-inner`]:S6e(n),[`${e}-loading`]:w6e(n),[`${e}-rtl`]:{direction:"rtl"}}},x6e=n=>{const{componentCls:e,cardPaddingSM:t,cardHeadHeightSM:i}=n;return{[`${e}-small`]:{[`> ${e}-head`]:{minHeight:i,padding:`0 ${t}px`,fontSize:n.fontSize,[`> ${e}-head-wrapper`]:{[`> ${e}-extra`]:{fontSize:n.fontSize}}},[`> ${e}-body`]:{padding:t}},[`${e}-small${e}-contain-tabs`]:{[`> ${e}-head`]:{[`${e}-head-title, ${e}-extra`]:{minHeight:i,paddingTop:0,display:"flex",alignItems:"center"}}}}},L6e=ki("Card",n=>{const e=Ln(n,{cardShadow:n.boxShadowCard,cardHeadHeight:n.fontSizeLG*n.lineHeightLG+n.padding*2,cardHeadHeightSM:n.fontSize*n.lineHeight+n.paddingXS*2,cardHeadPadding:n.padding,cardPaddingBase:n.paddingLG,cardHeadTabsMarginBottom:-n.padding-n.lineWidth,cardActionsLiMargin:`${n.paddingSM}px 0`,cardActionsIconSize:n.fontSize,cardPaddingSM:12});return[C6e(e),x6e(e)]}),T6e=()=>({prefixCls:String,width:{type:[Number,String]}}),I6e=Ie({compatConfig:{MODE:3},name:"SkeletonTitle",props:T6e(),setup(n){return()=>{const{prefixCls:e,width:t}=n,i=typeof t=="number"?`${t}px`:t;return N("h3",{class:e,style:{width:i}},null)}}}),VV=I6e,D6e=()=>({prefixCls:String,width:{type:[Number,String,Array]},rows:Number}),E6e=Ie({compatConfig:{MODE:3},name:"SkeletonParagraph",props:D6e(),setup(n){const e=t=>{const{width:i,rows:r=2}=n;if(Array.isArray(i))return i[t];if(r-1===t)return i};return()=>{const{prefixCls:t,rows:i}=n,r=[...Array(i)].map((o,s)=>{const a=e(s);return N("li",{key:s,style:{width:typeof a=="number"?`${a}px`:a}},null)});return N("ul",{class:t},[r])}}}),M6e=E6e,VE=()=>({prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}),zle=n=>{const{prefixCls:e,size:t,shape:i}=n,r=Ee({[`${e}-lg`]:t==="large",[`${e}-sm`]:t==="small"}),o=Ee({[`${e}-circle`]:i==="circle",[`${e}-square`]:i==="square",[`${e}-round`]:i==="round"}),s=typeof t=="number"?{width:`${t}px`,height:`${t}px`,lineHeight:`${t}px`}:{};return N("span",{class:Ee(e,r,o),style:s},null)};zle.displayName="SkeletonElement";const WE=zle,A6e=new _n("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),zE=n=>({height:n,lineHeight:`${n}px`}),vv=n=>A({width:n},zE(n)),N6e=n=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:n.skeletonLoadingBackground,animationName:A6e,animationDuration:n.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),Y2=n=>A({width:n*5,minWidth:n*5},zE(n)),k6e=n=>{const{skeletonAvatarCls:e,color:t,controlHeight:i,controlHeightLG:r,controlHeightSM:o}=n;return{[`${e}`]:A({display:"inline-block",verticalAlign:"top",background:t},vv(i)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:A({},vv(r)),[`${e}${e}-sm`]:A({},vv(o))}},P6e=n=>{const{controlHeight:e,borderRadiusSM:t,skeletonInputCls:i,controlHeightLG:r,controlHeightSM:o,color:s}=n;return{[`${i}`]:A({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t},Y2(e)),[`${i}-lg`]:A({},Y2(r)),[`${i}-sm`]:A({},Y2(o))}},vK=n=>A({width:n},zE(n)),O6e=n=>{const{skeletonImageCls:e,imageSizeBase:t,color:i,borderRadiusSM:r}=n;return{[`${e}`]:A(A({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:i,borderRadius:r},vK(t*2)),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:A(A({},vK(t)),{maxWidth:t*4,maxHeight:t*4}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},X2=(n,e,t)=>{const{skeletonButtonCls:i}=n;return{[`${t}${i}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${t}${i}-round`]:{borderRadius:e}}},Z2=n=>A({width:n*2,minWidth:n*2},zE(n)),R6e=n=>{const{borderRadiusSM:e,skeletonButtonCls:t,controlHeight:i,controlHeightLG:r,controlHeightSM:o,color:s}=n;return A(A(A(A(A({[`${t}`]:A({display:"inline-block",verticalAlign:"top",background:s,borderRadius:e,width:i*2,minWidth:i*2},Z2(i))},X2(n,i,t)),{[`${t}-lg`]:A({},Z2(r))}),X2(n,r,`${t}-lg`)),{[`${t}-sm`]:A({},Z2(o))}),X2(n,o,`${t}-sm`))},B6e=n=>{const{componentCls:e,skeletonAvatarCls:t,skeletonTitleCls:i,skeletonParagraphCls:r,skeletonButtonCls:o,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:u,controlHeightSM:c,color:d,padding:h,marginSM:f,borderRadius:g,skeletonTitleHeight:p,skeletonBlockRadius:m,skeletonParagraphLineHeight:v,controlHeightXS:y,skeletonParagraphMarginTop:_}=n;return{[`${e}`]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[`${t}`]:A({display:"inline-block",verticalAlign:"top",background:d},vv(l)),[`${t}-circle`]:{borderRadius:"50%"},[`${t}-lg`]:A({},vv(u)),[`${t}-sm`]:A({},vv(c))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${i}`]:{width:"100%",height:p,background:d,borderRadius:m,[`+ ${r}`]:{marginBlockStart:c}},[`${r}`]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:m,"+ li":{marginBlockStart:y}}},[`${r}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${i}, ${r} > li`]:{borderRadius:g}}},[`${e}-with-avatar ${e}-content`]:{[`${i}`]:{marginBlockStart:f,[`+ ${r}`]:{marginBlockStart:_}}},[`${e}${e}-element`]:A(A(A(A({display:"inline-block",width:"auto"},R6e(n)),k6e(n)),P6e(n)),O6e(n)),[`${e}${e}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${s}`]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${i},
        ${r} > li,
        ${t},
        ${o},
        ${s},
        ${a}
      `]:A({},N6e(n))}}},Sw=ki("Skeleton",n=>{const{componentCls:e}=n,t=Ln(n,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n.controlHeight*1.5,skeletonTitleHeight:n.controlHeight/2,skeletonBlockRadius:n.borderRadiusSM,skeletonParagraphLineHeight:n.controlHeight/2,skeletonParagraphMarginTop:n.marginLG+n.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${n.color} 25%, ${n.colorGradientEnd} 37%, ${n.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[B6e(t)]},n=>{const{colorFillContent:e,colorFill:t}=n;return{color:e,colorGradientEnd:t}}),F6e=()=>({active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}});function Q2(n){return n&&typeof n=="object"?n:{}}function $6e(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function V6e(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function W6e(n,e){const t={};return(!n||!e)&&(t.width="61%"),!n&&e?t.rows=3:t.rows=2,t}const z6e=Ie({compatConfig:{MODE:3},name:"ASkeleton",props:rr(F6e(),{avatar:!1,title:!0,paragraph:!0}),setup(n,e){let{slots:t}=e;const{prefixCls:i,direction:r}=Wt("skeleton",n),[o,s]=Sw(i);return()=>{var a;const{loading:l,avatar:u,title:c,paragraph:d,active:h,round:f}=n,g=i.value;if(l||n.loading===void 0){const p=!!u||u==="",m=!!c||c==="",v=!!d||d==="";let y;if(p){const S=A(A({prefixCls:`${g}-avatar`},$6e(m,v)),Q2(u));y=N("div",{class:`${g}-header`},[N(WE,S,null)])}let _;if(m||v){let S;if(m){const C=A(A({prefixCls:`${g}-title`},V6e(p,v)),Q2(c));S=N(VV,C,null)}let w;if(v){const C=A(A({prefixCls:`${g}-paragraph`},W6e(p,m)),Q2(d));w=N(M6e,C,null)}_=N("div",{class:`${g}-content`},[S,w])}const b=Ee(g,{[`${g}-with-avatar`]:p,[`${g}-active`]:h,[`${g}-rtl`]:r.value==="rtl",[`${g}-round`]:f,[s.value]:!0});return o(N("div",{class:b},[y,_]))}return(a=t.default)===null||a===void 0?void 0:a.call(t)}}}),Po=z6e,H6e=()=>A(A({},VE()),{size:String,block:Boolean}),U6e=Ie({compatConfig:{MODE:3},name:"ASkeletonButton",props:rr(H6e(),{size:"default"}),setup(n){const{prefixCls:e}=Wt("skeleton",n),[t,i]=Sw(e),r=V(()=>Ee(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},i.value));return()=>t(N("div",{class:r.value},[N(WE,se(se({},n),{},{prefixCls:`${e.value}-button`}),null)]))}}),Hle=U6e,G6e=Ie({compatConfig:{MODE:3},name:"ASkeletonInput",props:A(A({},jn(VE(),["shape"])),{size:String,block:Boolean}),setup(n){const{prefixCls:e}=Wt("skeleton",n),[t,i]=Sw(e),r=V(()=>Ee(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active,[`${e.value}-block`]:n.block},i.value));return()=>t(N("div",{class:r.value},[N(WE,se(se({},n),{},{prefixCls:`${e.value}-input`}),null)]))}}),Ule=G6e,K6e="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",j6e=Ie({compatConfig:{MODE:3},name:"ASkeletonImage",props:jn(VE(),["size","shape","active"]),setup(n){const{prefixCls:e}=Wt("skeleton",n),[t,i]=Sw(e),r=V(()=>Ee(e.value,`${e.value}-element`,i.value));return()=>t(N("div",{class:r.value},[N("div",{class:`${e.value}-image`},[N("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:`${e.value}-image-svg`},[N("path",{d:K6e,class:`${e.value}-image-path`},null)])])]))}}),Gle=j6e,q6e=()=>A(A({},VE()),{shape:String}),Y6e=Ie({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:rr(q6e(),{size:"default",shape:"circle"}),setup(n){const{prefixCls:e}=Wt("skeleton",n),[t,i]=Sw(e),r=V(()=>Ee(e.value,`${e.value}-element`,{[`${e.value}-active`]:n.active},i.value));return()=>t(N("div",{class:r.value},[N(WE,se(se({},n),{},{prefixCls:`${e.value}-avatar`}),null)]))}}),Kle=Y6e;Po.Button=Hle;Po.Avatar=Kle;Po.Input=Ule;Po.Image=Gle;Po.Title=VV;Po.install=function(n){return n.component(Po.name,Po),n.component(Po.Button.name,Hle),n.component(Po.Avatar.name,Kle),n.component(Po.Input.name,Ule),n.component(Po.Image.name,Gle),n.component(Po.Title.name,VV),n};const{TabPane:X6e}=mv,Z6e=()=>({prefixCls:String,title:ge.any,extra:ge.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:ge.any,tabList:{type:Array},tabBarExtraContent:ge.any,activeTabKey:String,defaultActiveTabKey:String,cover:ge.any,onTabChange:{type:Function}}),Q6e=Ie({compatConfig:{MODE:3},name:"ACard",inheritAttrs:!1,props:Z6e(),slots:Object,setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r,direction:o,size:s}=Wt("card",n),[a,l]=L6e(r),u=h=>h.map((g,p)=>Rr(g)&&!N3(g)||!Rr(g)?N("li",{style:{width:`${100/h.length}%`},key:`action-${p}`},[N("span",null,[g])]):null),c=h=>{var f;(f=n.onTabChange)===null||f===void 0||f.call(n,h)},d=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],f;return h.forEach(g=>{g&&tse(g.type)&&g.type.__ANT_CARD_GRID&&(f=!0)}),f};return()=>{var h,f,g,p,m,v;const{headStyle:y={},bodyStyle:_={},loading:b,bordered:S=!0,type:w,tabList:C,hoverable:x,activeTabKey:L,defaultActiveTabKey:T,tabBarExtraContent:I=v0((h=t.tabBarExtraContent)===null||h===void 0?void 0:h.call(t)),title:D=v0((f=t.title)===null||f===void 0?void 0:f.call(t)),extra:M=v0((g=t.extra)===null||g===void 0?void 0:g.call(t)),actions:P=v0((p=t.actions)===null||p===void 0?void 0:p.call(t)),cover:k=v0((m=t.cover)===null||m===void 0?void 0:m.call(t))}=n,O=Qi((v=t.default)===null||v===void 0?void 0:v.call(t)),F=r.value,R={[`${F}`]:!0,[l.value]:!0,[`${F}-loading`]:b,[`${F}-bordered`]:S,[`${F}-hoverable`]:!!x,[`${F}-contain-grid`]:d(O),[`${F}-contain-tabs`]:C&&C.length,[`${F}-${s.value}`]:s.value,[`${F}-type-${w}`]:!!w,[`${F}-rtl`]:o.value==="rtl"},$=N(Po,{loading:!0,active:!0,paragraph:{rows:4},title:!1},{default:()=>[O]}),H=L!==void 0,U={size:"large",[H?"activeKey":"defaultActiveKey"]:H?L:T,onChange:c,class:`${F}-head-tabs`};let z;const Z=C&&C.length?N(mv,U,{default:()=>[C.map(j=>{const{tab:ie,slots:Q}=j,le=Q==null?void 0:Q.tab;Vi(!Q,"Card","tabList slots is deprecated, Please use `customTab` instead.");let ue=ie!==void 0?ie:t[le]?t[le](j):null;return ue=_D(t,"customTab",j,()=>[ue]),N(X6e,{tab:ue,key:j.key,disabled:j.disabled},null)})],rightExtra:I?()=>I:null}):null;(D||M||Z)&&(z=N("div",{class:`${F}-head`,style:y},[N("div",{class:`${F}-head-wrapper`},[D&&N("div",{class:`${F}-head-title`},[D]),M&&N("div",{class:`${F}-extra`},[M])]),Z]));const X=k?N("div",{class:`${F}-cover`},[k]):null,ce=N("div",{class:`${F}-body`,style:_},[b?$:O]),q=P&&P.length?N("ul",{class:`${F}-actions`},[u(P)]):null;return a(N("div",se(se({ref:"cardContainerRef"},i),{},{class:[R,i.class]}),[z,X,O&&O.length?ce:null,q]))}}}),yv=Q6e,J6e=()=>({prefixCls:String,title:b2(),description:b2(),avatar:b2()}),c5=Ie({compatConfig:{MODE:3},name:"ACardMeta",props:J6e(),slots:Object,setup(n,e){let{slots:t}=e;const{prefixCls:i}=Wt("card",n);return()=>{const r={[`${i.value}-meta`]:!0},o=pg(t,n,"avatar"),s=pg(t,n,"title"),a=pg(t,n,"description"),l=o?N("div",{class:`${i.value}-meta-avatar`},[o]):null,u=s?N("div",{class:`${i.value}-meta-title`},[s]):null,c=a?N("div",{class:`${i.value}-meta-description`},[a]):null,d=u||c?N("div",{class:`${i.value}-meta-detail`},[u,c]):null;return N("div",{class:r},[l,d])}}}),e8e=()=>({prefixCls:String,hoverable:{type:Boolean,default:!0}}),d5=Ie({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:e8e(),setup(n,e){let{slots:t}=e;const{prefixCls:i}=Wt("card",n),r=V(()=>({[`${i.value}-grid`]:!0,[`${i.value}-grid-hoverable`]:n.hoverable}));return()=>{var o;return N("div",{class:r.value},[(o=t.default)===null||o===void 0?void 0:o.call(t)])}}});yv.Meta=c5;yv.Grid=d5;yv.install=function(n){return n.component(yv.name,yv),n.component(c5.name,c5),n.component(d5.name,d5),n};const jle=Symbol("TreeContextKey"),t8e=Ie({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(n,e){let{slots:t}=e;return On(jle,V(()=>n.value)),()=>{var i;return(i=t.default)===null||i===void 0?void 0:i.call(t)}}}),WV=()=>kt(jle,V(()=>({}))),qle=Symbol("KeysStateKey"),n8e=n=>{On(qle,n)},Yle=()=>kt(qle,{expandedKeys:ye([]),selectedKeys:ye([]),loadedKeys:ye([]),loadingKeys:ye([]),checkedKeys:ye([]),halfCheckedKeys:ye([]),expandedKeysSet:V(()=>new Set),selectedKeysSet:V(()=>new Set),loadedKeysSet:V(()=>new Set),loadingKeysSet:V(()=>new Set),checkedKeysSet:V(()=>new Set),halfCheckedKeysSet:V(()=>new Set),flattenNodes:ye([])}),i8e=n=>{let{prefixCls:e,level:t,isStart:i,isEnd:r}=n;const o=`${e}-indent-unit`,s=[];for(let a=0;a<t;a+=1)s.push(N("span",{key:a,class:{[o]:!0,[`${o}-start`]:i[a],[`${o}-end`]:r[a]}},null));return N("span",{"aria-hidden":"true",class:`${e}-indent`},[s])},r8e=i8e,Xle={eventKey:[String,Number],prefixCls:String,title:ge.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:ge.any,switcherIcon:ge.any,domRef:{type:Function}},o8e={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Zle=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:ge.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:ge.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:ge.any,switcherIcon:ge.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var s8e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const yK="open",_K="close",a8e="---",h5=Ie({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Xle,isTreeNode:1,setup(n,e){let{attrs:t,slots:i,expose:r}=e;"slots"in n.data,`${Object.keys(n.data.slots||{}).map(fe=>"`v-slot:"+fe+"` ")}`;const o=ye(!1),s=WV(),{expandedKeysSet:a,selectedKeysSet:l,loadedKeysSet:u,loadingKeysSet:c,checkedKeysSet:d,halfCheckedKeysSet:h}=Yle(),{dragOverNodeKey:f,dropPosition:g,keyEntities:p}=s.value,m=V(()=>Qx(n.eventKey,{expandedKeysSet:a.value,selectedKeysSet:l.value,loadedKeysSet:u.value,loadingKeysSet:c.value,checkedKeysSet:d.value,halfCheckedKeysSet:h.value,dragOverNodeKey:f,dropPosition:g,keyEntities:p})),v=wa(()=>m.value.expanded),y=wa(()=>m.value.selected),_=wa(()=>m.value.checked),b=wa(()=>m.value.loaded),S=wa(()=>m.value.loading),w=wa(()=>m.value.halfChecked),C=wa(()=>m.value.dragOver),x=wa(()=>m.value.dragOverGapTop),L=wa(()=>m.value.dragOverGapBottom),T=wa(()=>m.value.pos),I=ye(),D=V(()=>{const{eventKey:fe}=n,{keyEntities:ne}=s.value,{children:Se}=ne[fe]||{};return!!(Se||[]).length}),M=V(()=>{const{isLeaf:fe}=n,{loadData:ne}=s.value,Se=D.value;return fe===!1?!1:fe||!ne&&!Se||ne&&b.value&&!Se}),P=V(()=>M.value?null:v.value?yK:_K),k=V(()=>{const{disabled:fe}=n,{disabled:ne}=s.value;return!!(ne||fe)}),O=V(()=>{const{checkable:fe}=n,{checkable:ne}=s.value;return!ne||fe===!1?!1:ne}),F=V(()=>{const{selectable:fe}=n,{selectable:ne}=s.value;return typeof fe=="boolean"?fe:ne}),R=V(()=>{const{data:fe,active:ne,checkable:Se,disableCheckbox:Be,disabled:He,selectable:lt}=n;return A(A({active:ne,checkable:Se,disableCheckbox:Be,disabled:He,selectable:lt},fe),{dataRef:fe,data:fe,isLeaf:M.value,checked:_.value,expanded:v.value,loading:S.value,selected:y.value,halfChecked:w.value})}),$=Ts(),H=V(()=>{const{eventKey:fe}=n,{keyEntities:ne}=s.value,{parent:Se}=ne[fe]||{};return A(A({},Jx(A({},n,m.value))),{parent:Se})}),U=pi({eventData:H,eventKey:V(()=>n.eventKey),selectHandle:I,pos:T,key:$.vnode.key});r(U);const z=fe=>{const{onNodeDoubleClick:ne}=s.value;ne(fe,H.value)},Z=fe=>{if(k.value)return;const{onNodeSelect:ne}=s.value;fe.preventDefault(),ne(fe,H.value)},X=fe=>{if(k.value)return;const{disableCheckbox:ne}=n,{onNodeCheck:Se}=s.value;if(!O.value||ne)return;fe.preventDefault();const Be=!_.value;Se(fe,H.value,Be)},ce=fe=>{const{onNodeClick:ne}=s.value;ne(fe,H.value),F.value?Z(fe):X(fe)},q=fe=>{const{onNodeMouseEnter:ne}=s.value;ne(fe,H.value)},j=fe=>{const{onNodeMouseLeave:ne}=s.value;ne(fe,H.value)},ie=fe=>{const{onNodeContextMenu:ne}=s.value;ne(fe,H.value)},Q=fe=>{const{onNodeDragStart:ne}=s.value;fe.stopPropagation(),o.value=!0,ne(fe,U);try{fe.dataTransfer.setData("text/plain","")}catch{}},le=fe=>{const{onNodeDragEnter:ne}=s.value;fe.preventDefault(),fe.stopPropagation(),ne(fe,U)},ue=fe=>{const{onNodeDragOver:ne}=s.value;fe.preventDefault(),fe.stopPropagation(),ne(fe,U)},W=fe=>{const{onNodeDragLeave:ne}=s.value;fe.stopPropagation(),ne(fe,U)},G=fe=>{const{onNodeDragEnd:ne}=s.value;fe.stopPropagation(),o.value=!1,ne(fe,U)},K=fe=>{const{onNodeDrop:ne}=s.value;fe.preventDefault(),fe.stopPropagation(),o.value=!1,ne(fe,U)},de=fe=>{const{onNodeExpand:ne}=s.value;S.value||ne(fe,H.value)},Y=()=>{const{data:fe}=n,{draggable:ne}=s.value;return!!(ne&&(!ne.nodeDraggable||ne.nodeDraggable(fe)))},oe=()=>{const{draggable:fe,prefixCls:ne}=s.value;return fe&&(fe!=null&&fe.icon)?N("span",{class:`${ne}-draggable-icon`},[fe.icon]):null},te=()=>{var fe,ne,Se;const{switcherIcon:Be=i.switcherIcon||((fe=s.value.slots)===null||fe===void 0?void 0:fe[(Se=(ne=n.data)===null||ne===void 0?void 0:ne.slots)===null||Se===void 0?void 0:Se.switcherIcon])}=n,{switcherIcon:He}=s.value,lt=Be||He;return typeof lt=="function"?lt(R.value):lt},J=()=>{const{loadData:fe,onNodeLoad:ne}=s.value;S.value||fe&&v.value&&!M.value&&!D.value&&!b.value&&ne(H.value)};Vt(()=>{J()}),vu(()=>{J()});const he=()=>{const{prefixCls:fe}=s.value,ne=te();if(M.value)return ne!==!1?N("span",{class:Ee(`${fe}-switcher`,`${fe}-switcher-noop`)},[ne]):null;const Se=Ee(`${fe}-switcher`,`${fe}-switcher_${v.value?yK:_K}`);return ne!==!1?N("span",{onClick:de,class:Se},[ne]):null},pe=()=>{var fe,ne;const{disableCheckbox:Se}=n,{prefixCls:Be}=s.value,He=k.value;return O.value?N("span",{class:Ee(`${Be}-checkbox`,_.value&&`${Be}-checkbox-checked`,!_.value&&w.value&&`${Be}-checkbox-indeterminate`,(He||Se)&&`${Be}-checkbox-disabled`),onClick:X},[(ne=(fe=s.value).customCheckable)===null||ne===void 0?void 0:ne.call(fe)]):null},Ce=()=>{const{prefixCls:fe}=s.value;return N("span",{class:Ee(`${fe}-iconEle`,`${fe}-icon__${P.value||"docu"}`,S.value&&`${fe}-icon_loading`)},null)},Ae=()=>{const{disabled:fe,eventKey:ne}=n,{draggable:Se,dropLevelOffset:Be,dropPosition:He,prefixCls:lt,indent:xe,dropIndicatorRender:Me,dragOverNodeKey:Ne,direction:Ge}=s.value;return!fe&&Se!==!1&&Ne===ne?Me({dropPosition:He,dropLevelOffset:Be,indent:xe,prefixCls:lt,direction:Ge}):null},Oe=()=>{var fe,ne,Se,Be,He,lt;const{icon:xe=i.icon,data:Me}=n,Ne=i.title||((fe=s.value.slots)===null||fe===void 0?void 0:fe[(Se=(ne=n.data)===null||ne===void 0?void 0:ne.slots)===null||Se===void 0?void 0:Se.title])||((Be=s.value.slots)===null||Be===void 0?void 0:Be.title)||n.title,{prefixCls:Ge,showIcon:Ke,icon:Je,loadData:Ye}=s.value,jt=k.value,en=`${Ge}-node-content-wrapper`;let zt;if(Ke){const or=xe||((He=s.value.slots)===null||He===void 0?void 0:He[(lt=Me==null?void 0:Me.slots)===null||lt===void 0?void 0:lt.icon])||Je;zt=or?N("span",{class:Ee(`${Ge}-iconEle`,`${Ge}-icon__customize`)},[typeof or=="function"?or(R.value):or]):Ce()}else Ye&&S.value&&(zt=Ce());let on;typeof Ne=="function"?on=Ne(R.value):on=Ne,on=on===void 0?a8e:on;const un=N("span",{class:`${Ge}-title`},[on]);return N("span",{ref:I,title:typeof Ne=="string"?Ne:"",class:Ee(`${en}`,`${en}-${P.value||"normal"}`,!jt&&(y.value||o.value)&&`${Ge}-node-selected`),onMouseenter:q,onMouseleave:j,onContextmenu:ie,onClick:ce,onDblclick:z},[zt,un,Ae()])};return()=>{const fe=A(A({},n),t),{eventKey:ne,isLeaf:Se,isStart:Be,isEnd:He,domRef:lt,active:xe,data:Me,onMousemove:Ne,selectable:Ge}=fe,Ke=s8e(fe,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:Je,filterTreeNode:Ye,keyEntities:jt,dropContainerKey:en,dropTargetKey:zt,draggingNodeKey:on}=s.value,un=k.value,or=Ay(Ke,{aria:!0,data:!0}),{level:Ui}=jt[ne]||{},sr=He[He.length-1],xi=Y(),so=!un&&xi,gl=on===ne,Tu=Ge!==void 0?{"aria-selected":!!Ge}:void 0;return N("div",se(se({ref:lt,class:Ee(t.class,`${Je}-treenode`,{[`${Je}-treenode-disabled`]:un,[`${Je}-treenode-switcher-${v.value?"open":"close"}`]:!Se,[`${Je}-treenode-checkbox-checked`]:_.value,[`${Je}-treenode-checkbox-indeterminate`]:w.value,[`${Je}-treenode-selected`]:y.value,[`${Je}-treenode-loading`]:S.value,[`${Je}-treenode-active`]:xe,[`${Je}-treenode-leaf-last`]:sr,[`${Je}-treenode-draggable`]:so,dragging:gl,"drop-target":zt===ne,"drop-container":en===ne,"drag-over":!un&&C.value,"drag-over-gap-top":!un&&x.value,"drag-over-gap-bottom":!un&&L.value,"filter-node":Ye&&Ye(H.value)}),style:t.style,draggable:so,"aria-grabbed":gl,onDragstart:so?Q:void 0,onDragenter:xi?le:void 0,onDragover:xi?ue:void 0,onDragleave:xi?W:void 0,onDrop:xi?K:void 0,onDragend:xi?G:void 0,onMousemove:Ne},Tu),or),[N(r8e,{prefixCls:Je,level:Ui,isStart:Be,isEnd:He},null),oe(),he(),pe(),Oe()])}}});globalThis&&globalThis.__rest;function Dl(n,e){if(!n)return[];const t=n.slice(),i=t.indexOf(e);return i>=0&&t.splice(i,1),t}function $u(n,e){const t=(n||[]).slice();return t.indexOf(e)===-1&&t.push(e),t}function zV(n){return n.split("-")}function Qle(n,e){return`${n}-${e}`}function l8e(n){return n&&n.type&&n.type.isTreeNode}function u8e(n,e){const t=[],i=e[n];function r(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(s=>{let{key:a,children:l}=s;t.push(a),r(l)})}return r(i.children),t}function c8e(n){if(n.parent){const e=zV(n.pos);return Number(e[e.length-1])===n.parent.children.length-1}return!1}function d8e(n){const e=zV(n.pos);return Number(e[e.length-1])===0}function bK(n,e,t,i,r,o,s,a,l,u){var c;const{clientX:d,clientY:h}=n,{top:f,height:g}=n.target.getBoundingClientRect(),m=((u==="rtl"?-1:1)*(((r==null?void 0:r.x)||0)-d)-12)/i;let v=a[t.eventKey];if(h<f+g/2){const T=s.findIndex(M=>M.key===v.key),I=T<=0?0:T-1,D=s[I].key;v=a[D]}const y=v.key,_=v,b=v.key;let S=0,w=0;if(!l.has(y))for(let T=0;T<m&&c8e(v);T+=1)v=v.parent,w+=1;const C=e.eventData,x=v.node;let L=!0;return d8e(v)&&v.level===0&&h<f+g/2&&o({dragNode:C,dropNode:x,dropPosition:-1})&&v.key===t.eventKey?S=-1:(_.children||[]).length&&l.has(b)?o({dragNode:C,dropNode:x,dropPosition:0})?S=0:L=!1:w===0?m>-1.5?o({dragNode:C,dropNode:x,dropPosition:1})?S=1:L=!1:o({dragNode:C,dropNode:x,dropPosition:0})?S=0:o({dragNode:C,dropNode:x,dropPosition:1})?S=1:L=!1:o({dragNode:C,dropNode:x,dropPosition:1})?S=1:L=!1,{dropPosition:S,dropLevelOffset:w,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:b,dropContainerKey:S===0?null:((c=v.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:L}}function SK(n,e){if(!n)return;const{multiple:t}=e;return t?n.slice():n.length?[n[0]]:n}function J2(n){if(!n)return null;let e;if(Array.isArray(n))e={checkedKeys:n,halfCheckedKeys:void 0};else if(typeof n=="object")e={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return null;return e}function f5(n,e){const t=new Set;function i(r){if(t.has(r))return;const o=e[r];if(!o)return;t.add(r);const{parent:s,node:a}=o;a.disabled||s&&i(s.key)}return(n||[]).forEach(r=>{i(r)}),[...t]}var h8e=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function ww(n,e){return n??e}function HE(n){const{title:e,_title:t,key:i,children:r}=n||{},o=e||"title";return{title:o,_title:t||[o],key:i||"key",children:r||"children"}}function g5(n){function e(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return qo(t).map(r=>{var o,s,a,l;if(!l8e(r))return null;const u=r.children||{},c=r.key,d={};for(const[T,I]of Object.entries(r.props))d[Dy(T)]=I;const{isLeaf:h,checkable:f,selectable:g,disabled:p,disableCheckbox:m}=d,v={isLeaf:h||h===""||void 0,checkable:f||f===""||void 0,selectable:g||g===""||void 0,disabled:p||p===""||void 0,disableCheckbox:m||m===""||void 0},y=A(A({},d),v),{title:_=(o=u.title)===null||o===void 0?void 0:o.call(u,y),icon:b=(s=u.icon)===null||s===void 0?void 0:s.call(u,y),switcherIcon:S=(a=u.switcherIcon)===null||a===void 0?void 0:a.call(u,y)}=d,w=h8e(d,["title","icon","switcherIcon"]),C=(l=u.default)===null||l===void 0?void 0:l.call(u),x=A(A(A({},w),{title:_,icon:b,switcherIcon:S,key:c,isLeaf:h}),v),L=e(C);return L.length&&(x.children=L),x})}return e(n)}function f8e(n,e,t){const{_title:i,key:r,children:o}=HE(t),s=new Set(e===!0?[]:e),a=[];function l(u){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return u.map((d,h)=>{const f=Qle(c?c.pos:"0",h),g=ww(d[r],f);let p;for(let v=0;v<i.length;v+=1){const y=i[v];if(d[y]!==void 0){p=d[y];break}}const m=A(A({},jn(d,[...i,r,o])),{title:p,key:g,parent:c,pos:f,children:null,data:d,isStart:[...c?c.isStart:[],h===0],isEnd:[...c?c.isEnd:[],h===u.length-1]});return a.push(m),e===!0||s.has(g)?m.children=l(d[o]||[],m):m.children=[],m})}return l(n),a}function g8e(n,e,t){let i={};typeof t=="object"?i=t:i={externalGetKey:t},i=i||{};const{childrenPropName:r,externalGetKey:o,fieldNames:s}=i,{key:a,children:l}=HE(s),u=r||l;let c;o?typeof o=="string"?c=h=>h[o]:typeof o=="function"&&(c=h=>o(h)):c=(h,f)=>ww(h[a],f);function d(h,f,g,p){const m=h?h[u]:n,v=h?Qle(g.pos,f):"0",y=h?[...p,h]:[];if(h){const _=c(h,v),b={node:h,index:f,pos:v,key:_,parentPos:g.node?g.pos:null,level:g.level+1,nodes:y};e(b)}m&&m.forEach((_,b)=>{d(_,b,{node:h,pos:v,level:g?g.level+1:-1},y)})}d(null)}function HV(n){let{initWrapper:e,processEntity:t,onProcessFinished:i,externalGetKey:r,childrenPropName:o,fieldNames:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;const l=r||a,u={},c={};let d={posEntities:u,keyEntities:c};return e&&(d=e(d)||d),g8e(n,h=>{const{node:f,index:g,pos:p,key:m,parentPos:v,level:y,nodes:_}=h,b={node:f,nodes:_,index:g,key:m,pos:p,level:y},S=ww(m,p);u[p]=b,c[S]=b,b.parent=u[v],b.parent&&(b.parent.children=b.parent.children||[],b.parent.children.push(b)),t&&t(b,d)},{externalGetKey:l,childrenPropName:o,fieldNames:s}),i&&i(d),d}function Qx(n,e){let{expandedKeysSet:t,selectedKeysSet:i,loadedKeysSet:r,loadingKeysSet:o,checkedKeysSet:s,halfCheckedKeysSet:a,dragOverNodeKey:l,dropPosition:u,keyEntities:c}=e;const d=c[n];return{eventKey:n,expanded:t.has(n),selected:i.has(n),loaded:r.has(n),loading:o.has(n),checked:s.has(n),halfChecked:a.has(n),pos:String(d?d.pos:""),parent:d.parent,dragOver:l===n&&u===0,dragOverGapTop:l===n&&u===-1,dragOverGapBottom:l===n&&u===1}}function Jx(n){const{data:e,expanded:t,selected:i,checked:r,loaded:o,loading:s,halfChecked:a,dragOver:l,dragOverGapTop:u,dragOverGapBottom:c,pos:d,active:h,eventKey:f}=n,g=A(A({dataRef:e},e),{expanded:t,selected:i,checked:r,loaded:o,loading:s,halfChecked:a,dragOver:l,dragOverGapTop:u,dragOverGapBottom:c,pos:d,active:h,eventKey:f,key:f});return"props"in g||Object.defineProperty(g,"props",{get(){return n}}),g}function Jle(n,e){const t=new Set;return n.forEach(i=>{e.has(i)||t.add(i)}),t}function p8e(n){const{disabled:e,disableCheckbox:t,checkable:i}=n||{};return!!(e||t)||i===!1}function m8e(n,e,t,i){const r=new Set(n),o=new Set;for(let a=0;a<=t;a+=1)(e.get(a)||new Set).forEach(u=>{const{key:c,node:d,children:h=[]}=u;r.has(c)&&!i(d)&&h.filter(f=>!i(f.node)).forEach(f=>{r.add(f.key)})});const s=new Set;for(let a=t;a>=0;a-=1)(e.get(a)||new Set).forEach(u=>{const{parent:c,node:d}=u;if(i(d)||!u.parent||s.has(u.parent.key))return;if(i(u.parent.node)){s.add(c.key);return}let h=!0,f=!1;(c.children||[]).filter(g=>!i(g.node)).forEach(g=>{let{key:p}=g;const m=r.has(p);h&&!m&&(h=!1),!f&&(m||o.has(p))&&(f=!0)}),h&&r.add(c.key),f&&o.add(c.key),s.add(c.key)});return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Jle(o,r))}}function v8e(n,e,t,i,r){const o=new Set(n);let s=new Set(e);for(let l=0;l<=i;l+=1)(t.get(l)||new Set).forEach(c=>{const{key:d,node:h,children:f=[]}=c;!o.has(d)&&!s.has(d)&&!r(h)&&f.filter(g=>!r(g.node)).forEach(g=>{o.delete(g.key)})});s=new Set;const a=new Set;for(let l=i;l>=0;l-=1)(t.get(l)||new Set).forEach(c=>{const{parent:d,node:h}=c;if(r(h)||!c.parent||a.has(c.parent.key))return;if(r(c.parent.node)){a.add(d.key);return}let f=!0,g=!1;(d.children||[]).filter(p=>!r(p.node)).forEach(p=>{let{key:m}=p;const v=o.has(m);f&&!v&&(f=!1),!g&&(v||s.has(m))&&(g=!0)}),f||o.delete(d.key),g&&s.add(d.key),a.add(d.key)});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Jle(s,o))}}function _v(n,e,t,i,r,o){let s;o?s=o:s=p8e;const a=new Set(n.filter(u=>!!t[u]));let l;return e===!0?l=m8e(a,r,i,s):l=v8e(a,e.halfCheckedKeys,r,i,s),l}function eue(n){const e=ke(0),t=ye();return Ut(()=>{const i=new Map;let r=0;const o=n.value||{};for(const s in o)if(Object.prototype.hasOwnProperty.call(o,s)){const a=o[s],{level:l}=a;let u=i.get(l);u||(u=new Set,i.set(l,u)),u.add(a),r=Math.max(r,l)}e.value=r,t.value=i}),{maxLevel:e,levelEntities:t}}var y8e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const _8e=y8e;function wK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){b8e(n,r,t[r])})}return n}function b8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var UV=function(e,t){var i=wK({},e,t.attrs);return N(ri,wK({},i,{icon:_8e}),null)};UV.displayName="LeftOutlined";UV.inheritAttrs=!1;const CK=UV,S8e=()=>zc()&&window.document.documentElement,tue=n=>{if(zc()&&window.document.documentElement){const e=Array.isArray(n)?n:[n],{documentElement:t}=window.document;return e.some(i=>i in t.style)}return!1},w8e=(n,e)=>{if(!tue(n))return!1;const t=document.createElement("div"),i=t.style[n];return t.style[n]=e,t.style[n]!==i};function GV(n,e){return!Array.isArray(n)&&e!==void 0?w8e(n,e):tue(n)}let oC;const C8e=()=>{if(!S8e())return!1;if(oC!==void 0)return oC;const n=document.createElement("div");return n.style.display="flex",n.style.flexDirection="column",n.style.rowGap="1px",n.appendChild(document.createElement("div")),n.appendChild(document.createElement("div")),document.body.appendChild(n),oC=n.scrollHeight===1,document.body.removeChild(n),oC},x8e=()=>{const n=ye(!1);return Vt(()=>{n.value=C8e()}),n},nue=Symbol("rowContextKey"),L8e=n=>{On(nue,n)},T8e=()=>kt(nue,{gutter:V(()=>{}),wrap:V(()=>{}),supportFlexGap:V(()=>{})}),I8e=n=>{const{componentCls:e}=n;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around ":{justifyContent:"space-around"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},D8e=n=>{const{componentCls:e}=n;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},E8e=(n,e)=>{const{componentCls:t,gridColumns:i}=n,r={};for(let o=i;o>=0;o--)o===0?(r[`${t}${e}-${o}`]={display:"none"},r[`${t}-push-${o}`]={insetInlineStart:"auto"},r[`${t}-pull-${o}`]={insetInlineEnd:"auto"},r[`${t}${e}-push-${o}`]={insetInlineStart:"auto"},r[`${t}${e}-pull-${o}`]={insetInlineEnd:"auto"},r[`${t}${e}-offset-${o}`]={marginInlineEnd:0},r[`${t}${e}-order-${o}`]={order:0}):(r[`${t}${e}-${o}`]={display:"block",flex:`0 0 ${o/i*100}%`,maxWidth:`${o/i*100}%`},r[`${t}${e}-push-${o}`]={insetInlineStart:`${o/i*100}%`},r[`${t}${e}-pull-${o}`]={insetInlineEnd:`${o/i*100}%`},r[`${t}${e}-offset-${o}`]={marginInlineStart:`${o/i*100}%`},r[`${t}${e}-order-${o}`]={order:o});return r},p5=(n,e)=>E8e(n,e),M8e=(n,e,t)=>({[`@media (min-width: ${e}px)`]:A({},p5(n,t))}),A8e=ki("Grid",n=>[I8e(n)]),N8e=ki("Grid",n=>{const e=Ln(n,{gridColumns:24}),t={"-sm":e.screenSMMin,"-md":e.screenMDMin,"-lg":e.screenLGMin,"-xl":e.screenXLMin,"-xxl":e.screenXXLMin};return[D8e(e),p5(e,""),p5(e,"-xs"),Object.keys(t).map(i=>M8e(e,t[i],i)).reduce((i,r)=>A(A({},i),r),{})]}),k8e=()=>({align:Ki([String,Object]),justify:Ki([String,Object]),prefixCls:String,gutter:Ki([Number,Array,Object],0),wrap:{type:Boolean,default:void 0}}),P8e=Ie({compatConfig:{MODE:3},name:"ARow",inheritAttrs:!1,props:k8e(),setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r,direction:o}=Wt("row",n),[s,a]=A8e(r);let l;const u=Jae(),c=ke({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),d=ke({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),h=_=>V(()=>{if(typeof n[_]=="string")return n[_];if(typeof n[_]!="object")return"";for(let b=0;b<tC.length;b++){const S=tC[b];if(!d.value[S])continue;const w=n[_][S];if(w!==void 0)return w}return""}),f=h("align"),g=h("justify"),p=x8e();Vt(()=>{l=u.value.subscribe(_=>{d.value=_;const b=n.gutter||0;(!Array.isArray(b)&&typeof b=="object"||Array.isArray(b)&&(typeof b[0]=="object"||typeof b[1]=="object"))&&(c.value=_)})}),fn(()=>{u.value.unsubscribe(l)});const m=V(()=>{const _=[void 0,void 0],{gutter:b=0}=n;return(Array.isArray(b)?b:[b,void 0]).forEach((w,C)=>{if(typeof w=="object")for(let x=0;x<tC.length;x++){const L=tC[x];if(c.value[L]&&w[L]!==void 0){_[C]=w[L];break}}else _[C]=w}),_});L8e({gutter:m,supportFlexGap:p,wrap:V(()=>n.wrap)});const v=V(()=>Ee(r.value,{[`${r.value}-no-wrap`]:n.wrap===!1,[`${r.value}-${g.value}`]:g.value,[`${r.value}-${f.value}`]:f.value,[`${r.value}-rtl`]:o.value==="rtl"},i.class,a.value)),y=V(()=>{const _=m.value,b={},S=_[0]!=null&&_[0]>0?`${_[0]/-2}px`:void 0,w=_[1]!=null&&_[1]>0?`${_[1]/-2}px`:void 0;return S&&(b.marginLeft=S,b.marginRight=S),p.value?b.rowGap=`${_[1]}px`:w&&(b.marginTop=w,b.marginBottom=w),b});return()=>{var _;return s(N("div",se(se({},i),{},{class:v.value,style:A(A({},y.value),i.style)}),[(_=t.default)===null||_===void 0?void 0:_.call(t)]))}}}),O8e=P8e;function R8e(n){return typeof n=="number"?`${n} ${n} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(n)?`0 0 ${n}`:n}const B8e=()=>({span:[String,Number],order:[String,Number],offset:[String,Number],push:[String,Number],pull:[String,Number],xs:{type:[String,Number,Object],default:void 0},sm:{type:[String,Number,Object],default:void 0},md:{type:[String,Number,Object],default:void 0},lg:{type:[String,Number,Object],default:void 0},xl:{type:[String,Number,Object],default:void 0},xxl:{type:[String,Number,Object],default:void 0},prefixCls:String,flex:[String,Number]}),F8e=["xs","sm","md","lg","xl","xxl"],$8e=Ie({compatConfig:{MODE:3},name:"ACol",inheritAttrs:!1,props:B8e(),setup(n,e){let{slots:t,attrs:i}=e;const{gutter:r,supportFlexGap:o,wrap:s}=T8e(),{prefixCls:a,direction:l}=Wt("col",n),[u,c]=N8e(a),d=V(()=>{const{span:f,order:g,offset:p,push:m,pull:v}=n,y=a.value;let _={};return F8e.forEach(b=>{let S={};const w=n[b];typeof w=="number"?S.span=w:typeof w=="object"&&(S=w||{}),_=A(A({},_),{[`${y}-${b}-${S.span}`]:S.span!==void 0,[`${y}-${b}-order-${S.order}`]:S.order||S.order===0,[`${y}-${b}-offset-${S.offset}`]:S.offset||S.offset===0,[`${y}-${b}-push-${S.push}`]:S.push||S.push===0,[`${y}-${b}-pull-${S.pull}`]:S.pull||S.pull===0,[`${y}-rtl`]:l.value==="rtl"})}),Ee(y,{[`${y}-${f}`]:f!==void 0,[`${y}-order-${g}`]:g,[`${y}-offset-${p}`]:p,[`${y}-push-${m}`]:m,[`${y}-pull-${v}`]:v},_,i.class,c.value)}),h=V(()=>{const{flex:f}=n,g=r.value,p={};if(g&&g[0]>0){const m=`${g[0]/2}px`;p.paddingLeft=m,p.paddingRight=m}if(g&&g[1]>0&&!o.value){const m=`${g[1]/2}px`;p.paddingTop=m,p.paddingBottom=m}return f&&(p.flex=R8e(f),s.value===!1&&!p.minWidth&&(p.minWidth=0)),p});return()=>{var f;return u(N("div",se(se({},i),{},{class:d.value,style:[h.value,i.style]}),[(f=t.default)===null||f===void 0?void 0:f.call(t)]))}}}),V8e=new _n("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),W8e=n=>{const{checkboxCls:e}=n,t=`${e}-wrapper`;return[{[`${e}-group`]:A(A({},wi(n)),{display:"inline-flex",flexWrap:"wrap",columnGap:n.marginXS,[`> ${n.antCls}-row`]:{flex:1}}),[t]:A(A({},wi(n)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${t}`]:{marginInlineStart:0},[`&${t}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[e]:A(A({},wi(n)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",alignSelf:"center",[`${e}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${e}-inner`]:A({},Ic(n))},[`${e}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:n.checkboxSize,height:n.checkboxSize,direction:"ltr",backgroundColor:n.colorBgContainer,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,borderCollapse:"separate",transition:`all ${n.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:n.checkboxSize/14*5,height:n.checkboxSize/14*8,border:`${n.lineWidthBold}px solid ${n.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${n.motionDurationFast} ${n.motionEaseInBack}, opacity ${n.motionDurationFast}`}},"& + span":{paddingInlineStart:n.paddingXS,paddingInlineEnd:n.paddingXS}})},{[e]:{"&-indeterminate":{[`${e}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:n.fontSizeLG/2,height:n.fontSizeLG/2,backgroundColor:n.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${t}:hover ${e}:after`]:{visibility:"visible"},[`
        ${t}:not(${t}-disabled),
        ${e}:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{borderColor:n.colorPrimary}},[`${t}:not(${t}-disabled)`]:{[`&:hover ${e}-checked:not(${e}-disabled) ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}-checked:not(${e}-disabled):after`]:{borderColor:n.colorPrimaryHover}}},{[`${e}-checked`]:{[`${e}-inner`]:{backgroundColor:n.colorPrimary,borderColor:n.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${n.motionDurationMid} ${n.motionEaseOutBack} ${n.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:n.borderRadiusSM,visibility:"hidden",border:`${n.lineWidthBold}px solid ${n.colorPrimary}`,animationName:V8e,animationDuration:n.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${n.motionDurationSlow}`}},[`
        ${t}-checked:not(${t}-disabled),
        ${e}-checked:not(${e}-disabled)
      `]:{[`&:hover ${e}-inner`]:{backgroundColor:n.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${e}:after`]:{borderColor:n.colorPrimaryHover}}},{[`${t}-disabled`]:{cursor:"not-allowed"},[`${e}-disabled`]:{[`&, ${e}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${e}-inner`]:{background:n.colorBgContainerDisabled,borderColor:n.colorBorder,"&:after":{borderColor:n.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:n.colorTextDisabled},[`&${e}-indeterminate ${e}-inner::after`]:{background:n.colorTextDisabled}}}]};function iue(n,e){const t=Ln(e,{checkboxCls:`.${n}`,checkboxSize:e.controlInteractiveSize});return[W8e(t)]}const rue=ki("Checkbox",(n,e)=>{let{prefixCls:t}=e;return[iue(t,n)]}),z8e=()=>({name:String,prefixCls:String,options:fr([]),disabled:Boolean,id:String}),H8e=()=>A(A({},z8e()),{defaultValue:fr(),value:fr(),onChange:vt(),"onUpdate:value":vt()}),U8e=()=>({prefixCls:String,defaultChecked:_t(),checked:_t(),disabled:_t(),isGroup:_t(),value:ge.any,name:String,id:String,indeterminate:_t(),type:ui("checkbox"),autofocus:_t(),onChange:vt(),"onUpdate:checked":vt(),onClick:vt(),skipGroup:_t(!1)}),G8e=()=>A(A({},U8e()),{indeterminate:_t(!1)}),oue=Symbol("CheckboxGroupContext");var xK=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const mc=Ie({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:G8e(),setup(n,e){let{emit:t,attrs:i,slots:r,expose:o}=e;const s=Cp(),a=Dc.useInject(),{prefixCls:l,direction:u,disabled:c}=Wt("checkbox",n),[d,h]=rue(l),f=kt(oue,void 0),g=Symbol("checkboxUniId"),p=V(()=>(f==null?void 0:f.disabled.value)||c.value);Ut(()=>{!n.skipGroup&&f&&f.registerValue(g,n.value)}),fn(()=>{f&&f.cancelValue(g)}),Vt(()=>{uu(!!(n.checked!==void 0||f||n.value===void 0))});const m=b=>{const S=b.target.checked;t("update:checked",S),t("change",b)},v=ke();return o({focus:()=>{var b;(b=v.value)===null||b===void 0||b.focus()},blur:()=>{var b;(b=v.value)===null||b===void 0||b.blur()}}),()=>{var b;const S=Qi((b=r.default)===null||b===void 0?void 0:b.call(r)),{indeterminate:w,skipGroup:C,id:x=s.id.value}=n,L=xK(n,["indeterminate","skipGroup","id"]),{onMouseenter:T,onMouseleave:I,onInput:D,class:M,style:P}=i,k=xK(i,["onMouseenter","onMouseleave","onInput","class","style"]),O=A(A(A(A({},L),{id:x,prefixCls:l.value}),k),{disabled:p.value});f&&!C?(O.onChange=function(){for(var H=arguments.length,U=new Array(H),z=0;z<H;z++)U[z]=arguments[z];t("change",...U),f.toggleOption({label:S,value:n.value})},O.name=f.name.value,O.checked=f.mergedValue.value.includes(n.value),O.disabled=p.value||f.disabled.value,O.indeterminate=w):O.onChange=m;const F=Ee({[`${l.value}-wrapper`]:!0,[`${l.value}-rtl`]:u.value==="rtl",[`${l.value}-wrapper-checked`]:O.checked,[`${l.value}-wrapper-disabled`]:O.disabled,[`${l.value}-wrapper-in-form-item`]:a.isFormItemInput},M,h.value),R=Ee({[`${l.value}-indeterminate`]:w},h.value);return d(N("label",{class:F,style:P,onMouseenter:T,onMouseleave:I},[N(Ale,se(se({"aria-checked":w?"mixed":void 0},O),{},{class:R,ref:v,disabled:p.value}),null),S.length?N("span",null,[S]):null]))}}}),m5=Ie({compatConfig:{MODE:3},name:"ACheckboxGroup",inheritAttrs:!1,props:H8e(),setup(n,e){let{slots:t,attrs:i,emit:r,expose:o}=e;const s=Cp(),{prefixCls:a,direction:l}=Wt("checkbox",n),u=V(()=>`${a.value}-group`),[c,d]=rue(u),h=ke((n.value===void 0?n.defaultValue:n.value)||[]);Ve(()=>n.value,()=>{h.value=n.value||[]});const f=V(()=>n.options.map(b=>typeof b=="string"||typeof b=="number"?{label:b,value:b}:b)),g=ke(Symbol()),p=ke(new Map),m=b=>{p.value.delete(b),g.value=Symbol()},v=(b,S)=>{p.value.set(b,S),g.value=Symbol()},y=ke(new Map);return Ve(g,()=>{const b=new Map;for(const S of p.value.values())b.set(S,!0);y.value=b}),On(oue,{cancelValue:m,registerValue:v,toggleOption:b=>{const S=h.value.indexOf(b.value),w=[...h.value];S===-1?w.push(b.value):w.splice(S,1),n.value===void 0&&(h.value=w);const C=w.filter(x=>y.value.has(x)).sort((x,L)=>{const T=f.value.findIndex(D=>D.value===x),I=f.value.findIndex(D=>D.value===L);return T-I});r("update:value",C),r("change",C),s.onFieldChange()},mergedValue:h,name:V(()=>n.name),disabled:V(()=>n.disabled)}),o({mergedValue:h}),()=>{var b;const{id:S=s.id.value}=n;let w=null;return f.value&&f.value.length>0&&(w=f.value.map(C=>{var x;return N(mc,{prefixCls:a.value,key:C.value.toString(),disabled:"disabled"in C?C.disabled:n.disabled,indeterminate:C.indeterminate,value:C.value,checked:h.value.indexOf(C.value)!==-1,onChange:C.onChange,class:`${u.value}-item`},{default:()=>[t.label!==void 0?(x=t.label)===null||x===void 0?void 0:x.call(t,C):C.label]})})),c(N("div",se(se({},i),{},{class:[u.value,{[`${u.value}-rtl`]:l.value==="rtl"},i.class,d.value],id:S}),[w||((b=t.default)===null||b===void 0?void 0:b.call(t))]))}}});mc.Group=m5;mc.install=function(n){return n.component(mc.name,mc),n.component(m5.name,m5),n};const K8e=Ey($8e);var j8e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const q8e=j8e;function LK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Y8e(n,r,t[r])})}return n}function Y8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var KV=function(e,t){var i=LK({},e,t.attrs);return N(ri,LK({},i,{icon:q8e}),null)};KV.displayName="CaretDownFilled";KV.inheritAttrs=!1;const X8e=KV;var Z8e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const Q8e=Z8e;function TK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){J8e(n,r,t[r])})}return n}function J8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var jV=function(e,t){var i=TK({},e,t.attrs);return N(ri,TK({},i,{icon:Q8e}),null)};jV.displayName="CaretDownOutlined";jV.inheritAttrs=!1;const e9e=jV;var t9e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const n9e=t9e;function IK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){i9e(n,r,t[r])})}return n}function i9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var qV=function(e,t){var i=IK({},e,t.attrs);return N(ri,IK({},i,{icon:n9e}),null)};qV.displayName="CaretUpOutlined";qV.inheritAttrs=!1;const r9e=qV;var o9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const s9e=o9e;function DK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){a9e(n,r,t[r])})}return n}function a9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var YV=function(e,t){var i=DK({},e,t.attrs);return N(ri,DK({},i,{icon:s9e}),null)};YV.displayName="CopyOutlined";YV.inheritAttrs=!1;const l9e=YV;var u9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const c9e=u9e;function EK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){d9e(n,r,t[r])})}return n}function d9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var XV=function(e,t){var i=EK({},e,t.attrs);return N(ri,EK({},i,{icon:c9e}),null)};XV.displayName="DoubleLeftOutlined";XV.inheritAttrs=!1;const MK=XV;var h9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const f9e=h9e;function AK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){g9e(n,r,t[r])})}return n}function g9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var ZV=function(e,t){var i=AK({},e,t.attrs);return N(ri,AK({},i,{icon:f9e}),null)};ZV.displayName="DoubleRightOutlined";ZV.inheritAttrs=!1;const NK=ZV;var p9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const m9e=p9e;function kK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){v9e(n,r,t[r])})}return n}function v9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var QV=function(e,t){var i=kK({},e,t.attrs);return N(ri,kK({},i,{icon:m9e}),null)};QV.displayName="EditOutlined";QV.inheritAttrs=!1;const y9e=QV;var _9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const b9e=_9e;function PK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){S9e(n,r,t[r])})}return n}function S9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var JV=function(e,t){var i=PK({},e,t.attrs);return N(ri,PK({},i,{icon:b9e}),null)};JV.displayName="EnterOutlined";JV.inheritAttrs=!1;const w9e=JV;var C9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const x9e=C9e;function OK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){L9e(n,r,t[r])})}return n}function L9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var eW=function(e,t){var i=OK({},e,t.attrs);return N(ri,OK({},i,{icon:x9e}),null)};eW.displayName="EyeInvisibleOutlined";eW.inheritAttrs=!1;const T9e=eW;var I9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const D9e=I9e;function RK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){E9e(n,r,t[r])})}return n}function E9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var tW=function(e,t){var i=RK({},e,t.attrs);return N(ri,RK({},i,{icon:D9e}),null)};tW.displayName="EyeOutlined";tW.inheritAttrs=!1;const M9e=tW;var A9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const N9e=A9e;function BK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){k9e(n,r,t[r])})}return n}function k9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var nW=function(e,t){var i=BK({},e,t.attrs);return N(ri,BK({},i,{icon:N9e}),null)};nW.displayName="FileOutlined";nW.inheritAttrs=!1;const sue=nW;var P9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const O9e=P9e;function FK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){R9e(n,r,t[r])})}return n}function R9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var iW=function(e,t){var i=FK({},e,t.attrs);return N(ri,FK({},i,{icon:O9e}),null)};iW.displayName="FilterFilled";iW.inheritAttrs=!1;const B9e=iW;var F9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const $9e=F9e;function $K(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){V9e(n,r,t[r])})}return n}function V9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var rW=function(e,t){var i=$K({},e,t.attrs);return N(ri,$K({},i,{icon:$9e}),null)};rW.displayName="FolderOpenOutlined";rW.inheritAttrs=!1;const W9e=rW;var z9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const H9e=z9e;function VK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){U9e(n,r,t[r])})}return n}function U9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var oW=function(e,t){var i=VK({},e,t.attrs);return N(ri,VK({},i,{icon:H9e}),null)};oW.displayName="FolderOutlined";oW.inheritAttrs=!1;const G9e=oW;var K9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const j9e=K9e;function WK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){q9e(n,r,t[r])})}return n}function q9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var sW=function(e,t){var i=WK({},e,t.attrs);return N(ri,WK({},i,{icon:j9e}),null)};sW.displayName="MinusSquareOutlined";sW.inheritAttrs=!1;const Y9e=sW;var X9e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const Z9e=X9e;function zK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Q9e(n,r,t[r])})}return n}function Q9e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var aW=function(e,t){var i=zK({},e,t.attrs);return N(ri,zK({},i,{icon:Z9e}),null)};aW.displayName="PlusSquareOutlined";aW.inheritAttrs=!1;const J9e=aW,sC=(n,e,t)=>{const i=gPe(t);return{[`${n.componentCls}-${e}`]:{color:n[`color${t}`],background:n[`color${i}Bg`],borderColor:n[`color${i}Border`]}}},eUe=n=>Ose(n,(e,t)=>{let{textColor:i,lightBorderColor:r,lightColor:o,darkColor:s}=t;return{[`${n.componentCls}-${e}`]:{color:i,background:o,borderColor:r,"&-inverse":{color:n.colorTextLightSolid,background:s,borderColor:s}}}}),tUe=n=>{const{paddingXXS:e,lineWidth:t,tagPaddingHorizontal:i,componentCls:r}=n,o=i-t,s=e-t;return{[r]:A(A({},wi(n)),{display:"inline-block",height:"auto",marginInlineEnd:n.marginXS,paddingInline:o,fontSize:n.tagFontSize,lineHeight:`${n.tagLineHeight}px`,whiteSpace:"nowrap",background:n.tagDefaultBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadiusSM,opacity:1,transition:`all ${n.motionDurationMid}`,textAlign:"start",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:n.tagDefaultColor},[`${r}-close-icon`]:{marginInlineStart:s,color:n.colorTextDescription,fontSize:n.tagIconSize,cursor:"pointer",transition:`all ${n.motionDurationMid}`,"&:hover":{color:n.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${n.iconCls}-close, ${n.iconCls}-close:hover`]:{color:n.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:n.colorPrimary,backgroundColor:n.colorFillSecondary},"&:active, &-checked":{color:n.colorTextLightSolid},"&-checked":{backgroundColor:n.colorPrimary,"&:hover":{backgroundColor:n.colorPrimaryHover}},"&:active":{backgroundColor:n.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${n.iconCls} + span, > span + ${n.iconCls}`]:{marginInlineStart:o}})}},aue=ki("Tag",n=>{const{fontSize:e,lineHeight:t,lineWidth:i,fontSizeIcon:r}=n,o=Math.round(e*t),s=n.fontSizeSM,a=o-i*2,l=n.colorFillAlter,u=n.colorText,c=Ln(n,{tagFontSize:s,tagLineHeight:a,tagDefaultBg:l,tagDefaultColor:u,tagIconSize:r-2*i,tagPaddingHorizontal:8});return[tUe(c),eUe(c),sC(c,"success","Success"),sC(c,"processing","Info"),sC(c,"error","Error"),sC(c,"warning","Warning")]}),nUe=()=>({prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}),iUe=Ie({compatConfig:{MODE:3},name:"ACheckableTag",inheritAttrs:!1,props:nUe(),setup(n,e){let{slots:t,emit:i,attrs:r}=e;const{prefixCls:o}=Wt("tag",n),[s,a]=aue(o),l=c=>{const{checked:d}=n;i("update:checked",!d),i("change",!d),i("click",c)},u=V(()=>Ee(o.value,a.value,{[`${o.value}-checkable`]:!0,[`${o.value}-checkable-checked`]:n.checked}));return()=>{var c;return s(N("span",se(se({},r),{},{class:u.value,onClick:l}),[(c=t.default)===null||c===void 0?void 0:c.call(t)]))}}}),v5=iUe,rUe=()=>({prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:ge.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},onClick:Xv(),"onUpdate:visible":Function,icon:ge.any}),ib=Ie({compatConfig:{MODE:3},name:"ATag",inheritAttrs:!1,props:rUe(),slots:Object,setup(n,e){let{slots:t,emit:i,attrs:r}=e;const{prefixCls:o,direction:s}=Wt("tag",n),[a,l]=aue(o),u=ye(!0);Ut(()=>{n.visible!==void 0&&(u.value=n.visible)});const c=g=>{g.stopPropagation(),i("update:visible",!1),i("close",g),!g.defaultPrevented&&n.visible===void 0&&(u.value=!1)},d=V(()=>ile(n.color)||Hze(n.color)),h=V(()=>Ee(o.value,l.value,{[`${o.value}-${n.color}`]:d.value,[`${o.value}-has-color`]:n.color&&!d.value,[`${o.value}-hidden`]:!u.value,[`${o.value}-rtl`]:s.value==="rtl"})),f=g=>{i("click",g)};return()=>{var g,p,m;const{icon:v=(g=t.icon)===null||g===void 0?void 0:g.call(t),color:y,closeIcon:_=(p=t.closeIcon)===null||p===void 0?void 0:p.call(t),closable:b=!1}=n,S=()=>b?_?N("span",{class:`${o.value}-close-icon`,onClick:c},[_]):N(dV,{class:`${o.value}-close-icon`,onClick:c},null):null,w={backgroundColor:y&&!d.value?y:void 0},C=v||null,x=(m=t.default)===null||m===void 0?void 0:m.call(t),L=C?N($t,null,[C,N("span",null,[x])]):x,T=n.onClick!==void 0,I=N("span",se(se({},r),{},{onClick:f,class:[h.value,r.class],style:[w,r.style]}),[L,S()]);return a(T?N(ale,null,{default:()=>[I]}):I)}}});ib.CheckableTag=v5;ib.install=function(n){return n.component(ib.name,ib),n.component(v5.name,v5),n};const oUe=ib;vg.Button=lI;vg.install=function(n){return n.component(vg.name,vg),n.component(lI.name,lI),n};const rb=n=>n!=null&&(Array.isArray(n)?qo(n).length:!0);function lW(n){return rb(n.prefix)||rb(n.suffix)||rb(n.allowClear)}function eL(n){return rb(n.addonBefore)||rb(n.addonAfter)}function y5(n){return typeof n>"u"||n===null?"":String(n)}function ob(n,e,t,i){if(!t)return;const r=e;if(e.type==="click"){Object.defineProperty(r,"target",{writable:!0}),Object.defineProperty(r,"currentTarget",{writable:!0});const o=n.cloneNode(!0);r.target=o,r.currentTarget=o,o.value="",t(r);return}if(i!==void 0){Object.defineProperty(r,"target",{writable:!0}),Object.defineProperty(r,"currentTarget",{writable:!0}),r.target=n,r.currentTarget=n,n.value=i,t(r);return}t(r)}function lue(n,e){if(!n)return;n.focus(e);const{cursor:t}=e||{};if(t){const i=n.value.length;switch(t){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(i,i);break;default:n.setSelectionRange(0,i)}}}const sUe=()=>({addonBefore:ge.any,addonAfter:ge.any,prefix:ge.any,suffix:ge.any,clearIcon:ge.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),uue=()=>A(A({},sUe()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:ge.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),cue=()=>A(A({},uue()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:ui("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),aUe=Ie({name:"BaseInput",inheritAttrs:!1,props:uue(),setup(n,e){let{slots:t,attrs:i}=e;const r=ke(),o=a=>{var l;if(!((l=r.value)===null||l===void 0)&&l.contains(a.target)){const{triggerFocus:u}=n;u==null||u()}},s=()=>{var a;const{allowClear:l,value:u,disabled:c,readonly:d,handleReset:h,suffix:f=t.suffix,prefixCls:g}=n;if(!l)return null;const p=!c&&!d&&u,m=`${g}-clear-icon`,v=((a=t.clearIcon)===null||a===void 0?void 0:a.call(t))||"*";return N("span",{onClick:h,onMousedown:y=>y.preventDefault(),class:Ee({[`${m}-hidden`]:!p,[`${m}-has-suffix`]:!!f},m),role:"button",tabindex:-1},[v])};return()=>{var a,l;const{focused:u,value:c,disabled:d,allowClear:h,readonly:f,hidden:g,prefixCls:p,prefix:m=(a=t.prefix)===null||a===void 0?void 0:a.call(t),suffix:v=(l=t.suffix)===null||l===void 0?void 0:l.call(t),addonAfter:y=t.addonAfter,addonBefore:_=t.addonBefore,inputElement:b,affixWrapperClassName:S,wrapperClassName:w,groupClassName:C}=n;let x=Ci(b,{value:c,hidden:g});if(lW({prefix:m,suffix:v,allowClear:h})){const L=`${p}-affix-wrapper`,T=Ee(L,{[`${L}-disabled`]:d,[`${L}-focused`]:u,[`${L}-readonly`]:f,[`${L}-input-with-clear-btn`]:v&&h&&c},!eL({addonAfter:y,addonBefore:_})&&i.class,S),I=(v||h)&&N("span",{class:`${p}-suffix`},[s(),v]);x=N("span",{class:T,style:i.style,hidden:!eL({addonAfter:y,addonBefore:_})&&g,onMousedown:o,ref:r},[m&&N("span",{class:`${p}-prefix`},[m]),Ci(b,{style:null,value:c,hidden:null}),I])}if(eL({addonAfter:y,addonBefore:_})){const L=`${p}-group`,T=`${L}-addon`,I=Ee(`${p}-wrapper`,L,w),D=Ee(`${p}-group-wrapper`,i.class,C);return N("span",{class:D,style:i.style,hidden:g},[N("span",{class:I},[_&&N("span",{class:T},[_]),Ci(x,{style:null,hidden:null}),y&&N("span",{class:T},[y])])])}return x}}});var lUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const uUe=Ie({name:"VCInput",inheritAttrs:!1,props:cue(),setup(n,e){let{slots:t,attrs:i,expose:r,emit:o}=e;const s=ye(n.value===void 0?n.defaultValue:n.value),a=ye(!1),l=ye();Ve(()=>n.value,()=>{s.value=n.value}),Ve(()=>n.disabled,()=>{n.disabled&&(a.value=!1)});const u=C=>{l.value&&lue(l.value,C)};r({focus:u,blur:()=>{var C;(C=l.value)===null||C===void 0||C.blur()},input:l,stateValue:s,setSelectionRange:(C,x,L)=>{var T;(T=l.value)===null||T===void 0||T.setSelectionRange(C,x,L)},select:()=>{var C;(C=l.value)===null||C===void 0||C.select()}});const f=C=>{o("change",C)},g=Ts(),p=(C,x)=>{s.value!==C&&(n.value===void 0?s.value=C:kn(()=>{l.value.value!==s.value&&g.update()}),kn(()=>{x&&x()}))},m=C=>{const{value:x,composing:L}=C.target;if((C.isComposing||L)&&n.lazy||s.value===x)return;const T=C.target.value;ob(l.value,C,f),p(T)},v=C=>{C.keyCode===13&&o("pressEnter",C),o("keydown",C)},y=C=>{a.value=!0,o("focus",C)},_=C=>{a.value=!1,o("blur",C)},b=C=>{ob(l.value,C,f),p("",()=>{u()})},S=()=>{var C,x;const{addonBefore:L=t.addonBefore,addonAfter:T=t.addonAfter,disabled:I,valueModifiers:D={},htmlSize:M,autocomplete:P,prefixCls:k,inputClassName:O,prefix:F=(C=t.prefix)===null||C===void 0?void 0:C.call(t),suffix:R=(x=t.suffix)===null||x===void 0?void 0:x.call(t),allowClear:$,type:H="text"}=n,U=jn(n,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),z=A(A(A({},U),i),{autocomplete:P,onChange:m,onInput:m,onFocus:y,onBlur:_,onKeydown:v,class:Ee(k,{[`${k}-disabled`]:I},O,!eL({addonAfter:T,addonBefore:L})&&!lW({prefix:F,suffix:R,allowClear:$})&&i.class),ref:l,key:"ant-input",size:M,type:H});D.lazy&&delete z.onInput,z.autofocus||delete z.autofocus;const Z=N("input",jn(z,["size"]),null);return Bc(Z,[[bw]])},w=()=>{var C;const{maxlength:x,suffix:L=(C=t.suffix)===null||C===void 0?void 0:C.call(t),showCount:T,prefixCls:I}=n,D=Number(x)>0;if(L||T){const M=[...y5(s.value)].length,P=typeof T=="object"?T.formatter({count:M,maxlength:x}):`${M}${D?` / ${x}`:""}`;return N($t,null,[!!T&&N("span",{class:Ee(`${I}-show-count-suffix`,{[`${I}-show-count-has-suffix`]:!!L})},[P]),L])}return null};return Vt(()=>{}),()=>{const{prefixCls:C,disabled:x}=n,L=lUe(n,["prefixCls","disabled"]);return N(aUe,se(se(se({},L),i),{},{prefixCls:C,inputElement:S(),handleReset:b,value:y5(s.value),focused:a.value,triggerFocus:u,suffix:w(),disabled:x}),t)}}}),due=()=>jn(cue(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),uW=due,hue=()=>A(A({},jn(due(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Xv(),onCompositionend:Xv(),valueModifiers:Object});var cUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const dr=Ie({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:uW(),setup(n,e){let{slots:t,attrs:i,expose:r,emit:o}=e;const s=ke(),a=Cp(),l=Dc.useInject(),u=V(()=>RE(l.status,n.status)),{direction:c,prefixCls:d,size:h,autocomplete:f}=Wt("input",n),{compactSize:g,compactItemClassnames:p}=yV(d,c),m=V(()=>g.value||h.value),[v,y]=FV(d),_=Gg();r({focus:M=>{var P;(P=s.value)===null||P===void 0||P.focus(M)},blur:()=>{var M;(M=s.value)===null||M===void 0||M.blur()},input:s,setSelectionRange:(M,P,k)=>{var O;(O=s.value)===null||O===void 0||O.setSelectionRange(M,P,k)},select:()=>{var M;(M=s.value)===null||M===void 0||M.select()}});const x=ke([]),L=()=>{x.value.push(setTimeout(()=>{var M,P,k,O;!((M=s.value)===null||M===void 0)&&M.input&&((P=s.value)===null||P===void 0?void 0:P.input.getAttribute("type"))==="password"&&(!((k=s.value)===null||k===void 0)&&k.input.hasAttribute("value"))&&((O=s.value)===null||O===void 0||O.input.removeAttribute("value"))}))};Vt(()=>{L()}),RF(()=>{x.value.forEach(M=>clearTimeout(M))}),fn(()=>{x.value.forEach(M=>clearTimeout(M))});const T=M=>{L(),o("blur",M),a.onFieldBlur()},I=M=>{L(),o("focus",M)},D=M=>{o("update:value",M.target.value),o("change",M),o("input",M),a.onFieldChange()};return()=>{var M,P,k,O,F,R;const{hasFeedback:$,feedbackIcon:H}=l,{allowClear:U,bordered:z=!0,prefix:Z=(M=t.prefix)===null||M===void 0?void 0:M.call(t),suffix:X=(P=t.suffix)===null||P===void 0?void 0:P.call(t),addonAfter:ce=(k=t.addonAfter)===null||k===void 0?void 0:k.call(t),addonBefore:q=(O=t.addonBefore)===null||O===void 0?void 0:O.call(t),id:j=(F=a.id)===null||F===void 0?void 0:F.value}=n,ie=cUe(n,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),Q=($||X)&&N($t,null,[X,$&&H]),le=d.value,ue=lW({prefix:Z,suffix:X})||!!$,W=t.clearIcon||(()=>N(fV,null,null));return v(N(uUe,se(se(se({},i),jn(ie,["onUpdate:value","onChange","onInput"])),{},{onChange:D,id:j,disabled:(R=n.disabled)!==null&&R!==void 0?R:_.value,ref:s,prefixCls:le,autocomplete:f.value,onBlur:T,onFocus:I,suffix:Q,allowClear:U,addonAfter:ce&&N(RG,null,{default:()=>[N(EG,null,{default:()=>[ce]})]}),addonBefore:q&&N(RG,null,{default:()=>[N(EG,null,{default:()=>[q]})]}),class:[i.class,p.value],inputClassName:Ee({[`${le}-sm`]:m.value==="small",[`${le}-lg`]:m.value==="large",[`${le}-rtl`]:c.value==="rtl",[`${le}-borderless`]:!z},!ue&&pv(le,u.value),y.value),affixWrapperClassName:Ee({[`${le}-affix-wrapper-sm`]:m.value==="small",[`${le}-affix-wrapper-lg`]:m.value==="large",[`${le}-affix-wrapper-rtl`]:c.value==="rtl",[`${le}-affix-wrapper-borderless`]:!z},pv(`${le}-affix-wrapper`,u.value,$),y.value),wrapperClassName:Ee({[`${le}-group-rtl`]:c.value==="rtl"},y.value),groupClassName:Ee({[`${le}-group-wrapper-sm`]:m.value==="small",[`${le}-group-wrapper-lg`]:m.value==="large",[`${le}-group-wrapper-rtl`]:c.value==="rtl"},pv(`${le}-group-wrapper`,u.value,$),y.value)}),A(A({},t),{clearIcon:W})))}}}),dUe=Ie({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r,direction:o,getPrefixCls:s}=Wt("input-group",n),a=Dc.useInject();Dc.useProvide(a,{isFormItemInput:!1});const l=V(()=>s("input")),[u,c]=FV(l),d=V(()=>{const h=r.value;return{[`${h}`]:!0,[c.value]:!0,[`${h}-lg`]:n.size==="large",[`${h}-sm`]:n.size==="small",[`${h}-compact`]:n.compact,[`${h}-rtl`]:o.value==="rtl"}});return()=>{var h;return u(N("span",se(se({},i),{},{class:Ee(d.value,i.class)}),[(h=t.default)===null||h===void 0?void 0:h.call(t)]))}}});var hUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const fUe=Ie({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:A(A({},uW()),{inputPrefixCls:String,enterButton:ge.any,onSearch:{type:Function}}),setup(n,e){let{slots:t,attrs:i,expose:r,emit:o}=e;const s=ye(),a=ye(!1);r({focus:()=>{var S;(S=s.value)===null||S===void 0||S.focus()},blur:()=>{var S;(S=s.value)===null||S===void 0||S.blur()}});const c=S=>{o("update:value",S.target.value),S&&S.target&&S.type==="click"&&o("search",S.target.value,S),o("change",S)},d=S=>{var w;document.activeElement===((w=s.value)===null||w===void 0?void 0:w.input)&&S.preventDefault()},h=S=>{var w,C;o("search",(C=(w=s.value)===null||w===void 0?void 0:w.input)===null||C===void 0?void 0:C.stateValue,S)},f=S=>{a.value||n.loading||h(S)},g=S=>{a.value=!0,o("compositionstart",S)},p=S=>{a.value=!1,o("compositionend",S)},{prefixCls:m,getPrefixCls:v,direction:y,size:_}=Wt("input-search",n),b=V(()=>v("input",n.inputPrefixCls));return()=>{var S,w,C,x;const{disabled:L,loading:T,addonAfter:I=(S=t.addonAfter)===null||S===void 0?void 0:S.call(t),suffix:D=(w=t.suffix)===null||w===void 0?void 0:w.call(t)}=n,M=hUe(n,["disabled","loading","addonAfter","suffix"]);let{enterButton:P=(x=(C=t.enterButton)===null||C===void 0?void 0:C.call(t))!==null&&x!==void 0?x:!1}=n;P=P||P==="";const k=typeof P=="boolean"?N(yS,null,null):null,O=`${m.value}-button`,F=Array.isArray(P)?P[0]:P;let R;const $=F.type&&tse(F.type)&&F.type.__ANT_BUTTON;if($||F.tagName==="button")R=Ci(F,A({onMousedown:d,onClick:h,key:"enterButton"},$?{class:O,size:_.value}:{}),!1);else{const U=k&&!P;R=N(el,{class:O,type:P?"primary":void 0,size:_.value,disabled:L,key:"enterButton",onMousedown:d,onClick:h,loading:T,icon:U?k:null},{default:()=>[U?null:k||P]})}I&&(R=[R,I]);const H=Ee(m.value,{[`${m.value}-rtl`]:y.value==="rtl",[`${m.value}-${_.value}`]:!!_.value,[`${m.value}-with-button`]:!!P},i.class);return N(dr,se(se(se({ref:s},jn(M,["onUpdate:value","onSearch","enterButton"])),i),{},{onPressEnter:f,onCompositionstart:g,onCompositionend:p,size:_.value,prefixCls:b.value,addonAfter:R,suffix:D,onChange:c,class:H,disabled:L}),t)}}}),HK=n=>n!=null&&(Array.isArray(n)?qo(n).length:!0);function gUe(n){return HK(n.addonBefore)||HK(n.addonAfter)}const pUe=["text","input"],mUe=Ie({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:ge.oneOf(lS("text","input")),value:kl(),defaultValue:kl(),allowClear:{type:Boolean,default:void 0},element:kl(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:kl(),prefix:kl(),addonBefore:kl(),addonAfter:kl(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(n,e){let{slots:t,attrs:i}=e;const r=Dc.useInject(),o=a=>{const{value:l,disabled:u,readonly:c,handleReset:d,suffix:h=t.suffix}=n,f=!u&&!c&&l,g=`${a}-clear-icon`;return N(fV,{onClick:d,onMousedown:p=>p.preventDefault(),class:Ee({[`${g}-hidden`]:!f,[`${g}-has-suffix`]:!!h},g),role:"button"},null)},s=(a,l)=>{const{value:u,allowClear:c,direction:d,bordered:h,hidden:f,status:g,addonAfter:p=t.addonAfter,addonBefore:m=t.addonBefore,hashId:v}=n,{status:y,hasFeedback:_}=r;if(!c)return Ci(l,{value:u,disabled:n.disabled});const b=Ee(`${a}-affix-wrapper`,`${a}-affix-wrapper-textarea-with-clear-btn`,pv(`${a}-affix-wrapper`,RE(y,g),_),{[`${a}-affix-wrapper-rtl`]:d==="rtl",[`${a}-affix-wrapper-borderless`]:!h,[`${i.class}`]:!gUe({addonAfter:p,addonBefore:m})&&i.class},v);return N("span",{class:b,style:i.style,hidden:f},[Ci(l,{style:null,value:u,disabled:n.disabled}),o(a)])};return()=>{var a;const{prefixCls:l,inputType:u,element:c=(a=t.element)===null||a===void 0?void 0:a.call(t)}=n;return u===pUe[0]?s(l,c):null}}}),vUe=`
 min-height:0 !important;
 max-height:none !important;
 height:0 !important;
 visibility:hidden !important;
 overflow:hidden !important;
 position:absolute !important;
 z-index:-1000 !important;
 top:0 !important;
 right:0 !important
`,yUe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],eN={};let Ps;function _Ue(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const t=n.getAttribute("id")||n.getAttribute("data-reactid")||n.getAttribute("name");if(e&&eN[t])return eN[t];const i=window.getComputedStyle(n),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),s=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),l={sizingStyle:yUe.map(u=>`${u}:${i.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:s,boxSizing:r};return e&&t&&(eN[t]=l),l}function bUe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ps||(Ps=document.createElement("textarea"),Ps.setAttribute("tab-index","-1"),Ps.setAttribute("aria-hidden","true"),document.body.appendChild(Ps)),n.getAttribute("wrap")?Ps.setAttribute("wrap",n.getAttribute("wrap")):Ps.removeAttribute("wrap");const{paddingSize:r,borderSize:o,boxSizing:s,sizingStyle:a}=_Ue(n,e);Ps.setAttribute("style",`${a};${vUe}`),Ps.value=n.value||n.placeholder||"";let l=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,c=Ps.scrollHeight,d;if(s==="border-box"?c+=o:s==="content-box"&&(c-=r),t!==null||i!==null){Ps.value=" ";const h=Ps.scrollHeight-r;t!==null&&(l=h*t,s==="border-box"&&(l=l+r+o),c=Math.max(l,c)),i!==null&&(u=h*i,s==="border-box"&&(u=u+r+o),d=c>u?"":"hidden",c=Math.min(u,c))}return{height:`${c}px`,minHeight:`${l}px`,maxHeight:`${u}px`,overflowY:d,resize:"none"}}const tN=0,UK=1,SUe=2,wUe=Ie({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:hue(),setup(n,e){let{attrs:t,emit:i,expose:r}=e,o,s;const a=ke(),l=ke({}),u=ke(tN);fn(()=>{Dt.cancel(o),Dt.cancel(s)});const c=()=>{try{if(document.activeElement===a.value){const m=a.value.selectionStart,v=a.value.selectionEnd;a.value.setSelectionRange(m,v)}}catch{}},d=()=>{const m=n.autoSize||n.autosize;if(!m||!a.value)return;const{minRows:v,maxRows:y}=m;l.value=bUe(a.value,!1,v,y),u.value=UK,Dt.cancel(s),s=Dt(()=>{u.value=SUe,s=Dt(()=>{u.value=tN,c()})})},h=()=>{Dt.cancel(o),o=Dt(d)},f=m=>{if(u.value!==tN)return;i("resize",m),(n.autoSize||n.autosize)&&h()};uu(n.autosize===void 0);const g=()=>{const{prefixCls:m,autoSize:v,autosize:y,disabled:_}=n,b=jn(n,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),S=Ee(m,t.class,{[`${m}-disabled`]:_}),w=[t.style,l.value,u.value===UK?{overflowX:"hidden",overflowY:"hidden"}:null],C=A(A(A({},b),t),{style:w,class:S});return C.autofocus||delete C.autofocus,C.rows===0&&delete C.rows,N(Tc,{onResize:f,disabled:!(v||y)},{default:()=>[Bc(N("textarea",se(se({},C),{},{ref:a}),null),[[bw]])]})};Ve(()=>n.value,()=>{kn(()=>{d()})}),Vt(()=>{kn(()=>{d()})});const p=Ts();return r({resizeTextarea:d,textArea:a,instance:p}),()=>g()}}),CUe=wUe;function fue(n,e){return[...n||""].slice(0,e).join("")}function GK(n,e,t,i){let r=t;return n?r=fue(t,i):[...e||""].length<t.length&&[...t||""].length>i&&(r=e),r}const gue=Ie({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:hue(),setup(n,e){let{attrs:t,expose:i,emit:r}=e;const o=Cp(),s=Dc.useInject(),a=V(()=>RE(s.status,n.status)),l=ye(n.value===void 0?n.defaultValue:n.value),u=ye(),c=ye(""),{prefixCls:d,size:h,direction:f}=Wt("input",n),[g,p]=FV(d),m=Gg(),v=V(()=>n.showCount===""||n.showCount||!1),y=V(()=>Number(n.maxlength)>0),_=ye(!1),b=ye(),S=ye(0),w=R=>{_.value=!0,b.value=c.value,S.value=R.currentTarget.selectionStart,r("compositionstart",R)},C=R=>{var $;_.value=!1;let H=R.currentTarget.value;if(y.value){const U=S.value>=n.maxlength+1||S.value===(($=b.value)===null||$===void 0?void 0:$.length);H=GK(U,b.value,H,n.maxlength)}H!==c.value&&(I(H),ob(R.currentTarget,R,P,H)),r("compositionend",R)},x=Ts();Ve(()=>n.value,()=>{var R;"value"in x.vnode.props,l.value=(R=n.value)!==null&&R!==void 0?R:""});const L=R=>{var $;lue(($=u.value)===null||$===void 0?void 0:$.textArea,R)},T=()=>{var R,$;($=(R=u.value)===null||R===void 0?void 0:R.textArea)===null||$===void 0||$.blur()},I=(R,$)=>{l.value!==R&&(n.value===void 0?l.value=R:kn(()=>{var H,U,z;u.value.textArea.value!==c.value&&((z=(H=u.value)===null||H===void 0?void 0:(U=H.instance).update)===null||z===void 0||z.call(U))}),kn(()=>{$&&$()}))},D=R=>{R.keyCode===13&&r("pressEnter",R),r("keydown",R)},M=R=>{const{onBlur:$}=n;$==null||$(R),o.onFieldBlur()},P=R=>{r("update:value",R.target.value),r("change",R),r("input",R),o.onFieldChange()},k=R=>{ob(u.value.textArea,R,P),I("",()=>{L()})},O=R=>{const{composing:$}=R.target;let H=R.target.value;if(_.value=!!(R.isComposing||$),!(_.value&&n.lazy||l.value===H)){if(y.value){const U=R.target,z=U.selectionStart>=n.maxlength+1||U.selectionStart===H.length||!U.selectionStart;H=GK(z,c.value,H,n.maxlength)}ob(R.currentTarget,R,P,H),I(H)}},F=()=>{var R,$;const{class:H}=t,{bordered:U=!0}=n,z=A(A(A({},jn(n,["allowClear"])),t),{class:[{[`${d.value}-borderless`]:!U,[`${H}`]:H&&!v.value,[`${d.value}-sm`]:h.value==="small",[`${d.value}-lg`]:h.value==="large"},pv(d.value,a.value),p.value],disabled:m.value,showCount:null,prefixCls:d.value,onInput:O,onChange:O,onBlur:M,onKeydown:D,onCompositionstart:w,onCompositionend:C});return!((R=n.valueModifiers)===null||R===void 0)&&R.lazy&&delete z.onInput,N(CUe,se(se({},z),{},{id:($=z==null?void 0:z.id)!==null&&$!==void 0?$:o.id.value,ref:u,maxlength:n.maxlength}),null)};return i({focus:L,blur:T,resizableTextArea:u}),Ut(()=>{let R=y5(l.value);!_.value&&y.value&&(n.value===null||n.value===void 0)&&(R=fue(R,n.maxlength)),c.value=R}),()=>{var R;const{maxlength:$,bordered:H=!0,hidden:U}=n,{style:z,class:Z}=t,X=A(A(A({},n),t),{prefixCls:d.value,inputType:"text",handleReset:k,direction:f.value,bordered:H,style:v.value?void 0:z,hashId:p.value,disabled:(R=n.disabled)!==null&&R!==void 0?R:m.value});let ce=N(mUe,se(se({},X),{},{value:c.value,status:n.status}),{element:F});if(v.value||s.hasFeedback){const q=[...c.value].length;let j="";typeof v.value=="object"?j=v.value.formatter({value:c.value,count:q,maxlength:$}):j=`${q}${y.value?` / ${$}`:""}`,ce=N("div",{hidden:U,class:Ee(`${d.value}-textarea`,{[`${d.value}-textarea-rtl`]:f.value==="rtl",[`${d.value}-textarea-show-count`]:v.value,[`${d.value}-textarea-in-form-item`]:s.isFormItemInput},`${d.value}-textarea-show-count`,Z,p.value),style:z,"data-count":typeof j!="object"?j:void 0},[ce,s.hasFeedback&&N("span",{class:`${d.value}-textarea-suffix`},[s.feedbackIcon])])}return g(ce)}}});var xUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const LUe={click:"onClick",hover:"onMouseover"},TUe=n=>N(n?M9e:T9e,null,null),IUe=Ie({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:A(A({},uW()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},iconRender:Function}),setup(n,e){let{slots:t,attrs:i,expose:r}=e;const o=ye(!1),s=()=>{const{disabled:p}=n;p||(o.value=!o.value)},a=ye();r({focus:()=>{var p;(p=a.value)===null||p===void 0||p.focus()},blur:()=>{var p;(p=a.value)===null||p===void 0||p.blur()}});const c=p=>{const{action:m,iconRender:v=t.iconRender||TUe}=n,y=LUe[m]||"",_=v(o.value),b={[y]:s,class:`${p}-icon`,key:"passwordIcon",onMousedown:S=>{S.preventDefault()},onMouseup:S=>{S.preventDefault()}};return Ci(Yo(_)?_:N("span",null,[_]),b)},{prefixCls:d,getPrefixCls:h}=Wt("input-password",n),f=V(()=>h("input",n.inputPrefixCls)),g=()=>{const{size:p,visibilityToggle:m}=n,v=xUe(n,["size","visibilityToggle"]),y=m&&c(d.value),_=Ee(d.value,i.class,{[`${d.value}-${p}`]:!!p}),b=A(A(A({},jn(v,["suffix","iconRender","action"])),i),{type:o.value?"text":"password",class:_,prefixCls:f.value,suffix:y});return p&&(b.size=p),N(dr,se({ref:a},b),t)};return()=>g()}});dr.Group=dUe;dr.Search=fUe;dr.TextArea=gue;dr.Password=IUe;dr.install=function(n){return n.component(dr.name,dr),n.component(dr.Group.name,dr.Group),n.component(dr.Search.name,dr.Search),n.component(dr.TextArea.name,dr.TextArea),n.component(dr.Password.name,dr.Password),n};function KK(n){const e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}function DUe(n,e,t){var i=t||{},r=i.noTrailing,o=r===void 0?!1:r,s=i.noLeading,a=s===void 0?!1:s,l=i.debounceMode,u=l===void 0?void 0:l,c,d=!1,h=0;function f(){c&&clearTimeout(c)}function g(m){var v=m||{},y=v.upcomingOnly,_=y===void 0?!1:y;f(),d=!_}function p(){for(var m=arguments.length,v=new Array(m),y=0;y<m;y++)v[y]=arguments[y];var _=this,b=Date.now()-h;if(d)return;function S(){h=Date.now(),e.apply(_,v)}function w(){c=void 0}!a&&u&&!c&&S(),f(),u===void 0&&b>n?a?(h=Date.now(),o||(c=setTimeout(u?w:S,n))):S():o!==!0&&(c=setTimeout(u?w:S,u===void 0?n-b:n))}return p.cancel=g,p}function EUe(n,e,t){var i=t||{},r=i.atBegin,o=r===void 0?!1:r;return DUe(n,e,{debounceMode:o!==!1})}const MUe=new _n("antSpinMove",{to:{opacity:1}}),AUe=new _n("antRotate",{to:{transform:"rotate(405deg)"}}),NUe=n=>({[`${n.componentCls}`]:A(A({},wi(n)),{position:"absolute",display:"none",color:n.colorPrimary,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${n.motionDurationSlow} ${n.motionEaseInOutCirc}`,"&-spinning":{position:"static",display:"inline-block",opacity:1},"&-nested-loading":{position:"relative",[`> div > ${n.componentCls}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:n.contentHeight,[`${n.componentCls}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:-n.spinDotSize/2},[`${n.componentCls}-text`]:{position:"absolute",top:"50%",width:"100%",paddingTop:(n.spinDotSize-n.fontSize)/2+2,textShadow:`0 1px 2px ${n.colorBgContainer}`},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSize/2)-10},"&-sm":{[`${n.componentCls}-dot`]:{margin:-n.spinDotSizeSM/2},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeSM-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeSM/2)-10}},"&-lg":{[`${n.componentCls}-dot`]:{margin:-(n.spinDotSizeLG/2)},[`${n.componentCls}-text`]:{paddingTop:(n.spinDotSizeLG-n.fontSize)/2+2},[`&${n.componentCls}-show-text ${n.componentCls}-dot`]:{marginTop:-(n.spinDotSizeLG/2)-10}}},[`${n.componentCls}-container`]:{position:"relative",transition:`opacity ${n.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:n.colorBgContainer,opacity:0,transition:`all ${n.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${n.componentCls}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:n.spinDotDefault},[`${n.componentCls}-dot`]:{position:"relative",display:"inline-block",fontSize:n.spinDotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:(n.spinDotSize-n.marginXXS/2)/2,height:(n.spinDotSize-n.marginXXS/2)/2,backgroundColor:n.colorPrimary,borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:MUe,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:AUe,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&-sm ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeSM,i:{width:(n.spinDotSizeSM-n.marginXXS/2)/2,height:(n.spinDotSizeSM-n.marginXXS/2)/2}},[`&-lg ${n.componentCls}-dot`]:{fontSize:n.spinDotSizeLG,i:{width:(n.spinDotSizeLG-n.marginXXS)/2,height:(n.spinDotSizeLG-n.marginXXS)/2}},[`&${n.componentCls}-show-text ${n.componentCls}-text`]:{display:"block"}})}),kUe=ki("Spin",n=>{const e=Ln(n,{spinDotDefault:n.colorTextDescription,spinDotSize:n.controlHeightLG/2,spinDotSizeSM:n.controlHeightLG*.35,spinDotSizeLG:n.controlHeight});return[NUe(e)]},{contentHeight:400});var PUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const OUe=()=>({prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:ge.any,delay:Number,indicator:ge.any});let tL=null;function RUe(n,e){return!!n&&!!e&&!isNaN(Number(e))}function BUe(n){const e=n.indicator;tL=typeof e=="function"?e:()=>N(e,null,null)}const sb=Ie({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:rr(OUe(),{size:"default",spinning:!0,wrapperClassName:""}),setup(n,e){let{attrs:t,slots:i}=e;const{prefixCls:r,size:o,direction:s}=Wt("spin",n),[a,l]=kUe(r),u=ye(n.spinning&&!RUe(n.spinning,n.delay));let c;return Ve([()=>n.spinning,()=>n.delay],()=>{c==null||c.cancel(),c=EUe(n.delay,()=>{u.value=n.spinning}),c==null||c()},{immediate:!0,flush:"post"}),fn(()=>{c==null||c.cancel()}),()=>{var d,h;const{class:f}=t,g=PUe(t,["class"]),{tip:p=(d=i.tip)===null||d===void 0?void 0:d.call(i)}=n,m=(h=i.default)===null||h===void 0?void 0:h.call(i),v={[l.value]:!0,[r.value]:!0,[`${r.value}-sm`]:o.value==="small",[`${r.value}-lg`]:o.value==="large",[`${r.value}-spinning`]:u.value,[`${r.value}-show-text`]:!!p,[`${r.value}-rtl`]:s.value==="rtl",[f]:!!f};function y(b){const S=`${b}-dot`;let w=pg(i,n,"indicator");return w===null?null:(Array.isArray(w)&&(w=w.length===1?w[0]:w),Rr(w)?bs(w,{class:S}):tL&&Rr(tL())?bs(tL(),{class:S}):N("span",{class:`${S} ${b}-dot-spin`},[N("i",{class:`${b}-dot-item`},null),N("i",{class:`${b}-dot-item`},null),N("i",{class:`${b}-dot-item`},null),N("i",{class:`${b}-dot-item`},null)]))}const _=N("div",se(se({},g),{},{class:v,"aria-live":"polite","aria-busy":u.value}),[y(r.value),p?N("div",{class:`${r.value}-text`},[p]):null]);if(m&&qo(m).length){const b={[`${r.value}-container`]:!0,[`${r.value}-blur`]:u.value};return a(N("div",{class:[`${r.value}-nested-loading`,n.wrapperClassName,l.value]},[u.value&&N("div",{key:"loading"},[_]),N("div",{class:b,key:"container"},[m])]))}return a(_)}}});sb.setDefaultIndicator=BUe;sb.install=function(n){return n.component(sb.name,sb),n};const FUe=Ie({name:"MiniSelect",compatConfig:{MODE:3},inheritAttrs:!1,props:TV(),Option:_S.Option,setup(n,e){let{attrs:t,slots:i}=e;return()=>{const r=A(A(A({},n),{size:"small"}),t);return N(_S,r,i)}}}),$Ue=Ie({name:"MiddleSelect",inheritAttrs:!1,props:TV(),Option:_S.Option,setup(n,e){let{attrs:t,slots:i}=e;return()=>{const r=A(A(A({},n),{size:"middle"}),t);return N(_S,r,i)}}}),zh=Ie({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:ge.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:()=>{}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup(n,e){let{emit:t,attrs:i}=e;const r=()=>{t("click",n.page)},o=s=>{t("keypress",s,r,n.page)};return()=>{const{showTitle:s,page:a,itemRender:l}=n,{class:u,style:c}=i,d=`${n.rootPrefixCls}-item`,h=Ee(d,`${d}-${n.page}`,{[`${d}-active`]:n.active,[`${d}-disabled`]:!n.page},u);return N("li",{onClick:r,onKeypress:o,title:s?String(a):null,tabindex:"0",class:h,style:c},[l({page:a,type:"page",originalElement:N("a",{rel:"nofollow"},[a])})])}}}),mf={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},VUe=Ie({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:ge.any,current:Number,pageSizeOptions:ge.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:ge.object,rootPrefixCls:String,selectPrefixCls:String,goButton:ge.any},setup(n){const e=ke(""),t=V(()=>!e.value||isNaN(e.value)?void 0:Number(e.value)),i=l=>`${l.value} ${n.locale.items_per_page}`,r=l=>{const{value:u,composing:c}=l.target;l.isComposing||c||e.value===u||(e.value=u)},o=l=>{const{goButton:u,quickGo:c,rootPrefixCls:d}=n;if(!(u||e.value===""))if(l.relatedTarget&&(l.relatedTarget.className.indexOf(`${d}-item-link`)>=0||l.relatedTarget.className.indexOf(`${d}-item`)>=0)){e.value="";return}else c(t.value),e.value=""},s=l=>{e.value!==""&&(l.keyCode===mf.ENTER||l.type==="click")&&(n.quickGo(t.value),e.value="")},a=V(()=>{const{pageSize:l,pageSizeOptions:u}=n;return u.some(c=>c.toString()===l.toString())?u:u.concat([l.toString()]).sort((c,d)=>{const h=isNaN(Number(c))?0:Number(c),f=isNaN(Number(d))?0:Number(d);return h-f})});return()=>{const{rootPrefixCls:l,locale:u,changeSize:c,quickGo:d,goButton:h,selectComponentClass:f,selectPrefixCls:g,pageSize:p,disabled:m}=n,v=`${l}-options`;let y=null,_=null,b=null;if(!c&&!d)return null;if(c&&f){const S=n.buildOptionText||i,w=a.value.map((C,x)=>N(f.Option,{key:x,value:C},{default:()=>[S({value:C})]}));y=N(f,{disabled:m,prefixCls:g,showSearch:!1,class:`${v}-size-changer`,optionLabelProp:"children",value:(p||a.value[0]).toString(),onChange:C=>c(Number(C)),getPopupContainer:C=>C.parentNode},{default:()=>[w]})}return d&&(h&&(b=typeof h=="boolean"?N("button",{type:"button",onClick:s,onKeyup:s,disabled:m,class:`${v}-quick-jumper-button`},[u.jump_to_confirm]):N("span",{onClick:s,onKeyup:s},[h])),_=N("div",{class:`${v}-quick-jumper`},[u.jump_to,Bc(N("input",{disabled:m,type:"text",value:e.value,onInput:r,onChange:r,onKeyup:s,onBlur:o},null),[[bw]]),u.page,b])),N("li",{class:`${v}`},[y,_])}}}),WUe={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 "};var zUe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function HUe(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function UUe(n){let{originalElement:e}=n;return e}function Pu(n,e,t){const i=typeof n>"u"?e.statePageSize:n;return Math.floor((t.total-1)/i)+1}const GUe=Ie({compatConfig:{MODE:3},name:"Pagination",mixins:[Cae],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:ge.string.def("rc-pagination"),selectPrefixCls:ge.string.def("rc-select"),current:Number,defaultCurrent:ge.number.def(1),total:ge.number.def(0),pageSize:Number,defaultPageSize:ge.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:ge.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:ge.oneOfType([ge.looseBool,ge.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:ge.arrayOf(ge.oneOfType([ge.number,ge.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:ge.object.def(WUe),itemRender:ge.func.def(UUe),prevIcon:ge.any,nextIcon:ge.any,jumpPrevIcon:ge.any,jumpNextIcon:ge.any,totalBoundaryShowSizeChanger:ge.number.def(50)},data(){const n=this.$props;let e=r5([this.current,this.defaultCurrent]);const t=r5([this.pageSize,this.defaultPageSize]);return e=Math.min(e,Pu(t,void 0,n)),{stateCurrent:e,stateCurrentInputValue:e,statePageSize:t}},watch:{current(n){this.setState({stateCurrent:n,stateCurrentInputValue:n})},pageSize(n){const e={};let t=this.stateCurrent;const i=Pu(n,this.$data,this.$props);t=t>i?i:t,Sm(this,"current")||(e.stateCurrent=t,e.stateCurrentInputValue=t),e.statePageSize=n,this.setState(e)},stateCurrent(n,e){this.$nextTick(()=>{if(this.$refs.paginationNode){const t=this.$refs.paginationNode.querySelector(`.${this.prefixCls}-item-${e}`);t&&document.activeElement===t&&t.blur()}})},total(){const n={},e=Pu(this.pageSize,this.$data,this.$props);if(Sm(this,"current")){const t=Math.min(this.current,e);n.stateCurrent=t,n.stateCurrentInputValue=t}else{let t=this.stateCurrent;t===0&&e>0?t=1:t=Math.min(this.stateCurrent,e),n.stateCurrent=t}this.setState(n)}},methods:{getJumpPrevPage(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage(){return Math.min(Pu(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon(n,e){const{prefixCls:t}=this.$props;return rse(this,n,this.$props)||N("button",{type:"button","aria-label":e,class:`${t}-item-link`},null)},getValidValue(n){const e=n.target.value,t=Pu(void 0,this.$data,this.$props),{stateCurrentInputValue:i}=this.$data;let r;return e===""?r=e:isNaN(Number(e))?r=i:e>=t?r=t:r=Number(e),r},isValid(n){return HUe(n)&&n!==this.stateCurrent},shouldDisplayQuickJumper(){const{showQuickJumper:n,pageSize:e,total:t}=this.$props;return t<=e?!1:n},handleKeyDown(n){(n.keyCode===mf.ARROW_UP||n.keyCode===mf.ARROW_DOWN)&&n.preventDefault()},handleKeyUp(n){if(n.isComposing||n.target.composing)return;const e=this.getValidValue(n),t=this.stateCurrentInputValue;e!==t&&this.setState({stateCurrentInputValue:e}),n.keyCode===mf.ENTER?this.handleChange(e):n.keyCode===mf.ARROW_UP?this.handleChange(e-1):n.keyCode===mf.ARROW_DOWN&&this.handleChange(e+1)},changePageSize(n){let e=this.stateCurrent;const t=e,i=Pu(n,this.$data,this.$props);e=e>i?i:e,i===0&&(e=this.stateCurrent),typeof n=="number"&&(Sm(this,"pageSize")||this.setState({statePageSize:n}),Sm(this,"current")||this.setState({stateCurrent:e,stateCurrentInputValue:e})),this.__emit("update:pageSize",n),e!==t&&this.__emit("update:current",e),this.__emit("showSizeChange",e,n),this.__emit("change",e,n)},handleChange(n){const{disabled:e}=this.$props;let t=n;if(this.isValid(t)&&!e){const i=Pu(void 0,this.$data,this.$props);return t>i?t=i:t<1&&(t=1),Sm(this,"current")||this.setState({stateCurrent:t,stateCurrentInputValue:t}),this.__emit("update:current",t),this.__emit("change",t,this.statePageSize),t}return this.stateCurrent},prev(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev(){this.handleChange(this.getJumpPrevPage())},jumpNext(){this.handleChange(this.getJumpNextPage())},hasPrev(){return this.stateCurrent>1},hasNext(){return this.stateCurrent<Pu(void 0,this.$data,this.$props)},getShowSizeChanger(){const{showSizeChanger:n,total:e,totalBoundaryShowSizeChanger:t}=this.$props;return typeof n<"u"?n:e>t},runIfEnter(n,e){if(n.key==="Enter"||n.charCode===13){for(var t=arguments.length,i=new Array(t>2?t-2:0),r=2;r<t;r++)i[r-2]=arguments[r];e(...i)}},runIfEnterPrev(n){this.runIfEnter(n,this.prev)},runIfEnterNext(n){this.runIfEnter(n,this.next)},runIfEnterJumpPrev(n){this.runIfEnter(n,this.jumpPrev)},runIfEnterJumpNext(n){this.runIfEnter(n,this.jumpNext)},handleGoTO(n){(n.keyCode===mf.ENTER||n.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev(n){const{itemRender:e}=this.$props,t=e({page:n,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),i=!this.hasPrev();return Yo(t)?Ci(t,i?{disabled:i}:{}):t},renderNext(n){const{itemRender:e}=this.$props,t=e({page:n,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),i=!this.hasNext();return Yo(t)?Ci(t,i?{disabled:i}:{}):t}},render(){const{prefixCls:n,disabled:e,hideOnSinglePage:t,total:i,locale:r,showQuickJumper:o,showLessItems:s,showTitle:a,showTotal:l,simple:u,itemRender:c,showPrevNextJumpers:d,jumpPrevIcon:h,jumpNextIcon:f,selectComponentClass:g,selectPrefixCls:p,pageSizeOptions:m}=this.$props,{stateCurrent:v,statePageSize:y}=this,_=nse(this.$attrs).extraAttrs,{class:b}=_,S=zUe(_,["class"]);if(t===!0&&this.total<=y)return null;const w=Pu(void 0,this.$data,this.$props),C=[];let x=null,L=null,T=null,I=null,D=null;const M=o&&o.goButton,P=s?1:2,k=v-1>0?v-1:0,O=v+1<w?v+1:w,F=this.hasPrev(),R=this.hasNext();if(u)return M&&(typeof M=="boolean"?D=N("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[r.jump_to_confirm]):D=N("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[M]),D=N("li",{title:a?`${r.jump_to}${v}/${w}`:null,class:`${n}-simple-pager`},[D])),N("ul",se({class:Ee(`${n} ${n}-simple`,{[`${n}-disabled`]:e},b)},S),[N("li",{title:a?r.prev_page:null,onClick:this.prev,tabindex:F?0:null,onKeypress:this.runIfEnterPrev,class:Ee(`${n}-prev`,{[`${n}-disabled`]:!F}),"aria-disabled":!F},[this.renderPrev(k)]),N("li",{title:a?`${v}/${w}`:null,class:`${n}-simple-pager`},[Bc(N("input",{type:"text",value:this.stateCurrentInputValue,disabled:e,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),[[bw]]),N("span",{class:`${n}-slash`},[Oo("")]),w]),N("li",{title:a?r.next_page:null,onClick:this.next,tabindex:R?0:null,onKeypress:this.runIfEnterNext,class:Ee(`${n}-next`,{[`${n}-disabled`]:!R}),"aria-disabled":!R},[this.renderNext(O)]),D]);if(w<=3+P*2){const Z={locale:r,rootPrefixCls:n,showTitle:a,itemRender:c,onClick:this.handleChange,onKeypress:this.runIfEnter};w||C.push(N(zh,se(se({},Z),{},{key:"noPager",page:1,class:`${n}-item-disabled`}),null));for(let X=1;X<=w;X+=1){const ce=v===X;C.push(N(zh,se(se({},Z),{},{key:X,page:X,active:ce}),null))}}else{const Z=s?r.prev_3:r.prev_5,X=s?r.next_3:r.next_5;d&&(x=N("li",{title:this.showTitle?Z:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:Ee(`${n}-jump-prev`,{[`${n}-jump-prev-custom-icon`]:!!h})},[c({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),L=N("li",{title:this.showTitle?X:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:Ee(`${n}-jump-next`,{[`${n}-jump-next-custom-icon`]:!!f})},[c({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),I=N(zh,{locale:r,last:!0,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:w,page:w,active:!1,showTitle:a,itemRender:c},null),T=N(zh,{locale:r,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:a,itemRender:c},null);let ce=Math.max(1,v-P),q=Math.min(v+P,w);v-1<=P&&(q=1+P*2),w-v<=P&&(ce=w-P*2);for(let j=ce;j<=q;j+=1){const ie=v===j;C.push(N(zh,{locale:r,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:j,page:j,active:ie,showTitle:a,itemRender:c},null))}v-1>=P*2&&v!==1+2&&(C[0]=N(zh,{locale:r,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ce,page:ce,class:`${n}-item-after-jump-prev`,active:!1,showTitle:this.showTitle,itemRender:c},null),C.unshift(x)),w-v>=P*2&&v!==w-2&&(C[C.length-1]=N(zh,{locale:r,rootPrefixCls:n,onClick:this.handleChange,onKeypress:this.runIfEnter,key:q,page:q,class:`${n}-item-before-jump-next`,active:!1,showTitle:this.showTitle,itemRender:c},null),C.push(L)),ce!==1&&C.unshift(T),q!==w&&C.push(I)}let $=null;l&&($=N("li",{class:`${n}-total-text`},[l(i,[i===0?0:(v-1)*y+1,v*y>i?i:v*y])]));const H=!F||!w,U=!R||!w,z=this.buildOptionText||this.$slots.buildOptionText;return N("ul",se(se({unselectable:"on",ref:"paginationNode"},S),{},{class:Ee({[`${n}`]:!0,[`${n}-disabled`]:e},b)}),[$,N("li",{title:a?r.prev_page:null,onClick:this.prev,tabindex:H?null:0,onKeypress:this.runIfEnterPrev,class:Ee(`${n}-prev`,{[`${n}-disabled`]:H}),"aria-disabled":H},[this.renderPrev(k)]),C,N("li",{title:a?r.next_page:null,onClick:this.next,tabindex:U?null:0,onKeypress:this.runIfEnterNext,class:Ee(`${n}-next`,{[`${n}-disabled`]:U}),"aria-disabled":U},[this.renderNext(O)]),N(VUe,{disabled:e,locale:r,rootPrefixCls:n,selectComponentClass:g,selectPrefixCls:p,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:v,pageSize:y,pageSizeOptions:m,buildOptionText:z||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:M},null)])}}),KUe=n=>{const{componentCls:e}=n;return{[`${e}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed"}}},[`&${e}-disabled`]:{cursor:"not-allowed",[`&${e}-mini`]:{[`
          &:hover ${e}-item:not(${e}-item-active),
          &:active ${e}-item:not(${e}-item-active),
          &:hover ${e}-item-link,
          &:active ${e}-item-link
        `]:{backgroundColor:"transparent"}},[`${e}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:n.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:n.colorBorder,backgroundColor:n.paginationItemDisabledBgActive,"&:hover, &:active":{backgroundColor:n.paginationItemDisabledBgActive},a:{color:n.paginationItemDisabledColorActive}}},[`${e}-item-link`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${e}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${e}-simple-pager`]:{color:n.colorTextDisabled},[`${e}-jump-prev, ${e}-jump-next`]:{[`${e}-item-link-icon`]:{opacity:0},[`${e}-item-ellipsis`]:{opacity:1}}},[`&${e}-simple`]:{[`${e}-prev, ${e}-next`]:{[`&${e}-disabled ${e}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},jUe=n=>{const{componentCls:e}=n;return{[`&${e}-mini ${e}-total-text, &${e}-mini ${e}-simple-pager`]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-item`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM-2}px`},[`&${e}-mini ${e}-item:not(${e}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}},[`&${e}-mini ${e}-prev, &${e}-mini ${e}-next`]:{minWidth:n.paginationItemSizeSM,height:n.paginationItemSizeSM,margin:0,lineHeight:`${n.paginationItemSizeSM}px`,[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover ${e}-item-link`]:{backgroundColor:"transparent"}},[`
    &${e}-mini ${e}-prev ${e}-item-link,
    &${e}-mini ${e}-next ${e}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}},[`&${e}-mini ${e}-jump-prev, &${e}-mini ${e}-jump-next`]:{height:n.paginationItemSizeSM,marginInlineEnd:0,lineHeight:`${n.paginationItemSizeSM}px`},[`&${e}-mini ${e}-options`]:{marginInlineStart:n.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:n.paginationMiniOptionsSizeChangerTop},"&-quick-jumper":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,input:A(A({},OV(n)),{width:n.paginationMiniQuickJumperInputWidth,height:n.controlHeightSM})}}}},qUe=n=>{const{componentCls:e}=n;return{[`
    &${e}-simple ${e}-prev,
    &${e}-simple ${e}-next
    `]:{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`,verticalAlign:"top",[`${e}-item-link`]:{height:n.paginationItemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive},"&::after":{height:n.paginationItemSizeSM,lineHeight:`${n.paginationItemSizeSM}px`}}},[`&${e}-simple ${e}-simple-pager`]:{display:"inline-block",height:n.paginationItemSizeSM,marginInlineEnd:n.marginXS,input:{boxSizing:"border-box",height:"100%",marginInlineEnd:n.marginXS,padding:`0 ${n.paginationItemPaddingInline}px`,textAlign:"center",backgroundColor:n.paginationItemInputBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,borderRadius:n.borderRadius,outline:"none",transition:`border-color ${n.motionDurationMid}`,color:"inherit","&:hover":{borderColor:n.colorPrimary},"&:focus":{borderColor:n.colorPrimaryHover,boxShadow:`${n.inputOutlineOffset}px 0 ${n.controlOutlineWidth}px ${n.controlOutline}`},"&[disabled]":{color:n.colorTextDisabled,backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,cursor:"not-allowed"}}}}},YUe=n=>{const{componentCls:e}=n;return{[`${e}-jump-prev, ${e}-jump-next`]:{outline:0,[`${e}-item-container`]:{position:"relative",[`${e}-item-link-icon`]:{color:n.colorPrimary,fontSize:n.fontSizeSM,opacity:0,transition:`all ${n.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${e}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:n.colorTextDisabled,fontFamily:"Arial, Helvetica, sans-serif",letterSpacing:n.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:n.paginationEllipsisTextIndent,opacity:1,transition:`all ${n.motionDurationMid}`}},"&:hover":{[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},"&:focus-visible":A({[`${e}-item-link-icon`]:{opacity:1},[`${e}-item-ellipsis`]:{opacity:0}},Ic(n))},[`
    ${e}-prev,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{marginInlineEnd:n.marginXS},[`
    ${e}-prev,
    ${e}-next,
    ${e}-jump-prev,
    ${e}-jump-next
    `]:{display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,color:n.colorText,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:n.borderRadius,cursor:"pointer",transition:`all ${n.motionDurationMid}`},[`${e}-prev, ${e}-next`]:{fontFamily:"Arial, Helvetica, sans-serif",outline:0,button:{color:n.colorText,cursor:"pointer",userSelect:"none"},[`${e}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:n.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:"none",transition:`border ${n.motionDurationMid}`},[`&:focus-visible ${e}-item-link`]:A({},Ic(n)),[`&:hover ${e}-item-link`]:{backgroundColor:n.colorBgTextHover},[`&:active ${e}-item-link`]:{backgroundColor:n.colorBgTextActive},[`&${e}-disabled:hover`]:{[`${e}-item-link`]:{backgroundColor:"transparent"}}},[`${e}-slash`]:{marginInlineEnd:n.paginationSlashMarginInlineEnd,marginInlineStart:n.paginationSlashMarginInlineStart},[`${e}-options`]:{display:"inline-block",marginInlineStart:n.margin,verticalAlign:"middle","&-size-changer.-select":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:n.controlHeight,marginInlineStart:n.marginXS,lineHeight:`${n.controlHeight}px`,verticalAlign:"top",input:A(A({},RV(n)),{width:n.controlHeightLG*1.25,height:n.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:n.marginXS,marginInlineEnd:n.marginXS})}}}},XUe=n=>{const{componentCls:e}=n;return{[`${e}-item`]:A(A({display:"inline-block",minWidth:n.paginationItemSize,height:n.paginationItemSize,marginInlineEnd:n.marginXS,fontFamily:n.paginationFontFamily,lineHeight:`${n.paginationItemSize-2}px`,textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:"transparent",border:`${n.lineWidth}px ${n.lineType} transparent`,borderRadius:n.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${n.paginationItemPaddingInline}px`,color:n.colorText,transition:"none","&:hover":{textDecoration:"none"}},[`&:not(${e}-item-active)`]:{"&:hover":{transition:`all ${n.motionDurationMid}`,backgroundColor:n.colorBgTextHover},"&:active":{backgroundColor:n.colorBgTextActive}}},Jv(n)),{"&-active":{fontWeight:n.paginationFontWeightActive,backgroundColor:n.paginationItemBgActive,borderColor:n.colorPrimary,a:{color:n.colorPrimary},"&:hover":{borderColor:n.colorPrimaryHover},"&:hover a":{color:n.colorPrimaryHover}}})}},ZUe=n=>{const{componentCls:e}=n;return{[e]:A(A(A(A(A(A(A(A({},wi(n)),{"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${e}-total-text`]:{display:"inline-block",height:n.paginationItemSize,marginInlineEnd:n.marginXS,lineHeight:`${n.paginationItemSize-2}px`,verticalAlign:"middle"}}),XUe(n)),YUe(n)),qUe(n)),jUe(n)),KUe(n)),{[`@media only screen and (max-width: ${n.screenLG}px)`]:{[`${e}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${n.screenSM}px)`]:{[`${e}-options`]:{display:"none"}}}),[`&${n.componentCls}-rtl`]:{direction:"rtl"}}},QUe=n=>{const{componentCls:e}=n;return{[`${e}${e}-disabled`]:{"&, &:hover":{[`${e}-item-link`]:{borderColor:n.colorBorder}},"&:focus-visible":{[`${e}-item-link`]:{borderColor:n.colorBorder}},[`${e}-item, ${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,[`&:hover:not(${e}-item-active)`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,a:{color:n.colorTextDisabled}},[`&${e}-item-active`]:{backgroundColor:n.paginationItemDisabledBgActive}},[`${e}-prev, ${e}-next`]:{"&:hover button":{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder,color:n.colorTextDisabled},[`${e}-item-link`]:{backgroundColor:n.colorBgContainerDisabled,borderColor:n.colorBorder}}},[e]:{[`${e}-prev, ${e}-next`]:{"&:hover button":{borderColor:n.colorPrimaryHover,backgroundColor:n.paginationItemBg},[`${e}-item-link`]:{backgroundColor:n.paginationItemLinkBg,borderColor:n.colorBorder},[`&:hover ${e}-item-link`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,color:n.colorPrimary},[`&${e}-disabled`]:{[`${e}-item-link`]:{borderColor:n.colorBorder,color:n.colorTextDisabled}}},[`${e}-item`]:{backgroundColor:n.paginationItemBg,border:`${n.lineWidth}px ${n.lineType} ${n.colorBorder}`,[`&:hover:not(${e}-item-active)`]:{borderColor:n.colorPrimary,backgroundColor:n.paginationItemBg,a:{color:n.colorPrimary}},"&-active":{borderColor:n.colorPrimary}}}}},JUe=ki("Pagination",n=>{const e=Ln(n,{paginationItemSize:n.controlHeight,paginationFontFamily:n.fontFamily,paginationItemBg:n.colorBgContainer,paginationItemBgActive:n.colorBgContainer,paginationFontWeightActive:n.fontWeightStrong,paginationItemSizeSM:n.controlHeightSM,paginationItemInputBg:n.colorBgContainer,paginationMiniOptionsSizeChangerTop:0,paginationItemDisabledBgActive:n.controlItemBgActiveDisabled,paginationItemDisabledColorActive:n.colorTextDisabled,paginationItemLinkBg:n.colorBgContainer,inputOutlineOffset:"0 0",paginationMiniOptionsMarginInlineStart:n.marginXXS/2,paginationMiniQuickJumperInputWidth:n.controlHeightLG*1.1,paginationItemPaddingInline:n.marginXXS*1.5,paginationEllipsisLetterSpacing:n.marginXXS/2,paginationSlashMarginInlineStart:n.marginXXS,paginationSlashMarginInlineEnd:n.marginSM,paginationEllipsisTextIndent:"0.13em"},BV(n));return[ZUe(e),n.wireframe&&QUe(e)]});var eGe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const tGe=()=>({total:Number,defaultCurrent:Number,disabled:_t(),current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:_t(),showSizeChanger:_t(),pageSizeOptions:fr(),buildOptionText:vt(),showQuickJumper:Ki([Boolean,Object]),showTotal:vt(),size:ui(),simple:_t(),locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:vt(),role:String,responsive:Boolean,showLessItems:_t(),onChange:vt(),onShowSizeChange:vt(),"onUpdate:current":vt(),"onUpdate:pageSize":vt()}),nGe=Ie({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:tGe(),setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r,configProvider:o,direction:s,size:a}=Wt("pagination",n),[l,u]=JUe(r),c=V(()=>o.getPrefixCls("select",n.selectPrefixCls)),d=ele(),[h]=gse("Pagination",dse,Wn(n,"locale")),f=g=>{const p=N("span",{class:`${g}-item-ellipsis`},[Oo("")]),m=N("button",{class:`${g}-item-link`,type:"button",tabindex:-1},[s.value==="rtl"?N(uI,null,null):N(CK,null,null)]),v=N("button",{class:`${g}-item-link`,type:"button",tabindex:-1},[s.value==="rtl"?N(CK,null,null):N(uI,null,null)]),y=N("a",{rel:"nofollow",class:`${g}-item-link`},[N("div",{class:`${g}-item-container`},[s.value==="rtl"?N(NK,{class:`${g}-item-link-icon`},null):N(MK,{class:`${g}-item-link-icon`},null),p])]),_=N("a",{rel:"nofollow",class:`${g}-item-link`},[N("div",{class:`${g}-item-container`},[s.value==="rtl"?N(MK,{class:`${g}-item-link-icon`},null):N(NK,{class:`${g}-item-link-icon`},null),p])]);return{prevIcon:m,nextIcon:v,jumpPrevIcon:y,jumpNextIcon:_}};return()=>{var g;const{itemRender:p=t.itemRender,buildOptionText:m=t.buildOptionText,selectComponentClass:v,responsive:y}=n,_=eGe(n,["itemRender","buildOptionText","selectComponentClass","responsive"]),b=a.value==="small"||!!(!((g=d.value)===null||g===void 0)&&g.xs&&!a.value&&y),S=A(A(A(A(A({},_),f(r.value)),{prefixCls:r.value,selectPrefixCls:c.value,selectComponentClass:v||(b?FUe:$Ue),locale:h.value,buildOptionText:m}),i),{class:Ee({[`${r.value}-mini`]:b,[`${r.value}-rtl`]:s.value==="rtl"},i.class,u.value),itemRender:p});return l(N(GUe,S,null))}}}),iGe=Ey(nGe);var rGe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const oGe={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},sGe=Ie({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup(n,e){let{slots:t,emit:i,attrs:r,expose:o}=e;const s=ye(),a=h=>{const{keyCode:f}=h;f===ot.ENTER&&h.preventDefault()},l=h=>{const{keyCode:f}=h;f===ot.ENTER&&i("click",h)},u=h=>{i("click",h)},c=()=>{s.value&&s.value.focus()},d=()=>{s.value&&s.value.blur()};return Vt(()=>{n.autofocus&&c()}),o({focus:c,blur:d}),()=>{var h;const{noStyle:f,disabled:g}=n,p=rGe(n,["noStyle","disabled"]);let m={};return f||(m=A({},oGe)),g&&(m.pointerEvents="none"),N("div",se(se(se({role:"button",tabindex:0,ref:s},p),r),{},{onClick:u,onKeydown:a,onKeyup:l,style:A(A({},m),r.style||{})}),[(h=t.default)===null||h===void 0?void 0:h.call(t)])}}}),jK=sGe,aGe=Ey(O8e),pue=Symbol("TableContextProps"),lGe=n=>{On(pue,n)},Cu=()=>kt(pue,{}),uGe="RC_TABLE_KEY";function mue(n){return n==null?[]:Array.isArray(n)?n:[n]}function vue(n,e){if(!e&&typeof e!="number")return n;const t=mue(e);let i=n;for(let r=0;r<t.length;r+=1){if(!i)return null;const o=t[r];i=i[o]}return i}function UE(n){const e=[],t={};return n.forEach(i=>{const{key:r,dataIndex:o}=i||{};let s=r||mue(o).join("-")||uGe;for(;t[s];)s=`${s}_next`;t[s]=!0,e.push(s)}),e}function cGe(){const n={};function e(o,s){s&&Object.keys(s).forEach(a=>{const l=s[a];l&&typeof l=="object"?(o[a]=o[a]||{},e(o[a],l)):o[a]=l})}for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return i.forEach(o=>{e(n,o)}),n}function _5(n){return n!=null}const yue=Symbol("SlotsContextProps"),dGe=n=>{On(yue,n)},cW=()=>kt(yue,V(()=>({}))),_ue=Symbol("ContextProps"),hGe=n=>{On(_ue,n)},fGe=()=>kt(_ue,{onResizeColumn:()=>{}});globalThis&&globalThis.__rest;const bv="RC_TABLE_INTERNAL_COL_DEFINE",bue=Symbol("HoverContextProps"),gGe=n=>{On(bue,n)},pGe=()=>kt(bue,{startRow:ye(-1),endRow:ye(-1),onHover(){}}),b5=ye(!1),mGe=()=>{Vt(()=>{b5.value=b5.value||GV("position","sticky")})},vGe=()=>b5;var yGe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function _Ge(n,e,t,i){const r=n+e-1;return n<=i&&r>=t}function bGe(n){return n&&typeof n=="object"&&!Array.isArray(n)&&!Rr(n)}const GE=Ie({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],setup(n,e){let{slots:t}=e;const i=cW(),{onHover:r,startRow:o,endRow:s}=pGe(),a=V(()=>{var g,p,m,v;return(m=(g=n.colSpan)!==null&&g!==void 0?g:(p=n.additionalProps)===null||p===void 0?void 0:p.colSpan)!==null&&m!==void 0?m:(v=n.additionalProps)===null||v===void 0?void 0:v.colspan}),l=V(()=>{var g,p,m,v;return(m=(g=n.rowSpan)!==null&&g!==void 0?g:(p=n.additionalProps)===null||p===void 0?void 0:p.rowSpan)!==null&&m!==void 0?m:(v=n.additionalProps)===null||v===void 0?void 0:v.rowspan}),u=wa(()=>{const{index:g}=n;return _Ge(g,l.value||1,o.value,s.value)}),c=vGe(),d=(g,p)=>{var m;const{record:v,index:y,additionalProps:_}=n;v&&r(y,y+p-1),(m=_==null?void 0:_.onMouseenter)===null||m===void 0||m.call(_,g)},h=g=>{var p;const{record:m,additionalProps:v}=n;m&&r(-1,-1),(p=v==null?void 0:v.onMouseleave)===null||p===void 0||p.call(v,g)},f=g=>{const p=qo(g)[0];return Rr(p)?p.type===rp?p.children:Array.isArray(p.children)?f(p.children):void 0:p};return()=>{var g,p,m,v,y,_;const{prefixCls:b,record:S,index:w,renderIndex:C,dataIndex:x,customRender:L,component:T="td",fixLeft:I,fixRight:D,firstFixLeft:M,lastFixLeft:P,firstFixRight:k,lastFixRight:O,appendNode:F=(g=t.appendNode)===null||g===void 0?void 0:g.call(t),additionalProps:R={},ellipsis:$,align:H,rowType:U,isSticky:z,column:Z={},cellType:X}=n,ce=`${b}-cell`;let q,j;const ie=(p=t.default)===null||p===void 0?void 0:p.call(t);if(_5(ie)||X==="header")j=ie;else{const Oe=vue(S,x);if(j=Oe,L){const fe=L({text:Oe,value:Oe,record:S,index:w,renderIndex:C,column:Z.__originColumn__});bGe(fe)?(j=fe.children,q=fe.props):j=fe}if(!(bv in Z)&&X==="body"&&i.value.bodyCell&&!(!((m=Z.slots)===null||m===void 0)&&m.customRender)){const fe=_D(i.value,"bodyCell",{text:Oe,value:Oe,record:S,index:w,column:Z.__originColumn__},()=>{const ne=j===void 0?Oe:j;return[typeof ne=="object"&&Yo(ne)||typeof ne!="object"?ne:null]});j=Qi(fe)}n.transformCellText&&(j=n.transformCellText({text:j,record:S,index:w,column:Z.__originColumn__}))}typeof j=="object"&&!Array.isArray(j)&&!Rr(j)&&(j=null),$&&(P||k)&&(j=N("span",{class:`${ce}-content`},[j])),Array.isArray(j)&&j.length===1&&(j=j[0]);const Q=q||{},{colSpan:le,rowSpan:ue,style:W,class:G}=Q,K=yGe(Q,["colSpan","rowSpan","style","class"]),de=(v=le!==void 0?le:a.value)!==null&&v!==void 0?v:1,Y=(y=ue!==void 0?ue:l.value)!==null&&y!==void 0?y:1;if(de===0||Y===0)return null;const oe={},te=typeof I=="number"&&c.value,J=typeof D=="number"&&c.value;te&&(oe.position="sticky",oe.left=`${I}px`),J&&(oe.position="sticky",oe.right=`${D}px`);const he={};H&&(he.textAlign=H);let pe;const Ce=$===!0?{showTitle:!0}:$;Ce&&(Ce.showTitle||U==="header")&&(typeof j=="string"||typeof j=="number"?pe=j.toString():Rr(j)&&(pe=f([j])));const Ae=A(A(A({title:pe},K),R),{colSpan:de!==1?de:null,rowSpan:Y!==1?Y:null,class:Ee(ce,{[`${ce}-fix-left`]:te&&c.value,[`${ce}-fix-left-first`]:M&&c.value,[`${ce}-fix-left-last`]:P&&c.value,[`${ce}-fix-right`]:J&&c.value,[`${ce}-fix-right-first`]:k&&c.value,[`${ce}-fix-right-last`]:O&&c.value,[`${ce}-ellipsis`]:$,[`${ce}-with-append`]:F,[`${ce}-fix-sticky`]:(te||J)&&z&&c.value,[`${ce}-row-hover`]:!q&&u.value},R.class,G),onMouseenter:Oe=>{d(Oe,Y)},onMouseleave:h,style:[R.style,he,oe,W]});return N(T,Ae,{default:()=>[F,j,(_=t.dragHandle)===null||_===void 0?void 0:_.call(t)]})}}});function dW(n,e,t,i,r){const o=t[n]||{},s=t[e]||{};let a,l;o.fixed==="left"?a=i.left[n]:s.fixed==="right"&&(l=i.right[e]);let u=!1,c=!1,d=!1,h=!1;const f=t[e+1],g=t[n-1];return r==="rtl"?a!==void 0?h=!(g&&g.fixed==="left"):l!==void 0&&(d=!(f&&f.fixed==="right")):a!==void 0?u=!(f&&f.fixed==="left"):l!==void 0&&(c=!(g&&g.fixed==="right")),{fixLeft:a,fixRight:l,lastFixLeft:u,firstFixRight:c,lastFixRight:d,firstFixLeft:h,isSticky:i.isSticky}}const qK={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},YK=50,SGe=Ie({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:YK},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup(n){let e=0,t={remove:()=>{}},i={remove:()=>{}};const r=()=>{t.remove(),i.remove()};$c(()=>{r()}),Ut(()=>{Vi(!isNaN(n.width),"Table","width must be a number when use resizable")});const{onResizeColumn:o}=fGe(),s=V(()=>typeof n.minWidth=="number"&&!isNaN(n.minWidth)?n.minWidth:YK),a=V(()=>typeof n.maxWidth=="number"&&!isNaN(n.maxWidth)?n.maxWidth:1/0),l=Ts();let u=0;const c=ye(!1);let d;const h=_=>{let b=0;_.touches?_.touches.length?b=_.touches[0].pageX:b=_.changedTouches[0].pageX:b=_.pageX;const S=e-b;let w=Math.max(u-S,s.value);w=Math.min(w,a.value),Dt.cancel(d),d=Dt(()=>{o(w,n.column.__originColumn__)})},f=_=>{h(_)},g=_=>{c.value=!1,h(_),r()},p=(_,b)=>{c.value=!0,r(),u=l.vnode.el.parentNode.getBoundingClientRect().width,!(_ instanceof MouseEvent&&_.which!==1)&&(_.stopPropagation&&_.stopPropagation(),e=_.touches?_.touches[0].pageX:_.pageX,t=oa(document.documentElement,b.move,f),i=oa(document.documentElement,b.stop,g))},m=_=>{_.stopPropagation(),_.preventDefault(),p(_,qK.mouse)},v=_=>{_.stopPropagation(),_.preventDefault(),p(_,qK.touch)},y=_=>{_.stopPropagation(),_.preventDefault()};return()=>{const{prefixCls:_}=n,b={[yo?"onTouchstartPassive":"onTouchstart"]:S=>v(S)};return N("div",se(se({class:`${_}-resize-handle ${c.value?"dragging":""}`,onMousedown:m},b),{},{onClick:y}),[N("div",{class:`${_}-resize-handle-line`},null)])}}}),wGe=Ie({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup(n){const e=Cu();return()=>{const{prefixCls:t,direction:i}=e,{cells:r,stickyOffsets:o,flattenColumns:s,rowComponent:a,cellComponent:l,customHeaderRow:u,index:c}=n;let d;u&&(d=u(r.map(f=>f.column),c));const h=UE(r.map(f=>f.column));return N(a,d,{default:()=>[r.map((f,g)=>{const{column:p}=f,m=dW(f.colStart,f.colEnd,s,o,i);let v;p&&p.customHeaderCell&&(v=f.column.customHeaderCell(p));const y=p;return N(GE,se(se(se({},f),{},{cellType:"header",ellipsis:p.ellipsis,align:p.align,component:l,prefixCls:t,key:h[g]},m),{},{additionalProps:v,rowType:"header",column:p}),{default:()=>p.title,dragHandle:()=>y.resizable?N(SGe,{prefixCls:t,width:y.width,minWidth:y.minWidth,maxWidth:y.maxWidth,column:y},null):null})})]})}}});function CGe(n){const e=[];function t(r,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[s]=e[s]||[];let a=o;return r.filter(Boolean).map(u=>{const c={key:u.key,class:Ee(u.className,u.class),column:u,colStart:a};let d=1;const h=u.children;return h&&h.length>0&&(d=t(h,a,s+1).reduce((f,g)=>f+g,0),c.hasSubColumns=!0),"colSpan"in u&&({colSpan:d}=u),"rowSpan"in u&&(c.rowSpan=u.rowSpan),c.colSpan=d,c.colEnd=c.colStart+d-1,e[s].push(c),a+=d,d})}t(n,0);const i=e.length;for(let r=0;r<i;r+=1)e[r].forEach(o=>{!("rowSpan"in o)&&!o.hasSubColumns&&(o.rowSpan=i-r)});return e}const XK=Ie({name:"Header",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup(n){const e=Cu(),t=V(()=>CGe(n.columns));return()=>{const{prefixCls:i,getComponent:r}=e,{stickyOffsets:o,flattenColumns:s,customHeaderRow:a}=n,l=r(["header","wrapper"],"thead"),u=r(["header","row"],"tr"),c=r(["header","cell"],"th");return N(l,{class:`${i}-thead`},{default:()=>[t.value.map((d,h)=>N(wGe,{key:h,flattenColumns:s,cells:d,stickyOffsets:o,rowComponent:u,cellComponent:c,customHeaderRow:a,index:h},null))]})}}}),Sue=Symbol("ExpandedRowProps"),xGe=n=>{On(Sue,n)},LGe=()=>kt(Sue,{}),wue=Ie({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup(n,e){let{slots:t,attrs:i}=e;const r=Cu(),o=LGe(),{fixHeader:s,fixColumn:a,componentWidth:l,horizonScroll:u}=o;return()=>{const{prefixCls:c,component:d,cellComponent:h,expanded:f,colSpan:g,isEmpty:p}=n;return N(d,{class:i.class,style:{display:f?null:"none"}},{default:()=>[N(GE,{component:h,prefixCls:c,colSpan:g},{default:()=>{var m;let v=(m=t.default)===null||m===void 0?void 0:m.call(t);return(p?u.value:a.value)&&(v=N("div",{style:{width:`${l.value-(s.value?r.scrollbarSize:0)}px`,position:"sticky",left:0,overflow:"hidden"},class:`${c}-expanded-row-fixed`},[v])),v}})]})}}}),TGe=Ie({name:"MeasureCell",props:["columnKey"],setup(n,e){let{emit:t}=e;const i=ke();return Vt(()=>{i.value&&t("columnResize",n.columnKey,i.value.offsetWidth)}),()=>N(Tc,{onResize:r=>{let{offsetWidth:o}=r;t("columnResize",n.columnKey,o)}},{default:()=>[N("td",{ref:i,style:{padding:0,border:0,height:0}},[N("div",{style:{height:0,overflow:"hidden"}},[Oo("")])])]})}}),Cue=Symbol("BodyContextProps"),IGe=n=>{On(Cue,n)},xue=()=>kt(Cue,{}),DGe=Ie({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup(n,e){let{attrs:t}=e;const i=Cu(),r=xue(),o=ye(!1),s=V(()=>n.expandedKeys&&n.expandedKeys.has(n.recordKey));Ut(()=>{s.value&&(o.value=!0)});const a=V(()=>r.expandableType==="row"&&(!n.rowExpandable||n.rowExpandable(n.record))),l=V(()=>r.expandableType==="nest"),u=V(()=>n.childrenColumnName&&n.record&&n.record[n.childrenColumnName]),c=V(()=>a.value||l.value),d=(m,v)=>{r.onTriggerExpand(m,v)},h=V(()=>{var m;return((m=n.customRow)===null||m===void 0?void 0:m.call(n,n.record,n.index))||{}}),f=function(m){var v,y;r.expandRowByClick&&c.value&&d(n.record,m);for(var _=arguments.length,b=new Array(_>1?_-1:0),S=1;S<_;S++)b[S-1]=arguments[S];(y=(v=h.value)===null||v===void 0?void 0:v.onClick)===null||y===void 0||y.call(v,m,...b)},g=V(()=>{const{record:m,index:v,indent:y}=n,{rowClassName:_}=r;return typeof _=="string"?_:typeof _=="function"?_(m,v,y):""}),p=V(()=>UE(r.flattenColumns));return()=>{const{class:m,style:v}=t,{record:y,index:_,rowKey:b,indent:S=0,rowComponent:w,cellComponent:C}=n,{prefixCls:x,fixedInfoList:L,transformCellText:T}=i,{flattenColumns:I,expandedRowClassName:D,indentSize:M,expandIcon:P,expandedRowRender:k,expandIconColumnIndex:O}=r,F=N(w,se(se({},h.value),{},{"data-row-key":b,class:Ee(m,`${x}-row`,`${x}-row-level-${S}`,g.value,h.value.class),style:[v,h.value.style],onClick:f}),{default:()=>[I.map(($,H)=>{const{customRender:U,dataIndex:z,className:Z}=$,X=p[H],ce=L[H];let q;$.customCell&&(q=$.customCell(y,_,$));const j=H===(O||0)&&l.value?N($t,null,[N("span",{style:{paddingLeft:`${M*S}px`},class:`${x}-row-indent indent-level-${S}`},null),P({prefixCls:x,expanded:s.value,expandable:u.value,record:y,onExpand:d})]):null;return N(GE,se(se({cellType:"body",class:Z,ellipsis:$.ellipsis,align:$.align,component:C,prefixCls:x,key:X,record:y,index:_,renderIndex:n.renderIndex,dataIndex:z,customRender:U},ce),{},{additionalProps:q,column:$,transformCellText:T,appendNode:j}),null)})]});let R;if(a.value&&(o.value||s.value)){const $=k({record:y,index:_,indent:S+1,expanded:s.value}),H=D&&D(y,_,S);R=N(wue,{expanded:s.value,class:Ee(`${x}-expanded-row`,`${x}-expanded-row-level-${S+1}`,H),prefixCls:x,component:w,cellComponent:C,colSpan:I.length,isEmpty:!1},{default:()=>[$]})}return N($t,null,[F,R])}}});function Lue(n,e,t,i,r,o){const s=[];s.push({record:n,indent:e,index:o});const a=r(n),l=i==null?void 0:i.has(a);if(n&&Array.isArray(n[t])&&l)for(let u=0;u<n[t].length;u+=1){const c=Lue(n[t][u],e+1,t,i,r,u);s.push(...c)}return s}function EGe(n,e,t,i){return V(()=>{const o=e.value,s=t.value,a=n.value;if(s!=null&&s.size){const l=[];for(let u=0;u<(a==null?void 0:a.length);u+=1){const c=a[u];l.push(...Lue(c,0,o,s,i.value,u))}return l}return a==null?void 0:a.map((l,u)=>({record:l,indent:0,index:u}))})}const Tue=Symbol("ResizeContextProps"),MGe=n=>{On(Tue,n)},AGe=()=>kt(Tue,{onColumnResize:()=>{}}),NGe=Ie({name:"Body",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],setup(n,e){let{slots:t}=e;const i=AGe(),r=Cu(),o=xue(),s=EGe(Wn(n,"data"),Wn(n,"childrenColumnName"),Wn(n,"expandedKeys"),Wn(n,"getRowKey")),a=ye(-1),l=ye(-1);let u;return gGe({startRow:a,endRow:l,onHover:(c,d)=>{clearTimeout(u),u=setTimeout(()=>{a.value=c,l.value=d},100)}}),()=>{var c;const{data:d,getRowKey:h,measureColumnWidth:f,expandedKeys:g,customRow:p,rowExpandable:m,childrenColumnName:v}=n,{onColumnResize:y}=i,{prefixCls:_,getComponent:b}=r,{flattenColumns:S}=o,w=b(["body","wrapper"],"tbody"),C=b(["body","row"],"tr"),x=b(["body","cell"],"td");let L;d.length?L=s.value.map((I,D)=>{const{record:M,indent:P,index:k}=I,O=h(M,D);return N(DGe,{key:O,rowKey:O,record:M,recordKey:O,index:D,renderIndex:k,rowComponent:C,cellComponent:x,expandedKeys:g,customRow:p,getRowKey:h,rowExpandable:m,childrenColumnName:v,indent:P},null)}):L=N(wue,{expanded:!0,class:`${_}-placeholder`,prefixCls:_,component:C,cellComponent:x,colSpan:S.length,isEmpty:!0},{default:()=>[(c=t.emptyNode)===null||c===void 0?void 0:c.call(t)]});const T=UE(S);return N(w,{class:`${_}-tbody`},{default:()=>[f&&N("tr",{"aria-hidden":"true",class:`${_}-measure-row`,style:{height:0,fontSize:0}},[T.map(I=>N(TGe,{key:I,columnKey:I,onColumnResize:y},null))]),L]})}}}),wd={};var kGe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function S5(n){return n.reduce((e,t)=>{const{fixed:i}=t,r=i===!0?"left":i,o=t.children;return o&&o.length>0?[...e,...S5(o).map(s=>A({fixed:r},s))]:[...e,A(A({},t),{fixed:r})]},[])}function PGe(n){return n.map(e=>{const{fixed:t}=e,i=kGe(e,["fixed"]);let r=t;return t==="left"?r="right":t==="right"&&(r="left"),A({fixed:r},i)})}function OGe(n,e){let{prefixCls:t,columns:i,expandable:r,expandedKeys:o,getRowKey:s,onTriggerExpand:a,expandIcon:l,rowExpandable:u,expandIconColumnIndex:c,direction:d,expandRowByClick:h,expandColumnWidth:f,expandFixed:g}=n;const p=cW(),m=V(()=>{if(r.value){let _=i.value.slice();if(!_.includes(wd)){const M=c.value||0;M>=0&&_.splice(M,0,wd)}const b=_.indexOf(wd);_=_.filter((M,P)=>M!==wd||P===b);const S=i.value[b];let w;(g.value==="left"||g.value)&&!c.value?w="left":(g.value==="right"||g.value)&&c.value===i.value.length?w="right":w=S?S.fixed:null;const C=o.value,x=u.value,L=l.value,T=t.value,I=h.value,D={[bv]:{class:`${t.value}-expand-icon-col`,columnType:"EXPAND_COLUMN"},title:_D(p.value,"expandColumnTitle",{},()=>[""]),fixed:w,class:`${t.value}-row-expand-icon-cell`,width:f.value,customRender:M=>{let{record:P,index:k}=M;const O=s.value(P,k),F=C.has(O),R=x?x(P):!0,$=L({prefixCls:T,expanded:F,expandable:R,record:P,onExpand:a});return I?N("span",{onClick:H=>H.stopPropagation()},[$]):$}};return _.map(M=>M===wd?D:M)}return i.value.filter(_=>_!==wd)}),v=V(()=>{let _=m.value;return e.value&&(_=e.value(_)),_.length||(_=[{customRender:()=>null}]),_}),y=V(()=>d.value==="rtl"?PGe(S5(v.value)):S5(v.value));return[v,y]}function Iue(n){const e=ye(n);let t;const i=ye([]);function r(o){i.value.push(o),Dt.cancel(t),t=Dt(()=>{const s=i.value;i.value=[],s.forEach(a=>{e.value=a(e.value)})})}return fn(()=>{Dt.cancel(t)}),[e,r]}function RGe(n){const e=ke(n||null),t=ke();function i(){clearTimeout(t.value)}function r(s){e.value=s,i(),t.value=setTimeout(()=>{e.value=null,t.value=void 0},100)}function o(){return e.value}return fn(()=>{i()}),[r,o]}function BGe(n,e,t){return V(()=>{const r=[],o=[];let s=0,a=0;const l=n.value,u=e.value,c=t.value;for(let d=0;d<u;d+=1)if(c==="rtl"){o[d]=a,a+=l[d]||0;const h=u-d-1;r[h]=s,s+=l[h]||0}else{r[d]=s,s+=l[d]||0;const h=u-d-1;o[h]=a,a+=l[h]||0}return{left:r,right:o}})}var FGe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Due(n){let{colWidths:e,columns:t,columCount:i}=n;const r=[],o=i||t.length;let s=!1;for(let a=o-1;a>=0;a-=1){const l=e[a],u=t&&t[a],c=u&&u[bv];if(l||c||s){const d=c||{},h=FGe(d,["columnType"]);r.unshift(N("col",se({key:a,style:{width:typeof l=="number"?`${l}px`:l}},h),null)),s=!0}}return N("colgroup",null,[r])}function w5(n,e){let{slots:t}=e;var i;return N("div",null,[(i=t.default)===null||i===void 0?void 0:i.call(t)])}w5.displayName="Panel";let $Ge=0;const VGe=Ie({name:"Summary",props:["fixed"],setup(n,e){let{slots:t}=e;const i=Cu(),r=`table-summary-uni-key-${++$Ge}`,o=V(()=>n.fixed===""||n.fixed);return Ut(()=>{i.summaryCollect(r,o.value)}),fn(()=>{i.summaryCollect(r,!1)}),()=>{var s;return(s=t.default)===null||s===void 0?void 0:s.call(t)}}}),WGe=VGe,zGe=Ie({compatConfig:{MODE:3},name:"ATableSummaryRow",setup(n,e){let{slots:t}=e;return()=>{var i;return N("tr",null,[(i=t.default)===null||i===void 0?void 0:i.call(t)])}}}),Eue=Symbol("SummaryContextProps"),HGe=n=>{On(Eue,n)},UGe=()=>kt(Eue,{}),GGe=Ie({name:"ATableSummaryCell",props:["index","colSpan","rowSpan","align"],setup(n,e){let{attrs:t,slots:i}=e;const r=Cu(),o=UGe();return()=>{const{index:s,colSpan:a=1,rowSpan:l,align:u}=n,{prefixCls:c,direction:d}=r,{scrollColumnIndex:h,stickyOffsets:f,flattenColumns:g}=o,m=s+a-1+1===h?a+1:a,v=dW(s,s+m-1,g,f,d);return N(GE,se({class:t.class,index:s,component:"td",prefixCls:c,record:null,dataIndex:null,align:u,colSpan:m,rowSpan:l,customRender:()=>{var y;return(y=i.default)===null||y===void 0?void 0:y.call(i)}},v),null)}}}),aC=Ie({name:"Footer",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup(n,e){let{slots:t}=e;const i=Cu();return HGe(pi({stickyOffsets:Wn(n,"stickyOffsets"),flattenColumns:Wn(n,"flattenColumns"),scrollColumnIndex:V(()=>{const r=n.flattenColumns.length-1,o=n.flattenColumns[r];return o!=null&&o.scrollbar?r:null})})),()=>{var r;const{prefixCls:o}=i;return N("tfoot",{class:`${o}-summary`},[(r=t.default)===null||r===void 0?void 0:r.call(t)])}}}),KGe=WGe;function jGe(n){let{prefixCls:e,record:t,onExpand:i,expanded:r,expandable:o}=n;const s=`${e}-row-expand-icon`;if(!o)return N("span",{class:[s,`${e}-row-spaced`]},null);const a=l=>{i(t,l),l.stopPropagation()};return N("span",{class:{[s]:!0,[`${e}-row-expanded`]:r,[`${e}-row-collapsed`]:!r},onClick:a},null)}function qGe(n,e,t){const i=[];function r(o){(o||[]).forEach((s,a)=>{i.push(e(s,a)),r(s[t])})}return r(n),i}const YGe=Ie({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup(n,e){let{emit:t,expose:i}=e;const r=Cu(),o=ye(0),s=ye(0),a=ye(0);Ut(()=>{o.value=n.scrollBodySizeInfo.scrollWidth||0,s.value=n.scrollBodySizeInfo.clientWidth||0,a.value=o.value&&s.value*(s.value/o.value)},{flush:"post"});const l=ye(),[u,c]=Iue({scrollLeft:0,isHiddenScrollBar:!0}),d=ke({delta:0,x:0}),h=ye(!1),f=()=>{h.value=!1},g=C=>{d.value={delta:C.pageX-u.value.scrollLeft,x:0},h.value=!0,C.preventDefault()},p=C=>{const{buttons:x}=C||(window==null?void 0:window.event);if(!h.value||x===0){h.value&&(h.value=!1);return}let L=d.value.x+C.pageX-d.value.x-d.value.delta;L<=0&&(L=0),L+a.value>=s.value&&(L=s.value-a.value),t("scroll",{scrollLeft:L/s.value*(o.value+2)}),d.value.x=C.pageX},m=()=>{if(!n.scrollBodyRef.value)return;const C=KK(n.scrollBodyRef.value).top,x=C+n.scrollBodyRef.value.offsetHeight,L=n.container===window?document.documentElement.scrollTop+window.innerHeight:KK(n.container).top+n.container.clientHeight;x-tI()<=L||C>=L-n.offsetScroll?c(T=>A(A({},T),{isHiddenScrollBar:!0})):c(T=>A(A({},T),{isHiddenScrollBar:!1}))};i({setScrollLeft:C=>{c(x=>A(A({},x),{scrollLeft:C/o.value*s.value||0}))}});let y=null,_=null,b=null,S=null;Vt(()=>{y=oa(document.body,"mouseup",f,!1),_=oa(document.body,"mousemove",p,!1),b=oa(window,"resize",m,!1)}),ete(()=>{kn(()=>{m()})}),Vt(()=>{setTimeout(()=>{Ve([a,h],()=>{m()},{immediate:!0,flush:"post"})})}),Ve(()=>n.container,()=>{S==null||S.remove(),S=oa(n.container,"scroll",m,!1)},{immediate:!0,flush:"post"}),fn(()=>{y==null||y.remove(),_==null||_.remove(),S==null||S.remove(),b==null||b.remove()}),Ve(()=>A({},u.value),(C,x)=>{C.isHiddenScrollBar!==(x==null?void 0:x.isHiddenScrollBar)&&!C.isHiddenScrollBar&&c(L=>{const T=n.scrollBodyRef.value;return T?A(A({},L),{scrollLeft:T.scrollLeft/T.scrollWidth*T.clientWidth}):L})},{immediate:!0});const w=tI();return()=>{if(o.value<=s.value||!a.value||u.value.isHiddenScrollBar)return null;const{prefixCls:C}=r;return N("div",{style:{height:`${w}px`,width:`${s.value}px`,bottom:`${n.offsetScroll}px`},class:`${C}-sticky-scroll`},[N("div",{onMousedown:g,ref:l,class:Ee(`${C}-sticky-scroll-bar`,{[`${C}-sticky-scroll-bar-active`]:h.value}),style:{width:`${a.value}px`,transform:`translate3d(${u.value.scrollLeft}px, 0, 0)`}},null)])}}}),ZK=zc()?window:null;function XGe(n,e){return V(()=>{const{offsetHeader:t=0,offsetSummary:i=0,offsetScroll:r=0,getContainer:o=()=>ZK}=typeof n.value=="object"?n.value:{},s=o()||ZK,a=!!n.value;return{isSticky:a,stickyClassName:a?`${e.value}-sticky-holder`:"",offsetHeader:t,offsetSummary:i,offsetScroll:r,container:s}})}function ZGe(n,e){return V(()=>{const t=[],i=n.value,r=e.value;for(let o=0;o<r;o+=1){const s=i[o];if(s!==void 0)t[o]=s;else return null}return t})}const QK=Ie({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup(n,e){let{attrs:t,slots:i,emit:r}=e;const o=Cu(),s=V(()=>o.isSticky&&!n.fixHeader?0:o.scrollbarSize),a=ke(),l=p=>{const{currentTarget:m,deltaX:v}=p;v&&(r("scroll",{currentTarget:m,scrollLeft:m.scrollLeft+v}),p.preventDefault())},u=ke();Vt(()=>{kn(()=>{u.value=oa(a.value,"wheel",l)})}),fn(()=>{var p;(p=u.value)===null||p===void 0||p.remove()});const c=V(()=>n.flattenColumns.every(p=>p.width&&p.width!==0&&p.width!=="0px")),d=ke([]),h=ke([]);Ut(()=>{const p=n.flattenColumns[n.flattenColumns.length-1],m={fixed:p?p.fixed:null,scrollbar:!0,customHeaderCell:()=>({class:`${o.prefixCls}-cell-scrollbar`})};d.value=s.value?[...n.columns,m]:n.columns,h.value=s.value?[...n.flattenColumns,m]:n.flattenColumns});const f=V(()=>{const{stickyOffsets:p,direction:m}=n,{right:v,left:y}=p;return A(A({},p),{left:m==="rtl"?[...y.map(_=>_+s.value),0]:y,right:m==="rtl"?v:[...v.map(_=>_+s.value),0],isSticky:o.isSticky})}),g=ZGe(Wn(n,"colWidths"),Wn(n,"columCount"));return()=>{var p;const{noData:m,columCount:v,stickyTopOffset:y,stickyBottomOffset:_,stickyClassName:b,maxContentScroll:S}=n,{isSticky:w}=o;return N("div",{style:A({overflow:"hidden"},w?{top:`${y}px`,bottom:`${_}px`}:{}),ref:a,class:Ee(t.class,{[b]:!!b})},[N("table",{style:{tableLayout:"fixed",visibility:m||g.value?null:"hidden"}},[(!m||!S||c.value)&&N(Due,{colWidths:g.value?[...g.value,s.value]:[],columCount:v+1,columns:h.value},null),(p=i.default)===null||p===void 0?void 0:p.call(i,A(A({},n),{stickyOffsets:f.value,columns:d.value,flattenColumns:h.value}))])])}}});function JK(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return pi(MWe(t.map(r=>[r,Wn(n,r)])))}const QGe=[],JGe={},C5="rc-table-internal-hook",eKe=Ie({name:"Table",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup(n,e){let{attrs:t,slots:i,emit:r}=e;const o=V(()=>n.data||QGe),s=V(()=>!!o.value.length),a=V(()=>cGe(n.components,{})),l=(ne,Se)=>vue(a.value,ne)||Se,u=V(()=>{const ne=n.rowKey;return typeof ne=="function"?ne:Se=>Se&&Se[ne]}),c=V(()=>n.expandIcon||jGe),d=V(()=>n.childrenColumnName||"children"),h=V(()=>n.expandedRowRender?"row":n.canExpandable||o.value.some(ne=>ne&&typeof ne=="object"&&ne[d.value])?"nest":!1),f=ye([]);Ut(()=>{n.defaultExpandedRowKeys&&(f.value=n.defaultExpandedRowKeys),n.defaultExpandAllRows&&(f.value=qGe(o.value,u.value,d.value))})();const p=V(()=>new Set(n.expandedRowKeys||f.value||[])),m=ne=>{const Se=u.value(ne,o.value.indexOf(ne));let Be;const He=p.value.has(Se);He?(p.value.delete(Se),Be=[...p.value]):Be=[...p.value,Se],f.value=Be,r("expand",!He,ne),r("update:expandedRowKeys",Be),r("expandedRowsChange",Be)},v=ke(0),[y,_]=OGe(A(A({},S_(n)),{expandable:V(()=>!!n.expandedRowRender),expandedKeys:p,getRowKey:u,onTriggerExpand:m,expandIcon:c}),V(()=>n.internalHooks===C5?n.transformColumns:null)),b=V(()=>({columns:y.value,flattenColumns:_.value})),S=ke(),w=ke(),C=ke(),x=ke({scrollWidth:0,clientWidth:0}),L=ke(),[T,I]=An(!1),[D,M]=An(!1),[P,k]=Iue(new Map),O=V(()=>UE(_.value)),F=V(()=>O.value.map(ne=>P.value.get(ne))),R=V(()=>_.value.length),$=BGe(F,R,Wn(n,"direction")),H=V(()=>n.scroll&&_5(n.scroll.y)),U=V(()=>n.scroll&&_5(n.scroll.x)||!!n.expandFixed),z=V(()=>U.value&&_.value.some(ne=>{let{fixed:Se}=ne;return Se})),Z=ke(),X=XGe(Wn(n,"sticky"),Wn(n,"prefixCls")),ce=pi({}),q=V(()=>{const ne=Object.values(ce)[0];return(H.value||X.value.isSticky)&&ne}),j=(ne,Se)=>{Se?ce[ne]=Se:delete ce[ne]},ie=ke({}),Q=ke({}),le=ke({});Ut(()=>{H.value&&(Q.value={overflowY:"scroll",maxHeight:Rf(n.scroll.y)}),U.value&&(ie.value={overflowX:"auto"},H.value||(Q.value={overflowY:"hidden"}),le.value={width:n.scroll.x===!0?"auto":Rf(n.scroll.x),minWidth:"100%"})});const ue=(ne,Se)=>{X3(S.value)&&k(Be=>{if(Be.get(ne)!==Se){const He=new Map(Be);return He.set(ne,Se),He}return Be})},[W,G]=RGe(null);function K(ne,Se){if(!Se)return;if(typeof Se=="function"){Se(ne);return}const Be=Se.$el||Se;Be.scrollLeft!==ne&&(Be.scrollLeft=ne)}const de=ne=>{let{currentTarget:Se,scrollLeft:Be}=ne;var He;const lt=n.direction==="rtl",xe=typeof Be=="number"?Be:Se.scrollLeft,Me=Se||JGe;if((!G()||G()===Me)&&(W(Me),K(xe,w.value),K(xe,C.value),K(xe,L.value),K(xe,(He=Z.value)===null||He===void 0?void 0:He.setScrollLeft)),Se){const{scrollWidth:Ne,clientWidth:Ge}=Se;lt?(I(-xe<Ne-Ge),M(-xe>0)):(I(xe>0),M(xe<Ne-Ge))}},Y=()=>{U.value&&C.value?de({currentTarget:C.value}):(I(!1),M(!1))};let oe;const te=ne=>{ne!==v.value&&(Y(),v.value=S.value?S.value.offsetWidth:ne)},J=ne=>{let{width:Se}=ne;if(clearTimeout(oe),v.value===0){te(Se);return}oe=setTimeout(()=>{te(Se)},100)};Ve([U,()=>n.data,()=>n.columns],()=>{U.value&&Y()},{flush:"post"});const[he,pe]=An(0);mGe(),Vt(()=>{kn(()=>{var ne,Se;Y(),pe(o$e(C.value).width),x.value={scrollWidth:((ne=C.value)===null||ne===void 0?void 0:ne.scrollWidth)||0,clientWidth:((Se=C.value)===null||Se===void 0?void 0:Se.clientWidth)||0}})}),vu(()=>{kn(()=>{var ne,Se;const Be=((ne=C.value)===null||ne===void 0?void 0:ne.scrollWidth)||0,He=((Se=C.value)===null||Se===void 0?void 0:Se.clientWidth)||0;(x.value.scrollWidth!==Be||x.value.clientWidth!==He)&&(x.value={scrollWidth:Be,clientWidth:He})})}),Ut(()=>{n.internalHooks===C5&&n.internalRefs&&n.onUpdateInternalRefs({body:C.value?C.value.$el||C.value:null})},{flush:"post"});const Ce=V(()=>n.tableLayout?n.tableLayout:z.value?n.scroll.x==="max-content"?"auto":"fixed":H.value||X.value.isSticky||_.value.some(ne=>{let{ellipsis:Se}=ne;return Se})?"fixed":"auto"),Ae=()=>{var ne;return s.value?null:((ne=i.emptyText)===null||ne===void 0?void 0:ne.call(i))||"No Data"};lGe(pi(A(A({},S_(JK(n,"prefixCls","direction","transformCellText"))),{getComponent:l,scrollbarSize:he,fixedInfoList:V(()=>_.value.map((ne,Se)=>dW(Se,Se,_.value,$.value,n.direction))),isSticky:V(()=>X.value.isSticky),summaryCollect:j}))),IGe(pi(A(A({},S_(JK(n,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{columns:y,flattenColumns:_,tableLayout:Ce,expandIcon:c,expandableType:h,onTriggerExpand:m}))),MGe({onColumnResize:ue}),xGe({componentWidth:v,fixHeader:H,fixColumn:z,horizonScroll:U});const Oe=()=>N(NGe,{data:o.value,measureColumnWidth:H.value||U.value||X.value.isSticky,expandedKeys:p.value,rowExpandable:n.rowExpandable,getRowKey:u.value,customRow:n.customRow,childrenColumnName:d.value},{emptyNode:Ae}),fe=()=>N(Due,{colWidths:_.value.map(ne=>{let{width:Se}=ne;return Se}),columns:_.value},null);return()=>{var ne;const{prefixCls:Se,scroll:Be,tableLayout:He,direction:lt,title:xe=i.title,footer:Me=i.footer,id:Ne,showHeader:Ge,customHeaderRow:Ke}=n,{isSticky:Je,offsetHeader:Ye,offsetSummary:jt,offsetScroll:en,stickyClassName:zt,container:on}=X.value,un=l(["table"],"table"),or=l(["body"]),Ui=(ne=i.summary)===null||ne===void 0?void 0:ne.call(i,{pageData:o.value});let sr=()=>null;const xi={colWidths:F.value,columCount:_.value.length,stickyOffsets:$.value,customHeaderRow:Ke,fixHeader:H.value,scroll:Be};if(H.value||Je){let Tu=()=>null;typeof or=="function"?(Tu=()=>or(o.value,{scrollbarSize:he.value,ref:C,onScroll:de}),xi.colWidths=_.value.map((pl,Zy)=>{let{width:kp}=pl;const Yc=Zy===y.value.length-1?kp-he.value:kp;return typeof Yc=="number"&&!Number.isNaN(Yc)?Yc:0})):Tu=()=>N("div",{style:A(A({},ie.value),Q.value),onScroll:de,ref:C,class:Ee(`${Se}-body`)},[N(un,{style:A(A({},le.value),{tableLayout:Ce.value})},{default:()=>[fe(),Oe(),!q.value&&Ui&&N(aC,{stickyOffsets:$.value,flattenColumns:_.value},{default:()=>[Ui]})]})]);const Np=A(A(A({noData:!o.value.length,maxContentScroll:U.value&&Be.x==="max-content"},xi),b.value),{direction:lt,stickyClassName:zt,onScroll:de});sr=()=>N($t,null,[Ge!==!1&&N(QK,se(se({},Np),{},{stickyTopOffset:Ye,class:`${Se}-header`,ref:w}),{default:pl=>N($t,null,[N(XK,pl,null),q.value==="top"&&N(aC,pl,{default:()=>[Ui]})])}),Tu(),q.value&&q.value!=="top"&&N(QK,se(se({},Np),{},{stickyBottomOffset:jt,class:`${Se}-summary`,ref:L}),{default:pl=>N(aC,pl,{default:()=>[Ui]})}),Je&&C.value&&N(YGe,{ref:Z,offsetScroll:en,scrollBodyRef:C,onScroll:de,container:on,scrollBodySizeInfo:x.value},null)])}else sr=()=>N("div",{style:A(A({},ie.value),Q.value),class:Ee(`${Se}-content`),onScroll:de,ref:C},[N(un,{style:A(A({},le.value),{tableLayout:Ce.value})},{default:()=>[fe(),Ge!==!1&&N(XK,se(se({},xi),b.value),null),Oe(),Ui&&N(aC,{stickyOffsets:$.value,flattenColumns:_.value},{default:()=>[Ui]})]})]);const so=Ay(t,{aria:!0,data:!0}),gl=()=>N("div",se(se({},so),{},{class:Ee(Se,{[`${Se}-rtl`]:lt==="rtl",[`${Se}-ping-left`]:T.value,[`${Se}-ping-right`]:D.value,[`${Se}-layout-fixed`]:He==="fixed",[`${Se}-fixed-header`]:H.value,[`${Se}-fixed-column`]:z.value,[`${Se}-scroll-horizontal`]:U.value,[`${Se}-has-fix-left`]:_.value[0]&&_.value[0].fixed,[`${Se}-has-fix-right`]:_.value[R.value-1]&&_.value[R.value-1].fixed==="right",[t.class]:t.class}),style:t.style,id:Ne,ref:S}),[xe&&N(w5,{class:`${Se}-title`},{default:()=>[xe(o.value)]}),N("div",{class:`${Se}-container`},[sr()]),Me&&N(w5,{class:`${Se}-footer`},{default:()=>[Me(o.value)]})]);return U.value?N(Tc,{onResize:J},{default:gl}):gl()}}});function tKe(){const n=A({},arguments.length<=0?void 0:arguments[0]);for(let e=1;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];t&&Object.keys(t).forEach(i=>{const r=t[i];r!==void 0&&(n[i]=r)})}return n}const x5=10;function nKe(n,e){const t={current:n.current,pageSize:n.pageSize};return Object.keys(e&&typeof e=="object"?e:{}).forEach(r=>{const o=n[r];typeof o!="function"&&(t[r]=o)}),t}function iKe(n,e,t){const i=V(()=>e.value&&typeof e.value=="object"?e.value:{}),r=V(()=>i.value.total||0),[o,s]=An(()=>({current:"defaultCurrent"in i.value?i.value.defaultCurrent:1,pageSize:"defaultPageSize"in i.value?i.value.defaultPageSize:x5})),a=V(()=>{const c=tKe(o.value,i.value,{total:r.value>0?r.value:n.value}),d=Math.ceil((r.value||n.value)/c.pageSize);return c.current>d&&(c.current=d||1),c}),l=(c,d)=>{e.value!==!1&&s({current:c??1,pageSize:d||a.value.pageSize})},u=(c,d)=>{var h,f;e.value&&((f=(h=i.value).onChange)===null||f===void 0||f.call(h,c,d)),l(c,d),t(c,d||a.value.pageSize)};return[V(()=>e.value===!1?{}:A(A({},a.value),{onChange:u})),l]}function rKe(n,e,t){const i=ye({});Ve([n,e,t],()=>{const o=new Map,s=t.value,a=e.value;function l(u){u.forEach((c,d)=>{const h=s(c,d);o.set(h,c),c&&typeof c=="object"&&a in c&&l(c[a]||[])})}l(n.value),i.value={kvMap:o}},{deep:!0,immediate:!0});function r(o){return i.value.kvMap.get(o)}return[r]}const Gu={},L5="SELECT_ALL",T5="SELECT_INVERT",I5="SELECT_NONE",oKe=[];function Mue(n,e){let t=[];return(e||[]).forEach(i=>{t.push(i),i&&typeof i=="object"&&n in i&&(t=[...t,...Mue(n,i[n])])}),t}function sKe(n,e){const t=V(()=>{const L=n.value||{},{checkStrictly:T=!0}=L;return A(A({},L),{checkStrictly:T})}),[i,r]=ny(t.value.selectedRowKeys||t.value.defaultSelectedRowKeys||oKe,{value:V(()=>t.value.selectedRowKeys)}),o=ye(new Map),s=L=>{if(t.value.preserveSelectedRowKeys){const T=new Map;L.forEach(I=>{let D=e.getRecordByKey(I);!D&&o.value.has(I)&&(D=o.value.get(I)),T.set(I,D)}),o.value=T}};Ut(()=>{s(i.value)});const a=V(()=>t.value.checkStrictly?null:HV(e.data.value,{externalGetKey:e.getRowKey.value,childrenPropName:e.childrenColumnName.value}).keyEntities),l=V(()=>Mue(e.childrenColumnName.value,e.pageData.value)),u=V(()=>{const L=new Map,T=e.getRowKey.value,I=t.value.getCheckboxProps;return l.value.forEach((D,M)=>{const P=T(D,M),k=(I?I(D):null)||{};L.set(P,k)}),L}),{maxLevel:c,levelEntities:d}=eue(a),h=L=>{var T;return!!(!((T=u.value.get(e.getRowKey.value(L)))===null||T===void 0)&&T.disabled)},f=V(()=>{if(t.value.checkStrictly)return[i.value||[],[]];const{checkedKeys:L,halfCheckedKeys:T}=_v(i.value,!0,a.value,c.value,d.value,h);return[L||[],T]}),g=V(()=>f.value[0]),p=V(()=>f.value[1]),m=V(()=>{const L=t.value.type==="radio"?g.value.slice(0,1):g.value;return new Set(L)}),v=V(()=>t.value.type==="radio"?new Set:new Set(p.value)),[y,_]=An(null),b=L=>{let T,I;s(L);const{preserveSelectedRowKeys:D,onChange:M}=t.value,{getRecordByKey:P}=e;D?(T=L,I=L.map(k=>o.value.get(k))):(T=[],I=[],L.forEach(k=>{const O=P(k);O!==void 0&&(T.push(k),I.push(O))})),r(T),M==null||M(T,I)},S=(L,T,I,D)=>{const{onSelect:M}=t.value,{getRecordByKey:P}=e||{};if(M){const k=I.map(O=>P(O));M(P(L),T,k,D)}b(I)},w=V(()=>{const{onSelectInvert:L,onSelectNone:T,selections:I,hideSelectAll:D}=t.value,{data:M,pageData:P,getRowKey:k,locale:O}=e;return!I||D?null:(I===!0?[L5,T5,I5]:I).map(R=>R===L5?{key:"all",text:O.value.selectionAll,onSelect(){b(M.value.map(($,H)=>k.value($,H)).filter($=>{const H=u.value.get($);return!(H!=null&&H.disabled)||m.value.has($)}))}}:R===T5?{key:"invert",text:O.value.selectInvert,onSelect(){const $=new Set(m.value);P.value.forEach((U,z)=>{const Z=k.value(U,z),X=u.value.get(Z);X!=null&&X.disabled||($.has(Z)?$.delete(Z):$.add(Z))});const H=Array.from($);L&&(Vi(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),L(H)),b(H)}}:R===I5?{key:"none",text:O.value.selectNone,onSelect(){T==null||T(),b(Array.from(m.value).filter($=>{const H=u.value.get($);return H==null?void 0:H.disabled}))}}:R)}),C=V(()=>l.value.length);return[L=>{var T;const{onSelectAll:I,onSelectMultiple:D,columnWidth:M,type:P,fixed:k,renderCell:O,hideSelectAll:F,checkStrictly:R}=t.value,{prefixCls:$,getRecordByKey:H,getRowKey:U,expandType:z,getPopupContainer:Z}=e;if(!n.value)return L.filter(te=>te!==Gu);let X=L.slice();const ce=new Set(m.value),q=l.value.map(U.value).filter(te=>!u.value.get(te).disabled),j=q.every(te=>ce.has(te)),ie=q.some(te=>ce.has(te)),Q=()=>{const te=[];j?q.forEach(he=>{ce.delete(he),te.push(he)}):q.forEach(he=>{ce.has(he)||(ce.add(he),te.push(he))});const J=Array.from(ce);I==null||I(!j,J.map(he=>H(he)),te.map(he=>H(he))),b(J)};let le;if(P!=="radio"){let te;if(w.value){const Ae=N(ua,{getPopupContainer:Z.value},{default:()=>[w.value.map((Oe,fe)=>{const{key:ne,text:Se,onSelect:Be}=Oe;return N(ua.Item,{key:ne||fe,onClick:()=>{Be==null||Be(q)}},{default:()=>[Se]})})]});te=N("div",{class:`${$.value}-selection-extra`},[N(vg,{overlay:Ae,getPopupContainer:Z.value},{default:()=>[N("span",null,[N(Gae,null,null)])]})])}const J=l.value.map((Ae,Oe)=>{const fe=U.value(Ae,Oe),ne=u.value.get(fe)||{};return A({checked:ce.has(fe)},ne)}).filter(Ae=>{let{disabled:Oe}=Ae;return Oe}),he=!!J.length&&J.length===C.value,pe=he&&J.every(Ae=>{let{checked:Oe}=Ae;return Oe}),Ce=he&&J.some(Ae=>{let{checked:Oe}=Ae;return Oe});le=!F&&N("div",{class:`${$.value}-selection`},[N(mc,{checked:he?pe:!!C.value&&j,indeterminate:he?!pe&&Ce:!j&&ie,onChange:Q,disabled:C.value===0||he,"aria-label":te?"Custom selection":"Select all",skipGroup:!0},null),te])}let ue;P==="radio"?ue=te=>{let{record:J,index:he}=te;const pe=U.value(J,he),Ce=ce.has(pe);return{node:N(Ro,se(se({},u.value.get(pe)),{},{checked:Ce,onClick:Ae=>Ae.stopPropagation(),onChange:Ae=>{ce.has(pe)||S(pe,!0,[pe],Ae.nativeEvent)}}),null),checked:Ce}}:ue=te=>{let{record:J,index:he}=te;var pe;const Ce=U.value(J,he),Ae=ce.has(Ce),Oe=v.value.has(Ce),fe=u.value.get(Ce);let ne;return z.value==="nest"?(ne=Oe,Vi(typeof(fe==null?void 0:fe.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):ne=(pe=fe==null?void 0:fe.indeterminate)!==null&&pe!==void 0?pe:Oe,{node:N(mc,se(se({},fe),{},{indeterminate:ne,checked:Ae,skipGroup:!0,onClick:Se=>Se.stopPropagation(),onChange:Se=>{let{nativeEvent:Be}=Se;const{shiftKey:He}=Be;let lt=-1,xe=-1;if(He&&R){const Me=new Set([y.value,Ce]);q.some((Ne,Ge)=>{if(Me.has(Ne))if(lt===-1)lt=Ge;else return xe=Ge,!0;return!1})}if(xe!==-1&&lt!==xe&&R){const Me=q.slice(lt,xe+1),Ne=[];Ae?Me.forEach(Ke=>{ce.has(Ke)&&(Ne.push(Ke),ce.delete(Ke))}):Me.forEach(Ke=>{ce.has(Ke)||(Ne.push(Ke),ce.add(Ke))});const Ge=Array.from(ce);D==null||D(!Ae,Ge.map(Ke=>H(Ke)),Ne.map(Ke=>H(Ke))),b(Ge)}else{const Me=g.value;if(R){const Ne=Ae?Dl(Me,Ce):$u(Me,Ce);S(Ce,!Ae,Ne,Be)}else{const Ne=_v([...Me,Ce],!0,a.value,c.value,d.value,h),{checkedKeys:Ge,halfCheckedKeys:Ke}=Ne;let Je=Ge;if(Ae){const Ye=new Set(Ge);Ye.delete(Ce),Je=_v(Array.from(Ye),{checked:!1,halfCheckedKeys:Ke},a.value,c.value,d.value,h).checkedKeys}S(Ce,!Ae,Je,Be)}}_(Ce)}}),null),checked:Ae}};const W=te=>{let{record:J,index:he}=te;const{node:pe,checked:Ce}=ue({record:J,index:he});return O?O(Ce,J,he,pe):pe};if(!X.includes(Gu))if(X.findIndex(te=>{var J;return((J=te[bv])===null||J===void 0?void 0:J.columnType)==="EXPAND_COLUMN"})===0){const[te,...J]=X;X=[te,Gu,...J]}else X=[Gu,...X];const G=X.indexOf(Gu);X=X.filter((te,J)=>te!==Gu||J===G);const K=X[G-1],de=X[G+1];let Y=k;Y===void 0&&((de==null?void 0:de.fixed)!==void 0?Y=de.fixed:(K==null?void 0:K.fixed)!==void 0&&(Y=K.fixed)),Y&&K&&((T=K[bv])===null||T===void 0?void 0:T.columnType)==="EXPAND_COLUMN"&&K.fixed===void 0&&(K.fixed=Y);const oe={fixed:Y,width:M,className:`${$.value}-selection-column`,title:t.value.columnTitle||le,customRender:W,[bv]:{class:`${$.value}-selection-col`}};return X.map(te=>te===Gu?oe:te)},m]}var aKe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function Yg(n,e){return"key"in n&&n.key!==void 0&&n.key!==null?n.key:n.dataIndex?Array.isArray(n.dataIndex)?n.dataIndex.join("."):n.dataIndex:e}function Cw(n,e){return e?`${e}-${n}`:`${n}`}function hW(n,e){return typeof n=="function"?n(e):n}function Aue(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=Qi(n),t=[];return e.forEach(i=>{var r,o,s,a;if(!i)return;const l=i.key,u=((r=i.props)===null||r===void 0?void 0:r.style)||{},c=((o=i.props)===null||o===void 0?void 0:o.class)||"",d=i.props||{};for(const[m,v]of Object.entries(d))d[Dy(m)]=v;const h=i.children||{},{default:f}=h,g=aKe(h,["default"]),p=A(A(A({},g),d),{style:u,class:c});if(l&&(p.key=l),!((s=i.type)===null||s===void 0)&&s.__ANT_TABLE_COLUMN_GROUP)p.children=Aue(typeof f=="function"?f():f);else{const m=(a=i.children)===null||a===void 0?void 0:a.default;p.customRender=p.customRender||m}t.push(p)}),t}const nL="ascend",nN="descend";function fI(n){return typeof n.sorter=="object"&&typeof n.sorter.multiple=="number"?n.sorter.multiple:!1}function ej(n){return typeof n=="function"?n:n&&typeof n=="object"&&n.compare?n.compare:!1}function lKe(n,e){return e?n[n.indexOf(e)+1]:n[0]}function D5(n,e,t){let i=[];function r(o,s){i.push({column:o,key:Yg(o,s),multiplePriority:fI(o),sortOrder:o.sortOrder})}return(n||[]).forEach((o,s)=>{const a=Cw(s,t);o.children?("sortOrder"in o&&r(o,a),i=[...i,...D5(o.children,e,a)]):o.sorter&&("sortOrder"in o?r(o,a):e&&o.defaultSortOrder&&i.push({column:o,key:Yg(o,a),multiplePriority:fI(o),sortOrder:o.defaultSortOrder}))}),i}function Nue(n,e,t,i,r,o,s,a){return(e||[]).map((l,u)=>{const c=Cw(u,a);let d=l;if(d.sorter){const h=d.sortDirections||r,f=d.showSorterTooltip===void 0?s:d.showSorterTooltip,g=Yg(d,c),p=t.find(L=>{let{key:T}=L;return T===g}),m=p?p.sortOrder:null,v=lKe(h,m),y=h.includes(nL)&&N(r9e,{class:Ee(`${n}-column-sorter-up`,{active:m===nL}),role:"presentation"},null),_=h.includes(nN)&&N(e9e,{role:"presentation",class:Ee(`${n}-column-sorter-down`,{active:m===nN})},null),{cancelSort:b,triggerAsc:S,triggerDesc:w}=o||{};let C=b;v===nN?C=w:v===nL&&(C=S);const x=typeof f=="object"?f:{title:C};d=A(A({},d),{className:Ee(d.className,{[`${n}-column-sort`]:m}),title:L=>{const T=N("div",{class:`${n}-column-sorters`},[N("span",{class:`${n}-column-title`},[hW(l.title,L)]),N("span",{class:Ee(`${n}-column-sorter`,{[`${n}-column-sorter-full`]:!!(y&&_)})},[N("span",{class:`${n}-column-sorter-inner`},[y,_])])]);return f?N(nb,x,{default:()=>[T]}):T},customHeaderCell:L=>{const T=l.customHeaderCell&&l.customHeaderCell(L)||{},I=T.onClick,D=T.onKeydown;return T.onClick=M=>{i({column:l,key:g,sortOrder:v,multiplePriority:fI(l)}),I&&I(M)},T.onKeydown=M=>{M.keyCode===ot.ENTER&&(i({column:l,key:g,sortOrder:v,multiplePriority:fI(l)}),D==null||D(M))},m&&(T["aria-sort"]=m==="ascend"?"ascending":"descending"),T.class=Ee(T.class,`${n}-column-has-sorters`),T.tabindex=0,T}})}return"children"in d&&(d=A(A({},d),{children:Nue(n,d.children,t,i,r,o,s,c)})),d})}function tj(n){const{column:e,sortOrder:t}=n;return{column:e,order:t,field:e.dataIndex,columnKey:e.key}}function nj(n){const e=n.filter(t=>{let{sortOrder:i}=t;return i}).map(tj);return e.length===0&&n.length?A(A({},tj(n[n.length-1])),{column:void 0}):e.length<=1?e[0]||{}:e}function E5(n,e,t){const i=e.slice().sort((s,a)=>a.multiplePriority-s.multiplePriority),r=n.slice(),o=i.filter(s=>{let{column:{sorter:a},sortOrder:l}=s;return ej(a)&&l});return o.length?r.sort((s,a)=>{for(let l=0;l<o.length;l+=1){const u=o[l],{column:{sorter:c},sortOrder:d}=u,h=ej(c);if(h&&d){const f=h(s,a,d);if(f!==0)return d===nL?f:-f}}return 0}).map(s=>{const a=s[t];return a?A(A({},s),{[t]:E5(a,e,t)}):s}):r}function uKe(n){let{prefixCls:e,mergedColumns:t,onSorterChange:i,sortDirections:r,tableLocale:o,showSorterTooltip:s}=n;const[a,l]=An(D5(t.value,!0)),u=V(()=>{let g=!0;const p=D5(t.value,!1);if(!p.length)return a.value;const m=[];function v(_){g?m.push(_):m.push(A(A({},_),{sortOrder:null}))}let y=null;return p.forEach(_=>{y===null?(v(_),_.sortOrder&&(_.multiplePriority===!1?g=!1:y=!0)):(y&&_.multiplePriority!==!1||(g=!1),v(_))}),m}),c=V(()=>{const g=u.value.map(p=>{let{column:m,sortOrder:v}=p;return{column:m,order:v}});return{sortColumns:g,sortColumn:g[0]&&g[0].column,sortOrder:g[0]&&g[0].order}});function d(g){let p;g.multiplePriority===!1||!u.value.length||u.value[0].multiplePriority===!1?p=[g]:p=[...u.value.filter(m=>{let{key:v}=m;return v!==g.key}),g],l(p),i(nj(p),p)}const h=g=>Nue(e.value,g,u.value,d,r.value,o.value,s.value),f=V(()=>nj(u.value));return[h,u,c,f]}const cKe=n=>{const{keyCode:e}=n;e===ot.ENTER&&n.stopPropagation()},dKe=(n,e)=>{let{slots:t}=e;var i;return N("div",{onClick:r=>r.stopPropagation(),onKeydown:cKe},[(i=t.default)===null||i===void 0?void 0:i.call(t)])},hKe=dKe,ij=Ie({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:ui(),onChange:vt(),filterSearch:Ki([Boolean,Function]),tablePrefixCls:ui(),locale:ci()},setup(n){return()=>{const{value:e,onChange:t,filterSearch:i,tablePrefixCls:r,locale:o}=n;return i?N("div",{class:`${r}-filter-dropdown-search`},[N(dr,{placeholder:o.filterSearchPlaceholder,onChange:t,value:e,htmlSize:1,class:`${r}-filter-dropdown-search-input`},{prefix:()=>N(yS,null,null)})]):null}}});var rj=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const fKe=Ie({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:A(A({},Xle),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(n,e){let{attrs:t,slots:i}=e;const r=ye(!0),o=WV(),s=ye(!1),a=V(()=>n.motion?n.motion:Mle()),l=(u,c)=>{var d,h,f,g;c==="appear"?(h=(d=a.value)===null||d===void 0?void 0:d.onAfterEnter)===null||h===void 0||h.call(d,u):c==="leave"&&((g=(f=a.value)===null||f===void 0?void 0:f.onAfterLeave)===null||g===void 0||g.call(f,u)),s.value||n.onMotionEnd(),s.value=!0};return Ve(()=>n.motionNodes,()=>{n.motionNodes&&n.motionType==="hide"&&r.value&&kn(()=>{r.value=!1})},{immediate:!0,flush:"post"}),Vt(()=>{n.motionNodes&&n.onMotionStart()}),fn(()=>{n.motionNodes&&l()}),()=>{const{motion:u,motionNodes:c,motionType:d,active:h,eventKey:f}=n,g=rj(n,["motion","motionNodes","motionType","active","eventKey"]);return c?N(Vc,se(se({},a.value),{},{appear:d==="show",onAfterAppear:p=>l(p,"appear"),onAfterLeave:p=>l(p,"leave")}),{default:()=>[Bc(N("div",{class:`${o.value.prefixCls}-treenode-motion`},[c.map(p=>{const m=rj(p.data,[]),{title:v,key:y,isStart:_,isEnd:b}=p;return delete m.children,N(h5,se(se({},m),{},{title:v,active:h,data:p.data,key:y,eventKey:y,isStart:_,isEnd:b}),i)})]),[[zF,r.value]])]}):N(h5,se(se({class:t.class,style:t.style},g),{},{active:h,eventKey:f}),i)}}});function gKe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=n.length,i=e.length;if(Math.abs(t-i)!==1)return{add:!1,key:null};function r(o,s){const a=new Map;o.forEach(u=>{a.set(u,!0)});const l=s.filter(u=>!a.has(u));return l.length===1?l[0]:null}return t<i?{add:!0,key:r(n,e)}:{add:!1,key:r(e,n)}}function oj(n,e,t){const i=n.findIndex(s=>s.key===t),r=n[i+1],o=e.findIndex(s=>s.key===t);if(r){const s=e.findIndex(a=>a.key===r.key);return e.slice(o+1,s)}return e.slice(o+1)}var sj=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const aj={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},pKe=()=>{},Xg=`RC_TREE_MOTION_${Math.random()}`,M5={key:Xg},kue={key:Xg,level:0,index:0,pos:"0",node:M5,nodes:[M5]},lj={parent:null,children:[],pos:kue.pos,data:M5,title:null,key:Xg,isStart:[],isEnd:[]};function uj(n,e,t,i){return e===!1||!t?n:n.slice(0,Math.ceil(t/i)+1)}function cj(n){const{key:e,pos:t}=n;return ww(e,t)}function mKe(n){let e=String(n.key),t=n;for(;t.parent;)t=t.parent,e=`${t.key} > ${e}`;return e}const vKe=Ie({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:o8e,setup(n,e){let{expose:t,attrs:i}=e;const r=ke(),o=ke(),{expandedKeys:s,flattenNodes:a}=Yle();t({scrollTo:p=>{r.value.scrollTo(p)},getIndentWidth:()=>o.value.offsetWidth});const l=ye(a.value),u=ye([]),c=ke(null);function d(){l.value=a.value,u.value=[],c.value=null,n.onListChangeEnd()}const h=WV();Ve([()=>s.value.slice(),a],(p,m)=>{let[v,y]=p,[_,b]=m;const S=gKe(_,v);if(S.key!==null){const{virtual:w,height:C,itemHeight:x}=n;if(S.add){const L=b.findIndex(D=>{let{key:M}=D;return M===S.key}),T=uj(oj(b,y,S.key),w,C,x),I=b.slice();I.splice(L+1,0,lj),l.value=I,u.value=T,c.value="show"}else{const L=y.findIndex(D=>{let{key:M}=D;return M===S.key}),T=uj(oj(y,b,S.key),w,C,x),I=y.slice();I.splice(L+1,0,lj),l.value=I,u.value=T,c.value="hide"}}else b!==y&&(l.value=y)}),Ve(()=>h.value.dragging,p=>{p||d()});const f=V(()=>n.motion===void 0?l.value:a.value),g=()=>{n.onActiveChange(null)};return()=>{const p=A(A({},n),i),{prefixCls:m,selectable:v,checkable:y,disabled:_,motion:b,height:S,itemHeight:w,virtual:C,focusable:x,activeItem:L,focused:T,tabindex:I,onKeydown:D,onFocus:M,onBlur:P,onListChangeStart:k,onListChangeEnd:O}=p,F=sj(p,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return N($t,null,[T&&L&&N("span",{style:aj,"aria-live":"assertive"},[mKe(L)]),N("div",null,[N("input",{style:aj,disabled:x===!1||_,tabindex:x!==!1?I:null,onKeydown:D,onFocus:M,onBlur:P,value:"",onChange:pKe,"aria-label":"for screen reader"},null)]),N("div",{class:`${m}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[N("div",{class:`${m}-indent`},[N("div",{ref:o,class:`${m}-indent-unit`},null)])]),N(Bae,se(se({},jn(F,["onActiveChange"])),{},{data:f.value,itemKey:cj,height:S,fullHeight:!1,virtual:C,itemHeight:w,prefixCls:`${m}-list`,ref:r,onVisibleChange:(R,$)=>{const H=new Set(R);$.filter(z=>!H.has(z)).some(z=>cj(z)===Xg)&&d()}}),{default:R=>{const{pos:$}=R,H=sj(R.data,[]),{title:U,key:z,isStart:Z,isEnd:X}=R,ce=ww(z,$);return delete H.key,delete H.children,N(fKe,se(se({},H),{},{eventKey:ce,title:U,active:!!L&&z===L.key,data:R.data,isStart:Z,isEnd:X,motion:b,motionNodes:z===Xg?u.value:null,motionType:c.value,onMotionStart:k,onMotionEnd:d,onMousemove:g}),null)}})])}}});function yKe(n){let{dropPosition:e,dropLevelOffset:t,indent:i}=n;const r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(e){case-1:r.top=0,r.left=`${-t*i}px`;break;case 1:r.bottom=0,r.left=`${-t*i}px`;break;case 0:r.bottom=0,r.left=`${i}`;break}return N("div",{style:r},null)}const _Ke=10,bKe=Ie({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:rr(Zle(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:yKe,allowDrop:()=>!0}),setup(n,e){let{attrs:t,slots:i,expose:r}=e;const o=ye(!1);let s={};const a=ye(),l=ye([]),u=ye([]),c=ye([]),d=ye([]),h=ye([]),f=ye([]),g={},p=pi({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),m=ye([]);Ve([()=>n.treeData,()=>n.children],()=>{m.value=n.treeData!==void 0?Rt(n.treeData).slice():g5(Rt(n.children))},{immediate:!0,deep:!0});const v=ye({}),y=ye(!1),_=ye(null),b=ye(!1),S=V(()=>HE(n.fieldNames)),w=ye();let C=null,x=null,L=null;const T=V(()=>({expandedKeysSet:I.value,selectedKeysSet:D.value,loadedKeysSet:M.value,loadingKeysSet:P.value,checkedKeysSet:k.value,halfCheckedKeysSet:O.value,dragOverNodeKey:p.dragOverNodeKey,dropPosition:p.dropPosition,keyEntities:v.value})),I=V(()=>new Set(f.value)),D=V(()=>new Set(l.value)),M=V(()=>new Set(d.value)),P=V(()=>new Set(h.value)),k=V(()=>new Set(u.value)),O=V(()=>new Set(c.value));Ut(()=>{if(m.value){const xe=HV(m.value,{fieldNames:S.value});v.value=A({[Xg]:kue},xe.keyEntities)}});let F=!1;Ve([()=>n.expandedKeys,()=>n.autoExpandParent,v],(xe,Me)=>{let[Ne,Ge]=xe,[Ke,Je]=Me,Ye=f.value;if(n.expandedKeys!==void 0||F&&Ge!==Je)Ye=n.autoExpandParent||!F&&n.defaultExpandParent?f5(n.expandedKeys,v.value):n.expandedKeys;else if(!F&&n.defaultExpandAll){const jt=A({},v.value);delete jt[Xg],Ye=Object.keys(jt).map(en=>jt[en].key)}else!F&&n.defaultExpandedKeys&&(Ye=n.autoExpandParent||n.defaultExpandParent?f5(n.defaultExpandedKeys,v.value):n.defaultExpandedKeys);Ye&&(f.value=Ye),F=!0},{immediate:!0});const R=ye([]);Ut(()=>{R.value=f8e(m.value,f.value,S.value)}),Ut(()=>{n.selectable&&(n.selectedKeys!==void 0?l.value=SK(n.selectedKeys,n):!F&&n.defaultSelectedKeys&&(l.value=SK(n.defaultSelectedKeys,n)))});const{maxLevel:$,levelEntities:H}=eue(v);Ut(()=>{if(n.checkable){let xe;if(n.checkedKeys!==void 0?xe=J2(n.checkedKeys)||{}:!F&&n.defaultCheckedKeys?xe=J2(n.defaultCheckedKeys)||{}:m.value&&(xe=J2(n.checkedKeys)||{checkedKeys:u.value,halfCheckedKeys:c.value}),xe){let{checkedKeys:Me=[],halfCheckedKeys:Ne=[]}=xe;n.checkStrictly||({checkedKeys:Me,halfCheckedKeys:Ne}=_v(Me,!0,v.value,$.value,H.value)),u.value=Me,c.value=Ne}}}),Ut(()=>{n.loadedKeys&&(d.value=n.loadedKeys)});const U=()=>{A(p,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},z=xe=>{w.value.scrollTo(xe)};Ve(()=>n.activeKey,()=>{n.activeKey!==void 0&&(_.value=n.activeKey)},{immediate:!0}),Ve(_,xe=>{kn(()=>{xe!==null&&z({key:xe})})},{immediate:!0,flush:"post"});const Z=xe=>{n.expandedKeys===void 0&&(f.value=xe)},X=()=>{p.draggingNodeKey!==null&&A(p,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),C=null,L=null},ce=(xe,Me)=>{const{onDragend:Ne}=n;p.dragOverNodeKey=null,X(),Ne==null||Ne({event:xe,node:Me.eventData}),x=null},q=xe=>{ce(xe,null),window.removeEventListener("dragend",q)},j=(xe,Me)=>{const{onDragstart:Ne}=n,{eventKey:Ge,eventData:Ke}=Me;x=Me,C={x:xe.clientX,y:xe.clientY};const Je=Dl(f.value,Ge);p.draggingNodeKey=Ge,p.dragChildrenKeys=u8e(Ge,v.value),a.value=w.value.getIndentWidth(),Z(Je),window.addEventListener("dragend",q),Ne&&Ne({event:xe,node:Ke})},ie=(xe,Me)=>{const{onDragenter:Ne,onExpand:Ge,allowDrop:Ke,direction:Je}=n,{pos:Ye,eventKey:jt}=Me;if(L!==jt&&(L=jt),!x){U();return}const{dropPosition:en,dropLevelOffset:zt,dropTargetKey:on,dropContainerKey:un,dropTargetPos:or,dropAllowed:Ui,dragOverNodeKey:sr}=bK(xe,x,Me,a.value,C,Ke,R.value,v.value,I.value,Je);if(p.dragChildrenKeys.indexOf(on)!==-1||!Ui){U();return}if(s||(s={}),Object.keys(s).forEach(xi=>{clearTimeout(s[xi])}),x.eventKey!==Me.eventKey&&(s[Ye]=window.setTimeout(()=>{if(p.draggingNodeKey===null)return;let xi=f.value.slice();const so=v.value[Me.eventKey];so&&(so.children||[]).length&&(xi=$u(f.value,Me.eventKey)),Z(xi),Ge&&Ge(xi,{node:Me.eventData,expanded:!0,nativeEvent:xe})},800)),x.eventKey===on&&zt===0){U();return}A(p,{dragOverNodeKey:sr,dropPosition:en,dropLevelOffset:zt,dropTargetKey:on,dropContainerKey:un,dropTargetPos:or,dropAllowed:Ui}),Ne&&Ne({event:xe,node:Me.eventData,expandedKeys:f.value})},Q=(xe,Me)=>{const{onDragover:Ne,allowDrop:Ge,direction:Ke}=n;if(!x)return;const{dropPosition:Je,dropLevelOffset:Ye,dropTargetKey:jt,dropContainerKey:en,dropAllowed:zt,dropTargetPos:on,dragOverNodeKey:un}=bK(xe,x,Me,a.value,C,Ge,R.value,v.value,I.value,Ke);p.dragChildrenKeys.indexOf(jt)!==-1||!zt||(x.eventKey===jt&&Ye===0?p.dropPosition===null&&p.dropLevelOffset===null&&p.dropTargetKey===null&&p.dropContainerKey===null&&p.dropTargetPos===null&&p.dropAllowed===!1&&p.dragOverNodeKey===null||U():Je===p.dropPosition&&Ye===p.dropLevelOffset&&jt===p.dropTargetKey&&en===p.dropContainerKey&&on===p.dropTargetPos&&zt===p.dropAllowed&&un===p.dragOverNodeKey||A(p,{dropPosition:Je,dropLevelOffset:Ye,dropTargetKey:jt,dropContainerKey:en,dropTargetPos:on,dropAllowed:zt,dragOverNodeKey:un}),Ne&&Ne({event:xe,node:Me.eventData}))},le=(xe,Me)=>{L===Me.eventKey&&!xe.currentTarget.contains(xe.relatedTarget)&&(U(),L=null);const{onDragleave:Ne}=n;Ne&&Ne({event:xe,node:Me.eventData})},ue=function(xe,Me){let Ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Ge;const{dragChildrenKeys:Ke,dropPosition:Je,dropTargetKey:Ye,dropTargetPos:jt,dropAllowed:en}=p;if(!en)return;const{onDrop:zt}=n;if(p.dragOverNodeKey=null,X(),Ye===null)return;const on=A(A({},Qx(Ye,Rt(T.value))),{active:((Ge=Se.value)===null||Ge===void 0?void 0:Ge.key)===Ye,data:v.value[Ye].node});Ke.indexOf(Ye);const un=zV(jt),or={event:xe,node:Jx(on),dragNode:x?x.eventData:null,dragNodesKeys:[x.eventKey].concat(Ke),dropToGap:Je!==0,dropPosition:Je+Number(un[un.length-1])};Ne||zt==null||zt(or),x=null},W=(xe,Me)=>{const{expanded:Ne,key:Ge}=Me,Ke=R.value.filter(Ye=>Ye.key===Ge)[0],Je=Jx(A(A({},Qx(Ge,T.value)),{data:Ke.data}));Z(Ne?Dl(f.value,Ge):$u(f.value,Ge)),Ae(xe,Je)},G=(xe,Me)=>{const{onClick:Ne,expandAction:Ge}=n;Ge==="click"&&W(xe,Me),Ne&&Ne(xe,Me)},K=(xe,Me)=>{const{onDblclick:Ne,expandAction:Ge}=n;(Ge==="doubleclick"||Ge==="dblclick")&&W(xe,Me),Ne&&Ne(xe,Me)},de=(xe,Me)=>{let Ne=l.value;const{onSelect:Ge,multiple:Ke}=n,{selected:Je}=Me,Ye=Me[S.value.key],jt=!Je;jt?Ke?Ne=$u(Ne,Ye):Ne=[Ye]:Ne=Dl(Ne,Ye);const en=v.value,zt=Ne.map(on=>{const un=en[on];return un?un.node:null}).filter(on=>on);n.selectedKeys===void 0&&(l.value=Ne),Ge&&Ge(Ne,{event:"select",selected:jt,node:Me,selectedNodes:zt,nativeEvent:xe})},Y=(xe,Me,Ne)=>{const{checkStrictly:Ge,onCheck:Ke}=n,Je=Me[S.value.key];let Ye;const jt={event:"check",node:Me,checked:Ne,nativeEvent:xe},en=v.value;if(Ge){const zt=Ne?$u(u.value,Je):Dl(u.value,Je),on=Dl(c.value,Je);Ye={checked:zt,halfChecked:on},jt.checkedNodes=zt.map(un=>en[un]).filter(un=>un).map(un=>un.node),n.checkedKeys===void 0&&(u.value=zt)}else{let{checkedKeys:zt,halfCheckedKeys:on}=_v([...u.value,Je],!0,en,$.value,H.value);if(!Ne){const un=new Set(zt);un.delete(Je),{checkedKeys:zt,halfCheckedKeys:on}=_v(Array.from(un),{checked:!1,halfCheckedKeys:on},en,$.value,H.value)}Ye=zt,jt.checkedNodes=[],jt.checkedNodesPositions=[],jt.halfCheckedKeys=on,zt.forEach(un=>{const or=en[un];if(!or)return;const{node:Ui,pos:sr}=or;jt.checkedNodes.push(Ui),jt.checkedNodesPositions.push({node:Ui,pos:sr})}),n.checkedKeys===void 0&&(u.value=zt,c.value=on)}Ke&&Ke(Ye,jt)},oe=xe=>{const Me=xe[S.value.key],Ne=new Promise((Ge,Ke)=>{const{loadData:Je,onLoad:Ye}=n;if(!Je||M.value.has(Me)||P.value.has(Me))return null;Je(xe).then(()=>{const en=$u(d.value,Me),zt=Dl(h.value,Me);Ye&&Ye(en,{event:"load",node:xe}),n.loadedKeys===void 0&&(d.value=en),h.value=zt,Ge()}).catch(en=>{const zt=Dl(h.value,Me);if(h.value=zt,g[Me]=(g[Me]||0)+1,g[Me]>=_Ke){const on=$u(d.value,Me);n.loadedKeys===void 0&&(d.value=on),Ge()}Ke(en)}),h.value=$u(h.value,Me)});return Ne.catch(()=>{}),Ne},te=(xe,Me)=>{const{onMouseenter:Ne}=n;Ne&&Ne({event:xe,node:Me})},J=(xe,Me)=>{const{onMouseleave:Ne}=n;Ne&&Ne({event:xe,node:Me})},he=(xe,Me)=>{const{onRightClick:Ne}=n;Ne&&(xe.preventDefault(),Ne({event:xe,node:Me}))},pe=xe=>{const{onFocus:Me}=n;y.value=!0,Me&&Me(xe)},Ce=xe=>{const{onBlur:Me}=n;y.value=!1,ne(null),Me&&Me(xe)},Ae=(xe,Me)=>{let Ne=f.value;const{onExpand:Ge,loadData:Ke}=n,{expanded:Je}=Me,Ye=Me[S.value.key];if(b.value)return;Ne.indexOf(Ye);const jt=!Je;if(jt?Ne=$u(Ne,Ye):Ne=Dl(Ne,Ye),Z(Ne),Ge&&Ge(Ne,{node:Me,expanded:jt,nativeEvent:xe}),jt&&Ke){const en=oe(Me);en&&en.then(()=>{}).catch(zt=>{const on=Dl(f.value,Ye);Z(on),Promise.reject(zt)})}},Oe=()=>{b.value=!0},fe=()=>{setTimeout(()=>{b.value=!1})},ne=xe=>{const{onActiveChange:Me}=n;_.value!==xe&&(n.activeKey!==void 0&&(_.value=xe),xe!==null&&z({key:xe}),Me&&Me(xe))},Se=V(()=>_.value===null?null:R.value.find(xe=>{let{key:Me}=xe;return Me===_.value})||null),Be=xe=>{let Me=R.value.findIndex(Ge=>{let{key:Ke}=Ge;return Ke===_.value});Me===-1&&xe<0&&(Me=R.value.length),Me=(Me+xe+R.value.length)%R.value.length;const Ne=R.value[Me];if(Ne){const{key:Ge}=Ne;ne(Ge)}else ne(null)},He=V(()=>Jx(A(A({},Qx(_.value,T.value)),{data:Se.value.data,active:!0}))),lt=xe=>{const{onKeydown:Me,checkable:Ne,selectable:Ge}=n;switch(xe.which){case ot.UP:{Be(-1),xe.preventDefault();break}case ot.DOWN:{Be(1),xe.preventDefault();break}}const Ke=Se.value;if(Ke&&Ke.data){const Je=Ke.data.isLeaf===!1||!!(Ke.data.children||[]).length,Ye=He.value;switch(xe.which){case ot.LEFT:{Je&&I.value.has(_.value)?Ae({},Ye):Ke.parent&&ne(Ke.parent.key),xe.preventDefault();break}case ot.RIGHT:{Je&&!I.value.has(_.value)?Ae({},Ye):Ke.children&&Ke.children.length&&ne(Ke.children[0].key),xe.preventDefault();break}case ot.ENTER:case ot.SPACE:{Ne&&!Ye.disabled&&Ye.checkable!==!1&&!Ye.disableCheckbox?Y({},Ye,!k.value.has(_.value)):!Ne&&Ge&&!Ye.disabled&&Ye.selectable!==!1&&de({},Ye);break}}}Me&&Me(xe)};return r({onNodeExpand:Ae,scrollTo:z,onKeydown:lt,selectedKeys:V(()=>l.value),checkedKeys:V(()=>u.value),halfCheckedKeys:V(()=>c.value),loadedKeys:V(()=>d.value),loadingKeys:V(()=>h.value),expandedKeys:V(()=>f.value)}),$c(()=>{window.removeEventListener("dragend",q),o.value=!0}),n8e({expandedKeys:f,selectedKeys:l,loadedKeys:d,loadingKeys:h,checkedKeys:u,halfCheckedKeys:c,expandedKeysSet:I,selectedKeysSet:D,loadedKeysSet:M,loadingKeysSet:P,checkedKeysSet:k,halfCheckedKeysSet:O,flattenNodes:R}),()=>{const{draggingNodeKey:xe,dropLevelOffset:Me,dropContainerKey:Ne,dropTargetKey:Ge,dropPosition:Ke,dragOverNodeKey:Je}=p,{prefixCls:Ye,showLine:jt,focusable:en,tabindex:zt=0,selectable:on,showIcon:un,icon:or=i.icon,switcherIcon:Ui,draggable:sr,checkable:xi,checkStrictly:so,disabled:gl,motion:Tu,loadData:Np,filterTreeNode:pl,height:Zy,itemHeight:kp,virtual:Yc,dropIndicatorRender:Eh,onContextmenu:Qy,onScroll:jw,direction:qw,rootClassName:Yw,rootStyle:Xw}=n,{class:BM,style:FM}=t,$M=Ay(A(A({},n),t),{aria:!0,data:!0});let Xc;return sr?typeof sr=="object"?Xc=sr:typeof sr=="function"?Xc={nodeDraggable:sr}:Xc={}:Xc=!1,N(t8e,{value:{prefixCls:Ye,selectable:on,showIcon:un,icon:or,switcherIcon:Ui,draggable:Xc,draggingNodeKey:xe,checkable:xi,customCheckable:i.checkable,checkStrictly:so,disabled:gl,keyEntities:v.value,dropLevelOffset:Me,dropContainerKey:Ne,dropTargetKey:Ge,dropPosition:Ke,dragOverNodeKey:Je,dragging:xe!==null,indent:a.value,direction:qw,dropIndicatorRender:Eh,loadData:Np,filterTreeNode:pl,onNodeClick:G,onNodeDoubleClick:K,onNodeExpand:Ae,onNodeSelect:de,onNodeCheck:Y,onNodeLoad:oe,onNodeMouseEnter:te,onNodeMouseLeave:J,onNodeContextMenu:he,onNodeDragStart:j,onNodeDragEnter:ie,onNodeDragOver:Q,onNodeDragLeave:le,onNodeDragEnd:ce,onNodeDrop:ue,slots:i}},{default:()=>[N("div",{role:"tree",class:Ee(Ye,BM,Yw,{[`${Ye}-show-line`]:jt,[`${Ye}-focused`]:y.value,[`${Ye}-active-focused`]:_.value!==null}),style:Xw},[N(vKe,se({ref:w,prefixCls:Ye,style:FM,disabled:gl,selectable:on,checkable:!!xi,motion:Tu,height:Zy,itemHeight:kp,virtual:Yc,focusable:en,focused:y.value,tabindex:zt,activeItem:Se.value,onFocus:pe,onBlur:Ce,onKeydown:lt,onActiveChange:ne,onListChangeStart:Oe,onListChangeEnd:fe,onContextmenu:Qy,onScroll:jw},$M),null)])]})}}});function SKe(n,e,t,i,r){const{isLeaf:o,expanded:s,loading:a}=t;let l=e;if(a)return N(iI,{class:`${n}-switcher-loading-icon`},null);let u;r&&typeof r=="object"&&(u=r.showLeafIcon);let c=null;const d=`${n}-switcher-icon`;return o?r?u&&i?i(t):(typeof r=="object"&&!u?c=N("span",{class:`${n}-switcher-leaf-line`},null):c=N(sue,{class:`${n}-switcher-line-icon`},null),c):null:(c=N(X8e,{class:d},null),r&&(c=s?N(Y9e,{class:`${n}-switcher-line-icon`},null):N(J9e,{class:`${n}-switcher-line-icon`},null)),typeof e=="function"?l=e(A(A({},t),{defaultIcon:c,switcherCls:d})):Yo(l)&&(l=bs(l,{class:d})),l||c)}const dj=4;function wKe(n){const{dropPosition:e,dropLevelOffset:t,prefixCls:i,indent:r,direction:o="ltr"}=n,s=o==="ltr"?"left":"right",a=o==="ltr"?"right":"left",l={[s]:`${-t*r+dj}px`,[a]:0};switch(e){case-1:l.top="-3px";break;case 1:l.bottom="-3px";break;default:l.bottom="-3px",l[s]=`${r+dj}px`;break}return N("div",{style:l,class:`${i}-drop-indicator`},null)}const CKe=new _n("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),xKe=(n,e)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${e.motionDurationSlow}`}}}),LKe=(n,e)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:e.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,borderRadius:"50%",content:'""'}}}),TKe=(n,e)=>{const{treeCls:t,treeNodeCls:i,treeNodePadding:r,treeTitleHeight:o}=e,s=(o-e.fontSizeLG)/2,a=e.paddingXS;return{[t]:A(A({},wi(e)),{background:e.colorBgContainer,borderRadius:e.borderRadius,transition:`background-color ${e.motionDurationSlow}`,[`&${t}-rtl`]:{[`${t}-switcher`]:{"&_close":{[`${t}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${t}-active-focused)`]:A({},Ic(e)),[`${t}-list-holder-inner`]:{alignItems:"flex-start"},[`&${t}-block-node`]:{[`${t}-list-holder-inner`]:{alignItems:"stretch",[`${t}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,border:`1px solid ${e.colorPrimary}`,opacity:0,animationName:CKe,animationDuration:e.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${i}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${r}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${t}-node-content-wrapper`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${t}-node-content-wrapper`]:A({},Ic(e)),[`&:not(${i}-disabled).filter-node ${t}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${t}-draggable-icon`]:{width:o,lineHeight:`${o}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${e.motionDurationSlow}`,[`${i}:hover &`]:{opacity:.45}},[`&${i}-disabled`]:{[`${t}-draggable-icon`]:{visibility:"hidden"}}}},[`${t}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:o}},[`${t}-draggable-icon`]:{visibility:"hidden"},[`${t}-switcher`]:A(A({},xKe(n,e)),{position:"relative",flex:"none",alignSelf:"stretch",width:o,margin:0,lineHeight:`${o}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${t}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:e.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:o/2,bottom:-r,marginInlineStart:-1,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:o/2*.8,height:o/2,borderBottom:`1px solid ${e.colorBorder}`,content:'""'}}}),[`${t}-checkbox`]:{top:"initial",marginInlineEnd:a,marginBlockStart:s},[`${t}-node-content-wrapper, ${t}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:o,margin:0,padding:`0 ${e.paddingXS/2}px`,color:"inherit",lineHeight:`${o}px`,background:"transparent",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:e.controlItemBgHover},[`&${t}-node-selected`]:{backgroundColor:e.controlItemBgActive},[`${t}-iconEle`]:{display:"inline-block",width:o,height:o,lineHeight:`${o}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${t}-unselectable ${t}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${t}-node-content-wrapper`]:A({lineHeight:`${o}px`,userSelect:"none"},LKe(n,e)),[`${i}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${e.colorPrimary}`}},"&-show-line":{[`${t}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:o/2,bottom:-r,borderInlineEnd:`1px solid ${e.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${t}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last`]:{[`${t}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${o/2}px !important`}}}}})}},IKe=n=>{const{treeCls:e,treeNodeCls:t,treeNodePadding:i}=n;return{[`${e}${e}-directory`]:{[t]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:i,insetInlineStart:0,transition:`background-color ${n.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:n.controlItemBgHover}},"> *":{zIndex:1},[`${e}-switcher`]:{transition:`color ${n.motionDurationMid}`},[`${e}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${e}-node-selected`]:{color:n.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:n.colorPrimary},[`${e}-switcher`]:{color:n.colorTextLightSolid},[`${e}-node-content-wrapper`]:{color:n.colorTextLightSolid,background:"transparent"}}}}}},DKe=(n,e)=>{const t=`.${n}`,i=`${t}-treenode`,r=e.paddingXS/2,o=e.controlHeightSM,s=Ln(e,{treeCls:t,treeNodeCls:i,treeNodePadding:r,treeTitleHeight:o});return[TKe(n,s),IKe(s)]},EKe=ki("Tree",(n,e)=>{let{prefixCls:t}=e;return[{[n.componentCls]:iue(`${t}-checkbox`,n)},DKe(t,n),Zae(n)]}),Pue=()=>{const n=Zle();return A(A({},n),{showLine:Ki([Boolean,Object]),multiple:_t(),autoExpandParent:_t(),checkStrictly:_t(),checkable:_t(),disabled:_t(),defaultExpandAll:_t(),defaultExpandParent:_t(),defaultExpandedKeys:fr(),expandedKeys:fr(),checkedKeys:Ki([Array,Object]),defaultCheckedKeys:fr(),selectedKeys:fr(),defaultSelectedKeys:fr(),selectable:_t(),loadedKeys:fr(),draggable:_t(),showIcon:_t(),icon:vt(),switcherIcon:ge.any,prefixCls:String,replaceFields:ci(),blockNode:_t(),openAnimation:ge.any,onDoubleclick:n.onDblclick,"onUpdate:selectedKeys":vt(),"onUpdate:checkedKeys":vt(),"onUpdate:expandedKeys":vt()})},iL=Ie({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:rr(Pue(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(n,e){let{attrs:t,expose:i,emit:r,slots:o}=e;n.treeData===void 0&&o.default;const{prefixCls:s,direction:a,virtual:l}=Wt("tree",n),[u,c]=EKe(s),d=ke();i({treeRef:d,onNodeExpand:function(){var m;(m=d.value)===null||m===void 0||m.onNodeExpand(...arguments)},scrollTo:m=>{var v;(v=d.value)===null||v===void 0||v.scrollTo(m)},selectedKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.selectedKeys}),checkedKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.checkedKeys}),halfCheckedKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.halfCheckedKeys}),loadedKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.loadedKeys}),loadingKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.loadingKeys}),expandedKeys:V(()=>{var m;return(m=d.value)===null||m===void 0?void 0:m.expandedKeys})}),Ut(()=>{Vi(n.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const f=(m,v)=>{r("update:checkedKeys",m),r("check",m,v)},g=(m,v)=>{r("update:expandedKeys",m),r("expand",m,v)},p=(m,v)=>{r("update:selectedKeys",m),r("select",m,v)};return()=>{const{showIcon:m,showLine:v,switcherIcon:y=o.switcherIcon,icon:_=o.icon,blockNode:b,checkable:S,selectable:w,fieldNames:C=n.replaceFields,motion:x=n.openAnimation,itemHeight:L=28,onDoubleclick:T,onDblclick:I}=n,D=A(A(A({},t),jn(n,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!v,dropIndicatorRender:wKe,fieldNames:C,icon:_,itemHeight:L}),M=o.default?qo(o.default()):void 0;return u(N(bKe,se(se({},D),{},{virtual:l.value,motion:x,ref:d,prefixCls:s.value,class:Ee({[`${s.value}-icon-hide`]:!m,[`${s.value}-block-node`]:b,[`${s.value}-unselectable`]:!w,[`${s.value}-rtl`]:a.value==="rtl"},t.class,c.value),direction:a.value,checkable:S,selectable:w,switcherIcon:P=>SKe(s.value,y,P,o.leafIcon,v),onCheck:f,onExpand:g,onSelect:p,onDblclick:I||T,children:M}),A(A({},o),{checkable:()=>N("span",{class:`${s.value}-checkbox-inner`},null)})))}}});var Ku;(function(n){n[n.None=0]="None",n[n.Start=1]="Start",n[n.End=2]="End"})(Ku||(Ku={}));function fW(n,e,t){function i(r){const o=r[e.key],s=r[e.children];t(o,r)!==!1&&fW(s||[],e,t)}n.forEach(i)}function MKe(n){let{treeData:e,expandedKeys:t,startKey:i,endKey:r,fieldNames:o={title:"title",key:"key",children:"children"}}=n;const s=[];let a=Ku.None;if(i&&i===r)return[i];if(!i||!r)return[];function l(u){return u===i||u===r}return fW(e,o,u=>{if(a===Ku.End)return!1;if(l(u)){if(s.push(u),a===Ku.None)a=Ku.Start;else if(a===Ku.Start)return a=Ku.End,!1}else a===Ku.Start&&s.push(u);return t.includes(u)}),s}function iN(n,e,t){const i=[...e],r=[];return fW(n,t,(o,s)=>{const a=i.indexOf(o);return a!==-1&&(r.push(s),i.splice(a,1)),!!i.length}),r}var AKe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const NKe=()=>A(A({},Pue()),{expandAction:Ki([Boolean,String])});function kKe(n){const{isLeaf:e,expanded:t}=n;return N(e?sue:t?W9e:G9e,null,null)}const rN=Ie({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:rr(NKe(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(n,e){let{attrs:t,slots:i,emit:r,expose:o}=e;var s;const a=ke(n.treeData||g5(qo((s=i.default)===null||s===void 0?void 0:s.call(i))));Ve(()=>n.treeData,()=>{a.value=n.treeData}),vu(()=>{kn(()=>{var L;n.treeData===void 0&&i.default&&(a.value=g5(qo((L=i.default)===null||L===void 0?void 0:L.call(i))))})});const l=ke(),u=ke(),c=V(()=>HE(n.fieldNames)),d=ke();o({scrollTo:L=>{var T;(T=d.value)===null||T===void 0||T.scrollTo(L)},selectedKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.selectedKeys}),checkedKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.checkedKeys}),halfCheckedKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.halfCheckedKeys}),loadedKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.loadedKeys}),loadingKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.loadingKeys}),expandedKeys:V(()=>{var L;return(L=d.value)===null||L===void 0?void 0:L.expandedKeys})});const f=()=>{const{keyEntities:L}=HV(a.value,{fieldNames:c.value});let T;return n.defaultExpandAll?T=Object.keys(L):n.defaultExpandParent?T=f5(n.expandedKeys||n.defaultExpandedKeys||[],L):T=n.expandedKeys||n.defaultExpandedKeys,T},g=ke(n.selectedKeys||n.defaultSelectedKeys||[]),p=ke(f());Ve(()=>n.selectedKeys,()=>{n.selectedKeys!==void 0&&(g.value=n.selectedKeys)},{immediate:!0}),Ve(()=>n.expandedKeys,()=>{n.expandedKeys!==void 0&&(p.value=n.expandedKeys)},{immediate:!0});const v=DWe((L,T)=>{const{isLeaf:I}=T;I||L.shiftKey||L.metaKey||L.ctrlKey||d.value.onNodeExpand(L,T)},200,{leading:!0}),y=(L,T)=>{n.expandedKeys===void 0&&(p.value=L),r("update:expandedKeys",L),r("expand",L,T)},_=(L,T)=>{const{expandAction:I}=n;I==="click"&&v(L,T),r("click",L,T)},b=(L,T)=>{const{expandAction:I}=n;(I==="dblclick"||I==="doubleclick")&&v(L,T),r("doubleclick",L,T),r("dblclick",L,T)},S=(L,T)=>{const{multiple:I}=n,{node:D,nativeEvent:M}=T,P=D[c.value.key],k=A(A({},T),{selected:!0}),O=(M==null?void 0:M.ctrlKey)||(M==null?void 0:M.metaKey),F=M==null?void 0:M.shiftKey;let R;I&&O?(R=L,l.value=P,u.value=R,k.selectedNodes=iN(a.value,R,c.value)):I&&F?(R=Array.from(new Set([...u.value||[],...MKe({treeData:a.value,expandedKeys:p.value,startKey:P,endKey:l.value,fieldNames:c.value})])),k.selectedNodes=iN(a.value,R,c.value)):(R=[P],l.value=P,u.value=R,k.selectedNodes=iN(a.value,R,c.value)),r("update:selectedKeys",R),r("select",R,k),n.selectedKeys===void 0&&(g.value=R)},w=(L,T)=>{r("update:checkedKeys",L),r("check",L,T)},{prefixCls:C,direction:x}=Wt("tree",n);return()=>{const L=Ee(`${C.value}-directory`,{[`${C.value}-directory-rtl`]:x.value==="rtl"},t.class),{icon:T=i.icon,blockNode:I=!0}=n,D=AKe(n,["icon","blockNode"]);return N(iL,se(se(se({},t),{},{icon:T||kKe,ref:d,blockNode:I},D),{},{prefixCls:C.value,class:L,expandedKeys:p.value,selectedKeys:g.value,onSelect:S,onClick:_,onDblclick:b,onExpand:y,onCheck:w}),i)}}}),oN=h5,PKe=A(iL,{DirectoryTree:rN,TreeNode:oN,install:n=>(n.component(iL.name,iL),n.component(oN.name,oN),n.component(rN.name,rN),n)});function hj(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=new Set;function r(o,s){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const l=i.has(o);if(Ese(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(t&&a>1)return!1;i.add(o);const u=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(!r(o[c],s[c],u))return!1;return!0}if(o&&s&&typeof o=="object"&&typeof s=="object"){const c=Object.keys(o);return c.length!==Object.keys(s).length?!1:c.every(d=>r(o[d],s[d],u))}return!1}return r(n,e)}const{SubMenu:OKe,Item:RKe}=ua;function BKe(n){return n.some(e=>{let{children:t}=e;return t&&t.length>0})}function Oue(n,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(n.trim().toLowerCase()):!1}function Rue(n){let{filters:e,prefixCls:t,filteredKeys:i,filterMultiple:r,searchValue:o,filterSearch:s}=n;return e.map((a,l)=>{const u=String(a.value);if(a.children)return N(OKe,{key:u||l,title:a.text,popupClassName:`${t}-dropdown-submenu`},{default:()=>[Rue({filters:a.children,prefixCls:t,filteredKeys:i,filterMultiple:r,searchValue:o,filterSearch:s})]});const c=r?mc:Ro,d=N(RKe,{key:a.value!==void 0?u:l},{default:()=>[N(c,{checked:i.includes(u)},null),N("span",null,[a.text])]});return o.trim()?typeof s=="function"?s(o,a)?d:void 0:Oue(o,a.text)?d:void 0:d})}const FKe=Ie({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup(n,e){let{slots:t}=e;const i=cW(),r=V(()=>{var z;return(z=n.filterMode)!==null&&z!==void 0?z:"menu"}),o=V(()=>{var z;return(z=n.filterSearch)!==null&&z!==void 0?z:!1}),s=V(()=>n.column.filterDropdownOpen||n.column.filterDropdownVisible),a=V(()=>n.column.onFilterDropdownOpenChange||n.column.onFilterDropdownVisibleChange),l=ye(!1),u=V(()=>{var z;return!!(n.filterState&&(!((z=n.filterState.filteredKeys)===null||z===void 0)&&z.length||n.filterState.forceFiltered))}),c=V(()=>{var z;return KE((z=n.column)===null||z===void 0?void 0:z.filters)}),d=V(()=>{const{filterDropdown:z,slots:Z={},customFilterDropdown:X}=n.column;return z||Z.filterDropdown&&i.value[Z.filterDropdown]||X&&i.value.customFilterDropdown}),h=V(()=>{const{filterIcon:z,slots:Z={}}=n.column;return z||Z.filterIcon&&i.value[Z.filterIcon]||i.value.customFilterIcon}),f=z=>{var Z;l.value=z,(Z=a.value)===null||Z===void 0||Z.call(a,z)},g=V(()=>typeof s.value=="boolean"?s.value:l.value),p=V(()=>{var z;return(z=n.filterState)===null||z===void 0?void 0:z.filteredKeys}),m=ye([]),v=z=>{let{selectedKeys:Z}=z;m.value=Z},y=(z,Z)=>{let{node:X,checked:ce}=Z;n.filterMultiple?v({selectedKeys:z}):v({selectedKeys:ce&&X.key?[X.key]:[]})};Ve(p,()=>{l.value&&v({selectedKeys:p.value||[]})},{immediate:!0});const _=ye([]),b=ye(),S=z=>{b.value=setTimeout(()=>{_.value=z})},w=()=>{clearTimeout(b.value)};fn(()=>{clearTimeout(b.value)});const C=ye(""),x=z=>{const{value:Z}=z.target;C.value=Z};Ve(l,()=>{l.value||(C.value="")});const L=z=>{const{column:Z,columnKey:X,filterState:ce}=n,q=z&&z.length?z:null;if(q===null&&(!ce||!ce.filteredKeys)||hj(q,ce==null?void 0:ce.filteredKeys,!0))return null;n.triggerFilter({column:Z,key:X,filteredKeys:q})},T=()=>{f(!1),L(m.value)},I=function(){let{confirm:z,closeDropdown:Z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};z&&L([]),Z&&f(!1),C.value="",n.column.filterResetToDefaultFilteredValue?m.value=(n.column.defaultFilteredValue||[]).map(X=>String(X)):m.value=[]},D=function(){let{closeDropdown:z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};z&&f(!1),L(m.value)},M=z=>{z&&p.value!==void 0&&(m.value=p.value||[]),f(z),!z&&!d.value&&T()},{direction:P}=Wt("",n),k=z=>{if(z.target.checked){const Z=c.value;m.value=Z}else m.value=[]},O=z=>{let{filters:Z}=z;return(Z||[]).map((X,ce)=>{const q=String(X.value),j={title:X.text,key:X.value!==void 0?q:ce};return X.children&&(j.children=O({filters:X.children})),j})},F=z=>{var Z;return A(A({},z),{text:z.title,value:z.key,children:((Z=z.children)===null||Z===void 0?void 0:Z.map(X=>F(X)))||[]})},R=V(()=>O({filters:n.column.filters})),$=V(()=>Ee({[`${n.dropdownPrefixCls}-menu-without-submenu`]:!BKe(n.column.filters||[])})),H=()=>{const z=m.value,{column:Z,locale:X,tablePrefixCls:ce,filterMultiple:q,dropdownPrefixCls:j,getPopupContainer:ie,prefixCls:Q}=n;return(Z.filters||[]).length===0?N($f,{image:$f.PRESENTED_IMAGE_SIMPLE,description:X.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):r.value==="tree"?N($t,null,[N(ij,{filterSearch:o.value,value:C.value,onChange:x,tablePrefixCls:ce,locale:X},null),N("div",{class:`${ce}-filter-dropdown-tree`},[q?N(mc,{class:`${ce}-filter-dropdown-checkall`,onChange:k,checked:z.length===c.value.length,indeterminate:z.length>0&&z.length<c.value.length},{default:()=>[X.filterCheckall]}):null,N(PKe,{checkable:!0,selectable:!1,blockNode:!0,multiple:q,checkStrictly:!q,class:`${j}-menu`,onCheck:y,checkedKeys:z,selectedKeys:z,showIcon:!1,treeData:R.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:C.value.trim()?le=>typeof o.value=="function"?o.value(C.value,F(le)):Oue(C.value,le.title):void 0},null)])]):N($t,null,[N(ij,{filterSearch:o.value,value:C.value,onChange:x,tablePrefixCls:ce,locale:X},null),N(ua,{multiple:q,prefixCls:`${j}-menu`,class:$.value,onClick:w,onSelect:v,onDeselect:v,selectedKeys:z,getPopupContainer:ie,openKeys:_.value,onOpenChange:S},{default:()=>Rue({filters:Z.filters||[],filterSearch:o.value,prefixCls:Q,filteredKeys:m.value,filterMultiple:q,searchValue:C.value})})])},U=V(()=>{const z=m.value;return n.column.filterResetToDefaultFilteredValue?hj((n.column.defaultFilteredValue||[]).map(Z=>String(Z)),z,!0):z.length===0});return()=>{var z;const{tablePrefixCls:Z,prefixCls:X,column:ce,dropdownPrefixCls:q,locale:j,getPopupContainer:ie}=n;let Q;typeof d.value=="function"?Q=d.value({prefixCls:`${q}-custom`,setSelectedKeys:W=>v({selectedKeys:W}),selectedKeys:m.value,confirm:D,clearFilters:I,filters:ce.filters,visible:g.value,column:ce.__originColumn__,close:()=>{f(!1)}}):d.value?Q=d.value:Q=N($t,null,[H(),N("div",{class:`${X}-dropdown-btns`},[N(el,{type:"link",size:"small",disabled:U.value,onClick:()=>I()},{default:()=>[j.filterReset]}),N(el,{type:"primary",size:"small",onClick:T},{default:()=>[j.filterConfirm]})])]);const le=N(hKe,{class:`${X}-dropdown`},{default:()=>[Q]});let ue;return typeof h.value=="function"?ue=h.value({filtered:u.value,column:ce.__originColumn__}):h.value?ue=h.value:ue=N(B9e,null,null),N("div",{class:`${X}-column`},[N("span",{class:`${Z}-column-title`},[(z=t.default)===null||z===void 0?void 0:z.call(t)]),N(vg,{overlay:le,trigger:["click"],open:g.value,onOpenChange:M,getPopupContainer:ie,placement:P.value==="rtl"?"bottomLeft":"bottomRight"},{default:()=>[N("span",{role:"button",tabindex:-1,class:Ee(`${X}-trigger`,{active:u.value}),onClick:W=>{W.stopPropagation()}},[ue])]})])}}});function A5(n,e,t){let i=[];return(n||[]).forEach((r,o)=>{var s,a;const l=Cw(o,t),u=r.filterDropdown||((s=r==null?void 0:r.slots)===null||s===void 0?void 0:s.filterDropdown)||r.customFilterDropdown;if(r.filters||u||"onFilter"in r)if("filteredValue"in r){let c=r.filteredValue;u||(c=(a=c==null?void 0:c.map(String))!==null&&a!==void 0?a:c),i.push({column:r,key:Yg(r,l),filteredKeys:c,forceFiltered:r.filtered})}else i.push({column:r,key:Yg(r,l),filteredKeys:e&&r.defaultFilteredValue?r.defaultFilteredValue:void 0,forceFiltered:r.filtered});"children"in r&&(i=[...i,...A5(r.children,e,l)])}),i}function Bue(n,e,t,i,r,o,s,a){return t.map((l,u)=>{var c;const d=Cw(u,a),{filterMultiple:h=!0,filterMode:f,filterSearch:g}=l;let p=l;const m=l.filterDropdown||((c=l==null?void 0:l.slots)===null||c===void 0?void 0:c.filterDropdown)||l.customFilterDropdown;if(p.filters||m){const v=Yg(p,d),y=i.find(_=>{let{key:b}=_;return v===b});p=A(A({},p),{title:_=>N(FKe,{tablePrefixCls:n,prefixCls:`${n}-filter`,dropdownPrefixCls:e,column:p,columnKey:v,filterState:y,filterMultiple:h,filterMode:f,filterSearch:g,triggerFilter:o,locale:r,getPopupContainer:s},{default:()=>[hW(l.title,_)]})})}return"children"in p&&(p=A(A({},p),{children:Bue(n,e,p.children,i,r,o,s,d)})),p})}function KE(n){let e=[];return(n||[]).forEach(t=>{let{value:i,children:r}=t;e.push(i),r&&(e=[...e,...KE(r)])}),e}function fj(n){const e={};return n.forEach(t=>{let{key:i,filteredKeys:r,column:o}=t;var s;const a=o.filterDropdown||((s=o==null?void 0:o.slots)===null||s===void 0?void 0:s.filterDropdown)||o.customFilterDropdown,{filters:l}=o;if(a)e[i]=r||null;else if(Array.isArray(r)){const u=KE(l);e[i]=u.filter(c=>r.includes(String(c)))}else e[i]=null}),e}function gj(n,e){return e.reduce((t,i)=>{const{column:{onFilter:r,filters:o},filteredKeys:s}=i;return r&&s&&s.length?t.filter(a=>s.some(l=>{const u=KE(o),c=u.findIndex(h=>String(h)===String(l)),d=c!==-1?u[c]:l;return r(d,a)})):t},n)}function $Ke(n){let{prefixCls:e,dropdownPrefixCls:t,mergedColumns:i,locale:r,onFilterChange:o,getPopupContainer:s}=n;const[a,l]=An(A5(i.value,!0)),u=V(()=>{const f=A5(i.value,!1);if(f.length===0)return f;let g=!0,p=!0;if(f.forEach(m=>{let{filteredKeys:v}=m;v!==void 0?g=!1:p=!1}),g){const m=(i.value||[]).map((v,y)=>Yg(v,Cw(y)));return a.value.filter(v=>{let{key:y}=v;return m.includes(y)}).map(v=>{const y=i.value[m.findIndex(_=>_===v.key)];return A(A({},v),{column:A(A({},v.column),y),forceFiltered:y.filtered})})}return Vi(p,"Table","Columns should all contain `filteredValue` or not contain `filteredValue`."),f}),c=V(()=>fj(u.value)),d=f=>{const g=u.value.filter(p=>{let{key:m}=p;return m!==f.key});g.push(f),l(g),o(fj(g),g)};return[f=>Bue(e.value,t.value,f,u.value,r.value,d,s.value),u,c]}function Fue(n,e){return n.map(t=>{const i=A({},t);return i.title=hW(i.title,e),"children"in i&&(i.children=Fue(i.children,e)),i})}function VKe(n){return[t=>Fue(t,n.value)]}function WKe(n){return function(t){let{prefixCls:i,onExpand:r,record:o,expanded:s,expandable:a}=t;const l=`${i}-row-expand-icon`;return N("button",{type:"button",onClick:u=>{r(o,u),u.stopPropagation()},class:Ee(l,{[`${l}-spaced`]:!a,[`${l}-expanded`]:a&&s,[`${l}-collapsed`]:a&&!s}),"aria-label":s?n.collapse:n.expand,"aria-expanded":s},null)}}function $ue(n,e){const t=e.value;return n.map(i=>{var r;if(i===Gu||i===wd)return i;const o=A({},i),{slots:s={}}=o;return o.__originColumn__=i,Vi(!("slots"in o),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(s).forEach(a=>{const l=s[a];o[a]===void 0&&t[l]&&(o[a]=t[l])}),e.value.headerCell&&!(!((r=i.slots)===null||r===void 0)&&r.title)&&(o.title=_D(e.value,"headerCell",{title:i.title,column:i},()=>[i.title])),"children"in o&&Array.isArray(o.children)&&(o.children=$ue(o.children,e)),o})}function zKe(n){return[t=>$ue(t,n)]}const HKe=n=>{const{componentCls:e}=n,t=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`,i=(r,o,s)=>({[`&${e}-${r}`]:{[`> ${e}-container`]:{[`> ${e}-content, > ${e}-body`]:{"> table > tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${o}px -${s+n.lineWidth}px`}}}}}});return{[`${e}-wrapper`]:{[`${e}${e}-bordered`]:A(A(A({[`> ${e}-title`]:{border:t,borderBottom:0},[`> ${e}-container`]:{borderInlineStart:t,[`
            > ${e}-content,
            > ${e}-header,
            > ${e}-body,
            > ${e}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:t},"> thead":{"> tr:not(:last-child) > th":{borderBottom:t},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${e}-cell-fix-right-first::after`]:{borderInlineEnd:t}},"> tbody > tr > td":{[`> ${e}-expanded-row-fixed`]:{margin:`-${n.tablePaddingVertical}px -${n.tablePaddingHorizontal+n.lineWidth}px`,"&::after":{position:"absolute",top:0,insetInlineEnd:n.lineWidth,bottom:0,borderInlineEnd:t,content:'""'}}}}},[`
            > ${e}-content,
            > ${e}-header
          `]:{"> table":{borderTop:t}}},[`&${e}-scroll-horizontal`]:{[`> ${e}-container > ${e}-body`]:{"> table > tbody":{[`
                > tr${e}-expanded-row,
                > tr${e}-placeholder
              `]:{"> td":{borderInlineEnd:0}}}}}},i("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle)),i("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall)),{[`> ${e}-footer`]:{border:t,borderTop:0}}),[`${e}-cell`]:{[`${e}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${n.lineWidth}px 0 ${n.lineWidth}px ${n.tableHeaderBg}`}}}}},UKe=HKe,GKe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-cell-ellipsis`]:A(A({},hh),{wordBreak:"keep-all",[`
          &${e}-cell-fix-left-last,
          &${e}-cell-fix-right-first
        `]:{overflow:"visible",[`${e}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${e}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},KKe=GKe,jKe=n=>{const{componentCls:e}=n;return{[`${e}-wrapper`]:{[`${e}-tbody > tr${e}-placeholder`]:{textAlign:"center",color:n.colorTextDisabled,"&:hover > td":{background:n.colorBgContainer}}}}},qKe=jKe,YKe=n=>{const{componentCls:e,antCls:t,controlInteractiveSize:i,motionDurationSlow:r,lineWidth:o,paddingXS:s,lineType:a,tableBorderColor:l,tableExpandIconBg:u,tableExpandColumnWidth:c,borderRadius:d,fontSize:h,fontSizeSM:f,lineHeight:g,tablePaddingVertical:p,tablePaddingHorizontal:m,tableExpandedRowBg:v,paddingXXS:y}=n,_=i/2-o,b=_*2+o*3,S=`${o}px ${a} ${l}`,w=y-o;return{[`${e}-wrapper`]:{[`${e}-expand-icon-col`]:{width:c},[`${e}-row-expand-icon-cell`]:{textAlign:"center",[`${e}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${e}-row-indent`]:{height:1,float:"left"},[`${e}-row-expand-icon`]:A(A({},V3(n)),{position:"relative",float:"left",boxSizing:"border-box",width:b,height:b,padding:0,color:"inherit",lineHeight:`${b}px`,background:u,border:S,borderRadius:d,transform:`scale(${i/b})`,transition:`all ${r}`,userSelect:"none","&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${r} ease-out`,content:'""'},"&::before":{top:_,insetInlineEnd:w,insetInlineStart:w,height:o},"&::after":{top:w,bottom:w,insetInlineStart:_,width:o,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${e}-row-indent + ${e}-row-expand-icon`]:{marginTop:(h*g-o*3)/2-Math.ceil((f*1.4-o*3)/2),marginInlineEnd:s},[`tr${e}-expanded-row`]:{"&, &:hover":{"> td":{background:v}},[`${t}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"auto"}}},[`${e}-expanded-row-fixed`]:{position:"relative",margin:`-${p}px -${m}px`,padding:`${p}px ${m}px`}}}},XKe=YKe,ZKe=n=>{const{componentCls:e,antCls:t,iconCls:i,tableFilterDropdownWidth:r,tableFilterDropdownSearchWidth:o,paddingXXS:s,paddingXS:a,colorText:l,lineWidth:u,lineType:c,tableBorderColor:d,tableHeaderIconColor:h,fontSizeSM:f,tablePaddingHorizontal:g,borderRadius:p,motionDurationSlow:m,colorTextDescription:v,colorPrimary:y,tableHeaderFilterActiveBg:_,colorTextDisabled:b,tableFilterDropdownBg:S,tableFilterDropdownHeight:w,controlItemBgHover:C,controlItemBgActive:x,boxShadowSecondary:L}=n,T=`${t}-dropdown`,I=`${e}-filter-dropdown`,D=`${t}-tree`,M=`${u}px ${c} ${d}`;return[{[`${e}-wrapper`]:{[`${e}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${e}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:-s,marginInline:`${s}px ${-g/2}px`,padding:`0 ${s}px`,color:h,fontSize:f,borderRadius:p,cursor:"pointer",transition:`all ${m}`,"&:hover":{color:v,background:_},"&.active":{color:y}}}},{[`${t}-dropdown`]:{[I]:A(A({},wi(n)),{minWidth:r,backgroundColor:S,borderRadius:p,boxShadow:L,[`${T}-menu`]:{maxHeight:w,overflowX:"hidden",border:0,boxShadow:"none","&:empty::after":{display:"block",padding:`${a}px 0`,color:b,fontSize:f,textAlign:"center",content:'"Not Found"'}},[`${I}-tree`]:{paddingBlock:`${a}px 0`,paddingInline:a,[D]:{padding:0},[`${D}-treenode ${D}-node-content-wrapper:hover`]:{backgroundColor:C},[`${D}-treenode-checkbox-checked ${D}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:x}}},[`${I}-search`]:{padding:a,borderBottom:M,"&-input":{input:{minWidth:o},[i]:{color:b}}},[`${I}-checkall`]:{width:"100%",marginBottom:s,marginInlineStart:s},[`${I}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${a-u}px ${a}px`,overflow:"hidden",backgroundColor:"inherit",borderTop:M}})}},{[`${t}-dropdown ${I}, ${I}-submenu`]:{[`${t}-checkbox-wrapper + span`]:{paddingInlineStart:a,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},QKe=ZKe,JKe=n=>{const{componentCls:e,lineWidth:t,colorSplit:i,motionDurationSlow:r,zIndexTableFixed:o,tableBg:s,zIndexTableSticky:a}=n,l=i;return{[`${e}-wrapper`]:{[`
        ${e}-cell-fix-left,
        ${e}-cell-fix-right
      `]:{position:"sticky !important",zIndex:o,background:s},[`
        ${e}-cell-fix-left-first::after,
        ${e}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:-t,width:30,transform:"translateX(100%)",transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},[`${e}-cell-fix-left-all::after`]:{display:"none"},[`
        ${e}-cell-fix-right-first::after,
        ${e}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:-t,left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},[`${e}-container`]:{"&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:a+1,width:30,transition:`box-shadow ${r}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${e}-ping-left`]:{[`&:not(${e}-has-fix-left) ${e}-container`]:{position:"relative","&::before":{boxShadow:`inset 10px 0 8px -8px ${l}`}},[`
          ${e}-cell-fix-left-first::after,
          ${e}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${l}`},[`${e}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${e}-ping-right`]:{[`&:not(${e}-has-fix-right) ${e}-container`]:{position:"relative","&::after":{boxShadow:`inset -10px 0 8px -8px ${l}`}},[`
          ${e}-cell-fix-right-first::after,
          ${e}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${l}`}}}}},eje=JKe,tje=n=>{const{componentCls:e,antCls:t}=n;return{[`${e}-wrapper`]:{[`${e}-pagination${t}-pagination`]:{margin:`${n.margin}px 0`},[`${e}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:n.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},nje=tje,ije=n=>{const{componentCls:e,tableRadius:t}=n;return{[`${e}-wrapper`]:{[e]:{[`${e}-title, ${e}-header`]:{borderRadius:`${t}px ${t}px 0 0`},[`${e}-title + ${e}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,table:{borderRadius:0,"> thead > tr:first-child":{"th:first-child":{borderRadius:0},"th:last-child":{borderRadius:0}}}},"&-container":{borderStartStartRadius:t,borderStartEndRadius:t,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:t},"> *:last-child":{borderStartEndRadius:t}}},"&-footer":{borderRadius:`0 0 ${t}px ${t}px`}}}}},rje=ije,oje=n=>{const{componentCls:e}=n;return{[`${e}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${e}-pagination-left`]:{justifyContent:"flex-end"},[`${e}-pagination-right`]:{justifyContent:"flex-start"},[`${e}-row-expand-icon`]:{"&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}}}}},sje=oje,aje=n=>{const{componentCls:e,antCls:t,iconCls:i,fontSizeIcon:r,paddingXS:o,tableHeaderIconColor:s,tableHeaderIconColorHover:a}=n;return{[`${e}-wrapper`]:{[`${e}-selection-col`]:{width:n.tableSelectionColumnWidth},[`${e}-bordered ${e}-selection-col`]:{width:n.tableSelectionColumnWidth+o*2},[`
        table tr th${e}-selection-column,
        table tr td${e}-selection-column
      `]:{paddingInlineEnd:n.paddingXS,paddingInlineStart:n.paddingXS,textAlign:"center",[`${t}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${e}-selection-column${e}-cell-fix-left`]:{zIndex:n.zIndexTableFixed+1},[`table tr th${e}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${e}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${e}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${n.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:`${n.tablePaddingHorizontal/4}px`,[i]:{color:s,fontSize:r,verticalAlign:"baseline","&:hover":{color:a}}}}}},lje=aje,uje=n=>{const{componentCls:e}=n,t=(i,r,o,s)=>({[`${e}${e}-${i}`]:{fontSize:s,[`
        ${e}-title,
        ${e}-footer,
        ${e}-thead > tr > th,
        ${e}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${r}px ${o}px`},[`${e}-filter-trigger`]:{marginInlineEnd:`-${o/2}px`},[`${e}-expanded-row-fixed`]:{margin:`-${r}px -${o}px`},[`${e}-tbody`]:{[`${e}-wrapper:only-child ${e}`]:{marginBlock:`-${r}px`,marginInline:`${n.tableExpandColumnWidth-o}px -${o}px`}},[`${e}-selection-column`]:{paddingInlineStart:`${o/4}px`}}});return{[`${e}-wrapper`]:A(A({},t("middle",n.tablePaddingVerticalMiddle,n.tablePaddingHorizontalMiddle,n.tableFontSizeMiddle)),t("small",n.tablePaddingVerticalSmall,n.tablePaddingHorizontalSmall,n.tableFontSizeSmall))}},cje=uje,dje=n=>{const{componentCls:e}=n;return{[`${e}-wrapper ${e}-resize-handle`]:{position:"absolute",top:0,height:"100% !important",bottom:0,left:" auto !important",right:" -8px",cursor:"col-resize",touchAction:"none",userSelect:"auto",width:"16px",zIndex:1,"&-line":{display:"block",width:"1px",marginLeft:"7px",height:"100% !important",backgroundColor:n.colorPrimary,opacity:0},"&:hover &-line":{opacity:1}},[`${e}-wrapper  ${e}-resize-handle.dragging`]:{overflow:"hidden",[`${e}-resize-handle-line`]:{opacity:1},"&:before":{position:"absolute",top:0,bottom:0,content:'" "',width:"200vw",transform:"translateX(-50%)",opacity:0}}}},hje=dje,fje=n=>{const{componentCls:e,marginXXS:t,fontSizeIcon:i,tableHeaderIconColor:r,tableHeaderIconColorHover:o}=n;return{[`${e}-wrapper`]:{[`${e}-thead th${e}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${n.motionDurationSlow}`,"&:hover":{background:n.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:n.colorPrimary},[`
          &${e}-cell-fix-left:hover,
          &${e}-cell-fix-right:hover
        `]:{background:n.tableFixedHeaderSortActiveBg}},[`${e}-thead th${e}-column-sort`]:{background:n.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${e}-column-sort`]:{background:n.tableBodySortBg},[`${e}-column-title`]:{position:"relative",zIndex:1,flex:1},[`${e}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${e}-column-sorter`]:{marginInlineStart:t,color:r,fontSize:0,transition:`color ${n.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:i,"&.active":{color:n.colorPrimary}},[`${e}-column-sorter-up + ${e}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${e}-column-sorters:hover ${e}-column-sorter`]:{color:o}}}},gje=fje,pje=n=>{const{componentCls:e,opacityLoading:t,tableScrollThumbBg:i,tableScrollThumbBgHover:r,tableScrollThumbSize:o,tableScrollBg:s,zIndexTableSticky:a}=n,l=`${n.lineWidth}px ${n.lineType} ${n.tableBorderColor}`;return{[`${e}-wrapper`]:{[`${e}-sticky`]:{"&-holder":{position:"sticky",zIndex:a,background:n.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${o}px !important`,zIndex:a,display:"flex",alignItems:"center",background:s,borderTop:l,opacity:t,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:i,borderRadius:100,transition:`all ${n.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:r}}}}}}},mje=pje,vje=n=>{const{componentCls:e,lineWidth:t,tableBorderColor:i}=n,r=`${t}px ${n.lineType} ${i}`;return{[`${e}-wrapper`]:{[`${e}-summary`]:{position:"relative",zIndex:n.zIndexTableFixed,background:n.tableBg,"> tr":{"> th, > td":{borderBottom:r}}},[`div${e}-summary`]:{boxShadow:`0 -${t}px 0 ${i}`}}}},pj=vje,yje=n=>{const{componentCls:e,fontWeightStrong:t,tablePaddingVertical:i,tablePaddingHorizontal:r,lineWidth:o,lineType:s,tableBorderColor:a,tableFontSize:l,tableBg:u,tableRadius:c,tableHeaderTextColor:d,motionDurationMid:h,tableHeaderBg:f,tableHeaderCellSplitColor:g,tableRowHoverBg:p,tableSelectedRowBg:m,tableSelectedRowHoverBg:v,tableFooterTextColor:y,tableFooterBg:_,paddingContentVerticalLG:b,wireframe:S}=n,w=`${o}px ${s} ${a}`;return{[`${e}-wrapper`]:A(A({clear:"both",maxWidth:"100%"},fh()),{[e]:A(A({},wi(n)),{fontSize:l,background:u,borderRadius:`${c}px ${c}px 0 0`}),table:{width:"100%",textAlign:"start",borderRadius:`${c}px ${c}px 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${e}-thead > tr > th,
          ${e}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${b}px ${r}px`,overflowWrap:"break-word"},[`${e}-title`]:{padding:`${i}px ${r}px`},[`${e}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:d,fontWeight:t,textAlign:"start",background:f,borderBottom:w,transition:`background ${h} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${e}-selection-column):not(${e}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:g,transform:"translateY(-50%)",transition:`background-color ${h}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${e}:not(${e}-bordered)`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderTop:w,borderBottom:"transparent"},"&:last-child > td":{borderBottom:w},[`&:first-child > td,
              &${e}-measure-row + tr > td`]:{borderTop:"none",borderTopColor:"transparent"}}}},[`${e}${e}-bordered`]:{[`${e}-tbody`]:{"> tr":{"> td":{borderBottom:w}}}},[`${e}-tbody`]:{"> tr":{"> td":{transition:`background ${h}, border-color ${h}`,[`
              > ${e}-wrapper:only-child,
              > ${e}-expanded-row-fixed > ${e}-wrapper:only-child
            `]:{[e]:{marginBlock:`-${i}px`,marginInline:`${n.tableExpandColumnWidth-r}px -${r}px`,[`${e}-tbody > tr:last-child > td`]:{borderBottom:0,"&:first-child, &:last-child":{borderRadius:0}}}}},[`
            &${e}-row:hover > td,
            > td${e}-cell-row-hover
          `]:{background:p},[`&${e}-row-selected`]:{"> td":{background:m},"&:hover > td":{background:v}}}},[`${e}:not(${e}-bordered) ${e}-tbody > tr`]:S?void 0:{[`&${e}-row:hover, &${e}-row${e}-row-selected`]:{[`+ tr${e}-row > td`]:{borderTopColor:"transparent"}},[`&${e}-row:last-child:hover > td,
          &${e}-row${e}-row-selected:last-child > td`]:{borderBottomColor:"transparent"},[`
          &${e}-row:hover > td,
          > td${e}-cell-row-hover,
          &${e}-row${e}-row-selected > td
        `]:{borderTopColor:"transparent","&:first-child":{borderStartStartRadius:c,borderEndStartRadius:c},"&:last-child":{borderStartEndRadius:c,borderEndEndRadius:c}}},[`${e}-footer`]:{padding:`${i}px ${r}px`,color:y,background:_}})}},_je=ki("Table",n=>{const{controlItemBgActive:e,controlItemBgActiveHover:t,colorTextPlaceholder:i,colorTextHeading:r,colorSplit:o,colorBorderSecondary:s,fontSize:a,padding:l,paddingXS:u,paddingSM:c,controlHeight:d,colorFillAlter:h,colorIcon:f,colorIconHover:g,opacityLoading:p,colorBgContainer:m,borderRadiusLG:v,colorFillContent:y,colorFillSecondary:_,controlInteractiveSize:b}=n,S=new Fi(f),w=new Fi(g),C=e,x=2,L=new Fi(_).onBackground(m).toHexString(),T=new Fi(y).onBackground(m).toHexString(),I=new Fi(h).onBackground(m).toHexString(),D=Ln(n,{tableFontSize:a,tableBg:m,tableRadius:v,tablePaddingVertical:l,tablePaddingHorizontal:l,tablePaddingVerticalMiddle:c,tablePaddingHorizontalMiddle:u,tablePaddingVerticalSmall:u,tablePaddingHorizontalSmall:u,tableBorderColor:s,tableHeaderTextColor:r,tableHeaderBg:I,tableFooterTextColor:r,tableFooterBg:I,tableHeaderCellSplitColor:s,tableHeaderSortBg:L,tableHeaderSortHoverBg:T,tableHeaderIconColor:S.clone().setAlpha(S.getAlpha()*p).toRgbString(),tableHeaderIconColorHover:w.clone().setAlpha(w.getAlpha()*p).toRgbString(),tableBodySortBg:I,tableFixedHeaderSortActiveBg:L,tableHeaderFilterActiveBg:y,tableFilterDropdownBg:m,tableRowHoverBg:I,tableSelectedRowBg:C,tableSelectedRowHoverBg:t,zIndexTableFixed:x,zIndexTableSticky:x+1,tableFontSizeMiddle:a,tableFontSizeSmall:a,tableSelectionColumnWidth:d,tableExpandIconBg:m,tableExpandColumnWidth:b+2*n.padding,tableExpandedRowBg:h,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:i,tableScrollThumbBgHover:r,tableScrollBg:o});return[yje(D),nje(D),pj(D),gje(D),QKe(D),UKe(D),rje(D),XKe(D),pj(D),qKe(D),lje(D),eje(D),mje(D),KKe(D),cje(D),hje(D),sje(D)]}),bje=[],Vue=()=>({prefixCls:ui(),columns:fr(),rowKey:Ki([String,Function]),tableLayout:ui(),rowClassName:Ki([String,Function]),title:vt(),footer:vt(),id:ui(),showHeader:_t(),components:ci(),customRow:vt(),customHeaderRow:vt(),direction:ui(),expandFixed:Ki([Boolean,String]),expandColumnWidth:Number,expandedRowKeys:fr(),defaultExpandedRowKeys:fr(),expandedRowRender:vt(),expandRowByClick:_t(),expandIcon:vt(),onExpand:vt(),onExpandedRowsChange:vt(),"onUpdate:expandedRowKeys":vt(),defaultExpandAllRows:_t(),indentSize:Number,expandIconColumnIndex:Number,showExpandColumn:_t(),expandedRowClassName:vt(),childrenColumnName:ui(),rowExpandable:vt(),sticky:Ki([Boolean,Object]),dropdownPrefixCls:String,dataSource:fr(),pagination:Ki([Boolean,Object]),loading:Ki([Boolean,Object]),size:ui(),bordered:_t(),locale:ci(),onChange:vt(),onResizeColumn:vt(),rowSelection:ci(),getPopupContainer:vt(),scroll:ci(),sortDirections:fr(),showSorterTooltip:Ki([Boolean,Object],!0),transformCellText:vt()}),Sje=Ie({name:"InteralTable",inheritAttrs:!1,props:rr(A(A({},Vue()),{contextSlots:ci()}),{rowKey:"key"}),setup(n,e){let{attrs:t,slots:i,expose:r,emit:o}=e;Vi(!(typeof n.rowKey=="function"&&n.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),dGe(V(()=>n.contextSlots)),hGe({onResizeColumn:(Y,oe)=>{o("resizeColumn",Y,oe)}});const s=ele(),a=V(()=>{const Y=new Set(Object.keys(s.value).filter(oe=>s.value[oe]));return n.columns.filter(oe=>!oe.responsive||oe.responsive.some(te=>Y.has(te)))}),{size:l,renderEmpty:u,direction:c,prefixCls:d,configProvider:h}=Wt("table",n),[f,g]=_je(d),p=V(()=>{var Y;return n.transformCellText||((Y=h.transformCellText)===null||Y===void 0?void 0:Y.value)}),[m]=gse("Table",KT.Table,Wn(n,"locale")),v=V(()=>n.dataSource||bje),y=V(()=>h.getPrefixCls("dropdown",n.dropdownPrefixCls)),_=V(()=>n.childrenColumnName||"children"),b=V(()=>v.value.some(Y=>Y==null?void 0:Y[_.value])?"nest":n.expandedRowRender?"row":null),S=pi({body:null}),w=Y=>{A(S,Y)},C=V(()=>typeof n.rowKey=="function"?n.rowKey:Y=>Y==null?void 0:Y[n.rowKey]),[x]=rKe(v,_,C),L={},T=function(Y,oe){let te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{pagination:J,scroll:he,onChange:pe}=n,Ce=A(A({},L),Y);te&&(L.resetPagination(),Ce.pagination.current&&(Ce.pagination.current=1),J&&J.onChange&&J.onChange(1,Ce.pagination.pageSize)),he&&he.scrollToFirstRowOnChange!==!1&&S.body&&r4e(0,{getContainer:()=>S.body}),pe==null||pe(Ce.pagination,Ce.filters,Ce.sorter,{currentDataSource:gj(E5(v.value,Ce.sorterStates,_.value),Ce.filterStates),action:oe})},I=(Y,oe)=>{T({sorter:Y,sorterStates:oe},"sort",!1)},[D,M,P,k]=uKe({prefixCls:d,mergedColumns:a,onSorterChange:I,sortDirections:V(()=>n.sortDirections||["ascend","descend"]),tableLocale:m,showSorterTooltip:Wn(n,"showSorterTooltip")}),O=V(()=>E5(v.value,M.value,_.value)),F=(Y,oe)=>{T({filters:Y,filterStates:oe},"filter",!0)},[R,$,H]=$Ke({prefixCls:d,locale:m,dropdownPrefixCls:y,mergedColumns:a,onFilterChange:F,getPopupContainer:Wn(n,"getPopupContainer")}),U=V(()=>gj(O.value,$.value)),[z]=zKe(Wn(n,"contextSlots")),Z=V(()=>{const Y={},oe=H.value;return Object.keys(oe).forEach(te=>{oe[te]!==null&&(Y[te]=oe[te])}),A(A({},P.value),{filters:Y})}),[X]=VKe(Z),ce=(Y,oe)=>{T({pagination:A(A({},L.pagination),{current:Y,pageSize:oe})},"paginate")},[q,j]=iKe(V(()=>U.value.length),Wn(n,"pagination"),ce);Ut(()=>{L.sorter=k.value,L.sorterStates=M.value,L.filters=H.value,L.filterStates=$.value,L.pagination=n.pagination===!1?{}:nKe(q.value,n.pagination),L.resetPagination=j});const ie=V(()=>{if(n.pagination===!1||!q.value.pageSize)return U.value;const{current:Y=1,total:oe,pageSize:te=x5}=q.value;return Vi(Y>0,"Table","`current` should be positive number."),U.value.length<oe?U.value.length>te?U.value.slice((Y-1)*te,Y*te):U.value:U.value.slice((Y-1)*te,Y*te)});Ut(()=>{kn(()=>{const{total:Y,pageSize:oe=x5}=q.value;U.value.length<Y&&U.value.length>oe&&Vi(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")})},{flush:"post"});const Q=V(()=>n.showExpandColumn===!1?-1:b.value==="nest"&&n.expandIconColumnIndex===void 0?n.rowSelection?1:0:n.expandIconColumnIndex>0&&n.rowSelection?n.expandIconColumnIndex-1:n.expandIconColumnIndex),le=ke();Ve(()=>n.rowSelection,()=>{le.value=n.rowSelection?A({},n.rowSelection):n.rowSelection},{deep:!0,immediate:!0});const[ue,W]=sKe(le,{prefixCls:d,data:U,pageData:ie,getRowKey:C,getRecordByKey:x,expandType:b,childrenColumnName:_,locale:m,getPopupContainer:V(()=>n.getPopupContainer)}),G=(Y,oe,te)=>{let J;const{rowClassName:he}=n;return typeof he=="function"?J=Ee(he(Y,oe,te)):J=Ee(he),Ee({[`${d.value}-row-selected`]:W.value.has(C.value(Y,oe))},J)};r({selectedKeySet:W});const K=V(()=>typeof n.indentSize=="number"?n.indentSize:15),de=Y=>X(ue(R(D(z(Y)))));return()=>{var Y;const{expandIcon:oe=i.expandIcon||WKe(m.value),pagination:te,loading:J,bordered:he}=n;let pe,Ce;if(te!==!1&&(!((Y=q.value)===null||Y===void 0)&&Y.total)){let ne;q.value.size?ne=q.value.size:ne=l.value==="small"||l.value==="middle"?"small":void 0;const Se=lt=>N(iGe,se(se({},q.value),{},{class:[`${d.value}-pagination ${d.value}-pagination-${lt}`,q.value.class],size:ne}),null),Be=c.value==="rtl"?"left":"right",{position:He}=q.value;if(He!==null&&Array.isArray(He)){const lt=He.find(Ne=>Ne.includes("top")),xe=He.find(Ne=>Ne.includes("bottom")),Me=He.every(Ne=>`${Ne}`=="none");!lt&&!xe&&!Me&&(Ce=Se(Be)),lt&&(pe=Se(lt.toLowerCase().replace("top",""))),xe&&(Ce=Se(xe.toLowerCase().replace("bottom","")))}else Ce=Se(Be)}let Ae;typeof J=="boolean"?Ae={spinning:J}:typeof J=="object"&&(Ae=A({spinning:!0},J));const Oe=Ee(`${d.value}-wrapper`,{[`${d.value}-wrapper-rtl`]:c.value==="rtl"},t.class,g.value),fe=jn(n,["columns"]);return f(N("div",{class:Oe,style:t.style},[N(sb,se({spinning:!1},Ae),{default:()=>[pe,N(eKe,se(se(se({},t),fe),{},{expandedRowKeys:n.expandedRowKeys,defaultExpandedRowKeys:n.defaultExpandedRowKeys,expandIconColumnIndex:Q.value,indentSize:K.value,expandIcon:oe,columns:a.value,direction:c.value,prefixCls:d.value,class:Ee({[`${d.value}-middle`]:l.value==="middle",[`${d.value}-small`]:l.value==="small",[`${d.value}-bordered`]:he,[`${d.value}-empty`]:v.value.length===0}),data:ie.value,rowKey:C.value,rowClassName:G,internalHooks:C5,internalRefs:S,onUpdateInternalRefs:w,transformColumns:de,transformCellText:p.value}),A(A({},i),{emptyText:()=>{var ne,Se;return((ne=i.emptyText)===null||ne===void 0?void 0:ne.call(i))||((Se=n.locale)===null||Se===void 0?void 0:Se.emptyText)||u("Table")}})),Ce]})]))}}}),wje=Ie({name:"ATable",inheritAttrs:!1,props:rr(Vue(),{rowKey:"key"}),slots:Object,setup(n,e){let{attrs:t,slots:i,expose:r}=e;const o=ke();return r({table:o}),()=>{var s;const a=n.columns||Aue((s=i.default)===null||s===void 0?void 0:s.call(i));return N(Sje,se(se(se({ref:o},t),n),{},{columns:a||[],expandedRowRender:i.expandedRowRender,contextSlots:A({},i)}),i)}}}),sN=wje,aN=Ie({name:"ATableColumn",slots:Object,render(){return null}}),lN=Ie({name:"ATableColumnGroup",slots:Object,__ANT_TABLE_COLUMN_GROUP:!0,render(){return null}}),N5=zGe,k5=GGe,uN=A(KGe,{Cell:k5,Row:N5,name:"ATableSummary"}),Cje=A(sN,{SELECTION_ALL:L5,SELECTION_INVERT:T5,SELECTION_NONE:I5,SELECTION_COLUMN:Gu,EXPAND_COLUMN:wd,Column:aN,ColumnGroup:lN,Summary:uN,install:n=>(n.component(uN.name,uN),n.component(k5.name,k5),n.component(N5.name,N5),n.component(sN.name,sN),n.component(aN.name,aN),n.component(lN.name,lN),n)}),xje=(n,e,t,i)=>{const{sizeMarginHeadingVerticalEnd:r,fontWeightStrong:o}=i;return{marginBottom:r,color:t,fontWeight:o,fontSize:n,lineHeight:e}},Lje=n=>{const e=[1,2,3,4,5],t={};return e.forEach(i=>{t[`
      h${i}&,
      div&-h${i},
      div&-h${i} > textarea,
      h${i}
    `]=xje(n[`fontSizeHeading${i}`],n[`lineHeightHeading${i}`],n.colorTextHeading,n)}),t},Tje=n=>{const{componentCls:e}=n;return{"a&, a":A(A({},V3(n)),{textDecoration:n.linkDecoration,"&:active, &:hover":{textDecoration:n.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:n.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Ije=()=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:CRe[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),Dje=n=>{const{componentCls:e}=n,i=BV(n).inputPaddingVertical+1;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-n.paddingSM,marginTop:-i,marginBottom:`calc(1em - ${i}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:n.marginXS+2,insetBlockEnd:n.marginXS,color:n.colorTextDescription,fontWeight:"normal",fontSize:n.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Eje=n=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:n.colorSuccess}}}),Mje=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Aje=n=>{const{componentCls:e,sizeMarginHeadingVerticalStart:t}=n;return{[e]:A(A(A(A(A(A(A(A(A({color:n.colorText,wordBreak:"break-word",lineHeight:n.lineHeight,[`&${e}-secondary`]:{color:n.colorTextDescription},[`&${e}-success`]:{color:n.colorSuccess},[`&${e}-warning`]:{color:n.colorWarning},[`&${e}-danger`]:{color:n.colorError,"a&:active, a&:focus":{color:n.colorErrorActive},"a&:hover":{color:n.colorErrorHover}},[`&${e}-disabled`]:{color:n.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Lje(n)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:t},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:t}}}),Ije()),Tje(n)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:A(A({},V3(n)),{marginInlineStart:n.marginXXS})}),Dje(n)),Eje(n)),Mje()),{"&-rtl":{direction:"rtl"}})}},Wue=ki("Typography",n=>[Aje(n)],{sizeMarginHeadingVerticalStart:"1.2em",sizeMarginHeadingVerticalEnd:"0.5em"}),Nje=()=>({prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String,component:String}),kje=Ie({compatConfig:{MODE:3},name:"Editable",inheritAttrs:!1,props:Nje(),setup(n,e){let{emit:t,slots:i,attrs:r}=e;const{prefixCls:o}=S_(n),s=pi({current:n.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});Ve(()=>n.value,y=>{s.current=y});const a=ke();Vt(()=>{var y;if(a.value){const _=(y=a.value)===null||y===void 0?void 0:y.resizableTextArea,b=_==null?void 0:_.textArea;b.focus();const{length:S}=b.value;b.setSelectionRange(S,S)}});function l(y){a.value=y}function u(y){let{target:{value:_}}=y;s.current=_.replace(/[\r\n]/g,""),t("change",s.current)}function c(){s.inComposition=!0}function d(){s.inComposition=!1}function h(y){const{keyCode:_}=y;_===ot.ENTER&&y.preventDefault(),!s.inComposition&&(s.lastKeyCode=_)}function f(y){const{keyCode:_,ctrlKey:b,altKey:S,metaKey:w,shiftKey:C}=y;s.lastKeyCode===_&&!s.inComposition&&!b&&!S&&!w&&!C&&(_===ot.ENTER?(p(),t("end")):_===ot.ESC&&(s.current=n.originContent,t("cancel")))}function g(){p()}function p(){t("save",s.current.trim())}const[m,v]=Wue(o);return()=>{const y=Ee({[`${o.value}`]:!0,[`${o.value}-edit-content`]:!0,[`${o.value}-rtl`]:n.direction==="rtl",[n.component?`${o.value}-${n.component}`:""]:!0},r.class,v.value);return m(N("div",se(se({},r),{},{class:y}),[N(gue,{ref:l,maxlength:n.maxlength,value:s.current,onChange:u,onKeydown:h,onKeyup:f,onCompositionstart:c,onCompositionend:d,onBlur:g,rows:1,autoSize:n.autoSize===void 0||n.autoSize},null),i.enterIcon?i.enterIcon({className:`${n.prefixCls}-edit-content-confirm`}):N(w9e,{class:`${n.prefixCls}-edit-content-confirm`},null)]))}}}),Pje=kje,Oje=3,Rje=8;let Do;const cN={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function Bje(n){return Array.prototype.slice.apply(n).map(t=>`${t}: ${n.getPropertyValue(t)};`).join("")}function zue(n,e){n.setAttribute("aria-hidden","true");const t=window.getComputedStyle(e),i=Bje(t);n.setAttribute("style",i),n.style.position="fixed",n.style.left="0",n.style.height="auto",n.style.minHeight="auto",n.style.maxHeight="auto",n.style.paddingTop="0",n.style.paddingBottom="0",n.style.borderTopWidth="0",n.style.borderBottomWidth="0",n.style.top="-999999px",n.style.zIndex="-1000",n.style.textOverflow="clip",n.style.whiteSpace="normal",n.style.webkitLineClamp="none"}function Fje(n){const e=document.createElement("div");zue(e,n),e.appendChild(document.createTextNode("text")),document.body.appendChild(e);const t=e.getBoundingClientRect().height;return document.body.removeChild(e),t}const $je=(n,e,t,i,r)=>{Do||(Do=document.createElement("div"),Do.setAttribute("aria-hidden","true"),document.body.appendChild(Do));const{rows:o,suffix:s=""}=e,a=Fje(n),l=Math.round(a*o*100)/100;zue(Do,n);const u=bte({render(){return N("div",{style:cN},[N("span",{style:cN},[t,s]),N("span",{style:cN},[i])])}});u.mount(Do);function c(){return Math.round(Do.getBoundingClientRect().height*100)/100-.1<=l}if(c())return u.unmount(),{content:t,text:Do.innerHTML,ellipsis:!1};const d=Array.prototype.slice.apply(Do.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(_=>{let{nodeType:b,data:S}=_;return b!==Rje&&S!==""}),h=Array.prototype.slice.apply(Do.childNodes[0].childNodes[1].cloneNode(!0).childNodes);u.unmount();const f=[];Do.innerHTML="";const g=document.createElement("span");Do.appendChild(g);const p=document.createTextNode(r+s);g.appendChild(p),h.forEach(_=>{Do.appendChild(_)});function m(_){g.insertBefore(_,p)}function v(_,b){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b.length,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const x=Math.floor((S+w)/2),L=b.slice(0,x);if(_.textContent=L,S>=w-1)for(let T=w;T>=S;T-=1){const I=b.slice(0,T);if(_.textContent=I,c()||!I)return T===b.length?{finished:!1,vNode:b}:{finished:!0,vNode:I}}return c()?v(_,b,x,w,x):v(_,b,S,x,C)}function y(_){if(_.nodeType===Oje){const S=_.textContent||"",w=document.createTextNode(S);return m(w),v(w,S)}return{finished:!1,vNode:null}}return d.some(_=>{const{finished:b,vNode:S}=y(_);return S&&f.push(S),b}),{content:f,text:Do.innerHTML,ellipsis:!0}};var Vje=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Wje=()=>({prefixCls:String,direction:String,component:String}),zje=Ie({name:"ATypography",inheritAttrs:!1,props:Wje(),setup(n,e){let{slots:t,attrs:i}=e;const{prefixCls:r,direction:o}=Wt("typography",n),[s,a]=Wue(r);return()=>{var l;const u=A(A({},n),i),{prefixCls:c,direction:d,component:h="article"}=u,f=Vje(u,["prefixCls","direction","component"]);return s(N(h,se(se({},f),{},{class:Ee(r.value,{[`${r.value}-rtl`]:o.value==="rtl"},i.class,a.value)}),{default:()=>[(l=t.default)===null||l===void 0?void 0:l.call(t)]}))}}}),ls=zje,Hje=()=>{const n=document.getSelection();if(!n.rangeCount)return function(){};let e=document.activeElement;const t=[];for(let i=0;i<n.rangeCount;i++)t.push(n.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||t.forEach(function(i){n.addRange(i)}),e&&e.focus()}},Uje=Hje,mj={"text/plain":"Text","text/html":"Url",default:"Text"},Gje="Copy to clipboard: #{key}, Enter";function Kje(n){const e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function jje(n,e){let t,i,r,o,s,a=!1;e||(e={});const l=e.debug||!1;try{if(i=Uje(),r=document.createRange(),o=document.getSelection(),s=document.createElement("span"),s.textContent=n,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(c){if(c.stopPropagation(),e.format)if(c.preventDefault(),typeof c.clipboardData>"u"){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();const d=mj[e.format]||mj.default;window.clipboardData.setData(d,n)}else c.clipboardData.clearData(),c.clipboardData.setData(e.format,n);e.onCopy&&(c.preventDefault(),e.onCopy(c.clipboardData))}),document.body.appendChild(s),r.selectNodeContents(s),o.addRange(r),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");a=!0}catch(u){l&&console.error("unable to copy using execCommand: ",u),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),a=!0}catch(c){l&&console.error("unable to copy using clipboardData: ",c),l&&console.error("falling back to prompt"),t=Kje("message"in e?e.message:Gje),window.prompt(t,n)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(r):o.removeAllRanges()),s&&document.body.removeChild(s),i()}return a}var qje=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Yje=GV("webkitLineClamp"),Xje=GV("textOverflow"),vj="...",xw=()=>({editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}),Zje=Ie({compatConfig:{MODE:3},name:"Base",inheritAttrs:!1,props:xw(),setup(n,e){let{slots:t,attrs:i,emit:r}=e;const{prefixCls:o,direction:s}=Wt("typography",n),a=pi({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),l=ke(),u=ke(),c=V(()=>{const k=n.ellipsis;return k?A({rows:1,expandable:!1},typeof k=="object"?k:null):{}});Vt(()=>{a.clientRendered=!0}),fn(()=>{clearTimeout(a.copyId),Dt.cancel(a.rafId)}),Ve([()=>c.value.rows,()=>n.content],()=>{kn(()=>{w()})},{flush:"post",deep:!0,immediate:!0}),Ut(()=>{n.content===void 0&&(uu(!n.editable),uu(!n.ellipsis))});function d(){var k;return n.ellipsis||n.editable?n.content:(k=Ka(l.value))===null||k===void 0?void 0:k.innerText}function h(k){const{onExpand:O}=c.value;a.expanded=!0,O==null||O(k)}function f(k){k.preventDefault(),a.originContent=n.content,S(!0)}function g(k){p(k),S(!1)}function p(k){const{onChange:O}=y.value;k!==n.content&&(r("update:content",k),O==null||O(k))}function m(){var k,O;(O=(k=y.value).onCancel)===null||O===void 0||O.call(k),S(!1)}function v(k){k.preventDefault(),k.stopPropagation();const{copyable:O}=n,F=A({},typeof O=="object"?O:null);F.text===void 0&&(F.text=d()),jje(F.text||""),a.copied=!0,kn(()=>{F.onCopy&&F.onCopy(k),a.copyId=setTimeout(()=>{a.copied=!1},3e3)})}const y=V(()=>{const k=n.editable;return k?A({},typeof k=="object"?k:null):{editing:!1}}),[_,b]=ny(!1,{value:V(()=>y.value.editing)});function S(k){const{onStart:O}=y.value;k&&O&&O(),b(k)}Ve(_,k=>{var O;k||(O=u.value)===null||O===void 0||O.focus()},{flush:"post"});function w(){Dt.cancel(a.rafId),a.rafId=Dt(()=>{x()})}const C=V(()=>{const{rows:k,expandable:O,suffix:F,onEllipsis:R,tooltip:$}=c.value;return F||$||n.editable||n.copyable||O||R?!1:k===1?Xje:Yje}),x=()=>{const{ellipsisText:k,isEllipsis:O}=a,{rows:F,suffix:R,onEllipsis:$}=c.value;if(!F||F<0||!Ka(l.value)||a.expanded||n.content===void 0||C.value)return;const{content:H,text:U,ellipsis:z}=$je(Ka(l.value),{rows:F,suffix:R},n.content,P(!0),vj);(k!==U||a.isEllipsis!==z)&&(a.ellipsisText=U,a.ellipsisContent=H,a.isEllipsis=z,O!==z&&$&&$(z))};function L(k,O){let{mark:F,code:R,underline:$,delete:H,strong:U,keyboard:z}=k,Z=O;function X(ce,q){if(!ce)return;const j=function(){return Z}();Z=N(q,null,{default:()=>[j]})}return X(U,"strong"),X($,"u"),X(H,"del"),X(R,"code"),X(F,"mark"),X(z,"kbd"),Z}function T(k){const{expandable:O,symbol:F}=c.value;if(!O||!k&&(a.expanded||!a.isEllipsis))return null;const R=(t.ellipsisSymbol?t.ellipsisSymbol():F)||a.expandStr;return N("a",{key:"expand",class:`${o.value}-expand`,onClick:h,"aria-label":a.expandStr},[R])}function I(){if(!n.editable)return;const{tooltip:k,triggerType:O=["icon"]}=n.editable,F=t.editableIcon?t.editableIcon():N(y9e,{role:"button"},null),R=t.editableTooltip?t.editableTooltip():a.editStr,$=typeof R=="string"?R:"";return O.indexOf("icon")!==-1?N(nb,{key:"edit",title:k===!1?"":R},{default:()=>[N(jK,{ref:u,class:`${o.value}-edit`,onClick:f,"aria-label":$},{default:()=>[F]})]}):null}function D(){if(!n.copyable)return;const{tooltip:k}=n.copyable,O=a.copied?a.copiedStr:a.copyStr,F=t.copyableTooltip?t.copyableTooltip({copied:a.copied}):O,R=typeof F=="string"?F:"",$=a.copied?N(Kae,null,null):N(l9e,null,null),H=t.copyableIcon?t.copyableIcon({copied:!!a.copied}):$;return N(nb,{key:"copy",title:k===!1?"":F},{default:()=>[N(jK,{class:[`${o.value}-copy`,{[`${o.value}-copy-success`]:a.copied}],onClick:v,"aria-label":R},{default:()=>[H]})]})}function M(){const{class:k,style:O}=i,{maxlength:F,autoSize:R,onEnd:$}=y.value;return N(Pje,{class:k,style:O,prefixCls:o.value,value:n.content,originContent:a.originContent,maxlength:F,autoSize:R,onSave:g,onChange:p,onCancel:m,onEnd:$,direction:s.value,component:n.component},{enterIcon:t.editableEnterIcon})}function P(k){return[T(k),I(),D()].filter(O=>O)}return()=>{var k;const{triggerType:O=["icon"]}=y.value,F=n.ellipsis||n.editable?n.content!==void 0?n.content:(k=t.default)===null||k===void 0?void 0:k.call(t):t.default?t.default():n.content;return _.value?M():N(fse,{componentName:"Text",children:R=>{const $=A(A({},n),i),{type:H,disabled:U,content:z,class:Z,style:X}=$,ce=qje($,["type","disabled","content","class","style"]),{rows:q,suffix:j,tooltip:ie}=c.value,{edit:Q,copy:le,copied:ue,expand:W}=R;a.editStr=Q,a.copyStr=le,a.copiedStr=ue,a.expandStr=W;const G=jn(ce,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),K=C.value,de=q===1&&K,Y=q&&q>1&&K;let oe=F,te;if(q&&a.isEllipsis&&!a.expanded&&!K){const{title:pe}=ce;let Ce=pe||"";!pe&&(typeof F=="string"||typeof F=="number")&&(Ce=String(F)),Ce=Ce==null?void 0:Ce.slice(String(a.ellipsisContent||"").length),oe=N($t,null,[Rt(a.ellipsisContent),N("span",{title:Ce,"aria-hidden":"true"},[vj]),j])}else oe=N($t,null,[F,j]);oe=L(n,oe);const J=ie&&q&&a.isEllipsis&&!a.expanded&&!K,he=t.ellipsisTooltip?t.ellipsisTooltip():ie;return N(Tc,{onResize:w,disabled:!q},{default:()=>[N(ls,se({ref:l,class:[{[`${o.value}-${H}`]:H,[`${o.value}-disabled`]:U,[`${o.value}-ellipsis`]:q,[`${o.value}-single-line`]:q===1&&!a.isEllipsis,[`${o.value}-ellipsis-single-line`]:de,[`${o.value}-ellipsis-multiple-line`]:Y},Z],style:A(A({},X),{WebkitLineClamp:Y?q:void 0}),"aria-label":te,direction:s.value,onClick:O.indexOf("text")!==-1?f:()=>{}},G),{default:()=>[J?N(nb,{title:ie===!0?F:he},{default:()=>[N("span",null,[oe])]}):oe,P()]})]})}},null)}}}),Lw=Zje;var Qje=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const Jje=()=>jn(A(A({},xw()),{ellipsis:{type:Boolean,default:void 0}}),["component"]),jE=(n,e)=>{let{slots:t,attrs:i}=e;const r=A(A({},n),i),{ellipsis:o,rel:s}=r,a=Qje(r,["ellipsis","rel"]);uu();const l=A(A({},a),{rel:s===void 0&&a.target==="_blank"?"noopener noreferrer":s,ellipsis:!!o,component:"a"});return delete l.navigate,N(Lw,l,t)};jE.displayName="ATypographyLink";jE.inheritAttrs=!1;jE.props=Jje();const Hue=jE,eqe=()=>jn(xw(),["component"]),qE=(n,e)=>{let{slots:t,attrs:i}=e;const r=A(A(A({},n),{component:"div"}),i);return N(Lw,r,t)};qE.displayName="ATypographyParagraph";qE.inheritAttrs=!1;qE.props=eqe();const gW=qE,tqe=()=>A(A({},jn(xw(),["component"])),{ellipsis:{type:[Boolean,Object],default:void 0}}),YE=(n,e)=>{let{slots:t,attrs:i}=e;const{ellipsis:r}=n;uu();const o=A(A(A({},n),{ellipsis:r&&typeof r=="object"?jn(r,["expandable","rows"]):r,component:"span"}),i);return N(Lw,o,t)};YE.displayName="ATypographyText";YE.inheritAttrs=!1;YE.props=tqe();const Uue=YE;var nqe=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};const iqe=sOe(1,2,3,4,5),rqe=()=>A(A({},jn(xw(),["component","strong"])),{level:Number}),XE=(n,e)=>{let{slots:t,attrs:i}=e;const{level:r=1}=n,o=nqe(n,["level"]);let s;iqe.includes(r)?s=`h${r}`:(uu(),s="h1");const a=A(A(A({},o),{component:s}),i);return N(Lw,a,t)};XE.displayName="ATypographyTitle";XE.inheritAttrs=!1;XE.props=rqe();const Gue=XE;ls.Text=Uue;ls.Title=Gue;ls.Paragraph=gW;ls.Link=Hue;ls.Base=Lw;ls.install=function(n){return n.component(ls.name,ls),n.component(ls.Text.displayName,Uue),n.component(ls.Title.displayName,Gue),n.component(ls.Paragraph.displayName,gW),n.component(ls.Link.displayName,Hue),n};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var P5=function(n,e){return P5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},P5(n,e)};function re(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");P5(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var oqe=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),sqe=function(){function n(){this.browser=new oqe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),vf=new sqe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(vf.wxa=!0,vf.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?vf.worker=!0:typeof navigator>"u"?(vf.node=!0,vf.svgSupported=!0):aqe(navigator.userAgent,vf);function aqe(n,e){var t=e.browser,i=n.match(/Firefox\/([\d.]+)/),r=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);i&&(t.firefox=!0,t.version=i[1]),r&&(t.ie=!0,t.version=r[1]),o&&(t.edge=!0,t.version=o[1],t.newEdge=+o[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var a=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in a||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in a)&&!("OTransition"in a),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Yt=vf;var pW=12,Kue="sans-serif",ph=pW+"px "+Kue,lqe=20,uqe=100,cqe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function dqe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var i=String.fromCharCode(t+32),r=(n.charCodeAt(t)-lqe)/uqe;e[i]=r}return e}var hqe=dqe(cqe),mh={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,i){if(!n){var r=mh.createCanvas();n=r&&r.getContext("2d")}if(n)return e!==i&&(e=n.font=i||ph),n.measureText(t);t=t||"",i=i||ph;var o=/(\d+)px/.exec(i),s=o&&+o[1]||pW,a=0;if(i.indexOf("mono")>=0)a=s*t.length;else for(var l=0;l<t.length;l++){var u=hqe[t[l]];a+=u==null?s:u*s}return{width:a}}}(),loadImage:function(n,e,t){var i=new Image;return i.onload=e,i.onerror=t,i.src=n,i}},jue=hu(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),que=hu(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),Py=Object.prototype.toString,ZE=Array.prototype,fqe=ZE.forEach,gqe=ZE.filter,mW=ZE.slice,pqe=ZE.map,yj=(function(){}).constructor,lC=yj?yj.prototype:null,vW="__proto__",mqe=2311;function Yue(){return mqe++}function yW(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function rt(n){if(n==null||typeof n!="object")return n;var e=n,t=Py.call(n);if(t==="[object Array]"){if(!ab(n)){e=[];for(var i=0,r=n.length;i<r;i++)e[i]=rt(n[i])}}else if(que[t]){if(!ab(n)){var o=n.constructor;if(o.from)e=o.from(n);else{e=new o(n.length);for(var i=0,r=n.length;i<r;i++)e[i]=n[i]}}}else if(!jue[t]&&!ab(n)&&!bS(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==vW&&(e[s]=rt(n[s]))}return e}function pt(n,e,t){if(!et(e)||!et(n))return t?rt(e):n;for(var i in e)if(e.hasOwnProperty(i)&&i!==vW){var r=n[i],o=e[i];et(o)&&et(r)&&!we(o)&&!we(r)&&!bS(o)&&!bS(r)&&!_j(o)&&!_j(r)&&!ab(o)&&!ab(r)?pt(r,o,t):(t||!(i in n))&&(n[i]=rt(e[i]))}return n}function _W(n,e){for(var t=n[0],i=1,r=n.length;i<r;i++)t=pt(t,n[i],e);return t}function be(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==vW&&(n[t]=e[t]);return n}function Qe(n,e,t){for(var i=Et(e),r=0;r<i.length;r++){var o=i[r];(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}return n}function Ct(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,i=n.length;t<i;t++)if(n[t]===e)return t}return-1}function vqe(n,e){var t=n.prototype;function i(){}i.prototype=e.prototype,n.prototype=new i;for(var r in t)t.hasOwnProperty(r)&&(n.prototype[r]=t[r]);n.prototype.constructor=n,n.superClass=e}function Hi(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];o!=="constructor"&&(t?e[o]!=null:n[o]==null)&&(n[o]=e[o])}else Qe(n,e,t)}function io(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function B(n,e,t){if(n&&e)if(n.forEach&&n.forEach===fqe)n.forEach(e,t);else if(n.length===+n.length)for(var i=0,r=n.length;i<r;i++)e.call(t,n[i],i,n);else for(var o in n)n.hasOwnProperty(o)&&e.call(t,n[o],o,n)}function Te(n,e,t){if(!n)return[];if(!e)return bW(n);if(n.map&&n.map===pqe)return n.map(e,t);for(var i=[],r=0,o=n.length;r<o;r++)i.push(e.call(t,n[r],r,n));return i}function hu(n,e,t,i){if(n&&e){for(var r=0,o=n.length;r<o;r++)t=e.call(i,t,n[r],r,n);return t}}function xn(n,e,t){if(!n)return[];if(!e)return bW(n);if(n.filter&&n.filter===gqe)return n.filter(e,t);for(var i=[],r=0,o=n.length;r<o;r++)e.call(t,n[r],r,n)&&i.push(n[r]);return i}function yqe(n,e,t){if(n&&e){for(var i=0,r=n.length;i<r;i++)if(e.call(t,n[i],i,n))return n[i]}}function Et(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function _qe(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return function(){return n.apply(e,t.concat(mW.call(arguments)))}}var We=lC&&qe(lC.bind)?lC.call.bind(lC.bind):_qe;function dt(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(mW.call(arguments)))}}function we(n){return Array.isArray?Array.isArray(n):Py.call(n)==="[object Array]"}function qe(n){return typeof n=="function"}function $e(n){return typeof n=="string"}function O5(n){return Py.call(n)==="[object String]"}function Jt(n){return typeof n=="number"}function et(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function _j(n){return!!jue[Py.call(n)]}function Ls(n){return!!que[Py.call(n)]}function bS(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function QE(n){return n.colorStops!=null}function bqe(n){return n.image!=null}function Sqe(n){return Py.call(n)==="[object RegExp]"}function SS(n){return n!==n}function Dr(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,i=n.length;t<i;t++)if(n[t]!=null)return n[t]}function gt(n,e){return n??e}function eu(n,e,t){return n??e??t}function bW(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return mW.apply(n,e)}function SW(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function xo(n,e){if(!n)throw new Error(e)}function ja(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Xue="__ec_primitive__";function gI(n){n[Xue]=!0}function ab(n){return n[Xue]}var wqe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Et(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)},n}(),Zue=typeof Map=="function";function Cqe(){return Zue?new Map:new wqe}var xqe=function(){function n(e){var t=we(e);this.data=Cqe();var i=this;e instanceof n?e.each(r):e&&B(e,r);function r(o,s){t?i.set(o,s):i.set(s,o)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(i,r){e.call(t,i,r)})},n.prototype.keys=function(){var e=this.data.keys();return Zue?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Ue(n){return new xqe(n)}function pI(n,e){for(var t=new n.constructor(n.length+e.length),i=0;i<n.length;i++)t[i]=n[i];for(var r=n.length,i=0;i<e.length;i++)t[i+r]=e[i];return t}function JE(n,e){var t;if(Object.create)t=Object.create(n);else{var i=function(){};i.prototype=n,t=new i}return e&&be(t,e),t}function Que(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function ze(n,e){return n.hasOwnProperty(e)}function Ni(){}var rL=180/Math.PI;function xp(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function fo(n,e){return n[0]=e[0],n[1]=e[1],n}function vc(n){return[n[0],n[1]]}function Lqe(n,e,t){return n[0]=e,n[1]=t,n}function bj(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function R5(n,e,t,i){return n[0]=e[0]+t[0]*i,n[1]=e[1]+t[1]*i,n}function Zf(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function B5(n){return Math.sqrt(Tqe(n))}function Tqe(n){return n[0]*n[0]+n[1]*n[1]}function oL(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function Oy(n,e){var t=B5(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function F5(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var Pd=F5;function Iqe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var yg=Iqe;function sL(n,e,t,i){return n[0]=e[0]+i*(t[0]-e[0]),n[1]=e[1]+i*(t[1]-e[1]),n}function Fr(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[2]*r+t[4],n[1]=t[1]*i+t[3]*r+t[5],n}function Od(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function Rd(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var Xp=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),Dqe=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Xp(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,r=e.offsetY,o=i-this._x,s=r-this._y;this._x=i,this._y=r,t.drift(o,s,e),this.handler.dispatchToElement(new Xp(t,e),"drag",e.event);var a=this.handler.findHover(i,r,t).target,l=this._dropTarget;this._dropTarget=a,t!==a&&(l&&a!==l&&this.handler.dispatchToElement(new Xp(l,e),"dragleave",e.event),a&&a!==l&&this.handler.dispatchToElement(new Xp(a,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Xp(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Xp(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const Eqe=Dqe;var Mqe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,i,r){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof t=="function"&&(r=i,i=t,t=null),!i||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),o[e]||(o[e]=[]);for(var a=0;a<o[e].length;a++)if(o[e][a].h===i)return this;var l={h:i,query:t,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},u=o[e].length-1,c=o[e][u];return c&&c.callAtLast?o[e].splice(u,0,l):o[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var r=[],o=0,s=i[e].length;o<s;o++)i[e][o].h!==t&&r.push(i[e][o]);i[e]=r}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},n.prototype.trigger=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var s=t.length,a=r.length,l=0;l<a;l++){var u=r[l];if(!(o&&o.filter&&u.query!=null&&!o.filter(e,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,t[0]);break;case 2:u.h.call(u.ctx,t[0],t[1]);break;default:u.h.apply(u.ctx,t);break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(!this._$handlers)return this;var r=this._$handlers[e],o=this._$eventProcessor;if(r)for(var s=t.length,a=t[s-1],l=r.length,u=0;u<l;u++){var c=r[u];if(!(o&&o.filter&&c.query!=null&&!o.filter(e,c.query)))switch(s){case 0:c.h.call(a);break;case 1:c.h.call(a,t[0]);break;case 2:c.h.call(a,t[0],t[1]);break;default:c.h.apply(a,t.slice(1,s-1));break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},n}();const ma=Mqe;var Aqe=Math.log(2);function $5(n,e,t,i,r,o){var s=i+"-"+r,a=n.length;if(o.hasOwnProperty(s))return o[s];if(e===1){var l=Math.round(Math.log((1<<a)-1&~r)/Aqe);return n[t][l]}for(var u=i|1<<t,c=t+1;i&1<<c;)c++;for(var d=0,h=0,f=0;h<a;h++){var g=1<<h;g&r||(d+=(f%2?-1:1)*n[t][h]*$5(n,e-1,c,u,r|g,o),f++)}return o[s]=d,d}function Sj(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],i={},r=$5(t,8,0,0,0,i);if(r!==0){for(var o=[],s=0;s<8;s++)for(var a=0;a<8;a++)o[a]==null&&(o[a]=0),o[a]+=((s+a)%2?-1:1)*$5(t,7,s===0?1:0,1<<s,1<<a,i)/r*e[s];return function(l,u,c){var d=u*o[6]+c*o[7]+1;l[0]=(u*o[0]+c*o[1]+o[2])/d,l[1]=(u*o[3]+c*o[4]+o[5])/d}}}var wj="___zrEVENTSAVED",dN=[];function Nqe(n,e,t,i,r){return V5(dN,e,i,r,!0)&&V5(n,t,dN[0],dN[1])}function V5(n,e,t,i,r){if(e.getBoundingClientRect&&Yt.domSupported&&!Jue(e)){var o=e[wj]||(e[wj]={}),s=kqe(e,o),a=Pqe(s,o,r);if(a)return a(n,t,i),!0}return!1}function kqe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var s=document.createElement("div"),a=s.style,l=o%2,u=(o>>1)%2;a.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[l]+":0",r[u]+":0",i[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return t}function Pqe(n,e,t){for(var i=t?"invTrans":"trans",r=e[i],o=e.srcCoords,s=[],a=[],l=!0,u=0;u<4;u++){var c=n[u].getBoundingClientRect(),d=2*u,h=c.left,f=c.top;s.push(h,f),l=l&&o&&h===o[d]&&f===o[d+1],a.push(n[u].offsetLeft,n[u].offsetTop)}return l&&r?r:(e.srcCoords=s,e[i]=t?Sj(a,s):Sj(s,a))}function Jue(n){return n.nodeName.toUpperCase()==="CANVAS"}var Oqe=/([&<>"'])/g,Rqe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Bo(n){return n==null?"":(n+"").replace(Oqe,function(e,t){return Rqe[t]})}var Bqe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,hN=[],Fqe=Yt.browser.firefox&&+Yt.browser.version.split(".")[0]<39;function W5(n,e,t,i){return t=t||{},i?Cj(n,e,t):Fqe&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):Cj(n,e,t),t}function Cj(n,e,t){if(Yt.domSupported&&n.getBoundingClientRect){var i=e.clientX,r=e.clientY;if(Jue(n)){var o=n.getBoundingClientRect();t.zrX=i-o.left,t.zrY=r-o.top;return}else if(V5(hN,n,i,r)){t.zrX=hN[0],t.zrY=hN[1];return}}t.zrX=t.zrY=0}function wW(n){return n||window.event}function zs(n,e,t){if(e=wW(e),e.zrX!=null)return e;var i=e.type,r=i&&i.indexOf("touch")>=0;if(r){var s=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&W5(n,s,e,t)}else{W5(n,e,e,t);var o=$qe(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var a=e.button;return e.which==null&&a!==void 0&&Bqe.test(e.type)&&(e.which=a&1?1:a&2?3:a&4?2:0),e}function $qe(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,i=n.deltaY;if(t==null||i==null)return e;var r=Math.abs(i!==0?i:t),o=i>0?-1:i<0?1:t>0?-1:1;return 3*r*o}function z5(n,e,t,i){n.addEventListener(e,t,i)}function Vqe(n,e,t,i){n.removeEventListener(e,t,i)}var Mc=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function xj(n){return n.which===2||n.which===3}var Wqe=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,i){var r=e.touches;if(r){for(var o={points:[],touches:[],target:t,event:e},s=0,a=r.length;s<a;s++){var l=r[s],u=W5(i,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},n.prototype._recognize=function(e){for(var t in fN)if(fN.hasOwnProperty(t)){var i=fN[t](this._track,e);if(i)return i}},n}();function Lj(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function zqe(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var fN={pinch:function(n,e){var t=n.length;if(t){var i=(n[t-1]||{}).points,r=(n[t-2]||{}).points||i;if(r&&r.length>1&&i&&i.length>1){var o=Lj(i)/Lj(r);!isFinite(o)&&(o=1),e.pinchScale=o;var s=zqe(i);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function ha(){return[1,0,0,1,0,0]}function eM(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function CW(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function yc(n,e,t){var i=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],a=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=l,n}function fu(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function Lp(n,e,t){var i=e[0],r=e[2],o=e[4],s=e[1],a=e[3],l=e[5],u=Math.sin(t),c=Math.cos(t);return n[0]=i*c+s*u,n[1]=-i*u+s*c,n[2]=r*c+a*u,n[3]=-r*u+c*a,n[4]=c*o+u*l,n[5]=c*l-u*o,n}function xW(n,e,t){var i=t[0],r=t[1];return n[0]=e[0]*i,n[1]=e[1]*r,n[2]=e[2]*i,n[3]=e[3]*r,n[4]=e[4]*i,n[5]=e[5]*r,n}function Ry(n,e){var t=e[0],i=e[2],r=e[4],o=e[1],s=e[3],a=e[5],l=t*s-o*i;return l?(l=1/l,n[0]=s*l,n[1]=-o*l,n[2]=-i*l,n[3]=t*l,n[4]=(i*a-s*r)*l,n[5]=(o*r-t*a)*l,n):null}function Hqe(n){var e=ha();return CW(e,n),e}var Uqe=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,i=this.y;return this.x=e[0]*t+e[2]*i+e[4],this.y=e[1]*t+e[3]*i+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,i){e.x=t,e.y=i},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,i){e.x=t.x+i.x,e.y=t.y+i.y},n.sub=function(e,t,i){e.x=t.x-i.x,e.y=t.y-i.y},n.scale=function(e,t,i){e.x=t.x*i,e.y=t.y*i},n.scaleAndAdd=function(e,t,i,r){e.x=t.x+i.x*r,e.y=t.y+i.y*r},n.lerp=function(e,t,i,r){var o=1-r;e.x=o*t.x+r*i.x,e.y=o*t.y+r*i.y},n}();const ft=Uqe;var uC=Math.min,cC=Math.max,Hh=new ft,Uh=new ft,Gh=new ft,Kh=new ft,w0=new ft,C0=new ft,Gqe=function(){function n(e,t,i,r){i<0&&(e=e+i,i=-i),r<0&&(t=t+r,r=-r),this.x=e,this.y=t,this.width=i,this.height=r}return n.prototype.union=function(e){var t=uC(e.x,this.x),i=uC(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=cC(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=cC(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=t,this.y=i},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,i=e.width/t.width,r=e.height/t.height,o=ha();return fu(o,o,[-t.x,-t.y]),xW(o,o,[i,r]),fu(o,o,[e.x,e.y]),o},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var i=this,r=i.x,o=i.x+i.width,s=i.y,a=i.y+i.height,l=e.x,u=e.x+e.width,c=e.y,d=e.y+e.height,h=!(o<l||u<r||a<c||d<s);if(t){var f=1/0,g=0,p=Math.abs(o-l),m=Math.abs(u-r),v=Math.abs(a-c),y=Math.abs(d-s),_=Math.min(p,m),b=Math.min(v,y);o<l||u<r?_>g&&(g=_,p<m?ft.set(C0,-p,0):ft.set(C0,m,0)):_<f&&(f=_,p<m?ft.set(w0,p,0):ft.set(w0,-m,0)),a<c||d<s?b>g&&(g=b,v<y?ft.set(C0,0,-v):ft.set(C0,0,y)):_<f&&(f=_,v<y?ft.set(w0,0,v):ft.set(w0,0,-y))}return t&&ft.copy(t,h?w0:C0),h},n.prototype.contain=function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,i){if(!i){e!==t&&n.copy(e,t);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],o=i[3],s=i[4],a=i[5];e.x=t.x*r+s,e.y=t.y*o+a,e.width=t.width*r,e.height=t.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Hh.x=Gh.x=t.x,Hh.y=Kh.y=t.y,Uh.x=Kh.x=t.x+t.width,Uh.y=Gh.y=t.y+t.height,Hh.transform(i),Kh.transform(i),Uh.transform(i),Gh.transform(i),e.x=uC(Hh.x,Uh.x,Gh.x,Kh.x),e.y=uC(Hh.y,Uh.y,Gh.y,Kh.y);var l=cC(Hh.x,Uh.x,Gh.x,Kh.x),u=cC(Hh.y,Uh.y,Gh.y,Kh.y);e.width=l-e.x,e.height=u-e.y},n}();const mt=Gqe;var ece="silent";function Kqe(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:jqe}}function jqe(){Mc(this.event)}var qqe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ma),x0=function(){function n(e,t){this.x=e,this.y=t}return n}(),Yqe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],gN=new mt(0,0,0,0),tce=function(n){re(e,n);function e(t,i,r,o,s){var a=n.call(this)||this;return a._hovered=new x0(0,0),a.storage=t,a.painter=i,a.painterRoot=o,a._pointerSize=s,r=r||new qqe,a.proxy=null,a.setHandlerProxy(r),a._draggingMgr=new Eqe(a),a}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(B(Yqe,function(i){t.on&&t.on(i,this[i],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var i=t.zrX,r=t.zrY,o=nce(this,i,r),s=this._hovered,a=s.target;a&&!a.__zr&&(s=this.findHover(s.x,s.y),a=s.target);var l=this._hovered=o?new x0(i,r):this.findHover(i,r),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),a&&u!==a&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),u&&u!==a&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var i=t.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new x0(0,0)},e.prototype.dispatch=function(t,i){var r=this[t];r&&r.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var i=this.proxy;i.setCursor&&i.setCursor(t)},e.prototype.dispatchToElement=function(t,i,r){t=t||{};var o=t.target;if(!(o&&o.silent)){for(var s="on"+i,a=Kqe(i,t,r);o&&(o[s]&&(a.cancelBubble=!!o[s].call(o,a)),o.trigger(i,a),o=o.__hostTarget?o.__hostTarget:o.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(i,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,a),l.trigger&&l.trigger(i,a)}))}},e.prototype.findHover=function(t,i,r){var o=this.storage.getDisplayList(),s=new x0(t,i);if(Tj(o,s,t,i,r),this._pointerSize&&!s.target){for(var a=[],l=this._pointerSize,u=l/2,c=new mt(t-u,i-u,l,l),d=o.length-1;d>=0;d--){var h=o[d];h!==r&&!h.ignore&&!h.ignoreCoarsePointer&&(!h.parent||!h.parent.ignoreCoarsePointer)&&(gN.copy(h.getBoundingRect()),h.transform&&gN.applyTransform(h.transform),gN.intersect(c)&&a.push(h))}if(a.length)for(var f=4,g=Math.PI/12,p=Math.PI*2,m=0;m<u;m+=f)for(var v=0;v<p;v+=g){var y=t+m*Math.cos(v),_=i+m*Math.sin(v);if(Tj(a,s,y,_,r),s.target)return s}}return s},e.prototype.processGesture=function(t,i){this._gestureMgr||(this._gestureMgr=new Wqe);var r=this._gestureMgr;i==="start"&&r.clear();var o=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(i==="end"&&r.clear(),o){var s=o.type;t.gestureEvent=s;var a=new x0;a.target=o.target,this.dispatchToElement(a,s,o.event)}},e}(ma);B(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){tce.prototype[n]=function(e){var t=e.zrX,i=e.zrY,r=nce(this,t,i),o,s;if((n!=="mouseup"||!r)&&(o=this.findHover(t,i),s=o.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||Pd(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,e)}});function Xqe(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var i=n,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var s=i.getClipPath();if(s&&!s.contain(e,t))return!1;i.silent&&(r=!0)}var a=i.__hostTarget;i=a||i.parent}return r?ece:!0}return!1}function Tj(n,e,t,i,r){for(var o=n.length-1;o>=0;o--){var s=n[o],a=void 0;if(s!==r&&!s.ignore&&(a=Xqe(s,t,i))&&(!e.topTarget&&(e.topTarget=s),a!==ece)){e.target=s;break}}}function nce(n,e,t){var i=n.painter;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}const Zqe=tce;var ice=32,L0=7;function Qqe(n){for(var e=0;n>=ice;)e|=n&1,n>>=1;return n+e}function Ij(n,e,t,i){var r=e+1;if(r===t)return 1;if(i(n[r++],n[e])<0){for(;r<t&&i(n[r],n[r-1])<0;)r++;Jqe(n,e,r)}else for(;r<t&&i(n[r],n[r-1])>=0;)r++;return r-e}function Jqe(n,e,t){for(t--;e<t;){var i=n[e];n[e++]=n[t],n[t--]=i}}function Dj(n,e,t,i,r){for(i===e&&i++;i<t;i++){for(var o=n[i],s=e,a=i,l;s<a;)l=s+a>>>1,r(o,n[l])<0?a=l:s=l+1;var u=i-s;switch(u){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;u>0;)n[s+u]=n[s+u-1],u--}n[s]=o}}function pN(n,e,t,i,r,o){var s=0,a=0,l=1;if(o(n,e[t+r])>0){for(a=i-r;l<a&&o(n,e[t+r+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}else{for(a=r+1;l<a&&o(n,e[t+r-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}for(s++;s<l;){var c=s+(l-s>>>1);o(n,e[t+c])>0?s=c+1:l=c}return l}function mN(n,e,t,i,r,o){var s=0,a=0,l=1;if(o(n,e[t+r])<0){for(a=r+1;l<a&&o(n,e[t+r-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=a);l>a&&(l=a);var u=s;s=r-l,l=r-u}else{for(a=i-r;l<a&&o(n,e[t+r+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=a);l>a&&(l=a),s+=r,l+=r}for(s++;s<l;){var c=s+(l-s>>>1);o(n,e[t+c])<0?l=c:s=c+1}return l}function eYe(n,e){var t=L0,i,r,o=0;n.length;var s=[];i=[],r=[];function a(f,g){i[o]=f,r[o]=g,o+=1}function l(){for(;o>1;){var f=o-2;if(f>=1&&r[f-1]<=r[f]+r[f+1]||f>=2&&r[f-2]<=r[f]+r[f-1])r[f-1]<r[f+1]&&f--;else if(r[f]>r[f+1])break;c(f)}}function u(){for(;o>1;){var f=o-2;f>0&&r[f-1]<r[f+1]&&f--,c(f)}}function c(f){var g=i[f],p=r[f],m=i[f+1],v=r[f+1];r[f]=p+v,f===o-3&&(i[f+1]=i[f+2],r[f+1]=r[f+2]),o--;var y=mN(n[m],n,g,p,0,e);g+=y,p-=y,p!==0&&(v=pN(n[g+p-1],n,m,v,v-1,e),v!==0&&(p<=v?d(g,p,m,v):h(g,p,m,v)))}function d(f,g,p,m){var v=0;for(v=0;v<g;v++)s[v]=n[f+v];var y=0,_=p,b=f;if(n[b++]=n[_++],--m===0){for(v=0;v<g;v++)n[b+v]=s[y+v];return}if(g===1){for(v=0;v<m;v++)n[b+v]=n[_+v];n[b+m]=s[y];return}for(var S=t,w,C,x;;){w=0,C=0,x=!1;do if(e(n[_],s[y])<0){if(n[b++]=n[_++],C++,w=0,--m===0){x=!0;break}}else if(n[b++]=s[y++],w++,C=0,--g===1){x=!0;break}while((w|C)<S);if(x)break;do{if(w=mN(n[_],s,y,g,0,e),w!==0){for(v=0;v<w;v++)n[b+v]=s[y+v];if(b+=w,y+=w,g-=w,g<=1){x=!0;break}}if(n[b++]=n[_++],--m===0){x=!0;break}if(C=pN(s[y],n,_,m,0,e),C!==0){for(v=0;v<C;v++)n[b+v]=n[_+v];if(b+=C,_+=C,m-=C,m===0){x=!0;break}}if(n[b++]=s[y++],--g===1){x=!0;break}S--}while(w>=L0||C>=L0);if(x)break;S<0&&(S=0),S+=2}if(t=S,t<1&&(t=1),g===1){for(v=0;v<m;v++)n[b+v]=n[_+v];n[b+m]=s[y]}else{if(g===0)throw new Error;for(v=0;v<g;v++)n[b+v]=s[y+v]}}function h(f,g,p,m){var v=0;for(v=0;v<m;v++)s[v]=n[p+v];var y=f+g-1,_=m-1,b=p+m-1,S=0,w=0;if(n[b--]=n[y--],--g===0){for(S=b-(m-1),v=0;v<m;v++)n[S+v]=s[v];return}if(m===1){for(b-=g,y-=g,w=b+1,S=y+1,v=g-1;v>=0;v--)n[w+v]=n[S+v];n[b]=s[_];return}for(var C=t;;){var x=0,L=0,T=!1;do if(e(s[_],n[y])<0){if(n[b--]=n[y--],x++,L=0,--g===0){T=!0;break}}else if(n[b--]=s[_--],L++,x=0,--m===1){T=!0;break}while((x|L)<C);if(T)break;do{if(x=g-mN(s[_],n,f,g,g-1,e),x!==0){for(b-=x,y-=x,g-=x,w=b+1,S=y+1,v=x-1;v>=0;v--)n[w+v]=n[S+v];if(g===0){T=!0;break}}if(n[b--]=s[_--],--m===1){T=!0;break}if(L=m-pN(n[y],s,0,m,m-1,e),L!==0){for(b-=L,_-=L,m-=L,w=b+1,S=_+1,v=0;v<L;v++)n[w+v]=s[S+v];if(m<=1){T=!0;break}}if(n[b--]=n[y--],--g===0){T=!0;break}C--}while(x>=L0||L>=L0);if(T)break;C<0&&(C=0),C+=2}if(t=C,t<1&&(t=1),m===1){for(b-=g,y-=g,w=b+1,S=y+1,v=g-1;v>=0;v--)n[w+v]=n[S+v];n[b]=s[_]}else{if(m===0)throw new Error;for(S=b-(m-1),v=0;v<m;v++)n[S+v]=s[v]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:a}}function aL(n,e,t,i){t||(t=0),i||(i=n.length);var r=i-t;if(!(r<2)){var o=0;if(r<ice){o=Ij(n,t,i,e),Dj(n,t,i,t+o,e);return}var s=eYe(n,e),a=Qqe(r);do{if(o=Ij(n,t,i,e),o<a){var l=r;l>a&&(l=a),Dj(n,t,t+l,t+o,e),o=l}s.pushRun(t,o),s.mergeRuns(),r-=o,t+=o}while(r!==0);s.forceMergeRuns()}}var hs=1,u_=2,Cm=4,Ej=!1;function vN(){Ej||(Ej=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Mj(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var tYe=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Mj}return n.prototype.traverse=function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(t),i},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,r=0,o=t.length;r<o;r++)this._updateAndAddDisplayable(t[r],null,e);i.length=this._displayListLen,aL(i,Mj)},n.prototype._updateAndAddDisplayable=function(e,t,i){if(!(e.ignore&&!i)){e.beforeUpdate(),e.update(),e.afterUpdate();var r=e.getClipPath();if(e.ignoreClip)t=null;else if(r){t?t=t.slice():t=[];for(var o=r,s=e;o;)o.parent=s,o.updateTransform(),t.push(o),s=o,o=o.getClipPath()}if(e.childrenRef){for(var a=e.childrenRef(),l=0;l<a.length;l++){var u=a[l];e.__dirty&&(u.__dirty|=hs),this._updateAndAddDisplayable(u,t,i)}e.__dirty=0}else{var c=e;t&&t.length?c.__clipPaths=t:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(vN(),c.z=0),isNaN(c.z2)&&(vN(),c.z2=0),isNaN(c.zlevel)&&(vN(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,i);var h=e.getTextGuideLine();h&&this._updateAndAddDisplayable(h,t,i);var f=e.getTextContent();f&&this._updateAndAddDisplayable(f,t,i)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,i=e.length;t<i;t++)this.delRoot(e[t]);return}var r=Ct(this._roots,e);r>=0&&this._roots.splice(r,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const nYe=tYe;var rce;rce=Yt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const H5=rce;var lL={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)))},elasticOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/i)+1)},elasticInOut:function(n){var e,t=.1,i=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=i/4):e=i*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/i)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-lL.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?lL.bounceIn(n*2)*.5:lL.bounceOut(n*2-1)*.5+.5}};const oce=lL;var dC=Math.pow,eh=Math.sqrt,mI=1e-8,sce=1e-4,Aj=eh(3),hC=1/3,Hl=xp(),js=xp(),Sv=xp();function Bd(n){return n>-mI&&n<mI}function ace(n){return n>mI||n<-mI}function hr(n,e,t,i,r){var o=1-r;return o*o*(o*n+3*r*e)+r*r*(r*i+3*o*t)}function Nj(n,e,t,i,r){var o=1-r;return 3*(((e-n)*o+2*(t-e)*r)*o+(i-t)*r*r)}function vI(n,e,t,i,r,o){var s=i+3*(e-t)-n,a=3*(t-e*2+n),l=3*(e-n),u=n-r,c=a*a-3*s*l,d=a*l-9*s*u,h=l*l-3*a*u,f=0;if(Bd(c)&&Bd(d))if(Bd(a))o[0]=0;else{var g=-l/a;g>=0&&g<=1&&(o[f++]=g)}else{var p=d*d-4*c*h;if(Bd(p)){var m=d/c,g=-a/s+m,v=-m/2;g>=0&&g<=1&&(o[f++]=g),v>=0&&v<=1&&(o[f++]=v)}else if(p>0){var y=eh(p),_=c*a+1.5*s*(-d+y),b=c*a+1.5*s*(-d-y);_<0?_=-dC(-_,hC):_=dC(_,hC),b<0?b=-dC(-b,hC):b=dC(b,hC);var g=(-a-(_+b))/(3*s);g>=0&&g<=1&&(o[f++]=g)}else{var S=(2*c*a-3*s*d)/(2*eh(c*c*c)),w=Math.acos(S)/3,C=eh(c),x=Math.cos(w),g=(-a-2*C*x)/(3*s),v=(-a+C*(x+Aj*Math.sin(w)))/(3*s),L=(-a+C*(x-Aj*Math.sin(w)))/(3*s);g>=0&&g<=1&&(o[f++]=g),v>=0&&v<=1&&(o[f++]=v),L>=0&&L<=1&&(o[f++]=L)}}return f}function lce(n,e,t,i,r){var o=6*t-12*e+6*n,s=9*e+3*i-3*n-9*t,a=3*e-3*n,l=0;if(Bd(s)){if(ace(o)){var u=-a/o;u>=0&&u<=1&&(r[l++]=u)}}else{var c=o*o-4*s*a;if(Bd(c))r[0]=-o/(2*s);else if(c>0){var d=eh(c),u=(-o+d)/(2*s),h=(-o-d)/(2*s);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function vh(n,e,t,i,r,o){var s=(e-n)*r+n,a=(t-e)*r+e,l=(i-t)*r+t,u=(a-s)*r+s,c=(l-a)*r+a,d=(c-u)*r+u;o[0]=n,o[1]=s,o[2]=u,o[3]=d,o[4]=d,o[5]=c,o[6]=l,o[7]=i}function uce(n,e,t,i,r,o,s,a,l,u,c){var d,h=.005,f=1/0,g,p,m,v;Hl[0]=l,Hl[1]=u;for(var y=0;y<1;y+=.05)js[0]=hr(n,t,r,s,y),js[1]=hr(e,i,o,a,y),m=yg(Hl,js),m<f&&(d=y,f=m);f=1/0;for(var _=0;_<32&&!(h<sce);_++)g=d-h,p=d+h,js[0]=hr(n,t,r,s,g),js[1]=hr(e,i,o,a,g),m=yg(js,Hl),g>=0&&m<f?(d=g,f=m):(Sv[0]=hr(n,t,r,s,p),Sv[1]=hr(e,i,o,a,p),v=yg(Sv,Hl),p<=1&&v<f?(d=p,f=v):h*=.5);return c&&(c[0]=hr(n,t,r,s,d),c[1]=hr(e,i,o,a,d)),eh(f)}function iYe(n,e,t,i,r,o,s,a,l){for(var u=n,c=e,d=0,h=1/l,f=1;f<=l;f++){var g=f*h,p=hr(n,t,r,s,g),m=hr(e,i,o,a,g),v=p-u,y=m-c;d+=Math.sqrt(v*v+y*y),u=p,c=m}return d}function xr(n,e,t,i){var r=1-i;return r*(r*n+2*i*e)+i*i*t}function U5(n,e,t,i){return 2*((1-i)*(e-n)+i*(t-e))}function rYe(n,e,t,i,r){var o=n-2*e+t,s=2*(e-n),a=n-i,l=0;if(Bd(o)){if(ace(s)){var u=-a/s;u>=0&&u<=1&&(r[l++]=u)}}else{var c=s*s-4*o*a;if(Bd(c)){var u=-s/(2*o);u>=0&&u<=1&&(r[l++]=u)}else if(c>0){var d=eh(c),u=(-s+d)/(2*o),h=(-s-d)/(2*o);u>=0&&u<=1&&(r[l++]=u),h>=0&&h<=1&&(r[l++]=h)}}return l}function cce(n,e,t){var i=n+t-2*e;return i===0?.5:(n-e)/i}function wS(n,e,t,i,r){var o=(e-n)*i+n,s=(t-e)*i+e,a=(s-o)*i+o;r[0]=n,r[1]=o,r[2]=a,r[3]=a,r[4]=s,r[5]=t}function dce(n,e,t,i,r,o,s,a,l){var u,c=.005,d=1/0;Hl[0]=s,Hl[1]=a;for(var h=0;h<1;h+=.05){js[0]=xr(n,t,r,h),js[1]=xr(e,i,o,h);var f=yg(Hl,js);f<d&&(u=h,d=f)}d=1/0;for(var g=0;g<32&&!(c<sce);g++){var p=u-c,m=u+c;js[0]=xr(n,t,r,p),js[1]=xr(e,i,o,p);var f=yg(js,Hl);if(p>=0&&f<d)u=p,d=f;else{Sv[0]=xr(n,t,r,m),Sv[1]=xr(e,i,o,m);var v=yg(Sv,Hl);m<=1&&v<d?(u=m,d=v):c*=.5}}return l&&(l[0]=xr(n,t,r,u),l[1]=xr(e,i,o,u)),eh(d)}function oYe(n,e,t,i,r,o,s){for(var a=n,l=e,u=0,c=1/s,d=1;d<=s;d++){var h=d*c,f=xr(n,t,r,h),g=xr(e,i,o,h),p=f-a,m=g-l;u+=Math.sqrt(p*p+m*m),a=f,l=g}return u}var sYe=/cubic-bezier\(([0-9,\.e ]+)\)/;function LW(n){var e=n&&sYe.exec(n);if(e){var t=e[1].split(","),i=+ja(t[0]),r=+ja(t[1]),o=+ja(t[2]),s=+ja(t[3]);if(isNaN(i+r+o+s))return;var a=[];return function(l){return l<=0?0:l>=1?1:vI(0,i,o,1,l,a)&&hr(0,r,s,1,a[0])}}}var aYe=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ni,this.ondestroy=e.ondestroy||Ni,this.onrestart=e.onrestart||Ni,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var i=this._life,r=e-this._startTime-this._pausedTime,o=r/i;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,a=s?s(o):o;if(this.onframe(a),o===1)if(this.loop){var l=r%i;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=qe(e)?e:oce[e]||LW(e)},n}();const lYe=aYe;var hce=function(){function n(e){this.value=e}return n}(),uYe=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new hce(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),cYe=function(){function n(e){this._list=new uYe,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var i=this._list,r=this._map,o=null;if(r[e]==null){var s=i.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=i.head;i.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}a?a.value=t:a=new hce(t),a.key=e,i.insertEntry(a),r[e]=a}return o},n.prototype.get=function(e){var t=this._map[e],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const Tw=cYe;var kj={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tl(n){return n=Math.round(n),n<0?0:n>255?255:n}function dYe(n){return n=Math.round(n),n<0?0:n>360?360:n}function CS(n){return n<0?0:n>1?1:n}function yN(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?tl(parseFloat(e)/100*255):tl(parseInt(e,10))}function _g(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?CS(parseFloat(e)/100):CS(parseFloat(e))}function _N(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function Fd(n,e,t){return n+(e-n)*t}function Vs(n,e,t,i,r){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n}function G5(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var fce=new Tw(20),fC=null;function Zp(n,e){fC&&G5(fC,e),fC=fce.put(n,fC||e.slice())}function ys(n,e){if(n){e=e||[];var t=fce.get(n);if(t)return G5(e,t);n=n+"";var i=n.replace(/ /g,"").toLowerCase();if(i in kj)return G5(e,kj[i]),Zp(n,e),e;var r=i.length;if(i.charAt(0)==="#"){if(r===4||r===5){var o=parseInt(i.slice(1,4),16);if(!(o>=0&&o<=4095)){Vs(e,0,0,0,1);return}return Vs(e,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,r===5?parseInt(i.slice(4),16)/15:1),Zp(n,e),e}else if(r===7||r===9){var o=parseInt(i.slice(1,7),16);if(!(o>=0&&o<=16777215)){Vs(e,0,0,0,1);return}return Vs(e,(o&16711680)>>16,(o&65280)>>8,o&255,r===9?parseInt(i.slice(7),16)/255:1),Zp(n,e),e}return}var s=i.indexOf("("),a=i.indexOf(")");if(s!==-1&&a+1===r){var l=i.substr(0,s),u=i.substr(s+1,a-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Vs(e,+u[0],+u[1],+u[2],1):Vs(e,0,0,0,1);c=_g(u.pop());case"rgb":if(u.length>=3)return Vs(e,yN(u[0]),yN(u[1]),yN(u[2]),u.length===3?c:_g(u[3])),Zp(n,e),e;Vs(e,0,0,0,1);return;case"hsla":if(u.length!==4){Vs(e,0,0,0,1);return}return u[3]=_g(u[3]),K5(u,e),Zp(n,e),e;case"hsl":if(u.length!==3){Vs(e,0,0,0,1);return}return K5(u,e),Zp(n,e),e;default:return}}Vs(e,0,0,0,1)}}function K5(n,e){var t=(parseFloat(n[0])%360+360)%360/360,i=_g(n[1]),r=_g(n[2]),o=r<=.5?r*(i+1):r+i-r*i,s=r*2-o;return e=e||[],Vs(e,tl(_N(s,o,t+1/3)*255),tl(_N(s,o,t)*255),tl(_N(s,o,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function hYe(n){if(n){var e=n[0]/255,t=n[1]/255,i=n[2]/255,r=Math.min(e,t,i),o=Math.max(e,t,i),s=o-r,a=(o+r)/2,l,u;if(s===0)l=0,u=0;else{a<.5?u=s/(o+r):u=s/(2-o-r);var c=((o-e)/6+s/2)/s,d=((o-t)/6+s/2)/s,h=((o-i)/6+s/2)/s;e===o?l=h-d:t===o?l=1/3+c-h:i===o&&(l=2/3+d-c),l<0&&(l+=1),l>1&&(l-=1)}var f=[l*360,u,a];return n[3]!=null&&f.push(n[3]),f}}function j5(n,e){var t=ys(n);if(t){for(var i=0;i<3;i++)e<0?t[i]=t[i]*(1-e)|0:t[i]=(255-t[i])*e+t[i]|0,t[i]>255?t[i]=255:t[i]<0&&(t[i]=0);return _c(t,t.length===4?"rgba":"rgb")}}function bN(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){t=t||[];var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),s=e[r],a=e[o],l=i-r;return t[0]=tl(Fd(s[0],a[0],l)),t[1]=tl(Fd(s[1],a[1],l)),t[2]=tl(Fd(s[2],a[2],l)),t[3]=CS(Fd(s[3],a[3],l)),t}}function fYe(n,e,t){if(!(!(e&&e.length)||!(n>=0&&n<=1))){var i=n*(e.length-1),r=Math.floor(i),o=Math.ceil(i),s=ys(e[r]),a=ys(e[o]),l=i-r,u=_c([tl(Fd(s[0],a[0],l)),tl(Fd(s[1],a[1],l)),tl(Fd(s[2],a[2],l)),CS(Fd(s[3],a[3],l))],"rgba");return t?{color:u,leftIndex:r,rightIndex:o,value:i}:u}}function lb(n,e,t,i){var r=ys(n);if(n)return r=hYe(r),e!=null&&(r[0]=dYe(e)),t!=null&&(r[1]=_g(t)),i!=null&&(r[2]=_g(i)),_c(K5(r),"rgba")}function yI(n,e){var t=ys(n);if(t&&e!=null)return t[3]=CS(e),_c(t,"rgba")}function _c(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function _I(n,e){var t=ys(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}var bI=Math.round;function xS(n){var e;if(!n||n==="transparent")n="none";else if(typeof n=="string"&&n.indexOf("rgba")>-1){var t=ys(n);t&&(n="rgb("+t[0]+","+t[1]+","+t[2]+")",e=t[3])}return{color:n,opacity:e??1}}var Pj=1e-4;function $d(n){return n<Pj&&n>-Pj}function gC(n){return bI(n*1e3)/1e3}function q5(n){return bI(n*1e4)/1e4}function gYe(n){return"matrix("+gC(n[0])+","+gC(n[1])+","+gC(n[2])+","+gC(n[3])+","+q5(n[4])+","+q5(n[5])+")"}var pYe={left:"start",right:"end",center:"middle",middle:"middle"};function mYe(n,e,t){return t==="top"?n+=e/2:t==="bottom"&&(n-=e/2),n}function vYe(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}function yYe(n){var e=n.style,t=n.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}function gce(n){return n&&!!n.image}function _Ye(n){return n&&!!n.svgElement}function TW(n){return gce(n)||_Ye(n)}function pce(n){return n.type==="linear"}function mce(n){return n.type==="radial"}function vce(n){return n&&(n.type==="linear"||n.type==="radial")}function tM(n){return"url(#"+n+")"}function yce(n){var e=n.getGlobalScale(),t=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function _ce(n){var e=n.x||0,t=n.y||0,i=(n.rotation||0)*rL,r=gt(n.scaleX,1),o=gt(n.scaleY,1),s=n.skewX||0,a=n.skewY||0,l=[];return(e||t)&&l.push("translate("+e+"px,"+t+"px)"),i&&l.push("rotate("+i+")"),(r!==1||o!==1)&&l.push("scale("+r+","+o+")"),(s||a)&&l.push("skew("+bI(s*rL)+"deg, "+bI(a*rL)+"deg)"),l.join(" ")}var bYe=function(){return Yt.hasGlobalWindow&&qe(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}}(),Y5=Array.prototype.slice;function ju(n,e,t){return(e-n)*t+n}function SN(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=ju(e[o],t[o],i);return n}function SYe(n,e,t,i){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){n[s]||(n[s]=[]);for(var a=0;a<o;a++)n[s][a]=ju(e[s][a],t[s][a],i)}return n}function pC(n,e,t,i){for(var r=e.length,o=0;o<r;o++)n[o]=e[o]+t[o]*i;return n}function Oj(n,e,t,i){for(var r=e.length,o=r&&e[0].length,s=0;s<r;s++){n[s]||(n[s]=[]);for(var a=0;a<o;a++)n[s][a]=e[s][a]+t[s][a]*i}return n}function wYe(n,e){for(var t=n.length,i=e.length,r=t>i?e:n,o=Math.min(t,i),s=r[o-1]||{color:[0,0,0,0],offset:0},a=o;a<Math.max(t,i);a++)r.push({offset:s.offset,color:s.color.slice()})}function CYe(n,e,t){var i=n,r=e;if(!(!i.push||!r.push)){var o=i.length,s=r.length;if(o!==s){var a=o>s;if(a)i.length=s;else for(var l=o;l<s;l++)i.push(t===1?r[l]:Y5.call(r[l]))}for(var u=i[0]&&i[0].length,l=0;l<i.length;l++)if(t===1)isNaN(i[l])&&(i[l]=r[l]);else for(var c=0;c<u;c++)isNaN(i[l][c])&&(i[l][c]=r[l][c])}}function ub(n){if(io(n)){var e=n.length;if(io(n[0])){for(var t=[],i=0;i<e;i++)t.push(Y5.call(n[i]));return t}return Y5.call(n)}return n}function uL(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function xYe(n){return io(n&&n[0])?2:1}var mC=0,cL=1,bce=2,c_=3,X5=4,Z5=5,Rj=6;function Bj(n){return n===X5||n===Z5}function vC(n){return n===cL||n===bce}var T0=[0,0,0,0],LYe=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,i){this._needsSort=!0;var r=this.keyframes,o=r.length,s=!1,a=Rj,l=t;if(io(t)){var u=xYe(t);a=u,(u===1&&!Jt(t[0])||u===2&&!Jt(t[0][0]))&&(s=!0)}else if(Jt(t)&&!SS(t))a=mC;else if($e(t))if(!isNaN(+t))a=mC;else{var c=ys(t);c&&(l=c,a=c_)}else if(QE(t)){var d=be({},l);d.colorStops=Te(t.colorStops,function(f){return{offset:f.offset,color:ys(f.color)}}),pce(t)?a=X5:mce(t)&&(a=Z5),l=d}o===0?this.valType=a:(a!==this.valType||a===Rj)&&(s=!0),this.discrete=this.discrete||s;var h={time:e,value:l,rawValue:t,percent:0};return i&&(h.easing=i,h.easingFunc=qe(i)?i:oce[i]||LW(i)),r.push(h),h},n.prototype.prepare=function(e,t){var i=this.keyframes;this._needsSort&&i.sort(function(p,m){return p.time-m.time});for(var r=this.valType,o=i.length,s=i[o-1],a=this.discrete,l=vC(r),u=Bj(r),c=0;c<o;c++){var d=i[c],h=d.value,f=s.value;d.percent=d.time/e,a||(l&&c!==o-1?CYe(h,f,r):u&&wYe(h.colorStops,f.colorStops))}if(!a&&r!==Z5&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;for(var g=i[0].value,c=0;c<o;c++)r===mC?i[c].additiveValue=i[c].value-g:r===c_?i[c].additiveValue=pC([],i[c].value,g,-1):vC(r)&&(i[c].additiveValue=r===cL?pC([],i[c].value,g,-1):Oj([],i[c].value,g,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,r=i?"additiveValue":"value",o=this.valType,s=this.keyframes,a=s.length,l=this.propName,u=o===c_,c,d=this._lastFr,h=Math.min,f,g;if(a===1)f=g=s[0];else{if(t<0)c=0;else if(t<this._lastFrP){var p=h(d+1,a-1);for(c=p;c>=0&&!(s[c].percent<=t);c--);c=h(c,a-2)}else{for(c=d;c<a&&!(s[c].percent>t);c++);c=h(c-1,a-2)}g=s[c+1],f=s[c]}if(f&&g){this._lastFr=c,this._lastFrP=t;var m=g.percent-f.percent,v=m===0?1:h((t-f.percent)/m,1);g.easingFunc&&(v=g.easingFunc(v));var y=i?this._additiveValue:u?T0:e[l];if((vC(o)||u)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=v<1?f.rawValue:g.rawValue;else if(vC(o))o===cL?SN(y,f[r],g[r],v):SYe(y,f[r],g[r],v);else if(Bj(o)){var _=f[r],b=g[r],S=o===X5;e[l]={type:S?"linear":"radial",x:ju(_.x,b.x,v),y:ju(_.y,b.y,v),colorStops:Te(_.colorStops,function(C,x){var L=b.colorStops[x];return{offset:ju(C.offset,L.offset,v),color:uL(SN([],C.color,L.color,v))}}),global:b.global},S?(e[l].x2=ju(_.x2,b.x2,v),e[l].y2=ju(_.y2,b.y2,v)):e[l].r=ju(_.r,b.r,v)}else if(u)SN(y,f[r],g[r],v),i||(e[l]=uL(y));else{var w=ju(f[r],g[r],v);i?this._additiveValue=w:e[l]=w}i&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,i=this.propName,r=this._additiveValue;t===mC?e[i]=e[i]+r:t===c_?(ys(e[i],T0),pC(T0,T0,r,1),e[i]=uL(T0)):t===cL?pC(e[i],e[i],r,1):t===bce&&Oj(e[i],e[i],r,1)},n}(),IW=function(){function n(e,t,i,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&r){yW("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=i}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,i){return this.whenWithKeys(e,t,Et(t),i)},n.prototype.whenWithKeys=function(e,t,i,r){for(var o=this._tracks,s=0;s<i.length;s++){var a=i[s],l=o[a];if(!l){l=o[a]=new LYe(a);var u=void 0,c=this._getAdditiveTrack(a);if(c){var d=c.keyframes,h=d[d.length-1];u=h&&h.value,c.valType===c_&&u&&(u=uL(u))}else u=this._target[a];if(u==null)continue;e>0&&l.addKeyframe(0,ub(u),r),this._trackKeys.push(a)}l.addKeyframe(e,ub(t[a]),r)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,i=0;i<t;i++)e[i].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var i=0;i<t.length;i++)t[i].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,i=0;i<t.length;i++)e[t[i]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,i=this._additiveAnimators;if(i)for(var r=0;r<i.length;r++){var o=i[r].getTrack(e);o&&(t=o)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,i=[],r=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],a=this._tracks[s],l=this._getAdditiveTrack(s),u=a.keyframes,c=u.length;if(a.prepare(r,l),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var d=u[c-1];d&&(t._target[a.propName]=d.rawValue),a.setFinished()}else i.push(a)}if(i.length||this._force){var h=new lYe({life:r,loop:this._loop,delay:this._delay||0,onframe:function(f){t._started=2;var g=t._additiveAnimators;if(g){for(var p=!1,m=0;m<g.length;m++)if(g[m]._clip){p=!0;break}p||(t._additiveAnimators=null)}for(var m=0;m<i.length;m++)i[m].step(t._target,f);var v=t._onframeCbs;if(v)for(var m=0;m<v.length;m++)v[m](t._target,f)},ondestroy:function(){t._doneCallback()}});this._clip=h,this.animation&&this.animation.addClip(h),e&&h.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return Te(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var i=this._tracks,r=this._trackKeys,o=0;o<e.length;o++){var s=i[e[o]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var a=!0,o=0;o<r.length;o++)if(!i[r[o]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},n.prototype.saveTo=function(e,t,i){if(e){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var o=t[r],s=this._tracks[o];if(!(!s||s.isFinished())){var a=s.keyframes,l=a[i?0:a.length-1];l&&(e[o]=ub(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Et(e);for(var i=0;i<t.length;i++){var r=t[i],o=this._tracks[r];if(o){var s=o.keyframes;if(s.length>1){var a=s.pop();o.addKeyframe(a.time,e[r]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();function $m(){return new Date().getTime()}var TYe=function(n){re(e,n);function e(t){var i=n.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,t=t||{},i.stage=t.stage||{},i}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var i=t.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(t){if(t.animation){var i=t.prev,r=t.next;i?i.next=r:this._head=r,r?r.prev=i:this._tail=i,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var i=t.getClip();i&&this.removeClip(i),t.animation=null},e.prototype.update=function(t){for(var i=$m()-this._pausedTime,r=i-this._time,o=this._head;o;){var s=o.next,a=o.step(i,r);a&&(o.ondestroy(),this.removeClip(o)),o=s}this._time=i,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function i(){t._running&&(H5(i),!t._paused&&t.update())}H5(i)},e.prototype.start=function(){this._running||(this._time=$m(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=$m(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=$m()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var i=t.next;t.prev=t.next=t.animation=null,t=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,i){i=i||{},this.start();var r=new IW(t,i.loop);return this.addAnimator(r),r},e}(ma);const IYe=TYe;var DYe=300,wN=Yt.domSupported,CN=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=Te(n,function(r){var o=r.replace("mouse","pointer");return t.hasOwnProperty(o)?o:r});return{mouse:n,touch:e,pointer:i}}(),Fj={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},$j=!1;function Q5(n){var e=n.pointerType;return e==="pen"||e==="touch"}function EYe(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function xN(n){n&&(n.zrByTouch=!0)}function MYe(n,e){return zs(n.dom,new AYe(n,e),!0)}function Sce(n,e){for(var t=e,i=!1;t&&t.nodeType!==9&&!(i=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return i}var AYe=function(){function n(e,t){this.stopPropagation=Ni,this.stopImmediatePropagation=Ni,this.preventDefault=Ni,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),La={mousedown:function(n){n=zs(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=zs(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=zs(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=zs(this.dom,n);var e=n.toElement||n.relatedTarget;Sce(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){$j=!0,n=zs(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){$j||(n=zs(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=zs(this.dom,n),xN(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),La.mousemove.call(this,n),La.mousedown.call(this,n)},touchmove:function(n){n=zs(this.dom,n),xN(n),this.handler.processGesture(n,"change"),La.mousemove.call(this,n)},touchend:function(n){n=zs(this.dom,n),xN(n),this.handler.processGesture(n,"end"),La.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<DYe&&La.click.call(this,n)},pointerdown:function(n){La.mousedown.call(this,n)},pointermove:function(n){Q5(n)||La.mousemove.call(this,n)},pointerup:function(n){La.mouseup.call(this,n)},pointerout:function(n){Q5(n)||La.mouseout.call(this,n)}};B(["click","dblclick","contextmenu"],function(n){La[n]=function(e){e=zs(this.dom,e),this.trigger(n,e)}});var J5={pointermove:function(n){Q5(n)||J5.mousemove.call(this,n)},pointerup:function(n){J5.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function NYe(n,e){var t=e.domHandlers;Yt.pointerEventsSupported?B(CN.pointer,function(i){dL(e,i,function(r){t[i].call(n,r)})}):(Yt.touchEventsSupported&&B(CN.touch,function(i){dL(e,i,function(r){t[i].call(n,r),EYe(e)})}),B(CN.mouse,function(i){dL(e,i,function(r){r=wW(r),e.touching||t[i].call(n,r)})}))}function kYe(n,e){Yt.pointerEventsSupported?B(Fj.pointer,t):Yt.touchEventsSupported||B(Fj.mouse,t);function t(i){function r(o){o=wW(o),Sce(n,o.target)||(o=MYe(n,o),e.domHandlers[i].call(n,o))}dL(e,i,r,{capture:!0})}}function dL(n,e,t,i){n.mounted[e]=t,n.listenerOpts[e]=i,z5(n.domTarget,e,t,i)}function LN(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&Vqe(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var Vj=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),PYe=function(n){re(e,n);function e(t,i){var r=n.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=i,r._localHandlerScope=new Vj(t,La),wN&&(r._globalHandlerScope=new Vj(document,J5)),NYe(r,r._localHandlerScope),r}return e.prototype.dispose=function(){LN(this._localHandlerScope),wN&&LN(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,wN&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var i=this._globalHandlerScope;t?kYe(this,i):LN(i)}},e}(ma);const OYe=PYe;var wce=1;Yt.hasGlobalWindow&&(wce=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var SI=wce,eB=.4,tB="#333",nB="#ccc",RYe="#eee",Wj=eM,zj=5e-5;function jh(n){return n>zj||n<-zj}var qh=[],Qp=[],TN=ha(),IN=Math.abs,BYe=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return jh(this.rotation)||jh(this.x)||jh(this.y)||jh(this.scaleX-1)||jh(this.scaleY-1)||jh(this.skewX)||jh(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),i=this.transform;if(!(t||e)){i&&(Wj(i),this.invTransform=null);return}i=i||ha(),t?this.getLocalTransform(i):Wj(i),e&&(t?yc(i,e,i):CW(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(qh);var i=qh[0]<0?-1:1,r=qh[1]<0?-1:1,o=((qh[0]-i)*t+i)/qh[0]||0,s=((qh[1]-r)*t+r)/qh[1]||0;e[0]*=o,e[1]*=o,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||ha(),Ry(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],r=Math.atan2(e[1],e[0]),o=Math.PI/2+r-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(o),t=Math.sqrt(t),this.skewX=o,this.skewY=0,this.rotation=-r,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=i,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(yc(Qp,e.invTransform,t),t=Qp);var i=this.originX,r=this.originY;(i||r)&&(TN[4]=i,TN[5]=r,yc(Qp,t,TN),Qp[4]-=i,Qp[5]-=r,t=Qp),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var i=[e,t],r=this.invTransform;return r&&Fr(i,i,r),i},n.prototype.transformCoordToGlobal=function(e,t){var i=[e,t],r=this.transform;return r&&Fr(i,i,r),i},n.prototype.getLineScale=function(){var e=this.transform;return e&&IN(e[0]-1)>1e-10&&IN(e[3]-1)>1e-10?Math.sqrt(IN(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){Cce(this,e)},n.getLocalTransform=function(e,t){t=t||[];var i=e.originX||0,r=e.originY||0,o=e.scaleX,s=e.scaleY,a=e.anchorX,l=e.anchorY,u=e.rotation||0,c=e.x,d=e.y,h=e.skewX?Math.tan(e.skewX):0,f=e.skewY?Math.tan(-e.skewY):0;if(i||r||a||l){var g=i+a,p=r+l;t[4]=-g*o-h*p*s,t[5]=-p*s-f*g*o}else t[4]=t[5]=0;return t[0]=o,t[3]=s,t[1]=f*o,t[2]=h*s,u&&Lp(t,t,u),t[4]+=i+c,t[5]+=r+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),gu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function Cce(n,e){for(var t=0;t<gu.length;t++){var i=gu[t];n[i]=e[i]}}const uc=BYe;var Hj={};function _s(n,e){e=e||ph;var t=Hj[e];t||(t=Hj[e]=new Tw(500));var i=t.get(n);return i==null&&(i=mh.measureText(n,e).width,t.put(n,i)),i}function Uj(n,e,t,i){var r=_s(n,e),o=nM(e),s=d_(0,r,t),a=xm(0,o,i),l=new mt(s,a,r,o);return l}function Iw(n,e,t,i){var r=((n||"")+"").split(`
`),o=r.length;if(o===1)return Uj(r[0],e,t,i);for(var s=new mt(0,0,0,0),a=0;a<r.length;a++){var l=Uj(r[a],e,t,i);a===0?s.copy(l):s.union(l)}return s}function d_(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function xm(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function nM(n){return _s("",n)}function al(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function wI(n,e,t){var i=e.position||"inside",r=e.distance!=null?e.distance:5,o=t.height,s=t.width,a=o/2,l=t.x,u=t.y,c="left",d="top";if(i instanceof Array)l+=al(i[0],t.width),u+=al(i[1],t.height),c=null,d=null;else switch(i){case"left":l-=r,u+=a,c="right",d="middle";break;case"right":l+=r+s,u+=a,d="middle";break;case"top":l+=s/2,u-=r,c="center",d="bottom";break;case"bottom":l+=s/2,u+=o+r,c="center";break;case"inside":l+=s/2,u+=a,c="center",d="middle";break;case"insideLeft":l+=r,u+=a,d="middle";break;case"insideRight":l+=s-r,u+=a,c="right",d="middle";break;case"insideTop":l+=s/2,u+=r,c="center";break;case"insideBottom":l+=s/2,u+=o-r,c="center",d="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=s-r,u+=r,c="right";break;case"insideBottomLeft":l+=r,u+=o-r,d="bottom";break;case"insideBottomRight":l+=s-r,u+=o-r,c="right",d="bottom";break}return n=n||{},n.x=l,n.y=u,n.align=c,n.verticalAlign=d,n}var DN="__zr_normal__",EN=gu.concat(["ignore"]),FYe=hu(gu,function(n,e){return n[e]=!0,n},{ignore:!1}),Jp={},$Ye=new mt(0,0,0,0),DW=function(){function n(e){this.id=Yue(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,i){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,o=t.innerTransformable,s=void 0,a=void 0,l=!1;o.parent=r?this:null;var u=!1;if(o.copyTransform(t),i.position!=null){var c=$Ye;i.layoutRect?c.copy(i.layoutRect):c.copy(this.getBoundingRect()),r||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Jp,i,c):wI(Jp,i,c),o.x=Jp.x,o.y=Jp.y,s=Jp.align,a=Jp.verticalAlign;var d=i.origin;if(d&&i.rotation!=null){var h=void 0,f=void 0;d==="center"?(h=c.width*.5,f=c.height*.5):(h=al(d[0],c.width),f=al(d[1],c.height)),u=!0,o.originX=-o.x+h+(r?0:c.x),o.originY=-o.y+f+(r?0:c.y)}}i.rotation!=null&&(o.rotation=i.rotation);var g=i.offset;g&&(o.x+=g[0],o.y+=g[1],u||(o.originX=-g[0],o.originY=-g[1]));var p=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,m=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),v=void 0,y=void 0,_=void 0;p&&this.canBeInsideText()?(v=i.insideFill,y=i.insideStroke,(v==null||v==="auto")&&(v=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(v),_=!0)):(v=i.outsideFill,y=i.outsideStroke,(v==null||v==="auto")&&(v=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(v),_=!0)),v=v||"#000",(v!==m.fill||y!==m.stroke||_!==m.autoStroke||s!==m.align||a!==m.verticalAlign)&&(l=!0,m.fill=v,m.stroke=y,m.autoStroke=_,m.align=s,m.verticalAlign=a,t.setDefaultTextStyle(m)),t.__dirty|=hs,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?nB:tB},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),i=typeof t=="string"&&ys(t);i||(i=[255,255,255,1]);for(var r=i[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*r+(o?0:255)*(1-r);return i[3]=1,_c(i,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},be(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(et(e))for(var i=e,r=Et(i),o=0;o<r.length;o++){var s=r[o];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,i=0;i<this.animators.length;i++){var r=this.animators[i],o=r.__fromStateTransition;if(!(r.getLoop()||o&&o!==DN)){var s=r.targetName,a=s?t[s]:t;r.saveTo(a)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,EN)},n.prototype._savePrimaryToNormal=function(e,t,i){for(var r=0;r<i.length;r++){var o=i[r];e[o]!=null&&!(o in t)&&(t[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(DN,!1,e)},n.prototype.useState=function(e,t,i,r){var o=e===DN,s=this.hasState();if(!(!s&&o)){var a=this.currentStates,l=this.stateTransition;if(!(Ct(a,e)>=0&&(t||a.length===1))){var u;if(this.stateProxy&&!o&&(u=this.stateProxy(e)),u||(u=this.states&&this.states[e]),!u&&!o){yW("State "+e+" not exists.");return}o||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||r);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,u,this._normalState,t,!i&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,h=this._textGuide;return d&&d.useState(e,t,i,c),h&&h.useState(e,t,i,c),o?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~hs),u}}},n.prototype.useStates=function(e,t,i){if(!e.length)this.clearStates();else{var r=[],o=this.currentStates,s=e.length,a=s===o.length;if(a){for(var l=0;l<s;l++)if(e[l]!==o[l]){a=!1;break}}if(a)return;for(var l=0;l<s;l++){var u=e[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,e)),c||(c=this.states[u]),c&&r.push(c)}var d=r[s-1],h=!!(d&&d.hoverLayer||i);h&&this._toggleHoverLayerFlag(!0);var f=this._mergeStates(r),g=this.stateTransition;this.saveCurrentToNormalState(f),this._applyStateObj(e.join(","),f,this._normalState,!1,!t&&!this.__inHover&&g&&g.duration>0,g);var p=this._textContent,m=this._textGuide;p&&p.useStates(e,t,h),m&&m.useStates(e,t,h),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~hs)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=Ct(this.currentStates,e);if(t>=0){var i=this.currentStates.slice();i.splice(t,1),this.useStates(i)}},n.prototype.replaceState=function(e,t,i){var r=this.currentStates.slice(),o=Ct(r,e),s=Ct(r,t)>=0;o>=0?s?r.splice(o,1):r[o]=t:i&&!s&&r.push(t),this.useStates(r)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},i,r=0;r<e.length;r++){var o=e[r];be(t,o),o.textConfig&&(i=i||{},be(i,o.textConfig))}return i&&(t.textConfig=i),t},n.prototype._applyStateObj=function(e,t,i,r,o,s){var a=!(t&&r);t&&t.textConfig?(this.textConfig=be({},r?this.textConfig:i.textConfig),be(this.textConfig,t.textConfig)):a&&i.textConfig&&(this.textConfig=i.textConfig);for(var l={},u=!1,c=0;c<EN.length;c++){var d=EN[c],h=o&&FYe[d];t&&t[d]!=null?h?(u=!0,l[d]=t[d]):this[d]=t[d]:a&&i[d]!=null&&(h?(u=!0,l[d]=i[d]):this[d]=i[d])}if(!o)for(var c=0;c<this.animators.length;c++){var f=this.animators[c],g=f.targetName;f.getLoop()||f.__changeFinalValue(g?(t||i)[g]:t||i)}u&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new uc,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),be(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=hs;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,i=this._textGuide;t&&(t.__inHover=e),i&&(i.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,i){var r=e?this[e]:this,o=new IW(r,t,i);return e&&(o.targetName=e),this.addAnimator(o,e),o},n.prototype.addAnimator=function(e,t){var i=this.__zr,r=this;e.during(function(){r.updateDuringAnimation(t)}).done(function(){var o=r.animators,s=Ct(o,e);s>=0&&o.splice(s,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var i=this.animators,r=i.length,o=[],s=0;s<r;s++){var a=i[s];!e||e===a.scope?a.stop(t):o.push(a)}return this.animators=o,this},n.prototype.animateTo=function(e,t,i){MN(this,e,t,i)},n.prototype.animateFrom=function(e,t,i){MN(this,e,t,i,!0)},n.prototype._transitionState=function(e,t,i,r){for(var o=MN(this,t,i,r),s=0;s<o.length;s++)o[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=hs;function t(i,r,o,s){Object.defineProperty(e,i,{get:function(){if(!this[r]){var l=this[r]=[];a(this,l)}return this[r]},set:function(l){this[o]=l[0],this[s]=l[1],this[r]=l,a(this,l)}});function a(l,u){Object.defineProperty(u,0,{get:function(){return l[o]},set:function(c){l[o]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();Hi(DW,ma);Hi(DW,uc);function MN(n,e,t,i,r){t=t||{};var o=[];xce(n,"",n,e,t,i,o,r);var s=o.length,a=!1,l=t.done,u=t.aborted,c=function(){a=!0,s--,s<=0&&(a?l&&l():u&&u())},d=function(){s--,s<=0&&(a?l&&l():u&&u())};s||l&&l(),o.length>0&&t.during&&o[0].during(function(g,p){t.during(p)});for(var h=0;h<o.length;h++){var f=o[h];c&&f.done(c),d&&f.aborted(d),t.force&&f.duration(t.duration),f.start(t.easing)}return o}function AN(n,e,t){for(var i=0;i<t;i++)n[i]=e[i]}function VYe(n){return io(n[0])}function WYe(n,e,t){if(io(e[t]))if(io(n[t])||(n[t]=[]),Ls(e[t])){var i=e[t].length;n[t].length!==i&&(n[t]=new e[t].constructor(i),AN(n[t],e[t],i))}else{var r=e[t],o=n[t],s=r.length;if(VYe(r))for(var a=r[0].length,l=0;l<s;l++)o[l]?AN(o[l],r[l],a):o[l]=Array.prototype.slice.call(r[l]);else AN(o,r,s);o.length=r.length}else n[t]=e[t]}function zYe(n,e){return n===e||io(n)&&io(e)&&HYe(n,e)}function HYe(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function xce(n,e,t,i,r,o,s,a){for(var l=Et(i),u=r.duration,c=r.delay,d=r.additive,h=r.setToFinal,f=!et(o),g=n.animators,p=[],m=0;m<l.length;m++){var v=l[m],y=i[v];if(y!=null&&t[v]!=null&&(f||o[v]))if(et(y)&&!io(y)&&!QE(y)){if(e){a||(t[v]=y,n.updateDuringAnimation(e));continue}xce(n,v,t[v],y,r,o&&o[v],s,a)}else p.push(v);else a||(t[v]=y,n.updateDuringAnimation(e),p.push(v))}var _=p.length;if(!d&&_)for(var b=0;b<g.length;b++){var S=g[b];if(S.targetName===e){var w=S.stopTracks(p);if(w){var C=Ct(g,S);g.splice(C,1)}}}if(r.force||(p=xn(p,function(I){return!zYe(i[I],t[I])}),_=p.length),_>0||r.force&&!s.length){var x=void 0,L=void 0,T=void 0;if(a){L={},h&&(x={});for(var b=0;b<_;b++){var v=p[b];L[v]=t[v],h?x[v]=i[v]:t[v]=i[v]}}else if(h){T={};for(var b=0;b<_;b++){var v=p[b];T[v]=ub(t[v]),WYe(t,i,v)}}var S=new IW(t,!1,!1,d?xn(g,function(D){return D.targetName===e}):null);S.targetName=e,r.scope&&(S.scope=r.scope),h&&x&&S.whenWithKeys(0,x,p),T&&S.whenWithKeys(0,T,p),S.whenWithKeys(u??500,a?L:i,p).delay(c||0),n.addAnimator(S,e),s.push(S)}}const Lce=DW;var Tce=function(n){re(e,n);function e(t){var i=n.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(t),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var i=this._children,r=0;r<i.length;r++)if(i[r].name===t)return i[r]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,i){if(t&&t!==this&&t.parent!==this&&i&&i.parent===this){var r=this._children,o=r.indexOf(i);o>=0&&(r.splice(o,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,i){var r=Ct(this._children,t);return r>=0&&this.replaceAt(i,r),this},e.prototype.replaceAt=function(t,i){var r=this._children,o=r[i];if(t&&t!==this&&t.parent!==this&&t!==o){r[i]=t,o.parent=null;var s=this.__zr;s&&o.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var i=this.__zr;i&&i!==t.__zr&&t.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(t){var i=this.__zr,r=this._children,o=Ct(r,t);return o<0?this:(r.splice(o,1),t.parent=null,i&&t.removeSelfFromZr(i),i&&i.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,i=this.__zr,r=0;r<t.length;r++){var o=t[r];i&&o.removeSelfFromZr(i),o.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,i){for(var r=this._children,o=0;o<r.length;o++){var s=r[o];t.call(i,s,o)}return this},e.prototype.traverse=function(t,i){for(var r=0;r<this._children.length;r++){var o=this._children[r],s=t.call(i,o);o.isGroup&&!s&&o.traverse(t,i)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++){var r=this._children[i];r.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var i=new mt(0,0,0,0),r=t||this._children,o=[],s=null,a=0;a<r.length;a++){var l=r[a];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(o);c?(mt.applyTransform(i,u,c),s=s||i.clone(),s.union(i)):(s=s||u.clone(),s.union(u))}}return s||i},e}(Lce);Tce.prototype.type="group";const st=Tce;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var hL={},Ice={};function UYe(n){delete Ice[n]}function GYe(n){if(!n)return!1;if(typeof n=="string")return _I(n,1)<eB;if(n.colorStops){for(var e=n.colorStops,t=0,i=e.length,r=0;r<i;r++)t+=_I(e[r].color,1);return t/=i,t<eB}return!1}var KYe=function(){function n(e,t,i){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=t,this.id=e;var o=new nYe,s=i.renderer||"canvas";hL[s]||(s=Et(hL)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var a=new hL[s](t,o,i,e),l=i.ssr||a.ssrOnly;this.storage=o,this.painter=a;var u=!Yt.node&&!Yt.worker&&!l?new OYe(a.getViewportRoot(),a.root):null,c=i.useCoarsePointer,d=c==null||c==="auto"?Yt.touchEventsSupported:!!c,h=44,f;d&&(f=gt(i.pointerSize,h)),this.handler=new Zqe(o,a,u,a.root,f),this.animation=new IYe({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=GYe(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,i=$m();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=$m();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,i){return this.handler.on(e,t,i),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof st&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,UYe(this.id)},n}();function Gj(n,e){var t=new KYe(Yue(),n,e);return Ice[t.id]=t,t}function jYe(n,e){hL[n]=e}var Kj=1e-4,Dce=20;function qYe(n){return n.replace(/^\s+|\s+$/g,"")}function yn(n,e,t,i){var r=e[0],o=e[1],s=t[0],a=t[1],l=o-r,u=a-s;if(l===0)return u===0?s:(s+a)/2;if(i)if(l>0){if(n<=r)return s;if(n>=o)return a}else{if(n>=r)return s;if(n<=o)return a}else{if(n===r)return s;if(n===o)return a}return(n-r)/l*u+s}function Fe(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return $e(n)?qYe(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function bi(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),Dce),n=(+n).toFixed(e),t?n:+n}function sa(n){return n.sort(function(e,t){return e-t}),n}function jl(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return YYe(n)}function YYe(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),i=t>0?+e.slice(t+1):0,r=t>0?t:e.length,o=e.indexOf("."),s=o<0?0:r-1-o;return Math.max(0,s-i)}function Ece(n,e){var t=Math.log,i=Math.LN10,r=Math.floor(t(n[1]-n[0])/i),o=Math.round(t(Math.abs(e[1]-e[0]))/i),s=Math.min(Math.max(-r+o,0),20);return isFinite(s)?s:20}function XYe(n,e){var t=hu(n,function(f,g){return f+(isNaN(g)?0:g)},0);if(t===0)return[];for(var i=Math.pow(10,e),r=Te(n,function(f){return(isNaN(f)?0:f)/t*i*100}),o=i*100,s=Te(r,function(f){return Math.floor(f)}),a=hu(s,function(f,g){return f+g},0),l=Te(r,function(f,g){return f-s[g]});a<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,h=l.length;d<h;++d)l[d]>u&&(u=l[d],c=d);++s[c],l[c]=0,++a}return Te(s,function(f){return f/i})}function ZYe(n,e){var t=Math.max(jl(n),jl(e)),i=n+e;return t>Dce?i:bi(i,t)}var jj=9007199254740991;function Mce(n){var e=Math.PI*2;return(n%e+e)%e}function CI(n){return n>-Kj&&n<Kj}var QYe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ll(n){if(n instanceof Date)return n;if($e(n)){var e=QYe.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function JYe(n){return Math.pow(10,EW(n))}function EW(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function Ace(n,e){var t=EW(n),i=Math.pow(10,t),r=n/i,o;return e?r<1.5?o=1:r<2.5?o=2:r<4?o=3:r<7?o=5:o=10:r<1?o=1:r<2?o=2:r<3?o=3:r<5?o=5:o=10,n=o*i,t>=-20?+n.toFixed(t<0?-t:0):n}function NN(n,e){var t=(n.length-1)*e+1,i=Math.floor(t),r=+n[i-1],o=t-i;return o?r+o*(n[i]-r):r}function qj(n){n.sort(function(l,u){return a(l,u,0)?-1:1});for(var e=-1/0,t=1,i=0;i<n.length;){for(var r=n[i].interval,o=n[i].close,s=0;s<2;s++)r[s]<=e&&(r[s]=e,o[s]=s?1:1-t),e=r[s],t=o[s];r[0]===r[1]&&o[0]*o[1]!==1?n.splice(i,1):i++}return n;function a(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&a(l,u,1))}}function Ac(n){var e=parseFloat(n);return e==n&&(e!==0||!$e(n)||n.indexOf("x")<=0)?e:NaN}function Nce(n){return!isNaN(Ac(n))}function kce(){return Math.round(Math.random()*9)}function Pce(n,e){return e===0?n:Pce(e,n%e)}function Yj(n,e){return n==null?e:e==null?n:n*e/Pce(n,e)}function ln(n){throw new Error(n)}function Xj(n,e,t){return(e-n)*t+n}var Oce="series\0",Rce="\0_ec_\0";function Pn(n){return n instanceof Array?n:n==null?[]:[n]}function Zg(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];!n.emphasis[e].hasOwnProperty(o)&&n[e].hasOwnProperty(o)&&(n.emphasis[e][o]=n[e][o])}}}var Zj=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function By(n){return et(n)&&!we(n)&&!(n instanceof Date)?n.value:n}function eXe(n){return et(n)&&!(n instanceof Array)}function Bce(n,e,t){var i=t==="normalMerge",r=t==="replaceMerge",o=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=Ue();B(e,function(l,u){if(!et(l)){e[u]=null;return}});var a=tXe(n,s,t);return(i||r)&&nXe(a,n,s,e),i&&iXe(a,e),i||r?rXe(a,e,r):o&&oXe(a,e),sXe(a),a}function tXe(n,e,t){var i=[];if(t==="replaceAll")return i;for(var r=0;r<n.length;r++){var o=n[r];o&&o.id!=null&&e.set(o.id,r),i.push({existing:t==="replaceMerge"||LS(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}function nXe(n,e,t,i){B(i,function(r,o){if(!(!r||r.id==null)){var s=cb(r.id),a=t.get(s);if(a!=null){var l=n[a];xo(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=r,l.existing=e[a],i[o]=null}}})}function iXe(n,e){B(e,function(t,i){if(!(!t||t.name==null))for(var r=0;r<n.length;r++){var o=n[r].existing;if(!n[r].newOption&&o&&(o.id==null||t.id==null)&&!LS(t)&&!LS(o)&&Fce("name",o,t)){n[r].newOption=t,e[i]=null;return}}})}function rXe(n,e,t){B(e,function(i){if(i){for(var r,o=0;(r=n[o])&&(r.newOption||LS(r.existing)||r.existing&&i.id!=null&&!Fce("id",i,r.existing));)o++;r?(r.newOption=i,r.brandNew=t):n.push({newOption:i,brandNew:t,existing:null,keyInfo:null}),o++}})}function oXe(n,e){B(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function sXe(n){var e=Ue();B(n,function(t){var i=t.existing;i&&e.set(i.id,t)}),B(n,function(t){var i=t.newOption;xo(!i||i.id==null||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),B(n,function(t,i){var r=t.existing,o=t.newOption,s=t.keyInfo;if(et(o)){if(s.name=o.name!=null?cb(o.name):r?r.name:Oce+i,r)s.id=cb(r.id);else if(o.id!=null)s.id=cb(o.id);else{var a=0;do s.id="\0"+s.name+"\0"+a++;while(e.get(s.id))}e.set(s.id,t)}})}function Fce(n,e,t){var i=Yi(e[n],null),r=Yi(t[n],null);return i!=null&&r!=null&&i===r}function cb(n){return Yi(n,"")}function Yi(n,e){return n==null?e:$e(n)?n:Jt(n)||O5(n)?n+"":e}function MW(n){var e=n.name;return!!(e&&e.indexOf(Oce))}function LS(n){return n&&n.id!=null&&cb(n.id).indexOf(Rce)===0}function aXe(n){return Rce+n}function lXe(n,e,t){B(n,function(i){var r=i.newOption;et(r)&&(i.keyInfo.mainType=e,i.keyInfo.subType=uXe(e,r,i.existing,t))})}function uXe(n,e,t,i){var r=e.type?e.type:t?t.subType:i.determineSubType(n,e);return r}function cXe(n,e){var t={},i={};return r(n||[],t),r(e||[],i,t),[o(t),o(i)];function r(s,a,l){for(var u=0,c=s.length;u<c;u++){var d=Yi(s[u].seriesId,null);if(d==null)return;for(var h=Pn(s[u].dataIndex),f=l&&l[d],g=0,p=h.length;g<p;g++){var m=h[g];f&&f[m]?f[m]=null:(a[d]||(a[d]={}))[m]=1}}}function o(s,a){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(a)l.push(+u);else{var c=o(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Qg(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return we(e.dataIndex)?Te(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return we(e.name)?Te(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function Kt(){var n="__ec_inner_"+dXe++;return function(e){return e[n]||(e[n]={})}}var dXe=kce();function db(n,e,t){var i=AW(e,t),r=i.mainTypeSpecified,o=i.queryOptionMap,s=i.others,a=s,l=t?t.defaultMainType:null;return!r&&l&&o.set(l,{}),o.each(function(u,c){var d=Dw(n,c,u,{useDefault:l===c,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});a[c+"Models"]=d.models,a[c+"Model"]=d.models[0]}),a}function AW(n,e){var t;if($e(n)){var i={};i[n+"Index"]=0,t=i}else t=n;var r=Ue(),o={},s=!1;return B(t,function(a,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=a;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],d=(u[2]||"").toLowerCase();if(!(!c||!d||e&&e.includeMainTypes&&Ct(e.includeMainTypes,c)<0)){s=s||!!c;var h=r.get(c)||r.set(c,{});h[d]=a}}),{mainTypeSpecified:s,queryOptionMap:r,others:o}}var $i={useDefault:!0,enableAll:!1,enableNone:!1},hXe={useDefault:!1,enableAll:!0,enableNone:!0};function Dw(n,e,t,i){i=i||$i;var r=t.index,o=t.id,s=t.name,a={models:null,specified:r!=null||o!=null||s!=null};if(!a.specified){var l=void 0;return a.models=i.useDefault&&(l=n.getComponent(e))?[l]:[],a}return r==="none"||r===!1?(xo(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),a.models=[],a):(r==="all"&&(xo(i.enableAll,'`"all"` is not a valid value on index option.'),r=o=s=null),a.models=n.queryComponents({mainType:e,index:r,id:o,name:s}),a)}function $ce(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function fXe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function gXe(n){return n==="auto"?Yt.domSupported?"html":"richText":n||"html"}function iB(n,e){var t=Ue(),i=[];return B(n,function(r){var o=e(r);(t.get(o)||(i.push(o),t.set(o,[]))).push(r)}),{keys:i,buckets:t}}function Vce(n,e,t,i,r){var o=e==null||e==="auto";if(i==null)return i;if(Jt(i)){var s=Xj(t||0,i,r);return bi(s,o?Math.max(jl(t||0),jl(i)):e)}else{if($e(i))return r<1?t:i;for(var a=[],l=t,u=i,c=Math.max(l?l.length:0,u.length),d=0;d<c;++d){var h=n.getDimensionInfo(d);if(h&&h.type==="ordinal")a[d]=(r<1&&l?l:u)[d];else{var f=l&&l[d]?l[d]:0,g=u[d],s=Xj(f,g,r);a[d]=bi(s,o?Math.max(jl(f),jl(g)):e)}}return a}}var pXe=".",Yh="___EC__COMPONENT__CONTAINER___",Wce="___EC__EXTENDED_CLASS___";function ql(n){var e={main:"",sub:""};if(n){var t=n.split(pXe);e.main=t[0]||"",e.sub=t[1]||""}return e}function mXe(n){xo(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function vXe(n){return!!(n&&n[Wce])}function NW(n,e){n.$constructor=n,n.extend=function(t){var i=this,r;return yXe(i)?r=function(o){re(s,o);function s(){return o.apply(this,arguments)||this}return s}(i):(r=function(){(t.$constructor||i).apply(this,arguments)},vqe(r,this)),be(r.prototype,t),r[Wce]=!0,r.extend=this.extend,r.superCall=SXe,r.superApply=wXe,r.superClass=i,r}}function yXe(n){return qe(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function zce(n,e){n.extend=e.extend}var _Xe=Math.round(Math.random()*10);function bXe(n){var e=["__\0is_clz",_Xe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function SXe(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return this.superClass.prototype[e].apply(n,t)}function wXe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function iM(n){var e={};n.registerClass=function(i){var r=i.type||i.prototype.type;if(r){mXe(r),i.prototype.type=r;var o=ql(r);if(!o.sub)e[o.main]=i;else if(o.sub!==Yh){var s=t(o);s[o.sub]=i}}return i},n.getClass=function(i,r,o){var s=e[i];if(s&&s[Yh]&&(s=r?s[r]:null),o&&!s)throw new Error(r?"Component "+i+"."+(r||"")+" is used but not imported.":i+".type should be specified.");return s},n.getClassesByMainType=function(i){var r=ql(i),o=[],s=e[r.main];return s&&s[Yh]?B(s,function(a,l){l!==Yh&&o.push(a)}):o.push(s),o},n.hasClass=function(i){var r=ql(i);return!!e[r.main]},n.getAllClassMainTypes=function(){var i=[];return B(e,function(r,o){i.push(o)}),i},n.hasSubTypes=function(i){var r=ql(i),o=e[r.main];return o&&o[Yh]};function t(i){var r=e[i.main];return(!r||!r[Yh])&&(r=e[i.main]={},r[Yh]=!0),r}}function Jg(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(i,r,o){for(var s={},a=0;a<n.length;a++){var l=n[a][1];if(!(r&&Ct(r,l)>=0||o&&Ct(o,l)<0)){var u=i.getShallow(l,e);u!=null&&(s[n[a][0]]=u)}}return s}}var CXe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],xXe=Jg(CXe),LXe=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return xXe(this,e,t)},n}(),rB=new Tw(50);function TXe(n){if(typeof n=="string"){var e=rB.get(n);return e&&e.image}else return n}function kW(n,e,t,i,r){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var o=rB.get(n),s={hostEl:t,cb:i,cbPayload:r};return o?(e=o.image,!rM(e)&&o.pending.push(s)):(e=mh.loadImage(n,Qj,Qj),e.__zrImageSrc=n,rB.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function Qj(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],i=t.cb;i&&i(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function rM(n){return n&&n.width&&n.height}var kN=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function IXe(n,e,t,i,r){if(!e)return"";var o=(n+"").split(`
`);r=Hce(e,t,i,r);for(var s=0,a=o.length;s<a;s++)o[s]=Uce(o[s],r);return o.join(`
`)}function Hce(n,e,t,i){i=i||{};var r=be({},i);r.font=e,t=gt(t,"..."),r.maxIterations=gt(i.maxIterations,2);var o=r.minChar=gt(i.minChar,0);r.cnCharWidth=_s("",e);var s=r.ascCharWidth=_s("a",e);r.placeholder=gt(i.placeholder,"");for(var a=n=Math.max(0,n-1),l=0;l<o&&a>=s;l++)a-=s;var u=_s(t,e);return u>a&&(t="",u=0),a=n-u,r.ellipsis=t,r.ellipsisWidth=u,r.contentWidth=a,r.containerWidth=n,r}function Uce(n,e){var t=e.containerWidth,i=e.font,r=e.contentWidth;if(!t)return"";var o=_s(n,i);if(o<=t)return n;for(var s=0;;s++){if(o<=r||s>=e.maxIterations){n+=e.ellipsis;break}var a=s===0?DXe(n,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(n.length*r/o):0;n=n.substr(0,a),o=_s(n,i)}return n===""&&(n=e.placeholder),n}function DXe(n,e,t,i){for(var r=0,o=0,s=n.length;o<s&&r<e;o++){var a=n.charCodeAt(o);r+=0<=a&&a<=127?t:i}return o}function EXe(n,e){n!=null&&(n+="");var t=e.overflow,i=e.padding,r=e.font,o=t==="truncate",s=nM(r),a=gt(e.lineHeight,s),l=!!e.backgroundColor,u=e.lineOverflow==="truncate",c=e.width,d;c!=null&&(t==="break"||t==="breakAll")?d=n?Gce(n,e.font,c,t==="breakAll",0).lines:[]:d=n?n.split(`
`):[];var h=d.length*a,f=gt(e.height,h);if(h>f&&u){var g=Math.floor(f/a);d=d.slice(0,g)}if(n&&o&&c!=null)for(var p=Hce(c,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m=0;m<d.length;m++)d[m]=Uce(d[m],p);for(var v=f,y=0,m=0;m<d.length;m++)y=Math.max(_s(d[m],r),y);c==null&&(c=y);var _=y;return i&&(v+=i[0]+i[2],_+=i[1]+i[3],c+=i[1]+i[3]),l&&(_=c),{lines:d,height:f,outerWidth:_,outerHeight:v,lineHeight:a,calculatedLineHeight:s,contentWidth:y,contentHeight:h,width:c}}var MXe=function(){function n(){}return n}(),Jj=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),AXe=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function NXe(n,e){var t=new AXe;if(n!=null&&(n+=""),!n)return t;for(var i=e.width,r=e.height,o=e.overflow,s=(o==="break"||o==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:o==="breakAll"}:null,a=kN.lastIndex=0,l;(l=kN.exec(n))!=null;){var u=l.index;u>a&&PN(t,n.substring(a,u),e,s),PN(t,l[2],e,s,l[1]),a=kN.lastIndex}a<n.length&&PN(t,n.substring(a,n.length),e,s);var c=[],d=0,h=0,f=e.padding,g=o==="truncate",p=e.lineOverflow==="truncate";function m(R,$,H){R.width=$,R.lineHeight=H,d+=H,h=Math.max(h,$)}e:for(var v=0;v<t.lines.length;v++){for(var y=t.lines[v],_=0,b=0,S=0;S<y.tokens.length;S++){var w=y.tokens[S],C=w.styleName&&e.rich[w.styleName]||{},x=w.textPadding=C.padding,L=x?x[1]+x[3]:0,T=w.font=C.font||e.font;w.contentHeight=nM(T);var I=gt(C.height,w.contentHeight);if(w.innerHeight=I,x&&(I+=x[0]+x[2]),w.height=I,w.lineHeight=eu(C.lineHeight,e.lineHeight,I),w.align=C&&C.align||e.align,w.verticalAlign=C&&C.verticalAlign||"middle",p&&r!=null&&d+w.lineHeight>r){S>0?(y.tokens=y.tokens.slice(0,S),m(y,b,_),t.lines=t.lines.slice(0,v+1)):t.lines=t.lines.slice(0,v);break e}var D=C.width,M=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")w.percentWidth=D,c.push(w),w.contentWidth=_s(w.text,T);else{if(M){var P=C.backgroundColor,k=P&&P.image;k&&(k=TXe(k),rM(k)&&(w.width=Math.max(w.width,k.width*I/k.height)))}var O=g&&i!=null?i-b:null;O!=null&&O<w.width?!M||O<L?(w.text="",w.width=w.contentWidth=0):(w.text=IXe(w.text,O-L,T,e.ellipsis,{minChar:e.truncateMinChar}),w.width=w.contentWidth=_s(w.text,T)):w.contentWidth=_s(w.text,T)}w.width+=L,b+=w.width,C&&(_=Math.max(_,w.lineHeight))}m(y,b,_)}t.outerWidth=t.width=gt(i,h),t.outerHeight=t.height=gt(r,d),t.contentHeight=d,t.contentWidth=h,f&&(t.outerWidth+=f[1]+f[3],t.outerHeight+=f[0]+f[2]);for(var v=0;v<c.length;v++){var w=c[v],F=w.percentWidth;w.width=parseInt(F,10)/100*t.width}return t}function PN(n,e,t,i,r){var o=e==="",s=r&&t.rich[r]||{},a=n.lines,l=s.font||t.font,u=!1,c,d;if(i){var h=s.padding,f=h?h[1]+h[3]:0;if(s.width!=null&&s.width!=="auto"){var g=al(s.width,i.width)+f;a.length>0&&g+i.accumWidth>i.width&&(c=e.split(`
`),u=!0),i.accumWidth=g}else{var p=Gce(e,l,i.width,i.breakAll,i.accumWidth);i.accumWidth=p.accumWidth+f,d=p.linesWidths,c=p.lines}}else c=e.split(`
`);for(var m=0;m<c.length;m++){var v=c[m],y=new MXe;if(y.styleName=r,y.text=v,y.isLineHolder=!v&&!o,typeof s.width=="number"?y.width=s.width:y.width=d?d[m]:_s(v,l),!m&&!u){var _=(a[a.length-1]||(a[0]=new Jj)).tokens,b=_.length;b===1&&_[0].isLineHolder?_[0]=y:(v||!b||o)&&_.push(y)}else a.push(new Jj([y]))}}function kXe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var PXe=hu(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function OXe(n){return kXe(n)?!!PXe[n]:!0}function Gce(n,e,t,i,r){for(var o=[],s=[],a="",l="",u=0,c=0,d=0;d<n.length;d++){var h=n.charAt(d);if(h===`
`){l&&(a+=l,c+=u),o.push(a),s.push(c),a="",l="",u=0,c=0;continue}var f=_s(h,e),g=i?!1:!OXe(h);if(o.length?c+f>t:r+c+f>t){c?(a||l)&&(g?(a||(a=l,l="",u=0,c=u),o.push(a),s.push(c-u),l+=h,u+=f,a="",c=u):(l&&(a+=l,l="",u=0),o.push(a),s.push(c),a=h,c=f)):g?(o.push(l),s.push(u),l=h,u=f):(o.push(h),s.push(f));continue}c+=f,g?(l+=h,u+=f):(l&&(a+=l,l="",u=0),a+=h)}return!o.length&&!a&&(a=n,l="",u=0),l&&(a+=l),a&&(o.push(a),s.push(c)),o.length===1&&(c+=r),{accumWidth:c,lines:o,linesWidths:s}}var oB="__zr_style_"+Math.round(Math.random()*10),bg={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},oM={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};bg[oB]=!0;var eq=["z","z2","invisible"],RXe=["invisible"],BXe=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var i=Et(t),r=0;r<i.length;r++){var o=i[r];o==="style"?this.useStyle(t[o]):n.prototype.attrKV.call(this,o,t[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,i,r,o){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&FXe(this,t,i)||s&&!s[0]&&!s[3])return!1;if(r&&this.__clipPaths){for(var a=0;a<this.__clipPaths.length;++a)if(this.__clipPaths[a].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,i){return this.rectContain(t,i)},e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.rectContain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();return o.contain(r[0],r[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,r=this.getBoundingRect(),o=this.style,s=o.shadowBlur||0,a=o.shadowOffsetX||0,l=o.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new mt(0,0,0,0)),i?mt.applyTransform(t,r,i):t.copy(r),(s||a||l)&&(t.width+=s*2+Math.abs(a),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+a-s),t.y=Math.min(t.y,t.y+l-s));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+u*2),t.height=Math.ceil(t.height+1+u*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new mt(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,i){t!=="style"?n.prototype.attrKV.call(this,t,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,i){return typeof t=="string"?this.style[t]=i:be(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=u_,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&u_)},e.prototype.styleUpdated=function(){this.__dirty&=~u_},e.prototype.createStyle=function(t){return JE(bg,t)},e.prototype.useStyle=function(t){t[oB]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[oB]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,i,eq)},e.prototype._applyStateObj=function(t,i,r,o,s,a){n.prototype._applyStateObj.call(this,t,i,r,o,s,a);var l=!(i&&o),u;if(i&&i.style?s?o?u=i.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,i.style)):(u=this._mergeStyle(this.createStyle(),o?this.style:r.style),this._mergeStyle(u,i.style)):l&&(u=r.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var d=Et(c),h=0;h<d.length;h++){var f=d[h];f in u&&(u[f]=u[f],this.style[f]=c[f])}for(var g=Et(u),h=0;h<g.length;h++){var f=g[h];this.style[f]=this.style[f]}this._transitionState(t,{style:u},a,this.getAnimationStyleProps())}else this.useStyle(u);for(var p=this.__inHover?RXe:eq,h=0;h<p.length;h++){var f=p[h];i&&i[f]!=null?this[f]=i[f]:l&&r[f]!=null&&(this[f]=r[f])}},e.prototype._mergeStates=function(t){for(var i=n.prototype._mergeStates.call(this,t),r,o=0;o<t.length;o++){var s=t[o];s.style&&(r=r||{},this._mergeStyle(r,s.style))}return r&&(i.style=r),i},e.prototype._mergeStyle=function(t,i){return be(t,i),t},e.prototype.getAnimationStyleProps=function(){return oM},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=hs|u_}(),e}(Lce),ON=new mt(0,0,0,0),RN=new mt(0,0,0,0);function FXe(n,e,t){return ON.copy(n.getBoundingRect()),n.transform&&ON.applyTransform(n.transform),RN.width=e,RN.height=t,!ON.intersect(RN)}const fa=BXe;var Fo=Math.min,$o=Math.max,BN=Math.sin,FN=Math.cos,Xh=Math.PI*2,yC=xp(),_C=xp(),bC=xp();function sM(n,e,t){if(n.length!==0){for(var i=n[0],r=i[0],o=i[0],s=i[1],a=i[1],l=1;l<n.length;l++)i=n[l],r=Fo(r,i[0]),o=$o(o,i[0]),s=Fo(s,i[1]),a=$o(a,i[1]);e[0]=r,e[1]=s,t[0]=o,t[1]=a}}function tq(n,e,t,i,r,o){r[0]=Fo(n,t),r[1]=Fo(e,i),o[0]=$o(n,t),o[1]=$o(e,i)}var nq=[],iq=[];function $Xe(n,e,t,i,r,o,s,a,l,u){var c=lce,d=hr,h=c(n,t,r,s,nq);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var f=0;f<h;f++){var g=d(n,t,r,s,nq[f]);l[0]=Fo(g,l[0]),u[0]=$o(g,u[0])}h=c(e,i,o,a,iq);for(var f=0;f<h;f++){var p=d(e,i,o,a,iq[f]);l[1]=Fo(p,l[1]),u[1]=$o(p,u[1])}l[0]=Fo(n,l[0]),u[0]=$o(n,u[0]),l[0]=Fo(s,l[0]),u[0]=$o(s,u[0]),l[1]=Fo(e,l[1]),u[1]=$o(e,u[1]),l[1]=Fo(a,l[1]),u[1]=$o(a,u[1])}function VXe(n,e,t,i,r,o,s,a){var l=cce,u=xr,c=$o(Fo(l(n,t,r),1),0),d=$o(Fo(l(e,i,o),1),0),h=u(n,t,r,c),f=u(e,i,o,d);s[0]=Fo(n,r,h),s[1]=Fo(e,o,f),a[0]=$o(n,r,h),a[1]=$o(e,o,f)}function WXe(n,e,t,i,r,o,s,a,l){var u=Od,c=Rd,d=Math.abs(r-o);if(d%Xh<1e-4&&d>1e-4){a[0]=n-t,a[1]=e-i,l[0]=n+t,l[1]=e+i;return}if(yC[0]=FN(r)*t+n,yC[1]=BN(r)*i+e,_C[0]=FN(o)*t+n,_C[1]=BN(o)*i+e,u(a,yC,_C),c(l,yC,_C),r=r%Xh,r<0&&(r=r+Xh),o=o%Xh,o<0&&(o=o+Xh),r>o&&!s?o+=Xh:r<o&&s&&(r+=Xh),s){var h=o;o=r,r=h}for(var f=0;f<o;f+=Math.PI/2)f>r&&(bC[0]=FN(f)*t+n,bC[1]=BN(f)*i+e,u(a,bC,a),c(l,bC,l))}var Fn={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Zh=[],Qh=[],bl=[],od=[],Sl=[],wl=[],$N=Math.min,VN=Math.max,Jh=Math.cos,ef=Math.sin,Ou=Math.abs,sB=Math.PI,vd=sB*2,WN=typeof Float32Array<"u",I0=[];function zN(n){var e=Math.round(n/sB*1e8)/1e8;return e%2*sB}function Kce(n,e){var t=zN(n[0]);t<0&&(t+=vd);var i=t-n[0],r=n[1];r+=i,!e&&r-t>=vd?r=t+vd:e&&t-r>=vd?r=t-vd:!e&&t>r?r=t+(vd-zN(t-r)):e&&t<r&&(r=t-(vd-zN(r-t))),n[0]=t,n[1]=r}var pu=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,i){i=i||0,i>0&&(this._ux=Ou(i/SI/e)||0,this._uy=Ou(i/SI/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(Fn.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var i=Ou(e-this._xi),r=Ou(t-this._yi),o=i>this._ux||r>this._uy;if(this.addData(Fn.L,e,t),this._ctx&&o&&this._ctx.lineTo(e,t),o)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=i*i+r*r;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,i,r,o,s){return this._drawPendingPt(),this.addData(Fn.C,e,t,i,r,o,s),this._ctx&&this._ctx.bezierCurveTo(e,t,i,r,o,s),this._xi=o,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,i,r){return this._drawPendingPt(),this.addData(Fn.Q,e,t,i,r),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,r),this._xi=i,this._yi=r,this},n.prototype.arc=function(e,t,i,r,o,s){this._drawPendingPt(),I0[0]=r,I0[1]=o,Kce(I0,s),r=I0[0],o=I0[1];var a=o-r;return this.addData(Fn.A,e,t,i,i,r,a,0,s?0:1),this._ctx&&this._ctx.arc(e,t,i,r,o,s),this._xi=Jh(o)*i+e,this._yi=ef(o)*i+t,this},n.prototype.arcTo=function(e,t,i,r,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,i,r,o),this},n.prototype.rect=function(e,t,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,i,r),this.addData(Fn.R,e,t,i,r),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Fn.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&e.closePath(),this._xi=t,this._yi=i,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&WN&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,r=this._len,o=0;o<t;o++)i+=e[o].len();WN&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(var o=0;o<t;o++)for(var s=e[o].data,a=0;a<s.length;a++)this.data[r++]=s[a];this._len=r},n.prototype.addData=function(e,t,i,r,o,s,a,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var d=0;d<arguments.length;d++)c[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,WN&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){bl[0]=bl[1]=Sl[0]=Sl[1]=Number.MAX_VALUE,od[0]=od[1]=wl[0]=wl[1]=-Number.MAX_VALUE;var e=this.data,t=0,i=0,r=0,o=0,s;for(s=0;s<this._len;){var a=e[s++],l=s===1;switch(l&&(t=e[s],i=e[s+1],r=t,o=i),a){case Fn.M:t=r=e[s++],i=o=e[s++],Sl[0]=r,Sl[1]=o,wl[0]=r,wl[1]=o;break;case Fn.L:tq(t,i,e[s],e[s+1],Sl,wl),t=e[s++],i=e[s++];break;case Fn.C:$Xe(t,i,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Sl,wl),t=e[s++],i=e[s++];break;case Fn.Q:VXe(t,i,e[s++],e[s++],e[s],e[s+1],Sl,wl),t=e[s++],i=e[s++];break;case Fn.A:var u=e[s++],c=e[s++],d=e[s++],h=e[s++],f=e[s++],g=e[s++]+f;s+=1;var p=!e[s++];l&&(r=Jh(f)*d+u,o=ef(f)*h+c),WXe(u,c,d,h,f,g,p,Sl,wl),t=Jh(g)*d+u,i=ef(g)*h+c;break;case Fn.R:r=t=e[s++],o=i=e[s++];var m=e[s++],v=e[s++];tq(r,o,r+m,o+v,Sl,wl);break;case Fn.Z:t=r,i=o;break}Od(bl,bl,Sl),Rd(od,od,wl)}return s===0&&(bl[0]=bl[1]=od[0]=od[1]=0),new mt(bl[0],bl[1],od[0]-bl[0],od[1]-bl[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,i=this._ux,r=this._uy,o=0,s=0,a=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,d=0,h=0;h<t;){var f=e[h++],g=h===1;g&&(o=e[h],s=e[h+1],a=o,l=s);var p=-1;switch(f){case Fn.M:o=a=e[h++],s=l=e[h++];break;case Fn.L:{var m=e[h++],v=e[h++],y=m-o,_=v-s;(Ou(y)>i||Ou(_)>r||h===t-1)&&(p=Math.sqrt(y*y+_*_),o=m,s=v);break}case Fn.C:{var b=e[h++],S=e[h++],m=e[h++],v=e[h++],w=e[h++],C=e[h++];p=iYe(o,s,b,S,m,v,w,C,10),o=w,s=C;break}case Fn.Q:{var b=e[h++],S=e[h++],m=e[h++],v=e[h++];p=oYe(o,s,b,S,m,v,10),o=m,s=v;break}case Fn.A:var x=e[h++],L=e[h++],T=e[h++],I=e[h++],D=e[h++],M=e[h++],P=M+D;h+=1,e[h++],g&&(a=Jh(D)*T+x,l=ef(D)*I+L),p=VN(T,I)*$N(vd,Math.abs(M)),o=Jh(P)*T+x,s=ef(P)*I+L;break;case Fn.R:{a=o=e[h++],l=s=e[h++];var k=e[h++],O=e[h++];p=k*2+O*2;break}case Fn.Z:{var y=a-o,_=l-s;p=Math.sqrt(y*y+_*_),o=a,s=l;break}}p>=0&&(u[d++]=p,c+=p)}return this._pathLen=c,c},n.prototype.rebuildPath=function(e,t){var i=this.data,r=this._ux,o=this._uy,s=this._len,a,l,u,c,d,h,f=t<1,g,p,m=0,v=0,y,_=0,b,S;if(!(f&&(this._pathSegLen||this._calculateLength(),g=this._pathSegLen,p=this._pathLen,y=t*p,!y)))e:for(var w=0;w<s;){var C=i[w++],x=w===1;switch(x&&(u=i[w],c=i[w+1],a=u,l=c),C!==Fn.L&&_>0&&(e.lineTo(b,S),_=0),C){case Fn.M:a=u=i[w++],l=c=i[w++],e.moveTo(u,c);break;case Fn.L:{d=i[w++],h=i[w++];var L=Ou(d-u),T=Ou(h-c);if(L>r||T>o){if(f){var I=g[v++];if(m+I>y){var D=(y-m)/I;e.lineTo(u*(1-D)+d*D,c*(1-D)+h*D);break e}m+=I}e.lineTo(d,h),u=d,c=h,_=0}else{var M=L*L+T*T;M>_&&(b=d,S=h,_=M)}break}case Fn.C:{var P=i[w++],k=i[w++],O=i[w++],F=i[w++],R=i[w++],$=i[w++];if(f){var I=g[v++];if(m+I>y){var D=(y-m)/I;vh(u,P,O,R,D,Zh),vh(c,k,F,$,D,Qh),e.bezierCurveTo(Zh[1],Qh[1],Zh[2],Qh[2],Zh[3],Qh[3]);break e}m+=I}e.bezierCurveTo(P,k,O,F,R,$),u=R,c=$;break}case Fn.Q:{var P=i[w++],k=i[w++],O=i[w++],F=i[w++];if(f){var I=g[v++];if(m+I>y){var D=(y-m)/I;wS(u,P,O,D,Zh),wS(c,k,F,D,Qh),e.quadraticCurveTo(Zh[1],Qh[1],Zh[2],Qh[2]);break e}m+=I}e.quadraticCurveTo(P,k,O,F),u=O,c=F;break}case Fn.A:var H=i[w++],U=i[w++],z=i[w++],Z=i[w++],X=i[w++],ce=i[w++],q=i[w++],j=!i[w++],ie=z>Z?z:Z,Q=Ou(z-Z)>.001,le=X+ce,ue=!1;if(f){var I=g[v++];m+I>y&&(le=X+ce*(y-m)/I,ue=!0),m+=I}if(Q&&e.ellipse?e.ellipse(H,U,z,Z,q,X,le,j):e.arc(H,U,ie,X,le,j),ue)break e;x&&(a=Jh(X)*z+H,l=ef(X)*Z+U),u=Jh(le)*z+H,c=ef(le)*Z+U;break;case Fn.R:a=u=i[w],l=c=i[w+1],d=i[w++],h=i[w++];var W=i[w++],G=i[w++];if(f){var I=g[v++];if(m+I>y){var K=y-m;e.moveTo(d,h),e.lineTo(d+$N(K,W),h),K-=W,K>0&&e.lineTo(d+W,h+$N(K,G)),K-=G,K>0&&e.lineTo(d+VN(W-K,0),h+G),K-=W,K>0&&e.lineTo(d,h+VN(G-K,0));break e}m+=I}e.rect(d,h,W,G);break;case Fn.Z:if(f){var I=g[v++];if(m+I>y){var D=(y-m)/I;e.lineTo(u*(1-D)+a*D,c*(1-D)+l*D);break e}m+=I}e.closePath(),u=a,c=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=Fn,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();function Cd(n,e,t,i,r,o,s){if(r===0)return!1;var a=r,l=0,u=n;if(s>e+a&&s>i+a||s<e-a&&s<i-a||o>n+a&&o>t+a||o<n-a&&o<t-a)return!1;if(n!==t)l=(e-i)/(n-t),u=(n*i-t*e)/(n-t);else return Math.abs(o-n)<=a/2;var c=l*o-s+u,d=c*c/(l*l+1);return d<=a/2*a/2}function zXe(n,e,t,i,r,o,s,a,l,u,c){if(l===0)return!1;var d=l;if(c>e+d&&c>i+d&&c>o+d&&c>a+d||c<e-d&&c<i-d&&c<o-d&&c<a-d||u>n+d&&u>t+d&&u>r+d&&u>s+d||u<n-d&&u<t-d&&u<r-d&&u<s-d)return!1;var h=uce(n,e,t,i,r,o,s,a,u,c,null);return h<=d/2}function jce(n,e,t,i,r,o,s,a,l){if(s===0)return!1;var u=s;if(l>e+u&&l>i+u&&l>o+u||l<e-u&&l<i-u&&l<o-u||a>n+u&&a>t+u&&a>r+u||a<n-u&&a<t-u&&a<r-u)return!1;var c=dce(n,e,t,i,r,o,a,l,null);return c<=u/2}var rq=Math.PI*2;function qa(n){return n%=rq,n<0&&(n+=rq),n}var D0=Math.PI*2;function HXe(n,e,t,i,r,o,s,a,l){if(s===0)return!1;var u=s;a-=n,l-=e;var c=Math.sqrt(a*a+l*l);if(c-u>t||c+u<t)return!1;if(Math.abs(i-r)%D0<1e-4)return!0;if(o){var d=i;i=qa(r),r=qa(d)}else i=qa(i),r=qa(r);i>r&&(r+=D0);var h=Math.atan2(l,a);return h<0&&(h+=D0),h>=i&&h<=r||h+D0>=i&&h+D0<=r}function qu(n,e,t,i,r,o){if(o>e&&o>i||o<e&&o<i||i===e)return 0;var s=(o-e)/(i-e),a=i<e?1:-1;(s===1||s===0)&&(a=i<e?.5:-.5);var l=s*(t-n)+n;return l===r?1/0:l>r?a:0}var sd=pu.CMD,tf=Math.PI*2,UXe=1e-4;function GXe(n,e){return Math.abs(n-e)<UXe}var go=[-1,-1,-1],Us=[-1,-1];function KXe(){var n=Us[0];Us[0]=Us[1],Us[1]=n}function jXe(n,e,t,i,r,o,s,a,l,u){if(u>e&&u>i&&u>o&&u>a||u<e&&u<i&&u<o&&u<a)return 0;var c=vI(e,i,o,a,u,go);if(c===0)return 0;for(var d=0,h=-1,f=void 0,g=void 0,p=0;p<c;p++){var m=go[p],v=m===0||m===1?.5:1,y=hr(n,t,r,s,m);y<l||(h<0&&(h=lce(e,i,o,a,Us),Us[1]<Us[0]&&h>1&&KXe(),f=hr(e,i,o,a,Us[0]),h>1&&(g=hr(e,i,o,a,Us[1]))),h===2?m<Us[0]?d+=f<e?v:-v:m<Us[1]?d+=g<f?v:-v:d+=a<g?v:-v:m<Us[0]?d+=f<e?v:-v:d+=a<f?v:-v)}return d}function qXe(n,e,t,i,r,o,s,a){if(a>e&&a>i&&a>o||a<e&&a<i&&a<o)return 0;var l=rYe(e,i,o,a,go);if(l===0)return 0;var u=cce(e,i,o);if(u>=0&&u<=1){for(var c=0,d=xr(e,i,o,u),h=0;h<l;h++){var f=go[h]===0||go[h]===1?.5:1,g=xr(n,t,r,go[h]);g<s||(go[h]<u?c+=d<e?f:-f:c+=o<d?f:-f)}return c}else{var f=go[0]===0||go[0]===1?.5:1,g=xr(n,t,r,go[0]);return g<s?0:o<e?f:-f}}function YXe(n,e,t,i,r,o,s,a){if(a-=e,a>t||a<-t)return 0;var l=Math.sqrt(t*t-a*a);go[0]=-l,go[1]=l;var u=Math.abs(i-r);if(u<1e-4)return 0;if(u>=tf-1e-4){i=0,r=tf;var c=o?1:-1;return s>=go[0]+n&&s<=go[1]+n?c:0}if(i>r){var d=i;i=r,r=d}i<0&&(i+=tf,r+=tf);for(var h=0,f=0;f<2;f++){var g=go[f];if(g+n>s){var p=Math.atan2(a,g),c=o?1:-1;p<0&&(p=tf+p),(p>=i&&p<=r||p+tf>=i&&p+tf<=r)&&(p>Math.PI/2&&p<Math.PI*1.5&&(c=-c),h+=c)}}return h}function qce(n,e,t,i,r){for(var o=n.data,s=n.len(),a=0,l=0,u=0,c=0,d=0,h,f,g=0;g<s;){var p=o[g++],m=g===1;switch(p===sd.M&&g>1&&(t||(a+=qu(l,u,c,d,i,r))),m&&(l=o[g],u=o[g+1],c=l,d=u),p){case sd.M:c=o[g++],d=o[g++],l=c,u=d;break;case sd.L:if(t){if(Cd(l,u,o[g],o[g+1],e,i,r))return!0}else a+=qu(l,u,o[g],o[g+1],i,r)||0;l=o[g++],u=o[g++];break;case sd.C:if(t){if(zXe(l,u,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else a+=jXe(l,u,o[g++],o[g++],o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],u=o[g++];break;case sd.Q:if(t){if(jce(l,u,o[g++],o[g++],o[g],o[g+1],e,i,r))return!0}else a+=qXe(l,u,o[g++],o[g++],o[g],o[g+1],i,r)||0;l=o[g++],u=o[g++];break;case sd.A:var v=o[g++],y=o[g++],_=o[g++],b=o[g++],S=o[g++],w=o[g++];g+=1;var C=!!(1-o[g++]);h=Math.cos(S)*_+v,f=Math.sin(S)*b+y,m?(c=h,d=f):a+=qu(l,u,h,f,i,r);var x=(i-v)*b/_+v;if(t){if(HXe(v,y,b,S,S+w,C,e,x,r))return!0}else a+=YXe(v,y,b,S,S+w,C,x,r);l=Math.cos(S+w)*_+v,u=Math.sin(S+w)*b+y;break;case sd.R:c=l=o[g++],d=u=o[g++];var L=o[g++],T=o[g++];if(h=c+L,f=d+T,t){if(Cd(c,d,h,d,e,i,r)||Cd(h,d,h,f,e,i,r)||Cd(h,f,c,f,e,i,r)||Cd(c,f,c,d,e,i,r))return!0}else a+=qu(h,d,h,f,i,r),a+=qu(c,f,c,d,i,r);break;case sd.Z:if(t){if(Cd(l,u,c,d,e,i,r))return!0}else a+=qu(l,u,c,d,i,r);l=c,u=d;break}}return!t&&!GXe(u,d)&&(a+=qu(l,u,c,d,i,r)||0),a!==0}function XXe(n,e,t){return qce(n,0,!1,e,t)}function ZXe(n,e,t,i){return qce(n,e,!0,t,i)}var xI=Qe({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},bg),QXe={style:Qe({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},oM.style)},HN=gu.concat(["invisible","culling","z","z2","zlevel","parent"]),JXe=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var o=r.style;for(var s in i)o[s]!==i[s]&&(o[s]=i[s]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var a=0;a<HN.length;++a)r[HN[a]]=this[HN[a]];r.__dirty|=hs}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var i=Et(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var o=0;o<i.length;o++){var s=i[o],a=t[s];s==="style"?this.style?be(this.style,a):this.useStyle(a):s==="shape"?be(this.shape,a):n.prototype.attrKV.call(this,s,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if($e(t)){var i=_I(t,0);return i>.5?tB:i>.2?RYe:nB}else if(t)return nB}return tB},e.prototype.getInsideTextStroke=function(t){var i=this.style.fill;if($e(i)){var r=this.__zr,o=!!(r&&r.isDarkMode()),s=_I(t,0)<eB;if(o===s)return i}},e.prototype.buildPath=function(t,i,r){},e.prototype.pathUpdated=function(){this.__dirty&=~Cm},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new pu(!1)},e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return!(i==null||i==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,i=t.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,r=!t;if(r){var o=!1;this.path||(o=!0,this.createPathProxy());var s=this.path;(o||this.__dirty&Cm)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var a=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){a.copy(t);var l=i.strokeNoScale?this.getLineScale():1,u=i.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(a.width+=u/l,a.height+=u/l,a.x-=u/l/2,a.y-=u/l/2)}return a}return t},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect(),s=this.style;if(t=r[0],i=r[1],o.contain(t,i)){var a=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),ZXe(a,l/u,t,i)))return!0}if(this.hasFill())return XXe(a,t,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Cm,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,i){t==="shape"?this.setShape(i):n.prototype.attrKV.call(this,t,i)},e.prototype.setShape=function(t,i){var r=this.shape;return r||(r=this.shape={}),typeof t=="string"?r[t]=i:be(r,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Cm)},e.prototype.createStyle=function(t){return JE(xI,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var i=this._normalState;t.shape&&!i.shape&&(i.shape=be({},this.shape))},e.prototype._applyStateObj=function(t,i,r,o,s,a){n.prototype._applyStateObj.call(this,t,i,r,o,s,a);var l=!(i&&o),u;if(i&&i.shape?s?o?u=i.shape:(u=be({},r.shape),be(u,i.shape)):(u=be({},o?this.shape:r.shape),be(u,i.shape)):l&&(u=r.shape),u)if(s){this.shape=be({},this.shape);for(var c={},d=Et(u),h=0;h<d.length;h++){var f=d[h];typeof u[f]=="object"?this.shape[f]=u[f]:c[f]=u[f]}this._transitionState(t,{shape:c},a)}else this.shape=u,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var i=n.prototype._mergeStates.call(this,t),r,o=0;o<t.length;o++){var s=t[o];s.shape&&(r=r||{},this._mergeStyle(r,s.shape))}return r&&(i.shape=r),i},e.prototype.getAnimationStyleProps=function(){return QXe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(o){re(s,o);function s(a){var l=o.call(this,a)||this;return t.init&&t.init.call(l,a),l}return s.prototype.getDefaultStyle=function(){return rt(t.style)},s.prototype.getDefaultShape=function(){return rt(t.shape)},s}(e);for(var r in t)typeof t[r]=="function"&&(i.prototype[r]=t[r]);return i},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=hs|u_|Cm}(),e}(fa);const It=JXe;var eZe=Qe({strokeFirst:!0,font:ph,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},xI),Yce=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,i=t.stroke;return i!=null&&i!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,i=t.fill;return i!=null&&i!=="none"},e.prototype.createStyle=function(t){return JE(eZe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var i=t.text;i!=null?i+="":i="";var r=Iw(i,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var o=t.lineWidth;r.x-=o/2,r.y-=o/2,r.width+=o,r.height+=o}this._rect=r}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(fa);Yce.prototype.type="tspan";const TS=Yce;var tZe=Qe({x:0,y:0},bg),nZe={style:Qe({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},oM.style)};function iZe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var Xce=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return JE(tZe,t)},e.prototype._getSize=function(t){var i=this.style,r=i[t];if(r!=null)return r;var o=iZe(i.image)?i.image:this.__image;if(!o)return 0;var s=t==="width"?"height":"width",a=i[s];return a==null?o[t]:o[t]/o[s]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return nZe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new mt(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(fa);Xce.prototype.type="image";const Hr=Xce;function rZe(n,e){var t=e.x,i=e.y,r=e.width,o=e.height,s=e.r,a,l,u,c;r<0&&(t=t+r,r=-r),o<0&&(i=i+o,o=-o),typeof s=="number"?a=l=u=c=s:s instanceof Array?s.length===1?a=l=u=c=s[0]:s.length===2?(a=u=s[0],l=c=s[1]):s.length===3?(a=s[0],l=c=s[1],u=s[2]):(a=s[0],l=s[1],u=s[2],c=s[3]):a=l=u=c=0;var d;a+l>r&&(d=a+l,a*=r/d,l*=r/d),u+c>r&&(d=u+c,u*=r/d,c*=r/d),l+u>o&&(d=l+u,l*=o/d,u*=o/d),a+c>o&&(d=a+c,a*=o/d,c*=o/d),n.moveTo(t+a,i),n.lineTo(t+r-l,i),l!==0&&n.arc(t+r-l,i+l,l,-Math.PI/2,0),n.lineTo(t+r,i+o-u),u!==0&&n.arc(t+r-u,i+o-u,u,0,Math.PI/2),n.lineTo(t+c,i+o),c!==0&&n.arc(t+c,i+o-c,c,Math.PI/2,Math.PI),n.lineTo(t,i+a),a!==0&&n.arc(t+a,i+a,a,Math.PI,Math.PI*1.5)}var Vm=Math.round;function Zce(n,e,t){if(e){var i=e.x1,r=e.x2,o=e.y1,s=e.y2;n.x1=i,n.x2=r,n.y1=o,n.y2=s;var a=t&&t.lineWidth;return a&&(Vm(i*2)===Vm(r*2)&&(n.x1=n.x2=Qf(i,a,!0)),Vm(o*2)===Vm(s*2)&&(n.y1=n.y2=Qf(o,a,!0))),n}}function Qce(n,e,t){if(e){var i=e.x,r=e.y,o=e.width,s=e.height;n.x=i,n.y=r,n.width=o,n.height=s;var a=t&&t.lineWidth;return a&&(n.x=Qf(i,a,!0),n.y=Qf(r,a,!0),n.width=Math.max(Qf(i+o,a,!1)-n.x,o===0?0:1),n.height=Math.max(Qf(r+s,a,!1)-n.y,s===0?0:1)),n}}function Qf(n,e,t){if(!e)return n;var i=Vm(n*2);return(i+Vm(e))%2===0?i/2:(i+(t?1:-1))/2}var oZe=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),sZe={},Jce=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new oZe},e.prototype.buildPath=function(t,i){var r,o,s,a;if(this.subPixelOptimize){var l=Qce(sZe,i,this.style);r=l.x,o=l.y,s=l.width,a=l.height,l.r=i.r,i=l}else r=i.x,o=i.y,s=i.width,a=i.height;i.r?rZe(t,i):t.rect(r,o,s,a)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(It);Jce.prototype.type="rect";const Gt=Jce;var oq={fill:"#000"},sq=2,aZe={style:Qe({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},oM.style)},ede=function(n){re(e,n);function e(t){var i=n.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=oq,i.attr(t),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var i=this._children[t];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var i=this.innerTransformable;return i?i.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,cZe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new mt(0,0,0,0),i=this._children,r=[],o=null,s=0;s<i.length;s++){var a=i[s],l=a.getBoundingRect(),u=a.getLocalTransform(r);u?(t.copy(l),t.applyTransform(u),o=o||t.clone(),o.union(t)):(o=o||l.clone(),o.union(l))}this._rect=o||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||oq},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,i){if(!i)return t;var r=i.rich,o=t.rich||r&&{};return be(t,i),r&&o?(this._mergeRich(o,r),t.rich=o):o&&(t.rich=o),t},e.prototype._mergeRich=function(t,i){for(var r=Et(i),o=0;o<r.length;o++){var s=r[o];t[s]=t[s]||{},be(t[s],i[s])}},e.prototype.getAnimationStyleProps=function(){return aZe},e.prototype._getOrCreateChild=function(t){var i=this._children[this._childCursor];return(!i||!(i instanceof t))&&(i=new t),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var t=this.style,i=t.font||ph,r=t.padding,o=fq(t),s=EXe(o,t),a=UN(t),l=!!t.backgroundColor,u=s.outerHeight,c=s.outerWidth,d=s.contentWidth,h=s.lines,f=s.lineHeight,g=this._defaultStyle,p=t.x||0,m=t.y||0,v=t.align||g.align||"left",y=t.verticalAlign||g.verticalAlign||"top",_=p,b=xm(m,s.contentHeight,y);if(a||r){var S=d_(p,c,v),w=xm(m,u,y);a&&this._renderBackground(t,t,S,w,c,u)}b+=f/2,r&&(_=hq(p,v,r),y==="top"?b+=r[0]:y==="bottom"&&(b-=r[2]));for(var C=0,x=!1,L=dq("fill"in t?t.fill:(x=!0,g.fill)),T=cq("stroke"in t?t.stroke:!l&&(!g.autoStroke||x)?(C=sq,g.stroke):null),I=t.textShadowBlur>0,D=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),M=s.calculatedLineHeight,P=0;P<h.length;P++){var k=this._getOrCreateChild(TS),O=k.createStyle();k.useStyle(O),O.text=h[P],O.x=_,O.y=b,v&&(O.textAlign=v),O.textBaseline="middle",O.opacity=t.opacity,O.strokeFirst=!0,I&&(O.shadowBlur=t.textShadowBlur||0,O.shadowColor=t.textShadowColor||"transparent",O.shadowOffsetX=t.textShadowOffsetX||0,O.shadowOffsetY=t.textShadowOffsetY||0),O.stroke=T,O.fill=L,T&&(O.lineWidth=t.lineWidth||C,O.lineDash=t.lineDash,O.lineDashOffset=t.lineDashOffset||0),O.font=i,lq(O,t),b+=f,D&&k.setBoundingRect(new mt(d_(O.x,t.width,O.textAlign),xm(O.y,M,O.textBaseline),d,M))}},e.prototype._updateRichTexts=function(){var t=this.style,i=fq(t),r=NXe(i,t),o=r.width,s=r.outerWidth,a=r.outerHeight,l=t.padding,u=t.x||0,c=t.y||0,d=this._defaultStyle,h=t.align||d.align,f=t.verticalAlign||d.verticalAlign,g=d_(u,s,h),p=xm(c,a,f),m=g,v=p;l&&(m+=l[3],v+=l[0]);var y=m+o;UN(t)&&this._renderBackground(t,t,g,p,s,a);for(var _=!!t.backgroundColor,b=0;b<r.lines.length;b++){for(var S=r.lines[b],w=S.tokens,C=w.length,x=S.lineHeight,L=S.width,T=0,I=m,D=y,M=C-1,P=void 0;T<C&&(P=w[T],!P.align||P.align==="left");)this._placeToken(P,t,x,v,I,"left",_),L-=P.width,I+=P.width,T++;for(;M>=0&&(P=w[M],P.align==="right");)this._placeToken(P,t,x,v,D,"right",_),L-=P.width,D-=P.width,M--;for(I+=(o-(I-m)-(y-D)-L)/2;T<=M;)P=w[T],this._placeToken(P,t,x,v,I+P.width/2,"center",_),I+=P.width,T++;v+=x}},e.prototype._placeToken=function(t,i,r,o,s,a,l){var u=i.rich[t.styleName]||{};u.text=t.text;var c=t.verticalAlign,d=o+r/2;c==="top"?d=o+t.height/2:c==="bottom"&&(d=o+r-t.height/2);var h=!t.isLineHolder&&UN(u);h&&this._renderBackground(u,i,a==="right"?s-t.width:a==="center"?s-t.width/2:s,d-t.height/2,t.width,t.height);var f=!!u.backgroundColor,g=t.textPadding;g&&(s=hq(s,a,g),d-=t.height/2-g[0]-t.innerHeight/2);var p=this._getOrCreateChild(TS),m=p.createStyle();p.useStyle(m);var v=this._defaultStyle,y=!1,_=0,b=dq("fill"in u?u.fill:"fill"in i?i.fill:(y=!0,v.fill)),S=cq("stroke"in u?u.stroke:"stroke"in i?i.stroke:!f&&!l&&(!v.autoStroke||y)?(_=sq,v.stroke):null),w=u.textShadowBlur>0||i.textShadowBlur>0;m.text=t.text,m.x=s,m.y=d,w&&(m.shadowBlur=u.textShadowBlur||i.textShadowBlur||0,m.shadowColor=u.textShadowColor||i.textShadowColor||"transparent",m.shadowOffsetX=u.textShadowOffsetX||i.textShadowOffsetX||0,m.shadowOffsetY=u.textShadowOffsetY||i.textShadowOffsetY||0),m.textAlign=a,m.textBaseline="middle",m.font=t.font||ph,m.opacity=eu(u.opacity,i.opacity,1),lq(m,u),S&&(m.lineWidth=eu(u.lineWidth,i.lineWidth,_),m.lineDash=gt(u.lineDash,i.lineDash),m.lineDashOffset=i.lineDashOffset||0,m.stroke=S),b&&(m.fill=b);var C=t.contentWidth,x=t.contentHeight;p.setBoundingRect(new mt(d_(m.x,C,m.textAlign),xm(m.y,x,m.textBaseline),C,x))},e.prototype._renderBackground=function(t,i,r,o,s,a){var l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,d=l&&l.image,h=l&&!d,f=t.borderRadius,g=this,p,m;if(h||t.lineHeight||u&&c){p=this._getOrCreateChild(Gt),p.useStyle(p.createStyle()),p.style.fill=null;var v=p.shape;v.x=r,v.y=o,v.width=s,v.height=a,v.r=f,p.dirtyShape()}if(h){var y=p.style;y.fill=l||null,y.fillOpacity=gt(t.fillOpacity,1)}else if(d){m=this._getOrCreateChild(Hr),m.onload=function(){g.dirtyStyle()};var _=m.style;_.image=l.image,_.x=r,_.y=o,_.width=s,_.height=a}if(u&&c){var y=p.style;y.lineWidth=u,y.stroke=c,y.strokeOpacity=gt(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,p.strokeContainThreshold=0,p.hasFill()&&p.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var b=(p||m).style;b.shadowBlur=t.shadowBlur||0,b.shadowColor=t.shadowColor||"transparent",b.shadowOffsetX=t.shadowOffsetX||0,b.shadowOffsetY=t.shadowOffsetY||0,b.opacity=eu(t.opacity,i.opacity,1)},e.makeFont=function(t){var i="";return nde(t)&&(i=[t.fontStyle,t.fontWeight,tde(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),i&&ja(i)||t.textFont||t.font},e}(fa),lZe={left:!0,right:1,center:1},uZe={top:1,bottom:1,middle:1},aq=["fontStyle","fontWeight","fontSize","fontFamily"];function tde(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?pW+"px":n+"px"}function lq(n,e){for(var t=0;t<aq.length;t++){var i=aq[t],r=e[i];r!=null&&(n[i]=r)}}function nde(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function cZe(n){return uq(n),B(n.rich,uq),n}function uq(n){if(n){n.font=ede.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||lZe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||uZe[t]?t:"top";var i=n.padding;i&&(n.padding=SW(n.padding))}}function cq(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function dq(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function hq(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function fq(n){var e=n.text;return e!=null&&(e+=""),e}function UN(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Zt=ede;var ut=Kt(),aB=function(n,e,t,i){if(i){var r=ut(i);r.dataIndex=t,r.dataType=e,r.seriesIndex=n,i.type==="group"&&i.traverse(function(o){var s=ut(o);s.seriesIndex=n,s.dataIndex=t,s.dataType=e})}},gq=1,pq={},ide=Kt(),PW=Kt(),OW=0,Ew=1,aM=2,Lo=["emphasis","blur","select"],IS=["normal","emphasis","blur","select"],Fy=10,dZe=9,Sg="highlight",fL="downplay",hb="select",gL="unselect",fb="toggleSelect";function em(n){return n!=null&&n!=="none"}var mq=new Tw(100);function vq(n){if($e(n)){var e=mq.get(n);return e||(e=j5(n,-.1),mq.put(n,e)),e}else if(QE(n)){var t=be({},n);return t.colorStops=Te(n.colorStops,function(i){return{offset:i.offset,color:j5(i.color,-.1)}}),t}return n}function lM(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function rde(n){lM(n,"emphasis",aM)}function ode(n){n.hoverState===aM&&lM(n,"normal",OW)}function RW(n){lM(n,"blur",Ew)}function sde(n){n.hoverState===Ew&&lM(n,"normal",OW)}function hZe(n){n.selected=!0}function fZe(n){n.selected=!1}function yq(n,e,t){e(n,t)}function Kc(n,e,t){yq(n,e,t),n.isGroup&&n.traverse(function(i){yq(i,e,t)})}function LI(n,e){switch(e){case"emphasis":n.hoverState=aM;break;case"normal":n.hoverState=OW;break;case"blur":n.hoverState=Ew;break;case"select":n.selected=!0}}function gZe(n,e,t,i){for(var r=n.style,o={},s=0;s<e.length;s++){var a=e[s],l=r[a];o[a]=l??(i&&i[a])}for(var s=0;s<n.animators.length;s++){var u=n.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(t)<0&&u.targetName==="style"&&u.saveTo(o,e)}return o}function pZe(n,e,t,i){var r=t&&Ct(t,"select")>=0,o=!1;if(n instanceof It){var s=ide(n),a=r&&s.selectFill||s.normalFill,l=r&&s.selectStroke||s.normalStroke;if(em(a)||em(l)){i=i||{};var u=i.style||{};u.fill==="inherit"?(o=!0,i=be({},i),u=be({},u),u.fill=a):!em(u.fill)&&em(a)?(o=!0,i=be({},i),u=be({},u),u.fill=vq(a)):!em(u.stroke)&&em(l)&&(o||(i=be({},i),u=be({},u)),u.stroke=vq(l)),i.style=u}}if(i&&i.z2==null){o||(i=be({},i));var c=n.z2EmphasisLift;i.z2=n.z2+(c??Fy)}return i}function mZe(n,e,t){if(t&&t.z2==null){t=be({},t);var i=n.z2SelectLift;t.z2=n.z2+(i??dZe)}return t}function vZe(n,e,t){var i=Ct(n.currentStates,e)>=0,r=n.style.opacity,o=i?null:gZe(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=be({},t),s=be({opacity:i?r:o.opacity*.1},s),t.style=s),t}function GN(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return pZe(this,n,e,t);if(n==="blur")return vZe(this,n,t);if(n==="select")return mZe(this,n,t)}return t}function ep(n){n.stateProxy=GN;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=GN),t&&(t.stateProxy=GN)}function _q(n,e){!cde(n,e)&&!n.__highByOuter&&Kc(n,rde)}function bq(n,e){!cde(n,e)&&!n.__highByOuter&&Kc(n,ode)}function Nc(n,e){n.__highByOuter|=1<<(e||0),Kc(n,rde)}function kc(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Kc(n,ode)}function ade(n){Kc(n,RW)}function BW(n){Kc(n,sde)}function lde(n){Kc(n,hZe)}function ude(n){Kc(n,fZe)}function cde(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function dde(n){var e=n.getModel(),t=[],i=[];e.eachComponent(function(r,o){var s=PW(o),a=r==="series",l=a?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!a&&i.push(l),s.isBlured&&(l.group.traverse(function(u){sde(u)}),a&&t.push(o)),s.isBlured=!1}),B(i,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,e)})}function lB(n,e,t,i){var r=i.getModel();t=t||"coordinateSystem";function o(u,c){for(var d=0;d<c.length;d++){var h=u.getItemGraphicEl(c[d]);h&&BW(h)}}if(n!=null&&!(!e||e==="none")){var s=r.getSeriesByIndex(n),a=s.coordinateSystem;a&&a.master&&(a=a.master);var l=[];r.eachSeries(function(u){var c=s===u,d=u.coordinateSystem;d&&d.master&&(d=d.master);var h=d&&a?d===a:c;if(!(t==="series"&&!c||t==="coordinateSystem"&&!h||e==="series"&&c)){var f=i.getViewOfSeriesModel(u);if(f.group.traverse(function(m){m.__highByOuter&&c&&e==="self"||RW(m)}),io(e))o(u.getData(),e);else if(et(e))for(var g=Et(e),p=0;p<g.length;p++)o(u.getData(g[p]),e[g[p]]);l.push(u),PW(u).isBlured=!0}}),r.eachComponent(function(u,c){if(u!=="series"){var d=i.getViewOfComponentModel(c);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,r)}})}}function uB(n,e,t){if(!(n==null||e==null)){var i=t.getModel().getComponent(n,e);if(i){PW(i).isBlured=!0;var r=t.getViewOfComponentModel(i);!r||!r.focusBlurEnabled||r.group.traverse(function(o){RW(o)})}}}function yZe(n,e,t){var i=n.seriesIndex,r=n.getData(e.dataType);if(r){var o=Qg(r,e);o=(we(o)?o[0]:o)||0;var s=r.getItemGraphicEl(o);if(!s)for(var a=r.count(),l=0;!s&&l<a;)s=r.getItemGraphicEl(l++);if(s){var u=ut(s);lB(i,u.focus,u.blurScope,t)}else{var c=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);c!=null&&lB(i,c,d,t)}}}function FW(n,e,t,i){var r={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return r;var o=i.getModel().getComponent(n,e);if(!o)return r;var s=i.getViewOfComponentModel(o);if(!s||!s.findHighDownDispatchers)return r;for(var a=s.findHighDownDispatchers(t),l,u=0;u<a.length;u++)if(ut(a[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:a}}function _Ze(n,e,t){var i=ut(n),r=FW(i.componentMainType,i.componentIndex,i.componentHighDownName,t),o=r.dispatchers,s=r.focusSelf;o?(s&&uB(i.componentMainType,i.componentIndex,t),B(o,function(a){return _q(a,e)})):(lB(i.seriesIndex,i.focus,i.blurScope,t),i.focus==="self"&&uB(i.componentMainType,i.componentIndex,t),_q(n,e))}function bZe(n,e,t){dde(t);var i=ut(n),r=FW(i.componentMainType,i.componentIndex,i.componentHighDownName,t).dispatchers;r?B(r,function(o){return bq(o,e)}):bq(n,e)}function SZe(n,e,t){if(dB(e)){var i=e.dataType,r=n.getData(i),o=Qg(r,e);we(o)||(o=[o]),n[e.type===fb?"toggleSelect":e.type===hb?"select":"unselect"](o,i)}}function Sq(n){var e=n.getAllData();B(e,function(t){var i=t.data,r=t.type;i.eachItemGraphicEl(function(o,s){n.isSelected(s,r)?lde(o):ude(o)})})}function wZe(n){var e=[];return n.eachSeries(function(t){var i=t.getAllData();B(i,function(r){r.data;var o=r.type,s=t.getSelectedDataIndices();if(s.length>0){var a={dataIndex:s,seriesIndex:t.seriesIndex};o!=null&&(a.dataType=o),e.push(a)}})}),e}function wg(n,e,t){Jf(n,!0),Kc(n,ep),cB(n,e,t)}function CZe(n){Jf(n,!1)}function mi(n,e,t,i){i?CZe(n):wg(n,e,t)}function cB(n,e,t){var i=ut(n);e!=null?(i.focus=e,i.blurScope=t):i.focus&&(i.focus=null)}var wq=["emphasis","blur","select"],xZe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Vr(n,e,t,i){t=t||"itemStyle";for(var r=0;r<wq.length;r++){var o=wq[r],s=e.getModel([o,t]),a=n.ensureState(o);a.style=i?i(s):s[xZe[t]]()}}function Jf(n,e){var t=e===!1,i=n;n.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!t)}function DS(n){return!!(n&&n.__highDownDispatcher)}function LZe(n,e,t){var i=ut(n);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=t}function TZe(n){var e=pq[n];return e==null&&gq<=32&&(e=pq[n]=gq++),e}function dB(n){var e=n.type;return e===hb||e===gL||e===fb}function Cq(n){var e=n.type;return e===Sg||e===fL}function IZe(n){var e=ide(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var tm=pu.CMD,DZe=[[],[],[]],xq=Math.sqrt,EZe=Math.atan2;function hde(n,e){if(e){var t=n.data,i=n.len(),r,o,s,a,l,u,c=tm.M,d=tm.C,h=tm.L,f=tm.R,g=tm.A,p=tm.Q;for(s=0,a=0;s<i;){switch(r=t[s++],a=s,o=0,r){case c:o=1;break;case h:o=1;break;case d:o=3;break;case p:o=2;break;case g:var m=e[4],v=e[5],y=xq(e[0]*e[0]+e[1]*e[1]),_=xq(e[2]*e[2]+e[3]*e[3]),b=EZe(-e[1]/_,e[0]/y);t[s]*=y,t[s++]+=m,t[s]*=_,t[s++]+=v,t[s++]*=y,t[s++]*=_,t[s++]+=b,t[s++]+=b,s+=2,a=s;break;case f:u[0]=t[s++],u[1]=t[s++],Fr(u,u,e),t[a++]=u[0],t[a++]=u[1],u[0]+=t[s++],u[1]+=t[s++],Fr(u,u,e),t[a++]=u[0],t[a++]=u[1]}for(l=0;l<o;l++){var S=DZe[l];S[0]=t[s++],S[1]=t[s++],Fr(S,S,e),t[a++]=S[0],t[a++]=S[1]}}n.increaseVersion()}}var KN=Math.sqrt,SC=Math.sin,wC=Math.cos,E0=Math.PI;function Lq(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function hB(n,e){return(n[0]*e[0]+n[1]*e[1])/(Lq(n)*Lq(e))}function Tq(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(hB(n,e))}function Iq(n,e,t,i,r,o,s,a,l,u,c){var d=l*(E0/180),h=wC(d)*(n-t)/2+SC(d)*(e-i)/2,f=-1*SC(d)*(n-t)/2+wC(d)*(e-i)/2,g=h*h/(s*s)+f*f/(a*a);g>1&&(s*=KN(g),a*=KN(g));var p=(r===o?-1:1)*KN((s*s*(a*a)-s*s*(f*f)-a*a*(h*h))/(s*s*(f*f)+a*a*(h*h)))||0,m=p*s*f/a,v=p*-a*h/s,y=(n+t)/2+wC(d)*m-SC(d)*v,_=(e+i)/2+SC(d)*m+wC(d)*v,b=Tq([1,0],[(h-m)/s,(f-v)/a]),S=[(h-m)/s,(f-v)/a],w=[(-1*h-m)/s,(-1*f-v)/a],C=Tq(S,w);if(hB(S,w)<=-1&&(C=E0),hB(S,w)>=1&&(C=0),C<0){var x=Math.round(C/E0*1e6)/1e6;C=E0*2+x%2*E0}c.addData(u,y,_,s,a,b,C,d,o)}var MZe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,AZe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function NZe(n){var e=new pu;if(!n)return e;var t=0,i=0,r=t,o=i,s,a=pu.CMD,l=n.match(MZe);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],d=c.charAt(0),h=void 0,f=c.match(AZe)||[],g=f.length,p=0;p<g;p++)f[p]=parseFloat(f[p]);for(var m=0;m<g;){var v=void 0,y=void 0,_=void 0,b=void 0,S=void 0,w=void 0,C=void 0,x=t,L=i,T=void 0,I=void 0;switch(d){case"l":t+=f[m++],i+=f[m++],h=a.L,e.addData(h,t,i);break;case"L":t=f[m++],i=f[m++],h=a.L,e.addData(h,t,i);break;case"m":t+=f[m++],i+=f[m++],h=a.M,e.addData(h,t,i),r=t,o=i,d="l";break;case"M":t=f[m++],i=f[m++],h=a.M,e.addData(h,t,i),r=t,o=i,d="L";break;case"h":t+=f[m++],h=a.L,e.addData(h,t,i);break;case"H":t=f[m++],h=a.L,e.addData(h,t,i);break;case"v":i+=f[m++],h=a.L,e.addData(h,t,i);break;case"V":i=f[m++],h=a.L,e.addData(h,t,i);break;case"C":h=a.C,e.addData(h,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),t=f[m-2],i=f[m-1];break;case"c":h=a.C,e.addData(h,f[m++]+t,f[m++]+i,f[m++]+t,f[m++]+i,f[m++]+t,f[m++]+i),t+=f[m-2],i+=f[m-1];break;case"S":v=t,y=i,T=e.len(),I=e.data,s===a.C&&(v+=t-I[T-4],y+=i-I[T-3]),h=a.C,x=f[m++],L=f[m++],t=f[m++],i=f[m++],e.addData(h,v,y,x,L,t,i);break;case"s":v=t,y=i,T=e.len(),I=e.data,s===a.C&&(v+=t-I[T-4],y+=i-I[T-3]),h=a.C,x=t+f[m++],L=i+f[m++],t+=f[m++],i+=f[m++],e.addData(h,v,y,x,L,t,i);break;case"Q":x=f[m++],L=f[m++],t=f[m++],i=f[m++],h=a.Q,e.addData(h,x,L,t,i);break;case"q":x=f[m++]+t,L=f[m++]+i,t+=f[m++],i+=f[m++],h=a.Q,e.addData(h,x,L,t,i);break;case"T":v=t,y=i,T=e.len(),I=e.data,s===a.Q&&(v+=t-I[T-4],y+=i-I[T-3]),t=f[m++],i=f[m++],h=a.Q,e.addData(h,v,y,t,i);break;case"t":v=t,y=i,T=e.len(),I=e.data,s===a.Q&&(v+=t-I[T-4],y+=i-I[T-3]),t+=f[m++],i+=f[m++],h=a.Q,e.addData(h,v,y,t,i);break;case"A":_=f[m++],b=f[m++],S=f[m++],w=f[m++],C=f[m++],x=t,L=i,t=f[m++],i=f[m++],h=a.A,Iq(x,L,t,i,w,C,_,b,S,h,e);break;case"a":_=f[m++],b=f[m++],S=f[m++],w=f[m++],C=f[m++],x=t,L=i,t+=f[m++],i+=f[m++],h=a.A,Iq(x,L,t,i,w,C,_,b,S,h,e);break}}(d==="z"||d==="Z")&&(h=a.Z,e.addData(h),t=r,i=o),s=h}return e.toStatic(),e}var fde=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(It);function gde(n){return n.setData!=null}function pde(n,e){var t=NZe(n),i=be({},e);return i.buildPath=function(r){if(gde(r)){r.setData(t.data);var o=r.getContext();o&&r.rebuildPath(o,1)}else{var o=r;t.rebuildPath(o,1)}},i.applyTransform=function(r){hde(t,r),this.dirtyShape()},i}function mde(n,e){return new fde(pde(n,e))}function kZe(n,e){var t=pde(n,e),i=function(r){re(o,r);function o(s){var a=r.call(this,s)||this;return a.applyTransform=t.applyTransform,a.buildPath=t.buildPath,a}return o}(fde);return i}function PZe(n,e){for(var t=[],i=n.length,r=0;r<i;r++){var o=n[r];t.push(o.getUpdatedPathProxy(!0))}var s=new It(e);return s.createPathProxy(),s.buildPath=function(a){if(gde(a)){a.appendPath(t);var l=a.getContext();l&&a.rebuildPath(l,1)}},s}function $W(n,e){e=e||{};var t=new It;return n.shape&&t.setShape(n.shape),t.setStyle(n.style),e.bakeTransform?hde(t.path,n.getComputedTransform()):e.toLocal?t.setLocalTransform(n.getComputedTransform()):t.copyTransform(n),t.buildPath=n.buildPath,t.applyTransform=t.applyTransform,t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t}var OZe=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),vde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new OZe},e.prototype.buildPath=function(t,i){t.moveTo(i.cx+i.r,i.cy),t.arc(i.cx,i.cy,i.r,0,Math.PI*2)},e}(It);vde.prototype.type="circle";const mu=vde;var RZe=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),yde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new RZe},e.prototype.buildPath=function(t,i){var r=.5522848,o=i.cx,s=i.cy,a=i.rx,l=i.ry,u=a*r,c=l*r;t.moveTo(o-a,s),t.bezierCurveTo(o-a,s-c,o-u,s-l,o,s-l),t.bezierCurveTo(o+u,s-l,o+a,s-c,o+a,s),t.bezierCurveTo(o+a,s+c,o+u,s+l,o,s+l),t.bezierCurveTo(o-u,s+l,o-a,s+c,o-a,s),t.closePath()},e}(It);yde.prototype.type="ellipse";const VW=yde;var _de=Math.PI,jN=_de*2,nf=Math.sin,nm=Math.cos,BZe=Math.acos,Ur=Math.atan2,Dq=Math.abs,gb=Math.sqrt,h_=Math.max,Cl=Math.min,Ca=1e-4;function FZe(n,e,t,i,r,o,s,a){var l=t-n,u=i-e,c=s-r,d=a-o,h=d*l-c*u;if(!(h*h<Ca))return h=(c*(e-o)-d*(n-r))/h,[n+h*l,e+h*u]}function CC(n,e,t,i,r,o,s){var a=n-t,l=e-i,u=(s?o:-o)/gb(a*a+l*l),c=u*l,d=-u*a,h=n+c,f=e+d,g=t+c,p=i+d,m=(h+g)/2,v=(f+p)/2,y=g-h,_=p-f,b=y*y+_*_,S=r-o,w=h*p-g*f,C=(_<0?-1:1)*gb(h_(0,S*S*b-w*w)),x=(w*_-y*C)/b,L=(-w*y-_*C)/b,T=(w*_+y*C)/b,I=(-w*y+_*C)/b,D=x-m,M=L-v,P=T-m,k=I-v;return D*D+M*M>P*P+k*k&&(x=T,L=I),{cx:x,cy:L,x0:-c,y0:-d,x1:x*(r/S-1),y1:L*(r/S-1)}}function $Ze(n){var e;if(we(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function VZe(n,e){var t,i=h_(e.r,0),r=h_(e.r0||0,0),o=i>0,s=r>0;if(!(!o&&!s)){if(o||(i=r,r=0),r>i){var a=i;i=r,r=a}var l=e.startAngle,u=e.endAngle;if(!(isNaN(l)||isNaN(u))){var c=e.cx,d=e.cy,h=!!e.clockwise,f=Dq(u-l),g=f>jN&&f%jN;if(g>Ca&&(f=g),!(i>Ca))n.moveTo(c,d);else if(f>jN-Ca)n.moveTo(c+i*nm(l),d+i*nf(l)),n.arc(c,d,i,l,u,!h),r>Ca&&(n.moveTo(c+r*nm(u),d+r*nf(u)),n.arc(c,d,r,u,l,h));else{var p=void 0,m=void 0,v=void 0,y=void 0,_=void 0,b=void 0,S=void 0,w=void 0,C=void 0,x=void 0,L=void 0,T=void 0,I=void 0,D=void 0,M=void 0,P=void 0,k=i*nm(l),O=i*nf(l),F=r*nm(u),R=r*nf(u),$=f>Ca;if($){var H=e.cornerRadius;H&&(t=$Ze(H),p=t[0],m=t[1],v=t[2],y=t[3]);var U=Dq(i-r)/2;if(_=Cl(U,v),b=Cl(U,y),S=Cl(U,p),w=Cl(U,m),L=C=h_(_,b),T=x=h_(S,w),(C>Ca||x>Ca)&&(I=i*nm(u),D=i*nf(u),M=r*nm(l),P=r*nf(l),f<_de)){var z=FZe(k,O,M,P,I,D,F,R);if(z){var Z=k-z[0],X=O-z[1],ce=I-z[0],q=D-z[1],j=1/nf(BZe((Z*ce+X*q)/(gb(Z*Z+X*X)*gb(ce*ce+q*q)))/2),ie=gb(z[0]*z[0]+z[1]*z[1]);L=Cl(C,(i-ie)/(j+1)),T=Cl(x,(r-ie)/(j-1))}}}if(!$)n.moveTo(c+k,d+O);else if(L>Ca){var Q=Cl(v,L),le=Cl(y,L),ue=CC(M,P,k,O,i,Q,h),W=CC(I,D,F,R,i,le,h);n.moveTo(c+ue.cx+ue.x0,d+ue.cy+ue.y0),L<C&&Q===le?n.arc(c+ue.cx,d+ue.cy,L,Ur(ue.y0,ue.x0),Ur(W.y0,W.x0),!h):(Q>0&&n.arc(c+ue.cx,d+ue.cy,Q,Ur(ue.y0,ue.x0),Ur(ue.y1,ue.x1),!h),n.arc(c,d,i,Ur(ue.cy+ue.y1,ue.cx+ue.x1),Ur(W.cy+W.y1,W.cx+W.x1),!h),le>0&&n.arc(c+W.cx,d+W.cy,le,Ur(W.y1,W.x1),Ur(W.y0,W.x0),!h))}else n.moveTo(c+k,d+O),n.arc(c,d,i,l,u,!h);if(!(r>Ca)||!$)n.lineTo(c+F,d+R);else if(T>Ca){var Q=Cl(p,T),le=Cl(m,T),ue=CC(F,R,I,D,r,-le,h),W=CC(k,O,M,P,r,-Q,h);n.lineTo(c+ue.cx+ue.x0,d+ue.cy+ue.y0),T<x&&Q===le?n.arc(c+ue.cx,d+ue.cy,T,Ur(ue.y0,ue.x0),Ur(W.y0,W.x0),!h):(le>0&&n.arc(c+ue.cx,d+ue.cy,le,Ur(ue.y0,ue.x0),Ur(ue.y1,ue.x1),!h),n.arc(c,d,r,Ur(ue.cy+ue.y1,ue.cx+ue.x1),Ur(W.cy+W.y1,W.cx+W.x1),h),Q>0&&n.arc(c+W.cx,d+W.cy,Q,Ur(W.y1,W.x1),Ur(W.y0,W.x0),!h))}else n.lineTo(c+F,d+R),n.arc(c,d,r,u,l,h)}n.closePath()}}}var WZe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),bde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new WZe},e.prototype.buildPath=function(t,i){VZe(t,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(It);bde.prototype.type="sector";const Xo=bde;var zZe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),Sde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new zZe},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=Math.PI*2;t.moveTo(r+i.r,o),t.arc(r,o,i.r,0,s,!1),t.moveTo(r+i.r0,o),t.arc(r,o,i.r0,0,s,!0)},e}(It);Sde.prototype.type="ring";const uM=Sde;function HZe(n,e,t,i){var r=[],o=[],s=[],a=[],l,u,c,d;if(i){c=[1/0,1/0],d=[-1/0,-1/0];for(var h=0,f=n.length;h<f;h++)Od(c,c,n[h]),Rd(d,d,n[h]);Od(c,c,i[0]),Rd(d,d,i[1])}for(var h=0,f=n.length;h<f;h++){var g=n[h];if(t)l=n[h?h-1:f-1],u=n[(h+1)%f];else if(h===0||h===f-1){r.push(vc(n[h]));continue}else l=n[h-1],u=n[h+1];Zf(o,u,l),oL(o,o,e);var p=F5(g,l),m=F5(g,u),v=p+m;v!==0&&(p/=v,m/=v),oL(s,o,-p),oL(a,o,m);var y=bj([],g,s),_=bj([],g,a);i&&(Rd(y,y,c),Od(y,y,d),Rd(_,_,c),Od(_,_,d)),r.push(y),r.push(_)}return t&&r.push(r.shift()),r}function wde(n,e,t){var i=e.smooth,r=e.points;if(r&&r.length>=2){if(i){var o=HZe(r,i,t,e.smoothConstraint);n.moveTo(r[0][0],r[0][1]);for(var s=r.length,a=0;a<(t?s:s-1);a++){var l=o[a*2],u=o[a*2+1],c=r[(a+1)%s];n.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{n.moveTo(r[0][0],r[0][1]);for(var a=1,d=r.length;a<d;a++)n.lineTo(r[a][0],r[a][1])}t&&n.closePath()}}var UZe=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Cde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new UZe},e.prototype.buildPath=function(t,i){wde(t,i,!0)},e}(It);Cde.prototype.type="polygon";const Zo=Cde;var GZe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),xde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new GZe},e.prototype.buildPath=function(t,i){wde(t,i,!1)},e}(It);xde.prototype.type="polyline";const ts=xde;var KZe={},jZe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Lde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jZe},e.prototype.buildPath=function(t,i){var r,o,s,a;if(this.subPixelOptimize){var l=Zce(KZe,i,this.style);r=l.x1,o=l.y1,s=l.x2,a=l.y2}else r=i.x1,o=i.y1,s=i.x2,a=i.y2;var u=i.percent;u!==0&&(t.moveTo(r,o),u<1&&(s=r*(1-u)+s*u,a=o*(1-u)+a*u),t.lineTo(s,a))},e.prototype.pointAt=function(t){var i=this.shape;return[i.x1*(1-t)+i.x2*t,i.y1*(1-t)+i.y2*t]},e}(It);Lde.prototype.type="line";const Er=Lde;var Eo=[],qZe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Eq(n,e,t){var i=n.cpx2,r=n.cpy2;return i!=null||r!=null?[(t?Nj:hr)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?Nj:hr)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?U5:xr)(n.x1,n.cpx1,n.x2,e),(t?U5:xr)(n.y1,n.cpy1,n.y2,e)]}var Tde=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new qZe},e.prototype.buildPath=function(t,i){var r=i.x1,o=i.y1,s=i.x2,a=i.y2,l=i.cpx1,u=i.cpy1,c=i.cpx2,d=i.cpy2,h=i.percent;h!==0&&(t.moveTo(r,o),c==null||d==null?(h<1&&(wS(r,l,s,h,Eo),l=Eo[1],s=Eo[2],wS(o,u,a,h,Eo),u=Eo[1],a=Eo[2]),t.quadraticCurveTo(l,u,s,a)):(h<1&&(vh(r,l,c,s,h,Eo),l=Eo[1],c=Eo[2],s=Eo[3],vh(o,u,d,a,h,Eo),u=Eo[1],d=Eo[2],a=Eo[3]),t.bezierCurveTo(l,u,c,d,s,a)))},e.prototype.pointAt=function(t){return Eq(this.shape,t,!1)},e.prototype.tangentAt=function(t){var i=Eq(this.shape,t,!0);return Oy(i,i)},e}(It);Tde.prototype.type="bezier-curve";const cM=Tde;var YZe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Ide=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new YZe},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=Math.max(i.r,0),a=i.startAngle,l=i.endAngle,u=i.clockwise,c=Math.cos(a),d=Math.sin(a);t.moveTo(c*s+r,d*s+o),t.arc(r,o,s,a,l,!u)},e}(It);Ide.prototype.type="arc";const WW=Ide;var XZe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,i=this.shapeChanged(),r=0;r<t.length;r++)i=i||t[r].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],i=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(i[0],i[1],t[r].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,i){for(var r=i.paths||[],o=0;o<r.length;o++)r[o].buildPath(t,r[o].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],i=0;i<t.length;i++)t[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),It.prototype.getBoundingRect.call(this)},e}(It);const zW=XZe;var ZZe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const Dde=ZZe;var QZe=function(n){re(e,n);function e(t,i,r,o,s,a){var l=n.call(this,s)||this;return l.x=t??0,l.y=i??0,l.x2=r??1,l.y2=o??0,l.type="linear",l.global=a||!1,l}return e}(Dde);const Mw=QZe;var JZe=function(n){re(e,n);function e(t,i,r,o,s){var a=n.call(this,o)||this;return a.x=t??.5,a.y=i??.5,a.r=r??.5,a.type="radial",a.global=s||!1,a}return e}(Dde);const Ede=JZe;var rf=[0,0],of=[0,0],xC=new ft,LC=new ft,eQe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new ft;for(var i=0;i<2;i++)this._axes[i]=new ft;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var i=this._corners,r=this._axes,o=e.x,s=e.y,a=o+e.width,l=s+e.height;if(i[0].set(o,s),i[1].set(a,s),i[2].set(a,l),i[3].set(o,l),t)for(var u=0;u<4;u++)i[u].transform(t);ft.sub(r[0],i[1],i[0]),ft.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(i[0])},n.prototype.intersect=function(e,t){var i=!0,r=!t;return xC.set(1/0,1/0),LC.set(0,0),!this._intersectCheckOneSide(this,e,xC,LC,r,1)&&(i=!1,r)||!this._intersectCheckOneSide(e,this,xC,LC,r,-1)&&(i=!1,r)||r||ft.copy(t,i?xC:LC),i},n.prototype._intersectCheckOneSide=function(e,t,i,r,o,s){for(var a=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,rf),this._getProjMinMaxOnAxis(l,t._corners,of),rf[1]<of[0]||rf[0]>of[1]){if(a=!1,o)return a;var c=Math.abs(of[0]-rf[1]),d=Math.abs(rf[0]-of[1]);Math.min(c,d)>r.len()&&(c<d?ft.scale(r,u,-c*s):ft.scale(r,u,d*s))}else if(i){var c=Math.abs(of[0]-rf[1]),d=Math.abs(rf[0]-of[1]);Math.min(c,d)<i.len()&&(c<d?ft.scale(i,u,c*s):ft.scale(i,u,-d*s))}}return a},n.prototype._getProjMinMaxOnAxis=function(e,t,i){for(var r=this._axes[e],o=this._origin,s=t[0].dot(r)+o[e],a=s,l=s,u=1;u<t.length;u++){var c=t[u].dot(r)+o[e];a=Math.min(c,a),l=Math.max(c,l)}i[0]=a,i[1]=l},n}();const TI=eQe;var tQe=[],nQe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,i){t.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,i){i?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,i){i=i||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var i=this._cursor;i<this._displayables.length;i++)t&&t(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)t&&t(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var i=this._displayables[t];i.parent=this,i.update(),i.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var i=this._temporaryDisplayables[t];i.parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new mt(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var r=this._displayables[i],o=r.getBoundingRect().clone();r.needLocalTransform()&&o.applyTransform(r.getLocalTransform(tQe)),t.union(o)}this._rect=t}return this._rect},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();if(o.contain(r[0],r[1]))for(var s=0;s<this._displayables.length;s++){var a=this._displayables[s];if(a.contain(t,i))return!0}return!1},e}(fa);const iQe=nQe;var Mde=Kt();function $y(n,e,t,i,r){var o;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();o=s&&s.animation}var a=e&&e.isAnimationEnabled(),l=n==="update";if(a){var u=void 0,c=void 0,d=void 0;i?(u=gt(i.duration,200),c=gt(i.easing,"cubicOut"),d=0):(u=e.getShallow(l?"animationDurationUpdate":"animationDuration"),c=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(u=o.duration),o.easing!=null&&(c=o.easing),o.delay!=null&&(d=o.delay)),qe(d)&&(d=d(t,r)),qe(u)&&(u=u(t));var h={duration:u||0,delay:d,easing:c};return h}else return null}function HW(n,e,t,i,r,o,s){var a=!1,l;qe(r)?(s=o,o=r,r=null):et(r)&&(o=r.cb,s=r.during,a=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=n==="leave";u||e.stopAnimation("leave");var c=$y(n,i,r,u?l||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null);if(c&&c.duration>0){var d=c.duration,h=c.delay,f=c.easing,g={duration:d,delay:h||0,easing:f,done:o,force:!!o||!!s,setToFinal:!u,scope:n,during:s};a?e.animateFrom(t,g):e.animateTo(t,g)}else e.stopAnimation(),!a&&e.attr(t),s&&s(1),o&&o()}function rn(n,e,t,i,r,o){HW("update",n,e,t,i,r,o)}function Qn(n,e,t,i,r,o){HW("enter",n,e,t,i,r,o)}function wv(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function yh(n,e,t,i,r,o){wv(n)||HW("leave",n,e,t,i,r,o)}function Mq(n,e,t,i){n.removeTextContent(),n.removeTextGuideLine(),yh(n,{style:{opacity:0}},e,t,i)}function ES(n,e,t){function i(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(r){r.isGroup||Mq(r,e,t,i)}):Mq(n,e,t,i)}function ul(n){Mde(n).oldStyle=n.style}function rQe(n){return Mde(n).oldStyle}var II=Math.max,DI=Math.min,fB={};function oQe(n){return It.extend(n)}var sQe=kZe;function aQe(n,e){return sQe(n,e)}function hl(n,e){fB[n]=e}function UW(n){if(fB.hasOwnProperty(n))return fB[n]}function dM(n,e,t,i){var r=mde(n,e);return t&&(i==="center"&&(t=Nde(t,r.getBoundingRect())),kde(r,t)),r}function Ade(n,e,t){var i=new Hr({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(r){if(t==="center"){var o={width:r.width,height:r.height};i.setStyle(Nde(e,o))}}});return i}function Nde(n,e){var t=e.width/e.height,i=n.height*t,r;i<=n.width?r=n.height:(i=n.width,r=i/t);var o=n.x+n.width/2,s=n.y+n.height/2;return{x:o-i/2,y:s-r/2,width:i,height:r}}var Js=PZe;function kde(n,e){if(n.applyTransform){var t=n.getBoundingRect(),i=t.calculateTransform(e);n.applyTransform(i)}}function oy(n,e){return Zce(n,n,{lineWidth:e}),n}function lQe(n){return Qce(n.shape,n.shape,n.style),n}var pL=Qf;function Cg(n,e){for(var t=eM([]);n&&n!==e;)yc(t,n.getLocalTransform(),t),n=n.parent;return t}function nl(n,e,t){return e&&!io(e)&&(e=uc.getLocalTransform(e)),t&&(e=Ry([],e)),Fr([],n,e)}function hM(n,e,t){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),r=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[n==="left"?-i:n==="right"?i:0,n==="top"?-r:n==="bottom"?r:0];return o=nl(o,e,t),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function Aq(n){return!n.isGroup}function uQe(n){return n.shape!=null}function Aw(n,e,t){if(!n||!e)return;function i(s){var a={};return s.traverse(function(l){Aq(l)&&l.anid&&(a[l.anid]=l)}),a}function r(s){var a={x:s.x,y:s.y,rotation:s.rotation};return uQe(s)&&(a.shape=be({},s.shape)),a}var o=i(n);e.traverse(function(s){if(Aq(s)&&s.anid){var a=o[s.anid];if(a){var l=r(s);s.attr(r(a)),rn(s,l,t,ut(s).dataIndex)}}})}function Pde(n,e){return Te(n,function(t){var i=t[0];i=II(i,e.x),i=DI(i,e.x+e.width);var r=t[1];return r=II(r,e.y),r=DI(r,e.y+e.height),[i,r]})}function cQe(n,e){var t=II(n.x,e.x),i=DI(n.x+n.width,e.x+e.width),r=II(n.y,e.y),o=DI(n.y+n.height,e.y+e.height);if(i>=t&&o>=r)return{x:t,y:r,width:i-t,height:o-r}}function Nw(n,e,t){var i=be({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(r.image=n.slice(8),Qe(r,t),new Hr(i)):dM(n.replace("path://",""),i,t,"center")}function f_(n,e,t,i,r){for(var o=0,s=r[r.length-1];o<r.length;o++){var a=r[o];if(Ode(n,e,t,i,a[0],a[1],s[0],s[1]))return!0;s=a}}function Ode(n,e,t,i,r,o,s,a){var l=t-n,u=i-e,c=s-r,d=a-o,h=qN(c,d,l,u);if(dQe(h))return!1;var f=n-r,g=e-o,p=qN(f,g,l,u)/h;if(p<0||p>1)return!1;var m=qN(f,g,c,d)/h;return!(m<0||m>1)}function qN(n,e,t,i){return n*i-t*e}function dQe(n){return n<=1e-6&&n>=-1e-6}function Vy(n){var e=n.itemTooltipOption,t=n.componentModel,i=n.itemName,r=$e(e)?{formatter:e}:e,o=t.mainType,s=t.componentIndex,a={componentType:o,name:i,$vars:["name"]};a[o+"Index"]=s;var l=n.formatterParamsExtra;l&&B(Et(l),function(c){ze(a,c)||(a[c]=l[c],a.$vars.push(c))});var u=ut(n.el);u.componentMainType=o,u.componentIndex=s,u.tooltipConfig={name:i,option:Qe({content:i,formatterParams:a},r)}}function Nq(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Ih(n,e){if(n)if(we(n))for(var t=0;t<n.length;t++)Nq(n[t],e);else Nq(n,e)}hl("circle",mu);hl("ellipse",VW);hl("sector",Xo);hl("ring",uM);hl("polygon",Zo);hl("polyline",ts);hl("rect",Gt);hl("line",Er);hl("bezierCurve",cM);hl("arc",WW);const kw=Object.freeze(Object.defineProperty({__proto__:null,Arc:WW,BezierCurve:cM,BoundingRect:mt,Circle:mu,CompoundPath:zW,Ellipse:VW,Group:st,Image:Hr,IncrementalDisplayable:iQe,Line:Er,LinearGradient:Mw,OrientedBoundingRect:TI,Path:It,Point:ft,Polygon:Zo,Polyline:ts,RadialGradient:Ede,Rect:Gt,Ring:uM,Sector:Xo,Text:Zt,applyTransform:nl,clipPointsByRect:Pde,clipRectByRect:cQe,createIcon:Nw,extendPath:aQe,extendShape:oQe,getShapeClass:UW,getTransform:Cg,groupTransition:Aw,initProps:Qn,isElementRemoved:wv,lineLineIntersect:Ode,linePolygonIntersect:f_,makeImage:Ade,makePath:dM,mergePath:Js,registerShape:hl,removeElement:yh,removeElementWithFadeOut:ES,resizePath:kde,setTooltipConfig:Vy,subPixelOptimize:pL,subPixelOptimizeLine:oy,subPixelOptimizeRect:lQe,transformDirection:hM,traverseElements:Ih,updateProps:rn},Symbol.toStringTag,{value:"Module"}));var fM={};function Rde(n,e){for(var t=0;t<Lo.length;t++){var i=Lo[t],r=e[i],o=n.ensureState(i);o.style=o.style||{},o.style.text=r}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function gB(n,e,t){var i=n.labelFetcher,r=n.labelDataIndex,o=n.labelDimIndex,s=e.normal,a;i&&(a=i.getFormattedLabel(r,"normal",null,o,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),a==null&&(a=qe(n.defaultText)?n.defaultText(r,n,t):n.defaultText);for(var l={normal:a},u=0;u<Lo.length;u++){var c=Lo[u],d=e[c];l[c]=gt(i?i.getFormattedLabel(r,c,null,o,d&&d.get("formatter")):null,a)}return l}function Wr(n,e,t,i){t=t||fM;for(var r=n instanceof Zt,o=!1,s=0;s<IS.length;s++){var a=e[IS[s]];if(a&&a.getShallow("show")){o=!0;break}}var l=r?n:n.getTextContent();if(o){r||(l||(l=new Zt,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var u=gB(t,e),c=e.normal,d=!!c.getShallow("show"),h=zn(c,i&&i.normal,t,!1,!r);h.text=u.normal,r||n.setTextConfig(EI(c,t,!1));for(var s=0;s<Lo.length;s++){var f=Lo[s],a=e[f];if(a){var g=l.ensureState(f),p=!!gt(a.getShallow("show"),d);if(p!==d&&(g.ignore=!p),g.style=zn(a,i&&i[f],t,!0,!r),g.style.text=u[f],!r){var m=n.ensureState(f);m.textConfig=EI(a,t,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(h.x=l.style.x),l.style.y!=null&&(h.y=l.style.y),l.ignore=!d,l.useStyle(h),l.dirty(),t.enableTextSetter&&(Wy(l).setLabelText=function(v){var y=gB(t,e,v);Rde(l,y)})}else l&&(l.ignore=!0);n.dirty()}function yr(n,e){e=e||"label";for(var t={normal:n.getModel(e)},i=0;i<Lo.length;i++){var r=Lo[i];t[r]=n.getModel([r,e])}return t}function zn(n,e,t,i,r){var o={};return hQe(o,n,t,i,r),e&&be(o,e),o}function EI(n,e,t){e=e||{};var i={},r,o=n.getShallow("rotate"),s=gt(n.getShallow("distance"),t?null:5),a=n.getShallow("offset");return r=n.getShallow("position")||(t?null:"inside"),r==="outside"&&(r=e.defaultOutsidePosition||"top"),r!=null&&(i.position=r),a!=null&&(i.offset=a),o!=null&&(o*=Math.PI/180,i.rotation=o),s!=null&&(i.distance=s),i.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",i}function hQe(n,e,t,i,r){t=t||fM;var o=e.ecModel,s=o&&o.option.textStyle,a=fQe(e),l;if(a){l={};for(var u in a)if(a.hasOwnProperty(u)){var c=e.getModel(["rich",u]);Rq(l[u]={},c,s,t,i,r,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var h=e.get("minMargin");h!=null&&(n.margin=h),Rq(n,e,s,t,i,r,!0,!1)}function fQe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||fM).rich;if(t){e=e||{};for(var i=Et(t),r=0;r<i.length;r++){var o=i[r];e[o]=1}}n=n.parentModel}return e}var kq=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Pq=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Oq=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Rq(n,e,t,i,r,o,s,a){t=!r&&t||fM;var l=i&&i.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),d=gt(e.getShallow("opacity"),t.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),o||(u=u||t.color,c=c||t.textBorderColor),u!=null&&(n.fill=u),c!=null&&(n.stroke=c);var h=gt(e.getShallow("textBorderWidth"),t.textBorderWidth);h!=null&&(n.lineWidth=h);var f=gt(e.getShallow("textBorderType"),t.textBorderType);f!=null&&(n.lineDash=f);var g=gt(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);g!=null&&(n.lineDashOffset=g),!r&&d==null&&!a&&(d=i&&i.defaultOpacity),d!=null&&(n.opacity=d),!r&&!o&&n.fill==null&&i.inheritColor&&(n.fill=i.inheritColor);for(var p=0;p<kq.length;p++){var m=kq[p],v=gt(e.getShallow(m),t[m]);v!=null&&(n[m]=v)}for(var p=0;p<Pq.length;p++){var m=Pq[p],v=e.getShallow(m);v!=null&&(n[m]=v)}if(n.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(n.verticalAlign=y)}if(!s||!i.disableBox){for(var p=0;p<Oq.length;p++){var m=Oq[p],v=e.getShallow(m);v!=null&&(n[m]=v)}var _=e.getShallow("borderType");_!=null&&(n.borderDash=_),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function Bde(n,e){var t=e&&e.getModel("textStyle");return ja([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Wy=Kt();function Fde(n,e,t,i){if(n){var r=Wy(n);r.prevValue=r.value,r.value=t;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function $de(n,e,t,i,r){var o=Wy(n);if(!o.valueAnimation||o.prevValue===o.value)return;var s=o.defaultInterpolatedText,a=gt(o.interpolatedValue,o.prevValue),l=o.value;function u(c){var d=Vce(t,o.precision,a,l,c);o.interpolatedValue=c===1?null:d;var h=gB({labelDataIndex:e,labelFetcher:r,defaultText:s?s(d):d+""},o.statesModels,d);Rde(n,h)}n.percent=0,(o.prevValue==null?Qn:rn)(n,{percent:1},i,e,null,u)}var gQe=["textStyle","color"],YN=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],XN=new Zt,pQe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(gQe):null)},n.prototype.getFont=function(){return Bde({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<YN.length;i++)t[YN[i]]=this.getShallow(YN[i]);return XN.useStyle(t),XN.update(),XN.getBoundingRect()},n}();const mQe=pQe;var Vde=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],vQe=Jg(Vde),yQe=function(){function n(){}return n.prototype.getLineStyle=function(e){return vQe(this,e)},n}(),Wde=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],_Qe=Jg(Wde),bQe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return _Qe(this,e,t)},n}(),Tp=function(){function n(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}return n.prototype.init=function(e,t,i){},n.prototype.mergeOption=function(e,t){pt(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var i=this.option,r=i==null?i:i[e];if(r==null&&!t){var o=this.parentModel;o&&(r=o.getShallow(e))}return r},n.prototype.getModel=function(e,t){var i=e!=null,r=i?this.parsePath(e):null,o=i?this._doGet(r):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new n(o,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(rt(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Yt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var i=this.option;if(!e)return i;for(var r=0;r<e.length&&!(e[r]&&(i=i&&typeof i=="object"?i[e[r]]:null,i==null));r++);return i==null&&t&&(i=t._doGet(this.resolveParentPath(e),t.parentModel)),i},n}();NW(Tp);bXe(Tp);Hi(Tp,yQe);Hi(Tp,bQe);Hi(Tp,LXe);Hi(Tp,mQe);const Hn=Tp;var SQe=Math.round(Math.random()*10);function zy(n){return[n||"",SQe++].join("_")}function wQe(n){var e={};n.registerSubTypeDefaulter=function(t,i){var r=ql(t);e[r.main]=i},n.determineSubType=function(t,i){var r=i.type;if(!r){var o=ql(t).main;n.hasSubTypes(t)&&e[o]&&(r=e[o](i))}return r}}function CQe(n,e){n.topologicalTravel=function(o,s,a,l){if(!o.length)return;var u=t(s),c=u.graph,d=u.noEntryList,h={};for(B(o,function(y){h[y]=!0});d.length;){var f=d.pop(),g=c[f],p=!!h[f];p&&(a.call(l,f,g.originalDeps.slice()),delete h[f]),B(g.successor,p?v:m)}B(h,function(){var y="";throw new Error(y)});function m(y){c[y].entryCount--,c[y].entryCount===0&&d.push(y)}function v(y){h[y]=!0,m(y)}};function t(o){var s={},a=[];return B(o,function(l){var u=i(s,l),c=u.originalDeps=e(l),d=r(c,o);u.entryCount=d.length,u.entryCount===0&&a.push(l),B(d,function(h){Ct(u.predecessor,h)<0&&u.predecessor.push(h);var f=i(s,h);Ct(f.successor,h)<0&&f.successor.push(l)})}),{graph:s,noEntryList:a}}function i(o,s){return o[s]||(o[s]={predecessor:[],successor:[]}),o[s]}function r(o,s){var a=[];return B(o,function(l){Ct(s,l)>=0&&a.push(l)}),a}}function Dh(n,e){return pt(pt({},n,!0),e,!0)}const xQe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},LQe={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var MI="ZH",GW="EN",MS=GW,mL={},KW={},zde=Yt.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(MI)>-1?MI:MS}():MS;function Hde(n,e){n=n.toUpperCase(),KW[n]=new Hn(e),mL[n]=e}function TQe(n){if($e(n)){var e=mL[n.toUpperCase()]||{};return n===MI||n===GW?rt(e):pt(rt(e),rt(mL[MS]),!1)}else return pt(rt(n),rt(mL[MS]),!1)}function pB(n){return KW[n]}function IQe(){return KW[MS]}Hde(GW,xQe);Hde(MI,LQe);var jW=1e3,qW=jW*60,pb=qW*60,ea=pb*24,Bq=ea*365,g_={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},TC="{yyyy}-{MM}-{dd}",Fq={year:"{yyyy}",month:"{yyyy}-{MM}",day:TC,hour:TC+" "+g_.hour,minute:TC+" "+g_.minute,second:TC+" "+g_.second,millisecond:g_.none},ZN=["year","month","day","hour","minute","second","millisecond"],Ude=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function po(n,e){return n+="","0000".substr(0,e-n.length)+n}function Cv(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function DQe(n){return n===Cv(n)}function EQe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function gM(n,e,t,i){var r=ll(n),o=r[YW(t)](),s=r[xv(t)]()+1,a=Math.floor((s-1)/3)+1,l=r[pM(t)](),u=r["get"+(t?"UTC":"")+"Day"](),c=r[AS(t)](),d=(c-1)%12+1,h=r[mM(t)](),f=r[vM(t)](),g=r[yM(t)](),p=i instanceof Hn?i:pB(i||zde)||IQe(),m=p.getModel("time"),v=m.get("month"),y=m.get("monthAbbr"),_=m.get("dayOfWeek"),b=m.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,po(o%100+"",2)).replace(/{Q}/g,a+"").replace(/{MMMM}/g,v[s-1]).replace(/{MMM}/g,y[s-1]).replace(/{MM}/g,po(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,po(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,b[u]).replace(/{e}/g,u+"").replace(/{HH}/g,po(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,po(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,po(h,2)).replace(/{m}/g,h+"").replace(/{ss}/g,po(f,2)).replace(/{s}/g,f+"").replace(/{SSS}/g,po(g,3)).replace(/{S}/g,g+"")}function MQe(n,e,t,i,r){var o=null;if($e(t))o=t;else if(qe(t))o=t(n.value,e,{level:n.level});else{var s=be({},g_);if(n.level>0)for(var a=0;a<ZN.length;++a)s[ZN[a]]="{primary|"+s[ZN[a]]+"}";var l=t?t.inherit===!1?t:Qe(t,s):s,u=Gde(n.value,r);if(l[u])o=l[u];else if(l.inherit){for(var c=Ude.indexOf(u),a=c-1;a>=0;--a)if(l[u]){o=l[u];break}o=o||s.none}if(we(o)){var d=n.level==null?0:n.level>=0?n.level:o.length+n.level;d=Math.min(d,o.length-1),o=o[d]}}return gM(new Date(n.value),o,r,i)}function Gde(n,e){var t=ll(n),i=t[xv(e)]()+1,r=t[pM(e)](),o=t[AS(e)](),s=t[mM(e)](),a=t[vM(e)](),l=t[yM(e)](),u=l===0,c=u&&a===0,d=c&&s===0,h=d&&o===0,f=h&&r===1,g=f&&i===1;return g?"year":f?"month":h?"day":d?"hour":c?"minute":u?"second":"millisecond"}function $q(n,e,t){var i=Jt(n)?ll(n):n;switch(e=e||Gde(n,t),e){case"year":return i[YW(t)]();case"half-year":return i[xv(t)]()>=6?1:0;case"quarter":return Math.floor((i[xv(t)]()+1)/4);case"month":return i[xv(t)]();case"day":return i[pM(t)]();case"half-day":return i[AS(t)]()/24;case"hour":return i[AS(t)]();case"minute":return i[mM(t)]();case"second":return i[vM(t)]();case"millisecond":return i[yM(t)]()}}function YW(n){return n?"getUTCFullYear":"getFullYear"}function xv(n){return n?"getUTCMonth":"getMonth"}function pM(n){return n?"getUTCDate":"getDate"}function AS(n){return n?"getUTCHours":"getHours"}function mM(n){return n?"getUTCMinutes":"getMinutes"}function vM(n){return n?"getUTCSeconds":"getSeconds"}function yM(n){return n?"getUTCMilliseconds":"getMilliseconds"}function AQe(n){return n?"setUTCFullYear":"setFullYear"}function Kde(n){return n?"setUTCMonth":"setMonth"}function jde(n){return n?"setUTCDate":"setDate"}function qde(n){return n?"setUTCHours":"setHours"}function Yde(n){return n?"setUTCMinutes":"setMinutes"}function Xde(n){return n?"setUTCSeconds":"setSeconds"}function Zde(n){return n?"setUTCMilliseconds":"setMilliseconds"}function Qde(n){if(!Nce(n))return $e(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Jde(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,i){return i.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var Hy=SW;function mB(n,e,t){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(c){return c&&ja(c)?c:"-"}function o(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",a=n instanceof Date;if(s||a){var l=s?ll(n):n;if(isNaN(+l)){if(a)return"-"}else return gM(l,i,t)}if(e==="ordinal")return O5(n)?r(n):Jt(n)&&o(n)?n+"":"-";var u=Ac(n);return o(u)?Qde(u):O5(n)?r(n):typeof n=="boolean"?n+"":"-"}var Vq=["a","b","c","d","e","f","g"],QN=function(n,e){return"{"+n+(e??"")+"}"};function ehe(n,e,t){we(e)||(e=[e]);var i=e.length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var s=Vq[o];n=n.replace(QN(s),QN(s,0))}for(var a=0;a<i;a++)for(var l=0;l<r.length;l++){var u=e[a][r[l]];n=n.replace(QN(Vq[l],a),t?Bo(u):u)}return n}function NQe(n,e,t){return B(e,function(i,r){n=n.replace("{"+r+"}",t?Bo(i):i)}),n}function kQe(n,e){var t=$e(n)?{color:n,extraCssText:e}:n||{},i=t.color,r=t.type;e=t.extraCssText;var o=t.renderMode||"html";if(!i)return"";if(o==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Bo(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Bo(i)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:o,content:"{"+s+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function PQe(n,e,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n=`MM-dd
yyyy`);var i=ll(e),r=t?"getUTC":"get",o=i[r+"FullYear"](),s=i[r+"Month"]()+1,a=i[r+"Date"](),l=i[r+"Hours"](),u=i[r+"Minutes"](),c=i[r+"Seconds"](),d=i[r+"Milliseconds"]();return n=n.replace("MM",po(s,2)).replace("M",s).replace("yyyy",o).replace("yy",po(o%100+"",2)).replace("dd",po(a,2)).replace("d",a).replace("hh",po(l,2)).replace("h",l).replace("mm",po(u,2)).replace("m",u).replace("ss",po(c,2)).replace("s",c).replace("SSS",po(d,3)),n}function tp(n,e){return e=e||"transparent",$e(n)?n:et(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function AI(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var vL=B,the=["left","right","top","bottom","width","height"],eg=[["width","left","right"],["height","top","bottom"]];function XW(n,e,t,i,r){var o=0,s=0;i==null&&(i=1/0),r==null&&(r=1/0);var a=0;e.eachChild(function(l,u){var c=l.getBoundingRect(),d=e.childAt(u+1),h=d&&d.getBoundingRect(),f,g;if(n==="horizontal"){var p=c.width+(h?-h.x+c.x:0);f=o+p,f>i||l.newline?(o=0,f=p,s+=a+t,a=c.height):a=Math.max(a,c.height)}else{var m=c.height+(h?-h.y+c.y:0);g=s+m,g>r||l.newline?(o+=a+t,s=0,g=m,a=c.width):a=Math.max(a,c.width)}l.newline||(l.x=o,l.y=s,l.markRedraw(),n==="horizontal"?o=f+t:s=g+t)})}var xg=XW;dt(XW,"vertical");dt(XW,"horizontal");function OQe(n,e,t){var i=e.width,r=e.height,o=Fe(n.left,i),s=Fe(n.top,r),a=Fe(n.right,i),l=Fe(n.bottom,r);return(isNaN(o)||isNaN(parseFloat(n.left)))&&(o=0),(isNaN(a)||isNaN(parseFloat(n.right)))&&(a=i),(isNaN(s)||isNaN(parseFloat(n.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(n.bottom)))&&(l=r),t=Hy(t||0),{width:Math.max(a-o-t[1]-t[3],0),height:Math.max(l-s-t[0]-t[2],0)}}function tr(n,e,t){t=Hy(t||0);var i=e.width,r=e.height,o=Fe(n.left,i),s=Fe(n.top,r),a=Fe(n.right,i),l=Fe(n.bottom,r),u=Fe(n.width,i),c=Fe(n.height,r),d=t[2]+t[0],h=t[1]+t[3],f=n.aspect;switch(isNaN(u)&&(u=i-a-h-o),isNaN(c)&&(c=r-l-d-s),f!=null&&(isNaN(u)&&isNaN(c)&&(f>i/r?u=i*.8:c=r*.8),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(o)&&(o=i-a-u-h),isNaN(s)&&(s=r-l-c-d),n.left||n.right){case"center":o=i/2-u/2-t[3];break;case"right":o=i-u-h;break}switch(n.top||n.bottom){case"middle":case"center":s=r/2-c/2-t[0];break;case"bottom":s=r-c-d;break}o=o||0,s=s||0,isNaN(u)&&(u=i-h-o-(a||0)),isNaN(c)&&(c=r-d-s-(l||0));var g=new mt(o+t[3],s+t[0],u,c);return g.margin=t,g}function _M(n,e,t,i,r,o){var s=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if(o=o||n,o.x=n.x,o.y=n.y,!s&&!a)return!1;var u;if(l==="raw")u=n.type==="group"?new mt(0,0,+e.width||0,+e.height||0):n.getBoundingRect();else if(u=n.getBoundingRect(),n.needLocalTransform()){var c=n.getLocalTransform();u=u.clone(),u.applyTransform(c)}var d=tr(Qe({width:u.width,height:u.height},e),t,i),h=s?d.x-u.x:0,f=a?d.y-u.y:0;return l==="raw"?(o.x=h,o.y=f):(o.x+=h,o.y+=f),o===n&&n.markRedraw(),!0}function RQe(n,e){return n[eg[e][0]]!=null||n[eg[e][1]]!=null&&n[eg[e][2]]!=null}function NS(n){var e=n.layoutMode||n.constructor.layoutMode;return et(e)?e:e?{type:e}:null}function _h(n,e,t){var i=t&&t.ignoreSize;!we(i)&&(i=[i,i]);var r=s(eg[0],0),o=s(eg[1],1);u(eg[0],n,r),u(eg[1],n,o);function s(c,d){var h={},f=0,g={},p=0,m=2;if(vL(c,function(_){g[_]=n[_]}),vL(c,function(_){a(e,_)&&(h[_]=g[_]=e[_]),l(h,_)&&f++,l(g,_)&&p++}),i[d])return l(e,c[1])?g[c[2]]=null:l(e,c[2])&&(g[c[1]]=null),g;if(p===m||!f)return g;if(f>=m)return h;for(var v=0;v<c.length;v++){var y=c[v];if(!a(h,y)&&a(n,y)){h[y]=n[y];break}}return h}function a(c,d){return c.hasOwnProperty(d)}function l(c,d){return c[d]!=null&&c[d]!=="auto"}function u(c,d,h){vL(c,function(f){d[f]=h[f]})}}function Uy(n){return nhe({},n)}function nhe(n,e){return e&&n&&vL(the,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var BQe=Kt(),Gy=function(n){re(e,n);function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.uid=zy("ec_cpt_model"),o}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=NS(this),o=r?Uy(t):{},s=i.getTheme();pt(t,s.get(this.mainType)),pt(t,this.getDefaultOption()),r&&_h(t,o,r)},e.prototype.mergeOption=function(t,i){pt(this.option,t,!0);var r=NS(this);r&&_h(this.option,t,r)},e.prototype.optionUpdated=function(t,i){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!vXe(t))return t.defaultOption;var i=BQe(this);if(!i.defaultOption){for(var r=[],o=t;o;){var s=o.prototype.defaultOption;s&&r.push(s),o=o.superClass}for(var a={},l=r.length-1;l>=0;l--)a=pt(a,r[l],!0);i.defaultOption=a}return i.defaultOption},e.prototype.getReferringComponents=function(t,i){var r=t+"Index",o=t+"Id";return Dw(this.ecModel,t,{index:this.get(r,!0),id:this.get(o,!0)},i)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Hn);zce(Gy,Hn);iM(Gy);wQe(Gy);CQe(Gy,FQe);function FQe(n){var e=[];return B(Gy.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=Te(e,function(t){return ql(t).main}),n!=="dataset"&&Ct(e,"dataset")<=0&&e.unshift("dataset"),e}const qt=Gy;var ihe="";typeof navigator<"u"&&(ihe=navigator.platform||"");var im="rgba(0, 0, 0, 0.2)";const $Qe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:im,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:im,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:im,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:im,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:im,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:im,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ihe.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var rhe=Ue(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),va="original",ro="arrayRows",ya="objectRows",xu="keyedColumns",th="typedArray",ohe="unknown",tu="column",Ky="row",kr={Must:1,Might:2,Not:3},she=Kt();function VQe(n){she(n).datasetMap=Ue()}function ahe(n,e,t){var i={},r=QW(e);if(!r||!n)return i;var o=[],s=[],a=e.ecModel,l=she(a).datasetMap,u=r.uid+"_"+t.seriesLayoutBy,c,d;n=n.slice(),B(n,function(p,m){var v=et(p)?p:n[m]={name:p};v.type==="ordinal"&&c==null&&(c=m,d=g(v)),i[v.name]=[]});var h=l.get(u)||l.set(u,{categoryWayDim:d,valueWayDim:0});B(n,function(p,m){var v=p.name,y=g(p);if(c==null){var _=h.valueWayDim;f(i[v],_,y),f(s,_,y),h.valueWayDim+=y}else if(c===m)f(i[v],0,y),f(o,0,y);else{var _=h.categoryWayDim;f(i[v],_,y),f(s,_,y),h.categoryWayDim+=y}});function f(p,m,v){for(var y=0;y<v;y++)p.push(m+y)}function g(p){var m=p.dimsDef;return m?m.length:1}return o.length&&(i.itemName=o),s.length&&(i.seriesName=s),i}function ZW(n,e,t){var i={},r=QW(n);if(!r)return i;var o=e.sourceFormat,s=e.dimensionsDefine,a;(o===ya||o===xu)&&B(s,function(c,d){(et(c)?c.name:c)==="name"&&(a=d)});var l=function(){for(var c={},d={},h=[],f=0,g=Math.min(5,t);f<g;f++){var p=uhe(e.data,o,e.seriesLayoutBy,s,e.startIndex,f);h.push(p);var m=p===kr.Not;if(m&&c.v==null&&f!==a&&(c.v=f),(c.n==null||c.n===c.v||!m&&h[c.n]===kr.Not)&&(c.n=f),v(c)&&h[c.n]!==kr.Not)return c;m||(p===kr.Might&&d.v==null&&f!==a&&(d.v=f),(d.n==null||d.n===d.v)&&(d.n=f))}function v(y){return y.v!=null&&y.n!=null}return v(c)?c:v(d)?d:null}();if(l){i.value=[l.v];var u=a??l.n;i.itemName=[u],i.seriesName=[u]}return i}function QW(n){var e=n.get("data",!0);if(!e)return Dw(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},$i).models[0]}function WQe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:Dw(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},$i).models}function lhe(n,e){return uhe(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function uhe(n,e,t,i,r,o){var s,a=5;if(Ls(n))return kr.Not;var l,u;if(i){var c=i[o];et(c)?(l=c.name,u=c.type):$e(c)&&(l=c)}if(u!=null)return u==="ordinal"?kr.Must:kr.Not;if(e===ro){var d=n;if(t===Ky){for(var h=d[o],f=0;f<(h||[]).length&&f<a;f++)if((s=b(h[r+f]))!=null)return s}else for(var f=0;f<d.length&&f<a;f++){var g=d[r+f];if(g&&(s=b(g[o]))!=null)return s}}else if(e===ya){var p=n;if(!l)return kr.Not;for(var f=0;f<p.length&&f<a;f++){var m=p[f];if(m&&(s=b(m[l]))!=null)return s}}else if(e===xu){var v=n;if(!l)return kr.Not;var h=v[l];if(!h||Ls(h))return kr.Not;for(var f=0;f<h.length&&f<a;f++)if((s=b(h[f]))!=null)return s}else if(e===va)for(var y=n,f=0;f<y.length&&f<a;f++){var m=y[f],_=By(m);if(!we(_))return kr.Not;if((s=b(_[o]))!=null)return s}function b(S){var w=$e(S);if(S!=null&&isFinite(S)&&S!=="")return w?kr.Might:kr.Not;if(w&&S!=="-")return kr.Must}return kr.Not}var vB=Ue();function zQe(n,e){xo(vB.get(n)==null&&e),vB.set(n,e)}function HQe(n,e,t){var i=vB.get(e);if(!i)return t;var r=i(n);return r?t.concat(r):t}var Wq=Kt(),UQe=Kt(),JW=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,i){var r=Pn(this.get("color",!0)),o=this.get("colorLayer",!0);return che(this,Wq,r,o,e,t,i)},n.prototype.clearColorPalette=function(){KQe(this,Wq)},n}();function yB(n,e,t,i){var r=Pn(n.get(["aria","decal","decals"]));return che(n,UQe,r,null,e,t,i)}function GQe(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].length>e)return n[i];return n[t-1]}function che(n,e,t,i,r,o,s){o=o||n;var a=e(o),l=a.paletteIdx||0,u=a.paletteNameMap=a.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var c=s==null||!i?t:GQe(i,s);if(c=c||t,!(!c||!c.length)){var d=c[l];return r&&(u[r]=d),a.paletteIdx=(l+1)%c.length,d}}function KQe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var IC,M0,zq,Hq="\0_ec_inner",jQe=1,dhe=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,i,r,o,s,a){o=o||{},this.option=null,this._theme=new Hn(o),this._locale=new Hn(s),this._optionManager=a},e.prototype.setOption=function(t,i,r){var o=Kq(i);this._optionManager.setOption(t,r,o),this._resetOption(null,o)},e.prototype.resetOption=function(t,i){return this._resetOption(t,Kq(i))},e.prototype._resetOption=function(t,i){var r=!1,o=this._optionManager;if(!t||t==="recreate"){var s=o.mountOption(t==="recreate");!this.option||t==="recreate"?zq(this,s):(this.restoreData(),this._mergeOption(s,i)),r=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var a=o.getTimelineOption(this);a&&(r=!0,this._mergeOption(a,i))}if(!t||t==="recreate"||t==="media"){var l=o.getMediaOption(this);l.length&&B(l,function(u){r=!0,this._mergeOption(u,i)},this)}return r},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,i){var r=this.option,o=this._componentsMap,s=this._componentsCount,a=[],l=Ue(),u=i&&i.replaceMergeMainTypeMap;VQe(this),B(t,function(d,h){d!=null&&(qt.hasClass(h)?h&&(a.push(h),l.set(h,!0)):r[h]=r[h]==null?rt(d):pt(r[h],d,!0))}),u&&u.each(function(d,h){qt.hasClass(h)&&!l.get(h)&&(a.push(h),l.set(h,!0))}),qt.topologicalTravel(a,qt.getAllClassMainTypes(),c,this);function c(d){var h=HQe(this,d,Pn(t[d])),f=o.get(d),g=f?u&&u.get(d)?"replaceMerge":"normalMerge":"replaceAll",p=Bce(f,h,g);lXe(p,d,qt),r[d]=null,o.set(d,null),s.set(d,0);var m=[],v=[],y=0,_;B(p,function(b,S){var w=b.existing,C=b.newOption;if(!C)w&&(w.mergeOption({},this),w.optionUpdated({},!1));else{var x=d==="series",L=qt.getClass(d,b.keyInfo.subType,!x);if(!L)return;if(d==="tooltip"){if(_)return;_=!0}if(w&&w.constructor===L)w.name=b.keyInfo.name,w.mergeOption(C,this),w.optionUpdated(C,!1);else{var T=be({componentIndex:S},b.keyInfo);w=new L(C,this,this,T),be(w,T),b.brandNew&&(w.__requireNewView=!0),w.init(C,this,this),w.optionUpdated(null,!0)}}w?(m.push(w.option),v.push(w),y++):(m.push(void 0),v.push(void 0))},this),r[d]=m,o.set(d,v),s.set(d,y),d==="series"&&IC(this)}this._seriesIndices||IC(this)},e.prototype.getOption=function(){var t=rt(this.option);return B(t,function(i,r){if(qt.hasClass(r)){for(var o=Pn(i),s=o.length,a=!1,l=s-1;l>=0;l--)o[l]&&!LS(o[l])?a=!0:(o[l]=null,!a&&s--);o.length=s,t[r]=o}}),delete t[Hq],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,i){var r=this._componentsMap.get(t);if(r){var o=r[i||0];if(o)return o;if(i==null){for(var s=0;s<r.length;s++)if(r[s])return r[s]}}},e.prototype.queryComponents=function(t){var i=t.mainType;if(!i)return[];var r=t.index,o=t.id,s=t.name,a=this._componentsMap.get(i);if(!a||!a.length)return[];var l;return r!=null?(l=[],B(Pn(r),function(u){a[u]&&l.push(a[u])})):o!=null?l=Uq("id",o,a):s!=null?l=Uq("name",s,a):l=xn(a,function(u){return!!u}),Gq(l,t)},e.prototype.findComponents=function(t){var i=t.query,r=t.mainType,o=a(i),s=o?this.queryComponents(o):xn(this._componentsMap.get(r),function(u){return!!u});return l(Gq(s,t));function a(u){var c=r+"Index",d=r+"Id",h=r+"Name";return u&&(u[c]!=null||u[d]!=null||u[h]!=null)?{mainType:r,index:u[c],id:u[d],name:u[h]}:null}function l(u){return t.filter?xn(u,t.filter):u}},e.prototype.eachComponent=function(t,i,r){var o=this._componentsMap;if(qe(t)){var s=i,a=t;o.each(function(d,h){for(var f=0;d&&f<d.length;f++){var g=d[f];g&&a.call(s,h,g,g.componentIndex)}})}else for(var l=$e(t)?o.get(t):et(t)?this.findComponents(t):null,u=0;l&&u<l.length;u++){var c=l[u];c&&i.call(r,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var i=Yi(t,null);return xn(this._componentsMap.get("series"),function(r){return!!r&&i!=null&&r.name===i})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return xn(this._componentsMap.get("series"),function(i){return!!i&&i.subType===t})},e.prototype.getSeries=function(){return xn(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,i){M0(this),B(this._seriesIndices,function(r){var o=this._componentsMap.get("series")[r];t.call(i,o,r)},this)},e.prototype.eachRawSeries=function(t,i){B(this._componentsMap.get("series"),function(r){r&&t.call(i,r,r.componentIndex)})},e.prototype.eachSeriesByType=function(t,i,r){M0(this),B(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];s.subType===t&&i.call(r,s,o)},this)},e.prototype.eachRawSeriesByType=function(t,i,r){return B(this.getSeriesByType(t),i,r)},e.prototype.isSeriesFiltered=function(t){return M0(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,i){M0(this);var r=[];B(this._seriesIndices,function(o){var s=this._componentsMap.get("series")[o];t.call(i,s,o)&&r.push(o)},this),this._seriesIndices=r,this._seriesIndicesMap=Ue(r)},e.prototype.restoreData=function(t){IC(this);var i=this._componentsMap,r=[];i.each(function(o,s){qt.hasClass(s)&&r.push(s)}),qt.topologicalTravel(r,qt.getAllClassMainTypes(),function(o){B(i.get(o),function(s){s&&(o!=="series"||!qQe(s,t))&&s.restoreData()})})},e.internalField=function(){IC=function(t){var i=t._seriesIndices=[];B(t._componentsMap.get("series"),function(r){r&&i.push(r.componentIndex)}),t._seriesIndicesMap=Ue(i)},M0=function(t){},zq=function(t,i){t.option={},t.option[Hq]=jQe,t._componentsMap=Ue({series:[]}),t._componentsCount=Ue();var r=i.aria;et(r)&&r.enabled==null&&(r.enabled=!0),YQe(i,t._theme.option),pt(i,$Qe,!1),t._mergeOption(i,null)}}(),e}(Hn);function qQe(n,e){if(e){var t=e.seriesIndex,i=e.seriesId,r=e.seriesName;return t!=null&&n.componentIndex!==t||i!=null&&n.id!==i||r!=null&&n.name!==r}}function YQe(n,e){var t=n.color&&!n.colorLayer;B(e,function(i,r){r==="colorLayer"&&t||qt.hasClass(r)||(typeof i=="object"?n[r]=n[r]?pt(n[r],i,!1):rt(i):n[r]==null&&(n[r]=i))})}function Uq(n,e,t){if(we(e)){var i=Ue();return B(e,function(o){if(o!=null){var s=Yi(o,null);s!=null&&i.set(o,!0)}}),xn(t,function(o){return o&&i.get(o[n])})}else{var r=Yi(e,null);return xn(t,function(o){return o&&r!=null&&o[n]===r})}}function Gq(n,e){return e.hasOwnProperty("subType")?xn(n,function(t){return t&&t.subType===e.subType}):n}function Kq(n){var e=Ue();return n&&B(Pn(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Hi(dhe,JW);const hhe=dhe;var XQe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ZQe=function(){function n(e){B(XQe,function(t){this[t]=We(e[t],e)},this)}return n}();const fhe=ZQe;var JN={},QQe=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var i=[];B(JN,function(r,o){var s=r.create(e,t);i=i.concat(s||[])}),this._coordinateSystems=i},n.prototype.update=function(e,t){B(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){JN[e]=t},n.get=function(e){return JN[e]},n}();const Pw=QQe;var JQe=/^(min|max)?(.+)$/,eJe=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,i){e&&(B(Pn(e.series),function(s){s&&s.data&&Ls(s.data)&&gI(s.data)}),B(Pn(e.dataset),function(s){s&&s.source&&Ls(s.source)&&gI(s.source)})),e=rt(e);var r=this._optionBackup,o=tJe(e,t,!r);this._newBaseOption=o.baseOption,r?(o.timelineOptions.length&&(r.timelineOptions=o.timelineOptions),o.mediaList.length&&(r.mediaList=o.mediaList),o.mediaDefault&&(r.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],rt(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,i=this._timelineOptions;if(i.length){var r=e.getComponent("timeline");r&&(t=rt(i[r.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),i=this._api.getHeight(),r=this._mediaList,o=this._mediaDefault,s=[],a=[];if(!r.length&&!o)return a;for(var l=0,u=r.length;l<u;l++)nJe(r[l].query,t,i)&&s.push(l);return!s.length&&o&&(s=[-1]),s.length&&!rJe(s,this._currentMediaIndices)&&(a=Te(s,function(c){return rt(c===-1?o.option:r[c].option)})),this._currentMediaIndices=s,a},n}();function tJe(n,e,t){var i=[],r,o,s=n.baseOption,a=n.timeline,l=n.options,u=n.media,c=!!n.media,d=!!(l||a||s&&s.timeline);s?(o=s,o.timeline||(o.timeline=a)):((d||c)&&(n.options=n.media=null),o=n),c&&we(u)&&B(u,function(f){f&&f.option&&(f.query?i.push(f):r||(r=f))}),h(o),B(l,function(f){return h(f)}),B(i,function(f){return h(f.option)});function h(f){B(e,function(g){g(f,t)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:r,mediaList:i}}function nJe(n,e,t){var i={width:e,height:t,aspectratio:e/t},r=!0;return B(n,function(o,s){var a=s.match(JQe);if(!(!a||!a[1]||!a[2])){var l=a[1],u=a[2].toLowerCase();iJe(i[u],o,l)||(r=!1)}}),r}function iJe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function rJe(n,e){return n.join(",")===e.join(",")}const oJe=eJe;var _a=B,kS=et,jq=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function ek(n){var e=n&&n.itemStyle;if(e)for(var t=0,i=jq.length;t<i;t++){var r=jq[t],o=e.normal,s=e.emphasis;o&&o[r]&&(n[r]=n[r]||{},n[r].normal?pt(n[r].normal,o[r]):n[r].normal=o[r],o[r]=null),s&&s[r]&&(n[r]=n[r]||{},n[r].emphasis?pt(n[r].emphasis,s[r]):n[r].emphasis=s[r],s[r]=null)}}function Xr(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var i=n[e].normal,r=n[e].emphasis;i&&(t?(n[e].normal=n[e].emphasis=null,Qe(n[e],i)):n[e]=i),r&&(n.emphasis=n.emphasis||{},n.emphasis[e]=r,r.focus&&(n.emphasis.focus=r.focus),r.blurScope&&(n.emphasis.blurScope=r.blurScope))}}function p_(n){Xr(n,"itemStyle"),Xr(n,"lineStyle"),Xr(n,"areaStyle"),Xr(n,"label"),Xr(n,"labelLine"),Xr(n,"upperLabel"),Xr(n,"edgeLabel")}function Oi(n,e){var t=kS(n)&&n[e],i=kS(t)&&t.textStyle;if(i)for(var r=0,o=Zj.length;r<o;r++){var s=Zj[r];i.hasOwnProperty(s)&&(t[s]=i[s])}}function Hs(n){n&&(p_(n),Oi(n,"label"),n.emphasis&&Oi(n.emphasis,"label"))}function sJe(n){if(kS(n)){ek(n),p_(n),Oi(n,"label"),Oi(n,"upperLabel"),Oi(n,"edgeLabel"),n.emphasis&&(Oi(n.emphasis,"label"),Oi(n.emphasis,"upperLabel"),Oi(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(ek(e),Hs(e));var t=n.markLine;t&&(ek(t),Hs(t));var i=n.markArea;i&&Hs(i);var r=n.data;if(n.type==="graph"){r=r||n.nodes;var o=n.links||n.edges;if(o&&!Ls(o))for(var s=0;s<o.length;s++)Hs(o[s]);B(n.categories,function(u){p_(u)})}if(r&&!Ls(r))for(var s=0;s<r.length;s++)Hs(r[s]);if(e=n.markPoint,e&&e.data)for(var a=e.data,s=0;s<a.length;s++)Hs(a[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)we(l[s])?(Hs(l[s][0]),Hs(l[s][1])):Hs(l[s]);n.type==="gauge"?(Oi(n,"axisLabel"),Oi(n,"title"),Oi(n,"detail")):n.type==="treemap"?(Xr(n.breadcrumb,"itemStyle"),B(n.levels,function(u){p_(u)})):n.type==="tree"&&p_(n.leaves)}}function Ru(n){return we(n)?n:n?[n]:[]}function qq(n){return(we(n)?n[0]:n)||{}}function aJe(n,e){_a(Ru(n.series),function(i){kS(i)&&sJe(i)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),_a(t,function(i){_a(Ru(n[i]),function(r){r&&(Oi(r,"axisLabel"),Oi(r.axisPointer,"label"))})}),_a(Ru(n.parallel),function(i){var r=i&&i.parallelAxisDefault;Oi(r,"axisLabel"),Oi(r&&r.axisPointer,"label")}),_a(Ru(n.calendar),function(i){Xr(i,"itemStyle"),Oi(i,"dayLabel"),Oi(i,"monthLabel"),Oi(i,"yearLabel")}),_a(Ru(n.radar),function(i){Oi(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),_a(Ru(n.geo),function(i){kS(i)&&(Hs(i),_a(Ru(i.regions),function(r){Hs(r)}))}),_a(Ru(n.timeline),function(i){Hs(i),Xr(i,"label"),Xr(i,"itemStyle"),Xr(i,"controlStyle",!0);var r=i.data;we(r)&&B(r,function(o){et(o)&&(Xr(o,"label"),Xr(o,"itemStyle"))})}),_a(Ru(n.toolbox),function(i){Xr(i,"iconStyle"),_a(i.feature,function(r){Xr(r,"iconStyle")})}),Oi(qq(n.axisPointer),"label"),Oi(qq(n.tooltip).axisPointer,"label")}function lJe(n,e){for(var t=e.split(","),i=n,r=0;r<t.length&&(i=i&&i[t[r]],i!=null);r++);return i}function uJe(n,e,t,i){for(var r=e.split(","),o=n,s,a=0;a<r.length-1;a++)s=r[a],o[s]==null&&(o[s]={}),o=o[s];(i||o[r[a]]==null)&&(o[r[a]]=t)}function Yq(n){n&&B(cJe,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var cJe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],dJe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],tk=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function A0(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<tk.length;t++){var i=tk[t][1],r=tk[t][0];e[i]!=null&&(e[r]=e[i])}}function Xq(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function Zq(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function hJe(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function ghe(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&ghe(n[t].children,e)}function phe(n,e){aJe(n,e),n.series=Pn(n.series),B(n.series,function(t){if(et(t)){var i=t.type;if(i==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(i==="pie"||i==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),Xq(t.label);var r=t.data;if(r&&!Ls(r))for(var o=0;o<r.length;o++)Xq(r[o]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(i==="gauge"){var s=lJe(t,"pointer.color");s!=null&&uJe(t,"itemStyle.color",s)}else if(i==="bar"){A0(t),A0(t.backgroundStyle),A0(t.emphasis);var r=t.data;if(r&&!Ls(r))for(var o=0;o<r.length;o++)typeof r[o]=="object"&&(A0(r[o]),A0(r[o]&&r[o].emphasis))}else if(i==="sunburst"){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),Zq(t),ghe(t.data,Zq)}else i==="graph"||i==="sankey"?hJe(t):i==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Qe(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),Yq(t)}}),n.dataRange&&(n.visualMap=n.dataRange),B(dJe,function(t){var i=n[t];i&&(we(i)||(i=[i]),B(i,function(r){Yq(r)}))})}function fJe(n){var e=Ue();n.eachSeries(function(t){var i=t.get("stack");if(i){var r=e.get(i)||e.set(i,[]),o=t.getData(),s={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;r.length&&o.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(s)}}),e.each(gJe)}function gJe(n){B(n,function(e,t){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],s=e.data,a=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(o,function(u,c,d){var h=s.get(e.stackedDimension,d);if(isNaN(h))return r;var f,g;a?g=s.getRawIndex(d):f=s.get(e.stackedByDimension,d);for(var p=NaN,m=t-1;m>=0;m--){var v=n[m];if(a||(g=v.data.rawIndexOf(v.stackedByDimension,f)),g>=0){var y=v.data.getByRawIndex(v.stackResultDimension,g);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&h>=0&&y>0||l==="samesign"&&h<=0&&y<0){h=ZYe(h,y),p=y;break}}}return i[0]=h,i[1]=p,i})})}var bM=function(){function n(e){this.data=e.data||(e.sourceFormat===xu?{}:[]),this.sourceFormat=e.sourceFormat||ohe,this.seriesLayoutBy=e.seriesLayoutBy||tu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var i=0;i<t.length;i++){var r=t[i];r.type==null&&lhe(this,i)===kr.Must&&(r.type="ordinal")}}return n}();function ez(n){return n instanceof bM}function _B(n,e,t){t=t||mhe(n);var i=e.seriesLayoutBy,r=mJe(n,t,i,e.sourceHeader,e.dimensions),o=new bM({data:n,sourceFormat:t,seriesLayoutBy:i,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:rt(e)});return o}function tz(n){return new bM({data:n,sourceFormat:Ls(n)?th:va})}function pJe(n){return new bM({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:rt(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function mhe(n){var e=ohe;if(Ls(n))e=th;else if(we(n)){n.length===0&&(e=ro);for(var t=0,i=n.length;t<i;t++){var r=n[t];if(r!=null){if(we(r)){e=ro;break}else if(et(r)){e=ya;break}}}}else if(et(n)){for(var o in n)if(ze(n,o)&&io(n[o])){e=xu;break}}return e}function mJe(n,e,t,i,r){var o,s;if(!n)return{dimensionsDefine:Qq(r),startIndex:s,dimensionsDetectedCount:o};if(e===ro){var a=n;i==="auto"||i==null?Jq(function(u){u!=null&&u!=="-"&&($e(u)?s==null&&(s=1):s=0)},t,a,10):s=Jt(i)?i:i?1:0,!r&&s===1&&(r=[],Jq(function(u,c){r[c]=u!=null?u+"":""},t,a,1/0)),o=r?r.length:t===Ky?a.length:a[0]?a[0].length:null}else if(e===ya)r||(r=vJe(n));else if(e===xu)r||(r=[],B(n,function(u,c){r.push(c)}));else if(e===va){var l=By(n[0]);o=we(l)&&l.length||1}return{startIndex:s,dimensionsDefine:Qq(r),dimensionsDetectedCount:o}}function vJe(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return Et(t)}function Qq(n){if(n){var e=Ue();return Te(n,function(t,i){t=et(t)?t:{name:t};var r={name:t.name,displayName:t.displayName,type:t.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r})}}function Jq(n,e,t,i){if(e===Ky)for(var r=0;r<t.length&&r<i;r++)n(t[r]?t[r][0]:null,r);else for(var o=t[0]||[],r=0;r<o.length&&r<i;r++)n(o[r],r)}function vhe(n){var e=n.sourceFormat;return e===ya||e===xu}var sf,af,lf,eY,tY,yhe=function(){function n(e,t){var i=ez(e)?e:tz(e);this._source=i;var r=this._data=i.data;i.sourceFormat===th&&(this._offset=0,this._dimSize=t,this._data=r),tY(this,r,i)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;tY=function(s,a,l){var u=l.sourceFormat,c=l.seriesLayoutBy,d=l.startIndex,h=l.dimensionsDefine,f=eY[nz(u,c)];if(be(s,f),u===th)s.getItem=t,s.count=r,s.fillStorage=i;else{var g=_he(u,c);s.getItem=We(g,null,a,d,h);var p=bhe(u,c);s.count=We(p,null,a,d,h)}};var t=function(s,a){s=s-this._offset,a=a||[];for(var l=this._data,u=this._dimSize,c=u*s,d=0;d<u;d++)a[d]=l[c+d];return a},i=function(s,a,l,u){for(var c=this._data,d=this._dimSize,h=0;h<d;h++){for(var f=u[h],g=f[0]==null?1/0:f[0],p=f[1]==null?-1/0:f[1],m=a-s,v=l[h],y=0;y<m;y++){var _=c[y*d+h];v[s+y]=_,_<g&&(g=_),_>p&&(p=_)}f[0]=g,f[1]=p}},r=function(){return this._data?this._data.length/this._dimSize:0};eY=(e={},e[ro+"_"+tu]={pure:!0,appendData:o},e[ro+"_"+Ky]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[ya]={pure:!0,appendData:o},e[xu]={pure:!0,appendData:function(s){var a=this._data;B(s,function(l,u){for(var c=a[u]||(a[u]=[]),d=0;d<(l||[]).length;d++)c.push(l[d])})}},e[va]={appendData:o},e[th]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function o(s){for(var a=0;a<s.length;a++)this._data.push(s[a])}}(),n}(),nY=function(n,e,t,i){return n[i]},yJe=(sf={},sf[ro+"_"+tu]=function(n,e,t,i){return n[i+e]},sf[ro+"_"+Ky]=function(n,e,t,i,r){i+=e;for(var o=r||[],s=n,a=0;a<s.length;a++){var l=s[a];o[a]=l?l[i]:null}return o},sf[ya]=nY,sf[xu]=function(n,e,t,i,r){for(var o=r||[],s=0;s<t.length;s++){var a=t[s].name,l=n[a];o[s]=l?l[i]:null}return o},sf[va]=nY,sf);function _he(n,e){var t=yJe[nz(n,e)];return t}var iY=function(n,e,t){return n.length},_Je=(af={},af[ro+"_"+tu]=function(n,e,t){return Math.max(0,n.length-e)},af[ro+"_"+Ky]=function(n,e,t){var i=n[0];return i?Math.max(0,i.length-e):0},af[ya]=iY,af[xu]=function(n,e,t){var i=t[0].name,r=n[i];return r?r.length:0},af[va]=iY,af);function bhe(n,e){var t=_Je[nz(n,e)];return t}var nk=function(n,e,t){return n[e]},bJe=(lf={},lf[ro]=nk,lf[ya]=function(n,e,t){return n[t]},lf[xu]=nk,lf[va]=function(n,e,t){var i=By(n);return i instanceof Array?i[e]:i},lf[th]=nk,lf);function She(n){var e=bJe[n];return e}function nz(n,e){return n===ro?n+"_"+e:n}function sy(n,e,t){if(n){var i=n.getRawDataItem(e);if(i!=null){var r=n.getStore(),o=r.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),a=r.getDimensionProperty(s);return She(o)(i,s,a)}else{var l=i;return o===va&&(l=By(i)),l}}}}var SJe=/\{@(.+?)\}/g,iz=function(){function n(){}return n.prototype.getDataParams=function(e,t){var i=this.getData(t),r=this.getRawValue(e,t),o=i.getRawIndex(e),s=i.getName(e),a=i.getRawDataItem(e),l=i.getItemVisual(e,"style"),u=l&&l[i.getItemVisual(e,"drawType")||"fill"],c=l&&l.stroke,d=this.mainType,h=d==="series",f=i.userOutput&&i.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:s,dataIndex:o,data:a,dataType:t,value:r,color:u,borderColor:c,dimensionNames:f?f.fullDimensions:null,encode:f?f.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,i,r,o,s){t=t||"normal";var a=this.getData(i),l=this.getDataParams(e,i);if(s&&(l.value=s.interpolatedValue),r!=null&&we(l.value)&&(l.value=l.value[r]),!o){var u=a.getItemModel(e);o=u.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(qe(o))return l.status=t,l.dimensionIndex=r,o(l);if($e(o)){var c=ehe(o,l);return c.replace(SJe,function(d,h){var f=h.length,g=h;g.charAt(0)==="["&&g.charAt(f-1)==="]"&&(g=+g.slice(1,f-1));var p=sy(a,e,g);if(s&&we(s.interpolatedValue)){var m=a.getDimensionIndex(g);m>=0&&(p=s.interpolatedValue[m])}return p!=null?p+"":""})}},n.prototype.getRawValue=function(e,t){return sy(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,i){},n}();function rY(n){var e,t;return et(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function mb(n){return new wJe(n)}var wJe=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,i=e&&e.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!i&&(o=this._plan(this.context));var s=c(this._modBy),a=this._modDataCount||0,l=c(e&&e.modBy),u=e&&e.modDataCount||0;(s!==l||a!==u)&&(o="reset");function c(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||o==="reset")&&(this._dirty=!1,d=this._doReset(i)),this._modBy=l,this._modDataCount=u;var h=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var f=this._dueIndex,g=Math.min(h!=null?this._dueIndex+h:1/0,this._dueEnd);if(!i&&(d||f<g)){var p=this._progress;if(we(p))for(var m=0;m<p.length;m++)this._doProgress(p[m],f,g,l,u);else this._doProgress(p,f,g,l,u)}this._dueIndex=g;var v=this._settedOutputEnd!=null?this._settedOutputEnd:g;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,i,r,o){oY.reset(t,i,r,o),this._callingProgress=e,this._callingProgress({start:t,end:i,count:i-t,next:oY.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,i;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(i=t.forceFirstProgress,t=t.progress),we(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),i},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),oY=function(){var n,e,t,i,r,o={reset:function(l,u,c,d){e=l,n=u,t=c,i=d,r=Math.ceil(i/t),o.next=t>1&&i>0?a:s}};return o;function s(){return e<n?e++:null}function a(){var l=e%r*t+Math.ceil(e/r),u=e>=n?null:l<i?l:e;return e++,u}}();function nh(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Jt(n)&&n!=null&&n!=="-"&&(n=+ll(n)),n==null||n===""?NaN:+n)}var CJe=Ue({number:function(n){return parseFloat(n)},time:function(n){return+ll(n)},trim:function(n){return $e(n)?ja(n):n}});function whe(n){return CJe.get(n)}var Che={lt:function(n,e){return n<e},lte:function(n,e){return n<=e},gt:function(n,e){return n>e},gte:function(n,e){return n>=e}},xJe=function(){function n(e,t){if(!Jt(t)){var i="";ln(i)}this._opFn=Che[e],this._rvalFloat=Ac(t)}return n.prototype.evaluate=function(e){return Jt(e)?this._opFn(e,this._rvalFloat):this._opFn(Ac(e),this._rvalFloat)},n}(),xhe=function(){function n(e,t){var i=e==="desc";this._resultLT=i?1:-1,t==null&&(t=i?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var i=Jt(e)?e:Ac(e),r=Jt(t)?t:Ac(t),o=isNaN(i),s=isNaN(r);if(o&&(i=this._incomparable),s&&(r=this._incomparable),o&&s){var a=$e(e),l=$e(t);a&&(i=l?e:0),l&&(r=a?t:0)}return i<r?this._resultLT:i>r?-this._resultLT:0},n}(),LJe=function(){function n(e,t){this._rval=t,this._isEQ=e,this._rvalTypeof=typeof t,this._rvalFloat=Ac(t)}return n.prototype.evaluate=function(e){var t=e===this._rval;if(!t){var i=typeof e;i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")&&(t=Ac(e)===this._rvalFloat)}return this._isEQ?t:!t},n}();function TJe(n,e){return n==="eq"||n==="ne"?new LJe(n==="eq",e):ze(Che,n)?new xJe(n,e):null}var IJe=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return nh(e,t)},n}();function DJe(n,e){var t=new IJe,i=n.data,r=t.sourceFormat=n.sourceFormat,o=n.startIndex,s="";n.seriesLayoutBy!==tu&&ln(s);var a=[],l={},u=n.dimensionsDefine;if(u)B(u,function(p,m){var v=p.name,y={index:m,name:v,displayName:p.displayName};if(a.push(y),v!=null){var _="";ze(l,v)&&ln(_),l[v]=y}});else for(var c=0;c<n.dimensionsDetectedCount;c++)a.push({index:c});var d=_he(r,tu);e.__isBuiltIn&&(t.getRawDataItem=function(p){return d(i,o,a,p)},t.getRawData=We(EJe,null,n)),t.cloneRawData=We(MJe,null,n);var h=bhe(r,tu);t.count=We(h,null,i,o,a);var f=She(r);t.retrieveValue=function(p,m){var v=d(i,o,a,p);return g(v,m)};var g=t.retrieveValueFromItem=function(p,m){if(p!=null){var v=a[m];if(v)return f(p,m,v.name)}};return t.getDimensionInfo=We(AJe,null,a,l),t.cloneAllDimensionInfo=We(NJe,null,a),t}function EJe(n){var e=n.sourceFormat;if(!rz(e)){var t="";ln(t)}return n.data}function MJe(n){var e=n.sourceFormat,t=n.data;if(!rz(e)){var i="";ln(i)}if(e===ro){for(var r=[],o=0,s=t.length;o<s;o++)r.push(t[o].slice());return r}else if(e===ya){for(var r=[],o=0,s=t.length;o<s;o++)r.push(be({},t[o]));return r}}function AJe(n,e,t){if(t!=null){if(Jt(t)||!isNaN(t)&&!ze(e,t))return n[t];if(ze(e,t))return e[t]}}function NJe(n){return rt(n)}var Lhe=Ue();function kJe(n){n=rt(n);var e=n.type,t="";e||ln(t);var i=e.split(":");i.length!==2&&ln(t);var r=!1;i[0]==="echarts"&&(e=i[1],r=!0),n.__isBuiltIn=r,Lhe.set(e,n)}function PJe(n,e,t){var i=Pn(n),r=i.length,o="";r||ln(o);for(var s=0,a=r;s<a;s++){var l=i[s];e=OJe(l,e),s!==a-1&&(e.length=Math.max(e.length,1))}return e}function OJe(n,e,t,i){var r="";e.length||ln(r),et(n)||ln(r);var o=n.type,s=Lhe.get(o);s||ln(r);var a=Te(e,function(u){return DJe(u,s)}),l=Pn(s.transform({upstream:a[0],upstreamList:a,config:rt(n.config)}));return Te(l,function(u,c){var d="";et(u)||ln(d),u.data||ln(d);var h=mhe(u.data);rz(h)||ln(d);var f,g=e[0];if(g&&c===0&&!u.dimensions){var p=g.startIndex;p&&(u.data=g.data.slice(0,p).concat(u.data)),f={seriesLayoutBy:tu,sourceHeader:p,dimensions:g.metaRawOption.dimensions}}else f={seriesLayoutBy:tu,sourceHeader:0,dimensions:u.dimensions};return _B(u.data,f,null)})}function rz(n){return n===ro||n===ya}var SM="undefined",RJe=typeof Uint32Array===SM?Array:Uint32Array,BJe=typeof Uint16Array===SM?Array:Uint16Array,The=typeof Int32Array===SM?Array:Int32Array,sY=typeof Float64Array===SM?Array:Float64Array,Ihe={float:sY,int:The,ordinal:Array,number:Array,time:sY},ik;function N0(n){return n>65535?RJe:BJe}function rm(){return[1/0,-1/0]}function FJe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function aY(n,e,t,i,r){var o=Ihe[t||"float"];if(r){var s=n[e],a=s&&s.length;if(a!==i){for(var l=new o(i),u=0;u<a;u++)l[u]=s[u];n[e]=l}}else n[e]=new o(i)}var bB=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Ue()}return n.prototype.initData=function(e,t,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=e.getSource(),o=this.defaultDimValueGetter=ik[r.sourceFormat];this._dimValueGetter=i||o,this._rawExtent=[],vhe(r),this._dimensions=Te(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var i=this._calcDimNameToIdx,r=this._dimensions,o=i.get(e);if(o!=null){if(r[o].type===t)return o}else o=r.length;return r[o]={type:t},i.set(e,o),this._chunks[o]=new Ihe[t||"float"](this._rawCount),this._rawExtent[o]=rm(),o},n.prototype.collectOrdinalMeta=function(e,t){var i=this._chunks[e],r=this._dimensions[e],o=this._rawExtent,s=r.ordinalOffset||0,a=i.length;s===0&&(o[e]=rm());for(var l=o[e],u=s;u<a;u++){var c=i[u]=t.parseAndCollect(i[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}r.ordinalMeta=t,r.ordinalOffset=a,r.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],i=t.ordinalMeta;return i},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,i=this.count();t.appendData(e);var r=t.count();return t.persistent||(r+=i),i<r&&this._initDataFromProvider(i,r,!0),[i,r]},n.prototype.appendValues=function(e,t){for(var i=this._chunks,r=this._dimensions,o=r.length,s=this._rawExtent,a=this.count(),l=a+Math.max(e.length,t||0),u=0;u<o;u++){var c=r[u];aY(i,u,c.type,l,!0)}for(var d=[],h=a;h<l;h++)for(var f=h-a,g=0;g<o;g++){var c=r[g],p=ik.arrayRows.call(this,e[f]||d,c.property,f,g);i[g][h]=p;var m=s[g];p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}return this._rawCount=this._count=l,{start:a,end:l}},n.prototype._initDataFromProvider=function(e,t,i){for(var r=this._provider,o=this._chunks,s=this._dimensions,a=s.length,l=this._rawExtent,u=Te(s,function(y){return y.property}),c=0;c<a;c++){var d=s[c];l[c]||(l[c]=rm()),aY(o,c,d.type,t,i)}if(r.fillStorage)r.fillStorage(e,t,o,l);else for(var h=[],f=e;f<t;f++){h=r.getItem(f,h);for(var g=0;g<a;g++){var p=o[g],m=this._dimValueGetter(h,u[g],f,g);p[f]=m;var v=l[g];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var i=[],r=[];if(t==null){t=e,e=[];for(var o=0;o<this._dimensions.length;o++)r.push(o)}else r=e;for(var o=0,s=r.length;o<s;o++)i.push(this.get(r[o],t));return i},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._chunks[e];return i?i[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],i=0;if(t)for(var r=0,o=this.count();r<o;r++){var s=this.get(e,r);isNaN(s)||(i+=s)}return i},n.prototype.getMedian=function(e){var t=[];this.each([e],function(o){isNaN(o)||t.push(o)});var i=t.sort(function(o,s){return o-s}),r=this.count();return r===0?0:r%2===1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(i!=null&&i<this._count&&i===e)return e;for(var r=0,o=this._count-1;r<=o;){var s=(r+o)/2|0;if(t[s]<e)r=s+1;else if(t[s]>e)o=s-1;else return s}return-1},n.prototype.indicesOfNearest=function(e,t,i){var r=this._chunks,o=r[e],s=[];if(!o)return s;i==null&&(i=1/0);for(var a=1/0,l=-1,u=0,c=0,d=this.count();c<d;c++){var h=this.getRawIndex(c),f=t-o[h],g=Math.abs(f);g<=i&&((g<a||g===a&&f>=0&&l<0)&&(a=g,l=f,u=0),f===l&&(s[u++]=c))}return s.length=u,s},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var i=t.constructor,r=this._count;if(i===Array){e=new i(r);for(var o=0;o<r;o++)e[o]=t[o]}else e=new i(t.buffer,0,r)}else{var i=N0(this._rawCount);e=new i(this.count());for(var o=0;o<e.length;o++)e[o]=o}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var i=this.clone(),r=i.count(),o=N0(i._rawCount),s=new o(r),a=[],l=e.length,u=0,c=e[0],d=i._chunks,h=0;h<r;h++){var f=void 0,g=i.getRawIndex(h);if(l===0)f=t(h);else if(l===1){var p=d[c][g];f=t(p,h)}else{for(var m=0;m<l;m++)a[m]=d[e[m]][g];a[m]=h,f=t.apply(null,a)}f&&(s[u++]=g)}return u<r&&(i._indices=s),i._count=u,i._extent=[],i._updateGetRawIdx(),i},n.prototype.selectRange=function(e){var t=this.clone(),i=t._count;if(!i)return this;var r=Et(e),o=r.length;if(!o)return this;var s=t.count(),a=N0(t._rawCount),l=new a(s),u=0,c=r[0],d=e[c][0],h=e[c][1],f=t._chunks,g=!1;if(!t._indices){var p=0;if(o===1){for(var m=f[r[0]],v=0;v<i;v++){var y=m[v];(y>=d&&y<=h||isNaN(y))&&(l[u++]=p),p++}g=!0}else if(o===2){for(var m=f[r[0]],_=f[r[1]],b=e[r[1]][0],S=e[r[1]][1],v=0;v<i;v++){var y=m[v],w=_[v];(y>=d&&y<=h||isNaN(y))&&(w>=b&&w<=S||isNaN(w))&&(l[u++]=p),p++}g=!0}}if(!g)if(o===1)for(var v=0;v<s;v++){var C=t.getRawIndex(v),y=f[r[0]][C];(y>=d&&y<=h||isNaN(y))&&(l[u++]=C)}else for(var v=0;v<s;v++){for(var x=!0,C=t.getRawIndex(v),L=0;L<o;L++){var T=r[L],y=f[T][C];(y<e[T][0]||y>e[T][1])&&(x=!1)}x&&(l[u++]=t.getRawIndex(v))}return u<s&&(t._indices=l),t._count=u,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var i=this.clone(e);return this._updateDims(i,e,t),i},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,i){for(var r=e._chunks,o=[],s=t.length,a=e.count(),l=[],u=e._rawExtent,c=0;c<t.length;c++)u[t[c]]=rm();for(var d=0;d<a;d++){for(var h=e.getRawIndex(d),f=0;f<s;f++)l[f]=r[t[f]][h];l[s]=d;var g=i&&i.apply(null,l);if(g!=null){typeof g!="object"&&(o[0]=g,g=o);for(var c=0;c<g.length;c++){var p=t[c],m=g[c],v=u[p],y=r[p];y&&(y[h]=m),m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}}}},n.prototype.lttbDownSample=function(e,t){var i=this.clone([e],!0),r=i._chunks,o=r[e],s=this.count(),a=0,l=Math.floor(1/t),u=this.getRawIndex(0),c,d,h,f=new(N0(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));f[a++]=u;for(var g=1;g<s-1;g+=l){for(var p=Math.min(g+l,s-1),m=Math.min(g+l*2,s),v=(m+p)/2,y=0,_=p;_<m;_++){var b=this.getRawIndex(_),S=o[b];isNaN(S)||(y+=S)}y/=m-p;var w=g,C=Math.min(g+l,s),x=g-1,L=o[u];c=-1,h=w;for(var T=-1,I=0,_=w;_<C;_++){var b=this.getRawIndex(_),S=o[b];if(isNaN(S)){I++,T<0&&(T=b);continue}d=Math.abs((x-v)*(S-L)-(x-_)*(y-L)),d>c&&(c=d,h=b)}I>0&&I<C-w&&(f[a++]=Math.min(T,h),h=Math.max(T,h)),f[a++]=h,u=h}return f[a++]=this.getRawIndex(s-1),i._count=a,i._indices=f,i.getRawIndex=this._getRawIdx,i},n.prototype.downSample=function(e,t,i,r){for(var o=this.clone([e],!0),s=o._chunks,a=[],l=Math.floor(1/t),u=s[e],c=this.count(),d=o._rawExtent[e]=rm(),h=new(N0(this._rawCount))(Math.ceil(c/l)),f=0,g=0;g<c;g+=l){l>c-g&&(l=c-g,a.length=l);for(var p=0;p<l;p++){var m=this.getRawIndex(g+p);a[p]=u[m]}var v=i(a),y=this.getRawIndex(Math.min(g+r(a,v)||0,c-1));u[y]=v,v<d[0]&&(d[0]=v),v>d[1]&&(d[1]=v),h[f++]=y}return o._count=f,o._indices=h,o._updateGetRawIdx(),o},n.prototype.each=function(e,t){if(this._count)for(var i=e.length,r=this._chunks,o=0,s=this.count();o<s;o++){var a=this.getRawIndex(o);switch(i){case 0:t(o);break;case 1:t(r[e[0]][a],o);break;case 2:t(r[e[0]][a],r[e[1]][a],o);break;default:for(var l=0,u=[];l<i;l++)u[l]=r[e[l]][a];u[l]=o,t.apply(null,u)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],i=rm();if(!t)return i;var r=this.count(),o=!this._indices,s;if(o)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=i;for(var a=s[0],l=s[1],u=0;u<r;u++){var c=this.getRawIndex(u),d=t[c];d<a&&(a=d),d>l&&(l=d)}return s=[a,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var i=[],r=this._chunks,o=0;o<r.length;o++)i.push(r[o][t]);return i},n.prototype.clone=function(e,t){var i=new n,r=this._chunks,o=e&&hu(e,function(a,l){return a[l]=!0,a},{});if(o)for(var s=0;s<r.length;s++)i._chunks[s]=o[s]?FJe(r[s]):r[s];else i._chunks=r;return this._copyCommonProps(i),t||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=rt(this._extent),e._rawExtent=rt(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var i=this._indices.length;t=new e(i);for(var r=0;r<i;r++)t[r]=this._indices[r]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,i,r,o){return nh(t[o],this._dimensions[o])}ik={arrayRows:e,objectRows:function(t,i,r,o){return nh(t[i],this._dimensions[o])},keyedColumns:e,original:function(t,i,r,o){var s=t&&(t.value==null?t:t.value);return nh(s instanceof Array?s[o]:s,this._dimensions[o])},typedArray:function(t,i,r,o){return t[o]}}}(),n}(),Dhe=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),i=!!t.length,r,o;if(DC(e)){var s=e,a=void 0,l=void 0,u=void 0;if(i){var c=t[0];c.prepareSource(),u=c.getSource(),a=u.data,l=u.sourceFormat,o=[c._getVersionSign()]}else a=s.get("data",!0),l=Ls(a)?th:va,o=[];var d=this._getSourceMetaRawOption()||{},h=u&&u.metaRawOption||{},f=gt(d.seriesLayoutBy,h.seriesLayoutBy)||null,g=gt(d.sourceHeader,h.sourceHeader),p=gt(d.dimensions,h.dimensions),m=f!==h.seriesLayoutBy||!!g!=!!h.sourceHeader||p;r=m?[_B(a,{seriesLayoutBy:f,sourceHeader:g,dimensions:p},l)]:[]}else{var v=e;if(i){var y=this._applyTransform(t);r=y.sourceList,o=y.upstreamSignList}else{var _=v.get("source",!0);r=[_B(_,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(r,o)},n.prototype._applyTransform=function(e){var t=this._sourceHost,i=t.get("transform",!0),r=t.get("fromTransformResult",!0);if(r!=null){var o="";e.length!==1&&uY(o)}var s,a=[],l=[];return B(e,function(u){u.prepareSource();var c=u.getSource(r||0),d="";r!=null&&!c&&uY(d),a.push(c),l.push(u._getVersionSign())}),i?s=PJe(i,a,{datasetIndex:t.componentIndex}):r!=null&&(s=[pJe(a[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var i=e[t];if(i._isDirty()||this._upstreamSignList[t]!==i._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,i){var r=0,o=this._storeList,s=o[r];s||(s=o[r]={});var a=s[i];if(!a){var l=this._getUpstreamSourceManagers()[0];DC(this._sourceHost)&&l?a=l._innerGetDataStore(e,t,i):(a=new bB,a.initData(new yhe(t,e.length),e)),s[i]=a}return a},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(DC(e)){var t=QW(e);return t?[t.getSourceManager()]:[]}else return Te(WQe(e),function(i){return i.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,i,r;if(DC(e))t=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),r=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;t=o.get("seriesLayoutBy",!0),i=o.get("sourceHeader",!0),r=o.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:i,dimensions:r}},n}();function lY(n){var e=n.option.transform;e&&gI(n.option.transform)}function DC(n){return n.mainType==="series"}function uY(n){throw new Error(n)}var Ehe="line-height:1";function Mhe(n,e){var t=n.color||"#6e7079",i=n.fontSize||12,r=n.fontWeight||"400",o=n.color||"#464646",s=n.fontSize||14,a=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Bo(i+"")+"px;color:"+Bo(t)+";font-weight:"+Bo(r+""),valueStyle:"font-size:"+Bo(s+"")+"px;color:"+Bo(o)+";font-weight:"+Bo(a+"")}:{nameStyle:{fontSize:i,fill:t,fontWeight:r},valueStyle:{fontSize:s,fill:o,fontWeight:a}}}var $Je=[0,10,20,30],VJe=["",`
`,`

`,`


`];function _r(n,e){return e.type=n,e}function SB(n){return n.type==="section"}function Ahe(n){return SB(n)?WJe:zJe}function Nhe(n){if(SB(n)){var e=0,t=n.blocks.length,i=t>1||t>0&&!n.noHeader;return B(n.blocks,function(r){var o=Nhe(r);o>=e&&(e=o+ +(i&&(!o||SB(r)&&!r.noHeader)))}),e}return 0}function WJe(n,e,t,i){var r=e.noHeader,o=HJe(Nhe(e)),s=[],a=e.blocks||[];xo(!a||we(a)),a=a||[];var l=n.orderMode;if(e.sortBlocks&&l){a=a.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(ze(u,l)){var c=new xhe(u[l],null);a.sort(function(g,p){return c.evaluate(g.sortParam,p.sortParam)})}else l==="seriesDesc"&&a.reverse()}B(a,function(g,p){var m=e.valueFormatter,v=Ahe(g)(m?be(be({},n),{valueFormatter:m}):n,g,p>0?o.html:0,i);v!=null&&s.push(v)});var d=n.renderMode==="richText"?s.join(o.richText):wB(s.join(""),r?t:o.html);if(r)return d;var h=mB(e.header,"ordinal",n.useUTC),f=Mhe(i,n.renderMode).nameStyle;return n.renderMode==="richText"?khe(n,h,f)+o.richText+d:wB('<div style="'+f+";"+Ehe+';">'+Bo(h)+"</div>"+d,t)}function zJe(n,e,t,i){var r=n.renderMode,o=e.noName,s=e.noValue,a=!e.markerType,l=e.name,u=n.useUTC,c=e.valueFormatter||n.valueFormatter||function(b){return b=we(b)?b:[b],Te(b,function(S,w){return mB(S,we(f)?f[w]:f,u)})};if(!(o&&s)){var d=a?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",r),h=o?"":mB(l,"ordinal",u),f=e.valueType,g=s?[]:c(e.value),p=!a||!o,m=!a&&o,v=Mhe(i,r),y=v.nameStyle,_=v.valueStyle;return r==="richText"?(a?"":d)+(o?"":khe(n,h,y))+(s?"":KJe(n,g,p,m,_)):wB((a?"":d)+(o?"":UJe(h,!a,y))+(s?"":GJe(g,p,m,_)),t)}}function cY(n,e,t,i,r,o){if(n){var s=Ahe(n),a={useUTC:r,renderMode:t,orderMode:i,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(a,n,0,o)}}function HJe(n){return{html:$Je[n],richText:VJe[n]}}function wB(n,e){var t='<div style="clear:both"></div>',i="margin: "+e+"px 0 0";return'<div style="'+i+";"+Ehe+';">'+n+t+"</div>"}function UJe(n,e,t){var i=e?"margin-left:2px":"";return'<span style="'+t+";"+i+'">'+Bo(n)+"</span>"}function GJe(n,e,t,i){var r=t?"10px":"20px",o=e?"float:right;margin-left:"+r:"";return n=we(n)?n:[n],'<span style="'+o+";"+i+'">'+Te(n,function(s){return Bo(s)}).join("&nbsp;&nbsp;")+"</span>"}function khe(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function KJe(n,e,t,i,r){var o=[r],s=i?10:20;return t&&o.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(we(e)?e.join("  "):e,o)}function Phe(n,e){var t=n.getData().getItemVisual(e,"style"),i=t[n.visualDrawType];return tp(i)}function Ohe(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var rk=function(){function n(){this.richTextStyles={},this._nextStyleNameId=kce()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,i){var r=i==="richText"?this._generateStyleName():null,o=kQe({color:t,type:e,renderMode:i,markerId:r});return $e(o)?o:(this.richTextStyles[r]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(e,t){var i={};we(t)?B(t,function(o){return be(i,o)}):be(i,t);var r=this._generateStyleName();return this.richTextStyles[r]=i,"{"+r+"|"+e+"}"},n}();function Rhe(n){var e=n.series,t=n.dataIndex,i=n.multipleSeries,r=e.getData(),o=r.mapDimensionsAll("defaultedTooltip"),s=o.length,a=e.getRawValue(t),l=we(a),u=Phe(e,t),c,d,h,f;if(s>1||l&&!s){var g=jJe(a,e,t,o,u);c=g.inlineValues,d=g.inlineValueTypes,h=g.blocks,f=g.inlineValues[0]}else if(s){var p=r.getDimensionInfo(o[0]);f=c=sy(r,t,o[0]),d=p.type}else f=c=l?a[0]:a;var m=MW(e),v=m&&e.name||"",y=r.getName(t),_=i?v:y;return _r("section",{header:v,noHeader:i||!m,sortParam:f,blocks:[_r("nameValue",{markerType:"item",markerColor:u,name:_,noName:!ja(_),value:c,valueType:d})].concat(h||[])})}function jJe(n,e,t,i,r){var o=e.getData(),s=hu(n,function(d,h,f){var g=o.getDimensionInfo(f);return d=d||g&&g.tooltip!==!1&&g.displayName!=null},!1),a=[],l=[],u=[];i.length?B(i,function(d){c(sy(o,t,d),d)}):B(n,c);function c(d,h){var f=o.getDimensionInfo(h);!f||f.otherDims.tooltip===!1||(s?u.push(_r("nameValue",{markerType:"subItem",markerColor:r,name:f.displayName,value:d,valueType:f.type})):(a.push(d),l.push(f.type)))}return{inlineValues:a,inlineValueTypes:l,blocks:u}}var ad=Kt();function EC(n,e){return n.getName(e)||n.getId(e)}var yL="__universalTransitionEnabled",wM=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,i,r){this.seriesIndex=this.componentIndex,this.dataTask=mb({count:YJe,reset:XJe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r);var o=ad(this).sourceManager=new Dhe(this);o.prepareSource();var s=this.getInitialData(t,r);hY(s,this),this.dataTask.context.data=s,ad(this).dataBeforeProcessed=s,dY(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,i){var r=NS(this),o=r?Uy(t):{},s=this.subType;qt.hasClass(s)&&(s+="Series"),pt(t,i.getTheme().get(this.subType)),pt(t,this.getDefaultOption()),Zg(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&_h(t,o,r)},e.prototype.mergeOption=function(t,i){t=pt(this.option,t,!0),this.fillDataTextStyle(t.data);var r=NS(this);r&&_h(this.option,t,r);var o=ad(this).sourceManager;o.dirty(),o.prepareSource();var s=this.getInitialData(t,i);hY(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,ad(this).dataBeforeProcessed=s,dY(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!Ls(t))for(var i=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Zg(t[r],"label",i)},e.prototype.getInitialData=function(t,i){},e.prototype.appendData=function(t){var i=this.getRawData();i.appendData(t.data)},e.prototype.getData=function(t){var i=CB(this);if(i){var r=i.context.data;return t==null?r:r.getLinkedData(t)}else return ad(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var i=CB(this);if(i){var r=i.context;r.outputData=t,i!==this.dataTask&&(r.data=t)}ad(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Ue(t)},e.prototype.getSourceManager=function(){return ad(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return ad(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,i,r){return Rhe({series:this,dataIndex:t,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Yt.node&&!(t&&t.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,i,r){var o=this.ecModel,s=JW.prototype.getColorFromPalette.call(this,t,i,r);return s||(s=o.getColorFromPalette(t,i,r)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,i){this._innerSelect(this.getData(i),t)},e.prototype.unselect=function(t,i){var r=this.option.selectedMap;if(r){var o=this.option.selectedMode,s=this.getData(i);if(o==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var a=0;a<t.length;a++){var l=t[a],u=EC(s,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},e.prototype.toggleSelect=function(t,i){for(var r=[],o=0;o<t.length;o++)r[0]=t[o],this.isSelected(t[o],i)?this.unselect(r,i):this.select(r,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,i=Et(t),r=[],o=0;o<i.length;o++){var s=t[i[o]];s>=0&&r.push(s)}return r},e.prototype.isSelected=function(t,i){var r=this.option.selectedMap;if(!r)return!1;var o=this.getData(i);return(r==="all"||r[EC(o,t)])&&!o.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[yL])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,i){var r,o,s=this.option,a=s.selectedMode,l=i.length;if(!(!a||!l)){if(a==="series")s.selectedMap="all";else if(a==="multiple"){et(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var d=i[c],h=EC(t,d);u[h]=!0,this._selectedDataIndicesMap[h]=t.getRawIndex(d)}}else if(a==="single"||a===!0){var f=i[l-1],h=EC(t,f);s.selectedMap=(r={},r[h]=!0,r),this._selectedDataIndicesMap=(o={},o[h]=t.getRawIndex(f),o)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var i=[];t.hasItemOption&&t.each(function(r){var o=t.getRawDataItem(r);o&&o.selected&&i.push(r)}),i.length>0&&this._innerSelect(t,i)}},e.registerClass=function(t){return qt.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(qt);Hi(wM,iz);Hi(wM,JW);zce(wM,qt);function dY(n){var e=n.name;MW(n)||(n.name=qJe(n)||e)}function qJe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),i=[];return B(t,function(r){var o=e.getDimensionInfo(r);o.displayName&&i.push(o.displayName)}),i.join(" ")}function YJe(n){return n.model.getRawData().count()}function XJe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),ZJe}function ZJe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function hY(n,e){B(pI(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,dt(QJe,e))})}function QJe(n,e){var t=CB(n);return t&&t.setOutputEnd((e||this).count()),e}function CB(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var i=t.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(n.uid))}return i}}const ii=wM;var oz=function(){function n(){this.group=new st,this.uid=zy("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){},n.prototype.updateLayout=function(e,t,i,r){},n.prototype.updateVisual=function(e,t,i,r){},n.prototype.toggleBlurSeries=function(e,t,i){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();NW(oz);iM(oz);const vi=oz;function jy(){var n=Kt();return function(e){var t=n(e),i=e.pipelineContext,r=!!t.large,o=!!t.progressiveRender,s=t.large=!!(i&&i.large),a=t.progressiveRender=!!(i&&i.progressiveRender);return(r!==s||o!==a)&&"reset"}}var Bhe=Kt(),JJe=jy(),sz=function(){function n(){this.group=new st,this.uid=zy("viewChart"),this.renderTask=mb({plan:eet,reset:tet}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,i,r){},n.prototype.highlight=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&gY(o,r,"emphasis")},n.prototype.downplay=function(e,t,i,r){var o=e.getData(r&&r.dataType);o&&gY(o,r,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateLayout=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.updateVisual=function(e,t,i,r){this.render(e,t,i,r)},n.prototype.eachRendered=function(e){Ih(this.group,e)},n.markUpdateMethod=function(e,t){Bhe(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function fY(n,e,t){n&&DS(n)&&(e==="emphasis"?Nc:kc)(n,t)}function gY(n,e,t){var i=Qg(n,e),r=e&&e.highlightKey!=null?TZe(e.highlightKey):null;i!=null?B(Pn(i),function(o){fY(n.getItemGraphicEl(o),t,r)}):n.eachItemGraphicEl(function(o){fY(o,t,r)})}NW(sz);iM(sz);function eet(n){return JJe(n.model)}function tet(n){var e=n.model,t=n.ecModel,i=n.api,r=n.payload,o=e.pipelineContext.progressiveRender,s=n.view,a=r&&Bhe(r).updateMethod,l=o?"incrementalPrepareRender":a&&s[a]?a:"render";return l!=="render"&&s[l](e,t,i,r),net[l]}var net={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const Un=sz;var NI="\0__throttleOriginMethod",pY="\0__throttleRate",mY="\0__throttleType";function az(n,e,t){var i,r=0,o=0,s=null,a,l,u,c;e=e||0;function d(){o=new Date().getTime(),s=null,n.apply(l,u||[])}var h=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i=new Date().getTime(),l=this,u=f;var p=c||e,m=c||t;c=null,a=i-(m?r:o)-p,clearTimeout(s),m?s=setTimeout(d,p):a>=0?d():s=setTimeout(d,-a),r=i};return h.clear=function(){s&&(clearTimeout(s),s=null)},h.debounceNextCall=function(f){c=f},h}function qy(n,e,t,i){var r=n[e];if(r){var o=r[NI]||r,s=r[mY],a=r[pY];if(a!==t||s!==i){if(t==null||!i)return n[e]=o;r=n[e]=az(o,t,i==="debounce"),r[NI]=o,r[mY]=i,r[pY]=t}return r}}function PS(n,e){var t=n[e];t&&t[NI]&&(t.clear&&t.clear(),n[e]=t[NI])}var vY=Kt(),yY={itemStyle:Jg(Wde,!0),lineStyle:Jg(Vde,!0)},iet={lineStyle:"stroke",itemStyle:"fill"};function Fhe(n,e){var t=n.visualStyleMapper||yY[e];return t||(console.warn("Unknown style type '"+e+"'."),yY.itemStyle)}function $he(n,e){var t=n.visualDrawType||iet[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var ret={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=n.getModel(i),o=Fhe(n,i),s=o(r),a=r.getShallow("decal");a&&(t.setVisual("decal",a),a.dirty=!0);var l=$he(n,i),u=s[l],c=qe(u)?u:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||d){var h=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=h,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||qe(s.fill)?h:s.fill,s.stroke=s.stroke==="auto"||qe(s.stroke)?h:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&c)return t.setVisual("colorFromPalette",!1),{dataEach:function(f,g){var p=n.getDataParams(g),m=be({},s);m[l]=c(p),f.setItemVisual(g,"style",m)}}}},k0=new Hn,oet={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),i=n.visualStyleAccessPath||"itemStyle",r=Fhe(n,i),o=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,a){var l=s.getRawDataItem(a);if(l&&l[i]){k0.option=l[i];var u=r(k0),c=s.ensureUniqueItemVisual(a,"style");be(c,u),k0.option.decal&&(s.setItemVisual(a,"decal",k0.option.decal),k0.option.decal.dirty=!0),o in u&&s.setItemVisual(a,"colorFromPalette",!1)}}:null}}}},set={performRawSeries:!0,overallReset:function(n){var e=Ue();n.eachSeries(function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,o=e.get(r);o||(o={},e.set(r,o)),vY(t).scope=o}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var i=t.getRawData(),r={},o=t.getData(),s=vY(t).scope,a=t.visualStyleAccessPath||"itemStyle",l=$he(t,a);o.each(function(u){var c=o.getRawIndex(u);r[c]=u}),i.each(function(u){var c=r[u],d=o.getItemVisual(c,"colorFromPalette");if(d){var h=o.ensureUniqueItemVisual(c,"style"),f=i.getName(u)||u+"",g=i.count();h[l]=t.getColorFromPalette(f,s,g)}})}})}},MC=Math.PI;function aet(n,e){e=e||{},Qe(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new st,i=new Gt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(i);var r=new Zt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Gt({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(o);var s;return e.showSpinner&&(s=new WW({shape:{startAngle:-MC/2,endAngle:-MC/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:MC*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:MC*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var a=r.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,u=(n.getWidth()-l*2-(e.showSpinner&&a?10:0)-a)/2-(e.showSpinner&&a?0:5+a/2)+(e.showSpinner?0:a/2)+(a?0:l),c=n.getHeight()/2;e.showSpinner&&s.setShape({cx:u,cy:c}),o.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),i.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var uet=function(){function n(e,t,i,r){this._stageTaskMap=Ue(),this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=i.concat(r)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(i){var r=i.overallTask;r&&r.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),r=i.context,o=!t&&i.progressiveEnabled&&(!r||r.progressiveRender)&&e.__idxInPipeline>i.blockIndex,s=o?i.step:null,a=r&&r.modDataCount,l=a!=null?Math.ceil(a/s):null;return{step:s,modBy:l,modDataCount:a}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),r=e.getData(),o=r.count(),s=i.progressiveEnabled&&t.incrementalPrepareRender&&o>=i.threshold,a=e.get("large")&&o>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?o:null;e.pipelineContext=i.context={progressiveRender:s,modDataCount:l,large:a}},n.prototype.restorePipelines=function(e){var t=this,i=t._pipelineMap=Ue();e.eachSeries(function(r){var o=r.getProgressive(),s=r.uid;i.set(s,{id:s,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:o&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),t._pipe(r,r.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),i=this.api;B(this._allHandlers,function(r){var o=e.get(r.uid)||e.set(r.uid,{}),s="";xo(!(r.reset&&r.overallReset),s),r.reset&&this._createSeriesStageTask(r,o,t,i),r.overallReset&&this._createOverallStageTask(r,o,t,i)},this)},n.prototype.prepareView=function(e,t,i,r){var o=e.renderTask,s=o.context;s.model=t,s.ecModel=i,s.api=r,o.__block=!e.incrementalPrepareRender,this._pipe(t,o)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,i){this._performStageTasks(this._visualHandlers,e,t,i)},n.prototype._performStageTasks=function(e,t,i,r){r=r||{};var o=!1,s=this;B(e,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),d=c.seriesTaskMap,h=c.overallTask;if(h){var f,g=h.agentStubMap;g.each(function(m){a(r,m)&&(m.dirty(),f=!0)}),f&&h.dirty(),s.updatePayload(h,i);var p=s.getPerformArgs(h,r.block);g.each(function(m){m.perform(p)}),h.perform(p)&&(o=!0)}else d&&d.each(function(m,v){a(r,m)&&m.dirty();var y=s.getPerformArgs(m,r.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(m.context.model),s.updatePayload(m,i),m.perform(y)&&(o=!0)})}});function a(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(i){t=i.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,i,r){var o=this,s=t.seriesTaskMap,a=t.seriesTaskMap=Ue(),l=e.seriesType,u=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(c):l?i.eachRawSeriesByType(l,c):u&&u(i,r).each(c);function c(d){var h=d.uid,f=a.set(h,s&&s.get(h)||mb({plan:get,reset:pet,count:vet}));f.context={model:d,ecModel:i,api:r,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(d,f)}},n.prototype._createOverallStageTask=function(e,t,i,r){var o=this,s=t.overallTask=t.overallTask||mb({reset:cet});s.context={ecModel:i,api:r,overallReset:e.overallReset,scheduler:o};var a=s.agentStubMap,l=s.agentStubMap=Ue(),u=e.seriesType,c=e.getTargetSeries,d=!0,h=!1,f="";xo(!e.createOnAllSeries,f),u?i.eachRawSeriesByType(u,g):c?c(i,r).each(g):(d=!1,B(i.getSeries(),g));function g(p){var m=p.uid,v=l.set(m,a&&a.get(m)||(h=!0,mb({reset:det,onDirty:fet})));v.context={model:p,overallProgress:d},v.agent=s,v.__block=d,o._pipe(p,v)}h&&s.dirty()},n.prototype._pipe=function(e,t){var i=e.uid,r=this._pipelineMap.get(i);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},n.wrapStageHandler=function(e,t){return qe(e)&&(e={overallReset:e,seriesType:yet(e)}),e.uid=zy("stageHandler"),t&&(e.visualType=t),e},n}();function cet(n){n.overallReset(n.ecModel,n.api,n.payload)}function det(n){return n.overallProgress&&het}function het(){this.agent.dirty(),this.getDownstream().dirty()}function fet(){this.agent&&this.agent.dirty()}function get(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function pet(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Pn(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?Te(e,function(t,i){return Vhe(i)}):met}var met=Vhe(0);function Vhe(n){return function(e,t){var i=t.data,r=t.resetDefines[n];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function vet(n){return n.data.count()}function yet(n){kI=null;try{n(OS,Whe)}catch{}return kI}var OS={},Whe={},kI;zhe(OS,hhe);zhe(Whe,fhe);OS.eachSeriesByType=OS.eachRawSeriesByType=function(n){kI=n};OS.eachComponent=function(n){n.mainType==="series"&&n.subType&&(kI=n.subType)};function zhe(n,e){for(var t in e.prototype)n[t]=Ni}const Hhe=uet;var _Y=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const _et={color:_Y,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],_Y]};var co="#B9B8CE",bY="#100C2A",AC=function(){return{axisLine:{lineStyle:{color:co}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},SY=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Uhe={darkMode:!0,color:SY,backgroundColor:bY,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:co}},textStyle:{color:co},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:co}},dataZoom:{borderColor:"#71708A",textStyle:{color:co},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:co}},timeline:{lineStyle:{color:co},label:{color:co},controlStyle:{color:co,borderColor:co}},calendar:{itemStyle:{color:bY},dayLabel:{color:co},monthLabel:{color:co},yearLabel:{color:co}},timeAxis:AC(),logAxis:AC(),valueAxis:AC(),categoryAxis:AC(),line:{symbol:"circle"},graph:{color:SY},gauge:{title:{color:co},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:co},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Uhe.categoryAxis.splitLine.show=!1;const bet=Uhe;var wet=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},i={},r={};if($e(e)){var o=ql(e);t.mainType=o.main||null,t.subType=o.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};B(e,function(l,u){for(var c=!1,d=0;d<s.length;d++){var h=s[d],f=u.lastIndexOf(h);if(f>0&&f===u.length-h.length){var g=u.slice(0,f);g!=="data"&&(t.mainType=g,t[h.toLowerCase()]=l,c=!0)}}a.hasOwnProperty(u)&&(i[u]=l,c=!0),c||(r[u]=l)})}return{cptQuery:t,dataQuery:i,otherQuery:r}},n.prototype.filter=function(e,t){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,o=i.packedEvent,s=i.model,a=i.view;if(!s||!a)return!0;var l=t.cptQuery,u=t.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,o,"name")&&c(u,o,"dataIndex")&&c(u,o,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,r,o));function c(d,h,f,g){return d[f]==null||h[g||f]===d[f]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),xB=["symbol","symbolSize","symbolRotate","symbolOffset"],wY=xB.concat(["symbolKeepAspect"]),Cet={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var i={},r={},o=!1,s=0;s<xB.length;s++){var a=xB[s],l=n.get(a);qe(l)?(o=!0,r[a]=l):i[a]=l}if(i.symbol=i.symbol||n.defaultSymbol,t.setVisual(be({legendIcon:n.legendIcon||i.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},i)),e.isSeriesFiltered(n))return;var u=Et(r);function c(d,h){for(var f=n.getRawValue(h),g=n.getDataParams(h),p=0;p<u.length;p++){var m=u[p];d.setItemVisual(h,m,r[m](f,g))}}return{dataEach:o?c:null}}},xet={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function i(r,o){for(var s=r.getItemModel(o),a=0;a<wY.length;a++){var l=wY[a],u=s.getShallow(l,!0);u!=null&&r.setItemVisual(o,l,u)}}return{dataEach:t.hasItemOption?i:null}}};function lz(n,e,t){switch(t){case"color":var i=n.getItemVisual(e,"style");return i[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function Ow(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function Ghe(n,e,t,i){switch(t){case"color":var r=n.ensureUniqueItemVisual(e,"style");r[n.getVisual("drawType")]=i,n.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(e,t,i);break}}function Khe(n,e){function t(i,r){var o=[];return i.eachComponent({mainType:"series",subType:n,query:r},function(s){o.push(s.seriesIndex)}),o}B([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(i){e(i[0],function(r,o,s){r=be({},r),s.dispatchAction(be(r,{type:i[1],seriesIndex:t(o,r)}))})})}function om(n,e,t,i,r){var o=n+e;t.isSilent(o)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var a=s.seriesIndex,l=s.option.selectedMap,u=r.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===a){var d=s.getData(),h=Qg(d,r.fromActionPayload);t.trigger(o,{type:o,seriesId:s.id,name:we(h)?d.getName(h[0]):d.getName(h),selected:$e(l)?l:be({},l)})}})}function Let(n,e,t){n.on("selectchanged",function(i){var r=t.getModel();i.isFromClick?(om("map","selectchanged",e,r,i),om("pie","selectchanged",e,r,i)):i.fromAction==="select"?(om("map","selected",e,r,i),om("pie","selected",e,r,i)):i.fromAction==="unselect"&&(om("map","unselected",e,r,i),om("pie","unselected",e,r,i))})}function tg(n,e,t){for(var i;n&&!(e(n)&&(i=n,t));)n=n.__hostTarget||n.parent;return i}var Tet=Math.round(Math.random()*9),Iet=typeof Object.defineProperty=="function",Det=function(){function n(){this._id="__ec_inner_"+Tet++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var i=this._guard(e);return Iet?Object.defineProperty(i,this._id,{value:t,enumerable:!1,configurable:!0}):i[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const Eet=Det;var Met=It.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i+o),n.lineTo(t-r,i+o),n.closePath()}}),Aet=It.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,i=e.cy,r=e.width/2,o=e.height/2;n.moveTo(t,i-o),n.lineTo(t+r,i),n.lineTo(t,i+o),n.lineTo(t-r,i),n.closePath()}}),Net=It.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),s=r/2,a=s*s/(o-s),l=i-o+s+a,u=Math.asin(a/s),c=Math.cos(u)*s,d=Math.sin(u),h=Math.cos(u),f=s*.6,g=s*.7;n.moveTo(t-c,l+a),n.arc(t,l,s,Math.PI-u,Math.PI*2+u),n.bezierCurveTo(t+c-d*f,l+a+h*f,t,i-g,t,i),n.bezierCurveTo(t,i-g,t-c+d*f,l+a+h*f,t-c,l+a),n.closePath()}}),ket=It.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,i=e.width,r=e.x,o=e.y,s=i/3*2;n.moveTo(r,o),n.lineTo(r+s,o+t),n.lineTo(r,o+t/4*3),n.lineTo(r-s,o+t),n.lineTo(r,o),n.closePath()}}),Pet={line:Er,rect:Gt,roundRect:Gt,square:Gt,circle:mu,diamond:Aet,pin:Net,arrow:ket,triangle:Met},Oet={line:function(n,e,t,i,r){r.x1=n,r.y1=e+i/2,r.x2=n+t,r.y2=e+i/2},rect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i},roundRect:function(n,e,t,i,r){r.x=n,r.y=e,r.width=t,r.height=i,r.r=Math.min(t,i)/4},square:function(n,e,t,i,r){var o=Math.min(t,i);r.x=n,r.y=e,r.width=o,r.height=o},circle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.r=Math.min(t,i)/2},diamond:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i},pin:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},arrow:function(n,e,t,i,r){r.x=n+t/2,r.y=e+i/2,r.width=t,r.height=i},triangle:function(n,e,t,i,r){r.cx=n+t/2,r.cy=e+i/2,r.width=t,r.height=i}},PI={};B(Pet,function(n,e){PI[e]=new n});var Ret=It.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var i=wI(n,e,t),r=this.shape;return r&&r.symbolType==="pin"&&e.position==="inside"&&(i.y=t.y+t.height*.4),i},buildPath:function(n,e,t){var i=e.symbolType;if(i!=="none"){var r=PI[i];r||(i="rect",r=PI[i]),Oet[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(n,r.shape,t)}}});function Bet(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function Wi(n,e,t,i,r,o,s){var a=n.indexOf("empty")===0;a&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=Ade(n.slice(8),new mt(e,t,i,r),s?"center":"cover"):n.indexOf("path://")===0?l=dM(n.slice(7),{},new mt(e,t,i,r),s?"center":"cover"):l=new Ret({shape:{symbolType:n,x:e,y:t,width:i,height:r}}),l.__isEmptyBrush=a,l.setColor=Bet,o&&l.setColor(o),l}function Yy(n){return we(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Ip(n,e){if(n!=null)return we(n)||(n=[n,n]),[Fe(n[0],e[0])||0,Fe(gt(n[1],n[0]),e[1])||0]}function ng(n){return isFinite(n)}function Fet(n,e,t){var i=e.x==null?0:e.x,r=e.x2==null?1:e.x2,o=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(i=i*t.width+t.x,r=r*t.width+t.x,o=o*t.height+t.y,s=s*t.height+t.y),i=ng(i)?i:0,r=ng(r)?r:1,o=ng(o)?o:0,s=ng(s)?s:0;var a=n.createLinearGradient(i,o,r,s);return a}function $et(n,e,t){var i=t.width,r=t.height,o=Math.min(i,r),s=e.x==null?.5:e.x,a=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*i+t.x,a=a*r+t.y,l=l*o),s=ng(s)?s:.5,a=ng(a)?a:.5,l=l>=0&&ng(l)?l:.5;var u=n.createRadialGradient(s,a,0,s,a,l);return u}function LB(n,e,t){for(var i=e.type==="radial"?$et(n,e,t):Fet(n,e,t),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function Vet(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function NC(n){return parseInt(n,10)}function Wm(n,e,t){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[i]!=null&&t[i]!=="auto")return parseFloat(t[i]);var a=document.defaultView.getComputedStyle(n);return(n[r]||NC(a[i])||NC(n.style[i]))-(NC(a[o])||0)-(NC(a[s])||0)|0}function Wet(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Jt(n)?[n]:we(n)?n:null}function uz(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&Wet(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(t){var r=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;r&&r!==1&&(t=Te(t,function(o){return o/r}),i/=r)}return[t,i]}var zet=new pu(!0);function OI(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function CY(n){return typeof n=="string"&&n!=="none"}function RI(n){var e=n.fill;return e!=null&&e!=="none"}function xY(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function LY(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function TB(n,e,t){var i=kW(e.image,e.__image,t);if(rM(i)){var r=n.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*rL),o.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(o)}return r}}function Het(n,e,t,i){var r,o=OI(t),s=RI(t),a=t.strokePercent,l=a<1,u=!e.path;(!e.silent||l)&&u&&e.createPathProxy();var c=e.path||zet,d=e.__dirty;if(!i){var h=t.fill,f=t.stroke,g=s&&!!h.colorStops,p=o&&!!f.colorStops,m=s&&!!h.image,v=o&&!!f.image,y=void 0,_=void 0,b=void 0,S=void 0,w=void 0;(g||p)&&(w=e.getBoundingRect()),g&&(y=d?LB(n,h,w):e.__canvasFillGradient,e.__canvasFillGradient=y),p&&(_=d?LB(n,f,w):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),m&&(b=d||!e.__canvasFillPattern?TB(n,h,e):e.__canvasFillPattern,e.__canvasFillPattern=b),v&&(S=d||!e.__canvasStrokePattern?TB(n,f,e):e.__canvasStrokePattern,e.__canvasStrokePattern=b),g?n.fillStyle=y:m&&(b?n.fillStyle=b:s=!1),p?n.strokeStyle=_:v&&(S?n.strokeStyle=S:o=!1)}var C=e.getGlobalScale();c.setScale(C[0],C[1],e.segmentIgnoreThreshold);var x,L;n.setLineDash&&t.lineDash&&(r=uz(e),x=r[0],L=r[1]);var T=!0;(u||d&Cm)&&(c.setDPR(n.dpr),l?c.setContext(null):(c.setContext(n),T=!1),c.reset(),e.buildPath(c,e.shape,i),c.toStatic(),e.pathUpdated()),T&&c.rebuildPath(n,l?a:1),x&&(n.setLineDash(x),n.lineDashOffset=L),i||(t.strokeFirst?(o&&LY(n,t),s&&xY(n,t)):(s&&xY(n,t),o&&LY(n,t))),x&&n.setLineDash([])}function Uet(n,e,t){var i=e.__image=kW(t.image,e.__image,e,e.onload);if(!(!i||!rM(i))){var r=t.x||0,o=t.y||0,s=e.getWidth(),a=e.getHeight(),l=i.width/i.height;if(s==null&&a!=null?s=a*l:a==null&&s!=null?a=s/l:s==null&&a==null&&(s=i.width,a=i.height),t.sWidth&&t.sHeight){var u=t.sx||0,c=t.sy||0;n.drawImage(i,u,c,t.sWidth,t.sHeight,r,o,s,a)}else if(t.sx&&t.sy){var u=t.sx,c=t.sy,d=s-u,h=a-c;n.drawImage(i,u,c,d,h,r,o,s,a)}else n.drawImage(i,r,o,s,a)}}function Get(n,e,t){var i,r=t.text;if(r!=null&&(r+=""),r){n.font=t.font||ph,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var o=void 0,s=void 0;n.setLineDash&&t.lineDash&&(i=uz(e),o=i[0],s=i[1]),o&&(n.setLineDash(o),n.lineDashOffset=s),t.strokeFirst?(OI(t)&&n.strokeText(r,t.x,t.y),RI(t)&&n.fillText(r,t.x,t.y)):(RI(t)&&n.fillText(r,t.x,t.y),OI(t)&&n.strokeText(r,t.x,t.y)),o&&n.setLineDash([])}}var TY=["shadowBlur","shadowOffsetX","shadowOffsetY"],IY=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function jhe(n,e,t,i,r){var o=!1;if(!i&&(t=t||{},e===t))return!1;if(i||e.opacity!==t.opacity){Vo(n,r),o=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?bg.opacity:s}(i||e.blend!==t.blend)&&(o||(Vo(n,r),o=!0),n.globalCompositeOperation=e.blend||bg.blend);for(var a=0;a<TY.length;a++){var l=TY[a];(i||e[l]!==t[l])&&(o||(Vo(n,r),o=!0),n[l]=n.dpr*(e[l]||0))}return(i||e.shadowColor!==t.shadowColor)&&(o||(Vo(n,r),o=!0),n.shadowColor=e.shadowColor||bg.shadowColor),o}function DY(n,e,t,i,r){var o=RS(e,r.inHover),s=i?null:t&&RS(t,r.inHover)||{};if(o===s)return!1;var a=jhe(n,o,s,i,r);if((i||o.fill!==s.fill)&&(a||(Vo(n,r),a=!0),CY(o.fill)&&(n.fillStyle=o.fill)),(i||o.stroke!==s.stroke)&&(a||(Vo(n,r),a=!0),CY(o.stroke)&&(n.strokeStyle=o.stroke)),(i||o.opacity!==s.opacity)&&(a||(Vo(n,r),a=!0),n.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var l=o.lineWidth,u=l/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==u&&(a||(Vo(n,r),a=!0),n.lineWidth=u)}for(var c=0;c<IY.length;c++){var d=IY[c],h=d[0];(i||o[h]!==s[h])&&(a||(Vo(n,r),a=!0),n[h]=o[h]||d[1])}return a}function Ket(n,e,t,i,r){return jhe(n,RS(e,r.inHover),t&&RS(t,r.inHover),i,r)}function qhe(n,e){var t=e.transform,i=n.dpr||1;t?n.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):n.setTransform(i,0,0,i,0,0)}function jet(n,e,t){for(var i=!1,r=0;r<n.length;r++){var o=n[r];i=i||o.isZeroArea(),qhe(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}t.allClipped=i}function qet(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var EY=1,MY=2,AY=3,NY=4;function Yet(n){var e=RI(n),t=OI(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function Vo(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function RS(n,e){return e&&n.__hoverStyle||n.style}function Yhe(n,e){ig(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ig(n,e,t,i){var r=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~hs,e.__isRendered=!1;return}var o=e.__clipPaths,s=t.prevElClipPaths,a=!1,l=!1;if((!s||Vet(o,s))&&(s&&s.length&&(Vo(n,t),n.restore(),l=a=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),o&&o.length&&(Vo(n,t),n.save(),jet(o,n,t),a=!0),t.prevElClipPaths=o),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=t.prevEl;u||(l=a=!0);var c=e instanceof It&&e.autoBatch&&Yet(e.style);a||qet(r,u.transform)?(Vo(n,t),qhe(n,e)):c||Vo(n,t);var d=RS(e,t.inHover);e instanceof It?(t.lastDrawType!==EY&&(l=!0,t.lastDrawType=EY),DY(n,e,u,l,t),(!c||!t.batchFill&&!t.batchStroke)&&n.beginPath(),Het(n,e,d,c),c&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof TS?(t.lastDrawType!==AY&&(l=!0,t.lastDrawType=AY),DY(n,e,u,l,t),Get(n,e,d)):e instanceof Hr?(t.lastDrawType!==MY&&(l=!0,t.lastDrawType=MY),Ket(n,e,u,l,t),Uet(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==NY&&(l=!0,t.lastDrawType=NY),Xet(n,e,t)),c&&i&&Vo(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function Xet(n,e,t){var i=e.getDisplayables(),r=e.getTemporalDisplayables();n.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,a;for(s=e.getCursor(),a=i.length;s<a;s++){var l=i[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ig(n,l,o,s===a-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var u=0,c=r.length;u<c;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ig(n,l,o,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var ok=new Eet,kY=new Tw(100),PY=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function ay(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),i=e.getZr(),r=i.painter.type==="svg";n.dirty&&ok.delete(n);var o=ok.get(n);if(o)return o;var s=Qe(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var a={repeat:"repeat"};return l(a),a.rotation=s.rotation,a.scaleX=a.scaleY=r?1:1/t,ok.set(n,a),n.dirty=!1,a;function l(u){for(var c=[t],d=!0,h=0;h<PY.length;++h){var f=s[PY[h]];if(f!=null&&!we(f)&&!$e(f)&&!Jt(f)&&typeof f!="boolean"){d=!1;break}c.push(f)}var g;if(d){g=c.join(",")+(r?"-svg":"");var p=kY.get(g);p&&(r?u.svgElement=p:u.image=p)}var m=Zhe(s.dashArrayX),v=Zet(s.dashArrayY),y=Xhe(s.symbol),_=Qet(m),b=Qhe(v),S=!r&&mh.createCanvas(),w=r&&{tag:"g",attrs:{},key:"dcl",children:[]},C=L(),x;S&&(S.width=C.width*t,S.height=C.height*t,x=S.getContext("2d")),T(),d&&kY.put(g,S||w),u.image=S,u.svgElement=w,u.svgWidth=C.width,u.svgHeight=C.height;function L(){for(var I=1,D=0,M=_.length;D<M;++D)I=Yj(I,_[D]);for(var P=1,D=0,M=y.length;D<M;++D)P=Yj(P,y[D].length);I*=P;var k=b*_.length*y.length;return{width:Math.max(1,Math.min(I,s.maxTileWidth)),height:Math.max(1,Math.min(k,s.maxTileHeight))}}function T(){x&&(x.clearRect(0,0,S.width,S.height),s.backgroundColor&&(x.fillStyle=s.backgroundColor,x.fillRect(0,0,S.width,S.height)));for(var I=0,D=0;D<v.length;++D)I+=v[D];if(I<=0)return;for(var M=-b,P=0,k=0,O=0;M<C.height;){if(P%2===0){for(var F=k/2%y.length,R=0,$=0,H=0;R<C.width*2;){for(var U=0,D=0;D<m[O].length;++D)U+=m[O][D];if(U<=0)break;if($%2===0){var z=(1-s.symbolSize)*.5,Z=R+m[O][$]*z,X=M+v[P]*z,ce=m[O][$]*s.symbolSize,q=v[P]*s.symbolSize,j=H/2%y[F].length;ie(Z,X,ce,q,y[F][j])}R+=m[O][$],++H,++$,$===m[O].length&&($=0)}++O,O===m.length&&(O=0)}M+=v[P],++k,++P,P===v.length&&(P=0)}function ie(Q,le,ue,W,G){var K=r?1:t,de=Wi(G,Q*K,le*K,ue*K,W*K,s.color,s.symbolKeepAspect);if(r){var Y=i.painter.renderOneToVNode(de);Y&&w.children.push(Y)}else Yhe(x,de)}}}}function Xhe(n){if(!n||n.length===0)return[["rect"]];if($e(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!$e(n[t])){e=!1;break}if(e)return Xhe([n]);for(var i=[],t=0;t<n.length;++t)$e(n[t])?i.push([n[t]]):i.push(n[t]);return i}function Zhe(n){if(!n||n.length===0)return[[0,0]];if(Jt(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,i=0;i<n.length;++i)if(!Jt(n[i])){t=!1;break}if(t)return Zhe([n]);for(var r=[],i=0;i<n.length;++i)if(Jt(n[i])){var e=Math.ceil(n[i]);r.push([e,e])}else{var e=Te(n[i],function(a){return Math.ceil(a)});e.length%2===1?r.push(e.concat(e)):r.push(e)}return r}function Zet(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Jt(n)){var e=Math.ceil(n);return[e,e]}var t=Te(n,function(i){return Math.ceil(i)});return n.length%2?t.concat(t):t}function Qet(n){return Te(n,function(e){return Qhe(e)})}function Qhe(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function Jet(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var i=t.getData();i.hasItemVisual()&&i.each(function(s){var a=i.getItemVisual(s,"decal");if(a){var l=i.ensureUniqueItemVisual(s,"style");l.decal=ay(a,e)}});var r=i.getVisual("decal");if(r){var o=i.getVisual("style");o.decal=ay(r,e)}}})}var ett=new ma;const Ta=ett;var Jhe={};function ttt(n,e){Jhe[n]=e}function ntt(n){return Jhe[n]}var itt=1,rtt=800,ott=900,stt=1e3,att=2e3,ltt=5e3,efe=1e3,utt=1100,cz=2e3,tfe=3e3,ctt=4e3,CM=4500,dtt=4600,htt=5e3,ftt=6e3,nfe=7e3,gtt={PROCESSOR:{FILTER:stt,SERIES_FILTER:rtt,STATISTIC:ltt},VISUAL:{LAYOUT:efe,PROGRESSIVE_LAYOUT:utt,GLOBAL:cz,CHART:tfe,POST_CHART_LAYOUT:dtt,COMPONENT:ctt,BRUSH:htt,CHART_ITEM:CM,ARIA:ftt,DECAL:nfe}},Gr="__flagInMainProcess",Mo="__pendingUpdate",sk="__needsUpdateStatus",OY=/^[a-zA-Z0-9_]+$/,ak="__connectUpdateStatus",RY=0,ptt=1,mtt=2;function ife(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return ofe(this,n,e)}}function rfe(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ofe(this,n,e)}}function ofe(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),ma.prototype[e].apply(n,t)}var sfe=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(ma),afe=sfe.prototype;afe.on=rfe("on");afe.off=rfe("off");var sm,lk,kC,ld,uk,ck,dk,P0,O0,BY,FY,hk,$Y,PC,VY,lfe,Os,WY,ufe=function(n){re(e,n);function e(t,i,r){var o=n.call(this,new wet)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],r=r||{},$e(i)&&(i=cfe[i]),o._dom=t;var s="canvas",a="auto",l=!1,u=o._zr=Gj(t,{renderer:r.renderer||s,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:gt(r.useDirtyRect,l),useCoarsePointer:gt(r.useCoarsePointer,a),pointerSize:r.pointerSize});o._ssr=r.ssr,o._throttledZrFlush=az(We(u.flush,u),17),i=rt(i),i&&phe(i,!0),o._theme=i,o._locale=TQe(r.locale||zde),o._coordSysMgr=new Pw;var c=o._api=VY(o);function d(h,f){return h.__prio-f.__prio}return aL(FI,d),aL(IB,d),o._scheduler=new Hhe(o,c,IB,FI),o._messageCenter=new sfe,o._initEvents(),o.resize=We(o.resize,o),u.animation.on("frame",o._onframe,o),BY(u,o),FY(u,o),gI(o),o}return e.prototype._onframe=function(){if(!this._disposed){WY(this);var t=this._scheduler;if(this[Mo]){var i=this[Mo].silent;this[Gr]=!0;try{sm(this),ld.update.call(this,null,this[Mo].updateParams)}catch(l){throw this[Gr]=!1,this[Mo]=null,l}this._zr.flush(),this[Gr]=!1,this[Mo]=null,P0.call(this,i),O0.call(this,i)}else if(t.unfinished){var r=itt,o=this._model,s=this._api;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(o),t.performDataProcessorTasks(o),ck(this,o),t.performVisualTasks(o),PC(this,this._model,s,"remain",{}),r-=+new Date-a}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,i,r){if(!this[Gr]){if(this._disposed){this.id;return}var o,s,a;if(et(i)&&(r=i.lazyUpdate,o=i.silent,s=i.replaceMerge,a=i.transition,i=i.notMerge),this[Gr]=!0,!this._model||i){var l=new oJe(this._api),u=this._theme,c=this._model=new hhe;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(t,{replaceMerge:s},DB);var d={seriesTransition:a,optionChanged:!0};if(r)this[Mo]={silent:o,updateParams:d},this[Gr]=!1,this.getZr().wakeUp();else{try{sm(this),ld.update.call(this,null,d)}catch(h){throw this[Mo]=null,this[Gr]=!1,h}this._ssr||this._zr.flush(),this[Mo]=null,this[Gr]=!1,P0.call(this,o),O0.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Yt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var i=this._zr.painter;return i.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Yt.svgSupported){var t=this._zr,i=t.storage.getDisplayList();return B(i,function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var i=t.excludeComponents,r=this._model,o=[],s=this;B(i,function(l){r.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(o.push(c),c.group.ignore=!0)})});var a=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return B(o,function(l){l.group.ignore=!1}),a},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var i=t.type==="svg",r=this.group,o=Math.min,s=Math.max,a=1/0;if(zY[r]){var l=a,u=a,c=-a,d=-a,h=[],f=t&&t.pixelRatio||this.getDevicePixelRatio();B(yb,function(_,b){if(_.group===r){var S=i?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(rt(t)),w=_.getDom().getBoundingClientRect();l=o(w.left,l),u=o(w.top,u),c=s(w.right,c),d=s(w.bottom,d),h.push({dom:S,left:w.left,top:w.top})}}),l*=f,u*=f,c*=f,d*=f;var g=c-l,p=d-u,m=mh.createCanvas(),v=Gj(m,{renderer:i?"svg":"canvas"});if(v.resize({width:g,height:p}),i){var y="";return B(h,function(_){var b=_.left-l,S=_.top-u;y+='<g transform="translate('+b+","+S+')">'+_.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}else return t.connectedBackgroundColor&&v.add(new Gt({shape:{x:0,y:0,width:g,height:p},style:{fill:t.connectedBackgroundColor}})),B(h,function(_){var b=new Hr({style:{x:_.left*f-l,y:_.top*f-u,image:_.dom}});v.add(b)}),v.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,i){return uk(this,"convertToPixel",t,i)},e.prototype.convertFromPixel=function(t,i){return uk(this,"convertFromPixel",t,i)},e.prototype.containPixel=function(t,i){if(this._disposed){this.id;return}var r=this._model,o,s=db(r,t);return B(s,function(a,l){l.indexOf("Models")>=0&&B(a,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)o=o||!!c.containPoint(i);else if(l==="seriesModels"){var d=this._chartsMap[u.__viewId];d&&d.containPoint&&(o=o||d.containPoint(i,u))}},this)},this),!!o},e.prototype.getVisual=function(t,i){var r=this._model,o=db(r,t,{defaultMainType:"series"}),s=o.seriesModel,a=s.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?a.indexOfRawIndex(o.dataIndex):null;return l!=null?lz(a,l,i):Ow(a,i)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;B(vtt,function(i){var r=function(o){var s=t.getModel(),a=o.target,l,u=i==="globalout";if(u?l={}:a&&tg(a,function(g){var p=ut(g);if(p&&p.dataIndex!=null){var m=p.dataModel||s.getSeriesByIndex(p.seriesIndex);return l=m&&m.getDataParams(p.dataIndex,p.dataType,a)||{},!0}else if(p.eventData)return l=be({},p.eventData),!0},!0),l){var c=l.componentType,d=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",d=l.seriesIndex);var h=c&&d!=null&&s.getComponent(c,d),f=h&&t[h.mainType==="series"?"_chartsMap":"_componentsMap"][h.__viewId];l.event=o,l.type=i,t._$eventProcessor.eventInfo={targetEl:a,packedEvent:l,model:h,view:f},t.trigger(i,l)}};r.zrEventfulCallAtLast=!0,t._zr.on(i,r,t)}),B(vb,function(i,r){t._messageCenter.on(r,function(o){this.trigger(r,o)},t)}),B(["selectchanged"],function(i){t._messageCenter.on(i,function(r){this.trigger(i,r)},t)}),Let(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&$ce(this.getDom(),hz,"");var i=this,r=i._api,o=i._model;B(i._componentsViews,function(s){s.dispose(o,r)}),B(i._chartsViews,function(s){s.dispose(o,r)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete yb[i.id]},e.prototype.resize=function(t){if(!this[Gr]){if(this._disposed){this.id;return}this._zr.resize(t);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var r=i.resetOption("media"),o=t&&t.silent;this[Mo]&&(o==null&&(o=this[Mo].silent),r=!0,this[Mo]=null),this[Gr]=!0;try{r&&sm(this),ld.update.call(this,{type:"resize",animation:be({duration:0},t&&t.animation)})}catch(s){throw this[Gr]=!1,s}this[Gr]=!1,P0.call(this,o),O0.call(this,o)}}},e.prototype.showLoading=function(t,i){if(this._disposed){this.id;return}if(et(t)&&(i=t,t=""),t=t||"default",this.hideLoading(),!!EB[t]){var r=EB[t](this._api,i),o=this._zr;this._loadingFX=r,o.add(r)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var i=be({},t);return i.type=vb[t.type],i},e.prototype.dispatchAction=function(t,i){if(this._disposed){this.id;return}if(et(i)||(i={silent:!!i}),!!BI[t.type]&&this._model){if(this[Gr]){this._pendingActions.push(t);return}var r=i.silent;dk.call(this,t,r);var o=i.flush;o?this._zr.flush():o!==!1&&Yt.browser.weChat&&this._throttledZrFlush(),P0.call(this,r),O0.call(this,r)}},e.prototype.updateLabelLayout=function(){Ta.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var i=t.seriesIndex,r=this.getModel(),o=r.getSeriesByIndex(i);o.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){sm=function(d){var h=d._scheduler;h.restorePipelines(d._model),h.prepareStageTasks(),lk(d,!0),lk(d,!1),h.plan()},lk=function(d,h){for(var f=d._model,g=d._scheduler,p=h?d._componentsViews:d._chartsViews,m=h?d._componentsMap:d._chartsMap,v=d._zr,y=d._api,_=0;_<p.length;_++)p[_].__alive=!1;h?f.eachComponent(function(w,C){w!=="series"&&b(C)}):f.eachSeries(b);function b(w){var C=w.__requireNewView;w.__requireNewView=!1;var x="_ec_"+w.id+"_"+w.type,L=!C&&m[x];if(!L){var T=ql(w.type),I=h?vi.getClass(T.main,T.sub):Un.getClass(T.sub);L=new I,L.init(f,y),m[x]=L,p.push(L),v.add(L.group)}w.__viewId=L.__id=x,L.__alive=!0,L.__model=w,L.group.__ecComponentInfo={mainType:w.mainType,index:w.componentIndex},!h&&g.prepareView(L,w,f,y)}for(var _=0;_<p.length;){var S=p[_];S.__alive?_++:(!h&&S.renderTask.dispose(),v.remove(S.group),S.dispose(f,y),p.splice(_,1),m[S.__id]===S&&delete m[S.__id],S.__id=S.group.__ecComponentInfo=null)}},kC=function(d,h,f,g,p){var m=d._model;if(m.setUpdatePayload(f),!g){B([].concat(d._componentsViews).concat(d._chartsViews),S);return}var v={};v[g+"Id"]=f[g+"Id"],v[g+"Index"]=f[g+"Index"],v[g+"Name"]=f[g+"Name"];var y={mainType:g,query:v};p&&(y.subType=p);var _=f.excludeSeriesId,b;_!=null&&(b=Ue(),B(Pn(_),function(w){var C=Yi(w,null);C!=null&&b.set(C,!0)})),m&&m.eachComponent(y,function(w){var C=b&&b.get(w.id)!=null;if(!C)if(Cq(f))if(w instanceof ii)f.type===Sg&&!f.notBlur&&!w.get(["emphasis","disabled"])&&yZe(w,f,d._api);else{var x=FW(w.mainType,w.componentIndex,f.name,d._api),L=x.focusSelf,T=x.dispatchers;f.type===Sg&&L&&!f.notBlur&&uB(w.mainType,w.componentIndex,d._api),T&&B(T,function(I){f.type===Sg?Nc(I):kc(I)})}else dB(f)&&w instanceof ii&&(SZe(w,f,d._api),Sq(w),Os(d))},d),m&&m.eachComponent(y,function(w){var C=b&&b.get(w.id)!=null;C||S(d[g==="series"?"_chartsMap":"_componentsMap"][w.__viewId])},d);function S(w){w&&w.__alive&&w[h]&&w[h](w.__model,m,d._api,f)}},ld={prepareAndUpdate:function(d){sm(this),ld.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,h){var f=this._model,g=this._api,p=this._zr,m=this._coordSysMgr,v=this._scheduler;if(f){f.setUpdatePayload(d),v.restoreData(f,d),v.performSeriesTasks(f),m.create(f,g),v.performDataProcessorTasks(f,d),ck(this,f),m.update(f,g),t(f),v.performVisualTasks(f,d),hk(this,f,g,d,h);var y=f.get("backgroundColor")||"transparent",_=f.get("darkMode");p.setBackgroundColor(y),_!=null&&_!=="auto"&&p.setDarkMode(_),Ta.trigger("afterupdate",f,g)}},updateTransform:function(d){var h=this,f=this._model,g=this._api;if(f){f.setUpdatePayload(d);var p=[];f.eachComponent(function(v,y){if(v!=="series"){var _=h.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var b=_.updateTransform(y,f,g,d);b&&b.update&&p.push(_)}else p.push(_)}});var m=Ue();f.eachSeries(function(v){var y=h._chartsMap[v.__viewId];if(y.updateTransform){var _=y.updateTransform(v,f,g,d);_&&_.update&&m.set(v.uid,1)}else m.set(v.uid,1)}),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0,dirtyMap:m}),PC(this,f,g,d,{},m),Ta.trigger("afterupdate",f,g)}},updateView:function(d){var h=this._model;h&&(h.setUpdatePayload(d),Un.markUpdateMethod(d,"updateView"),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0}),hk(this,h,this._api,d,{}),Ta.trigger("afterupdate",h,this._api))},updateVisual:function(d){var h=this,f=this._model;f&&(f.setUpdatePayload(d),f.eachSeries(function(g){g.getData().clearAllVisual()}),Un.markUpdateMethod(d,"updateVisual"),t(f),this._scheduler.performVisualTasks(f,d,{visualType:"visual",setDirty:!0}),f.eachComponent(function(g,p){if(g!=="series"){var m=h.getViewOfComponentModel(p);m&&m.__alive&&m.updateVisual(p,f,h._api,d)}}),f.eachSeries(function(g){var p=h._chartsMap[g.__viewId];p.updateVisual(g,f,h._api,d)}),Ta.trigger("afterupdate",f,this._api))},updateLayout:function(d){ld.update.call(this,d)}},uk=function(d,h,f,g){if(d._disposed){d.id;return}for(var p=d._model,m=d._coordSysMgr.getCoordinateSystems(),v,y=db(p,f),_=0;_<m.length;_++){var b=m[_];if(b[h]&&(v=b[h](p,y,g))!=null)return v}},ck=function(d,h){var f=d._chartsMap,g=d._scheduler;h.eachSeries(function(p){g.updateStreamModes(p,f[p.__viewId])})},dk=function(d,h){var f=this,g=this.getModel(),p=d.type,m=d.escapeConnect,v=BI[p],y=v.actionInfo,_=(y.update||"update").split(":"),b=_.pop(),S=_[0]!=null&&ql(_[0]);this[Gr]=!0;var w=[d],C=!1;d.batch&&(C=!0,w=Te(d.batch,function(P){return P=Qe(be({},P),d),P.batch=null,P}));var x=[],L,T=dB(d),I=Cq(d);if(I&&dde(this._api),B(w,function(P){if(L=v.action(P,f._model,f._api),L=L||be({},P),L.type=y.event||L.type,x.push(L),I){var k=AW(d),O=k.queryOptionMap,F=k.mainTypeSpecified,R=F?O.keys()[0]:"series";kC(f,b,P,R),Os(f)}else T?(kC(f,b,P,"series"),Os(f)):S&&kC(f,b,P,S.main,S.sub)}),b!=="none"&&!I&&!T&&!S)try{this[Mo]?(sm(this),ld.update.call(this,d),this[Mo]=null):ld[b].call(this,d)}catch(P){throw this[Gr]=!1,P}if(C?L={type:y.event||p,escapeConnect:m,batch:x}:L=x[0],this[Gr]=!1,!h){var D=this._messageCenter;if(D.trigger(L.type,L),T){var M={type:"selectchanged",escapeConnect:m,selected:wZe(g),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};D.trigger(M.type,M)}}},P0=function(d){for(var h=this._pendingActions;h.length;){var f=h.shift();dk.call(this,f,d)}},O0=function(d){!d&&this.trigger("updated")},BY=function(d,h){d.on("rendered",function(f){h.trigger("rendered",f),d.animation.isFinished()&&!h[Mo]&&!h._scheduler.unfinished&&!h._pendingActions.length&&h.trigger("finished")})},FY=function(d,h){d.on("mouseover",function(f){var g=f.target,p=tg(g,DS);p&&(_Ze(p,f,h._api),Os(h))}).on("mouseout",function(f){var g=f.target,p=tg(g,DS);p&&(bZe(p,f,h._api),Os(h))}).on("click",function(f){var g=f.target,p=tg(g,function(y){return ut(y).dataIndex!=null},!0);if(p){var m=p.selected?"unselect":"select",v=ut(p);h._api.dispatchAction({type:m,dataType:v.dataType,dataIndexInside:v.dataIndex,seriesIndex:v.seriesIndex,isFromClick:!0})}})};function t(d){d.clearColorPalette(),d.eachSeries(function(h){h.clearColorPalette()})}function i(d){var h=[],f=[],g=!1;if(d.eachComponent(function(y,_){var b=_.get("zlevel")||0,S=_.get("z")||0,w=_.getZLevelKey();g=g||!!w,(y==="series"?f:h).push({zlevel:b,z:S,idx:_.componentIndex,type:y,key:w})}),g){var p=h.concat(f),m,v;aL(p,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),B(p,function(y){var _=d.getComponent(y.type,y.idx),b=y.zlevel,S=y.key;m!=null&&(b=Math.max(m,b)),S?(b===m&&S!==v&&b++,v=S):v&&(b===m&&b++,v=""),m=b,_.setZLevel(b)})}}hk=function(d,h,f,g,p){i(h),$Y(d,h,f,g,p),B(d._chartsViews,function(m){m.__alive=!1}),PC(d,h,f,g,p),B(d._chartsViews,function(m){m.__alive||m.remove(h,f)})},$Y=function(d,h,f,g,p,m){B(m||d._componentsViews,function(v){var y=v.__model;u(y,v),v.render(y,h,f,g),a(y,v),c(y,v)})},PC=function(d,h,f,g,p,m){var v=d._scheduler;p=be(p||{},{updatedSeries:h.getSeries()}),Ta.trigger("series:beforeupdate",h,f,p);var y=!1;h.eachSeries(function(_){var b=d._chartsMap[_.__viewId];b.__alive=!0;var S=b.renderTask;v.updatePayload(S,g),u(_,b),m&&m.get(_.uid)&&S.dirty(),S.perform(v.getPerformArgs(S))&&(y=!0),b.group.silent=!!_.get("silent"),s(_,b),Sq(_)}),v.unfinished=y||v.unfinished,Ta.trigger("series:layoutlabels",h,f,p),Ta.trigger("series:transition",h,f,p),h.eachSeries(function(_){var b=d._chartsMap[_.__viewId];a(_,b),c(_,b)}),o(d,h),Ta.trigger("series:afterupdate",h,f,p)},Os=function(d){d[sk]=!0,d.getZr().wakeUp()},WY=function(d){d[sk]&&(d.getZr().storage.traverse(function(h){wv(h)||r(h)}),d[sk]=!1)};function r(d){for(var h=[],f=d.currentStates,g=0;g<f.length;g++){var p=f[g];p==="emphasis"||p==="blur"||p==="select"||h.push(p)}d.selected&&d.states.select&&h.push("select"),d.hoverState===aM&&d.states.emphasis?h.push("emphasis"):d.hoverState===Ew&&d.states.blur&&h.push("blur"),d.useStates(h)}function o(d,h){var f=d._zr,g=f.storage,p=0;g.traverse(function(m){m.isGroup||p++}),p>h.get("hoverLayerThreshold")&&!Yt.node&&!Yt.worker&&h.eachSeries(function(m){if(!m.preventUsingHoverLayer){var v=d._chartsMap[m.__viewId];v.__alive&&v.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(d,h){var f=d.get("blendMode")||null;h.eachRendered(function(g){g.isGroup||(g.style.blend=f)})}function a(d,h){if(!d.preventAutoZ){var f=d.get("z")||0,g=d.get("zlevel")||0;h.eachRendered(function(p){return l(p,f,g,-1/0),!0})}}function l(d,h,f,g){var p=d.getTextContent(),m=d.getTextGuideLine(),v=d.isGroup;if(v)for(var y=d.childrenRef(),_=0;_<y.length;_++)g=Math.max(l(y[_],h,f,g),g);else d.z=h,d.zlevel=f,g=Math.max(d.z2,g);if(p&&(p.z=h,p.zlevel=f,isFinite(g)&&(p.z2=g+2)),m){var b=d.textGuideLineConfig;m.z=h,m.zlevel=f,isFinite(g)&&(m.z2=g+(b&&b.showAbove?1:-1))}return g}function u(d,h){h.eachRendered(function(f){if(!wv(f)){var g=f.getTextContent(),p=f.getTextGuideLine();f.stateTransition&&(f.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),f.hasState()?(f.prevStates=f.currentStates,f.clearStates()):f.prevStates&&(f.prevStates=null)}})}function c(d,h){var f=d.getModel("stateAnimation"),g=d.isAnimationEnabled(),p=f.get("duration"),m=p>0?{duration:p,delay:f.get("delay"),easing:f.get("easing")}:null;h.eachRendered(function(v){if(v.states&&v.states.emphasis){if(wv(v))return;if(v instanceof It&&IZe(v),v.__dirty){var y=v.prevStates;y&&v.useStates(y)}if(g){v.stateTransition=m;var _=v.getTextContent(),b=v.getTextGuideLine();_&&(_.stateTransition=m),b&&(b.stateTransition=m)}v.__dirty&&r(v)}})}VY=function(d){return new(function(h){re(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},f.prototype.getComponentByElement=function(g){for(;g;){var p=g.__ecComponentInfo;if(p!=null)return d._model.getComponent(p.mainType,p.index);g=g.parent}},f.prototype.enterEmphasis=function(g,p){Nc(g,p),Os(d)},f.prototype.leaveEmphasis=function(g,p){kc(g,p),Os(d)},f.prototype.enterBlur=function(g){ade(g),Os(d)},f.prototype.leaveBlur=function(g){BW(g),Os(d)},f.prototype.enterSelect=function(g){lde(g),Os(d)},f.prototype.leaveSelect=function(g){ude(g),Os(d)},f.prototype.getModel=function(){return d.getModel()},f.prototype.getViewOfComponentModel=function(g){return d.getViewOfComponentModel(g)},f.prototype.getViewOfSeriesModel=function(g){return d.getViewOfSeriesModel(g)},f}(fhe))(d)},lfe=function(d){function h(f,g){for(var p=0;p<f.length;p++){var m=f[p];m[ak]=g}}B(vb,function(f,g){d._messageCenter.on(g,function(p){if(zY[d.group]&&d[ak]!==RY){if(p&&p.escapeConnect)return;var m=d.makeActionFromEvent(p),v=[];B(yb,function(y){y!==d&&y.group===d.group&&v.push(y)}),h(v,RY),B(v,function(y){y[ak]!==ptt&&y.dispatchAction(m)}),h(v,mtt)}})})}}(),e}(ma),dz=ufe.prototype;dz.on=ife("on");dz.off=ife("off");dz.one=function(n,e,t){var i=this;function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];e&&e.apply&&e.apply(this,o),i.off(n,r)}this.on.call(this,n,r,t)};var vtt=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var BI={},vb={},IB=[],DB=[],FI=[],cfe={},EB={},yb={},zY={},ytt=+new Date-0,hz="_echarts_instance_";function HY(n,e,t){var i=!(t&&t.ssr);if(i){var r=_tt(n);if(r)return r}var o=new ufe(n,e,t);return o.id="ec_"+ytt++,yb[o.id]=o,i&&$ce(n,hz,o.id),lfe(o),Ta.trigger("afterinit",o),o}function _tt(n){return yb[fXe(n,hz)]}function dfe(n,e){cfe[n]=e}function hfe(n){Ct(DB,n)<0&&DB.push(n)}function ffe(n,e){gz(IB,n,e,att)}function btt(n){fz("afterinit",n)}function Stt(n){fz("afterupdate",n)}function fz(n,e){Ta.on(n,e)}function Lu(n,e,t){qe(e)&&(t=e,e="");var i=et(n)?n.type:[n,n={event:e}][0];n.event=(n.event||i).toLowerCase(),e=n.event,!vb[e]&&(xo(OY.test(i)&&OY.test(e)),BI[i]||(BI[i]={action:t,actionInfo:n}),vb[e]=i)}function wtt(n,e){Pw.register(n,e)}function Ctt(n,e){gz(FI,n,e,efe,"layout")}function Dp(n,e){gz(FI,n,e,tfe,"visual")}var UY=[];function gz(n,e,t,i,r){if((qe(e)||et(e))&&(t=e,e=i),!(Ct(UY,t)>=0)){UY.push(t);var o=Hhe.wrapStageHandler(t,r);o.__prio=e,o.__raw=t,n.push(o)}}function gfe(n,e){EB[n]=e}function xtt(n,e,t){var i=ntt("registerMap");i&&i(n,e,t)}var Ltt=kJe;Dp(cz,ret);Dp(CM,oet);Dp(CM,set);Dp(cz,Cet);Dp(CM,xet);Dp(nfe,Jet);hfe(phe);ffe(ott,fJe);gfe("default",aet);Lu({type:Sg,event:Sg,update:Sg},Ni);Lu({type:fL,event:fL,update:fL},Ni);Lu({type:hb,event:hb,update:hb},Ni);Lu({type:gL,event:gL,update:gL},Ni);Lu({type:fb,event:fb,update:fb},Ni);dfe("light",_et);dfe("dark",bet);var GY=[],Ttt={registerPreprocessor:hfe,registerProcessor:ffe,registerPostInit:btt,registerPostUpdate:Stt,registerUpdateLifecycle:fz,registerAction:Lu,registerCoordinateSystem:wtt,registerLayout:Ctt,registerVisual:Dp,registerTransform:Ltt,registerLoading:gfe,registerMap:xtt,registerImpl:ttt,PRIORITY:gtt,ComponentModel:qt,ComponentView:vi,SeriesModel:ii,ChartView:Un,registerComponentModel:function(n){qt.registerClass(n)},registerComponentView:function(n){vi.registerClass(n)},registerSeriesModel:function(n){ii.registerClass(n)},registerChartView:function(n){Un.registerClass(n)},registerSubTypeDefaulter:function(n,e){qt.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){jYe(n,e)}};function Lt(n){if(we(n)){B(n,function(e){Lt(e)});return}Ct(GY,n)>=0||(GY.push(n),qe(n)&&(n={install:n}),n.install(Ttt))}function R0(n){return n==null?0:n.length||1}function KY(n){return n}var Itt=function(){function n(e,t,i,r,o,s){this._old=e,this._new=t,this._oldKeyGetter=i||KY,this._newKeyGetter=r||KY,this.context=o,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,i={},r=new Array(e.length),o=new Array(t.length);this._initIndexMap(e,null,r,"_oldKeyGetter"),this._initIndexMap(t,i,o,"_newKeyGetter");for(var s=0;s<e.length;s++){var a=r[s],l=i[a],u=R0(l);if(u>1){var c=l.shift();l.length===1&&(i[a]=l[0]),this._update&&this._update(c,s)}else u===1?(i[a]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(o,i)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,i={},r={},o=[],s=[];this._initIndexMap(e,i,o,"_oldKeyGetter"),this._initIndexMap(t,r,s,"_newKeyGetter");for(var a=0;a<o.length;a++){var l=o[a],u=i[l],c=r[l],d=R0(u),h=R0(c);if(d>1&&h===1)this._updateManyToOne&&this._updateManyToOne(c,u),r[l]=null;else if(d===1&&h>1)this._updateOneToMany&&this._updateOneToMany(c,u),r[l]=null;else if(d===1&&h===1)this._update&&this._update(c,u),r[l]=null;else if(d>1&&h>1)this._updateManyToMany&&this._updateManyToMany(c,u),r[l]=null;else if(d>1)for(var f=0;f<d;f++)this._remove&&this._remove(u[f]);else this._remove&&this._remove(u)}this._performRestAdd(s,r)},n.prototype._performRestAdd=function(e,t){for(var i=0;i<e.length;i++){var r=e[i],o=t[r],s=R0(o);if(s>1)for(var a=0;a<s;a++)this._add&&this._add(o[a]);else s===1&&this._add&&this._add(o);t[r]=null}},n.prototype._initIndexMap=function(e,t,i,r){for(var o=this._diffModeMultiple,s=0;s<e.length;s++){var a="_ec_"+this[r](e[s],s);if(o||(i[s]=a),!!t){var l=t[a],u=R0(l);u===0?(t[a]=s,o&&i.push(a)):u===1?t[a]=[l,s]:l.push(s)}}},n}();const Pc=Itt;var Dtt=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function Ett(n,e){var t={},i=t.encode={},r=Ue(),o=[],s=[],a={};B(n.dimensions,function(h){var f=n.getDimensionInfo(h),g=f.coordDim;if(g){var p=f.coordDimIndex;fk(i,g)[p]=h,f.isExtraCoord||(r.set(g,1),Mtt(f.type)&&(o[0]=h),fk(a,g)[p]=n.getDimensionIndex(f.name)),f.defaultTooltip&&s.push(h)}rhe.each(function(m,v){var y=fk(i,v),_=f.otherDims[v];_!=null&&_!==!1&&(y[_]=f.name)})});var l=[],u={};r.each(function(h,f){var g=i[f];u[f]=g[0],l=l.concat(g)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=Te(l,function(h){return n.getDimensionInfo(h).storeDimIndex}),t.encodeFirstDimNotExtra=u;var c=i.label;c&&c.length&&(o=c.slice());var d=i.tooltip;return d&&d.length?s=d.slice():s.length||(s=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=s,t.userOutput=new Dtt(a,e),t}function fk(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function $I(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function Mtt(n){return!(n==="ordinal"||n==="time")}var Att=function(){function n(e){this.otherDims={},e!=null&&be(this,e)}return n}();const _L=Att;var Ntt=Kt(),ktt={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},pfe=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=yfe(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return gt(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=vhe(this.source),i=!_fe(e),r="",o=[],s=0,a=0;s<e;s++){var l=void 0,u=void 0,c=void 0,d=this.dimensions[a];if(d&&d.storeDimIndex===s)l=t?d.name:null,u=d.type,c=d.ordinalMeta,a++;else{var h=this.getSourceDimension(s);h&&(l=t?h.name:null,u=h.type)}o.push({property:l,type:u,ordinalMeta:c}),t&&l!=null&&(!d||!d.isCalculationCoord)&&(r+=i?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=ktt[u]||"f",c&&(r+=c.uid),r+="$"}var f=this.source,g=[f.seriesLayoutBy,f.startIndex,r].join("$$");return{dimensions:o,hash:g}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,i=0;t<this._fullDimCount;t++){var r=void 0,o=this.dimensions[i];if(o&&o.storeDimIndex===t)o.isCalculationCoord||(r=o.name),i++;else{var s=this.getSourceDimension(t);s&&(r=s.name)}e.push(r)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function mfe(n){return n instanceof pfe}function vfe(n){for(var e=Ue(),t=0;t<(n||[]).length;t++){var i=n[t],r=et(i)?i.name:i;r!=null&&e.get(r)==null&&e.set(r,t)}return e}function yfe(n){var e=Ntt(n);return e.dimNameMap||(e.dimNameMap=vfe(n.dimensionsDefine))}function _fe(n){return n>30}var B0=et,ud=Te,Ptt=typeof Int32Array>"u"?Array:Int32Array,Ott="e\0\0",jY=-1,Rtt=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Btt=["_approximateExtent"],qY,OC,F0,$0,gk,RC,pk,Ftt=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i,r=!1;mfe(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(r=!0,i=e),i=i||["x","y"];for(var o={},s=[],a={},l=!1,u={},c=0;c<i.length;c++){var d=i[c],h=$e(d)?new _L({name:d}):d instanceof _L?d:new _L(d),f=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=f,h.coordDimIndex=0);var g=h.otherDims=h.otherDims||{};s.push(f),o[f]=h,u[f]!=null&&(l=!0),h.createInvertedIndices&&(a[f]=[]),g.itemName===0&&(this._nameDimIdx=c),g.itemId===0&&(this._idDimIdx=c),r&&(h.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=a,this._dimOmitted){var p=this._dimIdxToName=Ue();B(s,function(m){p.set(o[m].storeDimIndex,m)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var i=this._dimIdxToName.get(t);if(i!=null)return i;var r=this._schema.getSourceDimension(t);if(r)return r.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Jt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(i){return t.hasOwnProperty(i)?t[i]:void 0}:function(i){return t[i]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var i=this._dimSummary;if(t==null)return i.encodeFirstDimNotExtra[e];var r=i.encode[e];return r?r[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,i=t.encode[e];return(i||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,i){var r=this,o;if(e instanceof bB&&(o=e),!o){var s=this.dimensions,a=ez(e)||io(e)?new yhe(e,s.length):e;o=new bB;var l=ud(s,function(u){return{type:r._dimInfos[u].type,property:u}});o.initData(a,l,i)}this._store=o,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=Ett(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var i=this._store.appendValues(e,t.length),r=i.start,o=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var a=r;a<o;a++){var l=a-r;this._nameList[a]=t[l],s&&pk(this,a)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,i=0;i<t.length;i++){var r=this._dimInfos[t[i]];r.ordinalMeta&&e.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==th&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var i=this._store,r=i.getProvider();this._updateOrdinalMeta();var o=this._nameList,s=this._idList,a=r.getSource().sourceFormat,l=a===va;if(l&&!r.pure)for(var u=[],c=e;c<t;c++){var d=r.getItem(c,u);if(!this.hasItemOption&&eXe(d)&&(this.hasItemOption=!0),d){var h=d.name;o[c]==null&&h!=null&&(o[c]=Yi(h,null));var f=d.id;s[c]==null&&f!=null&&(s[c]=Yi(f,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<t;c++)pk(this,c);qY(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){B0(e)?be(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),i=this._nameList[t];return i==null&&this._nameDimIdx!=null&&(i=F0(this,this._nameDimIdx,t)),i==null&&(i=""),i},n.prototype._getCategory=function(e,t){var i=this._store.get(e,t),r=this._store.getOrdinalMeta(e);return r?r.categories[i]:i},n.prototype.getId=function(e){return OC(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.get(r.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var i=this._store,r=this._dimInfos[e];if(r)return i.getByRawIndex(r.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var i=this,r=this._store;return we(e)?r.getValues(ud(e,function(o){return i._getStoreDimIndex(o)}),t):r.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,i=0,r=t.length;i<r;i++)if(isNaN(this._store.get(t[i],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,i=this._store.count();t<i;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e],r=i[t];return r==null||isNaN(r)?jY:r},n.prototype.indicesOfNearest=function(e,t,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,i)},n.prototype.each=function(e,t,i){qe(e)&&(i=t,t=e,e=[]);var r=i||this,o=ud($0(e),this._getStoreDimIndex,this);this._store.each(o,r?We(t,r):t)},n.prototype.filterSelf=function(e,t,i){qe(e)&&(i=t,t=e,e=[]);var r=i||this,o=ud($0(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,r?We(t,r):t),this},n.prototype.selectRange=function(e){var t=this,i={},r=Et(e);return B(r,function(o){var s=t._getStoreDimIndex(o);i[s]=e[o]}),this._store=this._store.selectRange(i),this},n.prototype.mapArray=function(e,t,i){qe(e)&&(i=t,t=e,e=[]),i=i||this;var r=[];return this.each(e,function(){r.push(t&&t.apply(this,arguments))},i),r},n.prototype.map=function(e,t,i,r){var o=i||r||this,s=ud($0(e),this._getStoreDimIndex,this),a=RC(this);return a._store=this._store.map(s,o?We(t,o):t),a},n.prototype.modify=function(e,t,i,r){var o=i||r||this,s=ud($0(e),this._getStoreDimIndex,this);this._store.modify(s,o?We(t,o):t)},n.prototype.downSample=function(e,t,i,r){var o=RC(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),t,i,r),o},n.prototype.lttbDownSample=function(e,t){var i=RC(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),i},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,i=this.getRawDataItem(e);return new Hn(i,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Pc(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return OC(e,i)},function(i){return OC(t,i)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},B0(e)?be(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var i=this._itemVisuals[e],r=i&&i[t];return r??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var i=this._itemVisuals,r=i[e];r||(r=i[e]={});var o=r[t];return o==null&&(o=this.getVisual(t),we(o)?o=o.slice():B0(o)&&(o=be({},o)),r[t]=o),o},n.prototype.setItemVisual=function(e,t,i){var r=this._itemVisuals[e]||{};this._itemVisuals[e]=r,B0(t)?be(r,t):r[t]=i},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){B0(e)?be(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?be(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var i=this.hostModel&&this.hostModel.seriesIndex;aB(i,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){B(this._graphicEls,function(i,r){i&&e&&e.call(t,i,r)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:ud(this.dimensions,this._getDimInfo,this),this.hostModel)),gk(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var i=this[e];qe(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var r=i.apply(this,arguments);return t.apply(this,[r].concat(bW(arguments)))})},n.internalField=function(){qY=function(e){var t=e._invertedIndicesMap;B(t,function(i,r){var o=e._dimInfos[r],s=o.ordinalMeta,a=e._store;if(s){i=t[r]=new Ptt(s.categories.length);for(var l=0;l<i.length;l++)i[l]=jY;for(var l=0;l<a.count();l++)i[a.get(o.storeDimIndex,l)]=l}})},F0=function(e,t,i){return Yi(e._getCategory(t,i),null)},OC=function(e,t){var i=e._idList[t];return i==null&&e._idDimIdx!=null&&(i=F0(e,e._idDimIdx,t)),i==null&&(i=Ott+t),i},$0=function(e){return we(e)||(e=e!=null?[e]:[]),e},RC=function(e){var t=new n(e._schema?e._schema:ud(e.dimensions,e._getDimInfo,e),e.hostModel);return gk(t,e),t},gk=function(e,t){B(Rtt.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,B(Btt,function(i){e[i]=rt(t[i])}),e._calculationInfo=be({},t._calculationInfo)},pk=function(e,t){var i=e._nameList,r=e._idList,o=e._nameDimIdx,s=e._idDimIdx,a=i[t],l=r[t];if(a==null&&o!=null&&(i[t]=a=F0(e,o,t)),l==null&&s!=null&&(r[t]=l=F0(e,s,t)),l==null&&a!=null){var u=e._nameRepeatCount,c=u[a]=(u[a]||0)+1;l=a,c>1&&(l+="__ec__"+c),r[t]=l}}}(),n}();const Co=Ftt;function Rw(n,e){ez(n)||(n=tz(n)),e=e||{};var t=e.coordDimensions||[],i=e.dimensionsDefine||n.dimensionsDefine||[],r=Ue(),o=[],s=Vtt(n,t,i,e.dimensionsCount),a=e.canOmitUnusedDimensions&&_fe(s),l=i===n.dimensionsDefine,u=l?yfe(n):vfe(i),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(n,s));for(var d=Ue(c),h=new The(s),f=0;f<h.length;f++)h[f]=-1;function g(L){var T=h[L];if(T<0){var I=i[L],D=et(I)?I:{name:I},M=new _L,P=D.name;P!=null&&u.get(P)!=null&&(M.name=M.displayName=P),D.type!=null&&(M.type=D.type),D.displayName!=null&&(M.displayName=D.displayName);var k=o.length;return h[L]=k,M.storeDimIndex=L,o.push(M),M}return o[T]}if(!a)for(var f=0;f<s;f++)g(f);d.each(function(L,T){var I=Pn(L).slice();if(I.length===1&&!$e(I[0])&&I[0]<0){d.set(T,!1);return}var D=d.set(T,[]);B(I,function(M,P){var k=$e(M)?u.get(M):M;k!=null&&k<s&&(D[P]=k,m(g(k),T,P))})});var p=0;B(t,function(L){var T,I,D,M;if($e(L))T=L,M={};else{M=L,T=M.name;var P=M.ordinalMeta;M.ordinalMeta=null,M=be({},M),M.ordinalMeta=P,I=M.dimsDef,D=M.otherDims,M.name=M.coordDim=M.coordDimIndex=M.dimsDef=M.otherDims=null}var k=d.get(T);if(k!==!1){if(k=Pn(k),!k.length)for(var O=0;O<(I&&I.length||1);O++){for(;p<s&&g(p).coordDim!=null;)p++;p<s&&k.push(p++)}B(k,function(F,R){var $=g(F);if(l&&M.type!=null&&($.type=M.type),m(Qe($,M),T,R),$.name==null&&I){var H=I[R];!et(H)&&(H={name:H}),$.name=$.displayName=H.name,$.defaultTooltip=H.defaultTooltip}D&&Qe($.otherDims,D)})}});function m(L,T,I){rhe.get(T)!=null?L.otherDims[T]=I:(L.coordDim=T,L.coordDimIndex=I,r.set(T,!0))}var v=e.generateCoord,y=e.generateCoordCount,_=y!=null;y=v?y||1:0;var b=v||"value";function S(L){L.name==null&&(L.name=L.coordDim)}if(a)B(o,function(L){S(L)}),o.sort(function(L,T){return L.storeDimIndex-T.storeDimIndex});else for(var w=0;w<s;w++){var C=g(w),x=C.coordDim;x==null&&(C.coordDim=Wtt(b,r,_),C.coordDimIndex=0,(!v||y<=0)&&(C.isExtraCoord=!0),y--),S(C),C.type==null&&(lhe(n,w)===kr.Must||C.isExtraCoord&&(C.otherDims.itemName!=null||C.otherDims.seriesName!=null))&&(C.type="ordinal")}return $tt(o),new pfe({source:n,dimensions:o,fullDimensionCount:s,dimensionOmitted:a})}function $tt(n){for(var e=Ue(),t=0;t<n.length;t++){var i=n[t],r=i.name,o=e.get(r)||0;o>0&&(i.name=r+(o-1)),o++,e.set(r,o)}}function Vtt(n,e,t,i){var r=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,i||0);return B(e,function(o){var s;et(o)&&(s=o.dimsDef)&&(r=Math.max(r,s.length))}),r}function Wtt(n,e,t){if(t||e.hasKey(n)){for(var i=0;e.hasKey(n+i);)i++;n+=i}return e.set(n,!0),n}var ztt=function(){function n(e){this.coordSysDims=[],this.axisMap=Ue(),this.categoryAxisMap=Ue(),this.coordSysName=e}return n}();function Htt(n){var e=n.get("coordinateSystem"),t=new ztt(e),i=Utt[e];if(i)return i(n,t,t.axisMap,t.categoryAxisMap),t}var Utt={cartesian2d:function(n,e,t,i){var r=n.getReferringComponents("xAxis",$i).models[0],o=n.getReferringComponents("yAxis",$i).models[0];e.coordSysDims=["x","y"],t.set("x",r),t.set("y",o),am(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),am(o)&&(i.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,i){var r=n.getReferringComponents("singleAxis",$i).models[0];e.coordSysDims=["single"],t.set("single",r),am(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(n,e,t,i){var r=n.getReferringComponents("polar",$i).models[0],o=r.findAxisModel("radiusAxis"),s=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",o),t.set("angle",s),am(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),am(s)&&(i.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,i){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,i){var r=n.ecModel,o=r.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=o.dimensions.slice();B(o.parallelAxisIndex,function(a,l){var u=r.getComponent("parallelAxis",a),c=s[l];t.set(c,u),am(u)&&(i.set(c,u),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function am(n){return n.get("type")==="category"}function Gtt(n,e,t){t=t||{};var i=t.byIndex,r=t.stackedCoordDimension,o,s,a;Ktt(e)?o=e:(s=e.schema,o=s.dimensions,a=e.store);var l=!!(n&&n.get("stack")),u,c,d,h;if(B(o,function(y,_){$e(y)&&(o[_]=y={name:y}),l&&!y.isExtraCoord&&(!i&&!u&&y.ordinalMeta&&(u=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!r||r===y.coordDim)&&(c=y))}),c&&!i&&!u&&(i=!0),c){d="__\0ecstackresult_"+n.id,h="__\0ecstackedover_"+n.id,u&&(u.createInvertedIndices=!0);var f=c.coordDim,g=c.type,p=0;B(o,function(y){y.coordDim===f&&p++});var m={name:d,coordDim:f,coordDimIndex:p,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},v={name:h,coordDim:h,coordDimIndex:p+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};s?(a&&(m.storeDimIndex=a.ensureCalculationDimension(h,g),v.storeDimIndex=a.ensureCalculationDimension(d,g)),s.appendCalculationDimension(m),s.appendCalculationDimension(v)):(o.push(m),o.push(v))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:i,stackedOverDimension:h,stackResultDimension:d}}function Ktt(n){return!mfe(n.schema)}function bh(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function bfe(n,e){return bh(n,e)?n.getCalculationInfo("stackResultDimension"):e}function jtt(n,e){var t=n.get("coordinateSystem"),i=Pw.get(t),r;return e&&e.coordSysDims&&(r=Te(e.coordSysDims,function(o){var s={name:o},a=e.axisMap.get(o);if(a){var l=a.get("type");s.type=$I(l)}return s})),r||(r=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),r}function qtt(n,e,t){var i,r;return t&&B(n,function(o,s){var a=o.coordDim,l=t.categoryAxisMap.get(a);l&&(i==null&&(i=s),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(r=!0)}),!r&&i!=null&&(n[i].otherDims.itemName=0),i}function jc(n,e,t){t=t||{};var i=e.getSourceManager(),r,o=!1;n?(o=!0,r=tz(n)):(r=i.getSource(),o=r.sourceFormat===va);var s=Htt(e),a=jtt(e,s),l=t.useEncodeDefaulter,u=qe(l)?l:l?dt(ahe,a,e):null,c={coordDimensions:a,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!o},d=Rw(r,c),h=qtt(d.dimensions,t.createInvertedIndices,s),f=o?null:i.getSharedDataStore(d),g=Gtt(e,{schema:d,store:f}),p=new Co(d,e);p.setCalculationInfo(g);var m=h!=null&&Ytt(r)?function(v,y,_,b){return b===h?_:this.defaultDimValueGetter(v,y,_,b)}:null;return p.hasItemOption=!1,p.initData(o?r:f,null,m),p}function Ytt(n){if(n.sourceFormat===va){var e=Xtt(n.data||[]);return!we(By(e))}}function Xtt(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Sfe=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();iM(Sfe);const qc=Sfe;var Ztt=0,Qtt=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Ztt}return n.createByAxisModel=function(e){var t=e.option,i=t.data,r=i&&Te(i,Jtt);return new n({categories:r,needCollect:!r,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,i=this._needCollect;if(!$e(e)&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var r=this._getOrCreateMap();return t=r.get(e),t==null&&(i?(t=this.categories.length,this.categories[t]=e,r.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Ue(this.categories))},n}();function Jtt(n){return et(n)&&n.value!=null?n.value:n+""}const MB=Qtt;function AB(n){return n.type==="interval"||n.type==="log"}function ent(n,e,t,i){var r={},o=n[1]-n[0],s=r.interval=Ace(o/e,!0);t!=null&&s<t&&(s=r.interval=t),i!=null&&s>i&&(s=r.interval=i);var a=r.intervalPrecision=wfe(s),l=r.niceTickExtent=[bi(Math.ceil(n[0]/s)*s,a),bi(Math.floor(n[1]/s)*s,a)];return tnt(l,n),r}function mk(n){var e=Math.pow(10,EW(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,bi(t*e)}function wfe(n){return jl(n)+2}function YY(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function tnt(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),YY(n,0,e),YY(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function xM(n,e){return n>=e[0]&&n<=e[1]}function LM(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function TM(n,e){return n*(e[1]-e[0])+e[0]}var Cfe=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new MB({})),we(r)&&(r=new MB({categories:Te(r,function(o){return et(o)?o.value:o})})),i._ordinalMeta=r,i._extent=i.getSetting("extent")||[0,r.categories.length-1],i}return e.prototype.parse=function(t){return t==null?NaN:$e(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),xM(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),LM(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(TM(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],i=this._extent,r=i[0];r<=i[1];)t.push({value:r}),r++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],s=0,a=this._ordinalMeta.categories.length,l=Math.min(a,i.length);s<l;++s){var u=i[s];r[s]=u,o[u]=s}for(var c=0;s<a;++s){for(;o[c]!=null;)c++;r.push(c),o[c]=s}},e.prototype._getTickNumber=function(t){var i=this._ticksByOrdinalNumber;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getRawOrdinalNumber=function(t){var i=this._ordinalNumbersByTick;return i&&t>=0&&t<i.length?i[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var i=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[i];return r==null?"":r+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(qc);qc.registerClass(Cfe);const pz=Cfe;var uf=bi,xfe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return xM(t,this._extent)},e.prototype.normalize=function(t){return LM(t,this._extent)},e.prototype.scale=function(t){return TM(t,this._extent)},e.prototype.setExtent=function(t,i){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(i)||(r[1]=parseFloat(i))},e.prototype.unionExtent=function(t){var i=this._extent;t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=wfe(t)},e.prototype.getTicks=function(t){var i=this._interval,r=this._extent,o=this._niceExtent,s=this._intervalPrecision,a=[];if(!i)return a;var l=1e4;r[0]<o[0]&&(t?a.push({value:uf(o[0]-i,s)}):a.push({value:r[0]}));for(var u=o[0];u<=o[1]&&(a.push({value:u}),u=uf(u+i,s),u!==a[a.length-1].value);)if(a.length>l)return[];var c=a.length?a[a.length-1].value:o[1];return r[1]>c&&(t?a.push({value:uf(c+i,s)}):a.push({value:r[1]})),a},e.prototype.getMinorTicks=function(t){for(var i=this.getTicks(!0),r=[],o=this.getExtent(),s=1;s<i.length;s++){for(var a=i[s],l=i[s-1],u=0,c=[],d=a.value-l.value,h=d/t;u<t-1;){var f=uf(l.value+(u+1)*h);f>o[0]&&f<o[1]&&c.push(f),u++}r.push(c)}return r},e.prototype.getLabel=function(t,i){if(t==null)return"";var r=i&&i.precision;r==null?r=jl(t.value)||0:r==="auto"&&(r=this._intervalPrecision);var o=uf(t.value,r,!0);return Qde(o)},e.prototype.calcNiceTicks=function(t,i,r){t=t||5;var o=this._extent,s=o[1]-o[0];if(isFinite(s)){s<0&&(s=-s,o.reverse());var a=ent(o,t,i,r);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var r=Math.abs(i[0]);t.fixMax||(i[1]+=r/2),i[0]-=r/2}else i[1]=1;var o=i[1]-i[0];isFinite(o)||(i[0]=0,i[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(i[0]=uf(Math.floor(i[0]/s)*s)),t.fixMax||(i[1]=uf(Math.ceil(i[1]/s)*s))},e.prototype.setNiceExtent=function(t,i){this._niceExtent=[t,i]},e.type="interval",e}(qc);qc.registerClass(xfe);const Sh=xfe;var Lfe=typeof Float32Array<"u",nnt=Lfe?Float32Array:Array;function Yl(n){return we(n)?Lfe?new Float32Array(n):n:new nnt(n)}var NB="__ec_stack_";function mz(n){return n.get("stack")||NB+n.seriesIndex}function vz(n){return n.dim+n.index}function int(n){var e=[],t=n.axis,i="axis0";if(t.type==="category"){for(var r=t.getBandWidth(),o=0;o<n.count;o++)e.push(Qe({bandWidth:r,axisKey:i,stackId:NB+o},n));for(var s=Dfe(e),a=[],o=0;o<n.count;o++){var l=s[i][NB+o];l.offsetCenter=l.offset+l.width/2,a.push(l)}return a}}function Tfe(n,e){var t=[];return e.eachSeriesByType(n,function(i){Afe(i)&&t.push(i)}),t}function rnt(n){var e={};B(n,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var d=l.getData(),h=c.dim+"_"+c.index,f=d.getDimensionIndex(d.mapDimension(c.dim)),g=d.getStore(),p=0,m=g.count();p<m;++p){var v=g.get(f,p);e[h]?e[h].push(v):e[h]=[v]}});var t={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];if(r){r.sort(function(l,u){return l-u});for(var o=null,s=1;s<r.length;++s){var a=r[s]-r[s-1];a>0&&(o=o===null?a:Math.min(o,a))}t[i]=o}}return t}function Ife(n){var e=rnt(n),t=[];return B(n,function(i){var r=i.coordinateSystem,o=r.getBaseAxis(),s=o.getExtent(),a;if(o.type==="category")a=o.getBandWidth();else if(o.type==="value"||o.type==="time"){var l=o.dim+"_"+o.index,u=e[l],c=Math.abs(s[1]-s[0]),d=o.scale.getExtent(),h=Math.abs(d[1]-d[0]);a=u?c/h*u:c}else{var f=i.getData();a=Math.abs(s[1]-s[0])/f.count()}var g=Fe(i.get("barWidth"),a),p=Fe(i.get("barMaxWidth"),a),m=Fe(i.get("barMinWidth")||(Nfe(i)?.5:1),a),v=i.get("barGap"),y=i.get("barCategoryGap");t.push({bandWidth:a,barWidth:g,barMaxWidth:p,barMinWidth:m,barGap:v,barCategoryGap:y,axisKey:vz(o),stackId:mz(i)})}),Dfe(t)}function Dfe(n){var e={};B(n,function(i,r){var o=i.axisKey,s=i.bandWidth,a=e[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=a.stacks;e[o]=a;var u=i.stackId;l[u]||a.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=i.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(a.remainedWidth,c),a.remainedWidth-=c);var d=i.barMaxWidth;d&&(l[u].maxWidth=d);var h=i.barMinWidth;h&&(l[u].minWidth=h);var f=i.barGap;f!=null&&(a.gap=f);var g=i.barCategoryGap;g!=null&&(a.categoryGap=g)});var t={};return B(e,function(i,r){t[r]={};var o=i.stacks,s=i.bandWidth,a=i.categoryGap;if(a==null){var l=Et(o).length;a=Math.max(35-l*4,15)+"%"}var u=Fe(a,s),c=Fe(i.gap,1),d=i.remainedWidth,h=i.autoWidthCount,f=(d-u)/(h+(h-1)*c);f=Math.max(f,0),B(o,function(v){var y=v.maxWidth,_=v.minWidth;if(v.width){var b=v.width;y&&(b=Math.min(b,y)),_&&(b=Math.max(b,_)),v.width=b,d-=b+c*b,h--}else{var b=f;y&&y<b&&(b=Math.min(y,d)),_&&_>b&&(b=_),b!==f&&(v.width=b,d-=b+c*b,h--)}}),f=(d-u)/(h+(h-1)*c),f=Math.max(f,0);var g=0,p;B(o,function(v,y){v.width||(v.width=f),p=v,g+=v.width*(1+c)}),p&&(g-=p.width*c);var m=-g/2;B(o,function(v,y){t[r][y]=t[r][y]||{bandWidth:s,offset:m,width:v.width},m+=v.width*(1+c)})}),t}function ont(n,e,t){if(n&&e){var i=n[vz(e)];return i!=null&&t!=null?i[mz(t)]:i}}function Efe(n,e){var t=Tfe(n,e),i=Ife(t);B(t,function(r){var o=r.getData(),s=r.coordinateSystem,a=s.getBaseAxis(),l=mz(r),u=i[vz(a)][l],c=u.offset,d=u.width;o.setLayout({bandWidth:u.bandWidth,offset:c,size:d})})}function Mfe(n){return{seriesType:n,plan:jy(),reset:function(e){if(Afe(e)){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),o=i.getOtherAxis(r),s=t.getDimensionIndex(t.mapDimension(o.dim)),a=t.getDimensionIndex(t.mapDimension(r.dim)),l=e.get("showBackground",!0),u=t.mapDimension(o.dim),c=t.getCalculationInfo("stackResultDimension"),d=bh(t,u)&&!!t.getCalculationInfo("stackedOnSeries"),h=o.isHorizontal(),f=snt(r,o),g=Nfe(e),p=e.get("barMinHeight")||0,m=c&&t.getDimensionIndex(c),v=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(_,b){for(var S=_.count,w=g&&Yl(S*3),C=g&&l&&Yl(S*3),x=g&&Yl(S),L=i.master.getRect(),T=h?L.width:L.height,I,D=b.getStore(),M=0;(I=_.next())!=null;){var P=D.get(d?m:s,I),k=D.get(a,I),O=f,F=void 0;d&&(F=+P-D.get(s,I));var R=void 0,$=void 0,H=void 0,U=void 0;if(h){var z=i.dataToPoint([P,k]);if(d){var Z=i.dataToPoint([F,k]);O=Z[0]}R=O,$=z[1]+y,H=z[0]-O,U=v,Math.abs(H)<p&&(H=(H<0?-1:1)*p)}else{var z=i.dataToPoint([k,P]);if(d){var Z=i.dataToPoint([k,F]);O=Z[1]}R=z[0]+y,$=O,H=v,U=z[1]-O,Math.abs(U)<p&&(U=(U<=0?-1:1)*p)}g?(w[M]=R,w[M+1]=$,w[M+2]=h?H:U,C&&(C[M]=h?L.x:R,C[M+1]=h?$:L.y,C[M+2]=T),x[I]=I):b.setItemLayout(I,{x:R,y:$,width:H,height:U}),M+=3}g&&b.setLayout({largePoints:w,largeDataIndices:x,largeBackgroundPoints:C,valueAxisHorizontal:h})}}}}}}function Afe(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Nfe(n){return n.pipelineContext&&n.pipelineContext.large}function snt(n,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var ant=function(n,e,t,i){for(;t<i;){var r=t+i>>>1;n[r][1]<e?t=r+1:i=r}return t},kfe=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="time",i}return e.prototype.getLabel=function(t){var i=this.getSetting("useUTC");return gM(t.value,Fq[EQe(Cv(this._minLevelUnit))]||Fq.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,i,r){var o=this.getSetting("useUTC"),s=this.getSetting("locale");return MQe(t,i,r,s,o)},e.prototype.getTicks=function(){var t=this._interval,i=this._extent,r=[];if(!t)return r;r.push({value:i[0],level:0});var o=this.getSetting("useUTC"),s=gnt(this._minLevelUnit,this._approxInterval,o,i);return r=r.concat(s),r.push({value:i[1],level:0}),r},e.prototype.calcNiceExtent=function(t){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ea,i[1]+=ea),i[1]===-1/0&&i[0]===1/0){var r=new Date;i[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),i[0]=i[1]-ea}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,i,r){t=t||10;var o=this._extent,s=o[1]-o[0];this._approxInterval=s/t,i!=null&&this._approxInterval<i&&(this._approxInterval=i),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var a=BC.length,l=Math.min(ant(BC,this._approxInterval,0,a),a-1);this._interval=BC[l][1],this._minLevelUnit=BC[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Jt(t)?t:+ll(t)},e.prototype.contain=function(t){return xM(this.parse(t),this._extent)},e.prototype.normalize=function(t){return LM(this.parse(t),this._extent)},e.prototype.scale=function(t){return TM(t,this._extent)},e.type="time",e}(Sh),BC=[["second",jW],["minute",qW],["hour",pb],["quarter-day",pb*6],["half-day",pb*12],["day",ea*1.2],["half-week",ea*3.5],["week",ea*7],["month",ea*31],["quarter",ea*95],["half-year",Bq/2],["year",Bq]];function lnt(n,e,t,i){var r=ll(e),o=ll(t),s=function(g){return $q(r,g,i)===$q(o,g,i)},a=function(){return s("year")},l=function(){return a()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},d=function(){return c()&&s("minute")},h=function(){return d()&&s("second")},f=function(){return h()&&s("millisecond")};switch(n){case"year":return a();case"month":return l();case"day":return u();case"hour":return c();case"minute":return d();case"second":return h();case"millisecond":return f()}}function unt(n,e){return n/=ea,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function cnt(n){var e=30*ea;return n/=e,n>6?6:n>3?3:n>2?2:1}function dnt(n){return n/=pb,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function XY(n,e){return n/=e?qW:jW,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function hnt(n){return Ace(n,!0)}function fnt(n,e,t){var i=new Date(n);switch(Cv(e)){case"year":case"month":i[Kde(t)](0);case"day":i[jde(t)](1);case"hour":i[qde(t)](0);case"minute":i[Yde(t)](0);case"second":i[Xde(t)](0),i[Zde(t)](0)}return i.getTime()}function gnt(n,e,t,i){var r=1e4,o=Ude,s=0;function a(T,I,D,M,P,k,O){for(var F=new Date(I),R=I,$=F[M]();R<D&&R<=i[1];)O.push({value:R}),$+=T,F[P]($),R=F.getTime();O.push({value:R,notAdd:!0})}function l(T,I,D){var M=[],P=!I.length;if(!lnt(Cv(T),i[0],i[1],t)){P&&(I=[{value:fnt(new Date(i[0]),T,t)},{value:i[1]}]);for(var k=0;k<I.length-1;k++){var O=I[k].value,F=I[k+1].value;if(O!==F){var R=void 0,$=void 0,H=void 0,U=!1;switch(T){case"year":R=Math.max(1,Math.round(e/ea/365)),$=YW(t),H=AQe(t);break;case"half-year":case"quarter":case"month":R=cnt(e),$=xv(t),H=Kde(t);break;case"week":case"half-week":case"day":R=unt(e),$=pM(t),H=jde(t),U=!0;break;case"half-day":case"quarter-day":case"hour":R=dnt(e),$=AS(t),H=qde(t);break;case"minute":R=XY(e,!0),$=mM(t),H=Yde(t);break;case"second":R=XY(e,!1),$=vM(t),H=Xde(t);break;case"millisecond":R=hnt(e),$=yM(t),H=Zde(t);break}a(R,O,F,$,H,U,M),T==="year"&&D.length>1&&k===0&&D.unshift({value:D[0].value-R})}}for(var k=0;k<M.length;k++)D.push(M[k]);return M}}for(var u=[],c=[],d=0,h=0,f=0;f<o.length&&s++<r;++f){var g=Cv(o[f]);if(DQe(o[f])){l(o[f],u[u.length-1]||[],c);var p=o[f+1]?Cv(o[f+1]):null;if(g!==p){if(c.length){h=d,c.sort(function(T,I){return T.value-I.value});for(var m=[],v=0;v<c.length;++v){var y=c[v].value;(v===0||c[v-1].value!==y)&&(m.push(c[v]),y>=i[0]&&y<=i[1]&&d++)}var _=(i[1]-i[0])/e;if(d>_*1.5&&h>_/1.5||(u.push(m),d>_||n===o[f]))break}c=[]}}}for(var b=xn(Te(u,function(T){return xn(T,function(I){return I.value>=i[0]&&I.value<=i[1]&&!I.notAdd})}),function(T){return T.length>0}),S=[],w=b.length-1,f=0;f<b.length;++f)for(var C=b[f],x=0;x<C.length;++x)S.push({value:C[x].value,level:w-f});S.sort(function(T,I){return T.value-I.value});for(var L=[],f=0;f<S.length;++f)(f===0||S[f].value!==S[f-1].value)&&L.push(S[f]);return L}qc.registerClass(kfe);const Pfe=kfe;var ZY=qc.prototype,_b=Sh.prototype,pnt=bi,mnt=Math.floor,vnt=Math.ceil,FC=Math.pow,ba=Math.log,yz=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Sh,t._interval=0,t}return e.prototype.getTicks=function(t){var i=this._originalScale,r=this._extent,o=i.getExtent(),s=_b.getTicks.call(this,t);return Te(s,function(a){var l=a.value,u=bi(FC(this.base,l));return u=l===r[0]&&this._fixMin?$C(u,o[0]):u,u=l===r[1]&&this._fixMax?$C(u,o[1]):u,{value:u}},this)},e.prototype.setExtent=function(t,i){var r=ba(this.base);t=ba(Math.max(0,t))/r,i=ba(Math.max(0,i))/r,_b.setExtent.call(this,t,i)},e.prototype.getExtent=function(){var t=this.base,i=ZY.getExtent.call(this);i[0]=FC(t,i[0]),i[1]=FC(t,i[1]);var r=this._originalScale,o=r.getExtent();return this._fixMin&&(i[0]=$C(i[0],o[0])),this._fixMax&&(i[1]=$C(i[1],o[1])),i},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var i=this.base;t[0]=ba(t[0])/ba(i),t[1]=ba(t[1])/ba(i),ZY.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,i){this.unionExtent(t.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(t){t=t||10;var i=this._extent,r=i[1]-i[0];if(!(r===1/0||r<=0)){var o=JYe(r),s=t/r*o;for(s<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var a=[bi(vnt(i[0]/o)*o),bi(mnt(i[1]/o)*o)];this._interval=o,this._niceExtent=a}},e.prototype.calcNiceExtent=function(t){_b.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=ba(t)/ba(this.base),xM(t,this._extent)},e.prototype.normalize=function(t){return t=ba(t)/ba(this.base),LM(t,this._extent)},e.prototype.scale=function(t){return t=TM(t,this._extent),FC(this.base,t)},e.type="log",e}(qc),Ofe=yz.prototype;Ofe.getMinorTicks=_b.getMinorTicks;Ofe.getLabel=_b.getLabel;function $C(n,e){return pnt(n,jl(e))}qc.registerClass(yz);const ynt=yz;var _nt=function(){function n(e,t,i){this._prepareParams(e,t,i)}return n.prototype._prepareParams=function(e,t,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var r=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var o=this._modelMinRaw=t.get("min",!0);qe(o)?this._modelMinNum=VC(e,o({min:i[0],max:i[1]})):o!=="dataMin"&&(this._modelMinNum=VC(e,o));var s=this._modelMaxRaw=t.get("max",!0);if(qe(s)?this._modelMaxNum=VC(e,s({min:i[0],max:i[1]})):s!=="dataMax"&&(this._modelMaxNum=VC(e,s)),r)this._axisDataLen=t.getCategories().length;else{var a=t.get("boundaryGap"),l=we(a)?a:[a||0,a||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[al(l[0],1),al(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,i=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,s=e?null:i-t||Math.abs(t),a=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,u=a!=null,c=l!=null;a==null&&(a=e?r?0:NaN:t-o[0]*s),l==null&&(l=e?r?r-1:NaN:i+o[1]*s),(a==null||!isFinite(a))&&(a=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=SS(a)||SS(l)||e&&!r;this._needCrossZero&&(a>0&&l>0&&!u&&(a=0),a<0&&l<0&&!c&&(l=0));var h=this._determinedMin,f=this._determinedMax;return h!=null&&(a=h,u=!0),f!=null&&(l=f,c=!0),{min:a,max:l,minFixed:u,maxFixed:c,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[Snt[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var i=bnt[e];this[i]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),bnt={min:"_determinedMin",max:"_determinedMax"},Snt={min:"_dataMin",max:"_dataMax"};function Rfe(n,e,t){var i=n.rawExtentInfo;return i||(i=new _nt(n,e,t),n.rawExtentInfo=i,i)}function VC(n,e){return e==null?null:SS(e)?NaN:n.parse(e)}function Bfe(n,e){var t=n.type,i=Rfe(n,e,n.getExtent()).calculate();n.setBlank(i.isBlank);var r=i.min,o=i.max,s=e.ecModel;if(s&&t==="time"){var a=Tfe("bar",s),l=!1;if(B(a,function(d){l=l||d.getBaseAxis()===e.axis}),l){var u=Ife(a),c=wnt(r,o,e,u);r=c.min,o=c.max}}return{extent:[r,o],fixMin:i.minFixed,fixMax:i.maxFixed}}function wnt(n,e,t,i){var r=t.axis.getExtent(),o=r[1]-r[0],s=ont(i,t.axis);if(s===void 0)return{min:n,max:e};var a=1/0;B(s,function(f){a=Math.min(f.offset,a)});var l=-1/0;B(s,function(f){l=Math.max(f.offset+f.width,l)}),a=Math.abs(a),l=Math.abs(l);var u=a+l,c=e-n,d=1-(a+l)/o,h=c/d-c;return e+=h*(l/u),n-=h*(a/u),{min:n,max:e}}function ly(n,e){var t=e,i=Bfe(n,t),r=i.extent,o=t.get("splitNumber");n instanceof ynt&&(n.base=t.get("logBase"));var s=n.type,a=t.get("interval"),l=s==="interval"||s==="time";n.setExtent(r[0],r[1]),n.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),a!=null&&n.setInterval&&n.setInterval(a)}function IM(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new pz({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Pfe({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(qc.getClass(e)||Sh)}}function Cnt(n){var e=n.scale.getExtent(),t=e[0],i=e[1];return!(t>0&&i>0||t<0&&i<0)}function Bw(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(i){return function(r,o){return n.scale.getFormattedLabel(r,o,i)}}(e):$e(e)?function(i){return function(r){var o=n.scale.getLabel(r),s=i.replace("{value}",o??"");return s}}(e):qe(e)?function(i){return function(r,o){return t!=null&&(o=r.value-t),i(_z(n,r),o,r.level!=null?{level:r.level}:null)}}(e):function(i){return n.scale.getLabel(i)}}function _z(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function xnt(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var i,r,o=t.getExtent();t instanceof pz?r=t.count():(i=t.getTicks(),r=i.length);var s=n.getLabelModel(),a=Bw(n),l,u=1;r>40&&(u=Math.ceil(r/40));for(var c=0;c<r;c+=u){var d=i?i[c]:{value:o[0]+c},h=a(d,c),f=s.getTextRect(h),g=Lnt(f,s.get("rotate")||0);l?l.union(g):l=g}return l}}function Lnt(n,e){var t=e*Math.PI/180,i=n.width,r=n.height,o=i*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),s=i*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t)),a=new mt(n.x,n.y,o,s);return a}function bz(n){var e=n.get("interval");return e??"auto"}function Ffe(n){return n.type==="category"&&bz(n.getLabelModel())===0}function VI(n,e){var t={};return B(n.mapDimensionsAll(e),function(i){t[bfe(n,i)]=!0}),Et(t)}function Tnt(n,e,t){e&&B(VI(e,t),function(i){var r=e.getApproximateExtent(i);r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])})}var Fw=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}(),Int=1e-8;function QY(n,e){return Math.abs(n-e)<Int}function Vf(n,e,t){var i=0,r=n[0];if(!r)return!1;for(var o=1;o<n.length;o++){var s=n[o];i+=qu(r[0],r[1],s[0],s[1],e,t),r=s}var a=n[0];return(!QY(r[0],a[0])||!QY(r[1],a[1]))&&(i+=qu(r[0],r[1],a[0],a[1],e,t)),i!==0}var Dnt=[];function vk(n,e){for(var t=0;t<n.length;t++)Fr(n[t],n[t],e)}function JY(n,e,t,i){for(var r=0;r<n.length;r++){var o=n[r];i&&(o=i.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(Od(e,e,o),Rd(t,t,o))}}function Ent(n){for(var e=0,t=0,i=0,r=n.length,o=n[r-1][0],s=n[r-1][1],a=0;a<r;a++){var l=n[a][0],u=n[a][1],c=o*u-l*s;e+=c,t+=(o+l)*c,i+=(s+u)*c,o=l,s=u}return e?[t/e/3,i/e/3,e]:[n[0][0]||0,n[0][1]||0]}var $fe=function(){function n(e){this.name=e}return n.prototype.setCenter=function(e){this._center=e},n.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},n}(),eX=function(){function n(e,t){this.type="polygon",this.exterior=e,this.interiors=t}return n}(),tX=function(){function n(e){this.type="linestring",this.points=e}return n}(),Vfe=function(n){re(e,n);function e(t,i,r){var o=n.call(this,t)||this;return o.type="geoJSON",o.geometries=i,o._center=r&&[r[0],r[1]],o}return e.prototype.calcCenter=function(){for(var t=this.geometries,i,r=0,o=0;o<t.length;o++){var s=t[o],a=s.exterior,l=a&&a.length;l>r&&(i=s,r=l)}if(i)return Ent(i.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},e.prototype.getBoundingRect=function(t){var i=this._rect;if(i&&!t)return i;var r=[1/0,1/0],o=[-1/0,-1/0],s=this.geometries;return B(s,function(a){a.type==="polygon"?JY(a.exterior,r,o,t):B(a.points,function(l){JY(l,r,o,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])||(r[0]=r[1]=o[0]=o[1]=0),i=new mt(r[0],r[1],o[0]-r[0],o[1]-r[1]),t||(this._rect=i),i},e.prototype.contain=function(t){var i=this.getBoundingRect(),r=this.geometries;if(!i.contain(t[0],t[1]))return!1;e:for(var o=0,s=r.length;o<s;o++){var a=r[o];if(a.type==="polygon"){var l=a.exterior,u=a.interiors;if(Vf(l,t[0],t[1])){for(var c=0;c<(u?u.length:0);c++)if(Vf(u[c],t[0],t[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(t,i,r,o){var s=this.getBoundingRect(),a=s.width/s.height;r?o||(o=r/a):r=a*o;for(var l=new mt(t,i,r,o),u=s.calculateTransform(l),c=this.geometries,d=0;d<c.length;d++){var h=c[d];h.type==="polygon"?(vk(h.exterior,u),B(h.interiors,function(f){vk(f,u)})):B(h.points,function(f){vk(f,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(t){t==null&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}($fe),Mnt=function(n){re(e,n);function e(t,i){var r=n.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=i,r}return e.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,i=t.getBoundingRect(),r=[i.x+i.width/2,i.y+i.height/2],o=eM(Dnt),s=t;s&&!s.isGeoSVGGraphicRoot;)yc(o,s.getLocalTransform(),o),s=s.parent;return Ry(o,o),Fr(r,r,o),r},e}($fe);function Ant(n){if(!n.UTF8Encoding)return n;var e=n,t=e.UTF8Scale;t==null&&(t=1024);var i=e.features;return B(i,function(r){var o=r.geometry,s=o.encodeOffsets,a=o.coordinates;if(s)switch(o.type){case"LineString":o.coordinates=Wfe(a,s,t);break;case"Polygon":yk(a,s,t);break;case"MultiLineString":yk(a,s,t);break;case"MultiPolygon":B(a,function(l,u){return yk(l,s[u],t)})}}),e.UTF8Encoding=!1,e}function yk(n,e,t){for(var i=0;i<n.length;i++)n[i]=Wfe(n[i],e[i],t)}function Wfe(n,e,t){for(var i=[],r=e[0],o=e[1],s=0;s<n.length;s+=2){var a=n.charCodeAt(s)-64,l=n.charCodeAt(s+1)-64;a=a>>1^-(a&1),l=l>>1^-(l&1),a+=r,l+=o,r=a,o=l,i.push([a/t,l/t])}return i}function Nnt(n,e){return n=Ant(n),Te(xn(n.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var i=t.properties,r=t.geometry,o=[];switch(r.type){case"Polygon":var s=r.coordinates;o.push(new eX(s[0],s.slice(1)));break;case"MultiPolygon":B(r.coordinates,function(l){l[0]&&o.push(new eX(l[0],l.slice(1)))});break;case"LineString":o.push(new tX([r.coordinates]));break;case"MultiLineString":o.push(new tX(r.coordinates))}var a=new Vfe(i[e||"name"],o,i.cp);return a.properties=i,a})}var BS=Kt();function knt(n){return n.type==="category"?Ont(n):Bnt(n)}function Pnt(n,e){return n.type==="category"?Rnt(n,e):{ticks:Te(n.scale.getTicks(),function(t){return t.value})}}function Ont(n){var e=n.getLabelModel(),t=zfe(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function zfe(n,e){var t=Hfe(n,"labels"),i=bz(e),r=Ufe(t,i);if(r)return r;var o,s;return qe(i)?o=jfe(n,i):(s=i==="auto"?Fnt(n):i,o=Kfe(n,s)),Gfe(t,i,{labels:o,labelCategoryInterval:s})}function Rnt(n,e){var t=Hfe(n,"ticks"),i=bz(e),r=Ufe(t,i);if(r)return r;var o,s;if((!e.get("show")||n.scale.isBlank())&&(o=[]),qe(i))o=jfe(n,i,!0);else if(i==="auto"){var a=zfe(n,n.getLabelModel());s=a.labelCategoryInterval,o=Te(a.labels,function(l){return l.tickValue})}else s=i,o=Kfe(n,s,!0);return Gfe(t,i,{ticks:o,tickCategoryInterval:s})}function Bnt(n){var e=n.scale.getTicks(),t=Bw(n);return{labels:Te(e,function(i,r){return{level:i.level,formattedLabel:t(i,r),rawLabel:n.scale.getLabel(i),tickValue:i.value}})}}function Hfe(n,e){return BS(n)[e]||(BS(n)[e]=[])}function Ufe(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function Gfe(n,e,t){return n.push({key:e,value:t}),t}function Fnt(n){var e=BS(n).autoInterval;return e??(BS(n).autoInterval=n.calculateCategoryInterval())}function $nt(n){var e=Vnt(n),t=Bw(n),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=n.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var a=1;s>40&&(a=Math.max(1,Math.floor(s/40)));for(var l=o[0],u=n.dataToCoord(l+1)-n.dataToCoord(l),c=Math.abs(u*Math.cos(i)),d=Math.abs(u*Math.sin(i)),h=0,f=0;l<=o[1];l+=a){var g=0,p=0,m=Iw(t({value:l}),e.font,"center","top");g=m.width*1.3,p=m.height*1.3,h=Math.max(h,g,7),f=Math.max(f,p,7)}var v=h/c,y=f/d;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(v,y))),b=BS(n.model),S=n.getExtent(),w=b.lastAutoInterval,C=b.lastTickCount;return w!=null&&C!=null&&Math.abs(w-_)<=1&&Math.abs(C-s)<=1&&w>_&&b.axisExtent0===S[0]&&b.axisExtent1===S[1]?_=w:(b.lastTickCount=s,b.lastAutoInterval=_,b.axisExtent0=S[0],b.axisExtent1=S[1]),_}function Vnt(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Kfe(n,e,t){var i=Bw(n),r=n.scale,o=r.getExtent(),s=n.getLabelModel(),a=[],l=Math.max((e||0)+1,1),u=o[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var d=Ffe(n),h=s.get("showMinLabel")||d,f=s.get("showMaxLabel")||d;h&&u!==o[0]&&p(o[0]);for(var g=u;g<=o[1];g+=l)p(g);f&&g-l!==o[1]&&p(o[1]);function p(m){var v={value:m};a.push(t?m:{formattedLabel:i(v),rawLabel:r.getLabel(v),tickValue:m})}return a}function jfe(n,e,t){var i=n.scale,r=Bw(n),o=[];return B(i.getTicks(),function(s){var a=i.getLabel(s),l=s.value;e(s.value,a)&&o.push(t?l:{formattedLabel:r(s),rawLabel:a,tickValue:l})}),o}var nX=[0,1],Wnt=function(){function n(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return n.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return e>=i&&e<=r},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return Ece(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},n.prototype.dataToCoord=function(e,t){var i=this._extent,r=this.scale;return e=r.normalize(e),this.onBand&&r.type==="ordinal"&&(i=i.slice(),iX(i,r.count())),yn(e,nX,i,t)},n.prototype.coordToData=function(e,t){var i=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(i=i.slice(),iX(i,r.count()));var o=yn(e,i,nX,t);return this.scale.scale(o)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),i=Pnt(this,t),r=i.ticks,o=Te(r,function(a){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(a):a),tickValue:a}},this),s=t.get("alignWithLabel");return znt(this,o,s,e.clamp),o},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var i=this.scale.getMinorTicks(t),r=Te(i,function(o){return Te(o,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return r},n.prototype.getViewLabels=function(){return knt(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);i===0&&(i=1);var r=Math.abs(e[1]-e[0]);return Math.abs(r)/i},n.prototype.calculateCategoryInterval=function(){return $nt(this)},n}();function iX(n,e){var t=n[1]-n[0],i=e,r=t/i/2;n[0]+=r,n[1]-=r}function znt(n,e,t,i){var r=e.length;if(!n.onBand||t||!r)return;var o=n.getExtent(),s,a;if(r===1)e[0].coord=o[0],s=e[1]={coord:o[1]};else{var l=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/l;B(e,function(f){f.coord-=u/2});var c=n.scale.getExtent();a=1+c[1]-e[r-1].tickValue,s={coord:e[r-1].coord+u*a},e.push(s)}var d=o[0]>o[1];h(e[0].coord,o[0])&&(i?e[0].coord=o[0]:e.shift()),i&&h(o[0],e[0].coord)&&e.unshift({coord:o[0]}),h(o[1],s.coord)&&(i?s.coord=o[1]:e.pop()),i&&h(s.coord,o[1])&&e.push({coord:o[1]});function h(f,g){return f=bi(f),g=bi(g),d?f>g:f<g}}const fl=Wnt;var V0=Math.PI*2,cf=pu.CMD,Hnt=["top","right","bottom","left"];function Unt(n,e,t,i,r){var o=t.width,s=t.height;switch(n){case"top":i.set(t.x+o/2,t.y-e),r.set(0,-1);break;case"bottom":i.set(t.x+o/2,t.y+s+e),r.set(0,1);break;case"left":i.set(t.x-e,t.y+s/2),r.set(-1,0);break;case"right":i.set(t.x+o+e,t.y+s/2),r.set(1,0);break}}function Gnt(n,e,t,i,r,o,s,a,l){s-=n,a-=e;var u=Math.sqrt(s*s+a*a);s/=u,a/=u;var c=s*t+n,d=a*t+e;if(Math.abs(i-r)%V0<1e-4)return l[0]=c,l[1]=d,u-t;if(o){var h=i;i=qa(r),r=qa(h)}else i=qa(i),r=qa(r);i>r&&(r+=V0);var f=Math.atan2(a,s);if(f<0&&(f+=V0),f>=i&&f<=r||f+V0>=i&&f+V0<=r)return l[0]=c,l[1]=d,u-t;var g=t*Math.cos(i)+n,p=t*Math.sin(i)+e,m=t*Math.cos(r)+n,v=t*Math.sin(r)+e,y=(g-s)*(g-s)+(p-a)*(p-a),_=(m-s)*(m-s)+(v-a)*(v-a);return y<_?(l[0]=g,l[1]=p,Math.sqrt(y)):(l[0]=m,l[1]=v,Math.sqrt(_))}function WI(n,e,t,i,r,o,s,a){var l=r-n,u=o-e,c=t-n,d=i-e,h=Math.sqrt(c*c+d*d);c/=h,d/=h;var f=l*c+u*d,g=f/h;a&&(g=Math.min(Math.max(g,0),1)),g*=h;var p=s[0]=n+g*c,m=s[1]=e+g*d;return Math.sqrt((p-r)*(p-r)+(m-o)*(m-o))}function qfe(n,e,t,i,r,o,s){t<0&&(n=n+t,t=-t),i<0&&(e=e+i,i=-i);var a=n+t,l=e+i,u=s[0]=Math.min(Math.max(r,n),a),c=s[1]=Math.min(Math.max(o,e),l);return Math.sqrt((u-r)*(u-r)+(c-o)*(c-o))}var Aa=[];function Knt(n,e,t){var i=qfe(e.x,e.y,e.width,e.height,n.x,n.y,Aa);return t.set(Aa[0],Aa[1]),i}function jnt(n,e,t){for(var i=0,r=0,o=0,s=0,a,l,u=1/0,c=e.data,d=n.x,h=n.y,f=0;f<c.length;){var g=c[f++];f===1&&(i=c[f],r=c[f+1],o=i,s=r);var p=u;switch(g){case cf.M:o=c[f++],s=c[f++],i=o,r=s;break;case cf.L:p=WI(i,r,c[f],c[f+1],d,h,Aa,!0),i=c[f++],r=c[f++];break;case cf.C:p=uce(i,r,c[f++],c[f++],c[f++],c[f++],c[f],c[f+1],d,h,Aa),i=c[f++],r=c[f++];break;case cf.Q:p=dce(i,r,c[f++],c[f++],c[f],c[f+1],d,h,Aa),i=c[f++],r=c[f++];break;case cf.A:var m=c[f++],v=c[f++],y=c[f++],_=c[f++],b=c[f++],S=c[f++];f+=1;var w=!!(1-c[f++]);a=Math.cos(b)*y+m,l=Math.sin(b)*_+v,f<=1&&(o=a,s=l);var C=(d-m)*_/y+m;p=Gnt(m,v,_,b,b+S,w,C,h,Aa),i=Math.cos(b+S)*y+m,r=Math.sin(b+S)*_+v;break;case cf.R:o=i=c[f++],s=r=c[f++];var x=c[f++],L=c[f++];p=qfe(o,s,x,L,d,h,Aa);break;case cf.Z:p=WI(i,r,o,s,d,h,Aa,!0),i=o,r=s;break}p<u&&(u=p,t.set(Aa[0],Aa[1]))}return u}var Ya=new ft,$n=new ft,Mi=new ft,Xl=new ft,Ul=new ft;function rX(n,e){if(n){var t=n.getTextGuideLine(),i=n.getTextContent();if(i&&t){var r=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],s=r.candidates||Hnt,a=i.getBoundingRect().clone();a.applyTransform(i.getComputedTransform());var l=1/0,u=r.anchor,c=n.getComputedTransform(),d=c&&Ry([],c),h=e.get("length2")||0;u&&Mi.copy(u);for(var f=0;f<s.length;f++){var g=s[f];Unt(g,0,a,Ya,Xl),ft.scaleAndAdd($n,Ya,Xl,h),$n.transform(d);var p=n.getBoundingRect(),m=u?u.distance($n):n instanceof It?jnt($n,n.path,Mi):Knt($n,p,Mi);m<l&&(l=m,$n.transform(c),Mi.transform(c),Mi.toArray(o[0]),$n.toArray(o[1]),Ya.toArray(o[2]))}Yfe(o,e.get("minTurnAngle")),t.setShape({points:o})}}}var zI=[],mo=new ft;function Yfe(n,e){if(e<=180&&e>0){e=e/180*Math.PI,Ya.fromArray(n[0]),$n.fromArray(n[1]),Mi.fromArray(n[2]),ft.sub(Xl,Ya,$n),ft.sub(Ul,Mi,$n);var t=Xl.len(),i=Ul.len();if(!(t<.001||i<.001)){Xl.scale(1/t),Ul.scale(1/i);var r=Xl.dot(Ul),o=Math.cos(e);if(o<r){var s=WI($n.x,$n.y,Mi.x,Mi.y,Ya.x,Ya.y,zI,!1);mo.fromArray(zI),mo.scaleAndAdd(Ul,s/Math.tan(Math.PI-e));var a=Mi.x!==$n.x?(mo.x-$n.x)/(Mi.x-$n.x):(mo.y-$n.y)/(Mi.y-$n.y);if(isNaN(a))return;a<0?ft.copy(mo,$n):a>1&&ft.copy(mo,Mi),mo.toArray(n[1])}}}}function qnt(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ya.fromArray(n[0]),$n.fromArray(n[1]),Mi.fromArray(n[2]),ft.sub(Xl,$n,Ya),ft.sub(Ul,Mi,$n);var i=Xl.len(),r=Ul.len();if(!(i<.001||r<.001)){Xl.scale(1/i),Ul.scale(1/r);var o=Xl.dot(e),s=Math.cos(t);if(o<s){var a=WI($n.x,$n.y,Mi.x,Mi.y,Ya.x,Ya.y,zI,!1);mo.fromArray(zI);var l=Math.PI/2,u=Math.acos(Ul.dot(e)),c=l+u-t;if(c>=l)ft.copy(mo,Mi);else{mo.scaleAndAdd(Ul,a/Math.tan(Math.PI/2-c));var d=Mi.x!==$n.x?(mo.x-$n.x)/(Mi.x-$n.x):(mo.y-$n.y)/(Mi.y-$n.y);if(isNaN(d))return;d<0?ft.copy(mo,$n):d>1&&ft.copy(mo,Mi)}mo.toArray(n[1])}}}}function oX(n,e,t,i){var r=t==="normal",o=r?n:n.ensureState(t);o.ignore=e;var s=i.get("smooth");s&&s===!0&&(s=.3),o.shape=o.shape||{},s>0&&(o.shape.smooth=s);var a=i.getModel("lineStyle").getLineStyle();r?n.useStyle(a):o.style=a}function Ynt(n,e){var t=e.smooth,i=e.points;if(i)if(n.moveTo(i[0][0],i[0][1]),t>0&&i.length>=3){var r=Pd(i[0],i[1]),o=Pd(i[1],i[2]);if(!r||!o){n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]);return}var s=Math.min(r,o)*t,a=sL([],i[1],i[0],s/r),l=sL([],i[1],i[2],s/o),u=sL([],a,l,.5);n.bezierCurveTo(a[0],a[1],a[0],a[1],u[0],u[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)n.lineTo(i[c][0],i[c][1])}function Sz(n,e,t){var i=n.getTextGuideLine(),r=n.getTextContent();if(!r){i&&n.removeTextGuideLine();return}for(var o=e.normal,s=o.get("show"),a=r.ignore,l=0;l<IS.length;l++){var u=IS[l],c=e[u],d=u==="normal";if(c){var h=c.get("show"),f=d?a:gt(r.states[u]&&r.states[u].ignore,a);if(f||!gt(h,s)){var g=d?i:i&&i.states[u];g&&(g.ignore=!0);continue}i||(i=new ts,n.setTextGuideLine(i),!d&&(a||!s)&&oX(i,!0,"normal",e.normal),n.stateProxy&&(i.stateProxy=n.stateProxy)),oX(i,!1,u,c)}}if(i){Qe(i.style,t),i.style.fill=null;var p=o.get("showAbove"),m=n.textGuideLineConfig=n.textGuideLineConfig||{};m.showAbove=p||!1,i.buildPath=Ynt}}function wz(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},i=0;i<Lo.length;i++){var r=Lo[i];t[r]=n.getModel([r,e])}return t}function Xfe(n){for(var e=[],t=0;t<n.length;t++){var i=n[t];if(!i.defaultAttr.ignore){var r=i.label,o=r.getComputedTransform(),s=r.getBoundingRect(),a=!o||o[1]<1e-5&&o[2]<1e-5,l=r.style.margin||0,u=s.clone();u.applyTransform(o),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=a?new TI(s,o):null;e.push({label:r,labelLine:i.labelLine,rect:u,localRect:s,obb:c,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:a,transform:o})}}return e}function Zfe(n,e,t,i,r,o){var s=n.length;if(s<2)return;n.sort(function(x,L){return x.rect[e]-L.rect[e]});for(var a=0,l,u=!1,c=0,d=0;d<s;d++){var h=n[d],f=h.rect;l=f[e]-a,l<0&&(f[e]-=l,h.label[e]-=l,u=!0);var g=Math.max(-l,0);c+=g,a=f[e]+f[t]}c>0&&o&&S(-c/s,0,s);var p=n[0],m=n[s-1],v,y;_(),v<0&&w(-v,.8),y<0&&w(y,.8),_(),b(v,y,1),b(y,v,-1),_(),v<0&&C(-v),y<0&&C(y);function _(){v=p.rect[e]-i,y=r-m.rect[e]-m.rect[t]}function b(x,L,T){if(x<0){var I=Math.min(L,-x);if(I>0){S(I*T,0,s);var D=I+x;D<0&&w(-D*T,1)}else w(-x*T,1)}}function S(x,L,T){x!==0&&(u=!0);for(var I=L;I<T;I++){var D=n[I],M=D.rect;M[e]+=x,D.label[e]+=x}}function w(x,L){for(var T=[],I=0,D=1;D<s;D++){var M=n[D-1].rect,P=Math.max(n[D].rect[e]-M[e]-M[t],0);T.push(P),I+=P}if(I){var k=Math.min(Math.abs(x)/I,L);if(x>0)for(var D=0;D<s-1;D++){var O=T[D]*k;S(O,0,D+1)}else for(var D=s-1;D>0;D--){var O=T[D-1]*k;S(-O,D,s)}}}function C(x){var L=x<0?-1:1;x=Math.abs(x);for(var T=Math.ceil(x/(s-1)),I=0;I<s-1;I++)if(L>0?S(T,0,I+1):S(-T,s-I-1,s),x-=T,x<=0)return}return u}function Xnt(n,e,t,i){return Zfe(n,"x","width",e,t,i)}function Qfe(n,e,t,i){return Zfe(n,"y","height",e,t,i)}function Jfe(n){var e=[];n.sort(function(p,m){return m.priority-p.priority});var t=new mt(0,0,0,0);function i(p){if(!p.ignore){var m=p.ensureState("emphasis");m.ignore==null&&(m.ignore=!1)}p.ignore=!0}for(var r=0;r<n.length;r++){var o=n[r],s=o.axisAligned,a=o.localRect,l=o.transform,u=o.label,c=o.labelLine;t.copy(o.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=o.obb,h=!1,f=0;f<e.length;f++){var g=e[f];if(t.intersect(g.rect)){if(s&&g.axisAligned){h=!0;break}if(g.obb||(g.obb=new TI(g.localRect,g.transform)),d||(d=new TI(a,l)),d.intersect(g.obb)){h=!0;break}}}h?(i(u),c&&i(c)):(u.attr("ignore",o.defaultAttr.ignore),c&&c.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}function Znt(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function Qnt(n,e){var t=n.label,i=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:Znt(i&&i.shape.points)}}var sX=["align","verticalAlign","width","height","fontSize"],lo=new uc,_k=Kt(),Jnt=Kt();function WC(n,e,t){for(var i=0;i<t.length;i++){var r=t[i];e[r]!=null&&(n[r]=e[r])}}var zC=["x","y","rotation"],eit=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,i,r,o){var s=r.style,a=r.__hostTarget,l=a.textConfig||{},u=r.getComputedTransform(),c=r.getBoundingRect().plain();mt.applyTransform(c,c,u),u?lo.setLocalTransform(u):(lo.x=lo.y=lo.rotation=lo.originX=lo.originY=0,lo.scaleX=lo.scaleY=1),lo.rotation=qa(lo.rotation);var d=r.__hostTarget,h;if(d){h=d.getBoundingRect().plain();var f=d.getComputedTransform();mt.applyTransform(h,h,f)}var g=h&&d.getTextGuideLine();this._labelList.push({label:r,labelLine:g,seriesModel:i,dataIndex:e,dataType:t,layoutOption:o,computedLayoutOption:null,rect:c,hostRect:h,priority:h?h.width*h.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:g&&g.ignore,x:lo.x,y:lo.y,scaleX:lo.scaleX,scaleY:lo.scaleY,rotation:lo.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var i=e.__model,r=i.get("labelLayout");(qe(r)||Et(r).length)&&e.group.traverse(function(o){if(o.ignore)return!0;var s=o.getTextContent(),a=ut(o);s&&!s.disableLabelLayout&&t._addLabel(a.dataIndex,a.dataType,i,s,r)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),i=e.getHeight();function r(_,b){return function(){rX(_,b)}}for(var o=0;o<this._labelList.length;o++){var s=this._labelList[o],a=s.label,l=a.__hostTarget,u=s.defaultAttr,c=void 0;qe(s.layoutOption)?c=s.layoutOption(Qnt(s,l)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*d:u.attachedRot,offset:[c.dx||0,c.dy||0]});var h=!1;if(c.x!=null?(a.x=Fe(c.x,t),a.setStyle("x",0),h=!0):(a.x=u.x,a.setStyle("x",u.style.x)),c.y!=null?(a.y=Fe(c.y,i),a.setStyle("y",0),h=!0):(a.y=u.y,a.setStyle("y",u.style.y)),c.labelLinePoints){var f=l.getTextGuideLine();f&&(f.setShape({points:c.labelLinePoints}),h=!1)}var g=_k(a);g.needsUpdateLabelLine=h,a.rotation=c.rotate!=null?c.rotate*d:u.rotation,a.scaleX=u.scaleX,a.scaleY=u.scaleY;for(var p=0;p<sX.length;p++){var m=sX[p];a.setStyle(m,c[m]!=null?c[m]:u.style[m])}if(c.draggable){if(a.draggable=!0,a.cursor="move",l){var v=s.seriesModel;if(s.dataIndex!=null){var y=s.seriesModel.getData(s.dataType);v=y.getItemModel(s.dataIndex)}a.on("drag",r(l,v.getModel("labelLine")))}}else a.off("drag"),a.cursor=u.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),i=e.getHeight(),r=Xfe(this._labelList),o=xn(r,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=xn(r,function(l){return l.layoutOption.moveOverlap==="shiftY"});Xnt(o,0,t),Qfe(s,0,i);var a=xn(r,function(l){return l.layoutOption.hideOverlap});Jfe(a)},n.prototype.processLabelsOverall=function(){var e=this;B(this._chartViewList,function(t){var i=t.__model,r=t.ignoreLabelLineUpdate,o=i.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var a=!r,l=s.getTextContent();!a&&l&&(a=_k(l).needsUpdateLabelLine),a&&e._updateLabelLine(s,i),o&&e._animateLabels(s,i)})})},n.prototype._updateLabelLine=function(e,t){var i=e.getTextContent(),r=ut(e),o=r.dataIndex;if(i&&o!=null){var s=t.getData(r.dataType),a=s.getItemModel(o),l={},u=s.getItemVisual(o,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var d=a.getModel("labelLine");Sz(e,wz(a),l),rX(e,d)}},n.prototype._animateLabels=function(e,t){var i=e.getTextContent(),r=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!wv(e))){var o=_k(i),s=o.oldLayout,a=ut(e),l=a.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},c=t.getData(a.dataType);if(s){i.attr(s);var h=e.prevStates;h&&(Ct(h,"select")>=0&&i.attr(o.oldLayoutSelect),Ct(h,"emphasis")>=0&&i.attr(o.oldLayoutEmphasis)),rn(i,u,t,l)}else if(i.attr(u),!Wy(i).valueAnimation){var d=gt(i.style.opacity,1);i.style.opacity=0,Qn(i,{style:{opacity:d}},t,l)}if(o.oldLayout=u,i.states.select){var f=o.oldLayoutSelect={};WC(f,u,zC),WC(f,i.states.select,zC)}if(i.states.emphasis){var g=o.oldLayoutEmphasis={};WC(g,u,zC),WC(g,i.states.emphasis,zC)}$de(i,l,c,t,t)}if(r&&!r.ignore&&!r.invisible){var o=Jnt(r),s=o.oldLayout,p={points:r.shape.points};s?(r.attr({shape:s}),rn(r,{shape:p},t)):(r.setShape(p),r.style.strokePercent=0,Qn(r,{style:{strokePercent:1}},t)),o.oldLayout=p}},n}();const tit=eit;var bk=Kt();function nit(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){var r=bk(t).labelManager;r||(r=bk(t).labelManager=new tit),r.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,i){var r=bk(t).labelManager;i.updatedSeries.forEach(function(o){r.addLabelsOfSeries(t.getViewOfSeriesModel(o))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}var Sk=Math.sin,wk=Math.cos,ege=Math.PI,df=Math.PI*2,iit=180/ege,rit=function(){function n(){}return n.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},n.prototype.moveTo=function(e,t){this._add("M",e,t)},n.prototype.lineTo=function(e,t){this._add("L",e,t)},n.prototype.bezierCurveTo=function(e,t,i,r,o,s){this._add("C",e,t,i,r,o,s)},n.prototype.quadraticCurveTo=function(e,t,i,r){this._add("Q",e,t,i,r)},n.prototype.arc=function(e,t,i,r,o,s){this.ellipse(e,t,i,i,0,r,o,s)},n.prototype.ellipse=function(e,t,i,r,o,s,a,l){var u=a-s,c=!l,d=Math.abs(u),h=$d(d-df)||(c?u>=df:-u>=df),f=u>0?u%df:u%df+df,g=!1;h?g=!0:$d(d)?g=!1:g=f>=ege==!!c;var p=e+i*wk(s),m=t+r*Sk(s);this._start&&this._add("M",p,m);var v=Math.round(o*iit);if(h){var y=1/this._p,_=(c?1:-1)*(df-y);this._add("A",i,r,v,1,+c,e+i*wk(s+_),t+r*Sk(s+_)),y>.01&&this._add("A",i,r,v,0,+c,p,m)}else{var b=e+i*wk(a),S=t+r*Sk(a);this._add("A",i,r,v,+g,+c,b,S)}},n.prototype.rect=function(e,t,i,r){this._add("M",e,t),this._add("l",i,0),this._add("l",0,r),this._add("l",-i,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(e,t,i,r,o,s,a,l,u){for(var c=[],d=this._p,h=1;h<arguments.length;h++){var f=arguments[h];if(isNaN(f)){this._invalid=!0;return}c.push(Math.round(f*d)/d)}this._d.push(e+c.join(" ")),this._start=e==="Z"},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const tge=rit;var bb="none",oit=Math.round;function sit(n){var e=n.fill;return e!=null&&e!==bb}function ait(n){var e=n.stroke;return e!=null&&e!==bb}var kB=["lineCap","miterLimit","lineJoin"],lit=Te(kB,function(n){return"stroke-"+n.toLowerCase()});function uit(n,e,t,i){var r=e.opacity==null?1:e.opacity;if(t instanceof Hr){n("opacity",r);return}if(sit(e)){var o=xS(e.fill);n("fill",o.color);var s=e.fillOpacity!=null?e.fillOpacity*o.opacity*r:o.opacity*r;(i||s<1)&&n("fill-opacity",s)}else n("fill",bb);if(ait(e)){var a=xS(e.stroke);n("stroke",a.color);var l=e.strokeNoScale?t.getLineScale():1,u=l?(e.lineWidth||0)/l:0,c=e.strokeOpacity!=null?e.strokeOpacity*a.opacity*r:a.opacity*r,d=e.strokeFirst;if((i||u!==1)&&n("stroke-width",u),(i||d)&&n("paint-order",d?"stroke":"fill"),(i||c<1)&&n("stroke-opacity",c),e.lineDash){var h=uz(t),f=h[0],g=h[1];f&&(g=oit(g||0),n("stroke-dasharray",f.join(",")),(g||i)&&n("stroke-dashoffset",g))}else i&&n("stroke-dasharray",bb);for(var p=0;p<kB.length;p++){var m=kB[p];if(i||e[m]!==xI[m]){var v=e[m]||xI[m];v&&n(lit[p],v)}}}else i&&n("stroke",bb)}var nge="http://www.w3.org/2000/svg",ige="http://www.w3.org/1999/xlink",cit="http://www.w3.org/2000/xmlns/",dit="http://www.w3.org/XML/1998/namespace";function rge(n){return document.createElementNS(nge,n)}function pr(n,e,t,i,r){return{tag:n,attrs:t||{},children:i,text:r,key:e}}function hit(n,e){var t=[];if(e)for(var i in e){var r=e[i],o=i;r!==!1&&(r!==!0&&r!=null&&(o+='="'+r+'"'),t.push(o))}return"<"+n+" "+t.join(" ")+">"}function fit(n){return"</"+n+">"}function Cz(n,e){e=e||{};var t=e.newline?`
`:"";function i(r){var o=r.children,s=r.tag,a=r.attrs,l=r.text;return hit(s,a)+(s!=="style"?Bo(l):l||"")+(o?""+t+Te(o,function(u){return i(u)}).join(t)+t:"")+fit(s)}return i(n)}function git(n,e,t){t=t||{};var i=t.newline?`
`:"",r=" {"+i,o=i+"}",s=Te(Et(n),function(l){return l+r+Te(Et(n[l]),function(u){return u+":"+n[l][u]+";"}).join(i)+o}).join(i),a=Te(Et(e),function(l){return"@keyframes "+l+r+Te(Et(e[l]),function(u){return u+r+Te(Et(e[l][u]),function(c){var d=e[l][u][c];return c==="d"&&(d='path("'+d+'")'),c+":"+d+";"}).join(i)+o}).join(i)+o}).join(i);return!s&&!a?"":["<![CDATA[",s,a,"]]>"].join(i)}function PB(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function aX(n,e,t,i){return pr("svg","root",{width:n,height:e,xmlns:nge,"xmlns:xlink":ige,version:"1.1",baseProfile:"full",viewBox:i?"0 0 "+n+" "+e:!1},t)}var lX={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},yf="transform-origin";function pit(n,e,t){var i=be({},n.shape);be(i,e),n.buildPath(t,i);var r=new tge;return r.reset(yce(n)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function mit(n,e){var t=e.originX,i=e.originY;(t||i)&&(n[yf]=t+"px "+i+"px")}var vit={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function oge(n,e){var t=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[t]=n,t}function yit(n,e,t){var i=n.shape.paths,r={},o,s;if(B(i,function(l){var u=PB(t.zrId);u.animation=!0,DM(l,{},u,!0);var c=u.cssAnims,d=u.cssNodes,h=Et(c),f=h.length;if(f){s=h[f-1];var g=c[s];for(var p in g){var m=g[p];r[p]=r[p]||{d:""},r[p].d+=m.d||""}for(var v in d){var y=d[v].animation;y.indexOf(s)>=0&&(o=y)}}}),!!o){e.d=!1;var a=oge(r,t);return o.replace(s,a)}}function uX(n){return $e(n)?lX[n]?"cubic-bezier("+lX[n]+")":LW(n)?n:"":""}function DM(n,e,t,i){var r=n.animators,o=r.length,s=[];if(n instanceof zW){var a=yit(n,e,t);if(a)s.push(a);else if(!o)return}else if(!o)return;for(var l={},u=0;u<o;u++){var c=r[u],d=[c.getMaxTime()/1e3+"s"],h=uX(c.getClip().easing),f=c.getDelay();h?d.push(h):d.push("linear"),f&&d.push(f/1e3+"s"),c.getLoop()&&d.push("infinite");var g=d.join(" ");l[g]=l[g]||[g,[]],l[g][1].push(c)}function p(y){var _=y[1],b=_.length,S={},w={},C={},x="animation-timing-function";function L(ie,Q,le){for(var ue=ie.getTracks(),W=ie.getMaxTime(),G=0;G<ue.length;G++){var K=ue[G];if(K.needsAnimate()){var de=K.keyframes,Y=K.propName;if(le&&(Y=le(Y)),Y)for(var oe=0;oe<de.length;oe++){var te=de[oe],J=Math.round(te.time/W*100)+"%",he=uX(te.easing),pe=te.rawValue;($e(pe)||Jt(pe))&&(Q[J]=Q[J]||{},Q[J][Y]=te.rawValue,he&&(Q[J][x]=he))}}}}for(var T=0;T<b;T++){var I=_[T],D=I.targetName;D?D==="shape"&&L(I,w):!i&&L(I,S)}for(var M in S){var P={};Cce(P,n),be(P,S[M]);var k=_ce(P),O=S[M][x];C[M]=k?{transform:k}:{},mit(C[M],P),O&&(C[M][x]=O)}var F,R=!0;for(var M in w){C[M]=C[M]||{};var $=!F,O=w[M][x];$&&(F=new pu);var H=F.len();F.reset(),C[M].d=pit(n,w[M],F);var U=F.len();if(!$&&H!==U){R=!1;break}O&&(C[M][x]=O)}if(!R)for(var M in C)delete C[M].d;if(!i)for(var T=0;T<b;T++){var I=_[T],D=I.targetName;D==="style"&&L(I,C,function(ue){return vit[ue]})}for(var z=Et(C),Z=!0,X,T=1;T<z.length;T++){var ce=z[T-1],q=z[T];if(C[ce][yf]!==C[q][yf]){Z=!1;break}X=C[ce][yf]}if(Z&&X){for(var M in C)C[M][yf]&&delete C[M][yf];e[yf]=X}if(xn(z,function(ie){return Et(C[ie]).length>0}).length){var j=oge(C,t);return j+" "+y[0]+" both"}}for(var m in l){var a=p(l[m]);a&&s.push(a)}if(s.length){var v=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+v]={animation:s.join(",")},e.class=v}}var FS=Math.round;function sge(n){return n&&$e(n.src)}function age(n){return n&&qe(n.toDataURL)}function xz(n,e,t,i){uit(function(r,o){var s=r==="fill"||r==="stroke";s&&vce(o)?uge(e,n,r,i):s&&TW(o)?cge(t,n,r,i):n[r]=o},e,t,!1),Lit(t,n,i)}function cX(n){return $d(n[0]-1)&&$d(n[1])&&$d(n[2])&&$d(n[3]-1)}function _it(n){return $d(n[4])&&$d(n[5])}function Lz(n,e,t){if(e&&!(_it(e)&&cX(e))){var i=t?10:1e4;n.transform=cX(e)?"translate("+FS(e[4]*i)/i+" "+FS(e[5]*i)/i+")":gYe(e)}}function dX(n,e,t){for(var i=n.points,r=[],o=0;o<i.length;o++)r.push(FS(i[o][0]*t)/t),r.push(FS(i[o][1]*t)/t);e.points=r.join(" ")}function hX(n){return!n.smooth}function bit(n){var e=Te(n,function(t){return typeof t=="string"?[t,t]:t});return function(t,i,r){for(var o=0;o<e.length;o++){var s=e[o],a=t[s[0]];a!=null&&(i[s[1]]=FS(a*r)/r)}}}var Sit={circle:[bit(["cx","cy","r"])],polyline:[dX,hX],polygon:[dX,hX]};function wit(n){for(var e=n.animators,t=0;t<e.length;t++)if(e[t].targetName==="shape")return!0;return!1}function lge(n,e){var t=n.style,i=n.shape,r=Sit[n.type],o={},s=e.animation,a="path",l=n.style.strokePercent,u=e.compress&&yce(n)||4;if(r&&!e.willUpdate&&!(r[1]&&!r[1](i))&&!(s&&wit(n))&&!(l<1)){a=n.type;var c=Math.pow(10,u);r[0](i,o,c)}else{var d=!n.path||n.shapeChanged();n.path||n.createPathProxy();var h=n.path;d&&(h.beginPath(),n.buildPath(h,n.shape),n.pathUpdated());var f=h.getVersion(),g=n,p=g.__svgPathBuilder;(g.__svgPathVersion!==f||!p||l!==g.__svgPathStrokePercent)&&(p||(p=g.__svgPathBuilder=new tge),p.reset(u),h.rebuildPath(p,l),p.generateStr(),g.__svgPathVersion=f,g.__svgPathStrokePercent=l),o.d=p.getStr()}return Lz(o,n.transform),xz(o,t,n,e),e.animation&&DM(n,o,e),pr(a,n.id+"",o)}function Cit(n,e){var t=n.style,i=t.image;if(i&&!$e(i)&&(sge(i)?i=i.src:age(i)&&(i=i.toDataURL())),!!i){var r=t.x||0,o=t.y||0,s=t.width,a=t.height,l={href:i,width:s,height:a};return r&&(l.x=r),o&&(l.y=o),Lz(l,n.transform),xz(l,t,n,e),e.animation&&DM(n,l,e),pr("image",n.id+"",l)}}function xit(n,e){var t=n.style,i=t.text;if(i!=null&&(i+=""),!(!i||isNaN(t.x)||isNaN(t.y))){var r=t.font||ph,o=t.x||0,s=mYe(t.y||0,nM(r),t.textBaseline),a=pYe[t.textAlign]||t.textAlign,l={"dominant-baseline":"central","text-anchor":a};if(nde(t)){var u="",c=t.fontStyle,d=tde(t.fontSize);if(!parseFloat(d))return;var h=t.fontFamily||Kue,f=t.fontWeight;u+="font-size:"+d+";font-family:"+h+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),f&&f!=="normal"&&(u+="font-weight:"+f+";"),l.style=u}else l.style="font: "+r;return i.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),s&&(l.y=s),Lz(l,n.transform),xz(l,t,n,e),e.animation&&DM(n,l,e),pr("text",n.id+"",l,void 0,i)}}function fX(n,e){if(n instanceof It)return lge(n,e);if(n instanceof Hr)return Cit(n,e);if(n instanceof TS)return xit(n,e)}function Lit(n,e,t){var i=n.style;if(vYe(i)){var r=yYe(n),o=t.shadowCache,s=o[r];if(!s){var a=n.getGlobalScale(),l=a[0],u=a[1];if(!l||!u)return;var c=i.shadowOffsetX||0,d=i.shadowOffsetY||0,h=i.shadowBlur,f=xS(i.shadowColor),g=f.opacity,p=f.color,m=h/2/l,v=h/2/u,y=m+" "+v;s=t.zrId+"-s"+t.shadowIdx++,t.defs[s]=pr("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[pr("feDropShadow","",{dx:c/l,dy:d/u,stdDeviation:y,"flood-color":p,"flood-opacity":g})]),o[r]=s}e.filter=tM(s)}}function uge(n,e,t,i){var r=n[t],o,s={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(pce(r))o="linearGradient",s.x1=r.x,s.y1=r.y,s.x2=r.x2,s.y2=r.y2;else if(mce(r))o="radialGradient",s.cx=gt(r.x,.5),s.cy=gt(r.y,.5),s.r=gt(r.r,.5);else return;for(var a=r.colorStops,l=[],u=0,c=a.length;u<c;++u){var d=q5(a[u].offset)*100+"%",h=a[u].color,f=xS(h),g=f.color,p=f.opacity,m={offset:d};m["stop-color"]=g,p<1&&(m["stop-opacity"]=p),l.push(pr("stop",u+"",m))}var v=pr(o,"",s,l),y=Cz(v),_=i.gradientCache,b=_[y];b||(b=i.zrId+"-g"+i.gradientIdx++,_[y]=b,s.id=b,i.defs[b]=pr(o,b,s,l)),e[t]=tM(b)}function cge(n,e,t,i){var r=n.style[t],o=n.getBoundingRect(),s={},a=r.repeat,l=a==="no-repeat",u=a==="repeat-x",c=a==="repeat-y",d;if(gce(r)){var h=r.imageWidth,f=r.imageHeight,g=void 0,p=r.image;if($e(p)?g=p:sge(p)?g=p.src:age(p)&&(g=p.toDataURL()),typeof Image>"u"){var m="Image width/height must been given explictly in svg-ssr renderer.";xo(h,m),xo(f,m)}else if(h==null||f==null){var v=function(T,I){if(T){var D=T.elm,M=h||I.width,P=f||I.height;T.tag==="pattern"&&(u?(P=1,M/=o.width):c&&(M=1,P/=o.height)),T.attrs.width=M,T.attrs.height=P,D&&(D.setAttribute("width",M),D.setAttribute("height",P))}},y=kW(g,null,n,function(T){l||v(w,T),v(d,T)});y&&y.width&&y.height&&(h=h||y.width,f=f||y.height)}d=pr("image","img",{href:g,width:h,height:f}),s.width=h,s.height=f}else r.svgElement&&(d=rt(r.svgElement),s.width=r.svgWidth,s.height=r.svgHeight);if(d){var _,b;l?_=b=1:u?(b=1,_=s.width/o.width):c?(_=1,b=s.height/o.height):s.patternUnits="userSpaceOnUse",_!=null&&!isNaN(_)&&(s.width=_),b!=null&&!isNaN(b)&&(s.height=b);var S=_ce(r);S&&(s.patternTransform=S);var w=pr("pattern","",s,[d]),C=Cz(w),x=i.patternCache,L=x[C];L||(L=i.zrId+"-p"+i.patternIdx++,x[C]=L,s.id=L,w=i.defs[L]=pr("pattern",L,s,[d])),e[t]=tM(L)}}function Tit(n,e,t){var i=t.clipPathCache,r=t.defs,o=i[n.id];if(!o){o=t.zrId+"-c"+t.clipPathIdx++;var s={id:o};i[n.id]=o,r[o]=pr("clipPath",o,s,[lge(n,t)])}e["clip-path"]=tM(o)}function gX(n){return document.createTextNode(n)}function Wf(n,e,t){n.insertBefore(e,t)}function pX(n,e){n.removeChild(e)}function mX(n,e){n.appendChild(e)}function dge(n){return n.parentNode}function hge(n){return n.nextSibling}function Ck(n,e){n.textContent=e}var vX=58,Iit=120,Dit=pr("","");function OB(n){return n===void 0}function Ol(n){return n!==void 0}function Eit(n,e,t){for(var i={},r=e;r<=t;++r){var o=n[r].key;o!==void 0&&(i[o]=r)}return i}function m_(n,e){var t=n.key===e.key,i=n.tag===e.tag;return i&&t}function $S(n){var e,t=n.children,i=n.tag;if(Ol(i)){var r=n.elm=rge(i);if(Tz(Dit,n),we(t))for(e=0;e<t.length;++e){var o=t[e];o!=null&&mX(r,$S(o))}else Ol(n.text)&&!et(n.text)&&mX(r,gX(n.text))}else n.elm=gX(n.text);return n.elm}function fge(n,e,t,i,r){for(;i<=r;++i){var o=t[i];o!=null&&Wf(n,$S(o),e)}}function HI(n,e,t,i){for(;t<=i;++t){var r=e[t];if(r!=null)if(Ol(r.tag)){var o=dge(r.elm);pX(o,r.elm)}else pX(n,r.elm)}}function Tz(n,e){var t,i=e.elm,r=n&&n.attrs||{},o=e.attrs||{};if(r!==o){for(t in o){var s=o[t],a=r[t];a!==s&&(s===!0?i.setAttribute(t,""):s===!1?i.removeAttribute(t):t.charCodeAt(0)!==Iit?i.setAttribute(t,s):t==="xmlns:xlink"||t==="xmlns"?i.setAttributeNS(cit,t,s):t.charCodeAt(3)===vX?i.setAttributeNS(dit,t,s):t.charCodeAt(5)===vX?i.setAttributeNS(ige,t,s):i.setAttribute(t,s))}for(t in r)t in o||i.removeAttribute(t)}}function Mit(n,e,t){for(var i=0,r=0,o=e.length-1,s=e[0],a=e[o],l=t.length-1,u=t[0],c=t[l],d,h,f,g;i<=o&&r<=l;)s==null?s=e[++i]:a==null?a=e[--o]:u==null?u=t[++r]:c==null?c=t[--l]:m_(s,u)?(Lm(s,u),s=e[++i],u=t[++r]):m_(a,c)?(Lm(a,c),a=e[--o],c=t[--l]):m_(s,c)?(Lm(s,c),Wf(n,s.elm,hge(a.elm)),s=e[++i],c=t[--l]):m_(a,u)?(Lm(a,u),Wf(n,a.elm,s.elm),a=e[--o],u=t[++r]):(OB(d)&&(d=Eit(e,i,o)),h=d[u.key],OB(h)?Wf(n,$S(u),s.elm):(f=e[h],f.tag!==u.tag?Wf(n,$S(u),s.elm):(Lm(f,u),e[h]=void 0,Wf(n,f.elm,s.elm))),u=t[++r]);(i<=o||r<=l)&&(i>o?(g=t[l+1]==null?null:t[l+1].elm,fge(n,g,t,r,l)):HI(n,e,i,o))}function Lm(n,e){var t=e.elm=n.elm,i=n.children,r=e.children;n!==e&&(Tz(n,e),OB(e.text)?Ol(i)&&Ol(r)?i!==r&&Mit(t,i,r):Ol(r)?(Ol(n.text)&&Ck(t,""),fge(t,null,r,0,r.length-1)):Ol(i)?HI(t,i,0,i.length-1):Ol(n.text)&&Ck(t,""):n.text!==e.text&&(Ol(i)&&HI(t,i,0,i.length-1),Ck(t,e.text)))}function Ait(n,e){if(m_(n,e))Lm(n,e);else{var t=n.elm,i=dge(t);$S(e),i!==null&&(Wf(i,e.elm,hge(t)),HI(i,[n],0,0))}return e}var Nit=0,kit=function(){function n(e,t,i){if(this.type="svg",this.refreshHover=yX(),this.configLayer=yX(),this.storage=t,this._opts=i=be({},i),this.root=e,this._id="zr"+Nit++,this._oldVNode=aX(i.width,i.height),e&&!i.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=rge("svg");Tz(null,this._oldVNode),r.appendChild(o),e.appendChild(r)}this.resize(i.width,i.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Ait(this._oldVNode,e),this._oldVNode=e}},n.prototype.renderOneToVNode=function(e){return fX(e,PB(this._id))},n.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),i=this._width,r=this._height,o=PB(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var s=[],a=this._bgVNode=Pit(i,r,this._backgroundColor,o);a&&s.push(a);var l=e.compress?null:this._mainVNode=pr("g","main",{},[]);this._paintList(t,o,l?l.children:s),l&&s.push(l);var u=Te(Et(o.defs),function(h){return o.defs[h]});if(u.length&&s.push(pr("defs","defs",{},u)),e.animation){var c=git(o.cssNodes,o.cssAnims,{newline:!0});if(c){var d=pr("style","stl",{},[],c);s.push(d)}}return aX(i,r,s,e.useViewBox)},n.prototype.renderToString=function(e){return e=e||{},Cz(this.renderToVNode({animation:gt(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:gt(e.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(e,t,i){for(var r=e.length,o=[],s=0,a,l,u=0,c=0;c<r;c++){var d=e[c];if(!d.invisible){var h=d.__clipPaths,f=h&&h.length||0,g=l&&l.length||0,p=void 0;for(p=Math.max(f-1,g-1);p>=0&&!(h&&l&&h[p]===l[p]);p--);for(var m=g-1;m>p;m--)s--,a=o[s-1];for(var v=p+1;v<f;v++){var y={};Tit(h[v],y,t);var _=pr("g","clip-g-"+u++,y,[]);(a?a.children:i).push(_),o[s++]=_,a=_}l=h;var b=fX(d,t);b&&(a?a.children:i).push(b)}}},n.prototype.resize=function(e,t){var i=this._opts,r=this.root,o=this._viewport;if(e!=null&&(i.width=e),t!=null&&(i.height=t),r&&o&&(o.style.display="none",e=Wm(r,0,i),t=Wm(r,1,i),o.style.display=""),this._width!==e||this._height!==t){if(this._width=e,this._height=t,o){var s=o.style;s.width=e+"px",s.height=t+"px"}if(TW(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute("width",e),a.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",t))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(e){var t=this.renderToString(),i="data:image/svg+xml;";return e?(t=bYe(t),t&&i+"base64,"+t):i+"charset=UTF-8,"+encodeURIComponent(t)},n}();function yX(n){return function(){}}function Pit(n,e,t,i){var r;if(t&&t!=="none")if(r=pr("rect","bg",{width:n,height:e,x:"0",y:"0",id:"0"}),vce(t))uge({fill:t},r.attrs,"fill",i);else if(TW(t))cge({style:{fill:t},dirty:Ni,getBoundingRect:function(){return{width:n,height:e}}},r.attrs,"fill",i);else{var o=xS(t),s=o.color,a=o.opacity;r.attrs.fill=s,a<1&&(r.attrs["fill-opacity"]=a)}return r}const Oit=kit;function Rit(n){n.registerPainter("svg",Oit)}function _X(n,e,t){var i=mh.createCanvas(),r=e.getWidth(),o=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=r+"px",s.height=o+"px",i.setAttribute("data-zr-dom-id",n)),i.width=r*t,i.height=o*t,i}var Bit=function(n){re(e,n);function e(t,i,r){var o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;r=r||SI,typeof t=="string"?s=_X(t,i,r):et(t)&&(s=t,t=s.id),o.id=t,o.dom=s;var a=s.style;return a&&(Que(s),s.onselectstart=function(){return!1},a.padding="0",a.margin="0",a.borderWidth="0"),o.painter=i,o.dpr=r,o}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=_X("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,i,r,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],a=this.maxRepaintRectCount,l=!1,u=new mt(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var _=new mt(0,0,0,0);_.copy(y),s.push(_)}else{for(var b=!1,S=1/0,w=0,C=0;C<s.length;++C){var x=s[C];if(x.intersect(y)){var L=new mt(0,0,0,0);L.copy(x),L.union(y),s[C]=L,b=!0;break}else if(l){u.copy(y),u.union(x);var T=y.width*y.height,I=x.width*x.height,D=u.width*u.height,M=D-T-I;M<S&&(S=M,w=C)}}if(l&&(s[w].union(y),b=!0),!b){var _=new mt(0,0,0,0);_.copy(y),s.push(_)}l||(l=s.length>=a)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var h=t[d];if(h){var f=h.shouldBePainted(r,o,!0,!0),g=h.__isRendered&&(h.__dirty&hs||!f)?h.getPrevPaintRect():null;g&&c(g);var p=f&&(h.__dirty&hs||!h.__isRendered)?h.getPaintRect():null;p&&c(p)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var h=i[d],f=h.shouldBePainted(r,o,!0,!0);if(h&&(!f||!h.__zr)&&h.__isRendered){var g=h.getPrevPaintRect();g&&c(g)}}var m;do{m=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var v=d+1;v<s.length;)s[d].intersect(s[v])?(m=!0,s[d].union(s[v]),s.splice(v,1)):v++;d++}}while(m);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,i){var r=this.dpr,o=this.dom,s=o.style,a=this.domBack;s&&(s.width=t+"px",s.height=i+"px"),o.width=t*r,o.height=i*r,a&&(a.width=t*r,a.height=i*r,r!==1&&this.ctxBack.scale(r,r))},e.prototype.clear=function(t,i,r){var o=this.dom,s=this.ctx,a=o.width,l=o.height;i=i||this.clearColor;var u=this.motionBlur&&!t,c=this.lastFrameAlpha,d=this.dpr,h=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,a/d,l/d));var f=this.domBack;function g(p,m,v,y){if(s.clearRect(p,m,v,y),i&&i!=="transparent"){var _=void 0;if(QE(i)){var b=i.global||i.__width===v&&i.__height===y;_=b&&i.__canvasGradient||LB(s,i,{x:0,y:0,width:v,height:y}),i.__canvasGradient=_,i.__width=v,i.__height=y}else bqe(i)&&(i.scaleX=i.scaleX||d,i.scaleY=i.scaleY||d,_=TB(s,i,{dirty:function(){h.setUnpainted(),h.__painter.refresh()}}));s.save(),s.fillStyle=_||i,s.fillRect(p,m,v,y),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(f,p,m,v,y),s.restore())}!r||u?g(0,0,a,l):r.length&&B(r,function(p){g(p.x*d,p.y*d,p.width*d,p.height*d)})},e}(ma);const xk=Bit;var bX=1e5,hf=314159,HC=.01,Fit=.001;function $it(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function Vit(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var Wit=function(){function n(e,t,i,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=be({},i||{}),this.dpr=i.devicePixelRatio||SI,this._singleCanvas=o,this.root=e;var s=e.style;s&&(Que(e),e.innerHTML=""),this.storage=t;var a=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var c=e,d=c.width,h=c.height;i.width!=null&&(d=i.width),i.height!=null&&(h=i.height),this.dpr=i.devicePixelRatio||1,c.width=d*this.dpr,c.height=h*this.dpr,this._width=d,this._height=h;var f=new xk(c,this,this.dpr);f.__builtin__=!0,f.initContext(),l[hf]=f,f.zlevel=hf,a.push(hf),this._domRoot=e}else{this._width=Wm(e,0,i),this._height=Wm(e,1,i);var u=this._domRoot=Vit(this._width,this._height);e.appendChild(u)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),i=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,i,e,this._redrawId);for(var o=0;o<r.length;o++){var s=r[o],a=this._layers[s];if(!a.__builtin__&&a.refresh){var l=o===0?this._backgroundColor:null;a.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,i=this._hoverlayer;if(i&&i.clear(),!!t){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<t;s++){var a=e[s];a.__inHover&&(i||(i=this._hoverlayer=this.getLayer(bX)),o||(o=i.ctx,o.save()),ig(o,a,r,s===t-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(bX)},n.prototype.paintOne=function(e,t){Yhe(e,t)},n.prototype._paintList=function(e,t,i,r){if(this._redrawId===r){i=i||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,t,i),s=o.finished,a=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(e),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;H5(function(){l._paintList(e,t,i,r)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(hf).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(r){r.virtual&&e.drawImage(r.dom,0,0,t,i)})},n.prototype._doPaintList=function(e,t,i){for(var r=this,o=[],s=this._opts.useDirtyRect,a=0;a<this._zlevelList.length;a++){var l=this._zlevelList[a],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||i)&&o.push(u)}for(var c=!0,d=!1,h=function(p){var m=o[p],v=m.ctx,y=s&&m.createRepaintRects(e,t,f._width,f._height),_=i?m.__startIndex:m.__drawIndex,b=!i&&m.incremental&&Date.now,S=b&&Date.now(),w=m.zlevel===f._zlevelList[0]?f._backgroundColor:null;if(m.__startIndex===m.__endIndex)m.clear(!1,w,y);else if(_===m.__startIndex){var C=e[_];(!C.incremental||!C.notClear||i)&&m.clear(!1,w,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=m.__startIndex);var x,L=function(M){var P={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(x=_;x<m.__endIndex;x++){var k=e[x];if(k.__inHover&&(d=!0),r._doPaintEl(k,m,s,M,P,x===m.__endIndex-1),b){var O=Date.now()-S;if(O>15)break}}P.prevElClipPaths&&v.restore()};if(y)if(y.length===0)x=m.__endIndex;else for(var T=f.dpr,I=0;I<y.length;++I){var D=y[I];v.save(),v.beginPath(),v.rect(D.x*T,D.y*T,D.width*T,D.height*T),v.clip(),L(D),v.restore()}else v.save(),L(),v.restore();m.__drawIndex=x,m.__drawIndex<m.__endIndex&&(c=!1)},f=this,g=0;g<o.length;g++)h(g);return Yt.wxa&&B(this._layers,function(p){p&&p.ctx&&p.ctx.draw&&p.ctx.draw()}),{finished:c,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,i,r,o,s){var a=t.ctx;if(i){var l=e.getPaintRect();(!r||l&&l.intersect(r))&&(ig(a,e,o,s),e.setPrevPaintRect(l))}else ig(a,e,o,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=hf);var i=this._layers[e];return i||(i=new xk("zr_"+e,this,this.dpr),i.zlevel=e,i.__builtin__=!0,this._layerConfig[e]?pt(i,this._layerConfig[e],!0):this._layerConfig[e-HC]&&pt(i,this._layerConfig[e-HC],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},n.prototype.insertLayer=function(e,t){var i=this._layers,r=this._zlevelList,o=r.length,s=this._domRoot,a=null,l=-1;if(!i[e]&&$it(t)){if(o>0&&e>r[0]){for(l=0;l<o-1&&!(r[l]<e&&r[l+1]>e);l++);a=i[r[l]]}if(r.splice(l+1,0,e),i[e]=t,!t.virtual)if(a){var u=a.dom;u.nextSibling?s.insertBefore(t.dom,u.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r];e.call(t,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],s=this._layers[o];s.__builtin__&&e.call(t,s,o)}},n.prototype.eachOtherLayer=function(e,t){for(var i=this._zlevelList,r=0;r<i.length;r++){var o=i[r],s=this._layers[o];s.__builtin__||e.call(t,s,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,h){d.__dirty=d.__used=!1});function t(d){o&&(o.__endIndex!==d&&(o.__dirty=!0),o.__endIndex=d)}if(this._singleCanvas)for(var i=1;i<e.length;i++){var r=e[i];if(r.zlevel!==e[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,a,l;for(l=0;l<e.length;l++){var r=e[l],u=r.zlevel,c=void 0;a!==u&&(a=u,s=0),r.incremental?(c=this.getLayer(u+Fit,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?HC:0),this._needsManuallyCompositing),c.__builtin__||yW("ZLevel "+u+" has been used by unkown layer "+c.id),c!==o&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,t(l),o=c),r.__dirty&hs&&!r.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,h){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,B(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var i=this._layerConfig;i[e]?pt(i[e],t,!0):i[e]=t;for(var r=0;r<this._zlevelList.length;r++){var o=this._zlevelList[r];if(o===e||o===e+HC){var s=this._layers[o];pt(s,i[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,i=this._zlevelList,r=t[e];r&&(r.dom.parentNode.removeChild(r.dom),delete t[e],i.splice(Ct(i,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts,o=this.root;if(e!=null&&(r.width=e),t!=null&&(r.height=t),e=Wm(o,0,r),t=Wm(o,1,r),i.style.display="",this._width!==e||t!==this._height){i.style.width=e+"px",i.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(hf).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[hf].dom;var t=new xk("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var i=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,o=t.dom.height;this.eachLayer(function(d){d.__builtin__?i.drawImage(d.dom,0,0,r,o):d.renderToCanvas&&(i.save(),d.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),l=0,u=a.length;l<u;l++){var c=a[l];ig(i,c,s,l===u-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const zit=Wit;function Hit(n){n.registerPainter("canvas",zit)}var Uit=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t){return jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var i=new st,r=Wi("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);i.add(r),r.setStyle(t.lineStyle);var o=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),a=o==="none"?"circle":o,l=t.itemHeight*.8,u=Wi(a,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);i.add(u),u.setStyle(t.itemStyle);var c=t.iconRotate==="inherit"?s:t.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),a.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(ii);const Git=Uit;function uy(n,e){var t=n.mapDimensionsAll("defaultedLabel"),i=t.length;if(i===1){var r=sy(n,e,t[0]);return r!=null?r+"":null}else if(i){for(var o=[],s=0;s<t.length;s++)o.push(sy(n,e,t[s]));return o.join(" ")}}function gge(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!we(e))return e+"";for(var i=[],r=0;r<t.length;r++){var o=n.getDimensionIndex(t[r]);o>=0&&i.push(e[o])}return i.join(" ")}var Kit=function(n){re(e,n);function e(t,i,r,o){var s=n.call(this)||this;return s.updateData(t,i,r,o),s}return e.prototype._createSymbol=function(t,i,r,o,s){this.removeAll();var a=Wi(t,-1,-1,2,2,null,s);a.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),a.drift=jit,this._symbolType=t,this.add(a)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Nc(this.childAt(0))},e.prototype.downplay=function(){kc(this.childAt(0))},e.prototype.setZ=function(t,i){var r=this.childAt(0);r.zlevel=t,r.z=i},e.prototype.setDraggable=function(t,i){var r=this.childAt(0);r.draggable=t,r.cursor=!i&&t?"move":r.cursor},e.prototype.updateData=function(t,i,r,o){this.silent=!1;var s=t.getItemVisual(i,"symbol")||"circle",a=t.hostModel,l=e.getSymbolSize(t,i),u=s!==this._symbolType,c=o&&o.disableAnimation;if(u){var d=t.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,t,i,l,d)}else{var h=this.childAt(0);h.silent=!1;var f={scaleX:l[0]/2,scaleY:l[1]/2};c?h.attr(f):rn(h,f,a,i),ul(h)}if(this._updateCommon(t,i,l,r,o),u){var h=this.childAt(0);if(!c){var f={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:h.style.opacity}};h.scaleX=h.scaleY=0,h.style.opacity=0,Qn(h,f,a,i)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,i,r,o,s){var a=this.childAt(0),l=t.hostModel,u,c,d,h,f,g,p,m,v;if(o&&(u=o.emphasisItemStyle,c=o.blurItemStyle,d=o.selectItemStyle,h=o.focus,f=o.blurScope,p=o.labelStatesModels,m=o.hoverScale,v=o.cursorStyle,g=o.emphasisDisabled),!o||t.hasItemOption){var y=o&&o.itemModel?o.itemModel:t.getItemModel(i),_=y.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),h=_.get("focus"),f=_.get("blurScope"),g=_.get("disabled"),p=yr(y),m=_.getShallow("scale"),v=y.getShallow("cursor")}var b=t.getItemVisual(i,"symbolRotate");a.attr("rotation",(b||0)*Math.PI/180||0);var S=Ip(t.getItemVisual(i,"symbolOffset"),r);S&&(a.x=S[0],a.y=S[1]),v&&a.attr("cursor",v);var w=t.getItemVisual(i,"style"),C=w.fill;if(a instanceof Hr){var x=a.style;a.useStyle(be({image:x.image,x:x.x,y:x.y,width:x.width,height:x.height},w))}else a.__isEmptyBrush?a.useStyle(be({},w)):a.useStyle(w),a.style.decal=null,a.setColor(C,s&&s.symbolInnerColor),a.style.strokeNoScale=!0;var L=t.getItemVisual(i,"liftZ"),T=this._z2;L!=null?T==null&&(this._z2=a.z2,a.z2+=L):T!=null&&(a.z2=T,this._z2=null);var I=s&&s.useNameLabel;Wr(a,p,{labelFetcher:l,labelDataIndex:i,defaultText:D,inheritColor:C,defaultOpacity:w.opacity});function D(k){return I?t.getName(k):uy(t,k)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var M=a.ensureState("emphasis");M.style=u,a.ensureState("select").style=d,a.ensureState("blur").style=c;var P=m==null||m===!0?Math.max(1.1,3/this._sizeY):isFinite(m)&&m>0?+m:1;M.scaleX=this._sizeX*P,M.scaleY=this._sizeY*P,this.setSymbolScale(1),mi(this,h,f,g)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,i,r){var o=this.childAt(0),s=ut(this).dataIndex,a=r&&r.animation;if(this.silent=o.silent=!0,r&&r.fadeLabel){var l=o.getTextContent();l&&yh(l,{style:{opacity:0}},i,{dataIndex:s,removeOpt:a,cb:function(){o.removeTextContent()}})}else o.removeTextContent();yh(o,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:t,removeOpt:a})},e.getSymbolSize=function(t,i){return Yy(t.getItemVisual(i,"symbolSize"))},e}(st);function jit(n,e){this.parent.drift(n,e)}const $w=Kit;function Lk(n,e,t,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(t))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&n.getItemVisual(t,"symbol")!=="none"}function SX(n){return n!=null&&!et(n)&&(n={isIgnore:n}),n||{}}function wX(n){var e=n.hostModel,t=e.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:yr(e),cursorStyle:e.get("cursor")}}var qit=function(){function n(e){this.group=new st,this._SymbolCtor=e||$w}return n.prototype.updateData=function(e,t){this._progressiveEls=null,t=SX(t);var i=this.group,r=e.hostModel,o=this._data,s=this._SymbolCtor,a=t.disableAnimation,l=wX(e),u={disableAnimation:a},c=t.getSymbolPoint||function(d){return e.getItemLayout(d)};o||i.removeAll(),e.diff(o).add(function(d){var h=c(d);if(Lk(e,h,d,t)){var f=new s(e,d,l,u);f.setPosition(h),e.setItemGraphicEl(d,f),i.add(f)}}).update(function(d,h){var f=o.getItemGraphicEl(h),g=c(d);if(!Lk(e,g,d,t)){i.remove(f);return}var p=e.getItemVisual(d,"symbol")||"circle",m=f&&f.getSymbolType&&f.getSymbolType();if(!f||m&&m!==p)i.remove(f),f=new s(e,d,l,u),f.setPosition(g);else{f.updateData(e,d,l,u);var v={x:g[0],y:g[1]};a?f.attr(v):rn(f,v,r)}i.add(f),e.setItemGraphicEl(d,f)}).remove(function(d){var h=o.getItemGraphicEl(d);h&&h.fadeOut(function(){i.remove(h)},r)}).execute(),this._getSymbolPoint=c,this._data=e},n.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl(function(i,r){var o=e._getSymbolPoint(r);i.setPosition(o),i.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=wX(e),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t,i){this._progressiveEls=[],i=SX(i);function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var o=e.start;o<e.end;o++){var s=t.getItemLayout(o);if(Lk(t,s,o,i)){var a=new this._SymbolCtor(t,o,this._seriesScope);a.traverse(r),a.setPosition(s),this.group.add(a),t.setItemGraphicEl(o,a),this._progressiveEls.push(a)}}},n.prototype.eachRendered=function(e){Ih(this._progressiveEls||this.group,e)},n.prototype.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},i.hostModel)}):t.removeAll()},n}();const Vw=qit;function pge(n,e,t){var i=n.getBaseAxis(),r=n.getOtherAxis(i),o=Yit(r,t),s=i.dim,a=r.dim,l=e.mapDimension(a),u=e.mapDimension(s),c=a==="x"||a==="radius"?1:0,d=Te(n.dimensions,function(g){return e.mapDimension(g)}),h=!1,f=e.getCalculationInfo("stackResultDimension");return bh(e,d[0])&&(h=!0,d[0]=f),bh(e,d[1])&&(h=!0,d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:a,baseAxisDim:s,stacked:!!h,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Yit(n,e){var t=0,i=n.scale.getExtent();return e==="start"?t=i[0]:e==="end"?t=i[1]:Jt(e)&&!isNaN(e)?t=e:i[0]>0?t=i[0]:i[1]<0&&(t=i[1]),t}function mge(n,e,t,i){var r=NaN;n.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=n.valueStart);var o=n.baseDataOffset,s=[];return s[o]=t.get(n.baseDim,i),s[1-o]=r,e.dataToPoint(s)}function Xit(n,e){var t=[];return e.diff(n).add(function(i){t.push({cmd:"+",idx:i})}).update(function(i,r){t.push({cmd:"=",idx:r,idx1:i})}).remove(function(i){t.push({cmd:"-",idx:i})}).execute(),t}function Zit(n,e,t,i,r,o,s,a){for(var l=Xit(n,e),u=[],c=[],d=[],h=[],f=[],g=[],p=[],m=pge(r,e,s),v=n.getLayout("points")||[],y=e.getLayout("points")||[],_=0;_<l.length;_++){var b=l[_],S=!0,w=void 0,C=void 0;switch(b.cmd){case"=":w=b.idx*2,C=b.idx1*2;var x=v[w],L=v[w+1],T=y[C],I=y[C+1];(isNaN(x)||isNaN(L))&&(x=T,L=I),u.push(x,L),c.push(T,I),d.push(t[w],t[w+1]),h.push(i[C],i[C+1]),p.push(e.getRawIndex(b.idx1));break;case"+":var D=b.idx,M=m.dataDimsForPoint,P=r.dataToPoint([e.get(M[0],D),e.get(M[1],D)]);C=D*2,u.push(P[0],P[1]),c.push(y[C],y[C+1]);var k=mge(m,r,e,D);d.push(k[0],k[1]),h.push(i[C],i[C+1]),p.push(e.getRawIndex(D));break;case"-":S=!1}S&&(f.push(b),g.push(g.length))}g.sort(function(ce,q){return p[ce]-p[q]});for(var O=u.length,F=Yl(O),R=Yl(O),$=Yl(O),H=Yl(O),U=[],_=0;_<g.length;_++){var z=g[_],Z=_*2,X=z*2;F[Z]=u[X],F[Z+1]=u[X+1],R[Z]=c[X],R[Z+1]=c[X+1],$[Z]=d[X],$[Z+1]=d[X+1],H[Z]=h[X],H[Z+1]=h[X+1],U[_]=f[z]}return{current:F,next:R,stackedOnCurrent:$,stackedOnNext:H,status:U}}var cd=Math.min,dd=Math.max;function Lg(n,e){return isNaN(n)||isNaN(e)}function RB(n,e,t,i,r,o,s,a,l){for(var u,c,d,h,f,g,p=t,m=0;m<i;m++){var v=e[p*2],y=e[p*2+1];if(p>=r||p<0)break;if(Lg(v,y)){if(l){p+=o;continue}break}if(p===t)n[o>0?"moveTo":"lineTo"](v,y),d=v,h=y;else{var _=v-u,b=y-c;if(_*_+b*b<.5){p+=o;continue}if(s>0){for(var S=p+o,w=e[S*2],C=e[S*2+1];w===v&&C===y&&m<i;)m++,S+=o,p+=o,w=e[S*2],C=e[S*2+1],v=e[p*2],y=e[p*2+1],_=v-u,b=y-c;var x=m+1;if(l)for(;Lg(w,C)&&x<i;)x++,S+=o,w=e[S*2],C=e[S*2+1];var L=.5,T=0,I=0,D=void 0,M=void 0;if(x>=i||Lg(w,C))f=v,g=y;else{T=w-u,I=C-c;var P=v-u,k=w-v,O=y-c,F=C-y,R=void 0,$=void 0;if(a==="x"){R=Math.abs(P),$=Math.abs(k);var H=T>0?1:-1;f=v-H*R*s,g=y,D=v+H*$*s,M=y}else if(a==="y"){R=Math.abs(O),$=Math.abs(F);var U=I>0?1:-1;f=v,g=y-U*R*s,D=v,M=y+U*$*s}else R=Math.sqrt(P*P+O*O),$=Math.sqrt(k*k+F*F),L=$/($+R),f=v-T*s*(1-L),g=y-I*s*(1-L),D=v+T*s*L,M=y+I*s*L,D=cd(D,dd(w,v)),M=cd(M,dd(C,y)),D=dd(D,cd(w,v)),M=dd(M,cd(C,y)),T=D-v,I=M-y,f=v-T*R/$,g=y-I*R/$,f=cd(f,dd(u,v)),g=cd(g,dd(c,y)),f=dd(f,cd(u,v)),g=dd(g,cd(c,y)),T=v-f,I=y-g,D=v+T*$/R,M=y+I*$/R}n.bezierCurveTo(d,h,f,g,v,y),d=D,h=M}else n.lineTo(v,y)}u=v,c=y,p+=o}return m}var vge=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),Qit=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-polyline",i}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new vge},e.prototype.buildPath=function(t,i){var r=i.points,o=0,s=r.length/2;if(i.connectNulls){for(;s>0&&Lg(r[s*2-2],r[s*2-1]);s--);for(;o<s&&Lg(r[o*2],r[o*2+1]);o++);}for(;o<s;)o+=RB(t,r,o,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(t,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path,o=r.data,s=pu.CMD,a,l,u=i==="x",c=[],d=0;d<o.length;){var h=o[d++],f=void 0,g=void 0,p=void 0,m=void 0,v=void 0,y=void 0,_=void 0;switch(h){case s.M:a=o[d++],l=o[d++];break;case s.L:if(f=o[d++],g=o[d++],_=u?(t-a)/(f-a):(t-l)/(g-l),_<=1&&_>=0){var b=u?(g-l)*_+l:(f-a)*_+a;return u?[t,b]:[b,t]}a=f,l=g;break;case s.C:f=o[d++],g=o[d++],p=o[d++],m=o[d++],v=o[d++],y=o[d++];var S=u?vI(a,f,p,v,t,c):vI(l,g,m,y,t,c);if(S>0)for(var w=0;w<S;w++){var C=c[w];if(C<=1&&C>=0){var b=u?hr(l,g,m,y,C):hr(a,f,p,v,C);return u?[t,b]:[b,t]}}a=v,l=y;break}}},e}(It),Jit=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(vge),yge=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-polygon",i}return e.prototype.getDefaultShape=function(){return new Jit},e.prototype.buildPath=function(t,i){var r=i.points,o=i.stackedOnPoints,s=0,a=r.length/2,l=i.smoothMonotone;if(i.connectNulls){for(;a>0&&Lg(r[a*2-2],r[a*2-1]);a--);for(;s<a&&Lg(r[s*2],r[s*2+1]);s++);}for(;s<a;){var u=RB(t,r,s,a,a,1,i.smooth,l,i.connectNulls);RB(t,o,s+u-1,u,a,-1,i.stackedOnSmooth,l,i.connectNulls),s+=u+1,t.closePath()}},e}(It);function _ge(n,e,t,i,r){var o=n.getArea(),s=o.x,a=o.y,l=o.width,u=o.height,c=t.get(["lineStyle","width"])||2;s-=c/2,a-=c/2,l+=c,u+=c,s=Math.floor(s),l=Math.round(l);var d=new Gt({shape:{x:s,y:a,width:l,height:u}});if(e){var h=n.getBaseAxis(),f=h.isHorizontal(),g=h.inverse;f?(g&&(d.shape.x+=l),d.shape.width=0):(g||(d.shape.y+=u),d.shape.height=0);var p=qe(r)?function(m){r(m,d)}:null;Qn(d,{shape:{width:l,height:u,x:s,y:a}},t,null,i,p)}return d}function bge(n,e,t){var i=n.getArea(),r=bi(i.r0,1),o=bi(i.r,1),s=new Xo({shape:{cx:bi(n.cx,1),cy:bi(n.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var a=n.getBaseAxis().dim==="angle";a?s.shape.endAngle=i.startAngle:s.shape.r=r,Qn(s,{shape:{endAngle:i.endAngle,r:o}},t)}return s}function EM(n,e,t,i,r){if(n){if(n.type==="polar")return bge(n,e,t);if(n.type==="cartesian2d")return _ge(n,e,t,i,r)}else return null;return null}function Ep(n,e){return n.type===e}function CX(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return;return!0}}function xX(n){for(var e=1/0,t=1/0,i=-1/0,r=-1/0,o=0;o<n.length;){var s=n[o++],a=n[o++];isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i)),isNaN(a)||(t=Math.min(a,t),r=Math.max(a,r))}return[[e,t],[i,r]]}function LX(n,e){var t=xX(n),i=t[0],r=t[1],o=xX(e),s=o[0],a=o[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]))}function TX(n){return Jt(n)?n:n?.5:0}function ert(n,e,t){if(!t.valueDim)return[];for(var i=e.count(),r=Yl(i*2),o=0;o<i;o++){var s=mge(t,n,e,o);r[o*2]=s[0],r[o*2+1]=s[1]}return r}function hd(n,e,t,i){var r=e.getBaseAxis(),o=r.dim==="x"||r.dim==="radius"?0:1,s=[],a=0,l=[],u=[],c=[],d=[];if(i){for(a=0;a<n.length;a+=2)!isNaN(n[a])&&!isNaN(n[a+1])&&d.push(n[a],n[a+1]);n=d}for(a=0;a<n.length-2;a+=2)switch(c[0]=n[a+2],c[1]=n[a+3],u[0]=n[a],u[1]=n[a+1],s.push(u[0],u[1]),t){case"end":l[o]=c[o],l[1-o]=u[1-o],s.push(l[0],l[1]);break;case"middle":var h=(u[o]+c[o])/2,f=[];l[o]=f[o]=h,l[1-o]=u[1-o],f[1-o]=c[1-o],s.push(l[0],l[1]),s.push(f[0],f[1]);break;default:l[o]=u[o],l[1-o]=c[1-o],s.push(l[0],l[1])}return s.push(n[a++],n[a++]),s}function trt(n,e){var t=[],i=n.length,r,o;function s(c,d,h){var f=c.coord,g=(h-f)/(d.coord-f),p=fYe(g,[c.color,d.color]);return{coord:h,color:p}}for(var a=0;a<i;a++){var l=n[a],u=l.coord;if(u<0)r=l;else if(u>e){o?t.push(s(o,l,e)):r&&t.push(s(r,l,0),s(r,l,e));break}else r&&(t.push(s(r,l,0)),r=null),t.push(l),o=l}return t}function nrt(n,e,t){var i=n.getVisual("visualMeta");if(!(!i||!i.length||!n.count())&&e.type==="cartesian2d"){for(var r,o,s=i.length-1;s>=0;s--){var a=n.getDimensionInfo(i[s].dimension);if(r=a&&a.coordDim,r==="x"||r==="y"){o=i[s];break}}if(o){var l=e.getAxis(r),u=Te(o.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,d=o.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var h=trt(u,r==="x"?t.getWidth():t.getHeight()),f=h.length;if(!f&&c)return u[0].coord<0?d[1]?d[1]:u[c-1].color:d[0]?d[0]:u[0].color;var g=10,p=h[0].coord-g,m=h[f-1].coord+g,v=m-p;if(v<.001)return"transparent";B(h,function(_){_.offset=(_.coord-p)/v}),h.push({offset:f?h[f-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:f?h[0].offset:.5,color:d[0]||"transparent"});var y=new Mw(0,0,0,0,h,!0);return y[r]=p,y[r+"2"]=m,y}}}function irt(n,e,t){var i=n.get("showAllSymbol"),r=i==="auto";if(!(i&&!r)){var o=t.getAxesByScale("ordinal")[0];if(o&&!(r&&rrt(o,e))){var s=e.mapDimension(o.dim),a={};return B(o.getViewLabels(),function(l){var u=o.scale.getRawOrdinalNumber(l.tickValue);a[u]=1}),function(l){return!a.hasOwnProperty(e.get(s,l))}}}}function rrt(n,e){var t=n.getExtent(),i=Math.abs(t[1]-t[0])/n.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),s=0;s<r;s+=o)if($w.getSymbolSize(e,s)[n.isHorizontal()?1:0]*1.5>i)return!1;return!0}function ort(n,e){return isNaN(n)||isNaN(e)}function srt(n){for(var e=n.length/2;e>0&&ort(n[e*2-2],n[e*2-1]);e--);return e-1}function IX(n,e){return[n[e*2],n[e*2+1]]}function art(n,e,t){for(var i=n.length/2,r=t==="x"?0:1,o,s,a=0,l=-1,u=0;u<i;u++)if(s=n[u*2+r],!(isNaN(s)||isNaN(n[u*2+1-r]))){if(u===0){o=s;continue}if(o<=e&&s>=e||o>=e&&s<=e){l=u;break}a=u,o=s}return{range:[a,l],t:(e-o)/(s-o)}}function Sge(n){if(n.get(["endLabel","show"]))return!0;for(var e=0;e<Lo.length;e++)if(n.get([Lo[e],"endLabel","show"]))return!0;return!1}function Tk(n,e,t,i){if(Ep(e,"cartesian2d")){var r=i.getModel("endLabel"),o=r.get("valueAnimation"),s=i.getData(),a={lastFrameIndex:0},l=Sge(i)?function(f,g){n._endLabelOnDuring(f,g,s,a,o,r,e)}:null,u=e.getBaseAxis().isHorizontal(),c=_ge(e,t,i,function(){var f=n._endLabel;f&&t&&a.originalX!=null&&f.attr({x:a.originalX,y:a.originalY})},l);if(!i.get("clip",!0)){var d=c.shape,h=Math.max(d.width,d.height);u?(d.y-=h,d.height+=h*2):(d.x-=h,d.width+=h*2)}return l&&l(1,c),c}else return bge(e,t,i)}function lrt(n,e){var t=e.getBaseAxis(),i=t.isHorizontal(),r=t.inverse,o=i?r?"right":"left":"center",s=i?"middle":r?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||s}}}var urt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(){var t=new st,i=new Vw;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=t},e.prototype.render=function(t,i,r){var o=this,s=t.coordinateSystem,a=this.group,l=t.getData(),u=t.getModel("lineStyle"),c=t.getModel("areaStyle"),d=l.getLayout("points")||[],h=s.type==="polar",f=this._coordSys,g=this._symbolDraw,p=this._polyline,m=this._polygon,v=this._lineGroup,y=!i.ssr&&t.isAnimationEnabled(),_=!c.isEmpty(),b=c.get("origin"),S=pge(s,l,b),w=_&&ert(s,l,S),C=t.get("showSymbol"),x=t.get("connectNulls"),L=C&&!h&&irt(t,l,s),T=this._data;T&&T.eachItemGraphicEl(function(q,j){q.__temp&&(a.remove(q),T.setItemGraphicEl(j,null))}),C||g.remove(),a.add(v);var I=h?!1:t.get("step"),D;s&&s.getArea&&t.get("clip",!0)&&(D=s.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var M=nrt(l,s,r)||l.getVisual("style")[l.getVisual("drawType")];if(!(p&&f.type===s.type&&I===this._step))C&&g.updateData(l,{isIgnore:L,clipShape:D,disableAnimation:!0,getSymbolPoint:function(q){return[d[q*2],d[q*2+1]]}}),y&&this._initSymbolLabelAnimation(l,s,D),I&&(d=hd(d,s,I,x),w&&(w=hd(w,s,I,x))),p=this._newPolyline(d),_?m=this._newPolygon(d,w):m&&(v.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(t,s,tp(M)),v.setClipPath(Tk(this,s,!0,t));else{_&&!m?m=this._newPolygon(d,w):m&&!_&&(v.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(t,s,tp(M));var P=v.getClipPath();if(P){var k=Tk(this,s,!1,t);Qn(P,{shape:k.shape},t)}else v.setClipPath(Tk(this,s,!0,t));C&&g.updateData(l,{isIgnore:L,clipShape:D,disableAnimation:!0,getSymbolPoint:function(q){return[d[q*2],d[q*2+1]]}}),(!CX(this._stackedOnPoints,w)||!CX(this._points,d))&&(y?this._doUpdateAnimation(l,w,s,r,I,b,x):(I&&(d=hd(d,s,I,x),w&&(w=hd(w,s,I,x))),p.setShape({points:d}),m&&m.setShape({points:d,stackedOnPoints:w})))}var O=t.getModel("emphasis"),F=O.get("focus"),R=O.get("blurScope"),$=O.get("disabled");if(p.useStyle(Qe(u.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"})),Vr(p,t,"lineStyle"),p.style.lineWidth>0&&t.get(["emphasis","lineStyle","width"])==="bolder"){var H=p.getState("emphasis").style;H.lineWidth=+p.style.lineWidth+1}ut(p).seriesIndex=t.seriesIndex,mi(p,F,R,$);var U=TX(t.get("smooth")),z=t.get("smoothMonotone");if(p.setShape({smooth:U,smoothMonotone:z,connectNulls:x}),m){var Z=l.getCalculationInfo("stackedOnSeries"),X=0;m.useStyle(Qe(c.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Z&&(X=TX(Z.get("smooth"))),m.setShape({smooth:U,stackedOnSmooth:X,smoothMonotone:z,connectNulls:x}),Vr(m,t,"areaStyle"),ut(m).seriesIndex=t.seriesIndex,mi(m,F,R,$)}var ce=function(q){o._changePolyState(q)};l.eachItemGraphicEl(function(q){q&&(q.onHoverStateChange=ce)}),this._polyline.onHoverStateChange=ce,this._data=l,this._coordSys=s,this._stackedOnPoints=w,this._points=d,this._step=I,this._valueOrigin=b,t.get("triggerLineEvent")&&(this.packEventData(t,p),m&&this.packEventData(t,m))},e.prototype.packEventData=function(t,i){ut(i).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},e.prototype.highlight=function(t,i,r,o){var s=t.getData(),a=Qg(s,o);if(this._changePolyState("emphasis"),!(a instanceof Array)&&a!=null&&a>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(a);if(!u){var c=l[a*2],d=l[a*2+1];if(isNaN(c)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,d))return;var h=t.get("zlevel")||0,f=t.get("z")||0;u=new $w(s,a),u.x=c,u.y=d,u.setZ(h,f);var g=u.getSymbolPath().getTextContent();g&&(g.zlevel=h,g.z=f,g.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(a,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else Un.prototype.highlight.call(this,t,i,r,o)},e.prototype.downplay=function(t,i,r,o){var s=t.getData(),a=Qg(s,o);if(this._changePolyState("normal"),a!=null&&a>=0){var l=s.getItemGraphicEl(a);l&&(l.__temp?(s.setItemGraphicEl(a,null),this.group.remove(l)):l.downplay())}else Un.prototype.downplay.call(this,t,i,r,o)},e.prototype._changePolyState=function(t){var i=this._polygon;LI(this._polyline,t),i&&LI(i,t)},e.prototype._newPolyline=function(t){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new Qit({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(t,i){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new yge({shape:{points:t,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},e.prototype._initSymbolLabelAnimation=function(t,i,r){var o,s,a=i.getBaseAxis(),l=a.inverse;i.type==="cartesian2d"?(o=a.isHorizontal(),s=!1):i.type==="polar"&&(o=a.dim==="angle",s=!0);var u=t.hostModel,c=u.get("animationDuration");qe(c)&&(c=c(null));var d=u.get("animationDelay")||0,h=qe(d)?d(null):d;t.eachItemGraphicEl(function(f,g){var p=f;if(p){var m=[f.x,f.y],v=void 0,y=void 0,_=void 0;if(r)if(s){var b=r,S=i.pointToCoord(m);o?(v=b.startAngle,y=b.endAngle,_=-S[1]/180*Math.PI):(v=b.r0,y=b.r,_=S[0])}else{var w=r;o?(v=w.x,y=w.x+w.width,_=f.x):(v=w.y+w.height,y=w.y,_=f.y)}var C=y===v?0:(_-v)/(y-v);l&&(C=1-C);var x=qe(d)?d(g):c*C+h,L=p.getSymbolPath(),T=L.getTextContent();p.attr({scaleX:0,scaleY:0}),p.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:x}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:x}),L.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(t,i,r){var o=t.getModel("endLabel");if(Sge(t)){var s=t.getData(),a=this._polyline,l=s.getLayout("points");if(!l){a.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Zt({z2:200}),u.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var c=srt(l);c>=0&&(Wr(a,yr(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:c,defaultText:function(d,h,f){return f!=null?gge(s,f):uy(s,d)},enableTextSetter:!0},lrt(o,i)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,i,r,o,s,a,l){var u=this._endLabel,c=this._polyline;if(u){t<1&&o.originalX==null&&(o.originalX=u.x,o.originalY=u.y);var d=r.getLayout("points"),h=r.hostModel,f=h.get("connectNulls"),g=a.get("precision"),p=a.get("distance")||0,m=l.getBaseAxis(),v=m.isHorizontal(),y=m.inverse,_=i.shape,b=y?v?_.x:_.y+_.height:v?_.x+_.width:_.y,S=(v?p:0)*(y?-1:1),w=(v?0:-p)*(y?-1:1),C=v?"x":"y",x=art(d,b,C),L=x.range,T=L[1]-L[0],I=void 0;if(T>=1){if(T>1&&!f){var D=IX(d,L[0]);u.attr({x:D[0]+S,y:D[1]+w}),s&&(I=h.getRawValue(L[0]))}else{var D=c.getPointOn(b,C);D&&u.attr({x:D[0]+S,y:D[1]+w});var M=h.getRawValue(L[0]),P=h.getRawValue(L[1]);s&&(I=Vce(r,g,M,P,x.t))}o.lastFrameIndex=L[0]}else{var k=t===1||o.lastFrameIndex>0?L[0]:0,D=IX(d,k);s&&(I=h.getRawValue(k)),u.attr({x:D[0]+S,y:D[1]+w})}if(s){var O=Wy(u);typeof O.setLabelText=="function"&&O.setLabelText(I)}}},e.prototype._doUpdateAnimation=function(t,i,r,o,s,a,l){var u=this._polyline,c=this._polygon,d=t.hostModel,h=Zit(this._data,t,this._stackedOnPoints,i,this._coordSys,r,this._valueOrigin),f=h.current,g=h.stackedOnCurrent,p=h.next,m=h.stackedOnNext;if(s&&(f=hd(h.current,r,s,l),g=hd(h.stackedOnCurrent,r,s,l),p=hd(h.next,r,s,l),m=hd(h.stackedOnNext,r,s,l)),LX(f,p)>3e3||c&&LX(g,m)>3e3){u.stopAnimation(),u.setShape({points:p}),c&&(c.stopAnimation(),c.setShape({points:p,stackedOnPoints:m}));return}u.shape.__points=h.current,u.shape.points=f;var v={shape:{points:p}};h.current!==f&&(v.shape.__points=h.next),u.stopAnimation(),rn(u,v,d),c&&(c.setShape({points:f,stackedOnPoints:g}),c.stopAnimation(),rn(c,{shape:{stackedOnPoints:m}},d),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var y=[],_=h.status,b=0;b<_.length;b++){var S=_[b].cmd;if(S==="="){var w=t.getItemGraphicEl(_[b].idx1);w&&y.push({el:w,ptIdx:b})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var C=u.shape.__points,x=0;x<y.length;x++){var L=y[x].el,T=y[x].ptIdx*2;L.x=C[T],L.y=C[T+1],L.markRedraw()}})},e.prototype.remove=function(t){var i=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(o,s){o.__temp&&(i.remove(o),r.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Un);const crt=urt;function Ww(n,e){return{seriesType:n,plan:jy(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,o=t.pipelineContext,s=e||o.large;if(r){var a=Te(r.dimensions,function(f){return i.mapDimension(f)}).slice(0,2),l=a.length,u=i.getCalculationInfo("stackResultDimension");bh(i,a[0])&&(a[0]=u),bh(i,a[1])&&(a[1]=u);var c=i.getStore(),d=i.getDimensionIndex(a[0]),h=i.getDimensionIndex(a[1]);return l&&{progress:function(f,g){for(var p=f.end-f.start,m=s&&Yl(p*l),v=[],y=[],_=f.start,b=0;_<f.end;_++){var S=void 0;if(l===1){var w=c.get(d,_);S=r.dataToPoint(w,null,y)}else v[0]=c.get(d,_),v[1]=c.get(h,_),S=r.dataToPoint(v,null,y);s?(m[b++]=S[0],m[b++]=S[1]):g.setItemLayout(_,S.slice())}s&&g.setLayout("points",m)}}}}}}var drt={average:function(n){for(var e=0,t=0,i=0;i<n.length;i++)isNaN(n[i])||(e+=n[i],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},hrt=function(n){return Math.round(n.length/2)};function wge(n){return{seriesType:n,reset:function(e,t,i){var r=e.getData(),o=e.get("sampling"),s=e.coordinateSystem,a=r.count();if(a>10&&s.type==="cartesian2d"&&o){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),d=i.getDevicePixelRatio(),h=Math.abs(c[1]-c[0])*(d||1),f=Math.round(a/h);if(isFinite(f)&&f>1){o==="lttb"&&e.setData(r.lttbDownSample(r.mapDimension(u.dim),1/f));var g=void 0;$e(o)?g=drt[o]:qe(o)&&(g=o),g&&e.setData(r.downSample(r.mapDimension(u.dim),1/f,g,hrt))}}}}}function frt(n){n.registerChartView(crt),n.registerSeriesModel(Git),n.registerLayout(Ww("line",!0)),n.registerVisual({seriesType:"line",reset:function(e){var t=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",i)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,wge("line"))}var Cge=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){return jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,i,r){var o=this.coordinateSystem;if(o&&o.clampData){var s=o.clampData(t),a=o.dataToPoint(s);if(r)B(o.getAxes(),function(h,f){if(h.type==="category"&&i!=null){var g=h.getTicksCoords(),p=s[f],m=i[f]==="x1"||i[f]==="y1";if(m&&(p+=1),g.length<2)return;if(g.length===2){a[f]=h.toGlobalCoord(h.getExtent()[m?1:0]);return}for(var v=void 0,y=void 0,_=1,b=0;b<g.length;b++){var S=g[b].coord,w=b===g.length-1?g[b-1].tickValue+_:g[b].tickValue;if(w===p){y=S;break}else if(w<p)v=S;else if(v!=null&&w>p){y=(S+v)/2;break}b===1&&(_=w-g[0].tickValue)}y==null&&(v?v&&(y=g[g.length-1].coord):y=g[0].coord),a[f]=h.toGlobalCoord(y)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;a[d]+=u+c/2}return a}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(ii);ii.registerClass(Cge);const UI=Cge;var grt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return jc(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>t&&(t=i),t},e.prototype.brushSelector=function(t,i,r){return r.rect(i.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Dh(UI.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(UI);const prt=grt;var mrt=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),vrt=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="sausage",i}return e.prototype.getDefaultShape=function(){return new mrt},e.prototype.buildPath=function(t,i){var r=i.cx,o=i.cy,s=Math.max(i.r0||0,0),a=Math.max(i.r,0),l=(a-s)*.5,u=s+l,c=i.startAngle,d=i.endAngle,h=i.clockwise,f=Math.PI*2,g=h?d-c<f:c-d<f;g||(c=d-(h?f:-f));var p=Math.cos(c),m=Math.sin(c),v=Math.cos(d),y=Math.sin(d);g?(t.moveTo(p*s+r,m*s+o),t.arc(p*u+r,m*u+o,l,-Math.PI+c,c,!h)):t.moveTo(p*a+r,m*a+o),t.arc(r,o,a,c,d,!h),t.arc(v*u+r,y*u+o,l,d-Math.PI*2,d-Math.PI,!h),s!==0&&t.arc(r,o,s,d,c,h)},e}(It);const GI=vrt;function yrt(n,e){e=e||{};var t=e.isRoundCap;return function(i,r,o){var s=r.position;if(!s||s instanceof Array)return wI(i,r,o);var a=n(s),l=r.distance!=null?r.distance:5,u=this.shape,c=u.cx,d=u.cy,h=u.r,f=u.r0,g=(h+f)/2,p=u.startAngle,m=u.endAngle,v=(p+m)/2,y=t?Math.abs(h-f)/2:0,_=Math.cos,b=Math.sin,S=c+h*_(p),w=d+h*b(p),C="left",x="top";switch(a){case"startArc":S=c+(f-l)*_(v),w=d+(f-l)*b(v),C="center",x="top";break;case"insideStartArc":S=c+(f+l)*_(v),w=d+(f+l)*b(v),C="center",x="bottom";break;case"startAngle":S=c+g*_(p)+UC(p,l+y,!1),w=d+g*b(p)+GC(p,l+y,!1),C="right",x="middle";break;case"insideStartAngle":S=c+g*_(p)+UC(p,-l+y,!1),w=d+g*b(p)+GC(p,-l+y,!1),C="left",x="middle";break;case"middle":S=c+g*_(v),w=d+g*b(v),C="center",x="middle";break;case"endArc":S=c+(h+l)*_(v),w=d+(h+l)*b(v),C="center",x="bottom";break;case"insideEndArc":S=c+(h-l)*_(v),w=d+(h-l)*b(v),C="center",x="top";break;case"endAngle":S=c+g*_(m)+UC(m,l+y,!0),w=d+g*b(m)+GC(m,l+y,!0),C="left",x="middle";break;case"insideEndAngle":S=c+g*_(m)+UC(m,-l+y,!0),w=d+g*b(m)+GC(m,-l+y,!0),C="right",x="middle";break;default:return wI(i,r,o)}return i=i||{},i.x=S,i.y=w,i.align=C,i.verticalAlign=x,i}}function _rt(n,e,t,i){if(Jt(i)){n.setTextConfig({rotation:i});return}else if(we(e)){n.setTextConfig({rotation:0});return}var r=n.shape,o=r.clockwise?r.startAngle:r.endAngle,s=r.clockwise?r.endAngle:r.startAngle,a=(o+s)/2,l,u=t(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=a;break;case"startAngle":case"insideStartAngle":l=o;break;case"endAngle":case"insideEndAngle":l=s;break;default:n.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),n.setTextConfig({rotation:c})}function UC(n,e,t){return e*Math.sin(n)*(t?-1:1)}function GC(n,e,t){return e*Math.cos(n)*(t?1:-1)}function rg(n,e,t){var i=n.get("borderRadius");if(i==null)return t?{cornerRadius:0}:null;we(i)||(i=[i,i,i,i]);var r=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Te(i,function(o){return al(o,r)})}}var Ik=Math.max,Dk=Math.min;function brt(n,e){var t=n.getArea&&n.getArea();if(Ep(n,"cartesian2d")){var i=n.getBaseAxis();if(i.type!=="category"||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(t.x-=r,t.width+=r*2):(t.y-=r,t.height+=r*2)}}return t}var Srt=function(n){re(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,i,r,o){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,i,r):this._renderNormal(t,i,r,o))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,i){this._progressiveEls=[],this._incrementalRenderLarge(t,i)},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t,i,r,o){var s=this.group,a=t.getData(),l=this._data,u=t.coordinateSystem,c=u.getBaseAxis(),d;u.type==="cartesian2d"?d=c.isHorizontal():u.type==="polar"&&(d=c.dim==="angle");var h=t.isAnimationEnabled()?t:null,f=wrt(t,u);f&&this._enableRealtimeSort(f,a,r);var g=t.get("clip",!0)||f,p=brt(u,a);s.removeClipPath();var m=t.get("roundCap",!0),v=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),_=y.get("borderRadius")||0,b=[],S=this._backgroundEls,w=o&&o.isInitSort,C=o&&o.type==="changeAxisOrder";function x(I){var D=KC[u.type](a,I),M=Ert(u,d,D);return M.useStyle(y.getItemStyle()),u.type==="cartesian2d"?M.setShape("r",_):M.setShape("cornerRadius",_),b[I]=M,M}a.diff(l).add(function(I){var D=a.getItemModel(I),M=KC[u.type](a,I,D);if(v&&x(I),!(!a.hasValue(I)||!NX[u.type](M))){var P=!1;g&&(P=DX[u.type](p,M));var k=EX[u.type](t,a,I,M,d,h,c.model,!1,m);f&&(k.forceLabelAnimation=!0),kX(k,a,I,D,M,t,d,u.type==="polar"),w?k.attr({shape:M}):f?MX(f,h,k,M,I,d,!1,!1):Qn(k,{shape:M},t,I),a.setItemGraphicEl(I,k),s.add(k),k.ignore=P}}).update(function(I,D){var M=a.getItemModel(I),P=KC[u.type](a,I,M);if(v){var k=void 0;S.length===0?k=x(D):(k=S[D],k.useStyle(y.getItemStyle()),u.type==="cartesian2d"?k.setShape("r",_):k.setShape("cornerRadius",_),b[I]=k);var O=KC[u.type](a,I),F=Lge(d,O,u);rn(k,{shape:F},h,I)}var R=l.getItemGraphicEl(D);if(!a.hasValue(I)||!NX[u.type](P)){s.remove(R);return}var $=!1;if(g&&($=DX[u.type](p,P),$&&s.remove(R)),R?ul(R):R=EX[u.type](t,a,I,P,d,h,c.model,!!R,m),f&&(R.forceLabelAnimation=!0),C){var H=R.getTextContent();if(H){var U=Wy(H);U.prevValue!=null&&(U.prevValue=U.value)}}else kX(R,a,I,M,P,t,d,u.type==="polar");w?R.attr({shape:P}):f?MX(f,h,R,P,I,d,!0,C):rn(R,{shape:P},t,I,null),a.setItemGraphicEl(I,R),R.ignore=$,s.add(R)}).remove(function(I){var D=l.getItemGraphicEl(I);D&&ES(D,t,I)}).execute();var L=this._backgroundGroup||(this._backgroundGroup=new st);L.removeAll();for(var T=0;T<b.length;++T)L.add(b[T]);s.add(L),this._backgroundEls=b,this._data=a},e.prototype._renderLarge=function(t,i,r){this._clear(),OX(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,i){this._removeBackground(),OX(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var i=t.get("clip",!0)&&EM(t.coordinateSystem,!1,t),r=this.group;i?r.setClipPath(i):r.removeClipPath()},e.prototype._enableRealtimeSort=function(t,i,r){var o=this;if(i.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,t,r),this._isFirstFrame=!1;else{var a=function(l){var u=i.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){o._updateSortWithinSameData(i,a,s,r)},r.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,i,r){var o=[];return t.each(t.mapDimension(i.dim),function(s,a){var l=r(a);l=l??NaN,o.push({dataIndex:a,mappedValue:l,ordinalNumber:s})}),o.sort(function(s,a){return a.mappedValue-s.mappedValue}),{ordinalNumbers:Te(o,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,i,r){for(var o=r.scale,s=t.mapDimension(r.dim),a=Number.MAX_VALUE,l=0,u=o.getOrdinalMeta().categories.length;l<u;++l){var c=t.rawIndexOf(s,o.getRawOrdinalNumber(l)),d=c<0?Number.MIN_VALUE:i(t.indexOfRawIndex(c));if(d>a)return!0;a=d}return!1},e.prototype._isOrderDifferentInView=function(t,i){for(var r=i.scale,o=r.getExtent(),s=Math.max(0,o[0]),a=Math.min(o[1],r.getOrdinalMeta().categories.length-1);s<=a;++s)if(t.ordinalNumbers[s]!==r.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,i,r,o){if(this._isOrderChangedWithinSameData(t,i,r)){var s=this._dataSort(t,r,i);this._isOrderDifferentInView(s,r)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,i,r){var o=i.baseAxis,s=this._dataSort(t,o,function(a){return t.get(t.mapDimension(i.otherAxis.dim),a)});r.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:s})},e.prototype.remove=function(t,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(t,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var i=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(o){ES(o,t,ut(o).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Un),DX={cartesian2d:function(n,e){var t=e.width<0?-1:1,i=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=n.x+n.width,o=n.y+n.height,s=Ik(e.x,n.x),a=Dk(e.x+e.width,r),l=Ik(e.y,n.y),u=Dk(e.y+e.height,o),c=a<s,d=u<l;return e.x=c&&s>r?a:s,e.y=d&&l>o?u:l,e.width=c?0:a-s,e.height=d?0:u-l,t<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),c||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}var r=Dk(e.r,n.r),o=Ik(e.r0,n.r0);e.r=r,e.r0=o;var s=r-o<0;if(t<0){var i=e.r;e.r=e.r0,e.r0=i}return s}},EX={cartesian2d:function(n,e,t,i,r,o,s,a,l){var u=new Gt({shape:be({},i),z2:1});if(u.__dataIndex=t,u.name="item",o){var c=u.shape,d=r?"height":"width";c[d]=0}return u},polar:function(n,e,t,i,r,o,s,a,l){var u=!r&&l?GI:Xo,c=new u({shape:i,z2:1});c.name="item";var d=xge(r);if(c.calculateTextPosition=yrt(d,{isRoundCap:u===GI}),o){var h=c.shape,f=r?"r":"endAngle",g={};h[f]=r?i.r0:i.startAngle,g[f]=i[f],(a?rn:Qn)(c,{shape:g},o)}return c}};function wrt(n,e){var t=n.get("realtimeSort",!0),i=e.getBaseAxis();if(t&&i.type==="category"&&e.type==="cartesian2d")return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}function MX(n,e,t,i,r,o,s,a){var l,u;o?(u={x:i.x,width:i.width},l={y:i.y,height:i.height}):(u={y:i.y,height:i.height},l={x:i.x,width:i.width}),a||(s?rn:Qn)(t,{shape:l},e,r,null);var c=e?n.baseAxis.model:null;(s?rn:Qn)(t,{shape:u},c,r)}function AX(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var Crt=["x","y","width","height"],xrt=["cx","cy","r","startAngle","endAngle"],NX={cartesian2d:function(n){return!AX(n,Crt)},polar:function(n){return!AX(n,xrt)}},KC={cartesian2d:function(n,e,t){var i=n.getItemLayout(e),r=t?Trt(t,i):0,o=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+s*r/2,width:i.width-o*r,height:i.height-s*r}},polar:function(n,e,t){var i=n.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function Lrt(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function xge(n){return function(e){var t=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+t;default:return i}}}(n)}function kX(n,e,t,i,r,o,s,a){var l=e.getItemVisual(t,"style");if(a){if(!o.get("roundCap")){var c=n.shape,d=rg(i.getModel("itemStyle"),c,!0);be(c,d),n.setShape(c)}}else{var u=i.get(["itemStyle","borderRadius"])||0;n.setShape("r",u)}n.useStyle(l);var h=i.getShallow("cursor");h&&n.attr("cursor",h);var f=a?s?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":s?r.height>=0?"bottom":"top":r.width>=0?"right":"left",g=yr(i);Wr(n,g,{labelFetcher:o,labelDataIndex:t,defaultText:uy(o.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:f});var p=n.getTextContent();if(a&&p){var m=i.get(["label","position"]);n.textConfig.inside=m==="middle"?!0:null,_rt(n,m==="outside"?f:m,xge(s),i.get(["label","rotate"]))}Fde(p,g,o.getRawValue(t),function(y){return gge(e,y)});var v=i.getModel(["emphasis"]);mi(n,v.get("focus"),v.get("blurScope"),v.get("disabled")),Vr(n,i),Lrt(r)&&(n.style.fill="none",n.style.stroke="none",B(n.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function Trt(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var i=n.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}var Irt=function(){function n(){}return n}(),PX=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="largeBar",i}return e.prototype.getDefaultShape=function(){return new Irt},e.prototype.buildPath=function(t,i){for(var r=i.points,o=this.baseDimIdx,s=1-this.baseDimIdx,a=[],l=[],u=this.barWidth,c=0;c<r.length;c+=3)l[o]=u,l[s]=r[c+2],a[o]=r[c+o],a[s]=r[c+s],t.rect(a[0],a[1],l[0],l[1])},e}(It);function OX(n,e,t,i){var r=n.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,s=r.getLayout("largeDataIndices"),a=r.getLayout("size"),l=n.getModel("backgroundStyle"),u=r.getLayout("largeBackgroundPoints");if(u){var c=new PX({shape:{points:u},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=o,c.largeDataIndices=s,c.barWidth=a,c.useStyle(l.getItemStyle()),e.add(c),t&&t.push(c)}var d=new PX({shape:{points:r.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=s,d.barWidth=a,e.add(d),d.useStyle(r.getVisual("style")),ut(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",RX),d.on("mousemove",RX)),t&&t.push(d)}var RX=az(function(n){var e=this,t=Drt(e,n.offsetX,n.offsetY);ut(e).dataIndex=t>=0?t:null},30,!1);function Drt(n,e,t){for(var i=n.baseDimIdx,r=1-i,o=n.shape.points,s=n.largeDataIndices,a=[],l=[],u=n.barWidth,c=0,d=o.length/3;c<d;c++){var h=c*3;if(l[i]=u,l[r]=o[h+2],a[i]=o[h+i],a[r]=o[h+r],l[r]<0&&(a[r]+=l[r],l[r]=-l[r]),e>=a[0]&&e<=a[0]+l[0]&&t>=a[1]&&t<=a[1]+l[1])return s[c]}return-1}function Lge(n,e,t){if(Ep(t,"cartesian2d")){var i=e,r=t.getArea();return{x:n?i.x:r.x,y:n?r.y:i.y,width:n?i.width:r.width,height:n?r.height:i.height}}else{var r=t.getArea(),o=e;return{cx:r.cx,cy:r.cy,r0:n?r.r0:o.r0,r:n?r.r:o.r,startAngle:n?o.startAngle:0,endAngle:n?o.endAngle:Math.PI*2}}}function Ert(n,e,t){var i=n.type==="polar"?Xo:Gt;return new i({shape:Lge(e,t,n),silent:!0,z2:0})}const Mrt=Srt;function Art(n){n.registerChartView(Mrt),n.registerSeriesModel(prt),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,dt(Efe,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Mfe("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,wge("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(r){e.sortInfo&&r.axis.setCategorySortInfo(e.sortInfo)})})}var jC=Math.PI*2,BX=Math.PI/180;function Tge(n,e){return tr(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ige(n,e){var t=Tge(n,e),i=n.get("center"),r=n.get("radius");we(r)||(r=[0,r]);var o=Fe(t.width,e.getWidth()),s=Fe(t.height,e.getHeight()),a=Math.min(o,s),l=Fe(r[0],a/2),u=Fe(r[1],a/2),c,d,h=n.coordinateSystem;if(h){var f=h.dataToPoint(i);c=f[0]||0,d=f[1]||0}else we(i)||(i=[i,i]),c=Fe(i[0],o)+t.x,d=Fe(i[1],s)+t.y;return{cx:c,cy:d,r0:l,r:u}}function Nrt(n,e,t){e.eachSeriesByType(n,function(i){var r=i.getData(),o=r.mapDimension("value"),s=Tge(i,t),a=Ige(i,t),l=a.cx,u=a.cy,c=a.r,d=a.r0,h=-i.get("startAngle")*BX,f=i.get("minAngle")*BX,g=0;r.each(o,function(T){!isNaN(T)&&g++});var p=r.getSum(o),m=Math.PI/(p||g)*2,v=i.get("clockwise"),y=i.get("roseType"),_=i.get("stillShowZeroSum"),b=r.getDataExtent(o);b[0]=0;var S=jC,w=0,C=h,x=v?1:-1;if(r.setLayout({viewRect:s,r:c}),r.each(o,function(T,I){var D;if(isNaN(T)){r.setItemLayout(I,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:l,cy:u,r0:d,r:y?NaN:c});return}y!=="area"?D=p===0&&_?m:T*m:D=jC/g,D<f?(D=f,S-=f):w+=T;var M=C+x*D;r.setItemLayout(I,{angle:D,startAngle:C,endAngle:M,clockwise:v,cx:l,cy:u,r0:d,r:y?yn(T,b,[d,c]):c}),C=M}),S<jC&&g)if(S<=.001){var L=jC/g;r.each(o,function(T,I){if(!isNaN(T)){var D=r.getItemLayout(I);D.angle=L,D.startAngle=h+x*I*L,D.endAngle=h+x*(I+1)*L}})}else m=S/w,C=h,r.each(o,function(T,I){if(!isNaN(T)){var D=r.getItemLayout(I),M=D.angle===f?f:T*m;D.startAngle=C,D.endAngle=C+x*M,C+=x*M}})})}function zw(n){return{seriesType:n,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(!(!i||!i.length)){var r=e.getData();r.filterSelf(function(o){for(var s=r.getName(o),a=0;a<i.length;a++)if(!i[a].isSelected(s))return!1;return!0})}}}}var krt=Math.PI/180;function FX(n,e,t,i,r,o,s,a,l,u){if(n.length<2)return;function c(p){for(var m=p.rB,v=m*m,y=0;y<p.list.length;y++){var _=p.list[y],b=Math.abs(_.label.y-t),S=i+_.len,w=S*S,C=Math.sqrt((1-Math.abs(b*b/v))*w),x=e+(C+_.len2)*r,L=x-_.label.x,T=_.targetTextWidth-L*r;Dge(_,T,!0),_.label.x=x}}function d(p){for(var m={list:[],maxY:0},v={list:[],maxY:0},y=0;y<p.length;y++)if(p[y].labelAlignTo==="none"){var _=p[y],b=_.label.y>t?v:m,S=Math.abs(_.label.y-t);if(S>=b.maxY){var w=_.label.x-e-_.len2*r,C=i+_.len,x=Math.abs(w)<C?Math.sqrt(S*S/(1-w*w/C/C)):C;b.rB=x,b.maxY=S}b.list.push(_)}c(m),c(v)}for(var h=n.length,f=0;f<h;f++)if(n[f].position==="outer"&&n[f].labelAlignTo==="labelLine"){var g=n[f].label.x-u;n[f].linePoints[1][0]+=g,n[f].label.x=u}Qfe(n,l,l+s)&&d(n)}function Prt(n,e,t,i,r,o,s,a){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<n.length;h++){var f=n[h].label;Ek(n[h])||(f.x<e?(c=Math.min(c,f.x),l.push(n[h])):(d=Math.max(d,f.x),u.push(n[h])))}for(var h=0;h<n.length;h++){var g=n[h];if(!Ek(g)&&g.linePoints){if(g.labelStyleWidth!=null)continue;var f=g.label,p=g.linePoints,m=void 0;g.labelAlignTo==="edge"?f.x<e?m=p[2][0]-g.labelDistance-s-g.edgeDistance:m=s+r-g.edgeDistance-p[2][0]-g.labelDistance:g.labelAlignTo==="labelLine"?f.x<e?m=c-s-g.bleedMargin:m=s+r-d-g.bleedMargin:f.x<e?m=f.x-s-g.bleedMargin:m=s+r-f.x-g.bleedMargin,g.targetTextWidth=m,Dge(g,m)}}FX(u,e,t,i,1,r,o,s,a,d),FX(l,e,t,i,-1,r,o,s,a,c);for(var h=0;h<n.length;h++){var g=n[h];if(!Ek(g)&&g.linePoints){var f=g.label,p=g.linePoints,v=g.labelAlignTo==="edge",y=f.style.padding,_=y?y[1]+y[3]:0,b=f.style.backgroundColor?0:_,S=g.rect.width+b,w=p[1][0]-p[2][0];v?f.x<e?p[2][0]=s+g.edgeDistance+S+g.labelDistance:p[2][0]=s+r-g.edgeDistance-S-g.labelDistance:(f.x<e?p[2][0]=f.x+g.labelDistance:p[2][0]=f.x-g.labelDistance,p[1][0]=p[2][0]+w),p[1][1]=p[2][1]=f.y}}}function Dge(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var i=n.label,r=i.style,o=n.rect,s=r.backgroundColor,a=r.padding,l=a?a[1]+a[3]:0,u=r.overflow,c=o.width+(s?0:l);if(e<c||t){var d=o.height;if(u&&u.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-l);var h=i.getBoundingRect();i.setStyle("width",Math.ceil(h.width)),i.setStyle("backgroundColor",s)}else{var f=e-l,g=e<c?f:t?f>n.unconstrainedWidth?null:f:null;i.setStyle("width",g)}var p=i.getBoundingRect();o.width=p.width;var m=(i.style.margin||0)+2.1;o.height=p.height+m,o.y-=(o.height-d)/2}}}function Ek(n){return n.position==="center"}function Ort(n){var e=n.getData(),t=[],i,r,o=!1,s=(n.get("minShowLabelAngle")||0)*krt,a=e.getLayout("viewRect"),l=e.getLayout("r"),u=a.width,c=a.x,d=a.y,h=a.height;function f(w){w.ignore=!0}function g(w){if(!w.ignore)return!0;for(var C in w.states)if(w.states[C].ignore===!1)return!0;return!1}e.each(function(w){var C=e.getItemGraphicEl(w),x=C.shape,L=C.getTextContent(),T=C.getTextGuideLine(),I=e.getItemModel(w),D=I.getModel("label"),M=D.get("position")||I.get(["emphasis","label","position"]),P=D.get("distanceToLabelLine"),k=D.get("alignTo"),O=Fe(D.get("edgeDistance"),u),F=D.get("bleedMargin"),R=I.getModel("labelLine"),$=R.get("length");$=Fe($,u);var H=R.get("length2");if(H=Fe(H,u),Math.abs(x.endAngle-x.startAngle)<s){B(L.states,f),L.ignore=!0,T&&(B(T.states,f),T.ignore=!0);return}if(g(L)){var U=(x.startAngle+x.endAngle)/2,z=Math.cos(U),Z=Math.sin(U),X,ce,q,j;i=x.cx,r=x.cy;var ie=M==="inside"||M==="inner";if(M==="center")X=x.cx,ce=x.cy,j="center";else{var Q=(ie?(x.r+x.r0)/2*z:x.r*z)+i,le=(ie?(x.r+x.r0)/2*Z:x.r*Z)+r;if(X=Q+z*3,ce=le+Z*3,!ie){var ue=Q+z*($+l-x.r),W=le+Z*($+l-x.r),G=ue+(z<0?-1:1)*H,K=W;k==="edge"?X=z<0?c+O:c+u-O:X=G+(z<0?-P:P),ce=K,q=[[Q,le],[ue,W],[G,K]]}j=ie?"center":k==="edge"?z>0?"right":"left":z>0?"left":"right"}var de=Math.PI,Y=0,oe=D.get("rotate");if(Jt(oe))Y=oe*(de/180);else if(M==="center")Y=0;else if(oe==="radial"||oe===!0){var te=z<0?-U+de:-U;Y=te}else if(oe==="tangential"&&M!=="outside"&&M!=="outer"){var J=Math.atan2(z,Z);J<0&&(J=de*2+J);var he=Z>0;he&&(J=de+J),Y=J-de}if(o=!!Y,L.x=X,L.y=ce,L.rotation=Y,L.setStyle({verticalAlign:"middle"}),ie){L.setStyle({align:j});var Ae=L.states.select;Ae&&(Ae.x+=L.x,Ae.y+=L.y)}else{var pe=L.getBoundingRect().clone();pe.applyTransform(L.getComputedTransform());var Ce=(L.style.margin||0)+2.1;pe.y-=Ce/2,pe.height+=Ce,t.push({label:L,labelLine:T,position:M,len:$,len2:H,minTurnAngle:R.get("minTurnAngle"),maxSurfaceAngle:R.get("maxSurfaceAngle"),surfaceNormal:new ft(z,Z),linePoints:q,textAlign:j,labelDistance:P,labelAlignTo:k,edgeDistance:O,bleedMargin:F,rect:pe,unconstrainedWidth:pe.width,labelStyleWidth:L.style.width})}C.setTextConfig({inside:ie})}}),!o&&n.get("avoidLabelOverlap")&&Prt(t,i,r,l,u,h,c,d);for(var p=0;p<t.length;p++){var m=t[p],v=m.label,y=m.labelLine,_=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:m.textAlign}),_&&(B(v.states,f),v.ignore=!0);var b=v.states.select;b&&(b.x+=v.x,b.y+=v.y)}if(y){var S=m.linePoints;_||!S?(B(y.states,f),y.ignore=!0):(Yfe(S,m.minTurnAngle),qnt(S,m.surfaceNormal,m.maxSurfaceAngle),y.setShape({points:S}),v.__hostTarget.textGuideLineConfig={anchor:new ft(S[0][0],S[0][1])})}}}var Rrt=function(n){re(e,n);function e(t,i,r){var o=n.call(this)||this;o.z2=2;var s=new Zt;return o.setTextContent(s),o.updateData(t,i,r,!0),o}return e.prototype.updateData=function(t,i,r,o){var s=this,a=t.hostModel,l=t.getItemModel(i),u=l.getModel("emphasis"),c=t.getItemLayout(i),d=be(rg(l.getModel("itemStyle"),c,!0),c);if(isNaN(d.startAngle)){s.setShape(d);return}if(o){s.setShape(d);var h=a.getShallow("animationType");a.ecModel.ssr?(Qn(s,{scaleX:0,scaleY:0},a,{dataIndex:i,isFrom:!0}),s.originX=d.cx,s.originY=d.cy):h==="scale"?(s.shape.r=c.r0,Qn(s,{shape:{r:c.r}},a,i)):r!=null?(s.setShape({startAngle:r,endAngle:r}),Qn(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},a,i)):(s.shape.endAngle=c.startAngle,rn(s,{shape:{endAngle:c.endAngle}},a,i))}else ul(s),rn(s,{shape:d},a,i);s.useStyle(t.getItemVisual(i,"style")),Vr(s,l);var f=(c.startAngle+c.endAngle)/2,g=a.get("selectedOffset"),p=Math.cos(f)*g,m=Math.sin(f)*g,v=l.getShallow("cursor");v&&s.attr("cursor",v),this._updateLabel(a,t,i),s.ensureState("emphasis").shape=be({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},rg(u.getModel("itemStyle"),c)),be(s.ensureState("select"),{x:p,y:m,shape:rg(l.getModel(["select","itemStyle"]),c)}),be(s.ensureState("blur"),{shape:rg(l.getModel(["blur","itemStyle"]),c)});var y=s.getTextGuideLine(),_=s.getTextContent();y&&be(y.ensureState("select"),{x:p,y:m}),be(_.ensureState("select"),{x:p,y:m}),mi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,i,r){var o=this,s=i.getItemModel(r),a=s.getModel("labelLine"),l=i.getItemVisual(r,"style"),u=l&&l.fill,c=l&&l.opacity;Wr(o,yr(s),{labelFetcher:i.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:c,defaultText:t.getFormattedLabel(r,"normal")||i.getName(r)});var d=o.getTextContent();o.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var h=t.get(["label","position"]);if(h!=="outside"&&h!=="outer")o.removeTextGuideLine();else{var f=this.getTextGuideLine();f||(f=new ts,this.setTextGuideLine(f)),Sz(this,wz(s),{stroke:u,opacity:eu(a.get(["lineStyle","opacity"]),c,1)})}},e}(Xo),Brt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,i,r,o){var s=t.getData(),a=this._data,l=this.group,u;if(!a&&s.count()>0){for(var c=s.getItemLayout(0),d=1;isNaN(c&&c.startAngle)&&d<s.count();++d)c=s.getItemLayout(d);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var h=new Xo({shape:Ige(t,r)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}s.diff(a).add(function(f){var g=new Rrt(s,f,u);s.setItemGraphicEl(f,g),l.add(g)}).update(function(f,g){var p=a.getItemGraphicEl(g);p.updateData(s,f,u),p.off("click"),l.add(p),s.setItemGraphicEl(f,p)}).remove(function(f){var g=a.getItemGraphicEl(f);ES(g,t,f)}).execute(),Ort(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,i){var r=i.getData(),o=r.getItemLayout(0);if(o){var s=t[0]-o.cx,a=t[1]-o.cy,l=Math.sqrt(s*s+a*a);return l<=o.r&&l>=o.r0}},e.type="pie",e}(Un);const Frt=Brt;function Xy(n,e,t){e=we(e)&&{coordDimensions:e}||be({encodeDefine:n.getEncode()},e);var i=n.getSource(),r=Rw(i,e).dimensions,o=new Co(r,n);return o.initData(i,t),o}var $rt=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var i=this._getDataWithEncodedVisual();return i.getItemVisual(e,t)},n}();const Hw=$rt;var Vrt=Kt(),Wrt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hw(We(this.getData,this),We(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Xy(this,{coordDimensions:["value"],encodeDefaulter:dt(ZW,this)})},e.prototype.getDataParams=function(t){var i=this.getData(),r=Vrt(i),o=r.seats;if(!o){var s=[];i.each(i.mapDimension("value"),function(l){s.push(l)}),o=r.seats=XYe(s,i.hostModel.get("percentPrecision"))}var a=n.prototype.getDataParams.call(this,t);return a.percent=o[t]||0,a.$vars.push("percent"),a},e.prototype._defaultLabelLine=function(t){Zg(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(ii);const zrt=Wrt;function Hrt(n){return{seriesType:n,reset:function(e,t){var i=e.getData();i.filterSelf(function(r){var o=i.mapDimension("value"),s=i.get(o,r);return!(Jt(s)&&!isNaN(s)&&s<0)})}}}function Urt(n){n.registerChartView(Frt),n.registerSeriesModel(zrt),Khe("pie",n.registerAction),n.registerLayout(dt(Nrt,"pie")),n.registerProcessor(zw("pie")),n.registerProcessor(Hrt("pie"))}var Grt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,i){return jc(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(ii);const Krt=Grt;var Ege=4,jrt=function(){function n(){}return n}(),qrt=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.getDefaultShape=function(){return new jrt},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(t,i){var r=i.points,o=i.size,s=this.symbolProxy,a=s.shape,l=t.getContext?t.getContext():t,u=l&&o[0]<Ege,c=this.softClipShape,d;if(u){this._ctx=l;return}for(this._ctx=null,d=this._off;d<r.length;){var h=r[d++],f=r[d++];isNaN(h)||isNaN(f)||c&&!c.contain(h,f)||(a.x=h-o[0]/2,a.y=f-o[1]/2,a.width=o[0],a.height=o[1],s.buildPath(t,a,!0))}this.incremental&&(this._off=d,this.notClear=!0)},e.prototype.afterBrush=function(){var t=this.shape,i=t.points,r=t.size,o=this._ctx,s=this.softClipShape,a;if(o){for(a=this._off;a<i.length;){var l=i[a++],u=i[a++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||o.fillRect(l-r[0]/2,u-r[1]/2,r[0],r[1])}this.incremental&&(this._off=a,this.notClear=!0)}},e.prototype.findDataIndex=function(t,i){for(var r=this.shape,o=r.points,s=r.size,a=Math.max(s[0],4),l=Math.max(s[1],4),u=o.length/2-1;u>=0;u--){var c=u*2,d=o[c]-a/2,h=o[c+1]-l/2;if(t>=d&&i>=h&&t<=d+a&&i<=h+l)return u}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();if(t=r[0],i=r[1],o.contain(t,i)){var s=this.hoverDataIdx=this.findDataIndex(t,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.points,o=i.size,s=o[0],a=o[1],l=1/0,u=1/0,c=-1/0,d=-1/0,h=0;h<r.length;){var f=r[h++],g=r[h++];l=Math.min(f,l),c=Math.max(f,c),u=Math.min(g,u),d=Math.max(g,d)}t=this._rect=new mt(l-s/2,u-a/2,c-l+s,d-u+a)}return t},e}(It),Yrt=function(){function n(){this.group=new st}return n.prototype.updateData=function(e,t){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,t)},n.prototype.updateLayout=function(e){var t=e.getLayout("points");this.group.eachChild(function(i){if(i.startIndex!=null){var r=(i.endIndex-i.startIndex)*2,o=i.startIndex*4*2;t=new Float32Array(t.buffer,o,r)}i.setShape("points",t),i.reset()})},n.prototype.incrementalPrepareUpdate=function(e){this._clear()},n.prototype.incrementalUpdate=function(e,t,i){var r=this._newAdded[0],o=t.getLayout("points"),s=r&&r.shape.points;if(s&&s.length<2e4){var a=s.length,l=new Float32Array(a+o.length);l.set(s),l.set(o,a),r.endIndex=e.end,r.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=e.start,u.endIndex=e.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,t,i)}},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new qrt({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;i=i||{};var o=t.getVisual("symbolSize");e.setShape("size",o instanceof Array?o:[o,o]),e.softClipShape=i.clipShape||null,e.symbolProxy=Wi(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<Ege;e.useStyle(r.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("style"),l=a&&a.fill;l&&e.setColor(l);var u=ut(e);u.seriesIndex=r.seriesIndex,e.on("mousemove",function(c){u.dataIndex=null;var d=e.hoverDataIdx;d>=0&&(u.dataIndex=d+(e.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const Xrt=Yrt;var Zrt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=t.getData(),s=this._updateSymbolDraw(o,t);s.updateData(o,{clipShape:this._getClipShape(t)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData(),s=this._updateSymbolDraw(o,t);s.incrementalPrepareUpdate(o),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._symbolDraw.incrementalUpdate(t,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=t.end===i.getData().count()},e.prototype.updateTransform=function(t,i,r){var o=t.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var s=Ww("").reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},e.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype._updateSymbolDraw=function(t,i){var r=this._symbolDraw,o=i.pipelineContext,s=o.large;return(!r||s!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=s?new Xrt:new Vw,this._isLargeDraw=s,this.group.removeAll()),this.group.add(r.group),r},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Un);const Qrt=Zrt;var Jrt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(qt);const eot=Jrt;var BB=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",$i).models[0]},e.type="cartesian2dAxis",e}(qt);Hi(BB,Fw);var Mge={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},tot=pt({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Mge),Iz=pt({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Mge),not=pt({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Iz),iot=Qe({logBase:10},Iz);const Age={category:tot,value:Iz,time:not,log:iot};var rot={value:1,category:1,time:1,log:1};function cy(n,e,t,i){B(rot,function(r,o){var s=pt(pt({},Age[o],!0),i,!0),a=function(l){re(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=e+"Axis."+o,c}return u.prototype.mergeDefaultAndTheme=function(c,d){var h=NS(this),f=h?Uy(c):{},g=d.getTheme();pt(c,g.get(o+"Axis")),pt(c,this.getDefaultOption()),c.type=$X(c),h&&_h(c,f,h)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=MB.createByAxisModel(this))},u.prototype.getCategories=function(c){var d=this.option;if(d.type==="category")return c?d.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=e+"Axis."+o,u.defaultOption=s,u}(t);n.registerComponentModel(a)}),n.registerSubTypeDefaulter(e+"Axis",$X)}function $X(n){return n.type||(n.data?"category":"value")}var oot=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return Te(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),xn(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}();const sot=oot;var FB=["x","y"];function VX(n){return n.type==="interval"||n.type==="time"}var aot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=FB,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!VX(t)||!VX(i))){var r=t.getExtent(),o=i.getExtent(),s=this.dataToPoint([r[0],o[0]]),a=this.dataToPoint([r[1],o[1]]),l=r[1]-r[0],u=o[1]-o[0];if(!(!l||!u)){var c=(a[0]-s[0])/l,d=(a[1]-s[1])/u,h=s[0]-r[0]*c,f=s[1]-o[0]*d,g=this._transform=[c,0,0,d,h,f];this._invTransform=Ry([],g)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var i=this.getAxis("x"),r=this.getAxis("y");return i.contain(i.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,i){var r=this.dataToPoint(t),o=this.dataToPoint(i),s=this.getArea(),a=new mt(r[0],r[1],o[0]-r[0],o[1]-r[1]);return s.intersect(a)},e.prototype.dataToPoint=function(t,i,r){r=r||[];var o=t[0],s=t[1];if(this._transform&&o!=null&&isFinite(o)&&s!=null&&isFinite(s))return Fr(r,t,this._transform);var a=this.getAxis("x"),l=this.getAxis("y");return r[0]=a.toGlobalCoord(a.dataToCoord(o,i)),r[1]=l.toGlobalCoord(l.dataToCoord(s,i)),r},e.prototype.clampData=function(t,i){var r=this.getAxis("x").scale,o=this.getAxis("y").scale,s=r.getExtent(),a=o.getExtent(),l=r.parse(t[0]),u=o.parse(t[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1])),i},e.prototype.pointToData=function(t,i){var r=[];if(this._invTransform)return Fr(r,t,this._invTransform);var o=this.getAxis("x"),s=this.getAxis("y");return r[0]=o.coordToData(o.toLocalCoord(t[0]),i),r[1]=s.coordToData(s.toLocalCoord(t[1]),i),r},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(t[0],t[1]),o=Math.min(i[0],i[1]),s=Math.max(t[0],t[1])-r,a=Math.max(i[0],i[1])-o;return new mt(r,o,s,a)},e}(sot),lot=function(n){re(e,n);function e(t,i,r,o,s){var a=n.call(this,t,i,r)||this;return a.index=0,a.type=o||"value",a.position=s||"bottom",a}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),t&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(t,i){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(fl);const uot=lot;function $B(n,e,t){t=t||{};var i=n.coordinateSystem,r=e.axis,o={},s=r.getAxesOnZeroOf()[0],a=r.position,l=s?"onZero":a,u=r.dim,c=i.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,g=u==="x"?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(s){var p=s.toGlobalCoord(s.dataToCoord(0));g[h.onZero]=Math.max(Math.min(p,g[1]),g[0])}o.position=[u==="y"?g[h[l]]:d[0],u==="x"?g[h[l]]:d[3]],o.rotation=Math.PI/2*(u==="x"?0:1);var m={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=m[a],o.labelOffset=s?g[h[a]]-g[h.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),Dr(t.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var v=e.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-v:v,o.z2=1,o}function WX(n){return n.get("coordinateSystem")==="cartesian2d"}function zX(n){var e={xAxisModel:null,yAxisModel:null};return B(e,function(t,i){var r=i.replace(/Model$/,""),o=n.getReferringComponents(r,$i).models[0];e[i]=o}),e}var Mk=Math.log;function Nge(n,e,t){var i=Sh.prototype,r=i.getTicks.call(t),o=i.getTicks.call(t,!0),s=r.length-1,a=i.getInterval.call(t),l=Bfe(n,e),u=l.extent,c=l.fixMin,d=l.fixMax;if(n.type==="log"){var h=Mk(n.base);u=[Mk(u[0])/h,Mk(u[1])/h]}n.setExtent(u[0],u[1]),n.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:d});var f=i.getExtent.call(n);c&&(u[0]=f[0]),d&&(u[1]=f[1]);var g=i.getInterval.call(n),p=u[0],m=u[1];if(c&&d)g=(m-p)/s;else if(c)for(m=u[0]+g*s;m<u[1]&&isFinite(m)&&isFinite(u[1]);)g=mk(g),m=u[0]+g*s;else if(d)for(p=u[1]-g*s;p>u[0]&&isFinite(p)&&isFinite(u[0]);)g=mk(g),p=u[1]-g*s;else{var v=n.getTicks().length-1;v>s&&(g=mk(g));var y=g*s;m=Math.ceil(u[1]/g)*g,p=bi(m-y),p<0&&u[0]>=0?(p=0,m=bi(y)):m>0&&u[1]<=0&&(m=0,p=-bi(y))}var _=(r[0].value-o[0].value)/a,b=(r[s].value-o[s].value)/a;i.setExtent.call(n,p+g*_,m+g*b),i.setInterval.call(n,g),(_||b)&&i.setNiceExtent.call(n,p+g,m-g)}var cot=function(){function n(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=FB,this._initCartesian(e,t,i),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model);function r(s){var a,l=Et(s),u=l.length;if(u){for(var c=[],d=u-1;d>=0;d--){var h=+l[d],f=s[h],g=f.model,p=f.scale;AB(p)&&g.get("alignTicks")&&g.get("interval")==null?c.push(f):(ly(p,g),AB(p)&&(a=f))}c.length&&(a||(a=c.pop(),ly(a.scale,a.model)),B(c,function(m){Nge(m.scale,m.model,a.scale)}))}}r(i.x),r(i.y);var o={};B(i.x,function(s){HX(i,"y",s,o)}),B(i.y,function(s){HX(i,"x",s,o)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,i){var r=e.getBoxLayoutParams(),o=!i&&e.get("containLabel"),s=tr(r,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var a=this._axesList;l(),o&&(B(a,function(u){if(!u.model.get(["axisLabel","inside"])){var c=xnt(u);if(c){var d=u.isHorizontal()?"height":"width",h=u.model.get(["axisLabel","margin"]);s[d]-=c[d]+h,u.position==="top"?s.y+=c.height+h:u.position==="left"&&(s.x+=c.width+h)}}}),l()),B(this._coordsList,function(u){u.calcAffineTransform()});function l(){B(a,function(u){var c=u.isHorizontal(),d=c?[0,s.width]:[0,s.height],h=u.inverse?1:0;u.setExtent(d[h],d[1-h]),dot(u,c?s.x:s.y)})}},n.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(i!=null)return i[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var i="x"+e+"y"+t;return this._coordsMap[i]}et(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,o=this._coordsList;r<o.length;r++)if(o[r].getAxis("x").index===e||o[r].getAxis("y").index===t)return o[r]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},n.prototype.convertFromPixel=function(e,t,i){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,i=e.xAxisModel||t&&t.getReferringComponents("xAxis",$i).models[0],r=e.yAxisModel||t&&t.getReferringComponents("yAxis",$i).models[0],o=e.gridModel,s=this._coordsList,a,l;if(t)a=t.coordinateSystem,Ct(s,a)<0&&(a=null);else if(i&&r)a=this.getCartesian(i.componentIndex,r.componentIndex);else if(i)l=this.getAxis("x",i.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(o){var u=o.coordinateSystem;u===this&&(a=this._coordsList[0])}return{cartesian:a,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,i){var r=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",u("x"),this),t.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=a,B(a.x,function(c,d){B(a.y,function(h,f){var g="x"+d+"y"+f,p=new aot(g);p.master=r,p.model=e,r._coordsMap[g]=p,r._coordsList.push(p),p.addAxis(c),p.addAxis(h)})});function u(c){return function(d,h){if(Ak(d,e)){var f=d.get("position");c==="x"?f!=="top"&&f!=="bottom"&&(f=s.bottom?"top":"bottom"):f!=="left"&&f!=="right"&&(f=s.left?"right":"left"),s[f]=!0;var g=new uot(c,IM(d),[0,0],d.get("type"),f),p=g.type==="category";g.onBand=p&&d.get("boundaryGap"),g.inverse=d.get("inverse"),d.axis=g,g.model=d,g.grid=o,g.index=h,o._axesList.push(g),a[c][h]=g,l[c]++}}}},n.prototype._updateScale=function(e,t){B(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var o=r.model.get("categorySortInfo");r.scale.setSortInfo(o)}}),e.eachSeries(function(r){if(WX(r)){var o=zX(r),s=o.xAxisModel,a=o.yAxisModel;if(!Ak(s,t)||!Ak(a,t))return;var l=this.getCartesian(s.componentIndex,a.componentIndex),u=r.getData(),c=l.getAxis("x"),d=l.getAxis("y");i(u,c),i(u,d)}},this);function i(r,o){B(VI(r,o.dim),function(s){o.scale.unionExtentFromData(r,s)})}},n.prototype.getTooltipAxes=function(e){var t=[],i=[];return B(this.getCartesians(),function(r){var o=e!=null&&e!=="auto"?r.getAxis(e):r.getBaseAxis(),s=r.getOtherAxis(o);Ct(t,o)<0&&t.push(o),Ct(i,s)<0&&i.push(s)}),{baseAxes:t,otherAxes:i}},n.create=function(e,t){var i=[];return e.eachComponent("grid",function(r,o){var s=new n(r,e,t);s.name="grid_"+o,s.resize(r,t,!0),r.coordinateSystem=s,i.push(s)}),e.eachSeries(function(r){if(WX(r)){var o=zX(r),s=o.xAxisModel,a=o.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(s.componentIndex,a.componentIndex)}}),i},n.dimensions=FB,n}();function Ak(n,e){return n.getCoordSysModel()===e}function HX(n,e,t,i){t.getAxesOnZeroOf=function(){return o?[o]:[]};var r=n[e],o,s=t.model,a=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!a)return;if(l!=null)UX(r[l])&&(o=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&UX(r[u])&&!i[c(r[u])]){o=r[u];break}o&&(i[c(o)]=!0);function c(d){return d.dim+"_"+d.index}}function UX(n){return n&&n.type!=="category"&&n.type!=="time"&&Cnt(n)}function dot(n,e){var t=n.getExtent(),i=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(r){return r+e}:function(r){return i-r+e},n.toLocalCoord=n.dim==="x"?function(r){return r-e}:function(r){return i-r+e}}const hot=cot;var Vd=Math.PI,Tg=function(){function n(e,t){this.group=new st,this.opt=t,this.axisModel=e,Qe(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new st({x:t.position[0],y:t.position[1],rotation:t.rotation});i.updateTransform(),this._transformGroup=i}return n.prototype.hasBuilder=function(e){return!!GX[e]},n.prototype.add=function(e){GX[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,i){var r=Mce(t-e),o,s;return CI(r)?(s=i>0?"top":"bottom",o="center"):CI(r-Vd)?(s=i>0?"bottom":"top",o="center"):(s="middle",r>0&&r<Vd?o=i>0?"right":"left":o=i>0?"left":"right"),{rotation:r,textAlign:o,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),GX={axisLine:function(n,e,t,i){var r=e.get(["axisLine","show"]);if(r==="auto"&&n.handleAutoShown&&(r=n.handleAutoShown("axisLine")),!!r){var o=e.axis.getExtent(),s=i.transform,a=[o[0],0],l=[o[1],0],u=a[0]>l[0];s&&(Fr(a,a,s),Fr(l,l,s));var c=be({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new Er({shape:{x1:a[0],y1:a[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});oy(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var h=e.get(["axisLine","symbol"]);if(h!=null){var f=e.get(["axisLine","symbolSize"]);$e(h)&&(h=[h,h]),($e(f)||Jt(f))&&(f=[f,f]);var g=Ip(e.get(["axisLine","symbolOffset"])||0,f),p=f[0],m=f[1];B([{rotate:n.rotation+Math.PI/2,offset:g[0],r:0},{rotate:n.rotation-Math.PI/2,offset:g[1],r:Math.sqrt((a[0]-l[0])*(a[0]-l[0])+(a[1]-l[1])*(a[1]-l[1]))}],function(v,y){if(h[y]!=="none"&&h[y]!=null){var _=Wi(h[y],-p/2,-m/2,p,m,c.stroke,!0),b=v.r+v.offset,S=u?l:a;_.attr({rotation:v.rotate,x:S[0]+b*Math.cos(n.rotation),y:S[1]-b*Math.sin(n.rotation),silent:!0,z2:11}),t.add(_)}})}}},axisTickLabel:function(n,e,t,i){var r=pot(t,i,e,n),o=vot(t,i,e,n);if(got(e,o,r),mot(t,i,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=Xfe(Te(o,function(a){return{label:a,priority:a.z2,defaultAttr:{ignore:a.ignore}}}));Jfe(s)}},axisName:function(n,e,t,i){var r=Dr(n.axisName,e.get("name"));if(r){var o=e.get("nameLocation"),s=n.nameDirection,a=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,u=e.axis.getExtent(),c=u[0]>u[1]?-1:1,d=[o==="start"?u[0]-c*l:o==="end"?u[1]+c*l:(u[0]+u[1])/2,jX(o)?n.labelOffset+s*l:0],h,f=e.get("nameRotate");f!=null&&(f=f*Vd/180);var g;jX(o)?h=Tg.innerTextLayout(n.rotation,f??n.rotation,s):(h=fot(n.rotation,o,f||0,u),g=n.axisNameAvailableWidth,g!=null&&(g=Math.abs(g/Math.sin(h.rotation)),!isFinite(g)&&(g=null)));var p=a.getFont(),m=e.get("nameTruncate",!0)||{},v=m.ellipsis,y=Dr(n.nameTruncateMaxWidth,m.maxWidth,g),_=new Zt({x:d[0],y:d[1],rotation:h.rotation,silent:Tg.isLabelSilent(e),style:zn(a,{text:r,font:p,overflow:"truncate",width:y,ellipsis:v,fill:a.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:a.get("align")||h.textAlign,verticalAlign:a.get("verticalAlign")||h.textVerticalAlign}),z2:1});if(Vy({el:_,componentModel:e,itemName:r}),_.__fullText=r,_.anid="name",e.get("triggerEvent")){var b=Tg.makeAxisEventDataBase(e);b.targetType="axisName",b.name=r,ut(_).eventData=b}i.add(_),_.updateTransform(),t.add(_),_.decomposeTransform()}}};function fot(n,e,t,i){var r=Mce(t-n),o,s,a=i[0]>i[1],l=e==="start"&&!a||e!=="start"&&a;return CI(r-Vd/2)?(s=l?"bottom":"top",o="center"):CI(r-Vd*1.5)?(s=l?"top":"bottom",o="center"):(s="middle",r<Vd*1.5&&r>Vd/2?o=l?"left":"right":o=l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:s}}function got(n,e,t){if(!Ffe(n.axis)){var i=n.get(["axisLabel","showMinLabel"]),r=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var o=e[0],s=e[1],a=e[e.length-1],l=e[e.length-2],u=t[0],c=t[1],d=t[t.length-1],h=t[t.length-2];i===!1?(Rs(o),Rs(u)):KX(o,s)&&(i?(Rs(s),Rs(c)):(Rs(o),Rs(u))),r===!1?(Rs(a),Rs(d)):KX(l,a)&&(r?(Rs(l),Rs(h)):(Rs(a),Rs(d)))}}function Rs(n){n&&(n.ignore=!0)}function KX(n,e){var t=n&&n.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(!(!t||!i)){var r=eM([]);return Lp(r,r,-n.rotation),t.applyTransform(yc([],r,n.getLocalTransform())),i.applyTransform(yc([],r,e.getLocalTransform())),t.intersect(i)}}function jX(n){return n==="middle"||n==="center"}function kge(n,e,t,i,r){for(var o=[],s=[],a=[],l=0;l<n.length;l++){var u=n[l].coord;s[0]=u,s[1]=0,a[0]=u,a[1]=t,e&&(Fr(s,s,e),Fr(a,a,e));var c=new Er({shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:i,z2:2,autoBatch:!0,silent:!0});oy(c.shape,c.style.lineWidth),c.anid=r+"_"+n[l].tickValue,o.push(c)}return o}function pot(n,e,t,i){var r=t.axis,o=t.getModel("axisTick"),s=o.get("show");if(s==="auto"&&i.handleAutoShown&&(s=i.handleAutoShown("axisTick")),!(!s||r.scale.isBlank())){for(var a=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),u=r.getTicksCoords(),c=kge(u,e.transform,l,Qe(a.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<c.length;d++)n.add(c[d]);return c}}function mot(n,e,t,i){var r=t.axis,o=t.getModel("minorTick");if(!(!o.get("show")||r.scale.isBlank())){var s=r.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),l=i*o.get("length"),u=Qe(a.getLineStyle(),Qe(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var d=kge(s[c],e.transform,l,u,"minorticks_"+c),h=0;h<d.length;h++)n.add(d[h])}}function vot(n,e,t,i){var r=t.axis,o=Dr(i.axisLabelShow,t.get(["axisLabel","show"]));if(!(!o||r.scale.isBlank())){var s=t.getModel("axisLabel"),a=s.get("margin"),l=r.getViewLabels(),u=(Dr(i.labelRotate,s.get("rotate"))||0)*Vd/180,c=Tg.innerTextLayout(i.rotation,u,i.labelDirection),d=t.getCategories&&t.getCategories(!0),h=[],f=Tg.isLabelSilent(t),g=t.get("triggerEvent");return B(l,function(p,m){var v=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,y=p.formattedLabel,_=p.rawLabel,b=s;if(d&&d[v]){var S=d[v];et(S)&&S.textStyle&&(b=new Hn(S.textStyle,s,t.ecModel))}var w=b.getTextColor()||t.get(["axisLine","lineStyle","color"]),C=r.dataToCoord(v),x=new Zt({x:C,y:i.labelOffset+i.labelDirection*a,rotation:c.rotation,silent:f,z2:10+(p.level||0),style:zn(b,{text:y,align:b.getShallow("align",!0)||c.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||c.textVerticalAlign,fill:qe(w)?w(r.type==="category"?_:r.type==="value"?v+"":v,m):w})});if(x.anid="label_"+v,g){var L=Tg.makeAxisEventDataBase(t);L.targetType="axisLabel",L.value=_,L.tickIndex=m,r.type==="category"&&(L.dataIndex=v),ut(x).eventData=L}e.add(x),x.updateTransform(),h.push(x),n.add(x),x.decomposeTransform()}),h}}const Oc=Tg;function yot(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return _ot(t,n,e),t.seriesInvolved&&Sot(t,n),t}function _ot(n,e,t){var i=e.getComponent("tooltip"),r=e.getComponent("axisPointer"),o=r.get("link",!0)||[],s=[];B(t.getCoordinateSystems(),function(a){if(!a.axisPointerEnabled)return;var l=VS(a.model),u=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=a;var c=a.model,d=c.getModel("tooltip",i);if(B(a.getAxes(),dt(p,!1,null)),a.getTooltipAxes&&i&&d.get("show")){var h=d.get("trigger")==="axis",f=d.get(["axisPointer","type"])==="cross",g=a.getTooltipAxes(d.get(["axisPointer","axis"]));(h||f)&&B(g.baseAxes,dt(p,f?"cross":!0,h)),f&&B(g.otherAxes,dt(p,"cross",!1))}function p(m,v,y){var _=y.model.getModel("axisPointer",r),b=_.get("show");if(!(!b||b==="auto"&&!m&&!VB(_))){v==null&&(v=_.get("triggerTooltip")),_=m?bot(y,d,r,e,m,v):_;var S=_.get("snap"),w=_.get("triggerEmphasis"),C=VS(y.model),x=v||S||y.type==="category",L=n.axesInfo[C]={key:C,axis:y,coordSys:a,axisPointerModel:_,triggerTooltip:v,triggerEmphasis:w,involveSeries:x,snap:S,useHandle:VB(_),seriesModels:[],linkGroup:null};u[C]=L,n.seriesInvolved=n.seriesInvolved||x;var T=wot(o,y);if(T!=null){var I=s[T]||(s[T]={axesInfo:{}});I.axesInfo[C]=L,I.mapper=o[T].mapper,L.linkGroup=I}}}})}function bot(n,e,t,i,r,o){var s=e.getModel("axisPointer"),a=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};B(a,function(h){l[h]=rt(s.get(h))}),l.snap=n.type!=="category"&&!!o,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!o){var d=l.lineStyle=s.get("crossStyle");d&&Qe(u,d.textStyle)}}return n.model.getModel("axisPointer",new Hn(l,t,i))}function Sot(n,e){e.eachSeries(function(t){var i=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),o=t.get(["tooltip","show"],!0);!i||r==="none"||r===!1||r==="item"||o===!1||t.get(["axisPointer","show"],!0)===!1||B(n.coordSysAxesInfo[VS(i.model)],function(s){var a=s.axis;i.getAxis(a.dim)===a&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function wot(n,e){for(var t=e.model,i=e.dim,r=0;r<n.length;r++){var o=n[r]||{};if(Nk(o[i+"AxisId"],t.id)||Nk(o[i+"AxisIndex"],t.componentIndex)||Nk(o[i+"AxisName"],t.name))return r}}function Nk(n,e){return n==="all"||we(n)&&Ct(n,e)>=0||n===e}function Cot(n){var e=Dz(n);if(e){var t=e.axisPointerModel,i=e.axis.scale,r=t.option,o=t.get("status"),s=t.get("value");s!=null&&(s=i.parse(s));var a=VB(t);o==null&&(r.status=a?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),r.value=s,a&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function Dz(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[VS(n)]}function xot(n){var e=Dz(n);return e&&e.axisPointerModel}function VB(n){return!!n.get(["handle","show"])}function VS(n){return n.type+"||"+n.id}var qX={},Lot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,o){this.axisPointerClass&&Cot(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},e.prototype.updateAxisPointer=function(t,i,r,o){this._doUpdateAxisPointerClass(t,r,!1)},e.prototype.remove=function(t,i){var r=this._axisPointer;r&&r.remove(i)},e.prototype.dispose=function(t,i){this._disposeAxisPointer(i),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,r){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var s=xot(t);s?(this._axisPointer||(this._axisPointer=new o)).render(t,s,i,r):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,i){qX[t]=i},e.getAxisPointerClass=function(t){return t&&qX[t]},e.type="axis",e}(vi);const Mp=Lot;var WB=Kt();function Pge(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),a=s.get("color"),l=i.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:o,clamp:!0});if(u.length){var c=a.length,d=WB(n).splitAreaColors,h=Ue(),f=0;if(d)for(var g=0;g<u.length;g++){var p=d.get(u[g].tickValue);if(p!=null){f=(p+(c-1)*g)%c;break}}var m=r.toGlobalCoord(u[0].coord),v=s.getAreaStyle();a=we(a)?a:[a];for(var g=1;g<u.length;g++){var y=r.toGlobalCoord(u[g].coord),_=void 0,b=void 0,S=void 0,w=void 0;r.isHorizontal()?(_=m,b=l.y,S=y-_,w=l.height,m=_+S):(_=l.x,b=m,S=l.width,w=y-b,m=b+w);var C=u[g-1].tickValue;C!=null&&h.set(C,f),e.add(new Gt({anid:C!=null?"area_"+C:null,shape:{x:_,y:b,width:S,height:w},style:Qe({fill:a[f]},v),autoBatch:!0,silent:!0})),f=(f+1)%c}WB(n).splitAreaColors=h}}}function Oge(n){WB(n).splitAreaColors=null}var Tot=["axisLine","axisTickLabel","axisName"],Iot=["splitArea","splitLine","minorSplitLine"],Rge=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,i,r,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new st,this.group.add(this._axisGroup),!!t.get("show")){var a=t.getCoordSysModel(),l=$B(a,t),u=new Oc(t,be({handleAutoShown:function(d){for(var h=a.coordinateSystem.getCartesians(),f=0;f<h.length;f++)if(AB(h[f].getOtherAxis(t.axis).scale))return!0;return!1}},l));B(Tot,u.add,u),this._axisGroup.add(u.getGroup()),B(Iot,function(d){t.get([d,"show"])&&Dot[d](this,this._axisGroup,t,a)},this);var c=o&&o.type==="changeAxisOrder"&&o.isInitSort;c||Aw(s,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)}},e.prototype.remove=function(){Oge(this)},e.type="cartesianAxis",e}(Mp),Dot={splitLine:function(n,e,t,i){var r=t.axis;if(!r.scale.isBlank()){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=we(a)?a:[a];for(var l=i.coordinateSystem.getRect(),u=r.isHorizontal(),c=0,d=r.getTicksCoords({tickModel:o}),h=[],f=[],g=s.getLineStyle(),p=0;p<d.length;p++){var m=r.toGlobalCoord(d[p].coord);u?(h[0]=m,h[1]=l.y,f[0]=m,f[1]=l.y+l.height):(h[0]=l.x,h[1]=m,f[0]=l.x+l.width,f[1]=m);var v=c++%a.length,y=d[p].tickValue,_=new Er({anid:y!=null?"line_"+d[p].tickValue:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:f[0],y2:f[1]},style:Qe({stroke:a[v]},g),silent:!0});oy(_.shape,g.lineWidth),e.add(_)}}},minorSplitLine:function(n,e,t,i){var r=t.axis,o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),a=i.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var c=[],d=[],h=s.getLineStyle(),f=0;f<u.length;f++)for(var g=0;g<u[f].length;g++){var p=r.toGlobalCoord(u[f][g].coord);l?(c[0]=p,c[1]=a.y,d[0]=p,d[1]=a.y+a.height):(c[0]=a.x,c[1]=p,d[0]=a.x+a.width,d[1]=p);var m=new Er({anid:"minor_line_"+u[f][g].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:h,silent:!0});oy(m.shape,h.lineWidth),e.add(m)}},splitArea:function(n,e,t,i){Pge(n,e,t,i)}},Bge=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Rge),Eot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Bge.type,t}return e.type="yAxis",e}(Rge),Mot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,i){this.group.removeAll(),t.get("show")&&this.group.add(new Gt({shape:t.coordinateSystem.getRect(),style:Qe({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(vi),YX={offset:0};function Fge(n){n.registerComponentView(Mot),n.registerComponentModel(eot),n.registerCoordinateSystem("cartesian2d",hot),cy(n,"x",BB,YX),cy(n,"y",BB,YX),n.registerComponentView(Bge),n.registerComponentView(Eot),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function Aot(n){Lt(Fge),n.registerSeriesModel(Krt),n.registerChartView(Qrt),n.registerLayout(Ww("scatter"))}function Not(n){n.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],r=e.coordinateSystem;if(r){var o=r.getIndicatorAxes();B(o,function(s,a){t.each(t.mapDimension(o[a].dim),function(l,u){i[u]=i[u]||[];var c=r.dataToPoint(l,a);i[u][a]=XX(c)?c:ZX(r)})}),t.each(function(s){var a=yqe(i[s],function(l){return XX(l)})||ZX(r);i[s].push(a.slice()),t.setItemLayout(s,i[s])})}})}function XX(n){return!isNaN(n[0])&&!isNaN(n[1])}function ZX(n){return[n.cx,n.cy]}function kot(n){var e=n.polar;if(e){we(e)||(e=[e]);var t=[];B(e,function(i,r){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),n.radar=n.radar||[],we(n.radar)||(n.radar=[n.radar]),n.radar.push(i)):t.push(i)}),n.polar=t}B(n.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var Pot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=t.coordinateSystem,s=this.group,a=t.getData(),l=this._data;function u(h,f){var g=h.getItemVisual(f,"symbol")||"circle";if(g!=="none"){var p=Yy(h.getItemVisual(f,"symbolSize")),m=Wi(g,-1,-1,2,2),v=h.getItemVisual(f,"symbolRotate")||0;return m.attr({style:{strokeNoScale:!0},z2:100,scaleX:p[0]/2,scaleY:p[1]/2,rotation:v*Math.PI/180||0}),m}}function c(h,f,g,p,m,v){g.removeAll();for(var y=0;y<f.length-1;y++){var _=u(p,m);_&&(_.__dimIdx=y,h[y]?(_.setPosition(h[y]),kw[v?"initProps":"updateProps"](_,{x:f[y][0],y:f[y][1]},t,m)):_.setPosition(f[y]),g.add(_))}}function d(h){return Te(h,function(f){return[o.cx,o.cy]})}a.diff(l).add(function(h){var f=a.getItemLayout(h);if(f){var g=new Zo,p=new ts,m={shape:{points:f}};g.shape.points=d(f),p.shape.points=d(f),Qn(g,m,t,h),Qn(p,m,t,h);var v=new st,y=new st;v.add(p),v.add(g),v.add(y),c(p.shape.points,f,y,a,h,!0),a.setItemGraphicEl(h,v)}}).update(function(h,f){var g=l.getItemGraphicEl(f),p=g.childAt(0),m=g.childAt(1),v=g.childAt(2),y={shape:{points:a.getItemLayout(h)}};y.shape.points&&(c(p.shape.points,y.shape.points,v,a,h,!1),ul(m),ul(p),rn(p,y,t),rn(m,y,t),a.setItemGraphicEl(h,g))}).remove(function(h){s.remove(l.getItemGraphicEl(h))}).execute(),a.eachItemGraphicEl(function(h,f){var g=a.getItemModel(f),p=h.childAt(0),m=h.childAt(1),v=h.childAt(2),y=a.getItemVisual(f,"style"),_=y.fill;s.add(h),p.useStyle(Qe(g.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Vr(p,g,"lineStyle"),Vr(m,g,"areaStyle");var b=g.getModel("areaStyle"),S=b.isEmpty()&&b.parentModel.isEmpty();m.ignore=S,B(["emphasis","select","blur"],function(x){var L=g.getModel([x,"areaStyle"]),T=L.isEmpty()&&L.parentModel.isEmpty();m.ensureState(x).ignore=T&&S}),m.useStyle(Qe(b.getAreaStyle(),{fill:_,opacity:.7,decal:y.decal}));var w=g.getModel("emphasis"),C=w.getModel("itemStyle").getItemStyle();v.eachChild(function(x){if(x instanceof Hr){var L=x.style;x.useStyle(be({image:L.image,x:L.x,y:L.y,width:L.width,height:L.height},y))}else x.useStyle(y),x.setColor(_),x.style.strokeNoScale=!0;var T=x.ensureState("emphasis");T.style=rt(C);var I=a.getStore().get(a.getDimensionIndex(x.__dimIdx),f);(I==null||isNaN(I))&&(I=""),Wr(x,yr(g),{labelFetcher:a.hostModel,labelDataIndex:f,labelDimIndex:x.__dimIdx,defaultText:I,inheritColor:_,defaultOpacity:y.opacity})}),mi(h,w.get("focus"),w.get("blurScope"),w.get("disabled"))}),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Un);const Oot=Pot;var Rot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hw(We(this.getData,this),We(this.getRawData,this))},e.prototype.getInitialData=function(t,i){return Xy(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.coordinateSystem,a=s.getIndicatorAxes(),l=this.getData().getName(t),u=l===""?this.name:l,c=Phe(this,t);return _r("section",{header:u,sortBlocks:!0,blocks:Te(a,function(d){var h=o.get(o.mapDimension(d.dim),t);return _r("nameValue",{markerType:"subItem",markerColor:c,name:d.name,value:h,sortParam:h})})})},e.prototype.getTooltipPosition=function(t){if(t!=null){for(var i=this.getData(),r=this.coordinateSystem,o=i.getValues(Te(r.dimensions,function(u){return i.mapDimension(u)}),t),s=0,a=o.length;s<a;s++)if(!isNaN(o[s])){var l=r.getIndicatorAxes();return r.coordToPoint(l[s].dataToCoord(o[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(ii);const Bot=Rot;var W0=Age.value;function qC(n,e){return Qe({show:e},n)}var Fot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),s=this.get("axisTick"),a=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),d=this.get("axisNameGap"),h=this.get("triggerEvent"),f=Te(this.get("indicator")||[],function(g){g.max!=null&&g.max>0&&!g.min?g.min=0:g.min!=null&&g.min<0&&!g.max&&(g.max=0);var p=l;g.color!=null&&(p=Qe({color:g.color},l));var m=pt(rt(g),{boundaryGap:t,splitNumber:i,scale:r,axisLine:o,axisTick:s,axisLabel:a,name:g.text,showName:u,nameLocation:"end",nameGap:d,nameTextStyle:p,triggerEvent:h},!1);if($e(c)){var v=m.name;m.name=c.replace("{value}",v??"")}else qe(c)&&(m.name=c(m.name,m));var y=new Hn(m,null,this.ecModel);return Hi(y,Fw.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=f},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:pt({lineStyle:{color:"#bbb"}},W0.axisLine),axisLabel:qC(W0.axisLabel,!1),axisTick:qC(W0.axisTick,!1),splitLine:qC(W0.splitLine,!0),splitArea:qC(W0.splitArea,!0),indicator:[]},e}(qt);const $ot=Fot;var Vot=["axisLine","axisTickLabel","axisName"],Wot=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=this.group;o.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes(),o=Te(r,function(s){var a=s.model.get("showName")?s.name:"",l=new Oc(s.model,{axisName:a,position:[i.cx,i.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});B(o,function(s){B(Vot,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(t){var i=t.coordinateSystem,r=i.getIndicatorAxes();if(!r.length)return;var o=t.get("shape"),s=t.getModel("splitLine"),a=t.getModel("splitArea"),l=s.getModel("lineStyle"),u=a.getModel("areaStyle"),c=s.get("show"),d=a.get("show"),h=l.get("color"),f=u.get("color"),g=we(h)?h:[h],p=we(f)?f:[f],m=[],v=[];function y(k,O,F){var R=F%O.length;return k[R]=k[R]||[],R}if(o==="circle")for(var _=r[0].getTicksCoords(),b=i.cx,S=i.cy,w=0;w<_.length;w++){if(c){var C=y(m,g,w);m[C].push(new mu({shape:{cx:b,cy:S,r:_[w].coord}}))}if(d&&w<_.length-1){var C=y(v,p,w);v[C].push(new uM({shape:{cx:b,cy:S,r0:_[w].coord,r:_[w+1].coord}}))}}else for(var x,L=Te(r,function(k,O){var F=k.getTicksCoords();return x=x==null?F.length-1:Math.min(F.length-1,x),Te(F,function(R){return i.coordToPoint(R.coord,O)})}),T=[],w=0;w<=x;w++){for(var I=[],D=0;D<r.length;D++)I.push(L[D][w]);if(I[0]&&I.push(I[0].slice()),c){var C=y(m,g,w);m[C].push(new ts({shape:{points:I}}))}if(d&&T){var C=y(v,p,w-1);v[C].push(new Zo({shape:{points:I.concat(T)}}))}T=I.slice().reverse()}var M=l.getLineStyle(),P=u.getAreaStyle();B(v,function(k,O){this.group.add(Js(k,{style:Qe({stroke:"none",fill:p[O%p.length]},P),silent:!0}))},this),B(m,function(k,O){this.group.add(Js(k,{style:Qe({fill:"none",stroke:g[O%g.length]},M),silent:!0}))},this)},e.type="radar",e}(vi);const zot=Wot;var Hot=function(n){re(e,n);function e(t,i,r){var o=n.call(this,t,i,r)||this;return o.type="value",o.angle=0,o.name="",o}return e}(fl);const Uot=Hot;var Got=function(){function n(e,t,i){this.dimensions=[],this._model=e,this._indicatorAxes=Te(e.getIndicatorModels(),function(r,o){var s="indicator_"+o,a=new Uot(s,new Sh);return a.name=r.get("name"),a.model=r,r.axis=a,this.dimensions.push(s),a},this),this.resize(e,i)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(e,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(e),t)},n.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t],r=i.angle,o=this.cx+e*Math.cos(r),s=this.cy-e*Math.sin(r);return[o,s]},n.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=Math.sqrt(t*t+i*i);t/=r,i/=r;for(var o=Math.atan2(-i,t),s=1/0,a,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],d=Math.abs(o-c.angle);d<s&&(a=c,l=u,s=d)}return[l,+(a&&a.coordToData(r))]},n.prototype.resize=function(e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight(),s=Math.min(r,o)/2;this.cx=Fe(i[0],r),this.cy=Fe(i[1],o),this.startAngle=e.get("startAngle")*Math.PI/180;var a=e.get("radius");($e(a)||Jt(a))&&(a=[0,a]),this.r0=Fe(a[0],s),this.r=Fe(a[1],s),B(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},n.prototype.update=function(e,t){var i=this._indicatorAxes,r=this._model;B(i,function(a){a.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(a,l){if(!(a.get("coordinateSystem")!=="radar"||e.getComponent("radar",a.get("radarIndex"))!==r)){var u=a.getData();B(i,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var o=r.get("splitNumber"),s=new Sh;s.setExtent(0,o),s.setInterval(1),B(i,function(a,l){Nge(a.scale,a.model,s)})},n.prototype.convertToPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(e,t,i){return console.warn("Not implemented."),null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.create=function(e,t){var i=[];return e.eachComponent("radar",function(r){var o=new n(r,e,t);i.push(o),r.coordinateSystem=o}),e.eachSeriesByType("radar",function(r){r.get("coordinateSystem")==="radar"&&(r.coordinateSystem=i[r.get("radarIndex")||0])}),i},n.dimensions=[],n}();const Kot=Got;function jot(n){n.registerCoordinateSystem("radar",Kot),n.registerComponentModel($ot),n.registerComponentView(zot),n.registerVisual({seriesType:"radar",reset:function(e){var t=e.getData();t.each(function(i){t.setItemVisual(i,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}function qot(n){Lt(jot),n.registerChartView(Oot),n.registerSeriesModel(Bot),n.registerLayout(Not),n.registerProcessor(zw("radar")),n.registerPreprocessor(kot)}var QX="\0_ec_interaction_mutex";function Yot(n,e,t){var i=Ez(n);i[e]=t}function Xot(n,e,t){var i=Ez(n),r=i[e];r===t&&(i[e]=null)}function JX(n,e){return!!Ez(n)[e]}function Ez(n){return n[QX]||(n[QX]={})}Lu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ni);var Zot=function(n){re(e,n);function e(t){var i=n.call(this)||this;i._zr=t;var r=We(i._mousedownHandler,i),o=We(i._mousemoveHandler,i),s=We(i._mouseupHandler,i),a=We(i._mousewheelHandler,i),l=We(i._pinchHandler,i);return i.enable=function(u,c){this.disable(),this._opt=Qe(rt(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(t.on("mousewheel",a),t.on("pinch",l))},i.disable=function(){t.off("mousedown",r),t.off("mousemove",o),t.off("mouseup",s),t.off("mousewheel",a),t.off("pinch",l)},i}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!xj(t)){for(var i=t.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var r=t.offsetX,o=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,o)&&(this._x=r,this._y=o,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!bL("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||JX(this._zr,"globalPan"))){var i=t.offsetX,r=t.offsetY,o=this._x,s=this._y,a=i-o,l=r-s;this._x=i,this._y=r,this._opt.preventDefaultMouseMove&&Mc(t.event),$ge(this,"pan","moveOnMouseMove",t,{dx:a,dy:l,oldX:o,oldY:s,newX:i,newY:r,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){xj(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var i=bL("zoomOnMouseWheel",t,this._opt),r=bL("moveOnMouseWheel",t,this._opt),o=t.wheelDelta,s=Math.abs(o),a=t.offsetX,l=t.offsetY;if(!(o===0||!i&&!r)){if(i){var u=s>3?1.4:s>1?1.2:1.1,c=o>0?u:1/u;kk(this,"zoom","zoomOnMouseWheel",t,{scale:c,originX:a,originY:l,isAvailableBehavior:null})}if(r){var d=Math.abs(o),h=(o>0?1:-1)*(d>3?.4:d>1?.15:.05);kk(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:h,originX:a,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!JX(this._zr,"globalPan")){var i=t.pinchScale>1?1.1:1/1.1;kk(this,"zoom",null,t,{scale:i,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(ma);function kk(n,e,t,i,r){n.pointerChecker&&n.pointerChecker(i,r.originX,r.originY)&&(Mc(i.event),$ge(n,e,t,i,r))}function $ge(n,e,t,i,r){r.isAvailableBehavior=We(bL,null,t,i),n.trigger(e,r)}function bL(n,e,t){var i=t[n];return!n||i&&(!$e(i)||e.event[i+"Key"])}const Uw=Zot;function Mz(n,e,t){var i=n.target;i.x+=e,i.y+=t,i.dirty()}function Az(n,e,t,i){var r=n.target,o=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=e,o){var a=o.min||0,l=o.max||1/0;s=Math.max(Math.min(l,s),a)}var u=s/n.zoom;n.zoom=s,r.x-=(t-r.x)*(u-1),r.y-=(i-r.y)*(u-1),r.scaleX*=u,r.scaleY*=u,r.dirty()}var Qot={axisPointer:1,tooltip:1,brush:1};function MM(n,e,t){var i=e.getComponentByElement(n.topTarget),r=i&&i.coordinateSystem;return i&&i!==t&&!Qot.hasOwnProperty(i.mainType)&&r&&r.model!==t}function Vge(n){if($e(n)){var e=new DOMParser;n=e.parseFromString(n,"text/xml")}var t=n;for(t.nodeType===9&&(t=t.firstChild);t.nodeName.toLowerCase()!=="svg"||t.nodeType!==1;)t=t.nextSibling;return t}var Pk,KI={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},eZ=Et(KI),jI={"alignment-baseline":"textBaseline","stop-color":"stopColor"},tZ=Et(jI),Jot=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(e,t){t=t||{};var i=Vge(e);this._defsUsePending=[];var r=new st;this._root=r;var o=[],s=i.getAttribute("viewBox")||"",a=parseFloat(i.getAttribute("width")||t.width),l=parseFloat(i.getAttribute("height")||t.height);isNaN(a)&&(a=null),isNaN(l)&&(l=null),rs(i,r,null,!0,!1);for(var u=i.firstChild;u;)this._parseNode(u,r,o,null,!1,!1),u=u.nextSibling;nst(this._defs,this._defsUsePending),this._defsUsePending=[];var c,d;if(s){var h=AM(s);h.length>=4&&(c={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(c&&a!=null&&l!=null&&(d=zge(c,{x:0,y:0,width:a,height:l}),!t.ignoreViewBox)){var f=r;r=new st,r.add(f),f.scaleX=f.scaleY=d.scale,f.x=d.x,f.y=d.y}return!t.ignoreRootClip&&a!=null&&l!=null&&r.setClipPath(new Gt({shape:{x:0,y:0,width:a,height:l}})),{root:r,width:a,height:l,viewBoxRect:c,viewBoxTransform:d,named:o}},n.prototype._parseNode=function(e,t,i,r,o,s){var a=e.nodeName.toLowerCase(),l,u=r;if(a==="defs"&&(o=!0),a==="text"&&(s=!0),a==="defs"||a==="switch")l=t;else{if(!o){var c=Pk[a];if(c&&ze(Pk,a)){l=c.call(this,e,t);var d=e.getAttribute("name");if(d){var h={name:d,namedFrom:null,svgNodeTagLower:a,el:l};i.push(h),a==="g"&&(u=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:a,el:l});t.add(l)}}var f=nZ[a];if(f&&ze(nZ,a)){var g=f.call(this,e),p=e.getAttribute("id");p&&(this._defs[p]=g)}}if(l&&l.isGroup)for(var m=e.firstChild;m;)m.nodeType===1?this._parseNode(m,l,i,u,o,s):m.nodeType===3&&s&&this._parseText(m,l),m=m.nextSibling},n.prototype._parseText=function(e,t){var i=new TS({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),est(i,t);var r=i.style,o=r.fontSize;o&&o<9&&(r.fontSize=9,i.scaleX*=o/9,i.scaleY*=o/9);var s=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=s;var a=i.getBoundingRect();return this._textX+=a.width,t.add(i),i},n.internalField=function(){Pk={g:function(e,t){var i=new st;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i},rect:function(e,t){var i=new Gt;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,t){var i=new mu;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,t){var i=new Er;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,t){var i=new VW;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,t){var i=e.getAttribute("points"),r;i&&(r=oZ(i));var o=new Zo({shape:{points:r||[]},silent:!0});return Bs(t,o),rs(e,o,this._defsUsePending,!1,!1),o},polyline:function(e,t){var i=e.getAttribute("points"),r;i&&(r=oZ(i));var o=new ts({shape:{points:r||[]},silent:!0});return Bs(t,o),rs(e,o,this._defsUsePending,!1,!1),o},image:function(e,t){var i=new Hr;return Bs(t,i),rs(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,t){var i=e.getAttribute("x")||"0",r=e.getAttribute("y")||"0",o=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(o),this._textY=parseFloat(r)+parseFloat(s);var a=new st;return Bs(t,a),rs(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var i=e.getAttribute("x"),r=e.getAttribute("y");i!=null&&(this._textX=parseFloat(i)),r!=null&&(this._textY=parseFloat(r));var o=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",a=new st;return Bs(t,a),rs(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(s),a},path:function(e,t){var i=e.getAttribute("d")||"",r=mde(i);return Bs(t,r),rs(e,r,this._defsUsePending,!1,!1),r.silent=!0,r}}}(),n}(),nZ={lineargradient:function(n){var e=parseInt(n.getAttribute("x1")||"0",10),t=parseInt(n.getAttribute("y1")||"0",10),i=parseInt(n.getAttribute("x2")||"10",10),r=parseInt(n.getAttribute("y2")||"0",10),o=new Mw(e,t,i,r);return iZ(n,o),rZ(n,o),o},radialgradient:function(n){var e=parseInt(n.getAttribute("cx")||"0",10),t=parseInt(n.getAttribute("cy")||"0",10),i=parseInt(n.getAttribute("r")||"0",10),r=new Ede(e,t,i);return iZ(n,r),rZ(n,r),r}};function iZ(n,e){var t=n.getAttribute("gradientUnits");t==="userSpaceOnUse"&&(e.global=!0)}function rZ(n,e){for(var t=n.firstChild;t;){if(t.nodeType===1&&t.nodeName.toLocaleLowerCase()==="stop"){var i=t.getAttribute("offset"),r=void 0;i&&i.indexOf("%")>0?r=parseInt(i,10)/100:i?r=parseFloat(i):r=0;var o={};Wge(t,o,o);var s=o.stopColor||t.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:r,color:s})}t=t.nextSibling}}function Bs(n,e){n&&n.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),Qe(e.__inheritedStyle,n.__inheritedStyle))}function oZ(n){for(var e=AM(n),t=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);t.push([r,o])}return t}function rs(n,e,t,i,r){var o=e,s=o.__inheritedStyle=o.__inheritedStyle||{},a={};n.nodeType===1&&(ost(n,e),Wge(n,s,a),i||sst(n,s,a)),o.style=o.style||{},s.fill!=null&&(o.style.fill=sZ(o,"fill",s.fill,t)),s.stroke!=null&&(o.style.stroke=sZ(o,"stroke",s.stroke,t)),B(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(o.style[l]=parseFloat(s[l]))}),B(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(o.style[l]=s[l])}),r&&(o.__selfStyle=a),s.lineDash&&(o.style.lineDash=Te(AM(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(o.invisible=!0),s.display==="none"&&(o.ignore=!0)}function est(n,e){var t=e.__selfStyle;if(t){var i=t.textBaseline,r=i;!i||i==="auto"||i==="baseline"?r="alphabetic":i==="before-edge"||i==="text-before-edge"?r="top":i==="after-edge"||i==="text-after-edge"?r="bottom":(i==="central"||i==="mathematical")&&(r="middle"),n.style.textBaseline=r}var o=e.__inheritedStyle;if(o){var s=o.textAlign,a=s;s&&(s==="middle"&&(a="center"),n.style.textAlign=a)}}var tst=/^url\(\s*#(.*?)\)/;function sZ(n,e,t,i){var r=t&&t.match(tst);if(r){var o=ja(r[1]);i.push([n,e,o]);return}return t==="none"&&(t=null),t}function nst(n,e){for(var t=0;t<e.length;t++){var i=e[t];i[0].style[i[1]]=n[i[2]]}}var ist=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function AM(n){return n.match(ist)||[]}var rst=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Ok=Math.PI/180;function ost(n,e){var t=n.getAttribute("transform");if(t){t=t.replace(/,/g," ");var i=[],r=null;t.replace(rst,function(d,h,f){return i.push(h,f),""});for(var o=i.length-1;o>0;o-=2){var s=i[o],a=i[o-1],l=AM(s);switch(r=r||ha(),a){case"translate":fu(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":xW(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Lp(r,r,-parseFloat(l[0])*Ok);break;case"skewX":var u=Math.tan(parseFloat(l[0])*Ok);yc(r,[1,0,u,1,0,0],r);break;case"skewY":var c=Math.tan(parseFloat(l[0])*Ok);yc(r,[1,c,0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5]);break}}e.setLocalTransform(r)}}var aZ=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Wge(n,e,t){var i=n.getAttribute("style");if(i){aZ.lastIndex=0;for(var r;(r=aZ.exec(i))!=null;){var o=r[1],s=ze(KI,o)?KI[o]:null;s&&(e[s]=r[2]);var a=ze(jI,o)?jI[o]:null;a&&(t[a]=r[2])}}}function sst(n,e,t){for(var i=0;i<eZ.length;i++){var r=eZ[i],o=n.getAttribute(r);o!=null&&(e[KI[r]]=o)}for(var i=0;i<tZ.length;i++){var r=tZ[i],o=n.getAttribute(r);o!=null&&(t[jI[r]]=o)}}function zge(n,e){var t=e.width/n.width,i=e.height/n.height,r=Math.min(t,i);return{scale:r,x:-(n.x+n.width/2)*r+(e.x+e.width/2),y:-(n.y+n.height/2)*r+(e.y+e.height/2)}}function ast(n,e){var t=new Jot;return t.parse(n,e)}var lst=Ue(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),ust=function(){function n(e,t){this.type="geoSVG",this._usedGraphicMap=Ue(),this._freedGraphics=[],this._mapName=e,this._parsedXML=Vge(t)}return n.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=dst(e.named),i=t.regions,r=t.regionsMap;this._regions=i,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(e){var t,i;try{t=e&&ast(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=t.root,xo(i!=null)}catch(m){throw new Error(`Invalid svg format
`+m.message)}var r=new st;r.add(i),r.isGeoSVGGraphicRoot=!0;var o=t.width,s=t.height,a=t.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,d=void 0,h=void 0;if(o!=null?(u=0,d=o):a&&(u=a.x,d=a.width),s!=null?(c=0,h=s):a&&(c=a.y,h=a.height),u==null||c==null){var f=i.getBoundingRect();u==null&&(u=f.x,d=f.width),c==null&&(c=f.y,h=f.height)}l=this._boundingRect=new mt(u,c,d,h)}if(a){var g=zge(a,l);i.scaleX=i.scaleY=g.scale,i.x=g.x,i.y=g.y}r.setClipPath(new Gt({shape:l.plain()}));var p=[];return B(t.named,function(m){lst.get(m.svgNodeTagLower)!=null&&(p.push(m),cst(m.el))}),{root:r,boundingRect:l,named:p}},n.prototype.useGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,i),i)},n.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,i=t.get(e);i&&(t.removeKey(e),this._freedGraphics.push(i))},n}();function cst(n){n.silent=!1,n.isGroup&&n.traverse(function(e){e.silent=!1})}function dst(n){var e=[],t=Ue();return B(n,function(i){if(i.namedFrom==null){var r=new Mnt(i.name,i.el);e.push(r),t.set(i.name,r)}}),{regions:e,regionsMap:t}}var zB=[126,25],lZ="",_f=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var ff=0;ff<_f.length;ff++)for(var lm=0;lm<_f[ff].length;lm++)_f[ff][lm][0]/=10.5,_f[ff][lm][1]/=-10.5/.75,_f[ff][lm][0]+=zB[0],_f[ff][lm][1]+=zB[1];function hst(n,e){if(n==="china"){for(var t=0;t<e.length;t++)if(e[t].name===lZ)return;e.push(new Vfe(lZ,Te(_f,function(i){return{type:"polygon",exterior:i}}),zB))}}var fst={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function gst(n,e){if(n==="china"){var t=fst[e.name];if(t){var i=e.getCenter();i[0]+=t[0]/10.5,i[1]+=-t[1]/(10.5/.75),e.setCenter(i)}}}var pst=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function mst(n,e){n==="china"&&e.name===""&&e.geometries.push({type:"polygon",exterior:pst[0]})}var vst="name",yst=function(){function n(e,t,i){this.type="geoJSON",this._parsedMap=Ue(),this._mapName=e,this._specialAreas=i,this._geoJSON=bst(t)}return n.prototype.load=function(e,t){t=t||vst;var i=this._parsedMap.get(t);if(!i){var r=this._parseToRegions(t);i=this._parsedMap.set(t,{regions:r,boundingRect:_st(r)})}var o=Ue(),s=[];return B(i.regions,function(a){var l=a.name;e&&ze(e,l)&&(a=a.cloneShallow(l=e[l])),s.push(a),o.set(l,a)}),{regions:s,boundingRect:i.boundingRect||new mt(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(e){var t=this._mapName,i=this._geoJSON,r;try{r=i?Nnt(i,e):[]}catch(o){throw new Error(`Invalid geoJson format
`+o.message)}return hst(t,r),B(r,function(o){var s=o.name;gst(t,o),mst(t,o);var a=this._specialAreas&&this._specialAreas[s];a&&o.transformTo(a.left,a.top,a.width,a.height)},this),r},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function _st(n){for(var e,t=0;t<n.length;t++){var i=n[t].getBoundingRect();e=e||i.clone(),e.union(i)}return e}function bst(n){return $e(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var z0=Ue();const Rc={registerMap:function(n,e,t){if(e.svg){var i=new ust(n,e.svg);z0.set(n,i)}else{var r=e.geoJson||e.geoJSON;r&&!e.features?t=e.specialAreas:r=e;var i=new yst(n,r,t);z0.set(n,i)}},getGeoResource:function(n){return z0.get(n)},getMapForUser:function(n){var e=z0.get(n);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(n,e,t){var i=z0.get(n);if(i)return i.load(e,t)}};var Nz=["rect","circle","line","ellipse","polygon","polyline","path"],Sst=Ue(Nz),wst=Ue(Nz.concat(["g"])),Cst=Ue(Nz.concat(["g"])),Hge=Kt();function YC(n){var e=n.getItemStyle(),t=n.get("areaColor");return t!=null&&(e.fill=t),e}function uZ(n){var e=n.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var xst=function(){function n(e){var t=new st;this.uid=zy("ec_map_draw"),this._controller=new Uw(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new st),t.add(this._svgGroup=new st)}return n.prototype.draw=function(e,t,i,r,o){var s=e.mainType==="geo",a=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(v){!a&&v.getHostGeoModel()===e&&(a=v.getData())});var l=e.coordinateSystem,u=this._regionsGroup,c=this.group,d=l.getTransformInfo(),h=d.raw,f=d.roam,g=!u.childAt(0)||o;g?(c.x=f.x,c.y=f.y,c.scaleX=f.scaleX,c.scaleY=f.scaleY,c.dirty()):rn(c,f,e);var p=a&&a.getVisual("visualMeta")&&a.getVisual("visualMeta").length>0,m={api:i,geo:l,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:p,isGeo:s,transformInfoRaw:h};l.resourceType==="geoJSON"?this._buildGeoJSON(m):l.resourceType==="geoSVG"&&this._buildSVG(m),this._updateController(e,t,i),this._updateMapSelectHandler(e,u,i,r)},n.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=Ue(),i=Ue(),r=this._regionsGroup,o=e.transformInfoRaw,s=e.mapOrGeoModel,a=e.data,l=e.geo.projection,u=l&&l.stream;function c(f,g){return g&&(f=g(f)),f&&[f[0]*o.scaleX+o.x,f[1]*o.scaleY+o.y]}function d(f){for(var g=[],p=!u&&l&&l.project,m=0;m<f.length;++m){var v=c(f[m],p);v&&g.push(v)}return g}function h(f){return{shape:{points:d(f)}}}r.removeAll(),B(e.geo.regions,function(f){var g=f.name,p=t.get(g),m=i.get(g)||{},v=m.dataIdx,y=m.regionModel;p||(p=t.set(g,new st),r.add(p),v=a?a.indexOfName(g):null,y=e.isGeo?s.getRegionModel(g):a?a.getItemModel(v):null,i.set(g,{dataIdx:v,regionModel:y}));var _=[],b=[];B(f.geometries,function(C){if(C.type==="polygon"){var x=[C.exterior].concat(C.interiors||[]);u&&(x=pZ(x,u)),B(x,function(T){_.push(new Zo(h(T)))})}else{var L=C.points;u&&(L=pZ(L,u,!0)),B(L,function(T){b.push(new ts(h(T)))})}});var S=c(f.getCenter(),l&&l.project);function w(C,x){if(C.length){var L=new zW({culling:!0,segmentIgnoreThreshold:1,shape:{paths:C}});p.add(L),cZ(e,L,v,y),dZ(e,L,g,y,s,v,S),x&&(uZ(L),B(L.states,uZ))}}w(_),w(b,!0)}),t.each(function(f,g){var p=i.get(g),m=p.dataIdx,v=p.regionModel;hZ(e,f,g,v,s,m),fZ(e,f,g,v,s),gZ(e,f,g,v,s)},this)},n.prototype._buildSVG=function(e){var t=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=Ue(),o=!1;B(this._svgGraphicRecord.named,function(s){var a=s.name,l=e.mapOrGeoModel,u=e.data,c=s.svgNodeTagLower,d=s.el,h=u?u.indexOfName(a):null,f=l.getRegionModel(a);if(Sst.get(c)!=null&&d instanceof fa&&cZ(e,d,h,f),d instanceof fa&&(d.culling=!0),d.z2EmphasisLift=0,!s.namedFrom&&(Cst.get(c)!=null&&dZ(e,d,a,f,l,h,null),hZ(e,d,a,f,l,h),fZ(e,d,a,f,l),wst.get(c)!=null)){var g=gZ(e,d,a,f,l);g==="self"&&(o=!0);var p=r.get(a)||r.set(a,[]);p.push(d)}},this),this._enableBlurEntireSVG(o,e)},n.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var i=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),r=i.opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){ep(o);var s=o.ensureState("blur").style||{};s.opacity==null&&r!=null&&(s.opacity=r),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(e,t){if(e==null)return[];var i=t.coordinateSystem;if(i.resourceType==="geoJSON"){var r=this._regionsGroupByName;if(r){var o=r.get(e);return o?[o]:[]}}else if(i.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},n.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},n.prototype._useSVG=function(e){var t=Rc.getGeoResource(e);if(t&&t.type==="geoSVG"){var i=t.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},n.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var t=Rc.getGeoResource(e);t&&t.type==="geoSVG"&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(e,t,i){var r=e.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=r.getZoom(),o.enable(e.get("roam")||!1);var a=e.mainType;function l(){var u={type:"geoRoam",componentType:a};return u[a+"Id"]=e.id,u}o.off("pan").on("pan",function(u){this._mouseDownFlag=!1,Mz(s,u.dx,u.dy),i.dispatchAction(be(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,Az(s,u.scale,u.originX,u.originY),i.dispatchAction(be(l(),{zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(u,c,d){return r.containPoint([c,d])&&!MM(u,i,e)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var t=e.getTextContent();t&&(t.ignore=Hge(t).ignore)})},n.prototype._updateMapSelectHandler=function(e,t,i,r){var o=this;t.off("mousedown"),t.off("click"),e.get("selectedMode")&&(t.on("mousedown",function(){o._mouseDownFlag=!0}),t.on("click",function(s){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function cZ(n,e,t,i){var r=i.getModel("itemStyle"),o=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),a=i.getModel(["select","itemStyle"]),l=YC(r),u=YC(o),c=YC(a),d=YC(s),h=n.data;if(h){var f=h.getItemVisual(t,"style"),g=h.getItemVisual(t,"decal");n.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),g&&(l.decal=ay(g,n.api))}e.setStyle(l),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=u,e.ensureState("select").style=c,e.ensureState("blur").style=d,ep(e)}function dZ(n,e,t,i,r,o,s){var a=n.data,l=n.isGeo,u=a&&isNaN(a.get(a.mapDimension("value"),o)),c=a&&a.getItemLayout(o);if(l||u||c&&c.showLabel){var d=l?t:o,h=void 0;(!a||o>=0)&&(h=r);var f=s?{normal:{align:"center",verticalAlign:"middle"}}:null;Wr(e,yr(i),{labelFetcher:h,labelDataIndex:d,defaultText:t},f);var g=e.getTextContent();if(g&&(Hge(g).ignore=g.ignore,e.textConfig&&s)){var p=e.getBoundingRect().clone();e.textConfig.layoutRect=p,e.textConfig.position=[(s[0]-p.x)/p.width*100+"%",(s[1]-p.y)/p.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function hZ(n,e,t,i,r,o){n.data?n.data.setItemGraphicEl(o,e):ut(e).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:i&&i.option||{}}}function fZ(n,e,t,i,r){n.data||Vy({el:e,componentModel:r,itemName:t,itemTooltipOption:i.get("tooltip")})}function gZ(n,e,t,i,r){e.highDownSilentOnTouch=!!r.get("selectedMode");var o=i.getModel("emphasis"),s=o.get("focus");return mi(e,s,o.get("blurScope"),o.get("disabled")),n.isGeo&&LZe(e,r,t),s}function pZ(n,e,t){var i=[],r;function o(){r=[]}function s(){r.length&&(i.push(r),r=[])}var a=e({polygonStart:o,polygonEnd:s,lineStart:o,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&r.push([l,u])},sphere:function(){}});return!t&&a.polygonStart(),B(n,function(l){a.lineStart();for(var u=0;u<l.length;u++)a.point(l[u][0],l[u][1]);a.lineEnd()}),!t&&a.polygonEnd(),i}const Uge=xst;var Lst=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,o){if(!(o&&o.type==="mapToggleSelect"&&o.from===this.uid)){var s=this.group;if(s.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&o&&o.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===t.id){var a=this._mapDraw;a&&s.add(a.group)}else if(t.needsDrawMap){var a=this._mapDraw||new Uge(r);s.add(a.group),a.draw(t,i,r,this,o),this._mapDraw=a}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(t,i,r)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(t,i,r){var o=t.originalData,s=this.group;o.each(o.mapDimension("value"),function(a,l){if(!isNaN(a)){var u=o.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,d=u.offset,h=new mu({style:{fill:t.getData().getVisual("style").fill},shape:{cx:c[0]+d*9,cy:c[1],r:3},silent:!0,z2:8+(d?0:Fy+1)});if(!d){var f=t.mainSeries.getData(),g=o.getName(l),p=f.indexOfName(g),m=o.getItemModel(l),v=m.getModel("label"),y=f.getItemGraphicEl(p);Wr(h,yr(m),{labelFetcher:{getFormattedLabel:function(_,b){return t.getFormattedLabel(p,b)}},defaultText:g}),h.disableLabelAnimation=!0,v.get("position")||h.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(_){LI(h,_)}}s.add(h)}}})},e.type="map",e}(Un);const Tst=Lst;var Ist=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(i){if(i!=null){var r=this.getData().getName(i),o=this.coordinateSystem,s=o.getRegion(r);return s&&o.dataToPoint(s.getCenter())}},t}return e.prototype.getInitialData=function(t){for(var i=Xy(this,{coordDimensions:["value"],encodeDefaulter:dt(ZW,this)}),r=Ue(),o=[],s=0,a=i.count();s<a;s++){var l=i.getName(s);r.set(l,!0)}var u=Rc.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return B(u.regions,function(c){var d=c.name;r.get(d)||o.push(d)}),i.appendValues([],o),i},e.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t!=null?this.ecModel.getComponent("geo",t):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(t){var i=this.getData();return i.get(i.mapDimension("value"),t)},e.prototype.getRegionModel=function(t){var i=this.getData();return i.getItemModel(i.indexOfName(t))},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData(),s=this.getRawValue(t),a=o.getName(t),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var d=l[c].originalData.indexOfName(a),h=o.mapDimension("value");isNaN(l[c].originalData.get(h,d))||u.push(l[c].name)}return _r("section",{header:u.join(", "),noHeader:!u.length,blocks:[_r("nameValue",{name:a,value:s})]})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.getLegendIcon=function(t){var i=t.icon||"roundRect",r=Wi(i,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",i.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(ii);const Dst=Ist;function Est(n,e){var t={};return B(n,function(i){i.each(i.mapDimension("value"),function(r,o){var s="ec-"+i.getName(o);t[s]=t[s]||[],isNaN(r)||t[s].push(r)})}),n[0].map(n[0].mapDimension("value"),function(i,r){for(var o="ec-"+n[0].getName(r),s=0,a=1/0,l=-1/0,u=t[o].length,c=0;c<u;c++)a=Math.min(a,t[o][c]),l=Math.max(l,t[o][c]),s+=t[o][c];var d;return e==="min"?d=a:e==="max"?d=l:e==="average"?d=s/u:d=s,u===0?NaN:d})}function Mst(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(e[r]=e[r]||[]).push(t)}),B(e,function(t,i){for(var r=Est(Te(t,function(s){return s.getData()}),t[0].get("mapValueCalculation")),o=0;o<t.length;o++)t[o].originalData=t[o].getData();for(var o=0;o<t.length;o++)t[o].seriesGroup=t,t[o].needsDrawMap=o===0&&!t[o].getHostGeoModel(),t[o].setData(r.cloneShallow()),t[o].mainSeries=t[0]})}function Ast(n){var e={};n.eachSeriesByType("map",function(t){var i=t.getMapType();if(!(t.getHostGeoModel()||e[i])){var r={};B(t.seriesGroup,function(s){var a=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&n.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var d=l.getName(c),h=a.getRegion(d);if(!(!h||isNaN(u))){var f=r[d]||0,g=a.dataToPoint(h.getCenter());r[d]=f+1,l.setItemLayout(c,{point:g,offset:f})}})});var o=t.getData();o.each(function(s){var a=o.getName(s),l=o.getItemLayout(s)||{};l.showLabel=!r[a],o.setItemLayout(s,l)}),e[i]=!0}})}var mZ=Fr,Nst=function(n){re(e,n);function e(t){var i=n.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new uc,i._rawTransformable=new uc,i.name=t,i}return e.prototype.setBoundingRect=function(t,i,r,o){return this._rect=new mt(t,i,r,o),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,i,r,o){this._transformTo(t,i,r,o),this._viewRect=new mt(t,i,r,o)},e.prototype._transformTo=function(t,i,r,o){var s=this.getBoundingRect(),a=this._rawTransformable;a.transform=s.calculateTransform(new mt(t,i,r,o));var l=a.parent;a.parent=null,a.decomposeTransform(),a.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,i){t&&(this._center=[Fe(t[0],i.getWidth()),Fe(t[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var i=this.zoomLimit;i&&(i.max!=null&&(t=Math.min(i.max,t)),i.min!=null&&(t=Math.max(i.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),i=t.x+t.width/2,r=t.y+t.height/2;return[i,r]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,r=this.getDefaultCenter(),o=this.getCenter(),s=this.getZoom();o=Fr([],o,t),r=Fr([],r,t),i.originX=o[0],i.originY=o[1],i.x=r[0]-o[0],i.y=r[1]-o[1],i.scaleX=i.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,i=this._rawTransformable;i.parent=t,t.updateTransform(),i.updateTransform(),CW(this.transform||(this.transform=[]),i.transform||ha()),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Ry(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,i=this._roamTransformable,r=new uc;return r.transform=i.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,i,r){var o=i?this._rawTransform:this.transform;return r=r||[],o?mZ(r,t,o):fo(r,t)},e.prototype.pointToData=function(t){var i=this.invTransform;return i?mZ([],t,i):[t[0],t[1]]},e.prototype.convertToPixel=function(t,i,r){var o=vZ(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=vZ(i);return o===this?o.pointToData(r):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(uc);function vZ(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const Gw=Nst;var kst={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Gge=["lng","lat"],Kge=function(n){re(e,n);function e(t,i,r){var o=n.call(this,t)||this;o.dimensions=Gge,o.type="geo",o._nameCoordMap=Ue(),o.map=i;var s=r.projection,a=Rc.load(i,r.nameMap,r.nameProperty),l=Rc.getGeoResource(i);o.resourceType=l?l.type:null;var u=o.regions=a.regions,c=kst[l.type];o._regionsMap=a.regionsMap,o.regions=a.regions,o.projection=s;var d;if(s)for(var h=0;h<u.length;h++){var f=u[h].getBoundingRect(s);d=d||f.clone(),d.union(f)}else d=a.boundingRect;return o.setBoundingRect(d.x,d.y,d.width,d.height),o.aspectScale=s?1:gt(r.aspectScale,c.aspectScale),o._invertLongitute=s?!1:c.invertLongitute,o}return e.prototype._transformTo=function(t,i,r,o){var s=this.getBoundingRect(),a=this._invertLongitute;s=s.clone(),a&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new mt(t,i,r,o));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,a&&(l.scaleY=-l.scaleY),this._updateTransform()},e.prototype.getRegion=function(t){return this._regionsMap.get(t)},e.prototype.getRegionByCoord=function(t){for(var i=this.regions,r=0;r<i.length;r++){var o=i[r];if(o.type==="geoJSON"&&o.contain(t))return i[r]}},e.prototype.addGeoCoord=function(t,i){this._nameCoordMap.set(t,i)},e.prototype.getGeoCoord=function(t){var i=this._regionsMap.get(t);return this._nameCoordMap.get(t)||i&&i.getCenter()},e.prototype.dataToPoint=function(t,i,r){if($e(t)&&(t=this.getGeoCoord(t)),t){var o=this.projection;return o&&(t=o.project(t)),t&&this.projectedToPoint(t,i,r)}},e.prototype.pointToData=function(t){var i=this.projection;return i&&(t=i.unproject(t)),t&&this.pointToProjected(t)},e.prototype.pointToProjected=function(t){return n.prototype.pointToData.call(this,t)},e.prototype.projectedToPoint=function(t,i,r){return n.prototype.dataToPoint.call(this,t,i,r)},e.prototype.convertToPixel=function(t,i,r){var o=yZ(i);return o===this?o.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,i,r){var o=yZ(i);return o===this?o.pointToData(r):null},e}(Gw);Hi(Kge,Gw);function yZ(n){var e=n.geoModel,t=n.seriesModel;return e?e.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",$i).models[0]||{}).coordinateSystem:null}const _Z=Kge;function bZ(n,e){var t=n.get("boundingCoords");if(t!=null){var i=t[0],r=t[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])){var o=this.projection;if(o){var s=i[0],a=i[1],l=r[0],u=r[1];i=[1/0,1/0],r=[-1/0,-1/0];var c=function(w,C,x,L){for(var T=x-w,I=L-C,D=0;D<=100;D++){var M=D/100,P=o.project([w+T*M,C+I*M]);Od(i,i,P),Rd(r,r,P)}};c(s,a,l,a),c(l,a,l,u),c(l,u,s,u),c(s,u,l,a)}this.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1])}}var d=this.getBoundingRect(),h=n.get("layoutCenter"),f=n.get("layoutSize"),g=e.getWidth(),p=e.getHeight(),m=d.width/d.height*this.aspectScale,v=!1,y,_;h&&f&&(y=[Fe(h[0],g),Fe(h[1],p)],_=Fe(f,Math.min(g,p)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(v=!0));var b;if(v)b={},m>1?(b.width=_,b.height=_/m):(b.height=_,b.width=_*m),b.y=y[1]-b.height/2,b.x=y[0]-b.width/2;else{var S=n.getBoxLayoutParams();S.aspect=m,b=tr(S,{width:g,height:p})}this.setViewRect(b.x,b.y,b.width,b.height),this.setCenter(n.get("center"),e),this.setZoom(n.get("zoom"))}function Pst(n,e){B(e.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}var Ost=function(){function n(){this.dimensions=Gge}return n.prototype.create=function(e,t){var i=[];function r(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,a){var l=s.get("map"),u=new _Z(l+a,l,be({nameMap:s.get("nameMap")},r(s)));u.zoomLimit=s.get("scaleLimit"),i.push(u),s.coordinateSystem=u,u.model=s,u.resize=bZ,u.resize(s,t)}),e.eachSeries(function(s){var a=s.get("coordinateSystem");if(a==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=i[l]}});var o={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var a=s.getMapType();o[a]=o[a]||[],o[a].push(s)}}),B(o,function(s,a){var l=Te(s,function(c){return c.get("nameMap")}),u=new _Z(a,a,be({nameMap:_W(l)},r(s[0])));u.zoomLimit=Dr.apply(null,Te(s,function(c){return c.get("scaleLimit")})),i.push(u),u.resize=bZ,u.resize(s[0],t),B(s,function(c){c.coordinateSystem=u,Pst(u,c)})}),i},n.prototype.getFilledRegions=function(e,t,i,r){for(var o=(e||[]).slice(),s=Ue(),a=0;a<o.length;a++)s.set(o[a].name,o[a]);var l=Rc.load(t,i,r);return B(l.regions,function(u){var c=u.name;!s.get(c)&&o.push({name:c})}),o},n}(),Rst=new Ost;const jge=Rst;var Bst=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i,r){var o=Rc.getGeoResource(t.map);if(o&&o.type==="geoJSON"){var s=t.itemStyle=t.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(t,r),Zg(t,"label",["show"])},e.prototype.optionUpdated=function(){var t=this,i=this.option;i.regions=jge.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var r={};this._optionModelMap=hu(i.regions||[],function(o,s){var a=s.name;return a&&(o.set(a,new Hn(s,t,t.ecModel)),s.selected&&(r[a]=!0)),o},Ue()),i.selectedMap||(i.selectedMap=r)},e.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Hn(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(t,i){var r=this.getRegionModel(t),o=i==="normal"?r.get(["label","formatter"]):r.get(["emphasis","label","formatter"]),s={name:t};if(qe(o))return s.status=i,o(s);if($e(o))return o.replace("{a}",t??"")},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.select=function(t){var i=this.option,r=i.selectedMode;if(r){r!=="multiple"&&(i.selectedMap=null);var o=i.selectedMap||(i.selectedMap={});o[t]=!0}},e.prototype.unSelect=function(t){var i=this.option.selectedMap;i&&(i[t]=!1)},e.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},e.prototype.isSelected=function(t){var i=this.option.selectedMap;return!!(i&&i[t])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(qt);const Fst=Bst;function SZ(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function kz(n,e,t,i){var r=n.getZoom(),o=n.getCenter(),s=e.zoom,a=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(e.dx!=null&&e.dy!=null&&(a[0]-=e.dx,a[1]-=e.dy,n.setCenter(SZ(n,a),i)),s!=null){if(t){var l=t.min||0,u=t.max||1/0;s=Math.max(Math.min(r*s,u),l)/r}n.scaleX*=s,n.scaleY*=s;var c=(e.originX-n.x)*(s-1),d=(e.originY-n.y)*(s-1);n.x-=c,n.y-=d,n.updateTransform(),n.setCenter(SZ(n,a),i),n.setZoom(s*r)}return{center:n.getCenter(),zoom:n.getZoom()}}var $st=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.focusBlurEnabled=!0,t}return e.prototype.init=function(t,i){this._api=i},e.prototype.render=function(t,i,r,o){if(this._model=t,!t.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new Uge(r));var s=this._mapDraw;s.draw(t,i,r,this,o),s.group.on("click",this._handleRegionClick,this),s.group.silent=t.get("silent"),this.group.add(s.group),this.updateSelectStatus(t,i,r)},e.prototype._handleRegionClick=function(t){var i;tg(t.target,function(r){return(i=ut(r).eventData)!=null},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(t,i,r){var o=this;this._mapDraw.group.traverse(function(s){var a=ut(s).eventData;if(a)return o._model.isSelected(a.name)?r.enterSelect(s):r.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(vi);const Vst=$st;function Wst(n,e,t){Rc.registerMap(n,e,t)}function qge(n){n.registerCoordinateSystem("geo",jge),n.registerComponentModel(Fst),n.registerComponentView(Vst),n.registerImpl("registerMap",Wst),n.registerImpl("getMap",function(t){return Rc.getMapForUser(t)});function e(t,i){i.update="geo:updateSelectStatus",n.registerAction(i,function(r,o){var s={},a=[];return o.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name);var u=l.coordinateSystem;B(u.regions,function(d){s[d.name]=l.isSelected(d.name)||!1});var c=[];B(s,function(d,h){s[h]&&c.push(h)}),a.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:a,name:r.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,i,r){var o=t.componentType||"series";i.eachComponent({mainType:o,query:t},function(s){var a=s.coordinateSystem;if(a.type==="geo"){var l=kz(a,t,s.get("scaleLimit"),r);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),o==="series"&&B(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function zst(n){Lt(qge),n.registerChartView(Tst),n.registerSeriesModel(Dst),n.registerLayout(Ast),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,Mst),Khe("map",n.registerAction)}function Hst(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],i,r;i=t.pop();)if(r=i.children,i.isExpand&&r.length)for(var o=r.length,s=o-1;s>=0;s--){var a=r[s];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(a)}}function Ust(n,e){var t=n.isExpand?n.children:[],i=n.parentNode.children,r=n.hierNode.i?i[n.hierNode.i-1]:null;if(t.length){jst(n);var o=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(n.hierNode.prelim=r.hierNode.prelim+e(n,r),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else r&&(n.hierNode.prelim=r.hierNode.prelim+e(n,r));n.parentNode.hierNode.defaultAncestor=qst(n,r,n.parentNode.hierNode.defaultAncestor||i[0],e)}function Gst(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function wZ(n){return arguments.length?n:Zst}function v_(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function Kst(n,e){return tr(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function jst(n){for(var e=n.children,t=e.length,i=0,r=0;--t>=0;){var o=e[t];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}function qst(n,e,t,i){if(e){for(var r=n,o=n,s=o.parentNode.children[0],a=e,l=r.hierNode.modifier,u=o.hierNode.modifier,c=s.hierNode.modifier,d=a.hierNode.modifier;a=Rk(a),o=Bk(o),a&&o;){r=Rk(r),s=Bk(s),r.hierNode.ancestor=n;var h=a.hierNode.prelim+d-o.hierNode.prelim-u+i(a,o);h>0&&(Xst(Yst(a,n,t),n,h),u+=h,l+=h),d+=a.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=s.hierNode.modifier}a&&!Rk(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=d-l),o&&!Bk(s)&&(s.hierNode.thread=o,s.hierNode.modifier+=u-c,t=n)}return t}function Rk(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function Bk(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function Yst(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function Xst(n,e,t){var i=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=i}function Zst(n,e){return n.parentNode===e.parentNode?1:2}var Qst=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),Jst=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Qst},e.prototype.buildPath=function(t,i){var r=i.childPoints,o=r.length,s=i.parentPoint,a=r[0],l=r[o-1];if(o===1){t.moveTo(s[0],s[1]),t.lineTo(a[0],a[1]);return}var u=i.orient,c=u==="TB"||u==="BT"?0:1,d=1-c,h=Fe(i.forkPosition,1),f=[];f[c]=s[c],f[d]=s[d]+(l[d]-s[d])*h,t.moveTo(s[0],s[1]),t.lineTo(f[0],f[1]),t.moveTo(a[0],a[1]),f[c]=a[c],t.lineTo(f[0],f[1]),f[c]=l[c],t.lineTo(f[0],f[1]),t.lineTo(l[0],l[1]);for(var g=1;g<o-1;g++){var p=r[g];t.moveTo(p[0],p[1]),f[c]=p[c],t.lineTo(f[0],f[1])}},e}(It),eat=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new st,t}return e.prototype.init=function(t,i){this._controller=new Uw(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,i,r){var o=t.getData(),s=t.layoutInfo,a=this._mainGroup,l=t.get("layout");l==="radial"?(a.x=s.x+s.width/2,a.y=s.y+s.height/2):(a.x=s.x,a.y=s.y),this._updateViewCoordSys(t,r),this._updateController(t,i,r);var u=this._data;o.diff(u).add(function(c){CZ(o,c)&&xZ(o,c,null,a,t)}).update(function(c,d){var h=u.getItemGraphicEl(d);if(!CZ(o,c)){h&&TZ(u,d,h,a,t);return}xZ(o,c,h,a,t)}).remove(function(c){var d=u.getItemGraphicEl(c);d&&TZ(u,c,d,a,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&o.eachItemGraphicEl(function(c,d){c.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=o},e.prototype._updateViewCoordSys=function(t,i){var r=t.getData(),o=[];r.each(function(d){var h=r.getItemLayout(d);h&&!isNaN(h.x)&&!isNaN(h.y)&&o.push([+h.x,+h.y])});var s=[],a=[];sM(o,s,a);var l=this._min,u=this._max;a[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,a[0]=u?u[0]:a[0]+1),a[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,a[1]=u?u[1]:a[1]+1);var c=t.coordinateSystem=new Gw;c.zoomLimit=t.get("scaleLimit"),c.setBoundingRect(s[0],s[1],a[0]-s[0],a[1]-s[1]),c.setCenter(t.get("center"),i),c.setZoom(t.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=a},e.prototype._updateController=function(t,i,r){var o=this,s=this._controller,a=this._controllerHost,l=this.group;s.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!MM(u,r,t)}),s.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){Mz(a,u.dx,u.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Az(a,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(t),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var i=t.getData(),r=this._getNodeGlobalScale(t);i.eachItemGraphicEl(function(o,s){o.setSymbolScale(r)})},e.prototype._getNodeGlobalScale=function(t){var i=t.coordinateSystem;if(i.type!=="view")return 1;var r=this._nodeScaleRatio,o=i.scaleX||1,s=i.getZoom(),a=(s-1)*r+1;return a/o},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Un);function CZ(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function xZ(n,e,t,i,r){var o=!t,s=n.tree.getNodeByDataIndex(e),a=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",c=n.tree.root,d=s.parentNode===c?s:s.parentNode||s,h=n.getItemGraphicEl(d.dataIndex),f=d.getLayout(),g=h?{x:h.__oldX,y:h.__oldY,rawX:h.__radialOldRawX,rawY:h.__radialOldRawY}:f,p=s.getLayout();o?(t=new $w(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.x=g.x,t.y=g.y):t.updateData(n,e,null,{symbolInnerColor:u,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=p.rawX,t.__radialRawY=p.rawY,i.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,rn(t,{x:p.x,y:p.y},r);var m=t.getSymbolPath();if(r.get("layout")==="radial"){var v=c.children[0],y=v.getLayout(),_=v.children.length,b=void 0,S=void 0;if(p.x===y.x&&s.isExpand===!0&&v.children.length){var w={x:(v.children[0].getLayout().x+v.children[_-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[_-1].getLayout().y)/2};b=Math.atan2(w.y-y.y,w.x-y.x),b<0&&(b=Math.PI*2+b),S=w.x<y.x,S&&(b=b-Math.PI)}else b=Math.atan2(p.y-y.y,p.x-y.x),b<0&&(b=Math.PI*2+b),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(S=p.x<y.x,S&&(b=b-Math.PI)):(S=p.x>y.x,S||(b=b-Math.PI));var C=S?"left":"right",x=a.getModel("label"),L=x.get("rotate"),T=L*(Math.PI/180),I=m.getTextContent();I&&(m.setTextConfig({position:x.get("position")||C,rotation:L==null?-b:T,origin:"center"}),I.setStyle("verticalAlign","middle"))}var D=a.get(["emphasis","focus"]),M=D==="relative"?pI(s.getAncestorsIndices(),s.getDescendantIndices()):D==="ancestor"?s.getAncestorsIndices():D==="descendant"?s.getDescendantIndices():null;M&&(ut(t).focus=M),tat(r,s,c,t,g,f,p,i),t.__edge&&(t.onHoverStateChange=function(P){if(P!=="blur"){var k=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);k&&k.hoverState===Ew||LI(t.__edge,P)}})}function tat(n,e,t,i,r,o,s,a){var l=e.getModel(),u=n.get("edgeShape"),c=n.get("layout"),d=n.getOrient(),h=n.get(["lineStyle","curveness"]),f=n.get("edgeForkPosition"),g=l.getModel("lineStyle").getLineStyle(),p=i.__edge;if(u==="curve")e.parentNode&&e.parentNode!==t&&(p||(p=i.__edge=new cM({shape:HB(c,d,h,r,r)})),rn(p,{shape:HB(c,d,h,o,s)},n));else if(u==="polyline"&&c==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var m=e.children,v=[],y=0;y<m.length;y++){var _=m[y].getLayout();v.push([_.x,_.y])}p||(p=i.__edge=new Jst({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:d,forkPosition:f}})),rn(p,{shape:{parentPoint:[s.x,s.y],childPoints:v}},n)}p&&!(u==="polyline"&&!e.isExpand)&&(p.useStyle(Qe({strokeNoScale:!0,fill:null},g)),Vr(p,l,"lineStyle"),ep(p),a.add(p))}function LZ(n,e,t,i,r){var o=e.tree.root,s=Yge(o,n),a=s.source,l=s.sourceLayout,u=e.getItemGraphicEl(n.dataIndex);if(u){var c=e.getItemGraphicEl(a.dataIndex),d=c.__edge,h=u.__edge||(a.isExpand===!1||a.children.length===1?d:void 0),f=i.get("edgeShape"),g=i.get("layout"),p=i.get("orient"),m=i.get(["lineStyle","curveness"]);h&&(f==="curve"?yh(h,{shape:HB(g,p,m,l,l),style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}):f==="polyline"&&i.get("layout")==="orthogonal"&&yh(h,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},i,{cb:function(){t.remove(h)},removeOpt:r}))}}function Yge(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,i;i=t.getLayout(),i==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:i}}function TZ(n,e,t,i,r){var o=n.tree.getNodeByDataIndex(e),s=n.tree.root,a=Yge(s,o).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};yh(t,{x:a.x+1,y:a.y+1},r,{cb:function(){i.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),o.children.forEach(function(u){LZ(u,n,i,r,l)}),LZ(o,n,i,r,l)}function HB(n,e,t,i,r){var o,s,a,l,u,c,d,h;if(n==="radial"){u=i.rawX,d=i.rawY,c=r.rawX,h=r.rawY;var f=v_(u,d),g=v_(u,d+(h-d)*t),p=v_(c,h+(d-h)*t),m=v_(c,h);return{x1:f.x||0,y1:f.y||0,x2:m.x||0,y2:m.y||0,cpx1:g.x||0,cpy1:g.y||0,cpx2:p.x||0,cpy2:p.y||0}}else u=i.x,d=i.y,c=r.x,h=r.y,(e==="LR"||e==="RL")&&(o=u+(c-u)*t,s=d,a=c+(u-c)*t,l=h),(e==="TB"||e==="BT")&&(o=u,s=d+(h-d)*t,a=c,l=h+(d-h)*t);return{x1:u,y1:d,x2:c,y2:h,cpx1:o,cpy1:s,cpx2:a,cpy2:l}}const nat=eat;var ca=Kt();function Xge(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Zge(e,t,n),B(t,function(i){B(e.TRANSFERABLE_METHODS,function(r){i.wrapMethod(r,dt(iat,n))})}),e.wrapMethod("cloneShallow",dt(oat,n)),B(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,dt(rat,n))}),xo(t[e.dataType]===e)}function iat(n,e){if(lat(this)){var t=be({},ca(this).datas);t[this.dataType]=e,Zge(e,t,n)}else Pz(e,this.dataType,ca(this).mainData,n);return e}function rat(n,e){return n.struct&&n.struct.update(),e}function oat(n,e){return B(ca(e).datas,function(t,i){t!==e&&Pz(t.cloneShallow(),i,e,n)}),e}function sat(n){var e=ca(this).mainData;return n==null||e==null?e:ca(e).datas[n]}function aat(){var n=ca(this).mainData;return n==null?[{data:n}]:Te(Et(ca(n).datas),function(e){return{type:e,data:ca(n).datas[e]}})}function lat(n){return ca(n).mainData===n}function Zge(n,e,t){ca(n).datas={},B(e,function(i,r){Pz(i,r,n,t)})}function Pz(n,e,t,i){ca(t).datas[e]=n,ca(n).mainData=t,n.dataType=e,i.struct&&(n[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=n),n.getLinkedData=sat,n.getLinkedDataAll=aat}var uat=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,i){qe(e)&&(i=t,t=e,e=null),e=e||{},$e(e)&&(e={order:e});var r=e.order||"preorder",o=this[e.attr||"children"],s;r==="preorder"&&(s=t.call(i,this));for(var a=0;!s&&a<o.length;a++)o[a].eachNode(e,t,i);r==="postorder"&&t.call(i,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].getNodeById(e);if(o)return o}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,i=this.children,r=i.length;t<r;t++){var o=i[t].contains(e);if(o)return o}},n.prototype.getAncestors=function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),cat=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,i){this.root.eachNode(e,t,i)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,i=0,r=t.length;i<r;i++)t[i].dataIndex=-1;for(var i=0,r=e.count();i<r;i++)t[e.getRawIndex(i)].dataIndex=i},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,i){var r=new n(t),o=[],s=1;a(e);function a(c,d){var h=c.value;s=Math.max(s,we(h)?h.length:1),o.push(c);var f=new uat(Yi(c.name,""),r);d?dat(f,d):r.root=f,r._nodes.push(f);var g=c.children;if(g)for(var p=0;p<g.length;p++)a(g[p],f)}r.root.updateDepthAndHeight(0);var l=Rw(o,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new Co(l,t);return u.initData(o),i&&i(u),Xge({mainData:u,struct:r,structAttr:"tree"}),r.update(),r},n}();function dat(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}const Oz=cat;function WS(n,e,t){if(n&&Ct(e,n.type)>=0){var i=t.getData().tree.root,r=n.targetNode;if($e(r)&&(r=i.getNodeById(r)),r&&i.contains(r))return{node:r};var o=n.targetNodeId;if(o!=null&&(r=i.getNodeById(o)))return{node:r}}}function Qge(n){for(var e=[];n;)n=n.parentNode,n&&e.push(n);return e.reverse()}function Rz(n,e){var t=Qge(n);return Ct(t,e)>=0}function NM(n,e){for(var t=[];n;){var i=n.dataIndex;t.push({name:n.name,dataIndex:i,value:e.getRawValue(i)}),n=n.parentNode}return t.reverse(),t}var hat=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var i={name:t.name,children:t.data},r=t.leaves||{},o=new Hn(r,this,this.ecModel),s=Oz.createTree(i,this,a);function a(d){d.wrapMethod("getItemModel",function(h,f){var g=s.getNodeByDataIndex(f);return g&&g.children.length&&g.isExpand||(h.parentModel=o),h})}var l=0;s.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var u=t.expandAndCollapse,c=u&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(d){var h=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=h&&h.collapsed!=null?!h.collapsed:d.depth<=c}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,i,r){for(var o=this.getData().tree,s=o.root.children[0],a=o.getNodeByDataIndex(t),l=a.getValue(),u=a.name;a&&a!==s;)u=a.parentNode.name+"."+u,a=a.parentNode;return _r("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=NM(r,this),i.collapsed=!r.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(ii);const fat=hat;function gat(n,e,t){for(var i=[n],r=[],o;o=i.pop();)if(r.push(o),o.isExpand){var s=o.children;if(s.length)for(var a=0;a<s.length;a++)i.push(s[a])}for(;o=r.pop();)e(o,t)}function H0(n,e){for(var t=[n],i;i=t.pop();)if(e(i),i.isExpand){var r=i.children;if(r.length)for(var o=r.length-1;o>=0;o--)t.push(r[o])}}function pat(n,e){n.eachSeriesByType("tree",function(t){mat(t,e)})}function mat(n,e){var t=Kst(n,e);n.layoutInfo=t;var i=n.get("layout"),r=0,o=0,s=null;i==="radial"?(r=2*Math.PI,o=Math.min(t.height,t.width)/2,s=wZ(function(_,b){return(_.parentNode===b.parentNode?1:2)/_.depth})):(r=t.width,o=t.height,s=wZ());var a=n.getData().tree.root,l=a.children[0];if(l){Hst(a),gat(l,Ust,s),a.hierNode.modifier=-l.hierNode.prelim,H0(l,Gst);var u=l,c=l,d=l;H0(l,function(_){var b=_.getLayout().x;b<u.getLayout().x&&(u=_),b>c.getLayout().x&&(c=_),_.depth>d.depth&&(d=_)});var h=u===c?1:s(u,c)/2,f=h-u.getLayout().x,g=0,p=0,m=0,v=0;if(i==="radial")g=r/(c.getLayout().x+h+f),p=o/(d.depth-1||1),H0(l,function(_){m=(_.getLayout().x+f)*g,v=(_.depth-1)*p;var b=v_(m,v);_.setLayout({x:b.x,y:b.y,rawX:m,rawY:v},!0)});else{var y=n.getOrient();y==="RL"||y==="LR"?(p=o/(c.getLayout().x+h+f),g=r/(d.depth-1||1),H0(l,function(_){v=(_.getLayout().x+f)*p,m=y==="LR"?(_.depth-1)*g:r-(_.depth-1)*g,_.setLayout({x:m,y:v},!0)})):(y==="TB"||y==="BT")&&(g=r/(c.getLayout().x+h+f),p=o/(d.depth-1||1),H0(l,function(_){m=(_.getLayout().x+f)*g,v=y==="TB"?(_.depth-1)*p:o-(_.depth-1)*p,_.setLayout({x:m,y:v},!0)}))}}}function vat(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),i=t.tree;i.eachNode(function(r){var o=r.getModel(),s=o.getModel("itemStyle").getItemStyle(),a=t.ensureUniqueItemVisual(r.dataIndex,"style");be(a,s)})})}function yat(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var r=e.dataIndex,o=i.getData().tree,s=o.getNodeByDataIndex(r);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,i){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var o=r.coordinateSystem,s=kz(o,e,void 0,i);r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})}function _at(n){n.registerChartView(nat),n.registerSeriesModel(fat),n.registerLayout(pat),n.registerVisual(vat),yat(n)}var IZ=["treemapZoomToNode","treemapRender","treemapMove"];function bat(n){for(var e=0;e<IZ.length;e++)n.registerAction({type:IZ[e],update:"updateView"},Ni);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,i){i.eachComponent({mainType:"series",subType:"treemap",query:t},r);function r(o,s){var a=["treemapZoomToNode","treemapRootToNode"],l=WS(t,a,o);if(l){var u=o.getViewRoot();u&&(t.direction=Rz(u,l.node)?"rollUp":"drillDown"),o.resetViewRoot(l.node)}}})}function Jge(n){var e=n.getData(),t=e.tree,i={};t.eachNode(function(r){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=yB(n.ecModel,o.name||o.dataIndex+"",i);r.setVisual("decal",s)})}var Sat=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventUsingHoverLayer=!0,t}return e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};epe(r);var o=t.levels||[],s=this.designatedVisualItemStyle={},a=new Hn({itemStyle:s},this,i);o=t.levels=wat(o,i);var l=Te(o||[],function(d){return new Hn(d,a,i)},this),u=Oz.createTree(r,this,c);function c(d){d.wrapMethod("getItemModel",function(h,f){var g=u.getNodeByDataIndex(f),p=g?l[g.depth]:null;return h.parentModel=p||a,h})}return u.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.getRawValue(t),a=o.getName(t);return _r("nameValue",{name:a,value:s})},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treeAncestors=NM(r,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},be(this.layoutInfo,t)},e.prototype.mapIdToIndex=function(t){var i=this._idIndexMap;i||(i=this._idIndexMap=Ue(),this._idIndexMapCount=0);var r=i.get(t);return r==null&&i.set(t,r=this._idIndexMapCount++),r},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){Jge(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(ii);function epe(n){var e=0;B(n.children,function(i){epe(i);var r=i.value;we(r)&&(r=r[0]),e+=r});var t=n.value;we(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),we(n.value)?n.value[0]=t:n.value=t}function wat(n,e){var t=Pn(e.get("color")),i=Pn(e.get(["aria","decal","decals"]));if(t){n=n||[];var r,o;B(n,function(a){var l=new Hn(a),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(r=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(o=!0)});var s=n[0]||(n[0]={});return r||(s.color=t.slice()),!o&&i&&(s.decal=i.slice()),n}}const Cat=Sat;var xat=8,DZ=8,Fk=5,Lat=function(){function n(e){this.group=new st,e.add(this.group)}return n.prototype.render=function(e,t,i,r){var o=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!o.get("show")||!i)){var a=o.getModel("itemStyle"),l=o.getModel("emphasis"),u=a.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),d={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,u),this._renderContent(e,d,a,l,u,c,r),_M(s,d.pos,d.box)}},n.prototype._prepare=function(e,t,i){for(var r=e;r;r=r.parentNode){var o=Yi(r.getModel().get("name"),""),s=i.getTextRect(o),a=Math.max(s.width+xat*2,t.emptyItemWidth);t.totalWidth+=a+DZ,t.renderList.push({node:r,text:o,width:a})}},n.prototype._renderContent=function(e,t,i,r,o,s,a){for(var l=0,u=t.emptyItemWidth,c=e.get(["breadcrumb","height"]),d=OQe(t.pos,t.box),h=t.totalWidth,f=t.renderList,g=r.getModel("itemStyle").getItemStyle(),p=f.length-1;p>=0;p--){var m=f[p],v=m.node,y=m.width,_=m.text;h>d.width&&(h-=y-u,y=u,_=null);var b=new Zo({shape:{points:Tat(l,0,y,c,p===f.length-1,p===0)},style:Qe(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new Zt({style:zn(o,{text:_})}),textConfig:{position:"inside"},z2:Fy*1e4,onclick:dt(a,v)});b.disableLabelAnimation=!0,b.getTextContent().ensureState("emphasis").style=zn(s,{text:_}),b.ensureState("emphasis").style=g,mi(b,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(b),Iat(b,e,v),l+=y+DZ}},n.prototype.remove=function(){this.group.removeAll()},n}();function Tat(n,e,t,i,r,o){var s=[[r?n:n-Fk,e],[n+t,e],[n+t,e+i],[r?n:n-Fk,e+i]];return!o&&s.splice(2,0,[n+t+Fk,e+i/2]),!r&&s.push([n,e+i/2]),s}function Iat(n,e,t){ut(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&NM(t,e)}}const Dat=Lat;var Eat=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(e,t,i,r,o){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:i,delay:r,easing:o}),!0)},n.prototype.finished=function(e){return this._finishedCallback=e,this},n.prototype.start=function(){for(var e=this,t=this._storage.length,i=function(){t--,t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,o=this._storage.length;r<o;r++){var s=this._storage[r];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:i,aborted:i})}return this},n}();function Mat(){return new Eat}var UB=st,EZ=Gt,MZ=3,AZ="label",NZ="upperLabel",Aat=Fy*10,Nat=Fy*2,kat=Fy*3,bf=Jg([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),kZ=function(n){var e=bf(n);return e.stroke=e.fill=e.lineWidth=null,e},qI=Kt(),Pat=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._state="ready",t._storage=U0(),t}return e.prototype.render=function(t,i,r,o){var s=i.findComponents({mainType:"series",subType:"treemap",query:o});if(!(Ct(s,t)<0)){this.seriesModel=t,this.api=r,this.ecModel=i;var a=["treemapZoomToNode","treemapRootToNode"],l=WS(o,a,t),u=o&&o.type,c=t.layoutInfo,d=!this._oldTree,h=this._storage,f=u==="treemapRootToNode"&&l&&h?{rootNodeGroup:h.nodeGroup[l.node.getRawIndex()],direction:o.direction}:null,g=this._giveContainerGroup(c),p=t.get("animation"),m=this._doRender(g,t,f);p&&!d&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(g,m,t,f):m.renderFinally(),this._resetController(r),this._renderBreadcrumb(t,r,l)}},e.prototype._giveContainerGroup=function(t){var i=this._containerGroup;return i||(i=this._containerGroup=new UB,this._initEvents(i),this.group.add(i)),i.x=t.x,i.y=t.y,i},e.prototype._doRender=function(t,i,r){var o=i.getData().tree,s=this._oldTree,a=U0(),l=U0(),u=this._storage,c=[];function d(m,v,y,_){return Oat(i,l,u,r,a,c,m,v,y,_)}f(o.root?[o.root]:[],s&&s.root?[s.root]:[],t,o===s||!s,0);var h=g(u);return this._oldTree=o,this._storage=l,{lastsForAnimation:a,willDeleteEls:h,renderFinally:p};function f(m,v,y,_,b){_?(v=m,B(m,function(C,x){!C.isRemoved()&&w(x,x)})):new Pc(v,m,S,S).add(w).update(w).remove(dt(w,null)).execute();function S(C){return C.getId()}function w(C,x){var L=C!=null?m[C]:null,T=x!=null?v[x]:null,I=d(L,T,y,b);I&&f(L&&L.viewChildren||[],T&&T.viewChildren||[],I,_,b+1)}}function g(m){var v=U0();return m&&B(m,function(y,_){var b=v[_];B(y,function(S){S&&(b.push(S),qI(S).willDelete=!0)})}),v}function p(){B(h,function(m){B(m,function(v){v.parent&&v.parent.remove(v)})}),B(c,function(m){m.invisible=!0,m.dirty()})}},e.prototype._doAnimation=function(t,i,r,o){var s=r.get("animationDurationUpdate"),a=r.get("animationEasing"),l=(qe(s)?0:s)||0,u=(qe(a)?null:a)||"cubicOut",c=Mat();B(i.willDeleteEls,function(d,h){B(d,function(f,g){if(!f.invisible){var p=f.parent,m,v=qI(p);if(o&&o.direction==="drillDown")m=p===o.rootNodeGroup?{shape:{x:0,y:0,width:v.nodeWidth,height:v.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,_=0;v.willDelete||(y=v.nodeWidth/2,_=v.nodeHeight/2),m=h==="nodeGroup"?{x:y,y:_,style:{opacity:0}}:{shape:{x:y,y:_,width:0,height:0},style:{opacity:0}}}m&&c.add(f,m,l,0,u)}})}),B(this._storage,function(d,h){B(d,function(f,g){var p=i.lastsForAnimation[h][g],m={};p&&(f instanceof st?p.oldX!=null&&(m.x=f.x,m.y=f.y,f.x=p.oldX,f.y=p.oldY):(p.oldShape&&(m.shape=be({},f.shape),f.setShape(p.oldShape)),p.fadein?(f.setStyle("opacity",0),m.style={opacity:1}):f.style.opacity!==1&&(m.style={opacity:1})),c.add(f,m,l,0,u))})},this),this._state="animating",c.finished(We(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(t){var i=this._controller;i||(i=this._controller=new Uw(t.getZr()),i.enable(this.seriesModel.get("roam")),i.on("pan",We(this._onPan,this)),i.on("zoom",We(this._onZoom,this)));var r=new mt(0,0,t.getWidth(),t.getHeight());i.setPointerChecker(function(o,s,a){return r.contain(s,a)})},e.prototype._clearController=function(){var t=this._controller;t&&(t.dispose(),t=null)},e.prototype._onPan=function(t){if(this._state!=="animating"&&(Math.abs(t.dx)>MZ||Math.abs(t.dy)>MZ)){var i=this.seriesModel.getData().tree.root;if(!i)return;var r=i.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},e.prototype._onZoom=function(t){var i=t.originX,r=t.originY;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var a=new mt(s.x,s.y,s.width,s.height),l=this.seriesModel.layoutInfo;i-=l.x,r-=l.y;var u=ha();fu(u,u,[-i,-r]),xW(u,u,[t.scale,t.scale]),fu(u,u,[i,r]),a.applyTransform(u),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},e.prototype._initEvents=function(t){var i=this;t.on("click",function(r){if(i._state==="ready"){var o=i.seriesModel.get("nodeClick",!0);if(o){var s=i.findTarget(r.offsetX,r.offsetY);if(s){var a=s.node;if(a.getLayout().isLeafRoot)i._rootToNode(s);else if(o==="zoomToNode")i._zoomToNode(s);else if(o==="link"){var l=a.hostTree.data.getItemModel(a.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&AI(u,c)}}}}},this)},e.prototype._renderBreadcrumb=function(t,i,r){var o=this;r||(r=t.get("leafDepth",!0)!=null?{node:t.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2),r||(r={node:t.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Dat(this.group))).render(t,i,r.node,function(s){o._state!=="animating"&&(Rz(t.getViewRoot(),s)?o._rootToNode({node:s}):o._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=U0(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},e.prototype.findTarget=function(t,i){var r,o=this.seriesModel.getViewRoot();return o.eachNode({attr:"viewChildren",order:"preorder"},function(s){var a=this._storage.background[s.getRawIndex()];if(a){var l=a.transformCoordToLocal(t,i),u=a.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)r={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),r},e.type="treemap",e}(Un);function U0(){return{nodeGroup:[],background:[],content:[]}}function Oat(n,e,t,i,r,o,s,a,l,u){if(!s)return;var c=s.getLayout(),d=n.getData(),h=s.getModel();if(d.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var f=c.width,g=c.height,p=c.borderWidth,m=c.invisible,v=s.getRawIndex(),y=a&&a.getRawIndex(),_=s.viewChildren,b=c.upperHeight,S=_&&_.length,w=h.getModel("itemStyle"),C=h.getModel(["emphasis","itemStyle"]),x=h.getModel(["blur","itemStyle"]),L=h.getModel(["select","itemStyle"]),T=w.get("borderRadius")||0,I=X("nodeGroup",UB);if(!I)return;if(l.add(I),I.x=c.x||0,I.y=c.y||0,I.markRedraw(),qI(I).nodeWidth=f,qI(I).nodeHeight=g,c.isAboveViewRoot)return I;var D=X("background",EZ,u,Nat);D&&$(I,D,S&&c.upperLabelHeight);var M=h.getModel("emphasis"),P=M.get("focus"),k=M.get("blurScope"),O=M.get("disabled"),F=P==="ancestor"?s.getAncestorsIndices():P==="descendant"?s.getDescendantIndices():P;if(S)DS(I)&&Jf(I,!1),D&&(Jf(D,!O),d.setItemGraphicEl(s.dataIndex,D),cB(D,F,k));else{var R=X("content",EZ,u,kat);R&&H(I,R),D.disableMorphing=!0,D&&DS(D)&&Jf(D,!1),Jf(I,!O),d.setItemGraphicEl(s.dataIndex,I),cB(I,F,k)}return I;function $(j,ie,Q){var le=ut(ie);if(le.dataIndex=s.dataIndex,le.seriesIndex=n.seriesIndex,ie.setShape({x:0,y:0,width:f,height:g,r:T}),m)U(ie);else{ie.invisible=!1;var ue=s.getVisual("style"),W=ue.stroke,G=kZ(w);G.fill=W;var K=bf(C);K.fill=C.get("borderColor");var de=bf(x);de.fill=x.get("borderColor");var Y=bf(L);if(Y.fill=L.get("borderColor"),Q){var oe=f-2*p;z(ie,W,ue.opacity,{x:p,y:0,width:oe,height:b})}else ie.removeTextContent();ie.setStyle(G),ie.ensureState("emphasis").style=K,ie.ensureState("blur").style=de,ie.ensureState("select").style=Y,ep(ie)}j.add(ie)}function H(j,ie){var Q=ut(ie);Q.dataIndex=s.dataIndex,Q.seriesIndex=n.seriesIndex;var le=Math.max(f-2*p,0),ue=Math.max(g-2*p,0);if(ie.culling=!0,ie.setShape({x:p,y:p,width:le,height:ue,r:T}),m)U(ie);else{ie.invisible=!1;var W=s.getVisual("style"),G=W.fill,K=kZ(w);K.fill=G,K.decal=W.decal;var de=bf(C),Y=bf(x),oe=bf(L);z(ie,G,W.opacity,null),ie.setStyle(K),ie.ensureState("emphasis").style=de,ie.ensureState("blur").style=Y,ie.ensureState("select").style=oe,ep(ie)}j.add(ie)}function U(j){!j.invisible&&o.push(j)}function z(j,ie,Q,le){var ue=h.getModel(le?NZ:AZ),W=Yi(h.get("name"),null),G=ue.getShallow("show");Wr(j,yr(h,le?NZ:AZ),{defaultText:G?W:null,inheritColor:ie,defaultOpacity:Q,labelFetcher:n,labelDataIndex:s.dataIndex});var K=j.getTextContent();if(K){var de=K.style,Y=SW(de.padding||0);le&&(j.setTextConfig({layoutRect:le}),K.disableLabelLayout=!0),K.beforeUpdate=function(){var te=Math.max((le?le.width:j.shape.width)-Y[1]-Y[3],0),J=Math.max((le?le.height:j.shape.height)-Y[0]-Y[2],0);(de.width!==te||de.height!==J)&&K.setStyle({width:te,height:J})},de.truncateMinChar=2,de.lineOverflow="truncate",Z(de,le,c);var oe=K.getState("emphasis");Z(oe?oe.style:null,le,c)}}function Z(j,ie,Q){var le=j?j.text:null;if(!ie&&Q.isLeafRoot&&le!=null){var ue=n.get("drillDownIcon",!0);j.text=ue?ue+" "+le:le}}function X(j,ie,Q,le){var ue=y!=null&&t[j][y],W=r[j];return ue?(t[j][y]=null,ce(W,ue)):m||(ue=new ie,ue instanceof fa&&(ue.z2=Rat(Q,le)),q(W,ue)),e[j][v]=ue}function ce(j,ie){var Q=j[v]={};ie instanceof UB?(Q.oldX=ie.x,Q.oldY=ie.y):Q.oldShape=be({},ie.shape)}function q(j,ie){var Q=j[v]={},le=s.parentNode,ue=ie instanceof st;if(le&&(!i||i.direction==="drillDown")){var W=0,G=0,K=r.background[le.getRawIndex()];!i&&K&&K.oldShape&&(W=K.oldShape.width,G=K.oldShape.height),ue?(Q.oldX=0,Q.oldY=G):Q.oldShape={x:W,y:G,width:0,height:0}}Q.fadein=!ue}}function Rat(n,e){return n*Aat+e}const Bat=Pat;var zS=B,Fat=et,YI=-1,Bz=function(){function n(e){var t=e.mappingMethod,i=e.type,r=this.option=rt(e);this.type=i,this.mappingMethod=t,this._normalizeData=Wat[t];var o=n.visualHandlers[i];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[t],t==="piecewise"?($k(r),$at(r)):t==="category"?r.categories?Vat(r):$k(r,!0):(xo(t!=="linear"||r.dataExtent),$k(r))}return n.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},n.prototype.getNormalizer=function(){return We(this._normalizeData,this)},n.listVisualTypes=function(){return Et(n.visualHandlers)},n.isValidType=function(e){return n.visualHandlers.hasOwnProperty(e)},n.eachVisual=function(e,t,i){et(e)?B(e,t,i):t.call(i,e)},n.mapVisual=function(e,t,i){var r,o=we(e)?[]:et(e)?{}:(r=!0,null);return n.eachVisual(e,function(s,a){var l=t.call(i,s,a);r?o=l:o[a]=l}),o},n.retrieveVisuals=function(e){var t={},i;return e&&zS(n.visualHandlers,function(r,o){e.hasOwnProperty(o)&&(t[o]=e[o],i=!0)}),i?t:null},n.prepareVisualTypes=function(e){if(we(e))e=e.slice();else if(Fat(e)){var t=[];zS(e,function(i,r){t.push(r)}),e=t}else return[];return e.sort(function(i,r){return r==="color"&&i!=="color"&&i.indexOf("color")===0?1:-1}),e},n.dependsOn=function(e,t){return t==="color"?!!(e&&e.indexOf(t)===0):e===t},n.findPieceIndex=function(e,t,i){for(var r,o=1/0,s=0,a=t.length;s<a;s++){var l=t[s].value;if(l!=null){if(l===e||$e(l)&&l===e+"")return s;i&&h(l,s)}}for(var s=0,a=t.length;s<a;s++){var u=t[s],c=u.interval,d=u.close;if(c){if(c[0]===-1/0){if(ZC(d[1],e,c[1]))return s}else if(c[1]===1/0){if(ZC(d[0],c[0],e))return s}else if(ZC(d[0],c[0],e)&&ZC(d[1],e,c[1]))return s;i&&h(c[0],s),i&&h(c[1],s)}}if(i)return e===1/0?t.length-1:e===-1/0?0:r;function h(f,g){var p=Math.abs(f-e);p<o&&(o=p,r=g)}},n.visualHandlers={color:{applyVisual:G0("color"),getColorMapper:function(){var e=this.option;return We(e.mappingMethod==="category"?function(t,i){return!i&&(t=this._normalizeData(t)),y_.call(this,t)}:function(t,i,r){var o=!!r;return!i&&(t=this._normalizeData(t)),r=bN(t,e.parsedVisual,r),o?r:_c(r,"rgba")},this)},_normalizedToVisual:{linear:function(e){return _c(bN(e,this.option.parsedVisual),"rgba")},category:y_,piecewise:function(e,t){var i=KB.call(this,t);return i==null&&(i=_c(bN(e,this.option.parsedVisual),"rgba")),i},fixed:Sf}},colorHue:XC(function(e,t){return lb(e,t)}),colorSaturation:XC(function(e,t){return lb(e,null,t)}),colorLightness:XC(function(e,t){return lb(e,null,null,t)}),colorAlpha:XC(function(e,t){return yI(e,t)}),decal:{applyVisual:G0("decal"),_normalizedToVisual:{linear:null,category:y_,piecewise:null,fixed:null}},opacity:{applyVisual:G0("opacity"),_normalizedToVisual:GB([0,1])},liftZ:{applyVisual:G0("liftZ"),_normalizedToVisual:{linear:Sf,category:Sf,piecewise:Sf,fixed:Sf}},symbol:{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("symbol",r)},_normalizedToVisual:{linear:PZ,category:y_,piecewise:function(e,t){var i=KB.call(this,t);return i==null&&(i=PZ.call(this,e)),i},fixed:Sf}},symbolSize:{applyVisual:G0("symbolSize"),_normalizedToVisual:GB([0,1])}},n}();function $at(n){var e=n.pieceList;n.hasSpecialVisual=!1,B(e,function(t,i){t.originIndex=i,t.visual!=null&&(n.hasSpecialVisual=!0)})}function Vat(n){var e=n.categories,t=n.categoryMap={},i=n.visual;if(zS(e,function(s,a){t[s]=a}),!we(i)){var r=[];et(i)?zS(i,function(s,a){var l=t[a];r[l??YI]=s}):r[YI]=i,i=tpe(n,r)}for(var o=e.length-1;o>=0;o--)i[o]==null&&(delete t[e[o]],e.pop())}function $k(n,e){var t=n.visual,i=[];et(t)?zS(t,function(o){i.push(o)}):t!=null&&i.push(t);var r={color:1,symbol:1};!e&&i.length===1&&!r.hasOwnProperty(n.type)&&(i[1]=i[0]),tpe(n,i)}function XC(n){return{applyVisual:function(e,t,i){var r=this.mapValueToVisual(e);i("color",n(t("color"),r))},_normalizedToVisual:GB([0,1])}}function PZ(n){var e=this.option.visual;return e[Math.round(yn(n,[0,1],[0,e.length-1],!0))]||{}}function G0(n){return function(e,t,i){i(n,this.mapValueToVisual(e))}}function y_(n){var e=this.option.visual;return e[this.option.loop&&n!==YI?n%e.length:n]}function Sf(){return this.option.visual[0]}function GB(n){return{linear:function(e){return yn(e,n,this.option.visual,!0)},category:y_,piecewise:function(e,t){var i=KB.call(this,t);return i==null&&(i=yn(e,n,this.option.visual,!0)),i},fixed:Sf}}function KB(n){var e=this.option,t=e.pieceList;if(e.hasSpecialVisual){var i=Bz.findPieceIndex(n,t),r=t[i];if(r&&r.visual)return r.visual[this.type]}}function tpe(n,e){return n.visual=e,n.type==="color"&&(n.parsedVisual=Te(e,function(t){var i=ys(t);return i||[0,0,0,1]})),e}var Wat={linear:function(n){return yn(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var e=this.option.pieceList,t=Bz.findPieceIndex(n,e,!0);if(t!=null)return yn(t,[0,e.length-1],[0,1],!0)},category:function(n){var e=this.option.categories?this.option.categoryMap[n]:n;return e??YI},fixed:Ni};function ZC(n,e,t){return n?e<=t:e<t}const $r=Bz;var zat="itemStyle",npe=Kt();const Hat={seriesType:"treemap",reset:function(n){var e=n.getData().tree,t=e.root;t.isRemoved()||ipe(t,{},n.getViewRoot().getAncestors(),n)}};function ipe(n,e,t,i){var r=n.getModel(),o=n.getLayout(),s=n.hostTree.data;if(!(!o||o.invisible||!o.isInView)){var a=r.getModel(zat),l=Uat(a,e,i),u=s.ensureUniqueItemVisual(n.dataIndex,"style"),c=a.get("borderColor"),d=a.get("borderColorSaturation"),h;d!=null&&(h=OZ(l),c=Gat(d,h)),u.stroke=c;var f=n.viewChildren;if(!f||!f.length)h=OZ(l),u.fill=h;else{var g=Kat(n,r,o,a,l,f);B(f,function(p,m){if(p.depth>=t.length||p===t[p.depth]){var v=jat(r,l,p,m,g,i);ipe(p,v,t,i)}})}}}function Uat(n,e,t){var i=be({},e),r=t.designatedVisualItemStyle;return B(["color","colorAlpha","colorSaturation"],function(o){r[o]=e[o];var s=n.get(o);r[o]=null,s!=null&&(i[o]=s)}),i}function OZ(n){var e=Vk(n,"color");if(e){var t=Vk(n,"colorAlpha"),i=Vk(n,"colorSaturation");return i&&(e=lb(e,null,null,i)),t&&(e=yI(e,t)),e}}function Gat(n,e){return e!=null?lb(e,null,null,n):null}function Vk(n,e){var t=n[e];if(t!=null&&t!=="none")return t}function Kat(n,e,t,i,r,o){if(!(!o||!o.length)){var s=Wk(e,"color")||r.color!=null&&r.color!=="none"&&(Wk(e,"colorAlpha")||Wk(e,"colorSaturation"));if(s){var a=e.get("visualMin"),l=e.get("visualMax"),u=t.dataExtent.slice();a!=null&&a<u[0]&&(u[0]=a),l!=null&&l>u[1]&&(u[1]=l);var c=e.get("colorMappingBy"),d={type:s.name,dataExtent:u,visual:s.range};d.type==="color"&&(c==="index"||c==="id")?(d.mappingMethod="category",d.loop=!0):d.mappingMethod="linear";var h=new $r(d);return npe(h).drColorMappingBy=c,h}}}function Wk(n,e){var t=n.get(e);return we(t)&&t.length?{name:e,range:t}:null}function jat(n,e,t,i,r,o){var s=be({},e);if(r){var a=r.type,l=a==="color"&&npe(r).drColorMappingBy,u=l==="index"?i:l==="id"?o.mapIdToIndex(t.getId()):t.getValue(n.get("visualDimension"));s[a]=r.mapValueToVisual(u)}return s}var HS=Math.max,XI=Math.min,RZ=Dr,Fz=B,rpe=["itemStyle","borderWidth"],qat=["itemStyle","gapWidth"],Yat=["upperLabel","show"],Xat=["upperLabel","height"];const Zat={seriesType:"treemap",reset:function(n,e,t,i){var r=t.getWidth(),o=t.getHeight(),s=n.option,a=tr(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=s.size||[],u=Fe(RZ(a.width,l[0]),r),c=Fe(RZ(a.height,l[1]),o),d=i&&i.type,h=["treemapZoomToNode","treemapRootToNode"],f=WS(i,h,n),g=d==="treemapRender"||d==="treemapMove"?i.rootRect:null,p=n.getViewRoot(),m=Qge(p);if(d!=="treemapMove"){var v=d==="treemapZoomToNode"?ilt(n,f,p,u,c):g?[g.width,g.height]:[u,c],y=s.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var _={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};p.hostTree.clearLayouts();var b={x:0,y:0,width:v[0],height:v[1],area:v[0]*v[1]};p.setLayout(b),ope(p,_,!1,0),b=p.getLayout(),Fz(m,function(w,C){var x=(m[C+1]||p).getValue();w.setLayout(be({dataExtent:[x,x],borderWidth:0,upperHeight:0},b))})}var S=n.getData().tree.root;S.setLayout(rlt(a,g,f),!0),n.setLayoutInfo(a),spe(S,new mt(-a.x,-a.y,r,o),m,p,0)}};function ope(n,e,t,i){var r,o;if(!n.isRemoved()){var s=n.getLayout();r=s.width,o=s.height;var a=n.getModel(),l=a.get(rpe),u=a.get(qat)/2,c=ape(a),d=Math.max(l,c),h=l-u,f=d-u;n.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:c},!0),r=HS(r-2*h,0),o=HS(o-h-f,0);var g=r*o,p=Qat(n,a,g,e,t,i);if(p.length){var m={x:h,y:f,width:r,height:o},v=XI(r,o),y=1/0,_=[];_.area=0;for(var b=0,S=p.length;b<S;){var w=p[b];_.push(w),_.area+=w.getLayout().area;var C=nlt(_,v,e.squareRatio);C<=y?(b++,y=C):(_.area-=_.pop().getLayout().area,BZ(_,v,m,u,!1),v=XI(m.width,m.height),_.length=_.area=0,y=1/0)}if(_.length&&BZ(_,v,m,u,!0),!t){var x=a.get("childrenVisibleMin");x!=null&&g<x&&(t=!0)}for(var b=0,S=p.length;b<S;b++)ope(p[b],e,t,i+1)}}}function Qat(n,e,t,i,r,o){var s=n.children||[],a=i.sort;a!=="asc"&&a!=="desc"&&(a=null);var l=i.leafDepth!=null&&i.leafDepth<=o;if(r&&!l)return n.viewChildren=[];s=xn(s,function(f){return!f.isRemoved()}),elt(s,a);var u=tlt(e,s,a);if(u.sum===0)return n.viewChildren=[];if(u.sum=Jat(e,t,u.sum,a,s),u.sum===0)return n.viewChildren=[];for(var c=0,d=s.length;c<d;c++){var h=s[c].getValue()/u.sum*t;s[c].setLayout({area:h})}return l&&(s.length&&n.setLayout({isLeafRoot:!0},!0),s.length=0),n.viewChildren=s,n.setLayout({dataExtent:u.dataExtent},!0),s}function Jat(n,e,t,i,r){if(!i)return t;for(var o=n.get("visibleMin"),s=r.length,a=s,l=s-1;l>=0;l--){var u=r[i==="asc"?s-l-1:l].getValue();u/t*e<o&&(a=l,t-=u)}return i==="asc"?r.splice(0,s-a):r.splice(a,s-a),t}function elt(n,e){return e&&n.sort(function(t,i){var r=e==="asc"?t.getValue()-i.getValue():i.getValue()-t.getValue();return r===0?e==="asc"?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r}),n}function tlt(n,e,t){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var s=n.get("visualDimension"),a;return!e||!e.length?a=[NaN,NaN]:s==="value"&&t?(a=[e[e.length-1].getValue(),e[0].getValue()],t==="asc"&&a.reverse()):(a=[1/0,-1/0],Fz(e,function(l){var u=l.getValue(s);u<a[0]&&(a[0]=u),u>a[1]&&(a[1]=u)})),{sum:i,dataExtent:a}}function nlt(n,e,t){for(var i=0,r=1/0,o=0,s=void 0,a=n.length;o<a;o++)s=n[o].getLayout().area,s&&(s<r&&(r=s),s>i&&(i=s));var l=n.area*n.area,u=e*e*t;return l?HS(u*i/l,l/(u*r)):1/0}function BZ(n,e,t,i,r){var o=e===t.width?0:1,s=1-o,a=["x","y"],l=["width","height"],u=t[a[o]],c=e?n.area/e:0;(r||c>t[l[s]])&&(c=t[l[s]]);for(var d=0,h=n.length;d<h;d++){var f=n[d],g={},p=c?f.getLayout().area/c:0,m=g[l[s]]=HS(c-2*i,0),v=t[a[o]]+t[l[o]]-u,y=d===h-1||v<p?v:p,_=g[l[o]]=HS(y-2*i,0);g[a[s]]=t[a[s]]+XI(i,m/2),g[a[o]]=u+XI(i,_/2),u+=y,f.setLayout(g,!0)}t[a[s]]+=c,t[l[s]]-=c}function ilt(n,e,t,i,r){var o=(e||{}).node,s=[i,r];if(!o||o===t)return s;for(var a,l=i*r,u=l*n.option.zoomToNodeRatio;a=o.parentNode;){for(var c=0,d=a.children,h=0,f=d.length;h<f;h++)c+=d[h].getValue();var g=o.getValue();if(g===0)return s;u*=c/g;var p=a.getModel(),m=p.get(rpe),v=Math.max(m,ape(p));u+=4*m*m+(3*m+v)*Math.pow(u,.5),u>jj&&(u=jj),o=a}u<l&&(u=l);var y=Math.pow(u/l,.5);return[i*y,r*y]}function rlt(n,e,t){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!t)return i;var r=t.node,o=r.getLayout();if(!o)return i;for(var s=[o.width/2,o.height/2],a=r;a;){var l=a.getLayout();s[0]+=l.x,s[1]+=l.y,a=a.parentNode}return{x:n.width/2-s[0],y:n.height/2-s[1]}}function spe(n,e,t,i,r){var o=n.getLayout(),s=t[r],a=s&&s===n;if(!(s&&!a||r===t.length&&n!==i)){n.setLayout({isInView:!0,invisible:!a&&!e.intersect(o),isAboveViewRoot:a},!0);var l=new mt(e.x-o.x,e.y-o.y,e.width,e.height);Fz(n.viewChildren||[],function(u){spe(u,l,t,i,r+1)})}}function ape(n){return n.get(Yat)?n.get(Xat):0}function olt(n){n.registerSeriesModel(Cat),n.registerChartView(Bat),n.registerVisual(Hat),n.registerLayout(Zat),bat(n)}function slt(n){var e=n.findComponents({mainType:"legend"});!e||!e.length||n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getGraph(),o=r.data,s=i.mapArray(i.getName);o.filterSelf(function(a){var l=o.getItemModel(a),u=l.getShallow("category");if(u!=null){Jt(u)&&(u=s[u]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(u))return!1}return!0})})}function alt(n){var e={};n.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),r=t.getData(),o={};i.each(function(s){var a=i.getName(s);o["ec-"+a]=s;var l=i.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(a,e)),i.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],d=0;d<c.length;d++){var h=l.getShallow(c[d],!0);h!=null&&i.setItemVisual(s,c[d],h)}}),i.count()&&r.each(function(s){var a=r.getItemModel(s),l=a.getShallow("category");if(l!=null){$e(l)&&(l=o["ec-"+l]);var u=i.getItemVisual(l,"style"),c=r.ensureUniqueItemVisual(s,"style");be(c,u);for(var d=["symbol","symbolSize","symbolKeepAspect"],h=0;h<d.length;h++)r.setItemVisual(s,d[h],i.getItemVisual(l,d[h]))}})})}function QC(n){return n instanceof Array||(n=[n,n]),n}function llt(n){n.eachSeriesByType("graph",function(e){var t=e.getGraph(),i=e.getEdgeData(),r=QC(e.get("edgeSymbol")),o=QC(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(s){var a=i.getItemModel(s),l=t.getEdgeByIndex(s),u=QC(a.getShallow("symbol",!0)),c=QC(a.getShallow("symbolSize",!0)),d=a.getModel("lineStyle").getLineStyle(),h=i.ensureUniqueItemVisual(s,"style");switch(be(h,d),h.stroke){case"source":{var f=l.node1.getVisual("style");h.stroke=f&&f.fill;break}case"target":{var f=l.node2.getVisual("style");h.stroke=f&&f.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var jB="-->",kM=function(n){return n.get("autoCurveness")||null},lpe=function(n,e){var t=kM(n),i=20,r=[];if(Jt(t))i=t;else if(we(t)){n.__curvenessList=t;return}e>i&&(i=e);var o=i%2?i+2:i+3;r=[];for(var s=0;s<o;s++)r.push((s%2?s+1:s)/10*(s%2?-1:1));n.__curvenessList=r},US=function(n,e,t){var i=[n.id,n.dataIndex].join("."),r=[e.id,e.dataIndex].join(".");return[t.uid,i,r].join(jB)},upe=function(n){var e=n.split(jB);return[e[0],e[2],e[1]].join(jB)},ult=function(n,e){var t=US(n.node1,n.node2,e);return e.__edgeMap[t]},clt=function(n,e){var t=qB(US(n.node1,n.node2,e),e),i=qB(US(n.node2,n.node1,e),e);return t+i},qB=function(n,e){var t=e.__edgeMap;return t[n]?t[n].length:0};function dlt(n){kM(n)&&(n.__curvenessList=[],n.__edgeMap={},lpe(n))}function hlt(n,e,t,i){if(kM(t)){var r=US(n,e,t),o=t.__edgeMap,s=o[upe(r)];o[r]&&!s?o[r].isForward=!0:s&&o[r]&&(s.isForward=!0,o[r].isForward=!1),o[r]=o[r]||[],o[r].push(i)}}function $z(n,e,t,i){var r=kM(e),o=we(r);if(!r)return null;var s=ult(n,e);if(!s)return null;for(var a=-1,l=0;l<s.length;l++)if(s[l]===t){a=l;break}var u=clt(n,e);lpe(e,u),n.lineStyle=n.lineStyle||{};var c=US(n.node1,n.node2,e),d=e.__curvenessList,h=o||u%2?0:1;if(s.isForward)return d[h+a];var f=upe(c),g=qB(f,e),p=d[a+g+h];return i?o?r&&r[0]===0?(g+h)%2?p:-p:((g%2?0:1)+h)%2?p:-p:(g+h)%2?p:-p:d[a+g+h]}function cpe(n){var e=n.coordinateSystem;if(!(e&&e.type!=="view")){var t=n.getGraph();t.eachNode(function(i){var r=i.getModel();i.setLayout([+r.get("x"),+r.get("y")])}),Vz(t,n)}}function Vz(n,e){n.eachEdge(function(t,i){var r=eu(t.getModel().get(["lineStyle","curveness"]),-$z(t,e,i,!0),0),o=vc(t.node1.getLayout()),s=vc(t.node2.getLayout()),a=[o,s];+r&&a.push([(o[0]+s[0])/2-(o[1]-s[1])*r,(o[1]+s[1])/2-(s[0]-o[0])*r]),t.setLayout(a)})}function flt(n,e){n.eachSeriesByType("graph",function(t){var i=t.get("layout"),r=t.coordinateSystem;if(r&&r.type!=="view"){var o=t.getData(),s=[];B(r.dimensions,function(h){s=s.concat(o.mapDimensionsAll(h))});for(var a=0;a<o.count();a++){for(var l=[],u=!1,c=0;c<s.length;c++){var d=o.get(s[c],a);isNaN(d)||(u=!0),l.push(d)}u?o.setItemLayout(a,r.dataToPoint(l)):o.setItemLayout(a,[NaN,NaN])}Vz(o.graph,t)}else(!i||i==="none")&&cpe(t)})}function __(n){var e=n.coordinateSystem;if(e.type!=="view")return 1;var t=n.option.nodeScaleRatio,i=e.scaleX,r=e.getZoom(),o=(r-1)*t+1;return o/i}function b_(n){var e=n.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var FZ=Math.PI,zk=[];function Wz(n,e,t,i){var r=n.coordinateSystem;if(!(r&&r.type!=="view")){var o=r.getBoundingRect(),s=n.getData(),a=s.graph,l=o.width/2+o.x,u=o.height/2+o.y,c=Math.min(o.width,o.height)/2,d=s.count();if(s.setLayout({cx:l,cy:u}),!!d){if(t){var h=r.pointToData(i),f=h[0],g=h[1],p=[f-l,g-u];Oy(p,p),oL(p,p,c),t.setLayout([l+p[0],u+p[1]],!0);var m=n.get(["circular","rotateLabel"]);dpe(t,m,l,u)}glt[e](n,a,s,c,l,u,d),a.eachEdge(function(v,y){var _=eu(v.getModel().get(["lineStyle","curveness"]),$z(v,n,y),0),b=vc(v.node1.getLayout()),S=vc(v.node2.getLayout()),w,C=(b[0]+S[0])/2,x=(b[1]+S[1])/2;+_&&(_*=3,w=[l*_+C*(1-_),u*_+x*(1-_)]),v.setLayout([b,S,w])})}}}var glt={value:function(n,e,t,i,r,o,s){var a=0,l=t.getSum("value"),u=Math.PI*2/(l||s);e.eachNode(function(c){var d=c.getValue("value"),h=u*(l?d:1)/2;a+=h,c.setLayout([i*Math.cos(a)+r,i*Math.sin(a)+o]),a+=h})},symbolSize:function(n,e,t,i,r,o,s){var a=0;zk.length=s;var l=__(n);e.eachNode(function(d){var h=b_(d);isNaN(h)&&(h=2),h<0&&(h=0),h*=l;var f=Math.asin(h/2/i);isNaN(f)&&(f=FZ/2),zk[d.dataIndex]=f,a+=f*2});var u=(2*FZ-a)/s/2,c=0;e.eachNode(function(d){var h=u+zk[d.dataIndex];c+=h,(!d.getLayout()||!d.getLayout().fixed)&&d.setLayout([i*Math.cos(c)+r,i*Math.sin(c)+o]),c+=h})}};function dpe(n,e,t,i){var r=n.getGraphicEl();if(r){var o=n.getModel(),s=o.get(["label","rotate"])||0,a=r.getSymbolPath();if(e){var l=n.getLayout(),u=Math.atan2(l[1]-i,l[0]-t);u<0&&(u=Math.PI*2+u);var c=l[0]<t;c&&(u=u-Math.PI);var d=c?"left":"right";a.setTextConfig({rotation:-u,position:d,origin:"center"});var h=a.ensureState("emphasis");be(h.textConfig||(h.textConfig={}),{position:d})}else a.setTextConfig({rotation:s*=Math.PI/180})}}function plt(n){n.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&Wz(e,"symbolSize")})}var um=R5;function mlt(n,e,t){for(var i=n,r=e,o=t.rect,s=o.width,a=o.height,l=[o.x+s/2,o.y+a/2],u=t.gravity==null?.1:t.gravity,c=0;c<i.length;c++){var d=i[c];d.p||(d.p=xp(s*(Math.random()-.5)+l[0],a*(Math.random()-.5)+l[1])),d.pp=vc(d.p),d.edges=null}var h=t.friction==null?.6:t.friction,f=h,g,p;return{warmUp:function(){f=h*.8},setFixed:function(m){i[m].fixed=!0},setUnfixed:function(m){i[m].fixed=!1},beforeStep:function(m){g=m},afterStep:function(m){p=m},step:function(m){g&&g(i,r);for(var v=[],y=i.length,_=0;_<r.length;_++){var b=r[_];if(!b.ignoreForceLayout){var S=b.n1,w=b.n2;Zf(v,w.p,S.p);var C=B5(v)-b.d,x=w.w/(S.w+w.w);isNaN(x)&&(x=0),Oy(v,v),!S.fixed&&um(S.p,S.p,v,x*C*f),!w.fixed&&um(w.p,w.p,v,-(1-x)*C*f)}}for(var _=0;_<y;_++){var L=i[_];L.fixed||(Zf(v,l,L.p),um(L.p,L.p,v,u*f))}for(var _=0;_<y;_++)for(var S=i[_],T=_+1;T<y;T++){var w=i[T];Zf(v,w.p,S.p);var C=B5(v);C===0&&(Lqe(v,Math.random()-.5,Math.random()-.5),C=1);var I=(S.rep+w.rep)/C/C;!S.fixed&&um(S.pp,S.pp,v,I),!w.fixed&&um(w.pp,w.pp,v,-I)}for(var D=[],_=0;_<y;_++){var L=i[_];L.fixed||(Zf(D,L.p,L.pp),um(L.p,L.p,D,f),fo(L.pp,L.p))}f=f*.992;var M=f<.01;p&&p(i,r,M),m&&m(M)}}}function vlt(n){n.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view"))if(e.get("layout")==="force"){var i=e.preservedPoints||{},r=e.getGraph(),o=r.data,s=r.edgeData,a=e.getModel("force"),l=a.get("initLayout");e.preservedPoints?o.each(function(_){var b=o.getId(_);o.setItemLayout(_,i[b]||[NaN,NaN])}):!l||l==="none"?cpe(e):l==="circular"&&Wz(e,"value");var u=o.getDataExtent("value"),c=s.getDataExtent("value"),d=a.get("repulsion"),h=a.get("edgeLength"),f=we(d)?d:[d,d],g=we(h)?h:[h,h];g=[g[1],g[0]];var p=o.mapArray("value",function(_,b){var S=o.getItemLayout(b),w=yn(_,u,f);return isNaN(w)&&(w=(f[0]+f[1])/2),{w,rep:w,fixed:o.getItemModel(b).get("fixed"),p:!S||isNaN(S[0])||isNaN(S[1])?null:S}}),m=s.mapArray("value",function(_,b){var S=r.getEdgeByIndex(b),w=yn(_,c,g);isNaN(w)&&(w=(g[0]+g[1])/2);var C=S.getModel(),x=eu(S.getModel().get(["lineStyle","curveness"]),-$z(S,e,b,!0),0);return{n1:p[S.node1.dataIndex],n2:p[S.node2.dataIndex],d:w,curveness:x,ignoreForceLayout:C.get("ignoreForceLayout")}}),v=t.getBoundingRect(),y=mlt(p,m,{rect:v,gravity:a.get("gravity"),friction:a.get("friction")});y.beforeStep(function(_,b){for(var S=0,w=_.length;S<w;S++)_[S].fixed&&fo(_[S].p,r.getNodeByIndex(S).getLayout())}),y.afterStep(function(_,b,S){for(var w=0,C=_.length;w<C;w++)_[w].fixed||r.getNodeByIndex(w).setLayout(_[w].p),i[o.getId(w)]=_[w].p;for(var w=0,C=b.length;w<C;w++){var x=b[w],L=r.getEdgeByIndex(w),T=x.n1.p,I=x.n2.p,D=L.getLayout();D=D?D.slice():[],D[0]=D[0]||[],D[1]=D[1]||[],fo(D[0],T),fo(D[1],I),+x.curveness&&(D[2]=[(T[0]+I[0])/2-(T[1]-I[1])*x.curveness,(T[1]+I[1])/2-(I[0]-T[0])*x.curveness]),L.setLayout(D)}}),e.forceLayout=y,e.preservedPoints=i,y.step()}else e.forceLayout=null})}function ylt(n,e,t){var i=be(n.getBoxLayoutParams(),{aspect:t});return tr(i,{width:e.getWidth(),height:e.getHeight()})}function _lt(n,e){var t=[];return n.eachSeriesByType("graph",function(i){var r=i.get("coordinateSystem");if(!r||r==="view"){var o=i.getData(),s=o.mapArray(function(m){var v=o.getItemModel(m);return[+v.get("x"),+v.get("y")]}),a=[],l=[];sM(s,a,l),l[0]-a[0]===0&&(l[0]+=1,a[0]-=1),l[1]-a[1]===0&&(l[1]+=1,a[1]-=1);var u=(l[0]-a[0])/(l[1]-a[1]),c=ylt(i,e,u);isNaN(u)&&(a=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var d=l[0]-a[0],h=l[1]-a[1],f=c.width,g=c.height,p=i.coordinateSystem=new Gw;p.zoomLimit=i.get("scaleLimit"),p.setBoundingRect(a[0],a[1],d,h),p.setViewRect(c.x,c.y,f,g),p.setCenter(i.get("center"),e),p.setZoom(i.get("zoom")),t.push(p)}}),t}var $Z=Er.prototype,Hk=cM.prototype,hpe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}();(function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e})(hpe);function Uk(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var blt=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="ec-line",i}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new hpe},e.prototype.buildPath=function(t,i){Uk(i)?$Z.buildPath.call(this,t,i):Hk.buildPath.call(this,t,i)},e.prototype.pointAt=function(t){return Uk(this.shape)?$Z.pointAt.call(this,t):Hk.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var i=this.shape,r=Uk(i)?[i.x2-i.x1,i.y2-i.y1]:Hk.tangentAt.call(this,t);return Oy(r,r)},e}(It);const Slt=blt;var Gk=["fromSymbol","toSymbol"];function VZ(n){return"_"+n+"Type"}function WZ(n,e,t){var i=e.getItemVisual(t,n);if(!i||i==="none")return i;var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),a=e.getItemVisual(t,n+"KeepAspect"),l=Yy(r),u=Ip(s||0,l);return i+l+u+(o||"")+(a||"")}function zZ(n,e,t){var i=e.getItemVisual(t,n);if(!(!i||i==="none")){var r=e.getItemVisual(t,n+"Size"),o=e.getItemVisual(t,n+"Rotate"),s=e.getItemVisual(t,n+"Offset"),a=e.getItemVisual(t,n+"KeepAspect"),l=Yy(r),u=Ip(s||0,l),c=Wi(i,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,a);return c.__specifiedRotation=o==null||isNaN(o)?void 0:+o*Math.PI/180||0,c.name=n,c}}function wlt(n){var e=new Slt({name:"line",subPixelOptimize:!0});return YB(e.shape,n),e}function YB(n,e){n.x1=e[0][0],n.y1=e[0][1],n.x2=e[1][0],n.y2=e[1][1],n.percent=1;var t=e[2];t?(n.cpx1=t[0],n.cpy1=t[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Clt=function(n){re(e,n);function e(t,i,r){var o=n.call(this)||this;return o._createLine(t,i,r),o}return e.prototype._createLine=function(t,i,r){var o=t.hostModel,s=t.getItemLayout(i),a=wlt(s);a.shape.percent=0,Qn(a,{shape:{percent:1}},o,i),this.add(a),B(Gk,function(l){var u=zZ(l,t,i);this.add(u),this[VZ(l)]=WZ(l,t,i)},this),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,s=this.childOfName("line"),a=t.getItemLayout(i),l={shape:{}};YB(l.shape,a),rn(s,l,o,i),B(Gk,function(u){var c=WZ(u,t,i),d=VZ(u);if(this[d]!==c){this.remove(this.childOfName(u));var h=zZ(u,t,i);this.add(h)}this[d]=c},this),this._updateCommonStl(t,i,r)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,i,r){var o=t.hostModel,s=this.childOfName("line"),a=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,u=r&&r.selectLineStyle,c=r&&r.labelStatesModels,d=r&&r.emphasisDisabled,h=r&&r.focus,f=r&&r.blurScope;if(!r||t.hasItemOption){var g=t.getItemModel(i),p=g.getModel("emphasis");a=p.getModel("lineStyle").getLineStyle(),l=g.getModel(["blur","lineStyle"]).getLineStyle(),u=g.getModel(["select","lineStyle"]).getLineStyle(),d=p.get("disabled"),h=p.get("focus"),f=p.get("blurScope"),c=yr(g)}var m=t.getItemVisual(i,"style"),v=m.stroke;s.useStyle(m),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=a,s.ensureState("blur").style=l,s.ensureState("select").style=u,B(Gk,function(w){var C=this.childOfName(w);if(C){C.setColor(v),C.style.opacity=m.opacity;for(var x=0;x<Lo.length;x++){var L=Lo[x],T=s.getState(L);if(T){var I=T.style||{},D=C.ensureState(L),M=D.style||(D.style={});I.stroke!=null&&(M[C.__isEmptyBrush?"stroke":"fill"]=I.stroke),I.opacity!=null&&(M.opacity=I.opacity)}}C.markRedraw()}},this);var y=o.getRawValue(i);Wr(this,c,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(w,C){return o.getFormattedLabel(w,C,t.dataType)}},inheritColor:v||"#000",defaultOpacity:m.opacity,defaultText:(y==null?t.getName(i):isFinite(y)?bi(y):y)+""});var _=this.getTextContent();if(_){var b=c.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=b.get("position")||"middle";var S=b.get("distance");we(S)||(S=[S,S]),_.__labelDistance=S}this.setTextConfig({position:null,local:!0,inside:!1}),mi(this,h,f,d)},e.prototype.highlight=function(){Nc(this)},e.prototype.downplay=function(){kc(this)},e.prototype.updateLayout=function(t,i){this.setLinePoints(t.getItemLayout(i))},e.prototype.setLinePoints=function(t){var i=this.childOfName("line");YB(i.shape,t),i.dirty()},e.prototype.beforeUpdate=function(){var t=this,i=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),o=t.getTextContent();if(!i&&!r&&(!o||o.ignore))return;for(var s=1,a=this.parent;a;)a.scaleX&&(s/=a.scaleX),a=a.parent;var l=t.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),d=l.pointAt(u),h=Zf([],d,c);Oy(h,h);function f(T,I){var D=T.__specifiedRotation;if(D==null){var M=l.tangentAt(I);T.attr("rotation",(I===1?-1:1)*Math.PI/2-Math.atan2(M[1],M[0]))}else T.attr("rotation",D)}if(i&&(i.setPosition(c),f(i,0),i.scaleX=i.scaleY=s*u,i.markRedraw()),r&&(r.setPosition(d),f(r,1),r.scaleX=r.scaleY=s*u,r.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var g=void 0,p=void 0,m=o.__labelDistance,v=m[0]*s,y=m[1]*s,_=u/2,b=l.tangentAt(_),S=[b[1],-b[0]],w=l.pointAt(_);S[1]>0&&(S[0]=-S[0],S[1]=-S[1]);var C=b[0]<0?-1:1;if(o.__position!=="start"&&o.__position!=="end"){var x=-Math.atan2(b[1],b[0]);d[0]<c[0]&&(x=Math.PI+x),o.rotation=x}var L=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":L=-y,p="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":L=y,p="top";break;default:L=0,p="middle"}switch(o.__position){case"end":o.x=h[0]*v+d[0],o.y=h[1]*y+d[1],g=h[0]>.8?"left":h[0]<-.8?"right":"center",p=h[1]>.8?"top":h[1]<-.8?"bottom":"middle";break;case"start":o.x=-h[0]*v+c[0],o.y=-h[1]*y+c[1],g=h[0]>.8?"right":h[0]<-.8?"left":"center",p=h[1]>.8?"bottom":h[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=v*C+c[0],o.y=c[1]+L,g=b[0]<0?"right":"left",o.originX=-v*C,o.originY=-L;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=w[0],o.y=w[1]+L,g="center",o.originY=-L;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-v*C+d[0],o.y=d[1]+L,g=b[0]>=0?"right":"left",o.originX=v*C,o.originY=-L;break}o.scaleX=o.scaleY=s,o.setStyle({verticalAlign:o.__verticalAlign||p,align:o.__align||g})}},e}(st);const zz=Clt;var xlt=function(){function n(e){this.group=new st,this._LineCtor=e||zz}return n.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var i=this,r=i.group,o=i._lineData;i._lineData=e,o||r.removeAll();var s=HZ(e);e.diff(o).add(function(a){t._doAdd(e,a,s)}).update(function(a,l){t._doUpdate(o,e,l,a,s)}).remove(function(a){r.remove(o.getItemGraphicEl(a))}).execute()},n.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},n.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=HZ(e),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(e,t){this._progressiveEls=[];function i(a){!a.isGroup&&!Llt(a)&&(a.incremental=!0,a.ensureState("emphasis").hoverLayer=!0)}for(var r=e.start;r<e.end;r++){var o=t.getItemLayout(r);if(Kk(o)){var s=new this._LineCtor(t,r,this._seriesScope);s.traverse(i),this.group.add(s),t.setItemGraphicEl(r,s),this._progressiveEls.push(s)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(e){Ih(this._progressiveEls||this.group,e)},n.prototype._doAdd=function(e,t,i){var r=e.getItemLayout(t);if(Kk(r)){var o=new this._LineCtor(e,t,i);e.setItemGraphicEl(t,o),this.group.add(o)}},n.prototype._doUpdate=function(e,t,i,r,o){var s=e.getItemGraphicEl(i);if(!Kk(t.getItemLayout(r))){this.group.remove(s);return}s?s.updateData(t,r,o):s=new this._LineCtor(t,r,o),t.setItemGraphicEl(r,s),this.group.add(s)},n}();function Llt(n){return n.animators&&n.animators.length>0}function HZ(n){var e=n.hostModel,t=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:yr(e)}}function UZ(n){return isNaN(n[0])||isNaN(n[1])}function Kk(n){return n&&!UZ(n[0])&&!UZ(n[1])}const Hz=xlt;var jk=[],qk=[],Yk=[],cm=xr,Xk=yg,GZ=Math.abs;function KZ(n,e,t){for(var i=n[0],r=n[1],o=n[2],s=1/0,a,l=t*t,u=.1,c=.1;c<=.9;c+=.1){jk[0]=cm(i[0],r[0],o[0],c),jk[1]=cm(i[1],r[1],o[1],c);var d=GZ(Xk(jk,e)-l);d<s&&(s=d,a=c)}for(var h=0;h<32;h++){var f=a+u;qk[0]=cm(i[0],r[0],o[0],a),qk[1]=cm(i[1],r[1],o[1],a),Yk[0]=cm(i[0],r[0],o[0],f),Yk[1]=cm(i[1],r[1],o[1],f);var d=Xk(qk,e)-l;if(GZ(d)<.01)break;var g=Xk(Yk,e)-l;u/=2,d<0?g>=0?a=a+u:a=a-u:g>=0?a=a-u:a=a+u}return a}function Zk(n,e){var t=[],i=wS,r=[[],[],[]],o=[[],[]],s=[];e/=2,n.eachEdge(function(a,l){var u=a.getLayout(),c=a.getVisual("fromSymbol"),d=a.getVisual("toSymbol");u.__original||(u.__original=[vc(u[0]),vc(u[1])],u[2]&&u.__original.push(vc(u[2])));var h=u.__original;if(u[2]!=null){if(fo(r[0],h[0]),fo(r[1],h[2]),fo(r[2],h[1]),c&&c!=="none"){var f=b_(a.node1),g=KZ(r,h[0],f*e);i(r[0][0],r[1][0],r[2][0],g,t),r[0][0]=t[3],r[1][0]=t[4],i(r[0][1],r[1][1],r[2][1],g,t),r[0][1]=t[3],r[1][1]=t[4]}if(d&&d!=="none"){var f=b_(a.node2),g=KZ(r,h[1],f*e);i(r[0][0],r[1][0],r[2][0],g,t),r[1][0]=t[1],r[2][0]=t[2],i(r[0][1],r[1][1],r[2][1],g,t),r[1][1]=t[1],r[2][1]=t[2]}fo(u[0],r[0]),fo(u[1],r[2]),fo(u[2],r[1])}else{if(fo(o[0],h[0]),fo(o[1],h[1]),Zf(s,o[1],o[0]),Oy(s,s),c&&c!=="none"){var f=b_(a.node1);R5(o[0],o[0],s,f*e)}if(d&&d!=="none"){var f=b_(a.node2);R5(o[1],o[1],s,-f*e)}fo(u[0],o[0]),fo(u[1],o[1])}})}function jZ(n){return n.type==="view"}var Tlt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){var r=new Vw,o=new Hz,s=this.group;this._controller=new Uw(i.getZr()),this._controllerHost={target:s},s.add(r.group),s.add(o.group),this._symbolDraw=r,this._lineDraw=o,this._firstRender=!0},e.prototype.render=function(t,i,r){var o=this,s=t.coordinateSystem;this._model=t;var a=this._symbolDraw,l=this._lineDraw,u=this.group;if(jZ(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(c):rn(u,c,t)}Zk(t.getGraph(),__(t));var d=t.getData();a.updateData(d);var h=t.getEdgeData();l.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,i,r),clearTimeout(this._layoutTimeout);var f=t.forceLayout,g=t.get(["force","layoutAnimation"]);f&&this._startForceLayoutIteration(f,g);var p=t.get("layout");d.graph.eachNode(function(_){var b=_.dataIndex,S=_.getGraphicEl(),w=_.getModel();if(S){S.off("drag").off("dragend");var C=w.get("draggable");C&&S.on("drag",function(L){switch(p){case"force":f.warmUp(),!o._layouting&&o._startForceLayoutIteration(f,g),f.setFixed(b),d.setItemLayout(b,[S.x,S.y]);break;case"circular":d.setItemLayout(b,[S.x,S.y]),_.setLayout({fixed:!0},!0),Wz(t,"symbolSize",_,[L.offsetX,L.offsetY]),o.updateLayout(t);break;case"none":default:d.setItemLayout(b,[S.x,S.y]),Vz(t.getGraph(),t),o.updateLayout(t);break}}).on("dragend",function(){f&&f.setUnfixed(b)}),S.setDraggable(C,!!w.get("cursor"));var x=w.get(["emphasis","focus"]);x==="adjacency"&&(ut(S).focus=_.getAdjacentDataIndices())}}),d.graph.eachEdge(function(_){var b=_.getGraphicEl(),S=_.getModel().get(["emphasis","focus"]);b&&S==="adjacency"&&(ut(b).focus={edge:[_.dataIndex],node:[_.node1.dataIndex,_.node2.dataIndex]})});var m=t.get("layout")==="circular"&&t.get(["circular","rotateLabel"]),v=d.getLayout("cx"),y=d.getLayout("cy");d.graph.eachNode(function(_){dpe(_,m,v,y)}),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,i){var r=this;(function o(){t.step(function(s){r.updateLayout(r._model),(r._layouting=!s)&&(i?r._layoutTimeout=setTimeout(o,16):o())})})()},e.prototype._updateController=function(t,i,r){var o=this,s=this._controller,a=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,c,d){var h=l.getBoundingRect();return h.applyTransform(l.transform),h.contain(c,d)&&!MM(u,r,t)}),!jZ(t.coordinateSystem)){s.disable();return}s.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){Mz(a,u.dx,u.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){Az(a,u.scale,u.originX,u.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),o._updateNodeAndLinkScale(),Zk(t.getGraph(),__(t)),o._lineDraw.updateLayout(),r.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,i=t.getData(),r=__(t);i.eachItemGraphicEl(function(o,s){o&&o.setSymbolScale(r)})},e.prototype.updateLayout=function(t){Zk(t.getGraph(),__(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Un);const Ilt=Tlt;function dm(n){return"_EC_"+n}var Dlt=function(){function n(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(e,t){e=e==null?""+t:""+e;var i=this._nodesMap;if(!i[dm(e)]){var r=new wf(e,t);return r.hostGraph=this,this.nodes.push(r),i[dm(e)]=r,r}},n.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},n.prototype.getNodeById=function(e){return this._nodesMap[dm(e)]},n.prototype.addEdge=function(e,t,i){var r=this._nodesMap,o=this._edgesMap;if(Jt(e)&&(e=this.nodes[e]),Jt(t)&&(t=this.nodes[t]),e instanceof wf||(e=r[dm(e)]),t instanceof wf||(t=r[dm(t)]),!(!e||!t)){var s=e.id+"-"+t.id,a=new fpe(e,t,i);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),o[s]=a,a}},n.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},n.prototype.getEdge=function(e,t){e instanceof wf&&(e=e.id),t instanceof wf&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},n.prototype.eachNode=function(e,t){for(var i=this.nodes,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},n.prototype.eachEdge=function(e,t){for(var i=this.edges,r=i.length,o=0;o<r;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},n.prototype.breadthFirstTraverse=function(e,t,i,r){if(t instanceof wf||(t=this._nodesMap[dm(t)]),!!t){for(var o=i==="out"?"outEdges":i==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(r,t,null))for(var a=[t];a.length;)for(var l=a.shift(),u=l[o],s=0;s<u.length;s++){var c=u[s],d=c.node1===l?c.node2:c.node1;if(!d.__visited){if(e.call(r,d,l))return;a.push(d),d.__visited=!0}}}},n.prototype.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,r=this.edges,o=0,s=i.length;o<s;o++)i[o].dataIndex=-1;for(var o=0,s=e.count();o<s;o++)i[e.getRawIndex(o)].dataIndex=o;t.filterSelf(function(a){var l=r[t.getRawIndex(a)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var o=0,s=r.length;o<s;o++)r[o].dataIndex=-1;for(var o=0,s=t.count();o<s;o++)r[t.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var e=new n(this._directed),t=this.nodes,i=this.edges,r=0;r<t.length;r++)e.addNode(t[r].id,t[r].dataIndex);for(var r=0;r<i.length;r++){var o=i[r];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},n}(),wf=function(){function n(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=t??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var i=this.edges[t];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},n.prototype.getTrajectoryDataIndices=function(){for(var e=Ue(),t=Ue(),i=0;i<this.edges.length;i++){var r=this.edges[i];if(!(r.dataIndex<0)){e.set(r.dataIndex,!0);for(var o=[r.node1],s=[r.node2],a=0;a<o.length;){var l=o[a];a++,t.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)e.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(a=0;a<s.length;){var c=s[a];a++,t.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)e.set(c.outEdges[u].dataIndex,!0),s.push(c.outEdges[u].node2)}}}return{edge:e.keys(),node:t.keys()}},n}(),fpe=function(){function n(e,t,i){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=i??-1}return n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(e)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var e=Ue(),t=Ue();e.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],o=0;o<i.length;){var s=i[o];o++,t.set(s.dataIndex,!0);for(var a=0;a<s.inEdges.length;a++)e.set(s.inEdges[a].dataIndex,!0),i.push(s.inEdges[a].node1)}for(o=0;o<r.length;){var l=r[o];o++,t.set(l.dataIndex,!0);for(var a=0;a<l.outEdges.length;a++)e.set(l.outEdges[a].dataIndex,!0),r.push(l.outEdges[a].node2)}return{edge:e.keys(),node:t.keys()}},n}();function gpe(n,e){return{getValue:function(t){var i=this[n][e];return i.getStore().get(i.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,i){this.dataIndex>=0&&this[n][e].setItemVisual(this.dataIndex,t,i)},getVisual:function(t){return this[n][e].getItemVisual(this.dataIndex,t)},setLayout:function(t,i){this.dataIndex>=0&&this[n][e].setItemLayout(this.dataIndex,t,i)},getLayout:function(){return this[n][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][e].getRawIndex(this.dataIndex)}}}Hi(wf,gpe("hostGraph","data"));Hi(fpe,gpe("hostGraph","edgeData"));const Elt=Dlt;function ppe(n,e,t,i,r){for(var o=new Elt(i),s=0;s<n.length;s++)o.addNode(Dr(n[s].id,n[s].name,s),s);for(var a=[],l=[],u=0,s=0;s<e.length;s++){var c=e[s],d=c.source,h=c.target;o.addEdge(d,h,u)&&(l.push(c),a.push(Dr(Yi(c.id,null),d+" > "+h)),u++)}var f=t.get("coordinateSystem"),g;if(f==="cartesian2d"||f==="polar")g=jc(n,t);else{var p=Pw.get(f),m=p?p.dimensions||[]:[];Ct(m,"value")<0&&m.concat(["value"]);var v=Rw(n,{coordDimensions:m,encodeDefine:t.getEncode()}).dimensions;g=new Co(v,t),g.initData(n)}var y=new Co(["value"],t);return y.initData(l,a),r&&r(g,y),Xge({mainData:g,struct:o,structAttr:"graph",datas:{node:g,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var Mlt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments);var i=this;function r(){return i._categoriesData}this.legendVisualProvider=new Hw(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(t){n.prototype.mergeDefaultAndTheme.apply(this,arguments),Zg(t,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,i){var r=t.edges||t.links||[],o=t.data||t.nodes||[],s=this;if(o&&r){dlt(this);var a=ppe(o,r,this,!0,l);return B(a.edges,function(u){hlt(u.node1,u.node2,this,u.dataIndex)},this),a.data}function l(u,c){u.wrapMethod("getItemModel",function(g){var p=s._categoriesModels,m=g.getShallow("category"),v=p[m];return v&&(v.parentModel=g.parentModel,g.parentModel=v),g});var d=Hn.prototype.getModel;function h(g,p){var m=d.call(this,g,p);return m.resolveParentPath=f,m}c.wrapMethod("getItemModel",function(g){return g.resolveParentPath=f,g.getModel=h,g});function f(g){if(g&&(g[0]==="label"||g[1]==="label")){var p=g.slice();return g[0]==="label"?p[0]="edgeLabel":g[1]==="label"&&(p[1]="edgeLabel"),p}return g}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,i,r){if(r==="edge"){var o=this.getData(),s=this.getDataParams(t,r),a=o.graph.getEdgeByIndex(t),l=o.getName(a.node1.dataIndex),u=o.getName(a.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),_r("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var d=Rhe({series:this,dataIndex:t,multipleSeries:i});return d},e.prototype._updateCategoriesData=function(){var t=Te(this.option.categories||[],function(r){return r.value!=null?r:be({value:0},r)}),i=new Co(["value"],this);i.initData(t),this._categoriesData=i,this._categoriesModels=i.mapArray(function(r){return i.getItemModel(r)})},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ii);const Alt=Mlt;var Nlt={type:"graphRoam",event:"graphRoam",update:"none"};function klt(n){n.registerChartView(Ilt),n.registerSeriesModel(Alt),n.registerProcessor(slt),n.registerVisual(alt),n.registerVisual(llt),n.registerLayout(flt),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,plt),n.registerLayout(vlt),n.registerCoordinateSystem("graphView",{dimensions:Gw.dimensions,create:_lt}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Ni),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Ni),n.registerAction(Nlt,function(e,t,i){t.eachComponent({mainType:"series",query:e},function(r){var o=r.coordinateSystem,s=kz(o,e,void 0,i);r.setCenter&&r.setCenter(s.center),r.setZoom&&r.setZoom(s.zoom)})})}var Plt=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),Olt=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="pointer",i}return e.prototype.getDefaultShape=function(){return new Plt},e.prototype.buildPath=function(t,i){var r=Math.cos,o=Math.sin,s=i.r,a=i.width,l=i.angle,u=i.x-r(l)*a*(a>=s/3?1:2),c=i.y-o(l)*a*(a>=s/3?1:2);l=i.angle-Math.PI/2,t.moveTo(u,c),t.lineTo(i.x+r(l)*a,i.y+o(l)*a),t.lineTo(i.x+r(i.angle)*s,i.y+o(i.angle)*s),t.lineTo(i.x-r(l)*a,i.y-o(l)*a),t.lineTo(u,c)},e}(It);const Rlt=Olt;function Blt(n,e){var t=n.get("center"),i=e.getWidth(),r=e.getHeight(),o=Math.min(i,r),s=Fe(t[0],e.getWidth()),a=Fe(t[1],e.getHeight()),l=Fe(n.get("radius"),o/2);return{cx:s,cy:a,r:l}}function JC(n,e){var t=n==null?"":n+"";return e&&($e(e)?t=e.replace("{value}",t):qe(e)&&(t=e(n))),t}var Flt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this.group.removeAll();var o=t.get(["axisLine","lineStyle","color"]),s=Blt(t,r);this._renderMain(t,i,r,o,s),this._data=t.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(t,i,r,o,s){var a=this.group,l=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,d=t.getModel("axisLine"),h=d.get("roundCap"),f=h?GI:Xo,g=d.get("show"),p=d.getModel("lineStyle"),m=p.get("width"),v=[u,c];Kce(v,!l),u=v[0],c=v[1];for(var y=c-u,_=u,b=[],S=0;g&&S<o.length;S++){var w=Math.min(Math.max(o[S][0],0),1);c=u+y*w;var C=new f({shape:{startAngle:_,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-m,r:s.r},silent:!0});C.setStyle({fill:o[S][1]}),C.setStyle(p.getLineStyle(["color","width"])),b.push(C),_=c}b.reverse(),B(b,function(L){return a.add(L)});var x=function(L){if(L<=0)return o[0][1];var T;for(T=0;T<o.length;T++)if(o[T][0]>=L&&(T===0?0:o[T-1][0])<L)return o[T][1];return o[T-1][1]};this._renderTicks(t,i,r,x,s,u,c,l,m),this._renderTitleAndDetail(t,i,r,x,s),this._renderAnchor(t,s),this._renderPointer(t,i,r,x,s,u,c,l,m)},e.prototype._renderTicks=function(t,i,r,o,s,a,l,u,c){for(var d=this.group,h=s.cx,f=s.cy,g=s.r,p=+t.get("min"),m=+t.get("max"),v=t.getModel("splitLine"),y=t.getModel("axisTick"),_=t.getModel("axisLabel"),b=t.get("splitNumber"),S=y.get("splitNumber"),w=Fe(v.get("length"),g),C=Fe(y.get("length"),g),x=a,L=(l-a)/b,T=L/S,I=v.getModel("lineStyle").getLineStyle(),D=y.getModel("lineStyle").getLineStyle(),M=v.get("distance"),P,k,O=0;O<=b;O++){if(P=Math.cos(x),k=Math.sin(x),v.get("show")){var F=M?M+c:c,R=new Er({shape:{x1:P*(g-F)+h,y1:k*(g-F)+f,x2:P*(g-w-F)+h,y2:k*(g-w-F)+f},style:I,silent:!0});I.stroke==="auto"&&R.setStyle({stroke:o(O/b)}),d.add(R)}if(_.get("show")){var F=_.get("distance")+M,$=JC(bi(O/b*(m-p)+p),_.get("formatter")),H=o(O/b),U=P*(g-w-F)+h,z=k*(g-w-F)+f,Z=_.get("rotate"),X=0;Z==="radial"?(X=-x+2*Math.PI,X>Math.PI/2&&(X+=Math.PI)):Z==="tangential"?X=-x-Math.PI/2:Jt(Z)&&(X=Z*Math.PI/180),X===0?d.add(new Zt({style:zn(_,{text:$,x:U,y:z,verticalAlign:k<-.8?"top":k>.8?"bottom":"middle",align:P<-.4?"left":P>.4?"right":"center"},{inheritColor:H}),silent:!0})):d.add(new Zt({style:zn(_,{text:$,x:U,y:z,verticalAlign:"middle",align:"center"},{inheritColor:H}),silent:!0,originX:U,originY:z,rotation:X}))}if(y.get("show")&&O!==b){var F=y.get("distance");F=F?F+c:c;for(var ce=0;ce<=S;ce++){P=Math.cos(x),k=Math.sin(x);var q=new Er({shape:{x1:P*(g-F)+h,y1:k*(g-F)+f,x2:P*(g-C-F)+h,y2:k*(g-C-F)+f},silent:!0,style:D});D.stroke==="auto"&&q.setStyle({stroke:o((O+ce/S)/b)}),d.add(q),x+=T}x-=T}else x+=L}},e.prototype._renderPointer=function(t,i,r,o,s,a,l,u,c){var d=this.group,h=this._data,f=this._progressEls,g=[],p=t.get(["pointer","show"]),m=t.getModel("progress"),v=m.get("show"),y=t.getData(),_=y.mapDimension("value"),b=+t.get("min"),S=+t.get("max"),w=[b,S],C=[a,l];function x(T,I){var D=y.getItemModel(T),M=D.getModel("pointer"),P=Fe(M.get("width"),s.r),k=Fe(M.get("length"),s.r),O=t.get(["pointer","icon"]),F=M.get("offsetCenter"),R=Fe(F[0],s.r),$=Fe(F[1],s.r),H=M.get("keepAspect"),U;return O?U=Wi(O,R-P/2,$-k,P,k,null,H):U=new Rlt({shape:{angle:-Math.PI/2,width:P,r:k,x:R,y:$}}),U.rotation=-(I+Math.PI/2),U.x=s.cx,U.y=s.cy,U}function L(T,I){var D=m.get("roundCap"),M=D?GI:Xo,P=m.get("overlap"),k=P?m.get("width"):c/y.count(),O=P?s.r-k:s.r-(T+1)*k,F=P?s.r:s.r-T*k,R=new M({shape:{startAngle:a,endAngle:I,cx:s.cx,cy:s.cy,clockwise:u,r0:O,r:F}});return P&&(R.z2=S-y.get(_,T)%S),R}(v||p)&&(y.diff(h).add(function(T){var I=y.get(_,T);if(p){var D=x(T,a);Qn(D,{rotation:-((isNaN(+I)?C[0]:yn(I,w,C,!0))+Math.PI/2)},t),d.add(D),y.setItemGraphicEl(T,D)}if(v){var M=L(T,a),P=m.get("clip");Qn(M,{shape:{endAngle:yn(I,w,C,P)}},t),d.add(M),aB(t.seriesIndex,y.dataType,T,M),g[T]=M}}).update(function(T,I){var D=y.get(_,T);if(p){var M=h.getItemGraphicEl(I),P=M?M.rotation:a,k=x(T,P);k.rotation=P,rn(k,{rotation:-((isNaN(+D)?C[0]:yn(D,w,C,!0))+Math.PI/2)},t),d.add(k),y.setItemGraphicEl(T,k)}if(v){var O=f[I],F=O?O.shape.endAngle:a,R=L(T,F),$=m.get("clip");rn(R,{shape:{endAngle:yn(D,w,C,$)}},t),d.add(R),aB(t.seriesIndex,y.dataType,T,R),g[T]=R}}).execute(),y.each(function(T){var I=y.getItemModel(T),D=I.getModel("emphasis"),M=D.get("focus"),P=D.get("blurScope"),k=D.get("disabled");if(p){var O=y.getItemGraphicEl(T),F=y.getItemVisual(T,"style"),R=F.fill;if(O instanceof Hr){var $=O.style;O.useStyle(be({image:$.image,x:$.x,y:$.y,width:$.width,height:$.height},F))}else O.useStyle(F),O.type!=="pointer"&&O.setColor(R);O.setStyle(I.getModel(["pointer","itemStyle"]).getItemStyle()),O.style.fill==="auto"&&O.setStyle("fill",o(yn(y.get(_,T),w,[0,1],!0))),O.z2EmphasisLift=0,Vr(O,I),mi(O,M,P,k)}if(v){var H=g[T];H.useStyle(y.getItemVisual(T,"style")),H.setStyle(I.getModel(["progress","itemStyle"]).getItemStyle()),H.z2EmphasisLift=0,Vr(H,I),mi(H,M,P,k)}}),this._progressEls=g)},e.prototype._renderAnchor=function(t,i){var r=t.getModel("anchor"),o=r.get("show");if(o){var s=r.get("size"),a=r.get("icon"),l=r.get("offsetCenter"),u=r.get("keepAspect"),c=Wi(a,i.cx-s/2+Fe(l[0],i.r),i.cy-s/2+Fe(l[1],i.r),s,s,null,u);c.z2=r.get("showAbove")?1:0,c.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(t,i,r,o,s){var a=this,l=t.getData(),u=l.mapDimension("value"),c=+t.get("min"),d=+t.get("max"),h=new st,f=[],g=[],p=t.isAnimationEnabled(),m=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(v){f[v]=new Zt({silent:!0}),g[v]=new Zt({silent:!0})}).update(function(v,y){f[v]=a._titleEls[y],g[v]=a._detailEls[y]}).execute(),l.each(function(v){var y=l.getItemModel(v),_=l.get(u,v),b=new st,S=o(yn(_,[c,d],[0,1],!0)),w=y.getModel("title");if(w.get("show")){var C=w.get("offsetCenter"),x=s.cx+Fe(C[0],s.r),L=s.cy+Fe(C[1],s.r),T=f[v];T.attr({z2:m?0:2,style:zn(w,{x,y:L,text:l.getName(v),align:"center",verticalAlign:"middle"},{inheritColor:S})}),b.add(T)}var I=y.getModel("detail");if(I.get("show")){var D=I.get("offsetCenter"),M=s.cx+Fe(D[0],s.r),P=s.cy+Fe(D[1],s.r),k=Fe(I.get("width"),s.r),O=Fe(I.get("height"),s.r),F=t.get(["progress","show"])?l.getItemVisual(v,"style").fill:S,T=g[v],R=I.get("formatter");T.attr({z2:m?0:2,style:zn(I,{x:M,y:P,text:JC(_,R),width:isNaN(k)?null:k,height:isNaN(O)?null:O,align:"center",verticalAlign:"middle"},{inheritColor:F})}),Fde(T,{normal:I},_,function(H){return JC(H,R)}),p&&$de(T,v,l,t,{getFormattedLabel:function(H,U,z,Z,X,ce){return JC(ce?ce.interpolatedValue:_,R)}}),b.add(T)}h.add(b)}),this.group.add(h),this._titleEls=f,this._detailEls=g},e.type="gauge",e}(Un);const $lt=Flt;var Vlt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="itemStyle",t}return e.prototype.getInitialData=function(t,i){return Xy(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(ii);const Wlt=Vlt;function zlt(n){n.registerChartView($lt),n.registerSeriesModel(Wlt)}var Hlt=["itemStyle","opacity"],Ult=function(n){re(e,n);function e(t,i){var r=n.call(this)||this,o=r,s=new ts,a=new Zt;return o.setTextContent(a),r.setTextGuideLine(s),r.updateData(t,i,!0),r}return e.prototype.updateData=function(t,i,r){var o=this,s=t.hostModel,a=t.getItemModel(i),l=t.getItemLayout(i),u=a.getModel("emphasis"),c=a.get(Hlt);c=c??1,r||ul(o),o.useStyle(t.getItemVisual(i,"style")),o.style.lineJoin="round",r?(o.setShape({points:l.points}),o.style.opacity=0,Qn(o,{style:{opacity:c}},s,i)):rn(o,{style:{opacity:c},shape:{points:l.points}},s,i),Vr(o,a),this._updateLabel(t,i),mi(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t,i){var r=this,o=this.getTextGuideLine(),s=r.getTextContent(),a=t.hostModel,l=t.getItemModel(i),u=t.getItemLayout(i),c=u.label,d=t.getItemVisual(i,"style"),h=d.fill;Wr(s,yr(l),{labelFetcher:t.hostModel,labelDataIndex:i,defaultOpacity:d.opacity,defaultText:t.getName(i)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),r.setTextConfig({local:!0,inside:!!c.inside,insideStroke:h,outsideFill:h});var f=c.linePoints;o.setShape({points:f}),r.textGuideLineConfig={anchor:f?new ft(f[0][0],f[0][1]):null},rn(s,{style:{x:c.x,y:c.y}},a,i),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),Sz(r,wz(l),{stroke:h})},e}(Zo),Glt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,i,r){var o=t.getData(),s=this._data,a=this.group;o.diff(s).add(function(l){var u=new Ult(o,l);o.setItemGraphicEl(l,u),a.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(o,l),a.add(c),o.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);ES(u,t,l)}).execute(),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Un);const Klt=Glt;var jlt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hw(We(this.getData,this),We(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.getInitialData=function(t,i){return Xy(this,{coordDimensions:["value"],encodeDefaulter:dt(ZW,this)})},e.prototype._defaultLabelLine=function(t){Zg(t,"labelLine",["show"]);var i=t.labelLine,r=t.emphasis.labelLine;i.show=i.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},e.prototype.getDataParams=function(t){var i=this.getData(),r=n.prototype.getDataParams.call(this,t),o=i.mapDimension("value"),s=i.getSum(o);return r.percent=s?+(i.get(o,t)/s*100).toFixed(2):0,r.$vars.push("percent"),r},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(ii);const qlt=jlt;function Ylt(n,e){return tr(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Xlt(n,e){for(var t=n.mapDimension("value"),i=n.mapArray(t,function(l){return l}),r=[],o=e==="ascending",s=0,a=n.count();s<a;s++)r[s]=s;return qe(e)?r.sort(e):e!=="none"&&r.sort(function(l,u){return o?i[l]-i[u]:i[u]-i[l]}),r}function Zlt(n){var e=n.hostModel,t=e.get("orient");n.each(function(i){var r=n.getItemModel(i),o=r.getModel("label"),s=o.get("position"),a=r.getModel("labelLine"),l=n.getItemLayout(i),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",d,h,f,g;if(c)s==="insideLeft"?(h=(u[0][0]+u[3][0])/2+5,f=(u[0][1]+u[3][1])/2,d="left"):s==="insideRight"?(h=(u[1][0]+u[2][0])/2-5,f=(u[1][1]+u[2][1])/2,d="right"):(h=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,f=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,d="center"),g=[[h,f],[h,f]];else{var p=void 0,m=void 0,v=void 0,y=void 0,_=a.get("length");s==="left"?(p=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,v=p-_,h=v-5,d="right"):s==="right"?(p=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,v=p+_,h=v+5,d="left"):s==="top"?(p=(u[3][0]+u[0][0])/2,m=(u[3][1]+u[0][1])/2,y=m-_,f=y-5,d="center"):s==="bottom"?(p=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,y=m+_,f=y+5,d="center"):s==="rightTop"?(p=t==="horizontal"?u[3][0]:u[1][0],m=t==="horizontal"?u[3][1]:u[1][1],t==="horizontal"?(y=m-_,f=y-5,d="center"):(v=p+_,h=v+5,d="top")):s==="rightBottom"?(p=u[2][0],m=u[2][1],t==="horizontal"?(y=m+_,f=y+5,d="center"):(v=p+_,h=v+5,d="bottom")):s==="leftTop"?(p=u[0][0],m=t==="horizontal"?u[0][1]:u[1][1],t==="horizontal"?(y=m-_,f=y-5,d="center"):(v=p-_,h=v-5,d="right")):s==="leftBottom"?(p=t==="horizontal"?u[1][0]:u[3][0],m=t==="horizontal"?u[1][1]:u[2][1],t==="horizontal"?(y=m+_,f=y+5,d="center"):(v=p-_,h=v-5,d="right")):(p=(u[1][0]+u[2][0])/2,m=(u[1][1]+u[2][1])/2,t==="horizontal"?(y=m+_,f=y+5,d="center"):(v=p+_,h=v+5,d="left")),t==="horizontal"?(v=p,h=v):(y=m,f=y),g=[[p,m],[v,y]]}l.label={linePoints:g,x:h,y:f,verticalAlign:"middle",textAlign:d,inside:c}})}function Qlt(n,e){n.eachSeriesByType("funnel",function(t){var i=t.getData(),r=i.mapDimension("value"),o=t.get("sort"),s=Ylt(t,e),a=t.get("orient"),l=s.width,u=s.height,c=Xlt(i,o),d=s.x,h=s.y,f=a==="horizontal"?[Fe(t.get("minSize"),u),Fe(t.get("maxSize"),u)]:[Fe(t.get("minSize"),l),Fe(t.get("maxSize"),l)],g=i.getDataExtent(r),p=t.get("min"),m=t.get("max");p==null&&(p=Math.min(g[0],0)),m==null&&(m=g[1]);var v=t.get("funnelAlign"),y=t.get("gap"),_=a==="horizontal"?l:u,b=(_-y*(i.count()-1))/i.count(),S=function(P,k){if(a==="horizontal"){var O=i.get(r,P)||0,F=yn(O,[p,m],f,!0),R=void 0;switch(v){case"top":R=h;break;case"center":R=h+(u-F)/2;break;case"bottom":R=h+(u-F);break}return[[k,R],[k,R+F]]}var $=i.get(r,P)||0,H=yn($,[p,m],f,!0),U;switch(v){case"left":U=d;break;case"center":U=d+(l-H)/2;break;case"right":U=d+l-H;break}return[[U,k],[U+H,k]]};o==="ascending"&&(b=-b,y=-y,a==="horizontal"?d+=l:h+=u,c=c.reverse());for(var w=0;w<c.length;w++){var C=c[w],x=c[w+1],L=i.getItemModel(C);if(a==="horizontal"){var T=L.get(["itemStyle","width"]);T==null?T=b:(T=Fe(T,l),o==="ascending"&&(T=-T));var I=S(C,d),D=S(x,d+T);d+=T+y,i.setItemLayout(C,{points:I.concat(D.slice().reverse())})}else{var M=L.get(["itemStyle","height"]);M==null?M=b:(M=Fe(M,u),o==="ascending"&&(M=-M));var I=S(C,h),D=S(x,h+M);h+=M+y,i.setItemLayout(C,{points:I.concat(D.slice().reverse())})}}Zlt(i)})}function Jlt(n){n.registerChartView(Klt),n.registerSeriesModel(qlt),n.registerLayout(Qlt),n.registerProcessor(zw("funnel"))}var eut=.3,tut=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._dataGroup=new st,t._initialized=!1,t}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var s=this._dataGroup,a=t.getData(),l=this._data,u=t.coordinateSystem,c=u.dimensions,d=YZ(t);a.diff(l).add(h).update(f).remove(g).execute();function h(m){var v=qZ(a,s,m,c,u);Qk(v,a,m,d)}function f(m,v){var y=l.getItemGraphicEl(v),_=mpe(a,m,c,u);a.setItemGraphicEl(m,y),rn(y,{shape:{points:_}},t,m),ul(y),Qk(y,a,m,d)}function g(m){var v=l.getItemGraphicEl(m);s.remove(v)}if(!this._initialized){this._initialized=!0;var p=nut(u,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(p)}this._data=a},e.prototype.incrementalPrepareRender=function(t,i,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(t,i,r){for(var o=i.getData(),s=i.coordinateSystem,a=s.dimensions,l=YZ(i),u=this._progressiveEls=[],c=t.start;c<t.end;c++){var d=qZ(o,this._dataGroup,c,a,s);d.incremental=!0,Qk(d,o,c,l),u.push(d)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Un);function nut(n,e,t){var i=n.model,r=n.getRect(),o=new Gt({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),s=i.get("layout")==="horizontal"?"width":"height";return o.setShape(s,0),Qn(o,{shape:{width:r.width,height:r.height}},e,t),o}function mpe(n,e,t,i){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=n.get(n.mapDimension(s),e);iut(a,i.getAxis(s).type)||r.push(i.dataToPoint(a,s))}return r}function qZ(n,e,t,i,r){var o=mpe(n,t,i,r),s=new ts({shape:{points:o},z2:10});return e.add(s),n.setItemGraphicEl(t,s),s}function YZ(n){var e=n.get("smooth",!0);return e===!0&&(e=eut),e=Ac(e),SS(e)&&(e=0),{smooth:e}}function Qk(n,e,t,i){n.useStyle(e.getItemVisual(t,"style")),n.style.fill=null,n.setShape("smooth",i.smooth);var r=e.getItemModel(t),o=r.getModel("emphasis");Vr(n,r,"lineStyle"),mi(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function iut(n,e){return e==="category"?n==null:n==null||isNaN(n)}const rut=tut;var out=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.getInitialData=function(t,i){return jc(null,this,{useEncodeDefaulter:We(sut,null,this)})},e.prototype.getRawIndicesByActiveState=function(t){var i=this.coordinateSystem,r=this.getData(),o=[];return i.eachActiveState(r,function(s,a){t===s&&o.push(r.getRawIndex(a))}),o},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(ii);function sut(n){var e=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(e){var t={};return B(e.dimensions,function(i){var r=aut(i);t[i]=r}),t}}function aut(n){return+n.replace("dim","")}const lut=out;var uut=["lineStyle","opacity"],cut={seriesType:"parallel",reset:function(n,e){var t=n.coordinateSystem,i={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(r,o){t.eachActiveState(o,function(s,a){var l=i[s];if(s==="normal"&&o.hasItemOption){var u=o.getItemModel(a).get(uut,!0);u!=null&&(l=u)}var c=o.ensureUniqueItemVisual(a,"style");c.opacity=l},r.start,r.end)}}}};const dut=cut;function hut(n){fut(n),gut(n)}function fut(n){if(!n.parallel){var e=!1;B(n.series,function(t){t&&t.type==="parallel"&&(e=!0)}),e&&(n.parallel=[{}])}}function gut(n){var e=Pn(n.parallelAxis);B(e,function(t){if(et(t)){var i=t.parallelIndex||0,r=Pn(n.parallel)[i];r&&r.parallelAxisDefault&&pt(t,r.parallelAxisDefault,!1)}})}var put=5,mut=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this._model=t,this._api=r,this._handlers||(this._handlers={},B(vut,function(o,s){r.getZr().on(s,this._handlers[s]=We(o,this))},this)),qy(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(t,i){PS(this,"_throttledDispatchExpand"),B(this._handlers,function(r,o){i.getZr().off(o,r)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},e.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(be({type:"parallelAxisExpand"},t))},e.type="parallel",e}(vi),vut={mousedown:function(n){Jk(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var e=this._mouseDownPoint;if(Jk(this,"click")&&e){var t=[n.offsetX,n.offsetY],i=Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2);if(i>put)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);r.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!Jk(this,"mousemove"))){var e=this._model,t=e.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),i=t.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:t.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}}};function Jk(n,e){var t=n._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}const yut=mut;var _ut=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(t){var i=this.option;t&&pt(i,t,!0),this._initDimensions()},e.prototype.contains=function(t,i){var r=t.get("parallelIndex");return r!=null&&i.getComponent("parallel",r)===this},e.prototype.setAxisExpand=function(t){B(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){t.hasOwnProperty(i)&&(this.option[i]=t[i])},this)},e.prototype._initDimensions=function(){var t=this.dimensions=[],i=this.parallelAxisIndex=[],r=xn(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this);B(r,function(o){t.push("dim"+o.get("dim")),i.push(o.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(qt);const but=_ut;var Sut=function(n){re(e,n);function e(t,i,r,o,s){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a.axisIndex=s,a}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(fl);const wut=Sut;function Ap(n,e,t,i,r,o){n=n||0;var s=t[1]-t[0];if(r!=null&&(r=hm(r,[0,s])),o!=null&&(o=Math.max(o,r??0)),i==="all"){var a=Math.abs(e[1]-e[0]);a=hm(a,[0,s]),r=o=hm(a,[r,o]),i=0}e[0]=hm(e[0],t),e[1]=hm(e[1],t);var l=eP(e,i);e[i]+=n;var u=r||0,c=t.slice();l.sign<0?c[0]+=u:c[1]-=u,e[i]=hm(e[i],c);var d;return d=eP(e,i),r!=null&&(d.sign!==l.sign||d.span<r)&&(e[1-i]=e[i]+l.sign*r),d=eP(e,i),o!=null&&d.span>o&&(e[1-i]=e[i]+d.sign*o),e}function eP(n,e){var t=n[e]-n[1-e];return{span:Math.abs(t),sign:t>0?-1:t<0?1:e?-1:1}}function hm(n,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,n))}var tP=B,vpe=Math.min,ype=Math.max,XZ=Math.floor,Cut=Math.ceil,ZZ=bi,xut=Math.PI,Lut=function(){function n(e,t,i){this.type="parallel",this._axesMap=Ue(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=e.dimensions,o=e.parallelAxisIndex;tP(r,function(s,a){var l=o[a],u=t.getComponent("parallelAxis",l),c=this._axesMap.set(s,new wut(s,IM(u),[0,0],u.get("type"),l)),d=c.type==="category";c.onBand=d&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},n.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},n.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),i=t.axisBase,r=t.layoutBase,o=t.pixelDimIndex,s=e[1-o],a=e[o];return s>=i&&s<=i+t.axisLength&&a>=r&&a<=r+t.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var r=i.getData();tP(this.dimensions,function(o){var s=this._axesMap.get(o);s.scale.unionExtentFromData(r,r.mapDimension(o)),ly(s.scale,s.model)},this)}},this)},n.prototype.resize=function(e,t){this._rect=tr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var e=this._model,t=this._rect,i=["x","y"],r=["width","height"],o=e.get("layout"),s=o==="horizontal"?0:1,a=t[r[s]],l=[0,a],u=this.dimensions.length,c=ex(e.get("axisExpandWidth"),l),d=ex(e.get("axisExpandCount")||0,[0,u]),h=e.get("axisExpandable")&&u>3&&u>d&&d>1&&c>0&&a>0,f=e.get("axisExpandWindow"),g;if(f)g=ex(f[1]-f[0],l),f[1]=f[0]+g;else{g=ex(c*(d-1),l);var p=e.get("axisExpandCenter")||XZ(u/2);f=[c*p-g/2],f[1]=f[0]+g}var m=(a-g)/(u-d);m<3&&(m=0);var v=[XZ(ZZ(f[0]/c,1))+1,Cut(ZZ(f[1]/c,1))-1],y=m/c*f[0];return{layout:o,pixelDimIndex:s,layoutBase:t[i[s]],layoutLength:a,axisBase:t[i[1-s]],axisLength:t[r[1-s]],axisExpandable:h,axisExpandWidth:c,axisCollapseWidth:m,axisExpandWindow:f,axisCount:u,winInnerIndices:v,axisExpandWindow0Pos:y}},n.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,i=this.dimensions,r=this._makeLayoutInfo(),o=r.layout;t.each(function(s){var a=[0,r.axisLength],l=s.inverse?1:0;s.setExtent(a[l],a[1-l])}),tP(i,function(s,a){var l=(r.axisExpandable?Iut:Tut)(a,r),u={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},c={horizontal:xut/2,vertical:0},d=[u[o].x+e.x,u[o].y+e.y],h=c[o],f=ha();Lp(f,f,h),fu(f,f,d),this._axesLayout[s]={position:d,rotation:h,transform:f,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(e){return this._axesMap.get(e)},n.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},n.prototype.eachActiveState=function(e,t,i,r){i==null&&(i=0),r==null&&(r=e.count());var o=this._axesMap,s=this.dimensions,a=[],l=[];B(s,function(m){a.push(e.mapDimension(m)),l.push(o.get(m).model)});for(var u=this.hasAxisBrushed(),c=i;c<r;c++){var d=void 0;if(!u)d="normal";else{d="active";for(var h=e.getValues(a,c),f=0,g=s.length;f<g;f++){var p=l[f].getActiveState(h[f]);if(p==="inactive"){d="inactive";break}}}t(d,c)}},n.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,i=!1,r=0,o=e.length;r<o;r++)t.get(e[r]).model.getActiveState()!=="normal"&&(i=!0);return i},n.prototype.axisCoordToPoint=function(e,t){var i=this._axesLayout[t];return nl([e,0],i.transform)},n.prototype.getAxisLayout=function(e){return rt(this._axesLayout[e])},n.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,r=t.axisExpandWindow.slice(),o=r[1]-r[0],s=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:r};var a=e[i]-t.layoutBase-t.axisExpandWindow0Pos,l,u="slide",c=t.axisCollapseWidth,d=this._model.get("axisExpandSlideTriggerArea"),h=d[0]!=null;if(c)h&&c&&a<o*d[0]?(u="jump",l=a-o*d[2]):h&&c&&a>o*(1-d[0])?(u="jump",l=a-o*(1-d[2])):(l=a-o*d[1])>=0&&(l=a-o*(1-d[1]))<=0&&(l=0),l*=t.axisExpandWidth/c,l?Ap(l,r,s,"all"):u="none";else{var f=r[1]-r[0],g=s[1]*a/f;r=[ype(0,g-f/2)],r[1]=vpe(s[1],r[0]+f),r[0]=r[1]-f}return{axisExpandWindow:r,behavior:u}},n}();function ex(n,e){return vpe(ype(n,e[0]),e[1])}function Tut(n,e){var t=e.layoutLength/(e.axisCount-1);return{position:t*n,axisNameAvailableWidth:t,axisLabelShow:!0}}function Iut(n,e){var t=e.layoutLength,i=e.axisExpandWidth,r=e.axisCount,o=e.axisCollapseWidth,s=e.winInnerIndices,a,l=o,u=!1,c;return n<s[0]?(a=n*o,c=o):n<=s[1]?(a=e.axisExpandWindow0Pos+n*i-e.axisExpandWindow[0],l=i,u=!0):(a=t-(r-1-n)*o,c=o),{position:a,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}const Dut=Lut;function Eut(n,e){var t=[];return n.eachComponent("parallel",function(i,r){var o=new Dut(i,n,e);o.name="parallel_"+r,o.resize(i,e),i.coordinateSystem=o,o.model=i,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var r=i.getReferringComponents("parallel",$i).models[0];i.coordinateSystem=r.coordinateSystem}}),t}var Mut={create:Eut};const Aut=Mut;var _pe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.activeIntervals=[],t}return e.prototype.getAreaSelectStyle=function(){return Jg([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(t){var i=this.activeIntervals=rt(t);if(i)for(var r=i.length-1;r>=0;r--)sa(i[r])},e.prototype.getActiveState=function(t){var i=this.activeIntervals;if(!i.length)return"normal";if(t==null||isNaN(+t))return"inactive";if(i.length===1){var r=i[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var o=0,s=i.length;o<s;o++)if(i[o][0]<=t&&t<=i[o][1])return"active";return"inactive"},e}(qt);Hi(_pe,Fw);const QZ=_pe;var np=!0,GS=Math.min,dy=Math.max,Nut=Math.pow,kut=1e4,Put=6,Out=6,JZ="globalPan",Rut={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},But={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},eQ={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Fut=0,$ut=function(n){re(e,n);function e(t){var i=n.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=t,i.group=new st,i._uid="brushController_"+Fut++,B(Kut,function(r,o){this._handlers[o]=We(r,this)},i),i}return e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var i=this._zr;this._enableGlobalPan||Yot(i,JZ,this._uid),B(this._handlers,function(r,o){i.on(o,r)}),this._brushType=t.brushType,this._brushOption=pt(rt(eQ),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;Xot(t,JZ,this._uid),B(this._handlers,function(i,r){t.off(r,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var i=this._panels={};B(t,function(r){i[r.panelId]=rt(r)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Te(t,function(h){return pt(rt(eQ),h,!0)});var i="\0-brush-index-",r=this._covers,o=this._covers=[],s=this,a=this._creatingCover;return new Pc(r,t,u,l).add(c).update(c).remove(d).execute(),this;function l(h,f){return(h.id!=null?h.id:i+f)+"-"+h.brushType}function u(h,f){return l(h.__brushOption,f)}function c(h,f){var g=t[h];if(f!=null&&r[f]===a)o[h]=r[f];else{var p=o[h]=f!=null?(r[f].__brushOption=g,r[f]):Spe(s,bpe(s,g));Uz(s,p)}}function d(h){r[h]!==a&&s.group.remove(r[h])}},e.prototype.unmount=function(){return this.enableBrush(!1),XB(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(ma);function bpe(n,e){var t=PM[e.brushType].createCover(n,e);return t.__brushOption=e,Cpe(t,e),n.group.add(t),t}function Spe(n,e){var t=Gz(e);return t.endCreating&&(t.endCreating(n,e),Cpe(e,e.__brushOption)),e}function wpe(n,e){var t=e.__brushOption;Gz(e).updateCoverShape(n,e,t.range,t)}function Cpe(n,e){var t=e.z;t==null&&(t=kut),n.traverse(function(i){i.z=t,i.z2=t})}function Uz(n,e){Gz(e).updateCommon(n,e),wpe(n,e)}function Gz(n){return PM[n.__brushOption.brushType]}function Kz(n,e,t){var i=n._panels;if(!i)return np;var r,o=n._transform;return B(i,function(s){s.isTargetByCursor(e,t,o)&&(r=s)}),r}function xpe(n,e){var t=n._panels;if(!t)return np;var i=e.__brushOption.panelId;return i!=null?t[i]:np}function XB(n){var e=n._covers,t=e.length;return B(e,function(i){n.group.remove(i)},n),e.length=0,!!t}function ip(n,e){var t=Te(n._covers,function(i){var r=i.__brushOption,o=rt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:o}});n.trigger("brush",{areas:t,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Vut(n){var e=n._track;if(!e.length)return!1;var t=e[e.length-1],i=e[0],r=t[0]-i[0],o=t[1]-i[1],s=Nut(r*r+o*o,.5);return s>Put}function Lpe(n){var e=n.length-1;return e<0&&(e=0),[n[0],n[e]]}function Tpe(n,e,t,i){var r=new st;return r.add(new Gt({name:"main",style:jz(t),silent:!0,draggable:!0,cursor:"move",drift:dt(tQ,n,e,r,["n","s","w","e"]),ondragend:dt(ip,e,{isEnd:!0})})),B(i,function(o){r.add(new Gt({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:dt(tQ,n,e,r,o),ondragend:dt(ip,e,{isEnd:!0})}))}),r}function Ipe(n,e,t,i){var r=i.brushStyle.lineWidth||0,o=dy(r,Out),s=t[0][0],a=t[1][0],l=s-r/2,u=a-r/2,c=t[0][1],d=t[1][1],h=c-o+r/2,f=d-o+r/2,g=c-s,p=d-a,m=g+r,v=p+r;Bu(n,e,"main",s,a,g,p),i.transformable&&(Bu(n,e,"w",l,u,o,v),Bu(n,e,"e",h,u,o,v),Bu(n,e,"n",l,u,m,o),Bu(n,e,"s",l,f,m,o),Bu(n,e,"nw",l,u,o,o),Bu(n,e,"ne",h,u,o,o),Bu(n,e,"sw",l,f,o,o),Bu(n,e,"se",h,f,o,o))}function ZB(n,e){var t=e.__brushOption,i=t.transformable,r=e.childAt(0);r.useStyle(jz(t)),r.attr({silent:!i,cursor:i?"move":"default"}),B([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var s=e.childOfName(o.join("")),a=o.length===1?QB(n,o[0]):zut(n,o);s&&s.attr({silent:!i,invisible:!i,cursor:i?But[a]+"-resize":null})})}function Bu(n,e,t,i,r,o,s){var a=e.childOfName(t);a&&a.setShape(Uut(qz(n,e,[[i,r],[i+o,r+s]])))}function jz(n){return Qe({strokeNoScale:!0},n.brushStyle)}function Dpe(n,e,t,i){var r=[GS(n,t),GS(e,i)],o=[dy(n,t),dy(e,i)];return[[r[0],o[0]],[r[1],o[1]]]}function Wut(n){return Cg(n.group)}function QB(n,e){var t={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},r=hM(t[e],Wut(n));return i[r]}function zut(n,e){var t=[QB(n,e[0]),QB(n,e[1])];return(t[0]==="e"||t[0]==="w")&&t.reverse(),t.join("")}function tQ(n,e,t,i,r,o){var s=t.__brushOption,a=n.toRectRange(s.range),l=Epe(e,r,o);B(i,function(u){var c=Rut[u];a[c[0]][c[1]]+=l[c[0]]}),s.range=n.fromRectRange(Dpe(a[0][0],a[1][0],a[0][1],a[1][1])),Uz(e,t),ip(e,{isEnd:!1})}function Hut(n,e,t,i){var r=e.__brushOption.range,o=Epe(n,t,i);B(r,function(s){s[0]+=o[0],s[1]+=o[1]}),Uz(n,e),ip(n,{isEnd:!1})}function Epe(n,e,t){var i=n.group,r=i.transformCoordToLocal(e,t),o=i.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function qz(n,e,t){var i=xpe(n,e);return i&&i!==np?i.clipPath(t,n._transform):rt(t)}function Uut(n){var e=GS(n[0][0],n[1][0]),t=GS(n[0][1],n[1][1]),i=dy(n[0][0],n[1][0]),r=dy(n[0][1],n[1][1]);return{x:e,y:t,width:i-e,height:r-t}}function Gut(n,e,t){if(!(!n._brushType||jut(n,e.offsetX,e.offsetY))){var i=n._zr,r=n._covers,o=Kz(n,e,t);if(!n._dragging)for(var s=0;s<r.length;s++){var a=r[s].__brushOption;if(o&&(o===np||a.panelId===o.panelId)&&PM[a.brushType].contain(r[s],t[0],t[1]))return}o&&i.setCursorStyle("crosshair")}}function JB(n){var e=n.event;e.preventDefault&&e.preventDefault()}function eF(n,e,t){return n.childOfName("main").contain(e,t)}function Mpe(n,e,t,i){var r=n._creatingCover,o=n._creatingPanel,s=n._brushOption,a;if(n._track.push(t.slice()),Vut(n)||r){if(o&&!r){s.brushMode==="single"&&XB(n);var l=rt(s);l.brushType=nQ(l.brushType,o),l.panelId=o===np?null:o.panelId,r=n._creatingCover=bpe(n,l),n._covers.push(r)}if(r){var u=PM[nQ(n._brushType,o)],c=r.__brushOption;c.range=u.getCreatingRange(qz(n,r,n._track)),i&&(Spe(n,r),u.updateCommon(n,r)),wpe(n,r),a={isEnd:i}}}else i&&s.brushMode==="single"&&s.removeOnClick&&Kz(n,e,t)&&XB(n)&&(a={isEnd:i,removeOnClick:!0});return a}function nQ(n,e){return n==="auto"?e.defaultBrushType:n}var Kut={mousedown:function(n){if(this._dragging)iQ(this,n);else if(!n.target||!n.target.draggable){JB(n);var e=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var t=this._creatingPanel=Kz(this,n,e);t&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(n){var e=n.offsetX,t=n.offsetY,i=this.group.transformCoordToLocal(e,t);if(Gut(this,n,i),this._dragging){JB(n);var r=Mpe(this,n,i,!1);r&&ip(this,r)}},mouseup:function(n){iQ(this,n)}};function iQ(n,e){if(n._dragging){JB(e);var t=e.offsetX,i=e.offsetY,r=n.group.transformCoordToLocal(t,i),o=Mpe(n,e,r,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&ip(n,o)}}function jut(n,e,t){var i=n._zr;return e<0||e>i.getWidth()||t<0||t>i.getHeight()}var PM={lineX:rQ(0),lineY:rQ(1),rect:{createCover:function(n,e){function t(i){return i}return Tpe({toRectRange:t,fromRectRange:t},n,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var e=Lpe(n);return Dpe(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(n,e,t,i){Ipe(n,e,t,i)},updateCommon:ZB,contain:eF},polygon:{createCover:function(n,e){var t=new st;return t.add(new ts({name:"main",style:jz(e),silent:!0})),t},getCreatingRange:function(n){return n},endCreating:function(n,e){e.remove(e.childAt(0)),e.add(new Zo({name:"main",draggable:!0,drift:dt(Hut,n,e),ondragend:dt(ip,n,{isEnd:!0})}))},updateCoverShape:function(n,e,t,i){e.childAt(0).setShape({points:qz(n,e,t)})},updateCommon:ZB,contain:eF}};function rQ(n){return{createCover:function(e,t){return Tpe({toRectRange:function(i){var r=[i,[0,100]];return n&&r.reverse(),r},fromRectRange:function(i){return i[n]}},e,t,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(e){var t=Lpe(e),i=GS(t[0][n],t[1][n]),r=dy(t[0][n],t[1][n]);return[i,r]},updateCoverShape:function(e,t,i,r){var o,s=xpe(e,t);if(s!==np&&s.getLinearBrushOtherExtent)o=s.getLinearBrushOtherExtent(n);else{var a=e._zr;o=[0,[a.getWidth(),a.getHeight()][1-n]]}var l=[i,o];n&&l.reverse(),Ipe(e,t,l,r)},updateCommon:ZB,contain:eF}}const Yz=$ut;function Ape(n){return n=Xz(n),function(e){return Pde(e,n)}}function Npe(n,e){return n=Xz(n),function(t){var i=e??t,r=i?n.width:n.height,o=i?n.x:n.y;return[o,o+(r||0)]}}function kpe(n,e,t){var i=Xz(n);return function(r,o){return i.contain(o[0],o[1])&&!MM(r,e,t)}}function Xz(n){return mt.create(n)}var qut=["axisLine","axisTickLabel","axisName"],Yut=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){n.prototype.init.apply(this,arguments),(this._brushController=new Yz(i.getZr())).on("brush",We(this._onBrush,this))},e.prototype.render=function(t,i,r,o){if(!Xut(t,i,o)){this.axisModel=t,this.api=r,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new st,this.group.add(this._axisGroup),!!t.get("show")){var a=Qut(t,i),l=a.coordinateSystem,u=t.getAreaSelectStyle(),c=u.width,d=t.axis.dim,h=l.getAxisLayout(d),f=be({strokeContainThreshold:c},h),g=new Oc(t,f);B(qut,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(f,u,t,a,c,r),Aw(s,this._axisGroup,t)}}},e.prototype._refreshBrushController=function(t,i,r,o,s,a){var l=r.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),d=mt.create({x:l[0],y:-s/2,width:u,height:s});d.x-=c,d.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Ape(d),isTargetByCursor:kpe(d,a,o),getLinearBrushOtherExtent:Npe(d,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(Zut(r))},e.prototype._onBrush=function(t){var i=t.areas,r=this.axisModel,o=r.axis,s=Te(i,function(a){return[o.coordToData(a.range[0],!0),o.coordToData(a.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(vi);function Xut(n,e,t){return t&&t.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:t})[0]===n}function Zut(n){var e=n.axis;return Te(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function Qut(n,e){return e.getComponent("parallel",n.get("parallelIndex"))}const Jut=Yut;var ect={type:"axisAreaSelect",event:"axisAreaSelected"};function tct(n){n.registerAction(ect,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}var nct={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Ppe(n){n.registerComponentView(yut),n.registerComponentModel(but),n.registerCoordinateSystem("parallel",Aut),n.registerPreprocessor(hut),n.registerComponentModel(QZ),n.registerComponentView(Jut),cy(n,"parallel",QZ,nct),tct(n)}function ict(n){Lt(Ppe),n.registerChartView(rut),n.registerSeriesModel(lut),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,dut)}var rct=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),oct=function(n){re(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new rct},e.prototype.buildPath=function(t,i){var r=i.extent;t.moveTo(i.x1,i.y1),t.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),i.orient==="vertical"?(t.lineTo(i.x2+r,i.y2),t.bezierCurveTo(i.cpx2+r,i.cpy2,i.cpx1+r,i.cpy1,i.x1+r,i.y1)):(t.lineTo(i.x2,i.y2+r),t.bezierCurveTo(i.cpx2,i.cpy2+r,i.cpx1,i.cpy1+r,i.x1,i.y1+r)),t.closePath()},e.prototype.highlight=function(){Nc(this)},e.prototype.downplay=function(){kc(this)},e}(It),sct=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._focusAdjacencyDisabled=!1,t}return e.prototype.render=function(t,i,r){var o=this,s=t.getGraph(),a=this.group,l=t.layoutInfo,u=l.width,c=l.height,d=t.getData(),h=t.getData("edge"),f=t.get("orient");this._model=t,a.removeAll(),a.x=l.x,a.y=l.y,s.eachEdge(function(g){var p=new oct,m=ut(p);m.dataIndex=g.dataIndex,m.seriesIndex=t.seriesIndex,m.dataType="edge";var v=g.getModel(),y=v.getModel("lineStyle"),_=y.get("curveness"),b=g.node1.getLayout(),S=g.node1.getModel(),w=S.get("localX"),C=S.get("localY"),x=g.node2.getLayout(),L=g.node2.getModel(),T=L.get("localX"),I=L.get("localY"),D=g.getLayout(),M,P,k,O,F,R,$,H;p.shape.extent=Math.max(1,D.dy),p.shape.orient=f,f==="vertical"?(M=(w!=null?w*u:b.x)+D.sy,P=(C!=null?C*c:b.y)+b.dy,k=(T!=null?T*u:x.x)+D.ty,O=I!=null?I*c:x.y,F=M,R=P*(1-_)+O*_,$=k,H=P*_+O*(1-_)):(M=(w!=null?w*u:b.x)+b.dx,P=(C!=null?C*c:b.y)+D.sy,k=T!=null?T*u:x.x,O=(I!=null?I*c:x.y)+D.ty,F=M*(1-_)+k*_,R=P,$=M*_+k*(1-_),H=O),p.setShape({x1:M,y1:P,x2:k,y2:O,cpx1:F,cpy1:R,cpx2:$,cpy2:H}),p.useStyle(y.getItemStyle()),oQ(p.style,f,g);var U=""+v.get("value"),z=yr(v,"edgeLabel");Wr(p,z,{labelFetcher:{getFormattedLabel:function(ce,q,j,ie,Q,le){return t.getFormattedLabel(ce,q,"edge",ie,eu(Q,z.normal&&z.normal.get("formatter"),U),le)}},labelDataIndex:g.dataIndex,defaultText:U}),p.setTextConfig({position:"inside"});var Z=v.getModel("emphasis");Vr(p,v,"lineStyle",function(ce){var q=ce.getItemStyle();return oQ(q,f,g),q}),a.add(p),h.setItemGraphicEl(g.dataIndex,p);var X=Z.get("focus");mi(p,X==="adjacency"?g.getAdjacentDataIndices():X==="trajectory"?g.getTrajectoryDataIndices():X,Z.get("blurScope"),Z.get("disabled"))}),s.eachNode(function(g){var p=g.getLayout(),m=g.getModel(),v=m.get("localX"),y=m.get("localY"),_=m.getModel("emphasis"),b=new Gt({shape:{x:v!=null?v*u:p.x,y:y!=null?y*c:p.y,width:p.dx,height:p.dy},style:m.getModel("itemStyle").getItemStyle(),z2:10});Wr(b,yr(m),{labelFetcher:{getFormattedLabel:function(w,C){return t.getFormattedLabel(w,C,"node")}},labelDataIndex:g.dataIndex,defaultText:g.id}),b.disableLabelAnimation=!0,b.setStyle("fill",g.getVisual("color")),b.setStyle("decal",g.getVisual("style").decal),Vr(b,m),a.add(b),d.setItemGraphicEl(g.dataIndex,b),ut(b).dataType="node";var S=_.get("focus");mi(b,S==="adjacency"?g.getAdjacentDataIndices():S==="trajectory"?g.getTrajectoryDataIndices():S,_.get("blurScope"),_.get("disabled"))}),d.eachItemGraphicEl(function(g,p){var m=d.getItemModel(p);m.get("draggable")&&(g.drift=function(v,y){o._focusAdjacencyDisabled=!0,this.shape.x+=v,this.shape.y+=y,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:d.getRawIndex(p),localX:this.shape.x/u,localY:this.shape.y/c})},g.ondragend=function(){o._focusAdjacencyDisabled=!1},g.draggable=!0,g.cursor="move")}),!this._data&&t.isAnimationEnabled()&&a.setClipPath(act(a.getBoundingRect(),t,function(){a.removeClipPath()})),this._data=t.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Un);function oQ(n,e,t){switch(n.fill){case"source":n.fill=t.node1.getVisual("color"),n.decal=t.node1.getVisual("style").decal;break;case"target":n.fill=t.node2.getVisual("color"),n.decal=t.node2.getVisual("style").decal;break;case"gradient":var i=t.node1.getVisual("color"),r=t.node2.getVisual("color");$e(i)&&$e(r)&&(n.fill=new Mw(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:i,offset:0},{color:r,offset:1}]))}}function act(n,e,t){var i=new Gt({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Qn(i,{shape:{width:n.width+20}},e,t),i}const lct=sct;var uct=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){var r=t.edges||t.links,o=t.data||t.nodes,s=t.levels;this.levelModels=[];for(var a=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(a[s[l].depth]=new Hn(s[l],this,i));if(o&&r){var u=ppe(o,r,this,!0,c);return u.data}function c(d,h){d.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,m=p.getData().getItemLayout(g);if(m){var v=m.depth,y=p.levelModels[v];y&&(f.parentModel=y)}return f}),h.wrapMethod("getItemModel",function(f,g){var p=f.parentModel,m=p.getGraph().getEdgeByIndex(g),v=m.node1.getLayout();if(v){var y=v.depth,_=p.levelModels[y];_&&(f.parentModel=_)}return f})}},e.prototype.setNodePosition=function(t,i){var r=this.option.data||this.option.nodes,o=r[t];o.localX=i[0],o.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(t,i,r){function o(f){return isNaN(f)||f==null}if(r==="edge"){var s=this.getDataParams(t,r),a=s.data,l=s.value,u=a.source+" -- "+a.target;return _r("nameValue",{name:u,value:l,noValue:o(l)})}else{var c=this.getGraph().getNodeByIndex(t),d=c.getLayout().value,h=this.getDataParams(t,r).data.name;return _r("nameValue",{name:h!=null?h+"":null,value:d,noValue:o(d)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(t,i){var r=n.prototype.getDataParams.call(this,t,i);if(r.value==null&&i==="node"){var o=this.getGraph().getNodeByIndex(t),s=o.getLayout().value;r.value=s}return r},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(ii);const cct=uct;function dct(n,e){n.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),o=hct(t,e);t.layoutInfo=o;var s=o.width,a=o.height,l=t.getGraph(),u=l.nodes,c=l.edges;gct(u);var d=xn(u,function(p){return p.getLayout().value===0}),h=d.length!==0?0:t.get("layoutIterations"),f=t.get("orient"),g=t.get("nodeAlign");fct(u,c,i,r,s,a,h,f,g)})}function hct(n,e){return tr(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function fct(n,e,t,i,r,o,s,a,l){pct(n,e,t,r,o,a,l),_ct(n,e,o,r,i,s,a),Dct(n,a)}function gct(n){B(n,function(e){var t=ih(e.outEdges,ZI),i=ih(e.inEdges,ZI),r=e.getValue()||0,o=Math.max(t,i,r);e.setLayout({value:o},!0)})}function pct(n,e,t,i,r,o,s){for(var a=[],l=[],u=[],c=[],d=0,h=0;h<e.length;h++)a[h]=1;for(var h=0;h<n.length;h++)l[h]=n[h].inEdges.length,l[h]===0&&u.push(n[h]);for(var f=-1;u.length;){for(var g=0;g<u.length;g++){var p=u[g],m=p.hostGraph.data.getRawDataItem(p.dataIndex),v=m.depth!=null&&m.depth>=0;v&&m.depth>f&&(f=m.depth),p.setLayout({depth:v?m.depth:d},!0),o==="vertical"?p.setLayout({dy:t},!0):p.setLayout({dx:t},!0);for(var y=0;y<p.outEdges.length;y++){var _=p.outEdges[y],b=e.indexOf(_);a[b]=0;var S=_.node2,w=n.indexOf(S);--l[w]===0&&c.indexOf(S)<0&&c.push(S)}}++d,u=c,c=[]}for(var h=0;h<a.length;h++)if(a[h]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var C=f>d-1?f:d-1;s&&s!=="left"&&mct(n,s,o,C);var x=o==="vertical"?(r-t)/C:(i-t)/C;yct(n,x,o)}function Ope(n){var e=n.hostGraph.data.getRawDataItem(n.dataIndex);return e.depth!=null&&e.depth>=0}function mct(n,e,t,i){if(e==="right"){for(var r=[],o=n,s=0;o.length;){for(var a=0;a<o.length;a++){var l=o[a];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];r.indexOf(c.node1)<0&&r.push(c.node1)}}o=r,r=[],++s}B(n,function(d){Ope(d)||d.setLayout({depth:Math.max(0,i-d.getLayout().skNodeHeight)},!0)})}else e==="justify"&&vct(n,i)}function vct(n,e){B(n,function(t){!Ope(t)&&!t.outEdges.length&&t.setLayout({depth:e},!0)})}function yct(n,e,t){B(n,function(i){var r=i.getLayout().depth*e;t==="vertical"?i.setLayout({y:r},!0):i.setLayout({x:r},!0)})}function _ct(n,e,t,i,r,o,s){var a=bct(n,s);Sct(a,e,t,i,r,s),nP(a,r,t,i,s);for(var l=1;o>0;o--)l*=.99,wct(a,l,s),nP(a,r,t,i,s),Ict(a,l,s),nP(a,r,t,i,s)}function bct(n,e){var t=[],i=e==="vertical"?"y":"x",r=iB(n,function(o){return o.getLayout()[i]});return r.keys.sort(function(o,s){return o-s}),B(r.keys,function(o){t.push(r.buckets.get(o))}),t}function Sct(n,e,t,i,r,o){var s=1/0;B(n,function(a){var l=a.length,u=0;B(a,function(d){u+=d.getLayout().value});var c=o==="vertical"?(i-(l-1)*r)/u:(t-(l-1)*r)/u;c<s&&(s=c)}),B(n,function(a){B(a,function(l,u){var c=l.getLayout().value*s;o==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),B(e,function(a){var l=+a.getValue()*s;a.setLayout({dy:l},!0)})}function nP(n,e,t,i,r){var o=r==="vertical"?"x":"y";B(n,function(s){s.sort(function(p,m){return p.getLayout()[o]-m.getLayout()[o]});for(var a,l,u,c=0,d=s.length,h=r==="vertical"?"dx":"dy",f=0;f<d;f++)l=s[f],u=c-l.getLayout()[o],u>0&&(a=l.getLayout()[o]+u,r==="vertical"?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),c=l.getLayout()[o]+l.getLayout()[h]+e;var g=r==="vertical"?i:t;if(u=c-e-g,u>0){a=l.getLayout()[o]-u,r==="vertical"?l.setLayout({x:a},!0):l.setLayout({y:a},!0),c=a;for(var f=d-2;f>=0;--f)l=s[f],u=l.getLayout()[o]+l.getLayout()[h]+e-c,u>0&&(a=l.getLayout()[o]-u,r==="vertical"?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),c=l.getLayout()[o]}})}function wct(n,e,t){B(n.slice().reverse(),function(i){B(i,function(r){if(r.outEdges.length){var o=ih(r.outEdges,Cct,t)/ih(r.outEdges,ZI);if(isNaN(o)){var s=r.outEdges.length;o=s?ih(r.outEdges,xct,t)/s:0}if(t==="vertical"){var a=r.getLayout().x+(o-wh(r,t))*e;r.setLayout({x:a},!0)}else{var l=r.getLayout().y+(o-wh(r,t))*e;r.setLayout({y:l},!0)}}})})}function Cct(n,e){return wh(n.node2,e)*n.getValue()}function xct(n,e){return wh(n.node2,e)}function Lct(n,e){return wh(n.node1,e)*n.getValue()}function Tct(n,e){return wh(n.node1,e)}function wh(n,e){return e==="vertical"?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function ZI(n){return n.getValue()}function ih(n,e,t){for(var i=0,r=n.length,o=-1;++o<r;){var s=+e(n[o],t);isNaN(s)||(i+=s)}return i}function Ict(n,e,t){B(n,function(i){B(i,function(r){if(r.inEdges.length){var o=ih(r.inEdges,Lct,t)/ih(r.inEdges,ZI);if(isNaN(o)){var s=r.inEdges.length;o=s?ih(r.inEdges,Tct,t)/s:0}if(t==="vertical"){var a=r.getLayout().x+(o-wh(r,t))*e;r.setLayout({x:a},!0)}else{var l=r.getLayout().y+(o-wh(r,t))*e;r.setLayout({y:l},!0)}}})})}function Dct(n,e){var t=e==="vertical"?"x":"y";B(n,function(i){i.outEdges.sort(function(r,o){return r.node2.getLayout()[t]-o.node2.getLayout()[t]}),i.inEdges.sort(function(r,o){return r.node1.getLayout()[t]-o.node1.getLayout()[t]})}),B(n,function(i){var r=0,o=0;B(i.outEdges,function(s){s.setLayout({sy:r},!0),r+=s.getLayout().dy}),B(i.inEdges,function(s){s.setLayout({ty:o},!0),o+=s.getLayout().dy})})}function Ect(n){n.eachSeriesByType("sankey",function(e){var t=e.getGraph(),i=t.nodes,r=t.edges;if(i.length){var o=1/0,s=-1/0;B(i,function(a){var l=a.getLayout().value;l<o&&(o=l),l>s&&(s=l)}),B(i,function(a){var l=new $r({type:"color",mappingMethod:"linear",dataExtent:[o,s],visual:e.get("color")}),u=l.mapValueToVisual(a.getLayout().value),c=a.getModel().get(["itemStyle","color"]);c!=null?(a.setVisual("color",c),a.setVisual("style",{fill:c})):(a.setVisual("color",u),a.setVisual("style",{fill:u}))})}r.length&&B(r,function(a){var l=a.getModel().get("lineStyle");a.setVisual("style",l)})})}function Mct(n){n.registerChartView(lct),n.registerSeriesModel(cct),n.registerLayout(dct),n.registerVisual(Ect),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var Rpe=function(){function n(){}return n.prototype.getInitialData=function(e,t){var i,r=t.getComponent("xAxis",this.get("xAxisIndex")),o=t.getComponent("yAxis",this.get("yAxisIndex")),s=r.get("type"),a=o.get("type"),l;s==="category"?(e.layout="horizontal",i=r.getOrdinalMeta(),l=!0):a==="category"?(e.layout="vertical",i=o.getOrdinalMeta(),l=!0):e.layout=e.layout||"horizontal";var u=["x","y"],c=e.layout==="horizontal"?0:1,d=this._baseAxisDim=u[c],h=u[1-c],f=[r,o],g=f[c].get("type"),p=f[1-c].get("type"),m=e.data;if(m&&l){var v=[];B(m,function(b,S){var w;we(b)?(w=b.slice(),b.unshift(S)):we(b.value)?(w=be({},b),w.value=w.value.slice(),b.value.unshift(S)):w=b,v.push(w)}),e.data=v}var y=this.defaultValueDimensions,_=[{name:d,type:$I(g),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:$I(p),dimsDef:y.slice()}];return Xy(this,{coordDimensions:_,dimensionsCount:y.length+1,encodeDefaulter:dt(ahe,_,this)})},n.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},n}(),Bpe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(ii);Hi(Bpe,Rpe,!0);const Act=Bpe;var Nct=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=t.getData(),s=this.group,a=this._data;this._data||s.removeAll();var l=t.get("layout")==="horizontal"?1:0;o.diff(a).add(function(u){if(o.hasValue(u)){var c=o.getItemLayout(u),d=sQ(c,o,u,l,!0);o.setItemGraphicEl(u,d),s.add(d)}}).update(function(u,c){var d=a.getItemGraphicEl(c);if(!o.hasValue(u)){s.remove(d);return}var h=o.getItemLayout(u);d?(ul(d),Fpe(h,d,o,u)):d=sQ(h,o,u,l),s.add(d),o.setItemGraphicEl(u,d)}).remove(function(u){var c=a.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=o},e.prototype.remove=function(t){var i=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(o){o&&i.remove(o)})},e.type="boxplot",e}(Un),kct=function(){function n(){}return n}(),Pct=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="boxplotBoxPath",i}return e.prototype.getDefaultShape=function(){return new kct},e.prototype.buildPath=function(t,i){var r=i.points,o=0;for(t.moveTo(r[o][0],r[o][1]),o++;o<4;o++)t.lineTo(r[o][0],r[o][1]);for(t.closePath();o<r.length;o++)t.moveTo(r[o][0],r[o][1]),o++,t.lineTo(r[o][0],r[o][1])},e}(It);function sQ(n,e,t,i,r){var o=n.ends,s=new Pct({shape:{points:r?Oct(o,i,n):o}});return Fpe(n,s,e,t,r),s}function Fpe(n,e,t,i,r){var o=t.hostModel,s=kw[r?"initProps":"updateProps"];s(e,{shape:{points:n.ends}},o,i),e.useStyle(t.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var a=t.getItemModel(i),l=a.getModel("emphasis");Vr(e,a),mi(e,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Oct(n,e,t){return Te(n,function(i){return i=i.slice(),i[e]=t.initBaseline,i})}const Rct=Nct;var Sb=B;function Bct(n){var e=Fct(n);Sb(e,function(t){var i=t.seriesModels;i.length&&($ct(t),Sb(i,function(r,o){Vct(r,t.boxOffsetList[o],t.boxWidthList[o])}))})}function Fct(n){var e=[],t=[];return n.eachSeriesByType("boxplot",function(i){var r=i.getBaseAxis(),o=Ct(t,r);o<0&&(o=t.length,t[o]=r,e[o]={axis:r,seriesModels:[]}),e[o].seriesModels.push(i)}),e}function $ct(n){var e=n.axis,t=n.seriesModels,i=t.length,r=n.boxWidthList=[],o=n.boxOffsetList=[],s=[],a;if(e.type==="category")a=e.getBandWidth();else{var l=0;Sb(t,function(g){l=Math.max(l,g.getData().count())});var u=e.getExtent();a=Math.abs(u[1]-u[0])/l}Sb(t,function(g){var p=g.get("boxWidth");we(p)||(p=[p,p]),s.push([Fe(p[0],a)||0,Fe(p[1],a)||0])});var c=a*.8-2,d=c/i*.3,h=(c-d*(i-1))/i,f=h/2-c/2;Sb(t,function(g,p){o.push(f),f+=d+h,r.push(Math.min(Math.max(h,s[p][0]),s[p][1]))})}function Vct(n,e,t){var i=n.coordinateSystem,r=n.getData(),o=t/2,s=n.get("layout")==="horizontal"?0:1,a=1-s,l=["x","y"],u=r.mapDimension(l[s]),c=r.mapDimensionsAll(l[a]);if(u==null||c.length<5)return;for(var d=0;d<r.count();d++){var h=r.get(u,d),f=_(h,c[2],d),g=_(h,c[0],d),p=_(h,c[1],d),m=_(h,c[3],d),v=_(h,c[4],d),y=[];b(y,p,!1),b(y,m,!0),y.push(g,p,v,m),S(y,g),S(y,v),S(y,f),r.setItemLayout(d,{initBaseline:f[a],ends:y})}function _(w,C,x){var L=r.get(C,x),T=[];T[s]=w,T[a]=L;var I;return isNaN(w)||isNaN(L)?I=[NaN,NaN]:(I=i.dataToPoint(T),I[s]+=e),I}function b(w,C,x){var L=C.slice(),T=C.slice();L[s]+=o,T[s]-=o,x?w.push(L,T):w.push(T,L)}function S(w,C){var x=C.slice(),L=C.slice();x[s]-=o,L[s]+=o,w.push(x,L)}}function Wct(n,e){e=e||{};for(var t=[],i=[],r=e.boundIQR,o=r==="none"||r===0,s=0;s<n.length;s++){var a=sa(n[s].slice()),l=NN(a,.25),u=NN(a,.5),c=NN(a,.75),d=a[0],h=a[a.length-1],f=(r??1.5)*(c-l),g=o?d:Math.max(d,l-f),p=o?h:Math.min(h,c+f),m=e.itemNameFormatter,v=qe(m)?m({value:s}):$e(m)?m.replace("{value}",s+""):s+"";t.push([v,g,l,u,c,p]);for(var y=0;y<a.length;y++){var _=a[y];if(_<g||_>p){var b=[v,_];i.push(b)}}}return{boxData:t,outliers:i}}var zct={type:"echarts:boxplot",transform:function(e){var t=e.upstream;if(t.sourceFormat!==ro){var i="";ln(i)}var r=Wct(t.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}};function Hct(n){n.registerSeriesModel(Act),n.registerChartView(Rct),n.registerLayout(Bct),n.registerTransform(zct)}var Uct=["color","borderColor"],Gct=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},e.prototype.incrementalPrepareRender=function(t,i,r){this._clear(),this._updateDrawMode(t)},e.prototype.incrementalRender=function(t,i,r,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,i):this._incrementalRenderNormal(t,i)},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var i=t.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(t){var i=t.getData(),r=this._data,o=this.group,s=i.getLayout("isSimpleBox"),a=t.get("clip",!0),l=t.coordinateSystem,u=l.getArea&&l.getArea();this._data||o.removeAll(),i.diff(r).add(function(c){if(i.hasValue(c)){var d=i.getItemLayout(c);if(a&&aQ(u,d))return;var h=iP(d,c,!0);Qn(h,{shape:{points:d.ends}},t,c),rP(h,i,c,s),o.add(h),i.setItemGraphicEl(c,h)}}).update(function(c,d){var h=r.getItemGraphicEl(d);if(!i.hasValue(c)){o.remove(h);return}var f=i.getItemLayout(c);if(a&&aQ(u,f)){o.remove(h);return}h?(rn(h,{shape:{points:f.ends}},t,c),ul(h)):h=iP(f),rP(h,i,c,s),o.add(h),i.setItemGraphicEl(c,h)}).remove(function(c){var d=r.getItemGraphicEl(c);d&&o.remove(d)}).execute(),this._data=i},e.prototype._renderLarge=function(t){this._clear(),lQ(t,this.group);var i=t.get("clip",!0)?EM(t.coordinateSystem,!1,t):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(t,i){for(var r=i.getData(),o=r.getLayout("isSimpleBox"),s;(s=t.next())!=null;){var a=r.getItemLayout(s),l=iP(a);rP(l,r,s,o),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},e.prototype._incrementalRenderLarge=function(t,i){lQ(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(t){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Un),Kct=function(){function n(){}return n}(),jct=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="normalCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new Kct},e.prototype.buildPath=function(t,i){var r=i.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},e}(It);function iP(n,e,t){var i=n.ends;return new jct({shape:{points:t?qct(i,n):i},z2:100})}function aQ(n,e){for(var t=!0,i=0;i<e.ends.length;i++)if(n.contain(e.ends[i][0],e.ends[i][1])){t=!1;break}return t}function rP(n,e,t,i){var r=e.getItemModel(t);n.useStyle(e.getItemVisual(t,"style")),n.style.strokeNoScale=!0,n.__simpleBox=i,Vr(n,r)}function qct(n,e){return Te(n,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}var Yct=function(){function n(){}return n}(),oP=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i.type="largeCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new Yct},e.prototype.buildPath=function(t,i){for(var r=i.points,o=0;o<r.length;)if(this.__sign===r[o++]){var s=r[o++];t.moveTo(s,r[o++]),t.lineTo(s,r[o++])}else o+=3},e}(It);function lQ(n,e,t,i){var r=n.getData(),o=r.getLayout("largePoints"),s=new oP({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});e.add(s);var a=new oP({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});e.add(a);var l=new oP({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});e.add(l),sP(1,s,n),sP(-1,a,n),sP(0,l,n),i&&(s.incremental=!0,a.incremental=!0),t&&t.push(s,a)}function sP(n,e,t,i){var r=t.get(["itemStyle",n>0?"borderColor":"borderColor0"])||t.get(["itemStyle",n>0?"color":"color0"]);n===0&&(r=t.get(["itemStyle","borderColorDoji"]));var o=t.getModel("itemStyle").getItemStyle(Uct);e.useStyle(o),e.style.fill=null,e.style.stroke=r}const Xct=Gct;var $pe=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(t,i,r){var o=i.getItemLayout(t);return o&&r.rect(o.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(ii);Hi($pe,Rpe,!0);const Zct=$pe;function Qct(n){!n||!we(n.series)||B(n.series,function(e){et(e)&&e.type==="k"&&(e.type="candlestick")})}var Jct=["itemStyle","borderColor"],edt=["itemStyle","borderColor0"],tdt=["itemStyle","borderColorDoji"],ndt=["itemStyle","color"],idt=["itemStyle","color0"],rdt={seriesType:"candlestick",plan:jy(),performRawSeries:!0,reset:function(n,e){function t(o,s){return s.get(o>0?ndt:idt)}function i(o,s){return s.get(o===0?tdt:o>0?Jct:edt)}if(!e.isSeriesFiltered(n)){var r=n.pipelineContext.large;return!r&&{progress:function(o,s){for(var a;(a=o.next())!=null;){var l=s.getItemModel(a),u=s.getItemLayout(a).sign,c=l.getItemStyle();c.fill=t(u,l),c.stroke=i(u,l)||c.fill;var d=s.ensureUniqueItemVisual(a,"style");be(d,c)}}}}}};const odt=rdt;var sdt={seriesType:"candlestick",plan:jy(),reset:function(n){var e=n.coordinateSystem,t=n.getData(),i=adt(n,t),r=0,o=1,s=["x","y"],a=t.getDimensionIndex(t.mapDimension(s[r])),l=Te(t.mapDimensionsAll(s[o]),t.getDimensionIndex,t),u=l[0],c=l[1],d=l[2],h=l[3];if(t.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),a<0||l.length<4)return;return{progress:n.pipelineContext.large?g:f};function f(p,m){for(var v,y=m.getStore();(v=p.next())!=null;){var _=y.get(a,v),b=y.get(u,v),S=y.get(c,v),w=y.get(d,v),C=y.get(h,v),x=Math.min(b,S),L=Math.max(b,S),T=F(x,_),I=F(L,_),D=F(w,_),M=F(C,_),P=[];R(P,I,0),R(P,T,1),P.push(H(M),H(I),H(D),H(T));var k=m.getItemModel(v),O=!!k.get(["itemStyle","borderColorDoji"]);m.setItemLayout(v,{sign:uQ(y,v,b,S,c,O),initBaseline:b>S?I[o]:T[o],ends:P,brushRect:$(w,C,_)})}function F(U,z){var Z=[];return Z[r]=z,Z[o]=U,isNaN(z)||isNaN(U)?[NaN,NaN]:e.dataToPoint(Z)}function R(U,z,Z){var X=z.slice(),ce=z.slice();X[r]=pL(X[r]+i/2,1,!1),ce[r]=pL(ce[r]-i/2,1,!0),Z?U.push(X,ce):U.push(ce,X)}function $(U,z,Z){var X=F(U,Z),ce=F(z,Z);return X[r]-=i/2,ce[r]-=i/2,{x:X[0],y:X[1],width:i,height:ce[1]-X[1]}}function H(U){return U[r]=pL(U[r],1),U}}function g(p,m){for(var v=Yl(p.count*4),y=0,_,b=[],S=[],w,C=m.getStore(),x=!!n.get(["itemStyle","borderColorDoji"]);(w=p.next())!=null;){var L=C.get(a,w),T=C.get(u,w),I=C.get(c,w),D=C.get(d,w),M=C.get(h,w);if(isNaN(L)||isNaN(D)||isNaN(M)){v[y++]=NaN,y+=3;continue}v[y++]=uQ(C,w,T,I,c,x),b[r]=L,b[o]=D,_=e.dataToPoint(b,null,S),v[y++]=_?_[0]:NaN,v[y++]=_?_[1]:NaN,b[o]=M,_=e.dataToPoint(b,null,S),v[y++]=_?_[1]:NaN}m.setLayout("largePoints",v)}}};function uQ(n,e,t,i,r,o){var s;return t>i?s=-1:t<i?s=1:s=o?0:e>0?n.get(r,e-1)<=i?1:-1:1,s}function adt(n,e){var t=n.getBaseAxis(),i,r=t.type==="category"?t.getBandWidth():(i=t.getExtent(),Math.abs(i[1]-i[0])/e.count()),o=Fe(gt(n.get("barMaxWidth"),r),r),s=Fe(gt(n.get("barMinWidth"),1),r),a=n.get("barWidth");return a!=null?Fe(a,r):Math.max(Math.min(r/2,o),s)}const ldt=sdt;function udt(n){n.registerChartView(Xct),n.registerSeriesModel(Zct),n.registerPreprocessor(Qct),n.registerVisual(odt),n.registerLayout(ldt)}function cQ(n,e){var t=e.rippleEffectColor||e.color;n.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?t:null,fill:e.brushType==="fill"?t:null}})})}var cdt=function(n){re(e,n);function e(t,i){var r=n.call(this)||this,o=new $w(t,i),s=new st;return r.add(o),r.add(s),r.updateData(t,i),r}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(t){for(var i=t.symbolType,r=t.color,o=t.rippleNumber,s=this.childAt(1),a=0;a<o;a++){var l=Wi(i,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-a/o*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),s.add(l)}cQ(s,t)},e.prototype.updateEffectAnimation=function(t){for(var i=this._effectCfg,r=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],s=0;s<o.length;s++){var a=o[s];if(i[a]!==t[a]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}cQ(r,t)},e.prototype.highlight=function(){Nc(this)},e.prototype.downplay=function(){kc(this)},e.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},e.prototype.updateData=function(t,i){var r=this,o=t.hostModel;this.childAt(0).updateData(t,i);var s=this.childAt(1),a=t.getItemModel(i),l=t.getItemVisual(i,"symbol"),u=Yy(t.getItemVisual(i,"symbolSize")),c=t.getItemVisual(i,"style"),d=c&&c.fill,h=a.getModel("emphasis");s.setScale(u),s.traverse(function(m){m.setStyle("fill",d)});var f=Ip(t.getItemVisual(i,"symbolOffset"),u);f&&(s.x=f[0],s.y=f[1]);var g=t.getItemVisual(i,"symbolRotate");s.rotation=(g||0)*Math.PI/180||0;var p={};p.showEffectOn=o.get("showEffectOn"),p.rippleScale=a.get(["rippleEffect","scale"]),p.brushType=a.get(["rippleEffect","brushType"]),p.period=a.get(["rippleEffect","period"])*1e3,p.effectOffset=i/t.count(),p.z=o.getShallow("z")||0,p.zlevel=o.getShallow("zlevel")||0,p.symbolType=l,p.color=d,p.rippleEffectColor=a.get(["rippleEffect","color"]),p.rippleNumber=a.get(["rippleEffect","number"]),p.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(m){m==="emphasis"?p.showEffectOn!=="render"&&r.startEffectAnimation(p):m==="normal"&&p.showEffectOn!=="render"&&r.stopEffectAnimation()}),this._effectCfg=p,mi(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},e.prototype.fadeOut=function(t){t&&t()},e}(st);const ddt=cdt;var hdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._symbolDraw=new Vw(ddt)},e.prototype.render=function(t,i,r){var o=t.getData(),s=this._symbolDraw;s.updateData(o,{clipShape:this._getClipShape(t)}),this.group.add(s.group)},e.prototype._getClipShape=function(t){var i=t.coordinateSystem,r=i&&i.getArea&&i.getArea();return t.get("clip",!0)?r:null},e.prototype.updateTransform=function(t,i,r){var o=t.getData();this.group.dirty();var s=Ww("").reset(t,i,r);s.progress&&s.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(t){var i=t.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=Hqe(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(t,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Un);const fdt=hdt;var gdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t}return e.prototype.getInitialData=function(t,i){return jc(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(t,i,r){return r.point(i.getItemLayout(t))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(ii);const pdt=gdt;function mdt(n){n.registerChartView(fdt),n.registerSeriesModel(pdt),n.registerLayout(Ww("effectScatter"))}var vdt=function(n){re(e,n);function e(t,i,r){var o=n.call(this)||this;return o.add(o.createLine(t,i,r)),o._updateEffectSymbol(t,i),o}return e.prototype.createLine=function(t,i,r){return new zz(t,i,r)},e.prototype._updateEffectSymbol=function(t,i){var r=t.getItemModel(i),o=r.getModel("effect"),s=o.get("symbolSize"),a=o.get("symbol");we(s)||(s=[s,s]);var l=t.getItemVisual(i,"style"),u=o.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==a&&(this.remove(c),c=Wi(a,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(o.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=a,this._symbolScale=s,this._updateEffectAnimation(t,o,i))},e.prototype._updateEffectAnimation=function(t,i,r){var o=this.childAt(1);if(o){var s=t.getItemLayout(r),a=i.get("period")*1e3,l=i.get("loop"),u=i.get("roundTrip"),c=i.get("constantSpeed"),d=Dr(i.get("delay"),function(f){return f/t.count()*a/3});if(o.ignore=!0,this._updateAnimationPoints(o,s),c>0&&(a=this._getLineLength(o)/c*1e3),a!==this._period||l!==this._loop||u!==this._roundTrip){o.stopAnimation();var h=void 0;qe(d)?h=d(r):h=d,o.__t>0&&(h=-a*o.__t),this._animateSymbol(o,a,h,l,u)}this._period=a,this._loop=l,this._roundTrip=u}},e.prototype._animateSymbol=function(t,i,r,o,s){if(i>0){t.__t=0;var a=this,l=t.animate("",o).when(s?i*2:i,{__t:s?2:1}).delay(r).during(function(){a._updateSymbolPosition(t)});o||l.done(function(){a.remove(t)}),l.start()}},e.prototype._getLineLength=function(t){return Pd(t.__p1,t.__cp1)+Pd(t.__cp1,t.__p2)},e.prototype._updateAnimationPoints=function(t,i){t.__p1=i[0],t.__p2=i[1],t.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(t,i,r){this.childAt(0).updateData(t,i,r),this._updateEffectSymbol(t,i)},e.prototype._updateSymbolPosition=function(t){var i=t.__p1,r=t.__p2,o=t.__cp1,s=t.__t<1?t.__t:2-t.__t,a=[t.x,t.y],l=a.slice(),u=xr,c=U5;a[0]=u(i[0],o[0],r[0],s),a[1]=u(i[1],o[1],r[1],s);var d=t.__t<1?c(i[0],o[0],r[0],s):c(r[0],o[0],i[0],1-s),h=t.__t<1?c(i[1],o[1],r[1],s):c(r[1],o[1],i[1],1-s);t.rotation=-Math.atan2(h,d)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=Pd(l,a)*1.05,s===1&&(a[0]=l[0]+(a[0]-l[0])/2,a[1]=l[1]+(a[1]-l[1])/2)):t.__lastT===1?t.scaleY=2*Pd(i,a):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=a[0],t.y=a[1]},e.prototype.updateLayout=function(t,i){this.childAt(0).updateLayout(t,i);var r=t.getItemModel(i).getModel("effect");this._updateEffectAnimation(t,r,i)},e}(st);const Vpe=vdt;var ydt=function(n){re(e,n);function e(t,i,r){var o=n.call(this)||this;return o._createPolyline(t,i,r),o}return e.prototype._createPolyline=function(t,i,r){var o=t.getItemLayout(i),s=new ts({shape:{points:o}});this.add(s),this._updateCommonStl(t,i,r)},e.prototype.updateData=function(t,i,r){var o=t.hostModel,s=this.childAt(0),a={shape:{points:t.getItemLayout(i)}};rn(s,a,o,i),this._updateCommonStl(t,i,r)},e.prototype._updateCommonStl=function(t,i,r){var o=this.childAt(0),s=t.getItemModel(i),a=r&&r.emphasisLineStyle,l=r&&r.focus,u=r&&r.blurScope,c=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var d=s.getModel("emphasis");a=d.getModel("lineStyle").getLineStyle(),c=d.get("disabled"),l=d.get("focus"),u=d.get("blurScope")}o.useStyle(t.getItemVisual(i,"style")),o.style.fill=null,o.style.strokeNoScale=!0;var h=o.ensureState("emphasis");h.style=a,mi(this,l,u,c)},e.prototype.updateLayout=function(t,i){var r=this.childAt(0);r.setShape("points",t.getItemLayout(i))},e}(st);const Wpe=ydt;var _dt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return e.prototype.createLine=function(t,i,r){return new Wpe(t,i,r)},e.prototype._updateAnimationPoints=function(t,i){this._points=i;for(var r=[0],o=0,s=1;s<i.length;s++){var a=i[s-1],l=i[s];o+=Pd(a,l),r.push(o)}if(o===0){this._length=0;return}for(var s=0;s<r.length;s++)r[s]/=o;this._offsets=r,this._length=o},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(t){var i=t.__t<1?t.__t:2-t.__t,r=this._points,o=this._offsets,s=r.length;if(o){var a=this._lastFrame,l;if(i<this._lastFramePercent){var u=Math.min(a+1,s-1);for(l=u;l>=0&&!(o[l]<=i);l--);l=Math.min(l,s-2)}else{for(l=a;l<s&&!(o[l]>i);l++);l=Math.min(l-1,s-2)}var c=(i-o[l])/(o[l+1]-o[l]),d=r[l],h=r[l+1];t.x=d[0]*(1-c)+c*h[0],t.y=d[1]*(1-c)+c*h[1];var f=t.__t<1?h[0]-d[0]:d[0]-h[0],g=t.__t<1?h[1]-d[1]:d[1]-h[1];t.rotation=-Math.atan2(g,f)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=i,t.ignore=!1}},e}(Vpe);const bdt=_dt;var Sdt=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),wdt=function(n){re(e,n);function e(t){var i=n.call(this,t)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Sdt},e.prototype.buildPath=function(t,i){var r=i.segs,o=i.curveness,s;if(i.polyline)for(s=this._off;s<r.length;){var a=r[s++];if(a>0){t.moveTo(r[s++],r[s++]);for(var l=1;l<a;l++)t.lineTo(r[s++],r[s++])}}else for(s=this._off;s<r.length;){var u=r[s++],c=r[s++],d=r[s++],h=r[s++];if(t.moveTo(u,c),o>0){var f=(u+d)/2-(c-h)*o,g=(c+h)/2-(d-u)*o;t.quadraticCurveTo(f,g,d,h)}else t.lineTo(d,h)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(t,i){var r=this.shape,o=r.segs,s=r.curveness,a=this.style.lineWidth;if(r.polyline)for(var l=0,u=0;u<o.length;){var c=o[u++];if(c>0)for(var d=o[u++],h=o[u++],f=1;f<c;f++){var g=o[u++],p=o[u++];if(Cd(d,h,g,p,a,t,i))return l}l++}else for(var l=0,u=0;u<o.length;){var d=o[u++],h=o[u++],g=o[u++],p=o[u++];if(s>0){var m=(d+g)/2-(h-p)*s,v=(h+p)/2-(g-d)*s;if(jce(d,h,m,v,g,p,a,t,i))return l}else if(Cd(d,h,g,p,a,t,i))return l;l++}return-1},e.prototype.contain=function(t,i){var r=this.transformCoordToLocal(t,i),o=this.getBoundingRect();if(t=r[0],i=r[1],o.contain(t,i)){var s=this.hoverDataIdx=this.findDataIndex(t,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var i=this.shape,r=i.segs,o=1/0,s=1/0,a=-1/0,l=-1/0,u=0;u<r.length;){var c=r[u++],d=r[u++];o=Math.min(c,o),a=Math.max(c,a),s=Math.min(d,s),l=Math.max(d,l)}t=this._rect=new mt(o,s,a,l)}return t},e}(It),Cdt=function(){function n(){this.group=new st}return n.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e)},n.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(e,t){var i=this._newAdded[0],r=t.getLayout("linesPoints"),o=i&&i.shape.segs;if(o&&o.length<2e4){var s=o.length,a=new Float32Array(s+r.length);a.set(o),a.set(r,s),i.setShape({segs:a})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=e.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},n.prototype._create=function(){var e=new wdt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},n.prototype._setCommon=function(e,t,i){var r=t.hostModel;e.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),e.useStyle(r.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("style");o&&o.stroke&&e.setStyle("stroke",o.stroke),e.setStyle("fill",null);var s=ut(e);s.seriesIndex=r.seriesIndex,e.on("mousemove",function(a){s.dataIndex=null;var l=e.hoverDataIdx;l>0&&(s.dataIndex=l+e.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const xdt=Cdt;var Ldt={seriesType:"lines",plan:jy(),reset:function(n){var e=n.coordinateSystem;if(e){var t=n.get("polyline"),i=n.pipelineContext.large;return{progress:function(r,o){var s=[];if(i){var a=void 0,l=r.end-r.start;if(t){for(var u=0,c=r.start;c<r.end;c++)u+=n.getLineCoordsCount(c);a=new Float32Array(l+u*2)}else a=new Float32Array(l*4);for(var d=0,h=[],c=r.start;c<r.end;c++){var f=n.getLineCoords(c,s);t&&(a[d++]=f);for(var g=0;g<f;g++)h=e.dataToPoint(s[g],!1,h),a[d++]=h[0],a[d++]=h[1]}o.setLayout("linesPoints",a)}else for(var c=r.start;c<r.end;c++){var p=o.getItemModel(c),f=n.getLineCoords(c,s),m=[];if(t)for(var v=0;v<f;v++)m.push(e.dataToPoint(s[v]));else{m[0]=e.dataToPoint(s[0]),m[1]=e.dataToPoint(s[1]);var y=p.get(["lineStyle","curveness"]);+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}o.setItemLayout(c,m)}}}}}};const zpe=Ldt;var Tdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=t.getData(),s=this._updateLineDraw(o,t),a=t.get("zlevel"),l=t.get(["effect","trailLength"]),u=r.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(a).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(c||u.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(o);var d=t.get("clip",!0)&&EM(t.coordinateSystem,!1,t);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},e.prototype.incrementalPrepareRender=function(t,i,r){var o=t.getData(),s=this._updateLineDraw(o,t);s.incrementalPrepareUpdate(o),this._clearLayer(r),this._finished=!1},e.prototype.incrementalRender=function(t,i,r){this._lineDraw.incrementalUpdate(t,i.getData()),this._finished=t.end===i.getData().count()},e.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},e.prototype.updateTransform=function(t,i,r){var o=t.getData(),s=t.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var a=zpe.reset(t,i,r);a.progress&&a.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(r)},e.prototype._updateLineDraw=function(t,i){var r=this._lineDraw,o=this._showEffect(i),s=!!i.get("polyline"),a=i.pipelineContext,l=a.large;return(!r||o!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new xdt:new Hz(s?o?bdt:Wpe:o?Vpe:zz),this._hasEffet=o,this._isPolyline=s,this._isLargeDraw=l),this.group.add(r.group),r},e.prototype._showEffect=function(t){return!!t.get(["effect","show"])},e.prototype._clearLayer=function(t){var i=t.getZr(),r=i.painter.getType()==="svg";!r&&this._lastZlevel!=null&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(t,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.type="lines",e}(Un);const Idt=Tdt;var Ddt=typeof Uint32Array>"u"?Array:Uint32Array,Edt=typeof Float64Array>"u"?Array:Float64Array;function dQ(n){var e=n.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(n.data=Te(e,function(t){var i=[t[0].coord,t[1].coord],r={coords:i};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),_W([r,t[0],t[1]])}))}var Mdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return e.prototype.init=function(t){t.data=t.data||[],dQ(t);var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count)),n.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(t){if(dQ(t),t.data){var i=this._processFlatCoordsArray(t.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(t.data=new Float32Array(i.count))}n.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(t){var i=this._processFlatCoordsArray(t.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=pI(this._flatCoords,i.flatCoords),this._flatCoordsOffset=pI(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),t.data=new Float32Array(i.count)),this.getRawData().appendData(t.data)},e.prototype._getCoordsFromItemModel=function(t){var i=this.getData().getItemModel(t),r=i.option instanceof Array?i.option:i.getShallow("coords");return r},e.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},e.prototype.getLineCoords=function(t,i){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[t*2],o=this._flatCoordsOffset[t*2+1],s=0;s<o;s++)i[s]=i[s]||[],i[s][0]=this._flatCoords[r+s*2],i[s][1]=this._flatCoords[r+s*2+1];return o}else{for(var a=this._getCoordsFromItemModel(t),s=0;s<a.length;s++)i[s]=i[s]||[],i[s][0]=a[s][0],i[s][1]=a[s][1];return a.length}},e.prototype._processFlatCoordsArray=function(t){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),Jt(t[0])){for(var r=t.length,o=new Ddt(r),s=new Edt(r),a=0,l=0,u=0,c=0;c<r;){u++;var d=t[c++];o[l++]=a+i,o[l++]=d;for(var h=0;h<d;h++){var f=t[c++],g=t[c++];s[a++]=f,s[a++]=g}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},e.prototype.getInitialData=function(t,i){var r=new Co(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(o,s,a,l){if(o instanceof Array)return NaN;r.hasItemOption=!0;var u=o.value;if(u!=null)return u instanceof Array?u[l]:u}),r},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=o.getItemModel(t),a=s.get("name");if(a)return a;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),_r("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var t=this.option.progressive;return t??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return t??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var t=this.getModel("effect"),i=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(ii);const Adt=Mdt;function tx(n){return n instanceof Array||(n=[n,n]),n}var Ndt={seriesType:"lines",reset:function(n){var e=tx(n.get("symbol")),t=tx(n.get("symbolSize")),i=n.getData();i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",t&&t[0]),i.setVisual("toSymbolSize",t&&t[1]);function r(o,s){var a=o.getItemModel(s),l=tx(a.getShallow("symbol",!0)),u=tx(a.getShallow("symbolSize",!0));l[0]&&o.setItemVisual(s,"fromSymbol",l[0]),l[1]&&o.setItemVisual(s,"toSymbol",l[1]),u[0]&&o.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&o.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:i.hasItemOption?r:null}}};const kdt=Ndt;function Pdt(n){n.registerChartView(Idt),n.registerSeriesModel(Adt),n.registerLayout(zpe),n.registerVisual(kdt)}var Odt=256,Rdt=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=mh.createCanvas();this.canvas=e}return n.prototype.update=function(e,t,i,r,o,s){var a=this._getBrush(),l=this._getGradient(o,"inRange"),u=this._getGradient(o,"outOfRange"),c=this.pointSize+this.blurSize,d=this.canvas,h=d.getContext("2d"),f=e.length;d.width=t,d.height=i;for(var g=0;g<f;++g){var p=e[g],m=p[0],v=p[1],y=p[2],_=r(y);h.globalAlpha=_,h.drawImage(a,m-c,v-c)}if(!d.width||!d.height)return d;for(var b=h.getImageData(0,0,d.width,d.height),S=b.data,w=0,C=S.length,x=this.minOpacity,L=this.maxOpacity,T=L-x;w<C;){var _=S[w+3]/256,I=Math.floor(_*(Odt-1))*4;if(_>0){var D=s(_)?l:u;_>0&&(_=_*T+x),S[w++]=D[I],S[w++]=D[I+1],S[w++]=D[I+2],S[w++]=D[I+3]*_*256}else w+=4}return h.putImageData(b,0,0),d},n.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=mh.createCanvas()),t=this.pointSize+this.blurSize,i=t*2;e.width=i,e.height=i;var r=e.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),e},n.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,r=i[t]||(i[t]=new Uint8ClampedArray(256*4)),o=[0,0,0,0],s=0,a=0;a<256;a++)e[t](a/255,!0,o),r[s++]=o[0],r[s++]=o[1],r[s++]=o[2],r[s++]=o[3];return r},n}();const Bdt=Rdt;function Fdt(n,e,t){var i=n[1]-n[0];e=Te(e,function(s){return{interval:[(s.interval[0]-n[0])/i,(s.interval[1]-n[0])/i]}});var r=e.length,o=0;return function(s){var a;for(a=o;a<r;a++){var l=e[a].interval;if(l[0]<=s&&s<=l[1]){o=a;break}}if(a===r)for(a=o-1;a>=0;a--){var l=e[a].interval;if(l[0]<=s&&s<=l[1]){o=a;break}}return a>=0&&a<r&&t[a]}}function $dt(n,e){var t=n[1]-n[0];return e=[(e[0]-n[0])/t,(e[1]-n[0])/t],function(i){return i>=e[0]&&i<=e[1]}}function hQ(n){var e=n.dimensions;return e[0]==="lng"&&e[1]==="lat"}var Vdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o;i.eachComponent("visualMap",function(a){a.eachTargetSeries(function(l){l===t&&(o=a)})}),this._progressiveEls=null,this.group.removeAll();var s=t.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):hQ(s)&&this._renderOnGeo(s,t,o,r)},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll()},e.prototype.incrementalRender=function(t,i,r,o){var s=i.coordinateSystem;s&&(hQ(s)?this.render(i,r,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,o,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,i,r,o,s){var a=t.coordinateSystem,l=Ep(a,"cartesian2d"),u,c,d,h;if(l){var f=a.getAxis("x"),g=a.getAxis("y");u=f.getBandWidth()+.5,c=g.getBandWidth()+.5,d=f.scale.getExtent(),h=g.scale.getExtent()}for(var p=this.group,m=t.getData(),v=t.getModel(["emphasis","itemStyle"]).getItemStyle(),y=t.getModel(["blur","itemStyle"]).getItemStyle(),_=t.getModel(["select","itemStyle"]).getItemStyle(),b=t.get(["itemStyle","borderRadius"]),S=yr(t),w=t.getModel("emphasis"),C=w.get("focus"),x=w.get("blurScope"),L=w.get("disabled"),T=l?[m.mapDimension("x"),m.mapDimension("y"),m.mapDimension("value")]:[m.mapDimension("time"),m.mapDimension("value")],I=r;I<o;I++){var D=void 0,M=m.getItemVisual(I,"style");if(l){var P=m.get(T[0],I),k=m.get(T[1],I);if(isNaN(m.get(T[2],I))||isNaN(P)||isNaN(k)||P<d[0]||P>d[1]||k<h[0]||k>h[1])continue;var O=a.dataToPoint([P,k]);D=new Gt({shape:{x:O[0]-u/2,y:O[1]-c/2,width:u,height:c},style:M})}else{if(isNaN(m.get(T[1],I)))continue;D=new Gt({z2:1,shape:a.dataToRect([m.get(T[0],I)]).contentShape,style:M})}if(m.hasItemOption){var F=m.getItemModel(I),R=F.getModel("emphasis");v=R.getModel("itemStyle").getItemStyle(),y=F.getModel(["blur","itemStyle"]).getItemStyle(),_=F.getModel(["select","itemStyle"]).getItemStyle(),b=F.get(["itemStyle","borderRadius"]),C=R.get("focus"),x=R.get("blurScope"),L=R.get("disabled"),S=yr(F)}D.shape.r=b;var $=t.getRawValue(I),H="-";$&&$[2]!=null&&(H=$[2]+""),Wr(D,S,{labelFetcher:t,labelDataIndex:I,defaultOpacity:M.opacity,defaultText:H}),D.ensureState("emphasis").style=v,D.ensureState("blur").style=y,D.ensureState("select").style=_,mi(D,C,x,L),D.incremental=s,s&&(D.states.emphasis.hoverLayer=!0),p.add(D),m.setItemGraphicEl(I,D),this._progressiveEls&&this._progressiveEls.push(D)}},e.prototype._renderOnGeo=function(t,i,r,o){var s=r.targetVisuals.inRange,a=r.targetVisuals.outOfRange,l=i.getData(),u=this._hmLayer||this._hmLayer||new Bdt;u.blurSize=i.get("blurSize"),u.pointSize=i.get("pointSize"),u.minOpacity=i.get("minOpacity"),u.maxOpacity=i.get("maxOpacity");var c=t.getViewRect().clone(),d=t.getRoamTransform();c.applyTransform(d);var h=Math.max(c.x,0),f=Math.max(c.y,0),g=Math.min(c.width+c.x,o.getWidth()),p=Math.min(c.height+c.y,o.getHeight()),m=g-h,v=p-f,y=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(y,function(C,x,L){var T=t.dataToPoint([C,x]);return T[0]-=h,T[1]-=f,T.push(L),T}),b=r.getExtent(),S=r.type==="visualMap.continuous"?$dt(b,r.option.range):Fdt(b,r.getPieceList(),r.option.selected);u.update(_,m,v,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:a.color.getColorMapper()},S);var w=new Hr({style:{width:m,height:v,x:h,y:f,image:u.canvas},silent:!0});this.group.add(w)},e.type="heatmap",e}(Un);const Wdt=Vdt;var zdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,i){return jc(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=Pw.get(this.get("coordinateSystem"));if(t&&t.dimensions)return t.dimensions[0]==="lng"&&t.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(ii);const Hdt=zdt;function Udt(n){n.registerChartView(Wdt),n.registerSeriesModel(Hdt)}var Gdt=["itemStyle","borderWidth"],fQ=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],aP=new mu,Kdt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=this.group,s=t.getData(),a=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),d=l.master.getRect(),h={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[d.x,d.x+d.width],[d.y,d.y+d.height]],isHorizontal:c,valueDim:fQ[+c],categoryDim:fQ[1-+c]};return s.diff(a).add(function(f){if(s.hasValue(f)){var g=pQ(s,f),p=gQ(s,f,g,h),m=mQ(s,h,p);s.setItemGraphicEl(f,m),o.add(m),yQ(m,h,p)}}).update(function(f,g){var p=a.getItemGraphicEl(g);if(!s.hasValue(f)){o.remove(p);return}var m=pQ(s,f),v=gQ(s,f,m,h),y=qpe(s,v);p&&y!==p.__pictorialShapeStr&&(o.remove(p),s.setItemGraphicEl(f,null),p=null),p?Jdt(p,h,v):p=mQ(s,h,v,!0),s.setItemGraphicEl(f,p),p.__pictorialSymbolMeta=v,o.add(p),yQ(p,h,v)}).remove(function(f){var g=a.getItemGraphicEl(f);g&&vQ(a,f,g.__pictorialSymbolMeta.animationModel,g)}).execute(),this._data=s,this.group},e.prototype.remove=function(t,i){var r=this.group,o=this._data;t.get("animation")?o&&o.eachItemGraphicEl(function(s){vQ(o,ut(s).dataIndex,t,s)}):r.removeAll()},e.type="pictorialBar",e}(Un);function gQ(n,e,t,i){var r=n.getItemLayout(e),o=t.get("symbolRepeat"),s=t.get("symbolClip"),a=t.get("symbolPosition")||"start",l=t.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=t.get("symbolPatternSize")||2,d=t.isAnimationEnabled(),h={dataIndex:e,layout:r,itemModel:t,symbolType:n.getItemVisual(e,"symbol")||"circle",style:n.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:o,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:d?t:null,hoverScale:d&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};jdt(t,o,r,i,h),qdt(n,e,r,o,s,h.boundingLength,h.pxSign,c,i,h),Ydt(t,h.symbolScale,u,i,h);var f=h.symbolSize,g=Ip(t.get("symbolOffset"),f);return Xdt(t,f,r,o,s,g,a,h.valueLineWidth,h.boundingLength,h.repeatCutLength,i,h),h}function jdt(n,e,t,i,r){var o=i.valueDim,s=n.get("symbolBoundingData"),a=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),l=a.toGlobalCoord(a.dataToCoord(0)),u=1-+(t[o.wh]<=0),c;if(we(s)){var d=[lP(a,s[0])-l,lP(a,s[1])-l];d[1]<d[0]&&d.reverse(),c=d[u]}else s!=null?c=lP(a,s)-l:e?c=i.coordSysExtent[o.index][u]-l:c=t[o.wh];r.boundingLength=c,e&&(r.repeatCutLength=t[o.wh]),r.pxSign=c>0?1:-1}function lP(n,e){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(e)))}function qdt(n,e,t,i,r,o,s,a,l,u){var c=l.valueDim,d=l.categoryDim,h=Math.abs(t[d.wh]),f=n.getItemVisual(e,"symbolSize"),g;we(f)?g=f.slice():f==null?g=["100%","100%"]:g=[f,f],g[d.index]=Fe(g[d.index],h),g[c.index]=Fe(g[c.index],i?h:Math.abs(o)),u.symbolSize=g;var p=u.symbolScale=[g[0]/a,g[1]/a];p[c.index]*=(l.isHorizontal?-1:1)*s}function Ydt(n,e,t,i,r){var o=n.get(Gdt)||0;o&&(aP.attr({scaleX:e[0],scaleY:e[1],rotation:t}),aP.updateTransform(),o/=aP.getLineScale(),o*=e[i.valueDim.index]),r.valueLineWidth=o||0}function Xdt(n,e,t,i,r,o,s,a,l,u,c,d){var h=c.categoryDim,f=c.valueDim,g=d.pxSign,p=Math.max(e[f.index]+a,0),m=p;if(i){var v=Math.abs(l),y=Dr(n.get("symbolMargin"),"15%")+"",_=!1;y.lastIndexOf("!")===y.length-1&&(_=!0,y=y.slice(0,y.length-1));var b=Fe(y,e[f.index]),S=Math.max(p+b*2,0),w=_?0:b*2,C=Nce(i),x=C?i:_Q((v+w)/S),L=v-x*p;b=L/2/(_?x:Math.max(x-1,1)),S=p+b*2,w=_?0:b*2,!C&&i!=="fixed"&&(x=u?_Q((Math.abs(u)+w)/S):0),m=x*S-w,d.repeatTimes=x,d.symbolMargin=b}var T=g*(m/2),I=d.pathPosition=[];I[h.index]=t[h.wh]/2,I[f.index]=s==="start"?T:s==="end"?l-T:l/2,o&&(I[0]+=o[0],I[1]+=o[1]);var D=d.bundlePosition=[];D[h.index]=t[h.xy],D[f.index]=t[f.xy];var M=d.barRectShape=be({},t);M[f.wh]=g*Math.max(Math.abs(t[f.wh]),Math.abs(I[f.index]+T)),M[h.wh]=t[h.wh];var P=d.clipShape={};P[h.xy]=-t[h.xy],P[h.wh]=c.ecSize[h.wh],P[f.xy]=0,P[f.wh]=t[f.wh]}function Hpe(n){var e=n.symbolPatternSize,t=Wi(n.symbolType,-e/2,-e/2,e,e);return t.attr({culling:!0}),t.type!=="image"&&t.setStyle({strokeNoScale:!0}),t}function Upe(n,e,t,i){var r=n.__pictorialBundle,o=t.symbolSize,s=t.valueLineWidth,a=t.pathPosition,l=e.valueDim,u=t.repeatTimes||0,c=0,d=o[e.valueDim.index]+s+t.symbolMargin*2;for(Zz(n,function(p){p.__pictorialAnimationIndex=c,p.__pictorialRepeatTimes=u,c<u?Lv(p,null,g(c),t,i):Lv(p,null,{scaleX:0,scaleY:0},t,i,function(){r.remove(p)}),c++});c<u;c++){var h=Hpe(t);h.__pictorialAnimationIndex=c,h.__pictorialRepeatTimes=u,r.add(h);var f=g(c);Lv(h,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},t,i)}function g(p){var m=a.slice(),v=t.pxSign,y=p;return(t.symbolRepeatDirection==="start"?v>0:v<0)&&(y=u-1-p),m[l.index]=d*(y-u/2+.5)+a[l.index],{x:m[0],y:m[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function Gpe(n,e,t,i){var r=n.__pictorialBundle,o=n.__pictorialMainPath;o?Lv(o,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,i):(o=n.__pictorialMainPath=Hpe(t),r.add(o),Lv(o,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,i))}function Kpe(n,e,t){var i=be({},e.barRectShape),r=n.__pictorialBarRect;r?Lv(r,null,{shape:i},e,t):(r=n.__pictorialBarRect=new Gt({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),r.disableMorphing=!0,n.add(r))}function jpe(n,e,t,i){if(t.symbolClip){var r=n.__pictorialClipPath,o=be({},t.clipShape),s=e.valueDim,a=t.animationModel,l=t.dataIndex;if(r)rn(r,{shape:o},a,l);else{o[s.wh]=0,r=new Gt({shape:o}),n.__pictorialBundle.setClipPath(r),n.__pictorialClipPath=r;var u={};u[s.wh]=t.clipShape[s.wh],kw[i?"updateProps":"initProps"](r,{shape:u},a,l)}}}function pQ(n,e){var t=n.getItemModel(e);return t.getAnimationDelayParams=Zdt,t.isAnimationEnabled=Qdt,t}function Zdt(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function Qdt(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function mQ(n,e,t,i){var r=new st,o=new st;return r.add(o),r.__pictorialBundle=o,o.x=t.bundlePosition[0],o.y=t.bundlePosition[1],t.symbolRepeat?Upe(r,e,t):Gpe(r,e,t),Kpe(r,t,i),jpe(r,e,t,i),r.__pictorialShapeStr=qpe(n,t),r.__pictorialSymbolMeta=t,r}function Jdt(n,e,t){var i=t.animationModel,r=t.dataIndex,o=n.__pictorialBundle;rn(o,{x:t.bundlePosition[0],y:t.bundlePosition[1]},i,r),t.symbolRepeat?Upe(n,e,t,!0):Gpe(n,e,t,!0),Kpe(n,t,!0),jpe(n,e,t,!0)}function vQ(n,e,t,i){var r=i.__pictorialBarRect;r&&r.removeTextContent();var o=[];Zz(i,function(s){o.push(s)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(t=null),B(o,function(s){yh(s,{scaleX:0,scaleY:0},t,e,function(){i.parent&&i.parent.remove(i)})}),n.setItemGraphicEl(e,null)}function qpe(n,e){return[n.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function Zz(n,e,t){B(n.__pictorialBundle.children(),function(i){i!==n.__pictorialBarRect&&e.call(t,i)})}function Lv(n,e,t,i,r,o){e&&n.attr(e),i.symbolClip&&!r?t&&n.attr(t):t&&kw[r?"updateProps":"initProps"](n,t,i.animationModel,i.dataIndex,o)}function yQ(n,e,t){var i=t.dataIndex,r=t.itemModel,o=r.getModel("emphasis"),s=o.getModel("itemStyle").getItemStyle(),a=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),u=r.getShallow("cursor"),c=o.get("focus"),d=o.get("blurScope"),h=o.get("scale");Zz(n,function(p){if(p instanceof Hr){var m=p.style;p.useStyle(be({image:m.image,x:m.x,y:m.y,width:m.width,height:m.height},t.style))}else p.useStyle(t.style);var v=p.ensureState("emphasis");v.style=s,h&&(v.scaleX=p.scaleX*1.1,v.scaleY=p.scaleY*1.1),p.ensureState("blur").style=a,p.ensureState("select").style=l,u&&(p.cursor=u),p.z2=t.z2});var f=e.valueDim.posDesc[+(t.boundingLength>0)],g=n.__pictorialBarRect;Wr(g,yr(r),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:uy(e.seriesModel.getData(),i),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:f}),mi(n,c,d,o.get("disabled"))}function _Q(n){var e=Math.round(n);return Math.abs(n-e)<1e-4?e:Math.ceil(n)}const eht=Kdt;var tht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return e.prototype.getInitialData=function(t){return t.stack=null,n.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Dh(UI.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(UI);const nht=tht;function iht(n){n.registerChartView(eht),n.registerSeriesModel(nht),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,dt(Efe,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Mfe("pictorialBar"))}var rht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._layers=[],t}return e.prototype.render=function(t,i,r){var o=t.getData(),s=this,a=this.group,l=t.getLayerSeries(),u=o.getLayout("layoutInfo"),c=u.rect,d=u.boundaryGap;a.x=0,a.y=c.y+d[0];function h(m){return m.name}var f=new Pc(this._layersSeries||[],l,h,h),g=[];f.add(We(p,this,"add")).update(We(p,this,"update")).remove(We(p,this,"remove")).execute();function p(m,v,y){var _=s._layers;if(m==="remove"){a.remove(_[v]);return}for(var b=[],S=[],w,C=l[v].indices,x=0;x<C.length;x++){var L=o.getItemLayout(C[x]),T=L.x,I=L.y0,D=L.y;b.push(T,I),S.push(T,I+D),w=o.getItemVisual(C[x],"style")}var M,P=o.getItemLayout(C[0]),k=t.getModel("label"),O=k.get("margin"),F=t.getModel("emphasis");if(m==="add"){var R=g[v]=new st;M=new yge({shape:{points:b,stackedOnPoints:S,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),R.add(M),a.add(R),t.isAnimationEnabled()&&M.setClipPath(oht(M.getBoundingRect(),t,function(){M.removeClipPath()}))}else{var R=_[y];M=R.childAt(0),a.add(R),g[v]=R,rn(M,{shape:{points:b,stackedOnPoints:S}},t),ul(M)}Wr(M,yr(t),{labelDataIndex:C[x-1],defaultText:o.getName(C[x-1]),inheritColor:w.fill},{normal:{verticalAlign:"middle"}}),M.setTextConfig({position:null,local:!0});var $=M.getTextContent();$&&($.x=P.x-O,$.y=P.y0+P.y/2),M.useStyle(w),o.setItemGraphicEl(v,M),Vr(M,t),mi(M,F.get("focus"),F.get("blurScope"),F.get("disabled"))}this._layersSeries=l,this._layers=g},e.type="themeRiver",e}(Un);function oht(n,e,t){var i=new Gt({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return Qn(i,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},e,t),i}const sht=rht;var uP=2,aht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hw(We(this.getData,this),We(this.getRawData,this))},e.prototype.fixData=function(t){var i=t.length,r={},o=iB(t,function(h){return r.hasOwnProperty(h[0]+"")||(r[h[0]+""]=-1),h[2]}),s=[];o.buckets.each(function(h,f){s.push({name:f,dataList:h})});for(var a=s.length,l=0;l<a;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var d=s[l].dataList[c][0]+"";r[d]=l}for(var d in r)r.hasOwnProperty(d)&&r[d]!==l&&(r[d]=l,t[i]=[d,0,u],i++)}return t},e.prototype.getInitialData=function(t,i){for(var r=this.getReferringComponents("singleAxis",$i).models[0],o=r.get("type"),s=xn(t.data,function(g){return g[2]!==void 0}),a=this.fixData(s||[]),l=[],u=this.nameMap=Ue(),c=0,d=0;d<a.length;++d)l.push(a[d][uP]),u.get(a[d][uP])||(u.set(a[d][uP],c),c++);var h=Rw(a,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:$I(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new Co(h,this);return f.initData(a),f},e.prototype.getLayerSeries=function(){for(var t=this.getData(),i=t.count(),r=[],o=0;o<i;++o)r[o]=o;var s=t.mapDimension("single"),a=iB(r,function(u){return t.get("name",u)}),l=[];return a.buckets.each(function(u,c){u.sort(function(d,h){return t.get(s,d)-t.get(s,h)}),l.push({name:c,indices:u})}),l},e.prototype.getAxisTooltipData=function(t,i,r){we(t)||(t=t?[t]:[]);for(var o=this.getData(),s=this.getLayerSeries(),a=[],l=s.length,u,c=0;c<l;++c){for(var d=Number.MAX_VALUE,h=-1,f=s[c].indices.length,g=0;g<f;++g){var p=o.get(t[0],s[c].indices[g]),m=Math.abs(p-i);m<=d&&(u=p,d=m,h=s[c].indices[g])}a.push(h)}return{dataIndices:a,nestestValue:u}},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=o.getName(t),a=o.get(o.mapDimension("value"),t);return _r("nameValue",{name:s,value:a})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(ii);const lht=aht;function uht(n,e){n.eachSeriesByType("themeRiver",function(t){var i=t.getData(),r=t.coordinateSystem,o={},s=r.getRect();o.rect=s;var a=t.get("boundaryGap"),l=r.getAxis();if(o.boundaryGap=a,l.orient==="horizontal"){a[0]=Fe(a[0],s.height),a[1]=Fe(a[1],s.height);var u=s.height-a[0]-a[1];bQ(i,t,u)}else{a[0]=Fe(a[0],s.width),a[1]=Fe(a[1],s.width);var c=s.width-a[0]-a[1];bQ(i,t,c)}i.setLayout("layoutInfo",o)})}function bQ(n,e,t){if(n.count())for(var i=e.coordinateSystem,r=e.getLayerSeries(),o=n.mapDimension("single"),s=n.mapDimension("value"),a=Te(r,function(m){return Te(m.indices,function(v){var y=i.dataToPoint(n.get(o,v));return y[1]=n.get(s,v),y})}),l=cht(a),u=l.y0,c=t/l.max,d=r.length,h=r[0].indices.length,f,g=0;g<h;++g){f=u[g]*c,n.setItemLayout(r[0].indices[g],{layerIndex:0,x:a[0][g][0],y0:f,y:a[0][g][1]*c});for(var p=1;p<d;++p)f+=a[p-1][g][1]*c,n.setItemLayout(r[p].indices[g],{layerIndex:p,x:a[p][g][0],y0:f,y:a[p][g][1]*c})}}function cht(n){for(var e=n.length,t=n[0].length,i=[],r=[],o=0,s=0;s<t;++s){for(var a=0,l=0;l<e;++l)a+=n[l][s][1];a>o&&(o=a),i.push(a)}for(var u=0;u<t;++u)r[u]=(o-i[u])/2;o=0;for(var c=0;c<t;++c){var d=i[c]+r[c];d>o&&(o=d)}return{y0:r,max:o}}function dht(n){n.registerChartView(sht),n.registerSeriesModel(lht),n.registerLayout(uht),n.registerProcessor(zw("themeRiver"))}var hht=2,fht=4,ght=function(n){re(e,n);function e(t,i,r,o){var s=n.call(this)||this;s.z2=hht,s.textConfig={inside:!0},ut(s).seriesIndex=i.seriesIndex;var a=new Zt({z2:fht,silent:t.getModel().get(["label","silent"])});return s.setTextContent(a),s.updateData(!0,t,i,r,o),s}return e.prototype.updateData=function(t,i,r,o,s){this.node=i,i.piece=this,r=r||this._seriesModel,o=o||this._ecModel;var a=this;ut(a).dataIndex=i.dataIndex;var l=i.getModel(),u=l.getModel("emphasis"),c=i.getLayout(),d=be({},c);d.label=null;var h=i.getVisual("style");h.lineJoin="bevel";var f=i.getVisual("decal");f&&(h.decal=ay(f,s));var g=rg(l.getModel("itemStyle"),d,!0);be(d,g),B(Lo,function(y){var _=a.ensureState(y),b=l.getModel([y,"itemStyle"]);_.style=b.getItemStyle();var S=rg(b,d);S&&(_.shape=S)}),t?(a.setShape(d),a.shape.r=c.r0,Qn(a,{shape:{r:c.r}},r,i.dataIndex)):(rn(a,{shape:d},r),ul(a)),a.useStyle(h),this._updateLabel(r);var p=l.getShallow("cursor");p&&a.attr("cursor",p),this._seriesModel=r||this._seriesModel,this._ecModel=o||this._ecModel;var m=u.get("focus"),v=m==="ancestor"?i.getAncestorsIndices():m==="descendant"?i.getDescendantIndices():m;mi(this,v,u.get("blurScope"),u.get("disabled"))},e.prototype._updateLabel=function(t){var i=this,r=this.node.getModel(),o=r.getModel("label"),s=this.node.getLayout(),a=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),d=this,h=d.getTextContent(),f=this.node.dataIndex,g=o.get("minAngle")/180*Math.PI,p=o.get("show")&&!(g!=null&&Math.abs(a)<g);h.ignore=!p,B(IS,function(v){var y=v==="normal"?r.getModel("label"):r.getModel([v,"label"]),_=v==="normal",b=_?h:h.ensureState(v),S=t.getFormattedLabel(f,v);_&&(S=S||i.node.name),b.style=zn(y,{},null,v!=="normal",!0),S&&(b.style.text=S);var w=y.get("show");w!=null&&!_&&(b.ignore=!w);var C=m(y,"position"),x=_?d:d.states[v],L=x.style.fill;x.textConfig={outsideFill:y.get("color")==="inherit"?L:null,inside:C!=="outside"};var T,I=m(y,"distance")||0,D=m(y,"align");C==="outside"?(T=s.r+I,D=l>Math.PI/2?"right":"left"):!D||D==="center"?(a===2*Math.PI&&s.r0===0?T=0:T=(s.r+s.r0)/2,D="center"):D==="left"?(T=s.r0+I,l>Math.PI/2&&(D="right")):D==="right"&&(T=s.r-I,l>Math.PI/2&&(D="left")),b.style.align=D,b.style.verticalAlign=m(y,"verticalAlign")||"middle",b.x=T*u+s.cx,b.y=T*c+s.cy;var M=m(y,"rotate"),P=0;M==="radial"?(P=qa(-l),P>Math.PI/2&&P<Math.PI*1.5&&(P+=Math.PI)):M==="tangential"?(P=Math.PI/2-l,P>Math.PI/2?P-=Math.PI:P<-Math.PI/2&&(P+=Math.PI)):Jt(M)&&(P=M*Math.PI/180),b.rotation=qa(P)});function m(v,y){var _=v.get(y);return _??o.get(y)}h.dirtyStyle()},e}(Xo);const SQ=ght;var tF="sunburstRootToNode",wQ="sunburstHighlight",pht="sunburstUnhighlight";function mht(n){n.registerAction({type:tF,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(r,o){var s=WS(e,[tF],r);if(s){var a=r.getViewRoot();a&&(e.direction=Rz(a,s.node)?"rollUp":"drillDown"),r.resetViewRoot(s.node)}}}),n.registerAction({type:wQ,update:"none"},function(e,t,i){e=be({},e),t.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(o){var s=WS(e,[wQ],o);s&&(e.dataIndex=s.node.dataIndex)}i.dispatchAction(be(e,{type:"highlight"}))}),n.registerAction({type:pht,update:"updateView"},function(e,t,i){e=be({},e),i.dispatchAction(be(e,{type:"downplay"}))})}var vht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,o){var s=this;this.seriesModel=t,this.api=r,this.ecModel=i;var a=t.getData(),l=a.tree.root,u=t.getViewRoot(),c=this.group,d=t.get("renderLabelForZeroData"),h=[];u.eachNode(function(y){h.push(y)});var f=this._oldChildren||[];g(h,f),v(l,u),this._initEvents(),this._oldChildren=h;function g(y,_){if(y.length===0&&_.length===0)return;new Pc(_,y,b,b).add(S).update(S).remove(dt(S,null)).execute();function b(w){return w.getId()}function S(w,C){var x=w==null?null:y[w],L=C==null?null:_[C];p(x,L)}}function p(y,_){if(!d&&y&&!y.getValue()&&(y=null),y!==l&&_!==l){if(_&&_.piece)y?(_.piece.updateData(!1,y,t,i,r),a.setItemGraphicEl(y.dataIndex,_.piece)):m(_);else if(y){var b=new SQ(y,t,i,r);c.add(b),a.setItemGraphicEl(y.dataIndex,b)}}}function m(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function v(y,_){_.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,y,t,i,r):(s.virtualPiece=new SQ(y,t,i,r),c.add(s.virtualPiece)),_.piece.off("click"),s.virtualPiece.on("click",function(b){s._rootToNode(_.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(i){var r=!1,o=t.seriesModel.getViewRoot();o.eachNode(function(s){if(!r&&s.piece&&s.piece===i.target){var a=s.getModel().get("nodeClick");if(a==="rootToNode")t._rootToNode(s);else if(a==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";AI(u,c)}}r=!0}})})},e.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:tF,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},e.prototype.containPoint=function(t,i){var r=i.getData(),o=r.getItemLayout(0);if(o){var s=t[0]-o.cx,a=t[1]-o.cy,l=Math.sqrt(s*s+a*a);return l<=o.r&&l>=o.r0}},e.type="sunburst",e}(Un);const yht=vht;var _ht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t,i){var r={name:t.name,children:t.data};Ype(r);var o=this._levelModels=Te(t.levels||[],function(l){return new Hn(l,this,i)},this),s=Oz.createTree(r,this,a);function a(l){l.wrapMethod("getItemModel",function(u,c){var d=s.getNodeByDataIndex(c),h=o[d.depth];return h&&(u.parentModel=h),u})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(t){var i=n.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return i.treePathInfo=NM(r,this),i},e.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var i=this.getRawData().tree.root;(!t||t!==i&&!i.contains(t))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){Jge(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(ii);function Ype(n){var e=0;B(n.children,function(i){Ype(i);var r=i.value;we(r)&&(r=r[0]),e+=r});var t=n.value;we(t)&&(t=t[0]),(t==null||isNaN(t))&&(t=e),t<0&&(t=0),we(n.value)?n.value[0]=t:n.value=t}const bht=_ht;var CQ=Math.PI/180;function Sht(n,e,t){e.eachSeriesByType(n,function(i){var r=i.get("center"),o=i.get("radius");we(o)||(o=[0,o]),we(r)||(r=[r,r]);var s=t.getWidth(),a=t.getHeight(),l=Math.min(s,a),u=Fe(r[0],s),c=Fe(r[1],a),d=Fe(o[0],l/2),h=Fe(o[1],l/2),f=-i.get("startAngle")*CQ,g=i.get("minAngle")*CQ,p=i.getData().tree.root,m=i.getViewRoot(),v=m.depth,y=i.get("sort");y!=null&&Xpe(m,y);var _=0;B(m.children,function(O){!isNaN(O.getValue())&&_++});var b=m.getValue(),S=Math.PI/(b||_)*2,w=m.depth>0,C=m.height-(w?-1:1),x=(h-d)/(C||1),L=i.get("clockwise"),T=i.get("stillShowZeroSum"),I=L?1:-1,D=function(O,F){if(O){var R=F;if(O!==p){var $=O.getValue(),H=b===0&&T?S:$*S;H<g&&(H=g),R=F+I*H;var U=O.depth-v-(w?-1:1),z=d+x*U,Z=d+x*(U+1),X=i.getLevelModel(O);if(X){var ce=X.get("r0",!0),q=X.get("r",!0),j=X.get("radius",!0);j!=null&&(ce=j[0],q=j[1]),ce!=null&&(z=Fe(ce,l/2)),q!=null&&(Z=Fe(q,l/2))}O.setLayout({angle:H,startAngle:F,endAngle:R,clockwise:L,cx:u,cy:c,r0:z,r:Z})}if(O.children&&O.children.length){var ie=0;B(O.children,function(Q){ie+=D(Q,F+ie)})}return R-F}};if(w){var M=d,P=d+x,k=Math.PI*2;p.setLayout({angle:k,startAngle:f,endAngle:f+k,clockwise:L,cx:u,cy:c,r0:M,r:P})}D(m,f)})}function Xpe(n,e){var t=n.children||[];n.children=wht(t,e),t.length&&B(n.children,function(i){Xpe(i,e)})}function wht(n,e){if(qe(e)){var t=Te(n,function(r,o){var s=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return s}},index:o}});return t.sort(function(r,o){return e(r.params,o.params)}),Te(t,function(r){return n[r.index]})}else{var i=e==="asc";return n.sort(function(r,o){var s=(r.getValue()-o.getValue())*(i?1:-1);return s===0?(r.dataIndex-o.dataIndex)*(i?-1:1):s})}}function Cht(n){var e={};function t(i,r,o){for(var s=i;s&&s.depth>1;)s=s.parentNode;var a=r.getColorFromPalette(s.name||s.dataIndex+"",e);return i.depth>1&&$e(a)&&(a=j5(a,(i.depth-1)/(o-1)*.5)),a}n.eachSeriesByType("sunburst",function(i){var r=i.getData(),o=r.tree;o.eachNode(function(s){var a=s.getModel(),l=a.getModel("itemStyle").getItemStyle();l.fill||(l.fill=t(s,i,o.root.height));var u=r.ensureUniqueItemVisual(s.dataIndex,"style");be(u,l)})})}function xht(n){n.registerChartView(yht),n.registerSeriesModel(bht),n.registerLayout(dt(Sht,"sunburst")),n.registerProcessor(dt(zw,"sunburst")),n.registerVisual(Cht),mht(n)}var xQ={color:"fill",borderColor:"stroke"},Lht={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},bc=Kt(),Tht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(t,i){return jc(null,this)},e.prototype.getDataParams=function(t,i,r){var o=n.prototype.getDataParams.call(this,t,i);return r&&(o.info=bc(r).info),o},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(ii);const Iht=Tht;function Dht(n,e){return e=e||[0,0],Te(["x","y"],function(t,i){var r=this.getAxis(t),o=e[i],s=n[i]/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(o-s)-r.dataToCoord(o+s))},this)}function Eht(n){var e=n.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:We(Dht,n)}}}function Mht(n,e){return e=e||[0,0],Te([0,1],function(t){var i=e[t],r=n[t]/2,o=[],s=[];return o[t]=i-r,s[t]=i+r,o[1-t]=s[1-t]=e[1-t],Math.abs(this.dataToPoint(o)[t]-this.dataToPoint(s)[t])},this)}function Aht(n){var e=n.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:n.getZoom()},api:{coord:function(t){return n.dataToPoint(t)},size:We(Mht,n)}}}function Nht(n,e){var t=this.getAxis(),i=e instanceof Array?e[0]:e,r=(n instanceof Array?n[0]:n)/2;return t.type==="category"?t.getBandWidth():Math.abs(t.dataToCoord(i-r)-t.dataToCoord(i+r))}function kht(n){var e=n.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(t){return n.dataToPoint(t)},size:We(Nht,n)}}}function Pht(n,e){return e=e||[0,0],Te(["Radius","Angle"],function(t,i){var r="get"+t+"Axis",o=this[r](),s=e[i],a=n[i]/2,l=o.type==="category"?o.getBandWidth():Math.abs(o.dataToCoord(s-a)-o.dataToCoord(s+a));return t==="Angle"&&(l=l*Math.PI/180),l},this)}function Oht(n){var e=n.getRadiusAxis(),t=n.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:i[1],r0:i[0]},api:{coord:function(r){var o=e.dataToRadius(r[0]),s=t.dataToAngle(r[1]),a=n.coordToPoint([o,s]);return a.push(o,s*Math.PI/180),a},size:We(Pht,n)}}}function Rht(n){var e=n.getRect(),t=n.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(i,r){return n.dataToPoint(i,r)}}}}function Zpe(n,e,t,i){return n&&(n.legacy||n.legacy!==!1&&!t&&!i&&e!=="tspan"&&(e==="text"||ze(n,"text")))}function Qpe(n,e,t){var i=n,r,o,s;if(e==="text")s=i;else{s={},ze(i,"text")&&(s.text=i.text),ze(i,"rich")&&(s.rich=i.rich),ze(i,"textFill")&&(s.fill=i.textFill),ze(i,"textStroke")&&(s.stroke=i.textStroke),ze(i,"fontFamily")&&(s.fontFamily=i.fontFamily),ze(i,"fontSize")&&(s.fontSize=i.fontSize),ze(i,"fontStyle")&&(s.fontStyle=i.fontStyle),ze(i,"fontWeight")&&(s.fontWeight=i.fontWeight),o={type:"text",style:s,silent:!0},r={};var a=ze(i,"textPosition");t?r.position=a?i.textPosition:"inside":a&&(r.position=i.textPosition),ze(i,"textPosition")&&(r.position=i.textPosition),ze(i,"textOffset")&&(r.offset=i.textOffset),ze(i,"textRotation")&&(r.rotation=i.textRotation),ze(i,"textDistance")&&(r.distance=i.textDistance)}return LQ(s,n),B(s.rich,function(l){LQ(l,l)}),{textConfig:r,textContent:o}}function LQ(n,e){e&&(e.font=e.textFont||e.font,ze(e,"textStrokeWidth")&&(n.lineWidth=e.textStrokeWidth),ze(e,"textAlign")&&(n.align=e.textAlign),ze(e,"textVerticalAlign")&&(n.verticalAlign=e.textVerticalAlign),ze(e,"textLineHeight")&&(n.lineHeight=e.textLineHeight),ze(e,"textWidth")&&(n.width=e.textWidth),ze(e,"textHeight")&&(n.height=e.textHeight),ze(e,"textBackgroundColor")&&(n.backgroundColor=e.textBackgroundColor),ze(e,"textPadding")&&(n.padding=e.textPadding),ze(e,"textBorderColor")&&(n.borderColor=e.textBorderColor),ze(e,"textBorderWidth")&&(n.borderWidth=e.textBorderWidth),ze(e,"textBorderRadius")&&(n.borderRadius=e.textBorderRadius),ze(e,"textBoxShadowColor")&&(n.shadowColor=e.textBoxShadowColor),ze(e,"textBoxShadowBlur")&&(n.shadowBlur=e.textBoxShadowBlur),ze(e,"textBoxShadowOffsetX")&&(n.shadowOffsetX=e.textBoxShadowOffsetX),ze(e,"textBoxShadowOffsetY")&&(n.shadowOffsetY=e.textBoxShadowOffsetY))}function TQ(n,e,t){var i=n;i.textPosition=i.textPosition||t.position||"inside",t.offset!=null&&(i.textOffset=t.offset),t.rotation!=null&&(i.textRotation=t.rotation),t.distance!=null&&(i.textDistance=t.distance);var r=i.textPosition.indexOf("inside")>=0,o=n.fill||"#000";IQ(i,e);var s=i.textFill==null;return r?s&&(i.textFill=t.insideFill||"#fff",!i.textStroke&&t.insideStroke&&(i.textStroke=t.insideStroke),!i.textStroke&&(i.textStroke=o),i.textStrokeWidth==null&&(i.textStrokeWidth=2)):(s&&(i.textFill=n.fill||t.outsideFill||"#000"),!i.textStroke&&t.outsideStroke&&(i.textStroke=t.outsideStroke)),i.text=e.text,i.rich=e.rich,B(e.rich,function(a){IQ(a,a)}),i}function IQ(n,e){e&&(ze(e,"fill")&&(n.textFill=e.fill),ze(e,"stroke")&&(n.textStroke=e.fill),ze(e,"lineWidth")&&(n.textStrokeWidth=e.lineWidth),ze(e,"font")&&(n.font=e.font),ze(e,"fontStyle")&&(n.fontStyle=e.fontStyle),ze(e,"fontWeight")&&(n.fontWeight=e.fontWeight),ze(e,"fontSize")&&(n.fontSize=e.fontSize),ze(e,"fontFamily")&&(n.fontFamily=e.fontFamily),ze(e,"align")&&(n.textAlign=e.align),ze(e,"verticalAlign")&&(n.textVerticalAlign=e.verticalAlign),ze(e,"lineHeight")&&(n.textLineHeight=e.lineHeight),ze(e,"width")&&(n.textWidth=e.width),ze(e,"height")&&(n.textHeight=e.height),ze(e,"backgroundColor")&&(n.textBackgroundColor=e.backgroundColor),ze(e,"padding")&&(n.textPadding=e.padding),ze(e,"borderColor")&&(n.textBorderColor=e.borderColor),ze(e,"borderWidth")&&(n.textBorderWidth=e.borderWidth),ze(e,"borderRadius")&&(n.textBorderRadius=e.borderRadius),ze(e,"shadowColor")&&(n.textBoxShadowColor=e.shadowColor),ze(e,"shadowBlur")&&(n.textBoxShadowBlur=e.shadowBlur),ze(e,"shadowOffsetX")&&(n.textBoxShadowOffsetX=e.shadowOffsetX),ze(e,"shadowOffsetY")&&(n.textBoxShadowOffsetY=e.shadowOffsetY),ze(e,"textShadowColor")&&(n.textShadowColor=e.textShadowColor),ze(e,"textShadowBlur")&&(n.textShadowBlur=e.textShadowBlur),ze(e,"textShadowOffsetX")&&(n.textShadowOffsetX=e.textShadowOffsetX),ze(e,"textShadowOffsetY")&&(n.textShadowOffsetY=e.textShadowOffsetY))}var Jpe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},DQ=Et(Jpe);hu(gu,function(n,e){return n[e]=1,n},{});gu.join(", ");var QI=["","style","shape","extra"],hy=Kt();function Qz(n,e,t,i,r){var o=n+"Animation",s=$y(n,i,r)||{},a=hy(e).userDuring;return s.duration>0&&(s.during=a?We(Wht,{el:e,userDuring:a}):null,s.setToFinal=!0,s.scope=n),be(s,t[o]),s}function SL(n,e,t,i){i=i||{};var r=i.dataIndex,o=i.isInit,s=i.clearStyle,a=t.isAnimationEnabled(),l=hy(n),u=e.style;l.userDuring=e.during;var c={},d={};if(Hht(n,e,d),MQ("shape",e,d),MQ("extra",e,d),!o&&a&&(zht(n,e,c),EQ("shape",n,e,c),EQ("extra",n,e,c),Uht(n,e,u,c)),d.style=u,Bht(n,d,s),$ht(n,e),a)if(o){var h={};B(QI,function(g){var p=g?e[g]:e;p&&p.enterFrom&&(g&&(h[g]=h[g]||{}),be(g?h[g]:h,p.enterFrom))});var f=Qz("enter",n,e,t,r);f.duration>0&&n.animateFrom(h,f)}else Fht(n,e,r||0,t,c);eme(n,e),u?n.dirty():n.markRedraw()}function eme(n,e){for(var t=hy(n).leaveToProps,i=0;i<QI.length;i++){var r=QI[i],o=r?e[r]:e;o&&o.leaveTo&&(t||(t=hy(n).leaveToProps={}),r&&(t[r]=t[r]||{}),be(r?t[r]:t,o.leaveTo))}}function OM(n,e,t,i){if(n){var r=n.parent,o=hy(n).leaveToProps;if(o){var s=Qz("update",n,e,t,0);s.done=function(){r.remove(n),i&&i()},n.animateTo(o,s)}else r.remove(n),i&&i()}}function Ig(n){return n==="all"}function Bht(n,e,t){var i=e.style;if(!n.isGroup&&i){if(t){n.useStyle({});for(var r=n.animators,o=0;o<r.length;o++){var s=r[o];s.targetName==="style"&&s.changeTarget(n.style)}}n.setStyle(i)}e&&(e.style=null,e&&n.attr(e),e.style=i)}function Fht(n,e,t,i,r){if(r){var o=Qz("update",n,e,i,t);o.duration>0&&n.animateFrom(r,o)}}function $ht(n,e){ze(e,"silent")&&(n.silent=e.silent),ze(e,"ignore")&&(n.ignore=e.ignore),n instanceof fa&&ze(e,"invisible")&&(n.invisible=e.invisible),n instanceof It&&ze(e,"autoBatch")&&(n.autoBatch=e.autoBatch)}var El={},Vht={setTransform:function(n,e){return El.el[n]=e,this},getTransform:function(n){return El.el[n]},setShape:function(n,e){var t=El.el,i=t.shape||(t.shape={});return i[n]=e,t.dirtyShape&&t.dirtyShape(),this},getShape:function(n){var e=El.el.shape;if(e)return e[n]},setStyle:function(n,e){var t=El.el,i=t.style;return i&&(i[n]=e,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(n){var e=El.el.style;if(e)return e[n]},setExtra:function(n,e){var t=El.el.extra||(El.el.extra={});return t[n]=e,this},getExtra:function(n){var e=El.el.extra;if(e)return e[n]}};function Wht(){var n=this,e=n.el;if(e){var t=hy(e).userDuring,i=n.userDuring;if(t!==i){n.el=n.userDuring=null;return}El.el=e,i(Vht)}}function EQ(n,e,t,i){var r=t[n];if(r){var o=e[n],s;if(o){var a=t.transition,l=r.transition;if(l)if(!s&&(s=i[n]={}),Ig(l))be(s,o);else for(var u=Pn(l),c=0;c<u.length;c++){var d=u[c],h=o[d];s[d]=h}else if(Ig(a)||Ct(a,n)>=0){!s&&(s=i[n]={});for(var f=Et(o),c=0;c<f.length;c++){var d=f[c],h=o[d];Ght(r[d],h)&&(s[d]=h)}}}}}function MQ(n,e,t){var i=e[n];if(i)for(var r=t[n]={},o=Et(i),s=0;s<o.length;s++){var a=o[s];r[a]=ub(i[a])}}function zht(n,e,t){for(var i=e.transition,r=Ig(i)?gu:Pn(i||[]),o=0;o<r.length;o++){var s=r[o];if(!(s==="style"||s==="shape"||s==="extra")){var a=n[s];t[s]=a}}}function Hht(n,e,t){for(var i=0;i<DQ.length;i++){var r=DQ[i],o=Jpe[r],s=e[r];s&&(t[o[0]]=s[0],t[o[1]]=s[1])}for(var i=0;i<gu.length;i++){var a=gu[i];e[a]!=null&&(t[a]=e[a])}}function Uht(n,e,t,i){if(t){var r=n.style,o;if(r){var s=t.transition,a=e.transition;if(s&&!Ig(s)){var l=Pn(s);!o&&(o=i.style={});for(var u=0;u<l.length;u++){var c=l[u],d=r[c];o[c]=d}}else if(n.getAnimationStyleProps&&(Ig(a)||Ig(s)||Ct(a,"style")>=0)){var h=n.getAnimationStyleProps(),f=h?h.style:null;if(f){!o&&(o=i.style={});for(var g=Et(t),u=0;u<g.length;u++){var c=g[u];if(f[c]){var d=r[c];o[c]=d}}}}}}}function Ght(n,e){return io(n)?n!==e:n!=null&&isFinite(n)}var tme=Kt(),Kht=["percent","easing","shape","style","extra"];function nme(n){n.stopAnimation("keyframe"),n.attr(tme(n))}function JI(n,e,t){if(!(!t.isAnimationEnabled()||!e)){if(we(e)){B(e,function(a){JI(n,a,t)});return}var i=e.keyframes,r=e.duration;if(t&&r==null){var o=$y("enter",t,0);r=o&&o.duration}if(!(!i||!r)){var s=tme(n);B(QI,function(a){if(!(a&&!n[a])){var l;i.sort(function(u,c){return u.percent-c.percent}),B(i,function(u){var c=n.animators,d=a?u[a]:u;if(d){var h=Et(d);if(a||(h=xn(h,function(p){return Ct(Kht,p)<0})),!!h.length){l||(l=n.animate(a,e.loop,!0),l.scope="keyframe");for(var f=0;f<c.length;f++)c[f]!==l&&c[f].targetName===l.targetName&&c[f].stopTracks(h);a&&(s[a]=s[a]||{});var g=a?s[a]:s;B(h,function(p){g[p]=((a?n[a]:n)||{})[p]}),l.whenWithKeys(r*u.percent,d,h,u.easing)}}}),l&&l.delay(e.delay||0).duration(r).start(e.easing)}})}}}var Sc="emphasis",Wd="normal",Jz="blur",eH="select",Ch=[Wd,Sc,Jz,eH],cP={normal:["itemStyle"],emphasis:[Sc,"itemStyle"],blur:[Jz,"itemStyle"],select:[eH,"itemStyle"]},dP={normal:["label"],emphasis:[Sc,"label"],blur:[Jz,"label"],select:[eH,"label"]},jht=["x","y"],qht="e\0\0",Fs={normal:{},emphasis:{},blur:{},select:{}},Yht={cartesian2d:Eht,geo:Aht,single:kht,polar:Oht,calendar:Rht};function nF(n){return n instanceof It}function iF(n){return n instanceof fa}function Xht(n,e){e.copyTransform(n),iF(e)&&iF(n)&&(e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e.invisible=n.invisible,e.ignore=n.ignore,nF(e)&&nF(n)&&e.setShape(n.shape))}var Zht=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,o){this._progressiveEls=null;var s=this._data,a=t.getData(),l=this.group,u=AQ(t,a,i,r);s||l.removeAll(),a.diff(s).add(function(d){hP(r,null,d,u(d,o),t,l,a)}).remove(function(d){var h=s.getItemGraphicEl(d);h&&OM(h,bc(h).option,t)}).update(function(d,h){var f=s.getItemGraphicEl(h);hP(r,f,d,u(d,o),t,l,a)}).execute();var c=t.get("clip",!0)?EM(t.coordinateSystem,!1,t):null;c?l.setClipPath(c):l.removeClipPath(),this._data=a},e.prototype.incrementalPrepareRender=function(t,i,r){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(t,i,r,o,s){var a=i.getData(),l=AQ(i,a,r,o),u=this._progressiveEls=[];function c(f){f.isGroup||(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var d=t.start;d<t.end;d++){var h=hP(null,null,d,l(d,s),i,this.group,a);h&&(h.traverse(c),u.push(h))}},e.prototype.eachRendered=function(t){Ih(this._progressiveEls||this.group,t)},e.prototype.filterForExposedEvent=function(t,i,r,o){var s=i.element;if(s==null||r.name===s)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===s)return!0;return!1},e.type="custom",e}(Un);const Qht=Zht;function tH(n){var e=n.type,t;if(e==="path"){var i=n.shape,r=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,o=ome(i);t=dM(o,null,r,i.layout||"center"),bc(t).customPathData=o}else if(e==="image")t=new Hr({}),bc(t).customImagePath=n.style.image;else if(e==="text")t=new Zt({});else if(e==="group")t=new st;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=UW(e);if(!s){var a="";ln(a)}t=new s}return bc(t).customGraphicType=e,t.name=n.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function nH(n,e,t,i,r,o,s){nme(e);var a=r&&r.normal.cfg;a&&e.setTextConfig(a),i&&i.transition==null&&(i.transition=jht);var l=i&&i.style;if(l){if(e.type==="text"){var u=l;ze(u,"textFill")&&(u.fill=u.textFill),ze(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,d=nF(e)?l.decal:null;n&&d&&(d.dirty=!0,c=ay(d,n)),l.__decalPattern=c}if(iF(e)&&l){var c=l.__decalPattern;c&&(l.decal=c)}SL(e,i,o,{dataIndex:t,isInit:s,clearStyle:!0}),JI(e,i.keyframeAnimation,o)}function ime(n,e,t,i,r){var o=e.isGroup?null:e,s=r&&r[n].cfg;if(o){var a=o.ensureState(n);if(i===!1){var l=o.getState(n);l&&(l.style=null)}else a.style=i||null;s&&(a.textConfig=s),ep(o)}}function Jht(n,e,t){if(!n.isGroup){var i=n,r=t.currentZ,o=t.currentZLevel;i.z=r,i.zlevel=o;var s=e.z2;s!=null&&(i.z2=s||0);for(var a=0;a<Ch.length;a++)eft(i,e,Ch[a])}}function eft(n,e,t){var i=t===Wd,r=i?e:eD(e,t),o=r?r.z2:null,s;o!=null&&(s=i?n:n.ensureState(t),s.z2=o||0)}function AQ(n,e,t,i){var r=n.get("renderItem"),o=n.coordinateSystem,s={};o&&(s=o.prepareCustoms?o.prepareCustoms(o):Yht[o.type](o));for(var a=Qe({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:b,style:w,ordinalRawValue:S,styleEmphasis:C,visual:T,barLayout:I,currentSeriesIndices:D,font:M},s.api||{}),l={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:tft(n.getData())},u,c,d={},h={},f={},g={},p=0;p<Ch.length;p++){var m=Ch[p];f[m]=n.getModel(cP[m]),g[m]=n.getModel(dP[m])}function v(P){return P===u?c||(c=e.getItemModel(P)):e.getItemModel(P)}function y(P,k){return e.hasItemOption?P===u?d[k]||(d[k]=v(P).getModel(cP[k])):v(P).getModel(cP[k]):f[k]}function _(P,k){return e.hasItemOption?P===u?h[k]||(h[k]=v(P).getModel(dP[k])):v(P).getModel(dP[k]):g[k]}return function(P,k){return u=P,c=null,d={},h={},r&&r(Qe({dataIndexInside:P,dataIndex:e.getRawIndex(P),actionType:k?k.type:null},l),a)};function b(P,k){return k==null&&(k=u),e.getStore().get(e.getDimensionIndex(P||0),k)}function S(P,k){k==null&&(k=u),P=P||0;var O=e.getDimensionInfo(P);if(!O){var F=e.getDimensionIndex(P);return F>=0?e.getStore().get(F,k):void 0}var R=e.get(O.name,k),$=O&&O.ordinalMeta;return $?$.categories[R]:R}function w(P,k){k==null&&(k=u);var O=e.getItemVisual(k,"style"),F=O&&O.fill,R=O&&O.opacity,$=y(k,Wd).getItemStyle();F!=null&&($.fill=F),R!=null&&($.opacity=R);var H={inheritColor:$e(F)?F:"#000"},U=_(k,Wd),z=zn(U,null,H,!1,!0);z.text=U.getShallow("show")?gt(n.getFormattedLabel(k,Wd),uy(e,k)):null;var Z=EI(U,H,!1);return L(P,$),$=TQ($,z,Z),P&&x($,P),$.legacy=!0,$}function C(P,k){k==null&&(k=u);var O=y(k,Sc).getItemStyle(),F=_(k,Sc),R=zn(F,null,null,!0,!0);R.text=F.getShallow("show")?eu(n.getFormattedLabel(k,Sc),n.getFormattedLabel(k,Wd),uy(e,k)):null;var $=EI(F,null,!0);return L(P,O),O=TQ(O,R,$),P&&x(O,P),O.legacy=!0,O}function x(P,k){for(var O in k)ze(k,O)&&(P[O]=k[O])}function L(P,k){P&&(P.textFill&&(k.textFill=P.textFill),P.textPosition&&(k.textPosition=P.textPosition))}function T(P,k){if(k==null&&(k=u),ze(xQ,P)){var O=e.getItemVisual(k,"style");return O?O[xQ[P]]:null}if(ze(Lht,P))return e.getItemVisual(k,P)}function I(P){if(o.type==="cartesian2d"){var k=o.getBaseAxis();return int(Qe({axis:k},P))}}function D(){return t.getCurrentSeriesIndices()}function M(P){return Bde(P,t)}}function tft(n){var e={};return B(n.dimensions,function(t){var i=n.getDimensionInfo(t);if(!i.isExtraCoord){var r=i.coordDim,o=e[r]=e[r]||[];o[i.coordDimIndex]=n.getDimensionIndex(t)}}),e}function hP(n,e,t,i,r,o,s){if(!i){o.remove(e);return}var a=iH(n,e,t,i,r,o);return a&&s.setItemGraphicEl(t,a),a&&mi(a,i.focus,i.blurScope,i.emphasisDisabled),a}function iH(n,e,t,i,r,o){var s=-1,a=e;e&&rme(e,i,r)&&(s=Ct(o.childrenRef(),e),e=null);var l=!e,u=e;u?u.clearStates():(u=tH(i),a&&Xht(a,u)),i.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Fs.normal.cfg=Fs.normal.conOpt=Fs.emphasis.cfg=Fs.emphasis.conOpt=Fs.blur.cfg=Fs.blur.conOpt=Fs.select.cfg=Fs.select.conOpt=null,Fs.isLegacy=!1,ift(u,t,i,r,l,Fs),nft(u,t,i,r,l),nH(n,u,t,i,Fs,r,l),ze(i,"info")&&(bc(u).info=i.info);for(var c=0;c<Ch.length;c++){var d=Ch[c];if(d!==Wd){var h=eD(i,d),f=rH(i,h,d);ime(d,u,h,f,Fs)}}return Jht(u,i,r),i.type==="group"&&rft(n,u,t,i,r),s>=0?o.replaceAt(u,s):o.add(u),u}function rme(n,e,t){var i=bc(n),r=e.type,o=e.shape,s=e.style;return t.isUniversalTransitionEnabled()||r!=null&&r!==i.customGraphicType||r==="path"&&lft(o)&&ome(o)!==i.customPathData||r==="image"&&ze(s,"image")&&s.image!==i.customImagePath}function nft(n,e,t,i,r){var o=t.clipPath;if(o===!1)n&&n.getClipPath()&&n.removeClipPath();else if(o){var s=n.getClipPath();s&&rme(s,o,i)&&(s=null),s||(s=tH(o),n.setClipPath(s)),nH(null,s,e,o,null,i,r)}}function ift(n,e,t,i,r,o){if(!n.isGroup){NQ(t,null,o),NQ(t,Sc,o);var s=o.normal.conOpt,a=o.emphasis.conOpt,l=o.blur.conOpt,u=o.select.conOpt;if(s!=null||a!=null||u!=null||l!=null){var c=n.getTextContent();if(s===!1)c&&n.removeTextContent();else{s=o.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=tH(s),n.setTextContent(c)),nH(null,c,e,s,null,i,r);for(var d=s&&s.style,h=0;h<Ch.length;h++){var f=Ch[h];if(f!==Wd){var g=o[f].conOpt;ime(f,c,g,rH(s,g,f),null)}}d?c.dirty():c.markRedraw()}}}}function NQ(n,e,t){var i=e?eD(n,e):n,r=e?rH(n,i,Sc):n.style,o=n.type,s=i?i.textConfig:null,a=n.textContent,l=a?e?eD(a,e):a:null;if(r&&(t.isLegacy||Zpe(r,o,!!s,!!l))){t.isLegacy=!0;var u=Qpe(r,o,!e);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!e&&l){var c=l;!c.type&&(c.type="text")}var d=e?t[e]:t.normal;d.cfg=s,d.conOpt=l}function eD(n,e){return e?n?n[e]:null:n}function rH(n,e,t){var i=e&&e.style;return i==null&&t===Sc&&n&&(i=n.styleEmphasis),i}function rft(n,e,t,i,r){var o=i.children,s=o?o.length:0,a=i.$mergeChildren,l=a==="byName"||i.diffChildrenByName,u=a===!1;if(!(!s&&!l&&!u)){if(l){sft({api:n,oldChildren:e.children()||[],newChildren:o||[],dataIndex:t,seriesModel:r,group:e});return}u&&e.removeAll();for(var c=0;c<s;c++){var d=o[c],h=e.childAt(c);d?(d.ignore==null&&(d.ignore=!1),iH(n,h,t,d,r,e)):h.ignore=!0}for(var f=e.childCount()-1;f>=c;f--){var g=e.childAt(f);oft(e,g,r)}}}function oft(n,e,t){e&&OM(e,bc(n).option,t)}function sft(n){new Pc(n.oldChildren,n.newChildren,kQ,kQ,n).add(PQ).update(PQ).remove(aft).execute()}function kQ(n,e){var t=n&&n.name;return t??qht+e}function PQ(n,e){var t=this.context,i=n!=null?t.newChildren[n]:null,r=e!=null?t.oldChildren[e]:null;iH(t.api,r,t.dataIndex,i,t.seriesModel,t.group)}function aft(n){var e=this.context,t=e.oldChildren[n];t&&OM(t,bc(t).option,e.seriesModel)}function ome(n){return n&&(n.pathData||n.d)}function lft(n){return n&&(ze(n,"pathData")||ze(n,"d"))}function uft(n){n.registerChartView(Qht),n.registerSeriesModel(Iht)}var zf=Kt(),OQ=rt,fP=We,cft=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,i,r){var o=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,!(!r&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var a=this._group,l=this._handle;if(!s||s==="hide"){a&&a.hide(),l&&l.hide();return}a&&a.show(),l&&l.show();var u={};this.makeElOption(u,o,e,t,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var d=this._moveAnimation=this.determineAnimation(e,t);if(!a)a=this._group=new st,this.createPointerEl(a,u,e,t),this.createLabelEl(a,u,e,t),i.getZr().add(a);else{var h=dt(RQ,t,d);this.updatePointerEl(a,u,h),this.updateLabelEl(a,u,h,t)}FQ(a,t,!0),this._renderHandle(o)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var i=t.get("animation"),r=e.axis,o=r.type==="category",s=t.get("snap");if(!s&&!o)return!1;if(i==="auto"||i==null){var a=this.animationThreshold;if(o&&r.getBandWidth()>a)return!0;if(s){var l=Dz(e).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>a}return!1}return i===!0},n.prototype.makeElOption=function(e,t,i,r,o){},n.prototype.createPointerEl=function(e,t,i,r){var o=t.pointer;if(o){var s=zf(e).pointerEl=new kw[o.type](OQ(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,i,r){if(t.label){var o=zf(e).labelEl=new Zt(OQ(t.label));e.add(o),BQ(o,r)}},n.prototype.updatePointerEl=function(e,t,i){var r=zf(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),i(r,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,i,r){var o=zf(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{x:t.label.x,y:t.label.y}),BQ(o,r))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=t.getModel("handle"),s=t.get("status");if(!o.get("show")||!s||s==="hide"){r&&i.remove(r),this._handle=null;return}var a;this._handle||(a=!0,r=this._handle=Nw(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Mc(u.event)},onmousedown:fP(this._onHandleDragMove,this,0,0),drift:fP(this._onHandleDragMove,this),ondragend:fP(this._onHandleDragEnd,this)}),i.add(r)),FQ(r,t,!1),r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");we(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,qy(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,a)}},n.prototype._moveHandleToValue=function(e,t){RQ(this._axisPointerModel,!t&&this._moveAnimation,this._handle,gP(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var i=this._handle;if(i){this._dragging=!0;var r=this.updateHandleTransform(gP(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,i.stopAnimation(),i.attr(gP(r)),zf(i).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,r=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),PS(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,i){return i=i||0,{x:e[i],y:e[1-i],width:t[i],height:t[1-i]}},n}();function RQ(n,e,t,i){sme(zf(t).lastProp,i)||(zf(t).lastProp=i,e?rn(t,i,n):(t.stopAnimation(),t.attr(i)))}function sme(n,e){if(et(n)&&et(e)){var t=!0;return B(e,function(i,r){t=t&&sme(n[r],i)}),!!t}else return n===e}function BQ(n,e){n[e.get(["label","show"])?"show":"hide"]()}function gP(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function FQ(n,e,t){var i=e.get("z"),r=e.get("zlevel");n&&n.traverse(function(o){o.type!=="group"&&(i!=null&&(o.z=i),r!=null&&(o.zlevel=r),o.silent=t)})}const oH=cft;function sH(n){var e=n.get("type"),t=n.getModel(e+"Style"),i;return e==="line"?(i=t.getLineStyle(),i.fill=null):e==="shadow"&&(i=t.getAreaStyle(),i.stroke=null),i}function ame(n,e,t,i,r){var o=t.get("value"),s=lme(o,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),a=t.getModel("label"),l=Hy(a.get("padding")||0),u=a.getFont(),c=Iw(s,u),d=r.position,h=c.width+l[1]+l[3],f=c.height+l[0]+l[2],g=r.align;g==="right"&&(d[0]-=h),g==="center"&&(d[0]-=h/2);var p=r.verticalAlign;p==="bottom"&&(d[1]-=f),p==="middle"&&(d[1]-=f/2),dft(d,h,f,i);var m=a.get("backgroundColor");(!m||m==="auto")&&(m=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:zn(a,{text:s,font:u,fill:a.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function dft(n,e,t,i){var r=i.getWidth(),o=i.getHeight();n[0]=Math.min(n[0]+e,r)-e,n[1]=Math.min(n[1]+t,o)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function lme(n,e,t,i,r){n=e.scale.parse(n);var o=e.scale.getLabel({value:n},{precision:r.precision}),s=r.formatter;if(s){var a={value:_z(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};B(i,function(l){var u=t.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,d=u&&u.getDataParams(c);d&&a.seriesData.push(d)}),$e(s)?o=s.replace("{value}",o):qe(s)&&(o=s(a))}return o}function aH(n,e,t){var i=ha();return Lp(i,i,t.rotation),fu(i,i,t.position),nl([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],i)}function ume(n,e,t,i,r,o){var s=Oc.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),ame(e,i,r,o,{position:aH(i.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function lH(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function cme(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}function $Q(n,e,t,i,r,o){return{cx:n,cy:e,r0:t,r:i,startAngle:r,endAngle:o,clockwise:!0}}var hft=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,o,s){var a=r.axis,l=a.grid,u=o.get("type"),c=VQ(l,a).getOtherAxis(a).getGlobalExtent(),d=a.toGlobalCoord(a.dataToCoord(i,!0));if(u&&u!=="none"){var h=sH(o),f=fft[u](a,d,c);f.style=h,t.graphicKey=f.type,t.pointer=f}var g=$B(l.model,r);ume(i,t,g,r,o,s)},e.prototype.getHandleTransform=function(t,i,r){var o=$B(i.axis.grid.model,i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var s=aH(i.axis,t,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var s=r.axis,a=s.grid,l=s.getGlobalExtent(!0),u=VQ(a,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,d=[t.x,t.y];d[c]+=i[c],d[c]=Math.min(l[1],d[c]),d[c]=Math.max(l[0],d[c]);var h=(u[1]+u[0])/2,f=[h,h];f[c]=d[c];var g=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:f,tooltipOption:g[c]}},e}(oH);function VQ(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var fft={line:function(n,e,t){var i=lH([e,t[0]],[e,t[1]],WQ(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,e,t){var i=Math.max(1,n.getBandWidth()),r=t[1]-t[0];return{type:"Rect",shape:cme([e-i/2,t[0]],[i,r],WQ(n))}}};function WQ(n){return n.dim==="x"?0:1}const gft=hft;var pft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(qt);const mft=pft;var cc=Kt(),vft=B;function dme(n,e,t){if(!Yt.node){var i=e.getZr();cc(i).records||(cc(i).records={}),yft(i,e);var r=cc(i).records[n]||(cc(i).records[n]={});r.handler=t}}function yft(n,e){if(cc(n).initialized)return;cc(n).initialized=!0,t("click",dt(zQ,"click")),t("mousemove",dt(zQ,"mousemove")),t("globalout",bft);function t(i,r){n.on(i,function(o){var s=Sft(e);vft(cc(n).records,function(a){a&&r(a,o,s.dispatchAction)}),_ft(s.pendings,e)})}}function _ft(n,e){var t=n.showTip.length,i=n.hideTip.length,r;t?r=n.showTip[t-1]:i&&(r=n.hideTip[i-1]),r&&(r.dispatchAction=null,e.dispatchAction(r))}function bft(n,e,t){n.handler("leave",null,t)}function zQ(n,e,t,i){e.handler(n,t,i)}function Sft(n){var e={showTip:[],hideTip:[]},t=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=t,n.dispatchAction(i))};return{dispatchAction:t,pendings:e}}function rF(n,e){if(!Yt.node){var t=e.getZr(),i=(cc(t).records||{})[n];i&&(cc(t).records[n]=null)}}var wft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=i.getComponent("tooltip"),s=t.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";dme("axisPointer",r,function(a,l,u){s!=="none"&&(a==="leave"||s.indexOf(a)>=0)&&u({type:"updateAxisPointer",currTrigger:a,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,i){rF("axisPointer",i)},e.prototype.dispose=function(t,i){rF("axisPointer",i)},e.type="axisPointer",e}(vi);const Cft=wft;function hme(n,e){var t=[],i=n.seriesIndex,r;if(i==null||!(r=e.getSeriesByIndex(i)))return{point:[]};var o=r.getData(),s=Qg(o,n);if(s==null||s<0||we(s))return{point:[]};var a=o.getItemGraphicEl(s),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),d=c.dim,h=u.dim,f=d==="x"||d==="radius"?1:0,g=o.mapDimension(h),p=[];p[f]=o.get(g,s),p[1-f]=o.get(o.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(p)||[]}else t=l.dataToPoint(o.getValues(Te(l.dimensions,function(v){return o.mapDimension(v)}),s))||[];else if(a){var m=a.getBoundingRect().clone();m.applyTransform(a.transform),t=[m.x+m.width/2,m.y+m.height/2]}return{point:t,el:a}}var HQ=Kt();function xft(n,e,t){var i=n.currTrigger,r=[n.x,n.y],o=n,s=n.dispatchAction||We(t.dispatchAction,t),a=e.getComponent("axisPointer").coordSysAxesInfo;if(a){wL(r)&&(r=hme({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=wL(r),u=o.axesInfo,c=a.axesInfo,d=i==="leave"||wL(r),h={},f={},g={list:[],map:{}},p={showPointer:dt(Tft,f),showTooltip:dt(Ift,g)};B(a.coordSysMap,function(v,y){var _=l||v.containPoint(r);B(a.coordSysAxesInfo[y],function(b,S){var w=b.axis,C=Aft(u,b);if(!d&&_&&(!u||C)){var x=C&&C.value;x==null&&!l&&(x=w.pointToData(r)),x!=null&&UQ(b,x,p,!1,h)}})});var m={};return B(c,function(v,y){var _=v.linkGroup;_&&!f[y]&&B(_.axesInfo,function(b,S){var w=f[S];if(b!==v&&w){var C=w.value;_.mapper&&(C=v.axis.scale.parse(_.mapper(C,GQ(b),GQ(v)))),m[v.key]=C}})}),B(m,function(v,y){UQ(c[y],v,p,!0,h)}),Dft(f,c,h),Eft(g,r,n,s),Mft(c,s,t),h}}function UQ(n,e,t,i,r){var o=n.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=Lft(e,n),a=s.payloadBatch,l=s.snapToValue;a[0]&&r.seriesIndex==null&&be(r,a[0]),!i&&n.snap&&o.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,a),t.showTooltip(n,s,l)}}function Lft(n,e){var t=e.axis,i=t.dim,r=n,o=[],s=Number.MAX_VALUE,a=-1;return B(e.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(i),d,h;if(l.getAxisTooltipData){var f=l.getAxisTooltipData(c,n,t);h=f.dataIndices,d=f.nestestValue}else{if(h=l.getData().indicesOfNearest(c[0],n,t.type==="category"?.5:null),!h.length)return;d=l.getData().get(c[0],h[0])}if(!(d==null||!isFinite(d))){var g=n-d,p=Math.abs(g);p<=s&&((p<s||g>=0&&a<0)&&(s=p,a=g,r=d,o.length=0),B(h,function(m){o.push({seriesIndex:l.seriesIndex,dataIndexInside:m,dataIndex:l.getData().getRawIndex(m)})}))}}),{payloadBatch:o,snapToValue:r}}function Tft(n,e,t,i){n[e.key]={value:t,payloadBatch:i}}function Ift(n,e,t,i){var r=t.payloadBatch,o=e.axis,s=o.model,a=e.axisPointerModel;if(!(!e.triggerTooltip||!r.length)){var l=e.coordSys.model,u=VS(l),c=n.map[u];c||(c=n.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(c)),c.dataByAxis.push({axisDim:o.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function Dft(n,e,t){var i=t.axesInfo=[];B(e,function(r,o){var s=r.axisPointerModel.option,a=n[o];a?(!r.useHandle&&(s.status="show"),s.value=a.value,s.seriesDataIndices=(a.payloadBatch||[]).slice()):!r.useHandle&&(s.status="hide"),s.status==="show"&&i.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:s.value})})}function Eft(n,e,t,i){if(wL(e)||!n.list.length){i({type:"hideTip"});return}var r=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:n.list})}function Mft(n,e,t){var i=t.getZr(),r="axisPointerLastHighlights",o=HQ(i)[r]||{},s=HQ(i)[r]={};B(n,function(u,c){var d=u.axisPointerModel.option;d.status==="show"&&u.triggerEmphasis&&B(d.seriesDataIndices,function(h){var f=h.seriesIndex+" | "+h.dataIndex;s[f]=h})});var a=[],l=[];B(o,function(u,c){!s[c]&&l.push(u)}),B(s,function(u,c){!o[c]&&a.push(u)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),a.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:a})}function Aft(n,e){for(var t=0;t<(n||[]).length;t++){var i=n[t];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function GQ(n){var e=n.axis.model,t={},i=t.axisDim=n.axis.dim;return t.axisIndex=t[i+"AxisIndex"]=e.componentIndex,t.axisName=t[i+"AxisName"]=e.name,t.axisId=t[i+"AxisId"]=e.id,t}function wL(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Kw(n){Mp.registerAxisPointerClass("CartesianAxisPointer",gft),n.registerComponentModel(mft),n.registerComponentView(Cft),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!we(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=yot(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},xft)}function Nft(n){Lt(Fge),Lt(Kw)}var kft=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,o,s){var a=r.axis;a.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=a.polar,u=l.getOtherAxis(a),c=u.getExtent(),d=a.dataToCoord(i),h=o.get("type");if(h&&h!=="none"){var f=sH(o),g=Oft[h](a,l,d,c);g.style=f,t.graphicKey=g.type,t.pointer=g}var p=o.get(["label","margin"]),m=Pft(i,r,o,l,p);ame(t,r,o,s,m)},e}(oH);function Pft(n,e,t,i,r){var o=e.axis,s=o.dataToCoord(n),a=i.getAngleAxis().getExtent()[0];a=a/180*Math.PI;var l=i.getRadiusAxis().getExtent(),u,c,d;if(o.dim==="radius"){var h=ha();Lp(h,h,a),fu(h,h,[i.cx,i.cy]),u=nl([s,-r],h);var f=e.getModel("axisLabel").get("rotate")||0,g=Oc.innerTextLayout(a,f*Math.PI/180,-1);c=g.textAlign,d=g.textVerticalAlign}else{var p=l[1];u=i.coordToPoint([p+r,s]);var m=i.cx,v=i.cy;c=Math.abs(u[0]-m)/p<.3?"center":u[0]>m?"left":"right",d=Math.abs(u[1]-v)/p<.3?"middle":u[1]>v?"top":"bottom"}return{position:u,align:c,verticalAlign:d}}var Oft={line:function(n,e,t,i){return n.dim==="angle"?{type:"Line",shape:lH(e.coordToPoint([i[0],t]),e.coordToPoint([i[1],t]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:t}}},shadow:function(n,e,t,i){var r=Math.max(1,n.getBandWidth()),o=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:$Q(e.cx,e.cy,i[0],i[1],(-t-r/2)*o,(-t+r/2)*o)}:{type:"Sector",shape:$Q(e.cx,e.cy,t-r/2,t+r/2,0,Math.PI*2)}}};const Rft=kft;var Bft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.findAxisModel=function(t){var i,r=this.ecModel;return r.eachComponent(t,function(o){o.getCoordSysModel()===this&&(i=o)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(qt);const Fft=Bft;var uH=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",$i).models[0]},e.type="polarAxis",e}(qt);Hi(uH,Fw);var $ft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="angleAxis",e}(uH),Vft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="radiusAxis",e}(uH),cH=function(n){re(e,n);function e(t,i){return n.call(this,"radius",t,i)||this}return e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e}(fl);cH.prototype.dataToRadius=fl.prototype.dataToCoord;cH.prototype.radiusToData=fl.prototype.coordToData;const Wft=cH;var zft=Kt(),dH=function(n){re(e,n);function e(t,i){return n.call(this,"angle",t,i||[0,360])||this}return e.prototype.pointToData=function(t,i){return this.polar.pointToData(t,i)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var t=this,i=t.getLabelModel(),r=t.scale,o=r.getExtent(),s=r.count();if(o[1]-o[0]<1)return 0;var a=o[0],l=t.dataToCoord(a+1)-t.dataToCoord(a),u=Math.abs(l),c=Iw(a==null?"":a+"",i.getFont(),"center","top"),d=Math.max(c.height,7),h=d/u;isNaN(h)&&(h=1/0);var f=Math.max(0,Math.floor(h)),g=zft(t.model),p=g.lastAutoInterval,m=g.lastTickCount;return p!=null&&m!=null&&Math.abs(p-f)<=1&&Math.abs(m-s)<=1&&p>f?f=p:(g.lastTickCount=s,g.lastAutoInterval=f),f},e}(fl);dH.prototype.dataToAngle=fl.prototype.dataToCoord;dH.prototype.angleToData=fl.prototype.coordToData;const Hft=dH;var fme=["radius","angle"],Uft=function(){function n(e){this.dimensions=fme,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new Wft,this._angleAxis=new Hft,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},n.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},n.prototype.getAxis=function(e){var t="_"+e+"Axis";return this[t]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(e){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===e&&t.push(i),r.scale.type===e&&t.push(r),t},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(e){var t=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},n.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},n.prototype.pointToData=function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},n.prototype.pointToCoord=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,r=this.getAngleAxis(),o=r.getExtent(),s=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);r.inverse?s=a-360:a=s+360;var l=Math.sqrt(t*t+i*i);t/=l,i/=l;for(var u=Math.atan2(-i,t)/Math.PI*180,c=u<s?1:-1;u<s||u>a;)u+=c*360;return[l,u]},n.prototype.coordToPoint=function(e){var t=e[0],i=e[1]/180*Math.PI,r=Math.cos(i)*t+this.cx,o=-Math.sin(i)*t+this.cy;return[r,o]},n.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis(),i=t.getExtent().slice();i[0]>i[1]&&i.reverse();var r=e.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-r[0]*o,endAngle:-r[1]*o,clockwise:e.inverse,contain:function(s,a){var l=s-this.cx,u=a-this.cy,c=l*l+u*u-1e-4,d=this.r,h=this.r0;return c<=d*d&&c>=h*h}}},n.prototype.convertToPixel=function(e,t,i){var r=KQ(t);return r===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=KQ(t);return r===this?this.pointToData(i):null},n}();function KQ(n){var e=n.seriesModel,t=n.polarModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}const Gft=Uft;function Kft(n,e,t){var i=e.get("center"),r=t.getWidth(),o=t.getHeight();n.cx=Fe(i[0],r),n.cy=Fe(i[1],o);var s=n.getRadiusAxis(),a=Math.min(r,o)/2,l=e.get("radius");l==null?l=[0,"100%"]:we(l)||(l=[0,l]);var u=[Fe(l[0],a),Fe(l[1],a)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function jft(n,e){var t=this,i=t.getAngleAxis(),r=t.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),n.eachSeries(function(a){if(a.coordinateSystem===t){var l=a.getData();B(VI(l,"radius"),function(u){r.scale.unionExtentFromData(l,u)}),B(VI(l,"angle"),function(u){i.scale.unionExtentFromData(l,u)})}}),ly(i.scale,i.model),ly(r.scale,r.model),i.type==="category"&&!i.onBand){var o=i.getExtent(),s=360/i.scale.count();i.inverse?o[1]+=s:o[1]-=s,i.setExtent(o[0],o[1])}}function qft(n){return n.mainType==="angleAxis"}function jQ(n,e){if(n.type=e.get("type"),n.scale=IM(e),n.onBand=e.get("boundaryGap")&&n.type==="category",n.inverse=e.get("inverse"),qft(e)){n.inverse=n.inverse!==e.get("clockwise");var t=e.get("startAngle");n.setExtent(t,t+(n.inverse?-360:360))}e.axis=n,n.model=e}var Yft={dimensions:fme,create:function(n,e){var t=[];return n.eachComponent("polar",function(i,r){var o=new Gft(r+"");o.update=jft;var s=o.getRadiusAxis(),a=o.getAngleAxis(),l=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");jQ(s,l),jQ(a,u),Kft(o,i,e),t.push(o),i.coordinateSystem=o,o.model=i}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var r=i.getReferringComponents("polar",$i).models[0];i.coordinateSystem=r.coordinateSystem}}),t}};const Xft=Yft;var Zft=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function nx(n,e,t){e[1]>e[0]&&(e=e.slice().reverse());var i=n.coordToPoint([e[0],t]),r=n.coordToPoint([e[1],t]);return{x1:i[0],y1:i[1],x2:r[0],y2:r[1]}}function ix(n){var e=n.getRadiusAxis();return e.inverse?0:1}function qQ(n){var e=n[0],t=n[n.length-1];e&&t&&Math.abs(Math.abs(e.coord-t.coord)-360)<1e-4&&n.pop()}var Qft=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,i){if(this.group.removeAll(),!!t.get("show")){var r=t.axis,o=r.polar,s=o.getRadiusAxis().getExtent(),a=r.getTicksCoords(),l=r.getMinorTicksCoords(),u=Te(r.getViewLabels(),function(c){c=rt(c);var d=r.scale,h=d.type==="ordinal"?d.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=r.dataToCoord(h),c});qQ(u),qQ(a),B(Zft,function(c){t.get([c,"show"])&&(!r.scale.isBlank()||c==="axisLine")&&Jft[c](this.group,t,o,a,l,s,u)},this)}},e.type="angleAxis",e}(Mp),Jft={axisLine:function(n,e,t,i,r,o){var s=e.getModel(["axisLine","lineStyle"]),a=ix(t),l=a?0:1,u;o[l]===0?u=new mu({shape:{cx:t.cx,cy:t.cy,r:o[a]},style:s.getLineStyle(),z2:1,silent:!0}):u=new uM({shape:{cx:t.cx,cy:t.cy,r:o[a],r0:o[l]},style:s.getLineStyle(),z2:1,silent:!0}),u.style.fill=null,n.add(u)},axisTick:function(n,e,t,i,r,o){var s=e.getModel("axisTick"),a=(s.get("inside")?-1:1)*s.get("length"),l=o[ix(t)],u=Te(i,function(c){return new Er({shape:nx(t,[l,l+a],c.coord)})});n.add(Js(u,{style:Qe(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("axisTick"),a=e.getModel("minorTick"),l=(s.get("inside")?-1:1)*a.get("length"),u=o[ix(t)],c=[],d=0;d<r.length;d++)for(var h=0;h<r[d].length;h++)c.push(new Er({shape:nx(t,[u,u+l],r[d][h].coord)}));n.add(Js(c,{style:Qe(a.getModel("lineStyle").getLineStyle(),Qe(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,e,t,i,r,o,s){var a=e.getCategories(!0),l=e.getModel("axisLabel"),u=l.get("margin"),c=e.get("triggerEvent");B(s,function(d,h){var f=l,g=d.tickValue,p=o[ix(t)],m=t.coordToPoint([p+u,d.coord]),v=t.cx,y=t.cy,_=Math.abs(m[0]-v)/p<.3?"center":m[0]>v?"left":"right",b=Math.abs(m[1]-y)/p<.3?"middle":m[1]>y?"top":"bottom";if(a&&a[g]){var S=a[g];et(S)&&S.textStyle&&(f=new Hn(S.textStyle,l,l.ecModel))}var w=new Zt({silent:Oc.isLabelSilent(e),style:zn(f,{x:m[0],y:m[1],fill:f.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:d.formattedLabel,align:_,verticalAlign:b})});if(n.add(w),c){var C=Oc.makeAxisEventDataBase(e);C.targetType="axisLabel",C.value=d.rawLabel,ut(w).eventData=C}},this)},splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine"),a=s.getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<i.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Er({shape:nx(t,o,i[d].coord)}))}for(var d=0;d<c.length;d++)n.add(Js(c[d],{style:Qe({stroke:l[d%l.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(n,e,t,i,r,o){if(r.length){for(var s=e.getModel("minorSplitLine"),a=s.getModel("lineStyle"),l=[],u=0;u<r.length;u++)for(var c=0;c<r[u].length;c++)l.push(new Er({shape:nx(t,o,r[u][c].coord)}));n.add(Js(l,{style:a.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(n,e,t,i,r,o){if(i.length){var s=e.getModel("splitArea"),a=s.getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=Math.PI/180,h=-i[0].coord*d,f=Math.min(o[0],o[1]),g=Math.max(o[0],o[1]),p=e.get("clockwise"),m=1,v=i.length;m<=v;m++){var y=m===v?i[0].coord:i[m].coord,_=u++%l.length;c[_]=c[_]||[],c[_].push(new Xo({shape:{cx:t.cx,cy:t.cy,r0:f,r:g,startAngle:h,endAngle:-y*d,clockwise:p},silent:!0})),h=-y*d}for(var m=0;m<c.length;m++)n.add(Js(c[m],{style:Qe({fill:l[m%l.length]},a.getAreaStyle()),silent:!0}))}}};const egt=Qft;var tgt=["axisLine","axisTickLabel","axisName"],ngt=["splitLine","splitArea","minorSplitLine"],igt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="PolarAxisPointer",t}return e.prototype.render=function(t,i){if(this.group.removeAll(),!!t.get("show")){var r=this._axisGroup,o=this._axisGroup=new st;this.group.add(o);var s=t.axis,a=s.polar,l=a.getAngleAxis(),u=s.getTicksCoords(),c=s.getMinorTicksCoords(),d=l.getExtent()[0],h=s.getExtent(),f=ogt(a,t,d),g=new Oc(t,f);B(tgt,g.add,g),o.add(g.getGroup()),Aw(r,o,t),B(ngt,function(p){t.get([p,"show"])&&!s.scale.isBlank()&&rgt[p](this.group,t,a,d,h,u,c)},this)}},e.type="radiusAxis",e}(Mp),rgt={splitLine:function(n,e,t,i,r,o){var s=e.getModel("splitLine"),a=s.getModel("lineStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=0;d<o.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new mu({shape:{cx:t.cx,cy:t.cy,r:Math.max(o[d].coord,0)}}))}for(var d=0;d<c.length;d++)n.add(Js(c[d],{style:Qe({stroke:l[d%l.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(n,e,t,i,r,o,s){if(s.length){for(var a=e.getModel("minorSplitLine"),l=a.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var d=0;d<s[c].length;d++)u.push(new mu({shape:{cx:t.cx,cy:t.cy,r:s[c][d].coord}}));n.add(Js(u,{style:Qe({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(n,e,t,i,r,o){if(o.length){var s=e.getModel("splitArea"),a=s.getModel("areaStyle"),l=a.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],d=o[0].coord,h=1;h<o.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new Xo({shape:{cx:t.cx,cy:t.cy,r0:d,r:o[h].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),d=o[h].coord}for(var h=0;h<c.length;h++)n.add(Js(c[h],{style:Qe({fill:l[h%l.length]},a.getAreaStyle()),silent:!0}))}}};function ogt(n,e,t){return{position:[n.cx,n.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}const sgt=igt;function gme(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function pme(n,e){return e.dim+n.model.componentIndex}function agt(n,e,t){var i={},r=lgt(xn(e.getSeriesByType(n),function(o){return!e.isSeriesFiltered(o)&&o.coordinateSystem&&o.coordinateSystem.type==="polar"}));e.eachSeriesByType(n,function(o){if(o.coordinateSystem.type==="polar"){var s=o.getData(),a=o.coordinateSystem,l=a.getBaseAxis(),u=pme(a,l),c=gme(o),d=r[u][c],h=d.offset,f=d.width,g=a.getOtherAxis(l),p=o.coordinateSystem.cx,m=o.coordinateSystem.cy,v=o.get("barMinHeight")||0,y=o.get("barMinAngle")||0;i[c]=i[c]||[];for(var _=s.mapDimension(g.dim),b=s.mapDimension(l.dim),S=bh(s,_),w=l.dim!=="radius"||!o.get("roundCap",!0),C=g.dataToCoord(0),x=0,L=s.count();x<L;x++){var T=s.get(_,x),I=s.get(b,x),D=T>=0?"p":"n",M=C;S&&(i[c][I]||(i[c][I]={p:C,n:C}),M=i[c][I][D]);var P=void 0,k=void 0,O=void 0,F=void 0;if(g.dim==="radius"){var R=g.dataToCoord(T)-C,$=l.dataToCoord(I);Math.abs(R)<v&&(R=(R<0?-1:1)*v),P=M,k=M+R,O=$-h,F=O-f,S&&(i[c][I][D]=k)}else{var H=g.dataToCoord(T,w)-C,U=l.dataToCoord(I);Math.abs(H)<y&&(H=(H<0?-1:1)*y),P=U+h,k=P+f,O=M,F=M+H,S&&(i[c][I][D]=F)}s.setItemLayout(x,{cx:p,cy:m,r0:P,r:k,startAngle:-O*Math.PI/180,endAngle:-F*Math.PI/180,clockwise:O>=F})}}})}function lgt(n){var e={};B(n,function(i,r){var o=i.getData(),s=i.coordinateSystem,a=s.getBaseAxis(),l=pme(s,a),u=a.getExtent(),c=a.type==="category"?a.getBandWidth():Math.abs(u[1]-u[0])/o.count(),d=e[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=d.stacks;e[l]=d;var f=gme(i);h[f]||d.autoWidthCount++,h[f]=h[f]||{width:0,maxWidth:0};var g=Fe(i.get("barWidth"),c),p=Fe(i.get("barMaxWidth"),c),m=i.get("barGap"),v=i.get("barCategoryGap");g&&!h[f].width&&(g=Math.min(d.remainedWidth,g),h[f].width=g,d.remainedWidth-=g),p&&(h[f].maxWidth=p),m!=null&&(d.gap=m),v!=null&&(d.categoryGap=v)});var t={};return B(e,function(i,r){t[r]={};var o=i.stacks,s=i.bandWidth,a=Fe(i.categoryGap,s),l=Fe(i.gap,1),u=i.remainedWidth,c=i.autoWidthCount,d=(u-a)/(c+(c-1)*l);d=Math.max(d,0),B(o,function(p,m){var v=p.maxWidth;v&&v<d&&(v=Math.min(v,u),p.width&&(v=Math.min(v,p.width)),u-=v,p.width=v,c--)}),d=(u-a)/(c+(c-1)*l),d=Math.max(d,0);var h=0,f;B(o,function(p,m){p.width||(p.width=d),f=p,h+=p.width*(1+l)}),f&&(h-=f.width*l);var g=-h/2;B(o,function(p,m){t[r][m]=t[r][m]||{offset:g,width:p.width},g+=p.width*(1+l)})}),t}var ugt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},cgt={splitNumber:5},dgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="polar",e}(vi);function hgt(n){Lt(Kw),Mp.registerAxisPointerClass("PolarAxisPointer",Rft),n.registerCoordinateSystem("polar",Xft),n.registerComponentModel(Fft),n.registerComponentView(dgt),cy(n,"angle",$ft,ugt),cy(n,"radius",Vft,cgt),n.registerComponentView(egt),n.registerComponentView(sgt),n.registerLayout(dt(agt,"bar"))}function oF(n,e){e=e||{};var t=n.coordinateSystem,i=n.axis,r={},o=i.position,s=i.orient,a=t.getRect(),l=[a.x,a.x+a.width,a.y,a.y+a.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=[s==="vertical"?u.vertical[o]:l[0],s==="horizontal"?u.horizontal[o]:l[3]];var c={horizontal:0,vertical:1};r.rotation=Math.PI/2*c[s];var d={top:-1,bottom:1,right:1,left:-1};r.labelDirection=r.tickDirection=r.nameDirection=d[o],n.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Dr(e.labelInside,n.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var h=e.rotate;return h==null&&(h=n.get(["axisLabel","rotate"])),r.labelRotation=o==="top"?-h:h,r.z2=1,r}var fgt=["axisLine","axisTickLabel","axisName"],ggt=["splitArea","splitLine"],pgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="SingleAxisPointer",t}return e.prototype.render=function(t,i,r,o){var s=this.group;s.removeAll();var a=this._axisGroup;this._axisGroup=new st;var l=oF(t),u=new Oc(t,l);B(fgt,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),B(ggt,function(c){t.get([c,"show"])&&mgt[c](this,this.group,this._axisGroup,t)},this),Aw(a,this._axisGroup,t),n.prototype.render.call(this,t,i,r,o)},e.prototype.remove=function(){Oge(this)},e.type="singleAxis",e}(Mp),mgt={splitLine:function(n,e,t,i){var r=i.axis;if(!r.scale.isBlank()){var o=i.getModel("splitLine"),s=o.getModel("lineStyle"),a=s.get("color");a=a instanceof Array?a:[a];for(var l=s.get("width"),u=i.coordinateSystem.getRect(),c=r.isHorizontal(),d=[],h=0,f=r.getTicksCoords({tickModel:o}),g=[],p=[],m=0;m<f.length;++m){var v=r.toGlobalCoord(f[m].coord);c?(g[0]=v,g[1]=u.y,p[0]=v,p[1]=u.y+u.height):(g[0]=u.x,g[1]=v,p[0]=u.x+u.width,p[1]=v);var y=new Er({shape:{x1:g[0],y1:g[1],x2:p[0],y2:p[1]},silent:!0});oy(y.shape,l);var _=h++%a.length;d[_]=d[_]||[],d[_].push(y)}for(var b=s.getLineStyle(["color"]),m=0;m<d.length;++m)e.add(Js(d[m],{style:Qe({stroke:a[m%a.length]},b),silent:!0}))}},splitArea:function(n,e,t,i){Pge(n,t,i,i)}};const vgt=pgt;var mme=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(qt);Hi(mme,Fw.prototype);const pP=mme;var ygt=function(n){re(e,n);function e(t,i,r,o,s){var a=n.call(this,t,i,r)||this;return a.type=o||"value",a.position=s||"bottom",a}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.pointToData=function(t,i){return this.coordinateSystem.pointToData(t)[0]},e}(fl);const _gt=ygt;var vme=["single"],bgt=function(){function n(e,t,i){this.type="single",this.dimension="single",this.dimensions=vme,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,i)}return n.prototype._init=function(e,t,i){var r=this.dimension,o=new _gt(r,IM(e),[0,0],e.get("type"),e.get("position")),s=o.type==="category";o.onBand=s&&e.get("boundaryGap"),o.inverse=e.get("inverse"),o.orient=e.get("orient"),e.axis=o,o.model=e,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(e,t){e.eachSeries(function(i){if(i.coordinateSystem===this){var r=i.getData();B(r.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(r,o)},this),ly(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(e,t){this._rect=tr({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),r=i?[0,e.width]:[0,e.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},n.prototype._updateAxisTransform=function(e,t){var i=e.getExtent(),r=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(s){return s+t}:function(s){return r-s+t},e.toLocalCoord=o?function(s){return s-t}:function(s){return r-s+t}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(e){var t=this.getRect(),i=this.getAxis(),r=i.orient;return r==="horizontal"?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},n.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[t.orient==="horizontal"?0:1]))]},n.prototype.dataToPoint=function(e){var t=this.getAxis(),i=this.getRect(),r=[],o=t.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),r[o]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-o]=o===0?i.y+i.height/2:i.x+i.width/2,r},n.prototype.convertToPixel=function(e,t,i){var r=YQ(t);return r===this?this.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=YQ(t);return r===this?this.pointToData(i):null},n}();function YQ(n){var e=n.seriesModel,t=n.singleAxisModel;return t&&t.coordinateSystem||e&&e.coordinateSystem}function Sgt(n,e){var t=[];return n.eachComponent("singleAxis",function(i,r){var o=new bgt(i,n,e);o.name="single_"+r,o.resize(i,e),i.coordinateSystem=o,t.push(o)}),n.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var r=i.getReferringComponents("singleAxis",$i).models[0];i.coordinateSystem=r&&r.coordinateSystem}}),t}var wgt={create:Sgt,dimensions:vme};const Cgt=wgt;var XQ=["x","y"],xgt=["width","height"],Lgt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,i,r,o,s){var a=r.axis,l=a.coordinateSystem,u=mP(l,1-tD(a)),c=l.dataToPoint(i)[0],d=o.get("type");if(d&&d!=="none"){var h=sH(o),f=Tgt[d](a,c,u);f.style=h,t.graphicKey=f.type,t.pointer=f}var g=oF(r);ume(i,t,g,r,o,s)},e.prototype.getHandleTransform=function(t,i,r){var o=oF(i,{labelInside:!1});o.labelMargin=r.get(["handle","margin"]);var s=aH(i.axis,t,o);return{x:s[0],y:s[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,i,r,o){var s=r.axis,a=s.coordinateSystem,l=tD(s),u=mP(a,l),c=[t.x,t.y];c[l]+=i[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var d=mP(a,1-l),h=(d[1]+d[0])/2,f=[h,h];return f[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:f,tooltipOption:{verticalAlign:"middle"}}},e}(oH),Tgt={line:function(n,e,t){var i=lH([e,t[0]],[e,t[1]],tD(n));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(n,e,t){var i=n.getBandWidth(),r=t[1]-t[0];return{type:"Rect",shape:cme([e-i/2,t[0]],[i,r],tD(n))}}};function tD(n){return n.isHorizontal()?0:1}function mP(n,e){var t=n.getRect();return[t[XQ[e]],t[XQ[e]]+t[xgt[e]]]}const Igt=Lgt;var Dgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="single",e}(vi);function Egt(n){Lt(Kw),Mp.registerAxisPointerClass("SingleAxisPointer",Igt),n.registerComponentView(Dgt),n.registerComponentView(vgt),n.registerComponentModel(pP),cy(n,"single",pP,pP.defaultOption),n.registerCoordinateSystem("single",Cgt)}var Mgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i,r){var o=Uy(t);n.prototype.init.apply(this,arguments),ZQ(t,o)},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),ZQ(this.option,t)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(qt);function ZQ(n,e){var t=n.cellSize,i;we(t)?i=t:i=n.cellSize=[t,t],i.length===1&&(i[1]=i[0]);var r=Te([0,1],function(o){return RQe(e,o)&&(i[o]="auto"),i[o]!=null&&i[o]!=="auto"});_h(n,e,{type:"box",ignoreSize:r})}const Agt=Mgt;var Ngt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){var o=this.group;o.removeAll();var s=t.coordinateSystem,a=s.getRangeInfo(),l=s.getOrient(),u=i.getLocaleModel();this._renderDayRect(t,a,o),this._renderLines(t,a,l,o),this._renderYearText(t,a,l,o),this._renderMonthText(t,u,l,o),this._renderWeekText(t,u,a,l,o)},e.prototype._renderDayRect=function(t,i,r){for(var o=t.coordinateSystem,s=t.getModel("itemStyle").getItemStyle(),a=o.getCellWidth(),l=o.getCellHeight(),u=i.start.time;u<=i.end.time;u=o.getNextNDay(u,1).time){var c=o.dataToRect([u],!1).tl,d=new Gt({shape:{x:c[0],y:c[1],width:a,height:l},cursor:"default",style:s});r.add(d)}},e.prototype._renderLines=function(t,i,r,o){var s=this,a=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=i.start,h=0;d.time<=i.end.time;h++){g(d.formatedDate),h===0&&(d=a.getDateInfo(i.start.y+"-"+i.start.m));var f=d.date;f.setMonth(f.getMonth()+1),d=a.getDateInfo(f)}g(a.getNextNDay(i.end.time,1).formatedDate);function g(p){s._firstDayOfMonth.push(a.getDateInfo(p)),s._firstDayPoints.push(a.dataToRect([p],!1).tl);var m=s._getLinePointsOfOneWeek(t,p,r);s._tlpoints.push(m[0]),s._blpoints.push(m[m.length-1]),u&&s._drawSplitline(m,l,o)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,r),l,o),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,r),l,o)},e.prototype._getEdgesPoints=function(t,i,r){var o=[t[0].slice(),t[t.length-1].slice()],s=r==="horizontal"?0:1;return o[0][s]=o[0][s]-i/2,o[1][s]=o[1][s]+i/2,o},e.prototype._drawSplitline=function(t,i,r){var o=new ts({z2:20,shape:{points:t},style:i});r.add(o)},e.prototype._getLinePointsOfOneWeek=function(t,i,r){for(var o=t.coordinateSystem,s=o.getDateInfo(i),a=[],l=0;l<7;l++){var u=o.getNextNDay(s.time,l),c=o.dataToRect([u.time],!1);a[2*u.day]=c.tl,a[2*u.day+1]=c[r==="horizontal"?"bl":"tr"]}return a},e.prototype._formatterLabel=function(t,i){return $e(t)&&t?NQe(t,i):qe(t)?t(i):i.nameMap},e.prototype._yearTextPositionControl=function(t,i,r,o,s){var a=i[0],l=i[1],u=["center","bottom"];o==="bottom"?(l+=s,u=["center","top"]):o==="left"?a-=s:o==="right"?(a+=s,u=["center","top"]):l-=s;var c=0;return(o==="left"||o==="right")&&(c=Math.PI/2),{rotation:c,x:a,y:l,style:{align:u[0],verticalAlign:u[1]}}},e.prototype._renderYearText=function(t,i,r,o){var s=t.getModel("yearLabel");if(s.get("show")){var a=s.get("margin"),l=s.get("position");l||(l=r!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,d=(u[0][1]+u[1][1])/2,h=r==="horizontal"?0:1,f={top:[c,u[h][1]],bottom:[c,u[1-h][1]],left:[u[1-h][0],d],right:[u[h][0],d]},g=i.start.y;+i.end.y>+i.start.y&&(g=g+"-"+i.end.y);var p=s.get("formatter"),m={start:i.start.y,end:i.end.y,nameMap:g},v=this._formatterLabel(p,m),y=new Zt({z2:30,style:zn(s,{text:v})});y.attr(this._yearTextPositionControl(y,f[l],r,l,a)),o.add(y)}},e.prototype._monthTextPositionControl=function(t,i,r,o,s){var a="left",l="top",u=t[0],c=t[1];return r==="horizontal"?(c=c+s,i&&(a="center"),o==="start"&&(l="bottom")):(u=u+s,i&&(l="middle"),o==="start"&&(a="right")),{x:u,y:c,align:a,verticalAlign:l}},e.prototype._renderMonthText=function(t,i,r,o){var s=t.getModel("monthLabel");if(s.get("show")){var a=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),d=[this._tlpoints,this._blpoints];(!a||$e(a))&&(a&&(i=pB(a)||i),a=i.get(["time","monthAbbr"])||[]);var h=u==="start"?0:1,f=r==="horizontal"?0:1;l=u==="start"?-l:l;for(var g=c==="center",p=0;p<d[h].length-1;p++){var m=d[h][p].slice(),v=this._firstDayOfMonth[p];if(g){var y=this._firstDayPoints[p];m[f]=(y[f]+d[0][p+1][f])/2}var _=s.get("formatter"),b=a[+v.m-1],S={yyyy:v.y,yy:(v.y+"").slice(2),MM:v.m,M:+v.m,nameMap:b},w=this._formatterLabel(_,S),C=new Zt({z2:30,style:be(zn(s,{text:w}),this._monthTextPositionControl(m,g,r,u,l))});o.add(C)}}},e.prototype._weekTextPositionControl=function(t,i,r,o,s){var a="center",l="middle",u=t[0],c=t[1],d=r==="start";return i==="horizontal"?(u=u+o+(d?1:-1)*s[0]/2,a=d?"right":"left"):(c=c+o+(d?1:-1)*s[1]/2,l=d?"bottom":"top"),{x:u,y:c,align:a,verticalAlign:l}},e.prototype._renderWeekText=function(t,i,r,o,s){var a=t.getModel("dayLabel");if(a.get("show")){var l=t.coordinateSystem,u=a.get("position"),c=a.get("nameMap"),d=a.get("margin"),h=l.getFirstDayOfWeek();if(!c||$e(c)){c&&(i=pB(c)||i);var f=i.get(["time","dayOfWeekShort"]);c=f||Te(i.get(["time","dayOfWeekAbbr"]),function(S){return S[0]})}var g=l.getNextNDay(r.end.time,7-r.lweek).time,p=[l.getCellWidth(),l.getCellHeight()];d=Fe(d,Math.min(p[1],p[0])),u==="start"&&(g=l.getNextNDay(r.start.time,-(7+r.fweek)).time,d=-d);for(var m=0;m<7;m++){var v=l.getNextNDay(g,m),y=l.dataToRect([v.time],!1).center,_=m;_=Math.abs((m+h)%7);var b=new Zt({z2:30,style:be(zn(a,{text:c[_]}),this._weekTextPositionControl(y,o,u,d,p))});s.add(b)}}},e.type="calendar",e}(vi);const kgt=Ngt;var vP=864e5,Pgt=function(){function n(e,t,i){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=e}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(e){e=ll(e);var t=e.getFullYear(),i=e.getMonth()+1,r=i<10?"0"+i:""+i,o=e.getDate(),s=o<10?"0"+o:""+o,a=e.getDay();return a=Math.abs((a+7-this.getFirstDayOfWeek())%7),{y:t+"",m:r,d:s,day:a,time:e.getTime(),formatedDate:t+"-"+r+"-"+s,date:e}},n.prototype.getNextNDay=function(e,t){return t=t||0,t===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+t),this.getDateInfo(e))},n.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),a=this._orient==="horizontal"?[i,7]:[7,i];B([0,1],function(d){c(o,d)&&(s[r[d]]=o[d]*a[d])});var l={width:t.getWidth(),height:t.getHeight()},u=this._rect=tr(s,l);B([0,1],function(d){c(o,d)||(o[d]=u[r[d]]/a[d])});function c(d,h){return d[h]!=null&&d[h]!=="auto"}this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(e,t){we(e)&&(e=e[0]),t==null&&(t=!0);var i=this.getDateInfo(e),r=this._rangeInfo,o=i.formatedDate;if(t&&!(i.time>=r.start.time&&i.time<r.end.time+vP))return[NaN,NaN];var s=i.day,a=this._getRangeInfo([r.start.time,o]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},n.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},n.prototype.dataToRect=function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},n.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,t-1,r):this._getDateByWeeksAndDay(t,i-1,r)},n.prototype.convertToPixel=function(e,t,i){var r=QQ(t);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(e,t,i){var r=QQ(t);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e=this._model.get("range"),t;if(we(e)&&e.length===1&&(e=e[0]),we(e))t=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),o=r.date;o.setMonth(o.getMonth()+1);var s=this.getNextNDay(o,-1);t=[r.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return e;var a=this._getRangeInfo(t);return a.start.time>a.end.time&&t.reverse(),t},n.prototype._getRangeInfo=function(e){var t=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],i;t[0].time>t[1].time&&(i=!0,t.reverse());var r=Math.floor(t[1].time/vP)-Math.floor(t[0].time/vP)+1,o=new Date(t[0].time),s=o.getDate(),a=t[1].date.getDate();o.setDate(s+r-1);var l=o.getDate();if(l!==a)for(var u=o.getTime()-t[1].time>0?1:-1;(l=o.getDate())!==a&&(o.getTime()-t[1].time)*u>0;)r-=u,o.setDate(l-u);var c=Math.floor((r+t[0].day+6)/7),d=i?-c+1:c-1;return i&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:c,nthWeek:d,fweek:t[0].day,lweek:t[1].day}},n.prototype._getDateByWeeksAndDay=function(e,t,i){var r=this._getRangeInfo(i);if(e>r.weeks||e===0&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var o=(e-1)*7-r.fweek+t,s=new Date(r.start.time);return s.setDate(+r.start.d+o),this.getDateInfo(s)},n.create=function(e,t){var i=[];return e.eachComponent("calendar",function(r){var o=new n(r);i.push(o),r.coordinateSystem=o}),e.eachSeries(function(r){r.get("coordinateSystem")==="calendar"&&(r.coordinateSystem=i[r.get("calendarIndex")||0])}),i},n.dimensions=["time","value"],n}();function QQ(n){var e=n.calendarModel,t=n.seriesModel,i=e?e.coordinateSystem:t?t.coordinateSystem:null;return i}const Ogt=Pgt;function Rgt(n){n.registerComponentModel(Agt),n.registerComponentView(kgt),n.registerCoordinateSystem("calendar",Ogt)}function Bgt(n,e){var t=n.existing;if(e.id=n.keyInfo.id,!e.type&&t&&(e.type=t.type),e.parentId==null){var i=e.parentOption;i?e.parentId=i.id:t&&(e.parentId=t.parentId)}e.parentOption=null}function JQ(n,e){var t;return B(e,function(i){n[i]!=null&&n[i]!=="auto"&&(t=!0)}),t}function Fgt(n,e,t){var i=be({},t),r=n[e],o=t.$action||"merge";o==="merge"?r?(pt(r,i,!0),_h(r,i,{ignoreSize:!0}),nhe(t,r),rx(t,r),rx(t,r,"shape"),rx(t,r,"style"),rx(t,r,"extra"),t.clipPath=r.clipPath):n[e]=i:o==="replace"?n[e]=i:o==="remove"&&r&&(n[e]=null)}var yme=["transition","enterFrom","leaveTo"],$gt=yme.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function rx(n,e,t){if(t&&(!n[t]&&e[t]&&(n[t]={}),n=n[t],e=e[t]),!(!n||!e))for(var i=t?yme:$gt,r=0;r<i.length;r++){var o=i[r];n[o]==null&&e[o]!=null&&(n[o]=e[o])}}function Vgt(n,e){if(n&&(n.hv=e.hv=[JQ(e,["left","right"]),JQ(e,["top","bottom"])],n.type==="group")){var t=n,i=e;t.width==null&&(t.width=i.width=0),t.height==null&&(t.height=i.height=0)}}var Wgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.preventAutoZ=!0,t}return e.prototype.mergeOption=function(t,i){var r=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,t,i),this.option.elements=r},e.prototype.optionUpdated=function(t,i){var r=this.option,o=(i?r:t).elements,s=r.elements=i?[]:r.elements,a=[];this._flatten(o,a,null);var l=Bce(s,a,"normalMerge"),u=this._elOptionsToUpdate=[];B(l,function(c,d){var h=c.newOption;h&&(u.push(h),Bgt(c,h),Fgt(s,d,h),Vgt(s[d],h))},this),r.elements=xn(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(t,i,r){B(t,function(o){if(o){r&&(o.parentOption=r),i.push(o);var s=o.children;s&&s.length&&this._flatten(s,i,o),delete o.children}},this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(qt),eJ={path:null,compoundPath:null,group:st,image:Hr,text:Zt},Gs=Kt(),zgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this._elMap=Ue()},e.prototype.render=function(t,i,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},e.prototype._updateElements=function(t){var i=t.useElOptionsToUpdate();if(i){var r=this._elMap,o=this.group,s=t.get("z"),a=t.get("zlevel");B(i,function(l){var u=Yi(l.id,null),c=u!=null?r.get(u):null,d=Yi(l.parentId,null),h=d!=null?r.get(d):o,f=l.type,g=l.style;f==="text"&&g&&l.hv&&l.hv[1]&&(g.textVerticalAlign=g.textBaseline=g.verticalAlign=g.align=null);var p=l.textContent,m=l.textConfig;if(g&&Zpe(g,f,!!m,!!p)){var v=Qpe(g,f,!0);!m&&v.textConfig&&(m=l.textConfig=v.textConfig),!p&&v.textContent&&(p=v.textContent)}var y=Hgt(l),_=l.$action||"merge",b=_==="merge",S=_==="replace";if(b){var w=!c,C=c;w?C=tJ(u,h,l.type,r):(C&&(Gs(C).isNew=!1),nme(C)),C&&(SL(C,y,t,{isInit:w}),nJ(C,l,s,a))}else if(S){CL(c,l,r,t);var x=tJ(u,h,l.type,r);x&&(SL(x,y,t,{isInit:!0}),nJ(x,l,s,a))}else _==="remove"&&(eme(c,l),CL(c,l,r,t));var L=r.get(u);if(L&&p)if(b){var T=L.getTextContent();T?T.attr(p):L.setTextContent(new Zt(p))}else S&&L.setTextContent(new Zt(p));if(L){var I=l.clipPath;if(I){var D=I.type,M=void 0,w=!1;if(b){var P=L.getClipPath();w=!P||Gs(P).type!==D,M=w?sF(D):P}else S&&(w=!0,M=sF(D));L.setClipPath(M),SL(M,I,t,{isInit:w}),JI(M,I.keyframeAnimation,t)}var k=Gs(L);L.setTextConfig(m),k.option=l,Ugt(L,t,l),Vy({el:L,componentModel:t,itemName:L.name,itemTooltipOption:l.tooltip}),JI(L,l.keyframeAnimation,t)}})}},e.prototype._relocate=function(t,i){for(var r=t.option.elements,o=this.group,s=this._elMap,a=i.getWidth(),l=i.getHeight(),u=["x","y"],c=0;c<r.length;c++){var d=r[c],h=Yi(d.id,null),f=h!=null?s.get(h):null;if(!(!f||!f.isGroup)){var g=f.parent,p=g===o,m=Gs(f),v=Gs(g);m.width=Fe(m.option.width,p?a:v.width)||0,m.height=Fe(m.option.height,p?l:v.height)||0}}for(var c=r.length-1;c>=0;c--){var d=r[c],h=Yi(d.id,null),f=h!=null?s.get(h):null;if(f){var g=f.parent,v=Gs(g),y=g===o?{width:a,height:l}:{width:v.width,height:v.height},_={},b=_M(f,d,y,null,{hv:d.hv,boundingMode:d.bounding},_);if(!Gs(f).isNew&&b){for(var S=d.transition,w={},C=0;C<u.length;C++){var x=u[C],L=_[x];S&&(Ig(S)||Ct(S,x)>=0)?w[x]=L:f[x]=L}rn(f,w,t,0)}else f.attr(_)}}},e.prototype._clear=function(){var t=this,i=this._elMap;i.each(function(r){CL(r,Gs(r).option,i,t._lastGraphicModel)}),this._elMap=Ue()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(vi);function sF(n){var e=ze(eJ,n)?eJ[n]:UW(n),t=new e({});return Gs(t).type=n,t}function tJ(n,e,t,i){var r=sF(t);return e.add(r),i.set(n,r),Gs(r).id=n,Gs(r).isNew=!0,r}function CL(n,e,t,i){var r=n&&n.parent;r&&(n.type==="group"&&n.traverse(function(o){CL(o,e,t,i)}),OM(n,e,i),t.removeKey(Gs(n).id))}function nJ(n,e,t,i){n.isGroup||B([["cursor",fa.prototype.cursor],["zlevel",i||0],["z",t||0],["z2",0]],function(r){var o=r[0];ze(e,o)?n[o]=gt(e[o],r[1]):n[o]==null&&(n[o]=r[1])}),B(Et(e),function(r){if(r.indexOf("on")===0){var o=e[r];n[r]=qe(o)?o:null}}),ze(e,"draggable")&&(n.draggable=e.draggable),e.name!=null&&(n.name=e.name),e.id!=null&&(n.id=e.id)}function Hgt(n){return n=be({},n),B(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(the),function(e){delete n[e]}),n}function Ugt(n,e,t){var i=ut(n).eventData;!n.silent&&!n.ignore&&!i&&(i=ut(n).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:n.name}),i&&(i.info=t.info)}function Ggt(n){n.registerComponentModel(Wgt),n.registerComponentView(zgt),n.registerPreprocessor(function(e){var t=e.graphic;we(t)?!t[0]||!t[0].elements?e.graphic=[{elements:t}]:e.graphic=[e.graphic[0]]:t&&!t.elements&&(e.graphic=[{elements:[t]}])})}var iJ=["x","y","radius","angle","single"],Kgt=["cartesian2d","polar","singleAxis"];function jgt(n){var e=n.get("coordinateSystem");return Ct(Kgt,e)>=0}function zd(n){return n+"Axis"}function qgt(n,e){var t=Ue(),i=[],r=Ue();n.eachComponent({mainType:"dataZoom",query:e},function(c){r.get(c.uid)||a(c)});var o;do o=!1,n.eachComponent("dataZoom",s);while(o);function s(c){!r.get(c.uid)&&l(c)&&(a(c),o=!0)}function a(c){r.set(c.uid,!0),i.push(c),u(c)}function l(c){var d=!1;return c.eachTargetAxis(function(h,f){var g=t.get(h);g&&g[f]&&(d=!0)}),d}function u(c){c.eachTargetAxis(function(d,h){(t.get(d)||t.set(d,[]))[h]=!0})}return i}function _me(n){var e=n.ecModel,t={infoList:[],infoMap:Ue()};return n.eachTargetAxis(function(i,r){var o=e.getComponent(zd(i),r);if(o){var s=o.getCoordSysModel();if(s){var a=s.uid,l=t.infoMap.get(a);l||(l={model:s,axisModels:[]},t.infoList.push(l),t.infoMap.set(a,l)),l.axisModels.push(o)}}}),t}var yP=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},n}(),Ygt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return e.prototype.init=function(t,i,r){var o=rJ(t);this.settledOption=o,this.mergeDefaultAndTheme(t,r),this._doInit(o)},e.prototype.mergeOption=function(t){var i=rJ(t);pt(this.option,t,!0),pt(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(t){var i=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;B([["start","startValue"],["end","endValue"]],function(o,s){this._rangePropMode[s]==="value"&&(i[o[0]]=r[o[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),i=this._targetAxisInfoMap=Ue(),r=this._fillSpecifiedTargetAxis(i);r?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var i=!1;return B(iJ,function(r){var o=this.getReferringComponents(zd(r),hXe);if(o.specified){i=!0;var s=new yP;B(o.models,function(a){s.add(a.componentIndex)}),t.set(r,s)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(t,i){var r=this.ecModel,o=!0;if(o){var s=i==="vertical"?"y":"x",a=r.findComponents({mainType:s+"Axis"});l(a,s)}if(o){var a=r.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===i}});l(a,"single")}function l(u,c){var d=u[0];if(d){var h=new yP;if(h.add(d.componentIndex),t.set(c,h),o=!1,c==="x"||c==="y"){var f=d.getReferringComponents("grid",$i).models[0];f&&B(u,function(g){d.componentIndex!==g.componentIndex&&f===g.getReferringComponents("grid",$i).models[0]&&h.add(g.componentIndex)})}}}o&&B(iJ,function(u){if(o){var c=r.findComponents({mainType:zd(u),filter:function(h){return h.get("type",!0)==="category"}});if(c[0]){var d=new yP;d.add(c[0].componentIndex),t.set(u,d),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(i){!t&&(t=i)},this),t==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var i=this._rangePropMode,r=this.get("rangeMode");B([["start","startValue"],["end","endValue"]],function(o,s){var a=t[o[0]]!=null,l=t[o[1]]!=null;a&&!l?i[s]="percent":!a&&l?i[s]="value":r?i[s]=r[s]:a&&(i[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(i,r){t==null&&(t=this.ecModel.getComponent(zd(i),r))},this),t},e.prototype.eachTargetAxis=function(t,i){this._targetAxisInfoMap.each(function(r,o){B(r.indexList,function(s){t.call(i,o,s)})})},e.prototype.getAxisProxy=function(t,i){var r=this.getAxisModel(t,i);if(r)return r.__dzAxisProxy},e.prototype.getAxisModel=function(t,i){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[i])return this.ecModel.getComponent(zd(t),i)},e.prototype.setRawRange=function(t){var i=this.option,r=this.settledOption;B([["start","startValue"],["end","endValue"]],function(o){(t[o[0]]!=null||t[o[1]]!=null)&&(i[o[0]]=r[o[0]]=t[o[0]],i[o[1]]=r[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var i=this.option;B(["start","startValue","end","endValue"],function(r){i[r]=t[r]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,i){if(t==null&&i==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,i).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var i,r=this._targetAxisInfoMap.keys(),o=0;o<r.length;o++)for(var s=r[o],a=this._targetAxisInfoMap.get(s),l=0;l<a.indexList.length;l++){var u=this.getAxisProxy(s,a.indexList[l]);if(u.hostedBy(this))return u;i||(i=u)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(qt);function rJ(n){var e={};return B(["start","end","startValue","endValue","throttle"],function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}const KS=Ygt;var Xgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(KS);const Zgt=Xgt;var Qgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r,o){this.dataZoomModel=t,this.ecModel=i,this.api=r},e.type="dataZoom",e}(vi);const hH=Qgt;var Jgt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.select",e}(hH);const ept=Jgt;var Tm=B,oJ=sa,tpt=function(){function n(e,t,i,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=i}return n.prototype.hostedBy=function(e){return this._dataZoomModel===e},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(t){if(jgt(t)){var i=zd(this._dimName),r=t.getReferringComponents(i,$i).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}},this),e},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return rt(this._minMaxSpan)},n.prototype.calculateDataWindow=function(e){var t=this._dataExtent,i=this.getAxisModel(),r=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),s=[0,100],a=[],l=[],u;Tm(["start","end"],function(h,f){var g=e[h],p=e[h+"Value"];o[f]==="percent"?(g==null&&(g=s[f]),p=r.parse(yn(g,s,t))):(u=!0,p=p==null?t[f]:r.parse(p),g=yn(p,t,s)),l[f]=p==null||isNaN(p)?t[f]:p,a[f]=g==null||isNaN(g)?s[f]:g}),oJ(l),oJ(a);var c=this._minMaxSpan;u?d(l,a,t,s,!1):d(a,l,s,t,!0);function d(h,f,g,p,m){var v=m?"Span":"ValueSpan";Ap(0,h,g,"all",c["min"+v],c["max"+v]);for(var y=0;y<2;y++)f[y]=yn(h[y],g,p,!0),m&&(f[y]=r.parse(f[y]))}return{valueWindow:l,percentWindow:a}},n.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=npt(this,this._dimName,t),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(e,t){if(e!==this._dataZoomModel)return;var i=this._dimName,r=this.getTargetSeriesModels(),o=e.get("filterMode"),s=this._valueWindow;if(o==="none")return;Tm(r,function(l){var u=l.getData(),c=u.mapDimensionsAll(i);if(c.length){if(o==="weakFilter"){var d=u.getStore(),h=Te(c,function(f){return u.getDimensionIndex(f)},u);u.filterSelf(function(f){for(var g,p,m,v=0;v<c.length;v++){var y=d.get(h[v],f),_=!isNaN(y),b=y<s[0],S=y>s[1];if(_&&!b&&!S)return!0;_&&(m=!0),b&&(g=!0),S&&(p=!0)}return m&&g&&p})}else Tm(c,function(f){if(o==="empty")l.setData(u=u.map(f,function(p){return a(p)?p:NaN}));else{var g={};g[f]=s,u.selectRange(g)}});Tm(c,function(f){u.setApproximateExtent(s,f)})}});function a(l){return l>=s[0]&&l<=s[1]}},n.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,i=this._dataExtent;Tm(["min","max"],function(r){var o=t.get(r+"Span"),s=t.get(r+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?o=yn(i[0]+s,i,[0,100],!0):o!=null&&(s=yn(o,[0,100],i,!0)-i[0]),e[r+"Span"]=o,e[r+"ValueSpan"]=s},this)},n.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,i=this._valueWindow;if(t){var r=Ece(i,[0,500]);r=Math.min(r,20);var o=e.axis.scale.rawExtentInfo;t[0]!==0&&o.setDeterminedMinMax("min",+i[0].toFixed(r)),t[1]!==100&&o.setDeterminedMinMax("max",+i[1].toFixed(r)),o.freeze()}},n}();function npt(n,e,t){var i=[1/0,-1/0];Tm(t,function(s){Tnt(i,s.getData(),e)});var r=n.getAxisModel(),o=Rfe(r.axis.scale,r,i).calculate();return[o.min,o.max]}const ipt=tpt;var rpt={getTargetSeries:function(n){function e(r){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(s,a){var l=n.getComponent(zd(s),a);r(s,a,l,o)})})}e(function(r,o,s,a){s.__dzAxisProxy=null});var t=[];e(function(r,o,s,a){s.__dzAxisProxy||(s.__dzAxisProxy=new ipt(r,o,a,n),t.push(s.__dzAxisProxy))});var i=Ue();return B(t,function(r){B(r.getTargetSeriesModels(),function(o){i.set(o.uid,o)})}),i},overallReset:function(n,e){n.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).reset(t)}),t.eachTargetAxis(function(i,r){t.getAxisProxy(i,r).filterData(t,e)})}),n.eachComponent("dataZoom",function(t){var i=t.findRepresentativeAxisProxy();if(i){var r=i.getDataPercentWindow(),o=i.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:o[0],endValue:o[1]})}})}};const opt=rpt;function spt(n){n.registerAction("dataZoom",function(e,t){var i=qgt(t,e);B(i,function(r){r.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var sJ=!1;function fH(n){sJ||(sJ=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,opt),spt(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function apt(n){n.registerComponentModel(Zgt),n.registerComponentView(ept),fH(n)}var qs=function(){function n(){}return n}(),bme={};function Im(n,e){bme[n]=e}function Sme(n){return bme[n]}var lpt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;B(this.option.feature,function(i,r){var o=Sme(r);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(t)),pt(i,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(qt);const upt=lpt;function cpt(n,e,t){var i=e.getBoxLayoutParams(),r=e.get("padding"),o={width:t.getWidth(),height:t.getHeight()},s=tr(i,o,r);xg(e.get("orient"),n,e.get("itemGap"),s.width,s.height),_M(n,i,o,r)}function wme(n,e){var t=Hy(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),n=new Gt({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),n}var dpt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,o){var s=this.group;if(s.removeAll(),!t.get("show"))return;var a=+t.get("itemSize"),l=t.get("orient")==="vertical",u=t.get("feature")||{},c=this._features||(this._features={}),d=[];B(u,function(g,p){d.push(p)}),new Pc(this._featureNames||[],d).add(h).update(h).remove(dt(h,null)).execute(),this._featureNames=d;function h(g,p){var m=d[g],v=d[p],y=u[m],_=new Hn(y,t,t.ecModel),b;if(o&&o.newTitle!=null&&o.featureName===m&&(y.title=o.newTitle),m&&!v){if(hpt(m))b={onclick:_.option.onclick,featureName:m};else{var S=Sme(m);if(!S)return;b=new S}c[m]=b}else if(b=c[v],!b)return;b.uid=zy("toolbox-feature"),b.model=_,b.ecModel=i,b.api=r;var w=b instanceof qs;if(!m&&v){w&&b.dispose&&b.dispose(i,r);return}if(!_.get("show")||w&&b.unusable){w&&b.remove&&b.remove(i,r);return}f(_,b,m),_.setIconStatus=function(C,x){var L=this.option,T=this.iconPaths;L.iconStatus=L.iconStatus||{},L.iconStatus[C]=x,T[C]&&(x==="emphasis"?Nc:kc)(T[C])},b instanceof qs&&b.render&&b.render(_,i,r,o)}function f(g,p,m){var v=g.getModel("iconStyle"),y=g.getModel(["emphasis","iconStyle"]),_=p instanceof qs&&p.getIcons?p.getIcons():g.get("icon"),b=g.get("title")||{},S,w;$e(_)?(S={},S[m]=_):S=_,$e(b)?(w={},w[m]=b):w=b;var C=g.iconPaths={};B(S,function(x,L){var T=Nw(x,{},{x:-a/2,y:-a/2,width:a,height:a});T.setStyle(v.getItemStyle());var I=T.ensureState("emphasis");I.style=y.getItemStyle();var D=new Zt({style:{text:w[L],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null},ignore:!0});T.setTextContent(D),Vy({el:T,componentModel:t,itemName:L,formatterParamsExtra:{title:w[L]}}),T.__title=w[L],T.on("mouseover",function(){var M=y.getItemStyle(),P=l?t.get("right")==null&&t.get("left")!=="right"?"right":"left":t.get("bottom")==null&&t.get("top")!=="bottom"?"bottom":"top";D.setStyle({fill:y.get("textFill")||M.fill||M.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),T.setTextConfig({position:y.get("textPosition")||P}),D.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){g.get(["iconStatus",L])!=="emphasis"&&r.leaveEmphasis(this),D.hide()}),(g.get(["iconStatus",L])==="emphasis"?Nc:kc)(T),s.add(T),T.on("click",We(p.onclick,p,i,r,L)),C[L]=T})}cpt(s,t,r),s.add(wme(s.getBoundingRect(),t)),l||s.eachChild(function(g){var p=g.__title,m=g.ensureState("emphasis"),v=m.textConfig||(m.textConfig={}),y=g.getTextContent(),_=y&&y.ensureState("emphasis");if(_&&!qe(_)&&p){var b=_.style||(_.style={}),S=Iw(p,Zt.makeFont(b)),w=g.x+s.x,C=g.y+s.y+a,x=!1;C+S.height>r.getHeight()&&(v.position="top",x=!0);var L=x?-5-S.height:a+10;w+S.width/2>r.getWidth()?(v.position=["100%",L],b.align="right"):w-S.width/2<0&&(v.position=[0,L],b.align="left")}})},e.prototype.updateView=function(t,i,r,o){B(this._features,function(s){s instanceof qs&&s.updateView&&s.updateView(s.model,i,r,o)})},e.prototype.remove=function(t,i){B(this._features,function(r){r instanceof qs&&r.remove&&r.remove(t,i)}),this.group.removeAll()},e.prototype.dispose=function(t,i){B(this._features,function(r){r instanceof qs&&r.dispose&&r.dispose(t,i)})},e.type="toolbox",e}(vi);function hpt(n){return n.indexOf("my")===0}const fpt=dpt;var gpt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){var r=this.model,o=r.get("name")||t.get("title.0.text")||"echarts",s=i.getZr().painter.getType()==="svg",a=s?"svg":r.get("type",!0)||"png",l=i.getConnectedDataURL({type:a,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),u=Yt.browser;if(qe(MouseEvent)&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=o+"."+a,c.target="_blank",c.href=l;var d=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||s){var h=l.split(","),f=h[0].indexOf("base64")>-1,g=s?decodeURIComponent(h[1]):h[1];f&&(g=window.atob(g));var p=o+"."+a;if(window.navigator.msSaveOrOpenBlob){for(var m=g.length,v=new Uint8Array(m);m--;)v[m]=g.charCodeAt(m);var y=new Blob([v]);window.navigator.msSaveOrOpenBlob(y,p)}else{var _=document.createElement("iframe");document.body.appendChild(_);var b=_.contentWindow,S=b.document;S.open("image/svg+xml","replace"),S.write(g),S.close(),b.focus(),S.execCommand("SaveAs",!0,p),document.body.removeChild(_)}}else{var w=r.get("lang"),C='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(w&&w[0]||"")+'" /></body>',x=window.open();x.document.write(C),x.document.title=o}},e.getDefaultOption=function(t){var i={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return i},e}(qs);const ppt=gpt;var aJ="__ec_magicType_stack__",mpt=[["line","bar"],["stack"]],vpt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getIcons=function(){var t=this.model,i=t.get("icon"),r={};return B(t.get("type"),function(o){i[o]&&(r[o]=i[o])}),r},e.getDefaultOption=function(t){var i={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return i},e.prototype.onclick=function(t,i,r){var o=this.model,s=o.get(["seriesIndex",r]);if(lJ[r]){var a={series:[]},l=function(d){var h=d.subType,f=d.id,g=lJ[r](h,f,d,o);g&&(Qe(g,d.option),a.series.push(g));var p=d.coordinateSystem;if(p&&p.type==="cartesian2d"&&(r==="line"||r==="bar")){var m=p.getAxesByScale("ordinal")[0];if(m){var v=m.dim,y=v+"Axis",_=d.getReferringComponents(y,$i).models[0],b=_.componentIndex;a[y]=a[y]||[];for(var S=0;S<=b;S++)a[y][b]=a[y][b]||{};a[y][b].boundaryGap=r==="bar"}}};B(mpt,function(d){Ct(d,r)>=0&&B(d,function(h){o.setIconStatus(h,"normal")})}),o.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=r;r==="stack"&&(u=pt({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),o.get(["iconStatus",r])!=="emphasis"&&(c="tiled")),i.dispatchAction({type:"changeMagicType",currentType:c,newOption:a,newTitle:u,featureName:"magicType"})}},e}(qs),lJ={line:function(n,e,t,i){if(n==="bar")return pt({id:e,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(n,e,t,i){if(n==="line")return pt({id:e,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(n,e,t,i){var r=t.get("stack")===aJ;if(n==="line"||n==="bar")return i.setIconStatus("stack",r?"normal":"emphasis"),pt({id:e,stack:r?"":aJ},i.get(["option","stack"])||{},!0)}};Lu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,e){e.mergeOption(n.newOption)});const ypt=vpt;var RM=new Array(60).join("-"),fy="	";function _pt(n){var e={},t=[],i=[];return n.eachRawSeries(function(r){var o=r.coordinateSystem;if(o&&(o.type==="cartesian2d"||o.type==="polar")){var s=o.getBaseAxis();if(s.type==="category"){var a=s.dim+"_"+s.index;e[a]||(e[a]={categoryAxis:s,valueAxis:o.getOtherAxis(s),series:[]},i.push({axisDim:s.dim,axisIndex:s.index})),e[a].series.push(r)}else t.push(r)}else t.push(r)}),{seriesGroupByCategoryAxis:e,other:t,meta:i}}function bpt(n){var e=[];return B(n,function(t,i){var r=t.categoryAxis,o=t.valueAxis,s=o.dim,a=[" "].concat(Te(t.series,function(f){return f.name})),l=[r.model.getCategories()];B(t.series,function(f){var g=f.getRawData();l.push(f.getRawData().mapArray(g.mapDimension(s),function(p){return p}))});for(var u=[a.join(fy)],c=0;c<l[0].length;c++){for(var d=[],h=0;h<l.length;h++)d.push(l[h][c]);u.push(d.join(fy))}e.push(u.join(`
`))}),e.join(`

`+RM+`

`)}function Spt(n){return Te(n,function(e){var t=e.getRawData(),i=[e.name],r=[];return t.each(t.dimensions,function(){for(var o=arguments.length,s=arguments[o-1],a=t.getName(s),l=0;l<o-1;l++)r[l]=arguments[l];i.push((a?a+fy:"")+r.join(fy))}),i.join(`
`)}).join(`

`+RM+`

`)}function wpt(n){var e=_pt(n);return{value:xn([bpt(e.seriesGroupByCategoryAxis),Spt(e.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join(`

`+RM+`

`),meta:e.meta}}function nD(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cpt(n){var e=n.slice(0,n.indexOf(`
`));if(e.indexOf(fy)>=0)return!0}var aF=new RegExp("["+fy+"]+","g");function xpt(n){for(var e=n.split(/\n+/g),t=nD(e.shift()).split(aF),i=[],r=Te(t,function(l){return{name:l,data:[]}}),o=0;o<e.length;o++){var s=nD(e[o]).split(aF);i.push(s.shift());for(var a=0;a<s.length;a++)r[a]&&(r[a].data[o]=s[a])}return{series:r,categories:i}}function Lpt(n){for(var e=n.split(/\n+/g),t=nD(e.shift()),i=[],r=0;r<e.length;r++){var o=nD(e[r]);if(o){var s=o.split(aF),a="",l=void 0,u=!1;isNaN(s[0])?(u=!0,a=s[0],s=s.slice(1),i[r]={name:a,value:[]},l=i[r].value):l=i[r]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?i[r].value=l[0]:i[r]=l[0])}}return{name:t,data:i}}function Tpt(n,e){var t=n.split(new RegExp(`
*`+RM+`
*`,"g")),i={series:[]};return B(t,function(r,o){if(Cpt(r)){var s=xpt(r),a=e[o],l=a.axisDim+"Axis";a&&(i[l]=i[l]||[],i[l][a.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else{var s=Lpt(r);i.series.push(s)}}),i}var Ipt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var r=i.getDom(),o=this.model;this._dom&&r.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=o.get("backgroundColor")||"#fff";var a=document.createElement("h4"),l=o.get("lang")||[];a.innerHTML=l[0]||o.get("title"),a.style.cssText="margin:10px 20px",a.style.color=o.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var d=o.get("optionToContent"),h=o.get("contentToOption"),f=wpt(t);if(qe(d)){var g=d(i.getOption());$e(g)?u.innerHTML=g:bS(g)&&u.appendChild(g)}else{c.readOnly=o.get("readOnly");var p=c.style;p.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",p.color=o.get("textColor"),p.borderColor=o.get("textareaBorderColor"),p.backgroundColor=o.get("textareaColor"),c.value=f.value,u.appendChild(c)}var m=f.meta,v=document.createElement("div");v.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),b=document.createElement("div");y+=";background-color:"+o.get("buttonColor"),y+=";color:"+o.get("buttonTextColor");var S=this;function w(){r.removeChild(s),S._dom=null}z5(_,"click",w),z5(b,"click",function(){if(h==null&&d!=null||h!=null&&d==null){w();return}var C;try{qe(h)?C=h(u,i.getOption()):C=Tpt(c.value,m)}catch(x){throw w(),new Error("Data view format error "+x)}C&&i.dispatchAction({type:"changeDataView",newOption:C}),w()}),_.innerHTML=l[1],b.innerHTML=l[2],b.style.cssText=_.style.cssText=y,!o.get("readOnly")&&v.appendChild(b),v.appendChild(_),s.appendChild(a),s.appendChild(u),s.appendChild(v),u.style.height=r.clientHeight-80+"px",r.appendChild(s),this._dom=s},e.prototype.remove=function(t,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,i){this.remove(t,i)},e.getDefaultOption=function(t){var i={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return i},e}(qs);function Dpt(n,e){return Te(n,function(t,i){var r=e&&e[i];if(et(r)&&!we(r)){var o=et(t)&&!we(t);o||(t={value:t});var s=r.name!=null&&t.name==null;return t=Qe(t,r),s&&delete t.name,t}else return t})}Lu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,e){var t=[];B(n.newOption.series,function(i){var r=e.getSeriesByName(i.name)[0];if(!r)t.push(be({type:"scatter"},i));else{var o=r.get("data");t.push({name:i.name,data:Dpt(i.data,o)})}}),e.mergeOption(Qe({series:t},n.newOption))});const Ept=Ipt;var Cme=B,xme=Kt();function Mpt(n,e){var t=gH(n);Cme(e,function(i,r){for(var o=t.length-1;o>=0;o--){var s=t[o];if(s[r])break}if(o<0){var a=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var l=a.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(e)}function Apt(n){var e=gH(n),t=e[e.length-1];e.length>1&&e.pop();var i={};return Cme(t,function(r,o){for(var s=e.length-1;s>=0;s--)if(r=e[s][o],r){i[o]=r;break}}),i}function Npt(n){xme(n).snapshots=null}function kpt(n){return gH(n).length}function gH(n){var e=xme(n);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Ppt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.onclick=function(t,i){Npt(t),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var i={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])};return i},e}(qs);Lu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,e){e.resetOption("recreate")});const Opt=Ppt;var Rpt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Bpt=function(){function n(e,t,i){var r=this;this._targetInfoList=[];var o=uJ(t,e);B(Fpt,function(s,a){(!i||!i.include||Ct(i.include,a)>=0)&&s(o,r._targetInfoList)})}return n.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,function(i,r,o){if((i.coordRanges||(i.coordRanges=[])).push(r),!i.coordRange){i.coordRange=r;var s=_P[i.brushType](0,o,r);i.__rangeOffset={offset:fJ[i.brushType](s.values,i.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},n.prototype.matchOutputRanges=function(e,t,i){B(e,function(r){var o=this.findTargetInfo(r,t);o&&o!==!0&&B(o.coordSyses,function(s){var a=_P[r.brushType](1,s,r.range,!0);i(r,a.values,s,t)})},this)},n.prototype.setInputRanges=function(e,t){B(e,function(i){var r=this.findTargetInfo(i,t);if(i.range=i.range||[],r&&r!==!0){i.panelId=r.panelId;var o=_P[i.brushType](0,r.coordSys,i.coordRange),s=i.__rangeOffset;i.range=s?fJ[i.brushType](o.values,s.offset,$pt(o.xyMinMax,s.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(e,t){return Te(this._targetInfoList,function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t?t(i):null,clipPath:Ape(r),isTargetByCursor:kpe(r,e,i.coordSysModel),getLinearBrushOtherExtent:Npe(r)}})},n.prototype.controlSeries=function(e,t,i){var r=this.findTargetInfo(e,i);return r===!0||r&&Ct(r.coordSyses,t.coordinateSystem)>=0},n.prototype.findTargetInfo=function(e,t){for(var i=this._targetInfoList,r=uJ(t,e),o=0;o<i.length;o++){var s=i[o],a=e.panelId;if(a){if(s.panelId===a)return s}else for(var l=0;l<cJ.length;l++)if(cJ[l](r,s))return s}return!0},n}();function lF(n){return n[0]>n[1]&&n.reverse(),n}function uJ(n,e){return db(n,e,{includeMainTypes:Rpt})}var Fpt={grid:function(n,e){var t=n.xAxisModels,i=n.yAxisModels,r=n.gridModels,o=Ue(),s={},a={};!t&&!i&&!r||(B(t,function(l){var u=l.axis.grid.model;o.set(u.id,u),s[u.id]=!0}),B(i,function(l){var u=l.axis.grid.model;o.set(u.id,u),a[u.id]=!0}),B(r,function(l){o.set(l.id,l),s[l.id]=!0,a[l.id]=!0}),o.each(function(l){var u=l.coordinateSystem,c=[];B(u.getCartesians(),function(d,h){(Ct(t,d.getAxis("x").model)>=0||Ct(i,d.getAxis("y").model)>=0)&&c.push(d)}),e.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:dJ.grid,xAxisDeclared:s[l.id],yAxisDeclared:a[l.id]})}))},geo:function(n,e){B(n.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:dJ.geo})})}},cJ=[function(n,e){var t=n.xAxisModel,i=n.yAxisModel,r=n.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&i&&(r=i.axis.grid.model),r&&r===e.gridModel},function(n,e){var t=n.geoModel;return t&&t===e.geoModel}],dJ={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,e=n.getBoundingRect().clone();return e.applyTransform(Cg(n)),e}},_P={lineX:dt(hJ,0),lineY:dt(hJ,1),rect:function(n,e,t,i){var r=n?e.pointToData([t[0][0],t[1][0]],i):e.dataToPoint([t[0][0],t[1][0]],i),o=n?e.pointToData([t[0][1],t[1][1]],i):e.dataToPoint([t[0][1],t[1][1]],i),s=[lF([r[0],o[0]]),lF([r[1],o[1]])];return{values:s,xyMinMax:s}},polygon:function(n,e,t,i){var r=[[1/0,-1/0],[1/0,-1/0]],o=Te(t,function(s){var a=n?e.pointToData(s,i):e.dataToPoint(s,i);return r[0][0]=Math.min(r[0][0],a[0]),r[1][0]=Math.min(r[1][0],a[1]),r[0][1]=Math.max(r[0][1],a[0]),r[1][1]=Math.max(r[1][1],a[1]),a});return{values:o,xyMinMax:r}}};function hJ(n,e,t,i){var r=t.getAxis(["x","y"][n]),o=lF(Te([0,1],function(a){return e?r.coordToData(r.toLocalCoord(i[a]),!0):r.toGlobalCoord(r.dataToCoord(i[a]))})),s=[];return s[n]=o,s[1-n]=[NaN,NaN],{values:o,xyMinMax:s}}var fJ={lineX:dt(gJ,0),lineY:dt(gJ,1),rect:function(n,e,t){return[[n[0][0]-t[0]*e[0][0],n[0][1]-t[0]*e[0][1]],[n[1][0]-t[1]*e[1][0],n[1][1]-t[1]*e[1][1]]]},polygon:function(n,e,t){return Te(n,function(i,r){return[i[0]-t[0]*e[r][0],i[1]-t[1]*e[r][1]]})}};function gJ(n,e,t,i){return[e[0]-i[n]*t[0],e[1]-i[n]*t[1]]}function $pt(n,e){var t=pJ(n),i=pJ(e),r=[t[0]/i[0],t[1]/i[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}function pJ(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const pH=Bpt;var uF=B,Vpt=aXe("toolbox-dataZoom_"),Wpt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r,o){this._brushController||(this._brushController=new Yz(r.getZr()),this._brushController.on("brush",We(this._onBrush,this)).mount()),Upt(t,i,this,o,r),Hpt(t,i)},e.prototype.onclick=function(t,i,r){zpt[r].call(this)},e.prototype.remove=function(t,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var i=t.areas;if(!t.isEnd||!i.length)return;var r={},o=this.ecModel;this._brushController.updateCovers([]);var s=new pH(mH(this.model),o,{include:["grid"]});s.matchOutputRanges(i,o,function(u,c,d){if(d.type==="cartesian2d"){var h=u.brushType;h==="rect"?(a("x",d,c[0]),a("y",d,c[1])):a({lineX:"x",lineY:"y"}[h],d,c)}}),Mpt(o,r),this._dispatchZoomAction(r);function a(u,c,d){var h=c.getAxis(u),f=h.model,g=l(u,f,o),p=g.findRepresentativeAxisProxy(f).getMinMaxSpan();(p.minValueSpan!=null||p.maxValueSpan!=null)&&(d=Ap(0,d.slice(),h.scale.getExtent(),0,p.minValueSpan,p.maxValueSpan)),g&&(r[g.id]={dataZoomId:g.id,startValue:d[0],endValue:d[1]})}function l(u,c,d){var h;return d.eachComponent({mainType:"dataZoom",subType:"select"},function(f){var g=f.getAxisModel(u,c.componentIndex);g&&(h=f)}),h}},e.prototype._dispatchZoomAction=function(t){var i=[];uF(t,function(r,o){i.push(rt(r))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(t){var i={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return i},e}(qs),zpt={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(Apt(this.ecModel))}};function mH(n){var e={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function Hpt(n,e){n.setIconStatus("back",kpt(e)>1?"emphasis":"normal")}function Upt(n,e,t,i,r){var o=t._isZoomActive;i&&i.type==="takeGlobalCursor"&&(o=i.key==="dataZoomSelect"?i.dataZoomSelectActive:!1),t._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var s=new pH(mH(n),e,{include:["grid"]}),a=s.makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(a).enableBrush(o&&a.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}zQe("dataZoom",function(n){var e=n.getComponent("toolbox",0),t=["feature","dataZoom"];if(!e||e.get(t)==null)return;var i=e.getModel(t),r=[],o=mH(i),s=db(n,o);uF(s.xAxisModels,function(l){return a(l,"xAxis","xAxisIndex")}),uF(s.yAxisModels,function(l){return a(l,"yAxis","yAxisIndex")});function a(l,u,c){var d=l.componentIndex,h={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:Vpt+u+d};h[c]=d,r.push(h)}return r});const Gpt=Wpt;function Kpt(n){n.registerComponentModel(upt),n.registerComponentView(fpt),Im("saveAsImage",ppt),Im("magicType",ypt),Im("dataView",Ept),Im("dataZoom",Gpt),Im("restore",Opt),Lt(apt)}var jpt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(qt);const qpt=jpt;function Lme(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function Tme(n){if(Yt.domSupported){for(var e=document.documentElement.style,t=0,i=n.length;t<i;t++)if(n[t]in e)return n[t]}}var Ime=Tme(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ypt=Tme(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Dme(n,e){if(!n)return e;e=Jde(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function Xpt(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var Zpt=Dme(Ypt,"transition"),vH=Dme(Ime,"transform"),Qpt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Yt.transform3dSupported?"will-change:transform;":"");function Jpt(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function emt(n,e,t){if(!$e(t)||t==="inside")return"";var i=n.get("backgroundColor"),r=n.get("borderWidth");e=tp(e);var o=Jpt(t),s=Math.max(Math.round(r)*1.5,6),a="",l=vH+":",u;Ct(["left","right"],o)>-1?(a+="top:50%",l+="translateY(-50%) rotate("+(u=o==="left"?-225:-45)+"deg)"):(a+="left:50%",l+="translateX(-50%) rotate("+(u=o==="top"?225:45)+"deg)");var c=u*Math.PI/180,d=s+r,h=d*Math.abs(Math.cos(c))+d*Math.abs(Math.sin(c)),f=Math.round(((h-Math.SQRT2*r)/2+Math.SQRT2*r-(h-d)/2)*100)/100;a+=";"+o+":-"+f+"px";var g=e+" solid "+r+"px;",p=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",a+";"+l+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"];return'<div style="'+p.join("")+'"></div>'}function tmt(n,e){var t="cubic-bezier(0.23,1,0.32,1)",i=" "+n/2+"s "+t,r="opacity"+i+",visibility"+i;return e||(i=" "+n+"s "+t,r+=Yt.transformSupported?","+vH+i:",left"+i+",top"+i),Zpt+":"+r}function mJ(n,e,t){var i=n.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!Yt.transformSupported)return t?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=Yt.transform3dSupported,s="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return t?"top:0;left:0;"+vH+":"+s+";":[["top",0],["left",0],[Ime,s]]}function nmt(n){var e=[],t=n.get("fontSize"),i=n.getTextColor();i&&e.push("color:"+i),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var r=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,a=n.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+s+"px "+a+"px "+o+"px "+r),B(["decoration","align"],function(l){var u=n.get(l);u&&e.push("text-"+l+":"+u)}),e.join(";")}function imt(n,e,t){var i=[],r=n.get("transitionDuration"),o=n.get("backgroundColor"),s=n.get("shadowBlur"),a=n.get("shadowColor"),l=n.get("shadowOffsetX"),u=n.get("shadowOffsetY"),c=n.getModel("textStyle"),d=Ohe(n,"html"),h=l+"px "+u+"px "+s+"px "+a;return i.push("box-shadow:"+h),e&&r&&i.push(tmt(r,t)),o&&i.push("background-color:"+o),B(["width","color","radius"],function(f){var g="border-"+f,p=Jde(g),m=n.get(p);m!=null&&i.push(g+":"+m+(f==="color"?"":"px"))}),i.push(nmt(c)),d!=null&&i.push("padding:"+Hy(d).join("px ")+"px"),i.join(";")+";"}function vJ(n,e,t,i,r){var o=e&&e.painter;if(t){var s=o&&o.getViewportRoot();s&&Nqe(n,s,document.body,i,r)}else{n[0]=i,n[1]=r;var a=o&&o.getViewportRootOffset();a&&(n[0]+=a.offsetLeft,n[1]+=a.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var rmt=function(){function n(e,t,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Yt.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var o=this._zr=t.getZr(),s=this._appendToBody=i&&i.appendToBody;vJ(this._styleCoord,o,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(r):e.appendChild(r),this._container=e;var a=this;r.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!a._enterable){var u=o.handler,c=o.painter.getViewportRoot();zs(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return n.prototype.update=function(e){var t=this._container,i=Xpt(t,"position"),r=t.style;r.position!=="absolute"&&i!=="absolute"&&(r.position="relative");var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,r=i.style,o=this._styleCoord;i.innerHTML?r.cssText=Qpt+imt(e,!this._firstShow,this._longHide)+mJ(o[0],o[1],!0)+("border-color:"+tp(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,i,r,o){var s=this.el;if(e==null){s.innerHTML="";return}var a="";if($e(o)&&i.get("trigger")==="item"&&!Lme(i)&&(a=emt(i,r,o)),$e(e))s.innerHTML=e+a;else if(e){s.innerHTML="",we(e)||(e=[e]);for(var l=0;l<e.length;l++)bS(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(a&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=a,s.appendChild(u)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var i=this._styleCoord;if(vJ(i,this._zr,this._appendToBody,e,t),i[0]!=null&&i[1]!=null){var r=this.el.style,o=mJ(i[0],i[1]);B(o,function(s){r[s[0]]=s[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Yt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(We(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const omt=rmt;var smt=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),_J(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,i,r,o){var s=this;et(e)&&ln(""),this.el&&this._zr.remove(this.el);var a=i.getModel("textStyle");this.el=new Zt({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:a.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Ohe(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),B(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=i.get(u)}),B(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=a.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),i=yJ(e.style);return[t.width+i.left+i.right,t.height+i.top+i.bottom]},n.prototype.moveTo=function(e,t){var i=this.el;if(i){var r=this._styleCoord;_J(r,this._zr,e,t),e=r[0],t=r[1];var o=i.style,s=yd(o.borderWidth||0),a=yJ(o);i.x=e+s+a.left,i.y=t+s+a.top,i.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(We(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function yd(n){return Math.max(0,n)}function yJ(n){var e=yd(n.shadowBlur||0),t=yd(n.shadowOffsetX||0),i=yd(n.shadowOffsetY||0);return{left:yd(e-t),right:yd(e+t),top:yd(e-i),bottom:yd(e+i)}}function _J(n,e,t,i){n[0]=t,n[1]=i,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const amt=smt;var lmt=new Gt({shape:{x:-1,y:-1,width:2,height:2}}),umt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){if(!(Yt.node||!i.getDom())){var r=t.getComponent("tooltip"),o=this._renderMode=gXe(r.get("renderMode"));this._tooltipContent=o==="richText"?new amt(i):new omt(i.getDom(),i,{appendToBody:r.get("appendToBody",!0)})}},e.prototype.render=function(t,i,r){if(!(Yt.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=i,this._api=r;var o=this._tooltipContent;o.update(t),o.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?qy(this,"_updatePosition",50,"fixRate"):PS(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,i=t.get("triggerOn");dme("itemTooltip",this._api,We(function(r,o,s){i!=="none"&&(i.indexOf(r)>=0?this._tryShow(o,s):r==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,i=this._ecModel,r=this._api,o=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&s.manuallyShowTip(t,i,r,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,i,r,o){if(!(o.from===this.uid||Yt.node||!r.getDom())){var s=bJ(o,r);this._ticket="";var a=o.dataByCoordSys,l=fmt(o,i,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:o.position,positionDefault:"bottom"},s)}else if(o.tooltip&&o.x!=null&&o.y!=null){var c=lmt;c.x=o.x,c.y=o.y,c.update(),ut(c).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:c},s)}else if(a)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:a,tooltipOption:o.tooltipOption},s);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(t,i,r,o))return;var d=hme(o,i),h=d.point[0],f=d.point[1];h!=null&&f!=null&&this._tryShow({offsetX:h,offsetY:f,target:d.el,position:o.position,positionDefault:"bottom"},s)}else o.x!=null&&o.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:r.getZr().findHover(o.x,o.y).target},s))}},e.prototype.manuallyHideTip=function(t,i,r,o){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(bJ(o,r))},e.prototype._manuallyAxisShowTip=function(t,i,r,o){var s=o.seriesIndex,a=o.dataIndex,l=i.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||a==null||l==null)){var u=i.getSeriesByIndex(s);if(u){var c=u.getData(),d=K0([c.getItemModel(a),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:a,position:o.position}),!0}}},e.prototype._tryShow=function(t,i){var r=t.target,o=this._tooltipModel;if(o){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(r){this._lastDataByCoordSys=null;var a,l;tg(r,function(u){if(ut(u).dataIndex!=null)return a=u,!0;if(ut(u).tooltipConfig!=null)return l=u,!0},!0),a?this._showSeriesItemTooltip(t,a,i):l?this._showComponentItemTooltip(t,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(t,i){var r=t.get("showDelay");i=We(i,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(i,r):i()},e.prototype._showAxisTooltip=function(t,i){var r=this._ecModel,o=this._tooltipModel,s=[i.offsetX,i.offsetY],a=K0([i.tooltipOption],o),l=this._renderMode,u=[],c=_r("section",{blocks:[],noHeader:!0}),d=[],h=new rk;B(t,function(y){B(y.dataByAxis,function(_){var b=r.getComponent(_.axisDim+"Axis",_.axisIndex),S=_.value;if(!(!b||S==null)){var w=lme(S,b.axis,r,_.seriesDataIndices,_.valueLabelOpt),C=_r("section",{header:w,noHeader:!ja(w),sortBlocks:!0,blocks:[]});c.blocks.push(C),B(_.seriesDataIndices,function(x){var L=r.getSeriesByIndex(x.seriesIndex),T=x.dataIndexInside,I=L.getDataParams(T);if(!(I.dataIndex<0)){I.axisDim=_.axisDim,I.axisIndex=_.axisIndex,I.axisType=_.axisType,I.axisId=_.axisId,I.axisValue=_z(b.axis,{value:S}),I.axisValueLabel=w,I.marker=h.makeTooltipMarker("item",tp(I.color),l);var D=rY(L.formatTooltip(T,!0,null)),M=D.frag;if(M){var P=K0([L],o).get("valueFormatter");C.blocks.push(P?be({valueFormatter:P},M):M)}D.text&&d.push(D.text),u.push(I)}})}})}),c.blocks.reverse(),d.reverse();var f=i.position,g=a.get("order"),p=cY(c,h,l,g,r.get("useUTC"),a.get("textStyle"));p&&d.unshift(p);var m=l==="richText"?`

`:"<br/>",v=d.join(m);this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(t,u)?this._updatePosition(a,f,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(a,v,u,Math.random()+"",s[0],s[1],f,null,h)})},e.prototype._showSeriesItemTooltip=function(t,i,r){var o=this._ecModel,s=ut(i),a=s.seriesIndex,l=o.getSeriesByIndex(a),u=s.dataModel||l,c=s.dataIndex,d=s.dataType,h=u.getData(d),f=this._renderMode,g=t.positionDefault,p=K0([h.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),m=p.get("trigger");if(!(m!=null&&m!=="item")){var v=u.getDataParams(c,d),y=new rk;v.marker=y.makeTooltipMarker("item",tp(v.color),f);var _=rY(u.formatTooltip(c,!1,d)),b=p.get("order"),S=p.get("valueFormatter"),w=_.frag,C=w?cY(S?be({valueFormatter:S},w):w,y,f,b,o.get("useUTC"),p.get("textStyle")):_.text,x="item_"+u.name+"_"+c;this._showOrMove(p,function(){this._showTooltipContent(p,C,v,x,t.offsetX,t.offsetY,t.position,t.target,y)}),r({type:"showTip",dataIndexInside:c,dataIndex:h.getRawIndex(c),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,i,r){var o=ut(i),s=o.tooltipConfig,a=s.option||{};if($e(a)){var l=a;a={content:l,formatter:l}}var u=[a],c=this._ecModel.getComponent(o.componentMainType,o.componentIndex);c&&u.push(c),u.push({formatter:a.content});var d=t.positionDefault,h=K0(u,this._tooltipModel,d?{position:d}:null),f=h.get("content"),g=Math.random()+"",p=new rk;this._showOrMove(h,function(){var m=rt(h.get("formatterParams")||{});this._showTooltipContent(h,f,m,g,t.offsetX,t.offsetY,t.position,i,p)}),r({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,i,r,o,s,a,l,u,c){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var h=t.get("formatter");l=l||t.get("position");var f=i,g=this._getNearestPoint([s,a],r,t.get("trigger"),t.get("borderColor")),p=g.color;if(h)if($e(h)){var m=t.ecModel.get("useUTC"),v=we(r)?r[0]:r,y=v&&v.axisType&&v.axisType.indexOf("time")>=0;f=h,y&&(f=gM(v.axisValue,f,m)),f=ehe(f,r,!0)}else if(qe(h)){var _=We(function(b,S){b===this._ticket&&(d.setContent(S,c,t,p,l),this._updatePosition(t,l,s,a,d,r,u))},this);this._ticket=o,f=h(r,o,_)}else f=h;d.setContent(f,c,t,p,l),d.show(t,p),this._updatePosition(t,l,s,a,d,r,u)}},e.prototype._getNearestPoint=function(t,i,r,o){if(r==="axis"||we(i))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!we(i))return{color:o||i.color||i.borderColor}},e.prototype._updatePosition=function(t,i,r,o,s,a,l){var u=this._api.getWidth(),c=this._api.getHeight();i=i||t.get("position");var d=s.getSize(),h=t.get("align"),f=t.get("verticalAlign"),g=l&&l.getBoundingRect().clone();if(l&&g.applyTransform(l.transform),qe(i)&&(i=i([r,o],a,s.el,g,{viewSize:[u,c],contentSize:d.slice()})),we(i))r=Fe(i[0],u),o=Fe(i[1],c);else if(et(i)){var p=i;p.width=d[0],p.height=d[1];var m=tr(p,{width:u,height:c});r=m.x,o=m.y,h=null,f=null}else if($e(i)&&l){var v=hmt(i,g,d,t.get("borderWidth"));r=v[0],o=v[1]}else{var v=cmt(r,o,s,u,c,h?null:20,f?null:20);r=v[0],o=v[1]}if(h&&(r-=SJ(h)?d[0]/2:h==="right"?d[0]:0),f&&(o-=SJ(f)?d[1]/2:f==="bottom"?d[1]:0),Lme(t)){var v=dmt(r,o,s,u,c);r=v[0],o=v[1]}s.moveTo(r,o)},e.prototype._updateContentNotChangedOnAxis=function(t,i){var r=this._lastDataByCoordSys,o=this._cbParamsList,s=!!r&&r.length===t.length;return s&&B(r,function(a,l){var u=a.dataByAxis||[],c=t[l]||{},d=c.dataByAxis||[];s=s&&u.length===d.length,s&&B(u,function(h,f){var g=d[f]||{},p=h.seriesDataIndices||[],m=g.seriesDataIndices||[];s=s&&h.value===g.value&&h.axisType===g.axisType&&h.axisId===g.axisId&&p.length===m.length,s&&B(p,function(v,y){var _=m[y];s=s&&v.seriesIndex===_.seriesIndex&&v.dataIndex===_.dataIndex}),o&&B(h.seriesDataIndices,function(v){var y=v.seriesIndex,_=i[y],b=o[y];_&&b&&b.data!==_.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=i,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,i){Yt.node||!i.getDom()||(PS(this,"_updatePosition"),this._tooltipContent.dispose(),rF("itemTooltip",i))},e.type="tooltip",e}(vi);function K0(n,e,t){var i=e.ecModel,r;t?(r=new Hn(t,i,i),r=new Hn(e.option,r,i)):r=e;for(var o=n.length-1;o>=0;o--){var s=n[o];s&&(s instanceof Hn&&(s=s.get("tooltip",!0)),$e(s)&&(s={formatter:s}),s&&(r=new Hn(s,r,i)))}return r}function bJ(n,e){return n.dispatchAction||We(e.dispatchAction,e)}function cmt(n,e,t,i,r,o,s){var a=t.getSize(),l=a[0],u=a[1];return o!=null&&(n+l+o+2>i?n-=l+o:n+=o),s!=null&&(e+u+s>r?e-=u+s:e+=s),[n,e]}function dmt(n,e,t,i,r){var o=t.getSize(),s=o[0],a=o[1];return n=Math.min(n+s,i)-s,e=Math.min(e+a,r)-a,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function hmt(n,e,t,i){var r=t[0],o=t[1],s=Math.ceil(Math.SQRT2*i)+8,a=0,l=0,u=e.width,c=e.height;switch(n){case"inside":a=e.x+u/2-r/2,l=e.y+c/2-o/2;break;case"top":a=e.x+u/2-r/2,l=e.y-o-s;break;case"bottom":a=e.x+u/2-r/2,l=e.y+c+s;break;case"left":a=e.x-r-s,l=e.y+c/2-o/2;break;case"right":a=e.x+u+s,l=e.y+c/2-o/2}return[a,l]}function SJ(n){return n==="center"||n==="middle"}function fmt(n,e,t){var i=AW(n).queryOptionMap,r=i.keys()[0];if(!(!r||r==="series")){var o=Dw(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),s=o.models[0];if(s){var a=t.getViewOfComponentModel(s),l;if(a.group.traverse(function(u){var c=ut(u).tooltipConfig;if(c&&c.name===n.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:s.componentIndex,el:l}}}}const gmt=umt;function pmt(n){Lt(Kw),n.registerComponentModel(qpt),n.registerComponentView(gmt),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ni),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ni)}var mmt=["rect","polygon","keep","clear"];function vmt(n,e){var t=Pn(n?n.brush:[]);if(t.length){var i=[];B(t,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(i=i.concat(u))});var r=n&&n.toolbox;we(r)&&(r=r[0]),r||(r={feature:{}},n.toolbox=[r]);var o=r.feature||(r.feature={}),s=o.brush||(o.brush={}),a=s.type||(s.type=[]);a.push.apply(a,i),ymt(a),e&&!a.length&&a.push.apply(a,mmt)}}function ymt(n){var e={};B(n,function(t){e[t]=1}),n.length=0,B(e,function(t,i){n.push(i)})}var wJ=B;function CJ(n){if(n){for(var e in n)if(n.hasOwnProperty(e))return!0}}function cF(n,e,t){var i={};return wJ(e,function(o){var s=i[o]=r();wJ(n[o],function(a,l){if($r.isValidType(l)){var u={type:l,visual:a};t&&t(u,o),s[l]=new $r(u),l==="opacity"&&(u=rt(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new $r(u))}})}),i;function r(){var o=function(){};o.prototype.__hidden=o.prototype;var s=new o;return s}}function Eme(n,e,t){var i;B(t,function(r){e.hasOwnProperty(r)&&CJ(e[r])&&(i=!0)}),i&&B(t,function(r){e.hasOwnProperty(r)&&CJ(e[r])?n[r]=rt(e[r]):delete n[r]})}function _mt(n,e,t,i,r,o){var s={};B(n,function(d){var h=$r.prepareVisualTypes(e[d]);s[d]=h});var a;function l(d){return lz(t,a,d)}function u(d,h){Ghe(t,a,d,h)}o==null?t.each(c):t.each([o],c);function c(d,h){a=o==null?d:h;var f=t.getRawDataItem(a);if(!(f&&f.visualMap===!1))for(var g=i.call(r,d),p=e[g],m=s[g],v=0,y=m.length;v<y;v++){var _=m[v];p[_]&&p[_].applyVisual(d,l,u)}}}function bmt(n,e,t,i){var r={};return B(n,function(o){var s=$r.prepareVisualTypes(e[o]);r[o]=s}),{progress:function(s,a){var l;i!=null&&(l=a.getDimensionIndex(i));function u(S){return lz(a,d,S)}function c(S,w){Ghe(a,d,S,w)}for(var d,h=a.getStore();(d=s.next())!=null;){var f=a.getRawDataItem(d);if(!(f&&f.visualMap===!1))for(var g=i!=null?h.get(l,d):d,p=t(g),m=e[p],v=r[p],y=0,_=v.length;y<_;y++){var b=v[y];m[b]&&m[b].applyVisual(g,u,c)}}}}}function Smt(n){var e=n.brushType,t={point:function(i){return xJ[e].point(i,t,n)},rect:function(i){return xJ[e].rect(i,t,n)}};return t}var xJ={lineX:LJ(0),lineY:LJ(1),rect:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])},rect:function(n,e,t){return n&&t.boundingRect.intersect(n)}},polygon:{point:function(n,e,t){return n&&t.boundingRect.contain(n[0],n[1])&&Vf(t.range,n[0],n[1])},rect:function(n,e,t){var i=t.range;if(!n||i.length<=1)return!1;var r=n.x,o=n.y,s=n.width,a=n.height,l=i[0];if(Vf(i,r,o)||Vf(i,r+s,o)||Vf(i,r,o+a)||Vf(i,r+s,o+a)||mt.create(n).contain(l[0],l[1])||f_(r,o,r+s,o,i)||f_(r,o,r,o+a,i)||f_(r+s,o,r+s,o+a,i)||f_(r,o+a,r+s,o+a,i))return!0}}};function LJ(n){var e=["x","y"],t=["width","height"];return{point:function(i,r,o){if(i){var s=o.range,a=i[n];return j0(a,s)}},rect:function(i,r,o){if(i){var s=o.range,a=[i[e[n]],i[e[n]]+i[t[n]]];return a[1]<a[0]&&a.reverse(),j0(a[0],s)||j0(a[1],s)||j0(s[0],a)||j0(s[1],a)}}}}function j0(n,e){return e[0]<=n&&n<=e[1]}var TJ=["inBrush","outOfBrush"],bP="__ecBrushSelect",dF="__ecInBrushSelectEvent";function Mme(n){n.eachComponent({mainType:"brush"},function(e){var t=e.brushTargetManager=new pH(e.option,n);t.setInputRanges(e.areas,n)})}function wmt(n,e,t){var i=[],r,o;n.eachComponent({mainType:"brush"},function(s){t&&t.type==="takeGlobalCursor"&&s.setBrushOption(t.key==="brush"?t.brushOption:{brushType:!1})}),Mme(n),n.eachComponent({mainType:"brush"},function(s,a){var l={brushId:s.id,brushIndex:a,brushName:s.name,areas:rt(s.areas),selected:[]};i.push(l);var u=s.option,c=u.brushLink,d=[],h=[],f=[],g=!1;a||(r=u.throttleType,o=u.throttleDelay);var p=Te(s.areas,function(S){var w=Tmt[S.brushType],C=Qe({boundingRect:w?w(S):void 0},S);return C.selectors=Smt(C),C}),m=cF(s.option,TJ,function(S){S.mappingMethod="fixed"});we(c)&&B(c,function(S){d[S]=1});function v(S){return c==="all"||!!d[S]}function y(S){return!!S.length}n.eachSeries(function(S,w){var C=f[w]=[];S.subType==="parallel"?_(S,w):b(S,w,C)});function _(S,w){var C=S.coordinateSystem;g=g||C.hasAxisBrushed(),v(w)&&C.eachActiveState(S.getData(),function(x,L){x==="active"&&(h[L]=1)})}function b(S,w,C){if(!(!S.brushSelector||Lmt(s,w))&&(B(p,function(L){s.brushTargetManager.controlSeries(L,S,n)&&C.push(L),g=g||y(C)}),v(w)&&y(C))){var x=S.getData();x.each(function(L){IJ(S,C,x,L)&&(h[L]=1)})}}n.eachSeries(function(S,w){var C={seriesId:S.id,seriesIndex:w,seriesName:S.name,dataIndex:[]};l.selected.push(C);var x=f[w],L=S.getData(),T=v(w)?function(I){return h[I]?(C.dataIndex.push(L.getRawIndex(I)),"inBrush"):"outOfBrush"}:function(I){return IJ(S,x,L,I)?(C.dataIndex.push(L.getRawIndex(I)),"inBrush"):"outOfBrush"};(v(w)?g:y(x))&&_mt(TJ,m,L,T)})}),Cmt(e,r,o,i,t)}function Cmt(n,e,t,i,r){if(r){var o=n.getZr();if(!o[dF]){o[bP]||(o[bP]=xmt);var s=qy(o,bP,t,e);s(n,i)}}}function xmt(n,e){if(!n.isDisposed()){var t=n.getZr();t[dF]=!0,n.dispatchAction({type:"brushSelect",batch:e}),t[dF]=!1}}function IJ(n,e,t,i){for(var r=0,o=e.length;r<o;r++){var s=e[r];if(n.brushSelector(i,t,s.selectors,s))return!0}}function Lmt(n,e){var t=n.option.seriesIndex;return t!=null&&t!=="all"&&(we(t)?Ct(t,e)<0:e!==t)}var Tmt={rect:function(n){return DJ(n.range)},polygon:function(n){for(var e,t=n.range,i=0,r=t.length;i<r;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var o=t[i];o[0]<e[0][0]&&(e[0][0]=o[0]),o[0]>e[0][1]&&(e[0][1]=o[0]),o[1]<e[1][0]&&(e[1][0]=o[1]),o[1]>e[1][1]&&(e[1][1]=o[1])}return e&&DJ(e)}};function DJ(n){return new mt(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var Imt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){this.ecModel=t,this.api=i,this.model,(this._brushController=new Yz(i.getZr())).on("brush",We(this._onBrush,this)).mount()},e.prototype.render=function(t,i,r,o){this.model=t,this._updateController(t,i,r,o)},e.prototype.updateTransform=function(t,i,r,o){Mme(i),this._updateController(t,i,r,o)},e.prototype.updateVisual=function(t,i,r,o){this.updateTransform(t,i,r,o)},e.prototype.updateView=function(t,i,r,o){this._updateController(t,i,r,o)},e.prototype._updateController=function(t,i,r,o){(!o||o.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(t){var i=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:rt(r),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:rt(r),$from:i})},e.type="brush",e}(vi);const Dmt=Imt;var Emt="#ddd",Mmt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.areas=[],t.brushOption={},t}return e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Eme(r,t,["inBrush","outOfBrush"]);var o=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:Emt},o.hasOwnProperty("liftZ")||(o.liftZ=5)},e.prototype.setAreas=function(t){t&&(this.areas=Te(t,function(i){return EJ(this.option,i)},this))},e.prototype.setBrushOption=function(t){this.brushOption=EJ(this.option,t),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(qt);function EJ(n,e){return pt({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Hn(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},e,!0)}const Amt=Mmt;var Nmt=["rect","polygon","lineX","lineY","keep","clear"],kmt=function(n){re(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.render=function(t,i,r){var o,s,a;i.eachComponent({mainType:"brush"},function(l){o=l.brushType,s=l.brushOption.brushMode||"single",a=a||!!l.areas.length}),this._brushType=o,this._brushMode=s,B(t.get("type",!0),function(l){t.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?a:l===o)?"emphasis":"normal")})},e.prototype.updateView=function(t,i,r){this.render(t,i,r)},e.prototype.getIcons=function(){var t=this.model,i=t.get("icon",!0),r={};return B(t.get("type",!0),function(o){i[o]&&(r[o]=i[o])}),r},e.prototype.onclick=function(t,i,r){var o=this._brushType,s=this._brushMode;r==="clear"?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:r==="keep"?o:o===r?!1:r,brushMode:r==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(t){var i={show:!0,type:Nmt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])};return i},e}(qs);const Pmt=kmt;function Omt(n){n.registerComponentView(Dmt),n.registerComponentModel(Amt),n.registerPreprocessor(vmt),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,wmt),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Ni),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Ni),Im("brush",Pmt)}var Rmt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(qt),Bmt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,i,r){if(this.group.removeAll(),!!t.get("show")){var o=this.group,s=t.getModel("textStyle"),a=t.getModel("subtextStyle"),l=t.get("textAlign"),u=gt(t.get("textBaseline"),t.get("textVerticalAlign")),c=new Zt({style:zn(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),d=c.getBoundingRect(),h=t.get("subtext"),f=new Zt({style:zn(a,{text:h,fill:a.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),g=t.get("link"),p=t.get("sublink"),m=t.get("triggerEvent",!0);c.silent=!g&&!m,f.silent=!p&&!m,g&&c.on("click",function(){AI(g,"_"+t.get("target"))}),p&&f.on("click",function(){AI(p,"_"+t.get("subtarget"))}),ut(c).eventData=ut(f).eventData=m?{componentType:"title",componentIndex:t.componentIndex}:null,o.add(c),h&&o.add(f);var v=o.getBoundingRect(),y=t.getBoxLayoutParams();y.width=v.width,y.height=v.height;var _=tr(y,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=t.get("top")||t.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),o.x=_.x,o.y=_.y,o.markRedraw();var b={align:l,verticalAlign:u};c.setStyle(b),f.setStyle(b),v=o.getBoundingRect();var S=_.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var C=new Gt({shape:{x:v.x-S[3],y:v.y-S[0],width:v.width+S[1]+S[3],height:v.height+S[0]+S[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});o.add(C)}},e.type="title",e}(vi);function Fmt(n){n.registerComponentModel(Rmt),n.registerComponentView(Bmt)}var $mt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode="box",t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._initData()},e.prototype.mergeOption=function(t){n.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(t){t==null&&(t=this.option.currentIndex);var i=this._data.count();this.option.loop?t=(t%i+i)%i:(t>=i&&(t=i-1),t<0&&(t=0)),this.option.currentIndex=t},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(t){this.option.autoPlay=!!t},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var t=this.option,i=t.data||[],r=t.axisType,o=this._names=[],s;r==="category"?(s=[],B(i,function(u,c){var d=Yi(By(u),""),h;et(u)?(h=rt(u),h.value=c):h=c,s.push(h),o.push(d)})):s=i;var a={category:"ordinal",time:"time",value:"number"}[r]||"number",l=this._data=new Co([{name:"value",type:a}],this);l.initData(s,o)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(qt);const MJ=$mt;var Ame=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline.slider",e.defaultOption=Dh(MJ.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(MJ);Hi(Ame,iz.prototype);const Vmt=Ame;var Wmt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="timeline",e}(vi);const zmt=Wmt;var Hmt=function(n){re(e,n);function e(t,i,r,o){var s=n.call(this,t,i,r)||this;return s.type=o||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(fl);const Umt=Hmt;var SP=Math.PI,AJ=Kt(),Gmt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,i){this.api=i},e.prototype.render=function(t,i,r){if(this.model=t,this.api=r,this.ecModel=i,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,r),s=this._createGroup("_mainGroup"),a=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(o,t);t.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return _r("nameValue",{noName:!0,value:c})},B(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](o,s,l,t)},this),this._renderAxisLabel(o,a,l,t),this._position(o,t)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(t,i){var r=t.get(["label","position"]),o=t.get("orient"),s=jmt(t,i),a;r==null||r==="auto"?a=o==="horizontal"?s.y+s.height/2<i.getHeight()/2?"-":"+":s.x+s.width/2<i.getWidth()/2?"+":"-":$e(r)?a={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][r]:a=r;var l={horizontal:"center",vertical:a>=0||a==="+"?"left":"right"},u={horizontal:a>=0||a==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:SP/2},d=o==="vertical"?s.height:s.width,h=t.getModel("controlStyle"),f=h.get("show",!0),g=f?h.get("itemSize"):0,p=f?h.get("itemGap"):0,m=g+p,v=t.get(["label","rotate"])||0;v=v*SP/180;var y,_,b,S=h.get("position",!0),w=f&&h.get("showPlayBtn",!0),C=f&&h.get("showPrevBtn",!0),x=f&&h.get("showNextBtn",!0),L=0,T=d;S==="left"||S==="bottom"?(w&&(y=[0,0],L+=m),C&&(_=[L,0],L+=m),x&&(b=[T-g,0],T-=m)):(w&&(y=[T-g,0],T-=m),C&&(_=[0,0],L+=m),x&&(b=[T-g,0],T-=m));var I=[L,T];return t.get("inverse")&&I.reverse(),{viewRect:s,mainLength:d,orient:o,rotation:c[o],labelRotation:v,labelPosOpt:a,labelAlign:t.get(["label","align"])||l[o],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||u[o],playPosition:y,prevBtnPosition:_,nextBtnPosition:b,axisExtent:I,controlSize:g,controlGap:p}},e.prototype._position=function(t,i){var r=this._mainGroup,o=this._labelGroup,s=t.viewRect;if(t.orient==="vertical"){var a=ha(),l=s.x,u=s.y+s.height;fu(a,a,[-l,-u]),Lp(a,a,-SP/2),fu(a,a,[l,u]),s=s.clone(),s.applyTransform(a)}var c=y(s),d=y(r.getBoundingRect()),h=y(o.getBoundingRect()),f=[r.x,r.y],g=[o.x,o.y];g[0]=f[0]=c[0][0];var p=t.labelPosOpt;if(p==null||$e(p)){var m=p==="+"?0:1;_(f,d,c,1,m),_(g,h,c,1,1-m)}else{var m=p>=0?0:1;_(f,d,c,1,m),g[1]=f[1]+p}r.setPosition(f),o.setPosition(g),r.rotation=o.rotation=t.rotation,v(r),v(o);function v(b){b.originX=c[0][0]-b.x,b.originY=c[1][0]-b.y}function y(b){return[[b.x,b.x+b.width],[b.y,b.y+b.height]]}function _(b,S,w,C,x){b[C]+=w[C][x]-S[C][x]}},e.prototype._createAxis=function(t,i){var r=i.getData(),o=i.get("axisType"),s=Kmt(i,o);s.getTicks=function(){return r.mapArray(["value"],function(u){return{value:u}})};var a=r.getDataExtent("value");s.setExtent(a[0],a[1]),s.calcNiceTicks();var l=new Umt("value",s,t.axisExtent,o);return l.model=i,l},e.prototype._createGroup=function(t){var i=this[t]=new st;return this.group.add(i),i},e.prototype._renderAxisLine=function(t,i,r,o){var s=r.getExtent();if(o.get(["lineStyle","show"])){var a=new Er({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:be({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(a);var l=this._progressLine=new Er({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:Qe({lineCap:"round",lineWidth:a.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(l)}},e.prototype._renderAxisTick=function(t,i,r,o){var s=this,a=o.getData(),l=r.scale.getTicks();this._tickSymbols=[],B(l,function(u){var c=r.dataToCoord(u.value),d=a.getItemModel(u.value),h=d.getModel("itemStyle"),f=d.getModel(["emphasis","itemStyle"]),g=d.getModel(["progress","itemStyle"]),p={x:c,y:0,onclick:We(s._changeTimeline,s,u.value)},m=NJ(d,h,i,p);m.ensureState("emphasis").style=f.getItemStyle(),m.ensureState("progress").style=g.getItemStyle(),wg(m);var v=ut(m);d.get("tooltip")?(v.dataIndex=u.value,v.dataModel=o):v.dataIndex=v.dataModel=null,s._tickSymbols.push(m)})},e.prototype._renderAxisLabel=function(t,i,r,o){var s=this,a=r.getLabelModel();if(a.get("show")){var l=o.getData(),u=r.getViewLabels();this._tickLabels=[],B(u,function(c){var d=c.tickValue,h=l.getItemModel(d),f=h.getModel("label"),g=h.getModel(["emphasis","label"]),p=h.getModel(["progress","label"]),m=r.dataToCoord(c.tickValue),v=new Zt({x:m,y:0,rotation:t.labelRotation-t.rotation,onclick:We(s._changeTimeline,s,d),silent:!1,style:zn(f,{text:c.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});v.ensureState("emphasis").style=zn(g),v.ensureState("progress").style=zn(p),i.add(v),wg(v),AJ(v).dataIndex=d,s._tickLabels.push(v)})}},e.prototype._renderControl=function(t,i,r,o){var s=t.controlSize,a=t.rotation,l=o.getModel("controlStyle").getItemStyle(),u=o.getModel(["emphasis","controlStyle"]).getItemStyle(),c=o.getPlayState(),d=o.get("inverse",!0);h(t.nextBtnPosition,"next",We(this._changeTimeline,this,d?"-":"+")),h(t.prevBtnPosition,"prev",We(this._changeTimeline,this,d?"+":"-")),h(t.playPosition,c?"stop":"play",We(this._handlePlayClick,this,!c),!0);function h(f,g,p,m){if(f){var v=al(gt(o.get(["controlStyle",g+"BtnSize"]),s),s),y=[0,-v/2,v,v],_=qmt(o,g+"Icon",y,{x:f[0],y:f[1],originX:s/2,originY:0,rotation:m?-a:0,rectHover:!0,style:l,onclick:p});_.ensureState("emphasis").style=u,i.add(_),wg(_)}}},e.prototype._renderCurrentPointer=function(t,i,r,o){var s=o.getData(),a=o.getCurrentIndex(),l=s.getItemModel(a).getModel("checkpointStyle"),u=this,c={onCreate:function(d){d.draggable=!0,d.drift=We(u._handlePointerDrag,u),d.ondragend=We(u._handlePointerDragend,u),kJ(d,u._progressLine,a,r,o,!0)},onUpdate:function(d){kJ(d,u._progressLine,a,r,o)}};this._currentPointer=NJ(l,l,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},e.prototype._handlePointerDrag=function(t,i,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},e.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},e.prototype._pointerChangeTimeline=function(t,i){var r=this._toAxisCoord(t)[0],o=this._axis,s=sa(o.getExtent().slice());r>s[1]&&(r=s[1]),r<s[0]&&(r=s[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var a=this._progressLine;a&&(a.shape.x2=r,a.dirty());var l=this._findNearestTick(r),u=this.model;(i||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},e.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=t.model;t._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(t){var i=this._mainGroup.getLocalTransform();return nl(t,i,!0)},e.prototype._findNearestTick=function(t){var i=this.model.getData(),r=1/0,o,s=this._axis;return i.each(["value"],function(a,l){var u=s.dataToCoord(a),c=Math.abs(u-t);c<r&&(r=c,o=l)}),o},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(t){var i=this.model.getCurrentIndex();t==="+"?t=i+1:t==="-"&&(t=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},e.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),i=this._tickSymbols,r=this._tickLabels;if(i)for(var o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",o<t);if(r)for(var o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",AJ(r[o]).dataIndex<=t)},e.type="timeline.slider",e}(zmt);function Kmt(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new pz({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Pfe({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Sh}}function jmt(n,e){return tr(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},n.get("padding"))}function qmt(n,e,t,i){var r=i.style,o=Nw(n.get(["controlStyle",e]),i||{},new mt(t[0],t[1],t[2],t[3]));return r&&o.setStyle(r),o}function NJ(n,e,t,i,r,o){var s=e.get("color");if(r)r.setColor(s),t.add(r),o&&o.onUpdate(r);else{var a=n.get("symbol");r=Wi(a,-1,-1,2,2,s),r.setStyle("strokeNoScale",!0),t.add(r),o&&o.onCreate(r)}var l=e.getItemStyle(["color"]);r.setStyle(l),i=pt({rectHover:!0,z2:100},i,!0);var u=Yy(n.get("symbolSize"));i.scaleX=u[0]/2,i.scaleY=u[1]/2;var c=Ip(n.get("symbolOffset"),u);c&&(i.x=(i.x||0)+c[0],i.y=(i.y||0)+c[1]);var d=n.get("symbolRotate");return i.rotation=(d||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function kJ(n,e,t,i,r,o){if(!n.dragging){var s=r.getModel("checkpointStyle"),a=i.dataToCoord(r.getData().get("value",t));if(o||!s.get("animation",!0))n.attr({x:a,y:0}),e&&e.attr({shape:{x2:a}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:a,y:0},l),e&&e.animateTo({shape:{x2:a}},l)}}}const Ymt=Gmt;function Xmt(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t,i){var r=t.getComponent("timeline");return r&&e.currentIndex!=null&&(r.setCurrentIndex(e.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Qe({currentIndex:r.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&e.playState!=null&&i.setPlayState(e.playState)})}function Zmt(n){var e=n&&n.timeline;we(e)||(e=e?[e]:[]),B(e,function(t){t&&Qmt(t)})}function Qmt(n){var e=n.type,t={number:"value",time:"time"};if(t[e]&&(n.axisType=t[e],delete n.type),PJ(n),Hf(n,"controlPosition")){var i=n.controlStyle||(n.controlStyle={});Hf(i,"position")||(i.position=n.controlPosition),i.position==="none"&&!Hf(i,"show")&&(i.show=!1,delete i.position),delete n.controlPosition}B(n.data||[],function(r){et(r)&&!we(r)&&(!Hf(r,"value")&&Hf(r,"name")&&(r.value=r.name),PJ(r))})}function PJ(n){var e=n.itemStyle||(n.itemStyle={}),t=e.emphasis||(e.emphasis={}),i=n.label||n.label||{},r=i.normal||(i.normal={}),o={normal:1,emphasis:1};B(i,function(s,a){!o[a]&&!Hf(r,a)&&(r[a]=s)}),t.label&&!Hf(i,"emphasis")&&(i.emphasis=t.label,delete t.label)}function Hf(n,e){return n.hasOwnProperty(e)}function Jmt(n){n.registerComponentModel(Vmt),n.registerComponentView(Ymt),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),Xmt(n),n.registerPreprocessor(Zmt)}function yH(n,e){if(!n)return!1;for(var t=we(n)?n:[n],i=0;i<t.length;i++)if(t[i]&&t[i][e])return!0;return!1}function ox(n){Zg(n,"label",["show"])}var sx=Kt(),Nme=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.createdBySelf=!1,t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Yt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,i){this._mergeOption(t,i,!1,!1)},e.prototype._mergeOption=function(t,i,r,o){var s=this.mainType;r||i.eachSeries(function(a){var l=a.get(this.mainType,!0),u=sx(a)[s];if(!l||!l.data){sx(a)[s]=null;return}u?u._mergeOption(l,i,!0):(o&&ox(l),B(l.data,function(c){c instanceof Array?(ox(c[0]),ox(c[1])):ox(c)}),u=this.createMarkerModelFromSeries(l,this,i),be(u,{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),u.__hostSeries=a),sx(a)[s]=u},this)},e.prototype.formatTooltip=function(t,i,r){var o=this.getData(),s=this.getRawValue(t),a=o.getName(t);return _r("section",{header:this.name,blocks:[_r("nameValue",{name:a,value:s,noName:!a,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,i){return sx(t)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(qt);Hi(Nme,iz.prototype);const xh=Nme;var evt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(xh);const tvt=evt;function hF(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function nvt(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function ax(n,e,t,i,r,o){var s=[],a=bh(e,i),l=a?e.getCalculationInfo("stackResultDimension"):i,u=_H(e,l,n),c=e.indicesOfNearest(l,u)[0];s[r]=e.get(t,c),s[o]=e.get(l,c);var d=e.get(i,c),h=jl(e.get(i,c));return h=Math.min(h,20),h>=0&&(s[o]=+s[o].toFixed(h)),[s,d]}var wP={min:dt(ax,"min"),max:dt(ax,"max"),average:dt(ax,"average"),median:dt(ax,"median")};function jS(n,e){if(e){var t=n.getData(),i=n.coordinateSystem,r=i&&i.dimensions;if(!nvt(e)&&!we(e.coord)&&we(r)){var o=kme(e,t,i,n);if(e=rt(e),e.type&&wP[e.type]&&o.baseAxis&&o.valueAxis){var s=Ct(r,o.baseAxis.dim),a=Ct(r,o.valueAxis.dim),l=wP[e.type](t,o.baseDataDim,o.valueDataDim,s,a);e.coord=l[0],e.value=l[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!we(r))e.coord=[];else for(var u=e.coord,c=0;c<2;c++)wP[u[c]]&&(u[c]=_H(t,t.mapDimension(r[c]),u[c]));return e}}function kme(n,e,t,i){var r={};return n.valueIndex!=null||n.valueDim!=null?(r.valueDataDim=n.valueIndex!=null?e.getDimension(n.valueIndex):n.valueDim,r.valueAxis=t.getAxis(ivt(i,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function ivt(n,e){var t=n.getData().getDimensionInfo(e);return t&&t.coordDim}function qS(n,e){return n&&n.containData&&e.coord&&!hF(e)?n.containData(e.coord):!0}function rvt(n,e,t){return n&&n.containZone&&e.coord&&t.coord&&!hF(e)&&!hF(t)?n.containZone(e.coord,t.coord):!0}function Pme(n,e){return n?function(t,i,r,o){var s=o<2?t.coord&&t.coord[o]:t.value;return nh(s,e[o])}:function(t,i,r,o){return nh(t.value,e[o])}}function _H(n,e,t){if(t==="average"){var i=0,r=0;return n.each(e,function(o,s){isNaN(o)||(i+=o,r++)}),i/r}else return t==="median"?n.getMedian(e):n.getDataExtent(e)[t==="max"?1:0]}var CP=Kt(),ovt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(){this.markerGroupMap=Ue()},e.prototype.render=function(t,i,r){var o=this,s=this.markerGroupMap;s.each(function(a){CP(a).keep=!1}),i.eachSeries(function(a){var l=xh.getMarkerModelFromSeries(a,o.type);l&&o.renderSeries(a,l,i,r)}),s.each(function(a){!CP(a).keep&&o.group.remove(a.group)})},e.prototype.markKeep=function(t){CP(t).keep=!0},e.prototype.toggleBlurSeries=function(t,i){var r=this;B(t,function(o){var s=xh.getMarkerModelFromSeries(o,r.type);if(s){var a=s.getData();a.eachItemGraphicEl(function(l){l&&(i?ade(l):BW(l))})}})},e.type="marker",e}(vi);const bH=ovt;function OJ(n,e,t){var i=e.coordinateSystem;n.each(function(r){var o=n.getItemModel(r),s,a=Fe(o.get("x"),t.getWidth()),l=Fe(o.get("y"),t.getHeight());if(!isNaN(a)&&!isNaN(l))s=[a,l];else if(e.getMarkerPosition)s=e.getMarkerPosition(n.getValues(n.dimensions,r));else if(i){var u=n.get(i.dimensions[0],r),c=n.get(i.dimensions[1],r);s=i.dataToPoint([u,c])}isNaN(a)||(s[0]=a),isNaN(l)||(s[1]=l),n.setItemLayout(r,s)})}var svt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=xh.getMarkerModelFromSeries(o,"markPoint");s&&(OJ(s.getData(),o,r),this.markerGroupMap.get(o.id).updateLayout())},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,a=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(a)||u.set(a,new Vw),d=avt(s,t,i);i.setData(d),OJ(i.getData(),t,o),d.each(function(h){var f=d.getItemModel(h),g=f.getShallow("symbol"),p=f.getShallow("symbolSize"),m=f.getShallow("symbolRotate"),v=f.getShallow("symbolOffset"),y=f.getShallow("symbolKeepAspect");if(qe(g)||qe(p)||qe(m)||qe(v)){var _=i.getRawValue(h),b=i.getDataParams(h);qe(g)&&(g=g(_,b)),qe(p)&&(p=p(_,b)),qe(m)&&(m=m(_,b)),qe(v)&&(v=v(_,b))}var S=f.getModel("itemStyle").getItemStyle(),w=Ow(l,"color");S.fill||(S.fill=w),d.setItemVisual(h,{symbol:g,symbolSize:p,symbolRotate:m,symbolOffset:v,symbolKeepAspect:y,style:S})}),c.updateData(d),this.group.add(c.group),d.eachItemGraphicEl(function(h){h.traverse(function(f){ut(f).dataModel=i})}),this.markKeep(c),c.group.silent=i.get("silent")||t.get("silent")},e.type="markPoint",e}(bH);function avt(n,e,t){var i;n?i=Te(n&&n.dimensions,function(a){var l=e.getData().getDimensionInfo(e.getData().mapDimension(a))||{};return be(be({},l),{name:a,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var r=new Co(i,t),o=Te(t.get("data"),dt(jS,e));n&&(o=xn(o,dt(qS,n)));var s=Pme(!!n,i);return r.initData(o,null,s),r}const lvt=svt;function uvt(n){n.registerComponentModel(tvt),n.registerComponentView(lvt),n.registerPreprocessor(function(e){yH(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var cvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(xh);const dvt=cvt;var lx=Kt(),hvt=function(n,e,t,i){var r=n.getData(),o;if(we(i))o=i;else{var s=i.type;if(s==="min"||s==="max"||s==="average"||s==="median"||i.xAxis!=null||i.yAxis!=null){var a=void 0,l=void 0;if(i.yAxis!=null||i.xAxis!=null)a=e.getAxis(i.yAxis!=null?"y":"x"),l=Dr(i.yAxis,i.xAxis);else{var u=kme(i,r,e,n);a=u.valueAxis;var c=bfe(r,u.valueDataDim);l=_H(r,c,s)}var d=a.dim==="x"?0:1,h=1-d,f=rt(i),g={coord:[]};f.type=null,f.coord=[],f.coord[h]=-1/0,g.coord[h]=1/0;var p=t.get("precision");p>=0&&Jt(l)&&(l=+l.toFixed(Math.min(p,20))),f.coord[d]=g.coord[d]=l,o=[f,g,{type:s,valueIndex:i.valueIndex,value:l}]}else o=[]}var m=[jS(n,o[0]),jS(n,o[1]),be({},o[2])];return m[2].type=m[2].type||null,pt(m[2],m[0]),pt(m[2],m[1]),m};function iD(n){return!isNaN(n)&&!isFinite(n)}function RJ(n,e,t,i){var r=1-n,o=i.dimensions[n];return iD(e[r])&&iD(t[r])&&e[n]===t[n]&&i.getAxis(o).containData(e[n])}function fvt(n,e){if(n.type==="cartesian2d"){var t=e[0].coord,i=e[1].coord;if(t&&i&&(RJ(1,t,i,n)||RJ(0,t,i,n)))return!0}return qS(n,e[0])&&qS(n,e[1])}function xP(n,e,t,i,r){var o=i.coordinateSystem,s=n.getItemModel(e),a,l=Fe(s.get("x"),r.getWidth()),u=Fe(s.get("y"),r.getHeight());if(!isNaN(l)&&!isNaN(u))a=[l,u];else{if(i.getMarkerPosition)a=i.getMarkerPosition(n.getValues(n.dimensions,e));else{var c=o.dimensions,d=n.get(c[0],e),h=n.get(c[1],e);a=o.dataToPoint([d,h])}if(Ep(o,"cartesian2d")){var f=o.getAxis("x"),g=o.getAxis("y"),c=o.dimensions;iD(n.get(c[0],e))?a[0]=f.toGlobalCoord(f.getExtent()[t?0:1]):iD(n.get(c[1],e))&&(a[1]=g.toGlobalCoord(g.getExtent()[t?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}n.setItemLayout(e,a)}var gvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=xh.getMarkerModelFromSeries(o,"markLine");if(s){var a=s.getData(),l=lx(s).from,u=lx(s).to;l.each(function(c){xP(l,c,!0,o,r),xP(u,c,!1,o,r)}),a.each(function(c){a.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,a=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(a)||u.set(a,new Hz);this.group.add(c.group);var d=pvt(s,t,i),h=d.from,f=d.to,g=d.line;lx(i).from=h,lx(i).to=f,i.setData(g);var p=i.get("symbol"),m=i.get("symbolSize"),v=i.get("symbolRotate"),y=i.get("symbolOffset");we(p)||(p=[p,p]),we(m)||(m=[m,m]),we(v)||(v=[v,v]),we(y)||(y=[y,y]),d.from.each(function(b){_(h,b,!0),_(f,b,!1)}),g.each(function(b){var S=g.getItemModel(b).getModel("lineStyle").getLineStyle();g.setItemLayout(b,[h.getItemLayout(b),f.getItemLayout(b)]),S.stroke==null&&(S.stroke=h.getItemVisual(b,"style").fill),g.setItemVisual(b,{fromSymbolKeepAspect:h.getItemVisual(b,"symbolKeepAspect"),fromSymbolOffset:h.getItemVisual(b,"symbolOffset"),fromSymbolRotate:h.getItemVisual(b,"symbolRotate"),fromSymbolSize:h.getItemVisual(b,"symbolSize"),fromSymbol:h.getItemVisual(b,"symbol"),toSymbolKeepAspect:f.getItemVisual(b,"symbolKeepAspect"),toSymbolOffset:f.getItemVisual(b,"symbolOffset"),toSymbolRotate:f.getItemVisual(b,"symbolRotate"),toSymbolSize:f.getItemVisual(b,"symbolSize"),toSymbol:f.getItemVisual(b,"symbol"),style:S})}),c.updateData(g),d.line.eachItemGraphicEl(function(b){ut(b).dataModel=i,b.traverse(function(S){ut(S).dataModel=i})});function _(b,S,w){var C=b.getItemModel(S);xP(b,S,w,t,o);var x=C.getModel("itemStyle").getItemStyle();x.fill==null&&(x.fill=Ow(l,"color")),b.setItemVisual(S,{symbolKeepAspect:C.get("symbolKeepAspect"),symbolOffset:gt(C.get("symbolOffset",!0),y[w?0:1]),symbolRotate:gt(C.get("symbolRotate",!0),v[w?0:1]),symbolSize:gt(C.get("symbolSize"),m[w?0:1]),symbol:gt(C.get("symbol",!0),p[w?0:1]),style:x})}this.markKeep(c),c.group.silent=i.get("silent")||t.get("silent")},e.type="markLine",e}(bH);function pvt(n,e,t){var i;n?i=Te(n&&n.dimensions,function(u){var c=e.getData().getDimensionInfo(e.getData().mapDimension(u))||{};return be(be({},c),{name:u,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var r=new Co(i,t),o=new Co(i,t),s=new Co([],t),a=Te(t.get("data"),dt(hvt,e,n,t));n&&(a=xn(a,dt(fvt,n)));var l=Pme(!!n,i);return r.initData(Te(a,function(u){return u[0]}),null,l),o.initData(Te(a,function(u){return u[1]}),null,l),s.initData(Te(a,function(u){return u[2]})),s.hasItemOption=!0,{from:r,to:o,line:s}}const mvt=gvt;function vvt(n){n.registerComponentModel(dvt),n.registerComponentView(mvt),n.registerPreprocessor(function(e){yH(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var yvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.createMarkerModelFromSeries=function(t,i,r){return new e(t,i,r)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(xh);const _vt=yvt;var ux=Kt(),bvt=function(n,e,t,i){var r=i[0],o=i[1];if(!(!r||!o)){var s=jS(n,r),a=jS(n,o),l=s.coord,u=a.coord;l[0]=Dr(l[0],-1/0),l[1]=Dr(l[1],-1/0),u[0]=Dr(u[0],1/0),u[1]=Dr(u[1],1/0);var c=_W([{},s,a]);return c.coord=[s.coord,a.coord],c.x0=s.x,c.y0=s.y,c.x1=a.x,c.y1=a.y,c}};function rD(n){return!isNaN(n)&&!isFinite(n)}function BJ(n,e,t,i){var r=1-n;return rD(e[r])&&rD(t[r])}function Svt(n,e){var t=e.coord[0],i=e.coord[1],r={coord:t,x:e.x0,y:e.y0},o={coord:i,x:e.x1,y:e.y1};return Ep(n,"cartesian2d")?t&&i&&(BJ(1,t,i)||BJ(0,t,i))?!0:rvt(n,r,o):qS(n,r)||qS(n,o)}function FJ(n,e,t,i,r){var o=i.coordinateSystem,s=n.getItemModel(e),a,l=Fe(s.get(t[0]),r.getWidth()),u=Fe(s.get(t[1]),r.getHeight());if(!isNaN(l)&&!isNaN(u))a=[l,u];else{if(i.getMarkerPosition){var c=n.getValues(["x0","y0"],e),d=n.getValues(["x1","y1"],e),h=o.clampData(c),f=o.clampData(d),g=[];t[0]==="x0"?g[0]=h[0]>f[0]?d[0]:c[0]:g[0]=h[0]>f[0]?c[0]:d[0],t[1]==="y0"?g[1]=h[1]>f[1]?d[1]:c[1]:g[1]=h[1]>f[1]?c[1]:d[1],a=i.getMarkerPosition(g,t,!0)}else{var p=n.get(t[0],e),m=n.get(t[1],e),v=[p,m];o.clampData&&o.clampData(v,v),a=o.dataToPoint(v,!0)}if(Ep(o,"cartesian2d")){var y=o.getAxis("x"),_=o.getAxis("y"),p=n.get(t[0],e),m=n.get(t[1],e);rD(p)?a[0]=y.toGlobalCoord(y.getExtent()[t[0]==="x0"?0:1]):rD(m)&&(a[1]=_.toGlobalCoord(_.getExtent()[t[1]==="y0"?0:1]))}isNaN(l)||(a[0]=l),isNaN(u)||(a[1]=u)}return a}var $J=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],wvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.updateTransform=function(t,i,r){i.eachSeries(function(o){var s=xh.getMarkerModelFromSeries(o,"markArea");if(s){var a=s.getData();a.each(function(l){var u=Te($J,function(d){return FJ(a,l,d,o,r)});a.setItemLayout(l,u);var c=a.getItemGraphicEl(l);c.setShape("points",u)})}},this)},e.prototype.renderSeries=function(t,i,r,o){var s=t.coordinateSystem,a=t.id,l=t.getData(),u=this.markerGroupMap,c=u.get(a)||u.set(a,{group:new st});this.group.add(c.group),this.markKeep(c);var d=Cvt(s,t,i);i.setData(d),d.each(function(h){var f=Te($J,function(x){return FJ(d,h,x,t,o)}),g=s.getAxis("x").scale,p=s.getAxis("y").scale,m=g.getExtent(),v=p.getExtent(),y=[g.parse(d.get("x0",h)),g.parse(d.get("x1",h))],_=[p.parse(d.get("y0",h)),p.parse(d.get("y1",h))];sa(y),sa(_);var b=!(m[0]>y[1]||m[1]<y[0]||v[0]>_[1]||v[1]<_[0]),S=!b;d.setItemLayout(h,{points:f,allClipped:S});var w=d.getItemModel(h).getModel("itemStyle").getItemStyle(),C=Ow(l,"color");w.fill||(w.fill=C,$e(w.fill)&&(w.fill=yI(w.fill,.4))),w.stroke||(w.stroke=C),d.setItemVisual(h,"style",w)}),d.diff(ux(c).data).add(function(h){var f=d.getItemLayout(h);if(!f.allClipped){var g=new Zo({shape:{points:f.points}});d.setItemGraphicEl(h,g),c.group.add(g)}}).update(function(h,f){var g=ux(c).data.getItemGraphicEl(f),p=d.getItemLayout(h);p.allClipped?g&&c.group.remove(g):(g?rn(g,{shape:{points:p.points}},i,h):g=new Zo({shape:{points:p.points}}),d.setItemGraphicEl(h,g),c.group.add(g))}).remove(function(h){var f=ux(c).data.getItemGraphicEl(h);c.group.remove(f)}).execute(),d.eachItemGraphicEl(function(h,f){var g=d.getItemModel(f),p=d.getItemVisual(f,"style");h.useStyle(d.getItemVisual(f,"style")),Wr(h,yr(g),{labelFetcher:i,labelDataIndex:f,defaultText:d.getName(f)||"",inheritColor:$e(p.fill)?yI(p.fill,1):"#000"}),Vr(h,g),mi(h,null,null,g.get(["emphasis","disabled"])),ut(h).dataModel=i}),ux(c).data=d,c.group.silent=i.get("silent")||t.get("silent")},e.type="markArea",e}(bH);function Cvt(n,e,t){var i,r,o=["x0","y0","x1","y1"];if(n){var s=Te(n&&n.dimensions,function(u){var c=e.getData(),d=c.getDimensionInfo(c.mapDimension(u))||{};return be(be({},d),{name:u,ordinalMeta:null})});r=Te(o,function(u,c){return{name:u,type:s[c%2].type}}),i=new Co(r,t)}else r=[{name:"value",type:"float"}],i=new Co(r,t);var a=Te(t.get("data"),dt(bvt,e,n,t));n&&(a=xn(a,dt(Svt,n)));var l=n?function(u,c,d,h){var f=u.coord[Math.floor(h/2)][h%2];return nh(f,r[h])}:function(u,c,d,h){return nh(u.value,r[h])};return i.initData(a,null,l),i.hasItemOption=!0,i}const xvt=wvt;function Lvt(n){n.registerComponentModel(_vt),n.registerComponentView(xvt),n.registerPreprocessor(function(e){yH(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var Tvt=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},Ivt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},e.prototype._updateSelector=function(t){var i=t.selector,r=this.ecModel;i===!0&&(i=t.selector=["all","inverse"]),we(i)&&B(i,function(o,s){$e(o)&&(o={type:o}),i[s]=pt(o,Tvt(r,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var i=!1,r=0;r<t.length;r++){var o=t[r].get("name");if(this.isSelected(o)){this.select(o),i=!0;break}}!i&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var i=[],r=[];t.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var d=l.legendVisualProvider,h=d.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(h)),h.length?i=i.concat(h):c=!0}else c=!0;c&&MW(l)&&i.push(l.name)}),this._availableNames=r;var o=this.get("data")||i,s=Ue(),a=Te(o,function(l){return($e(l)||Jt(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Hn(l,this,this.ecModel))},this);this._data=xn(a,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var i=this.option.selected,r=this.get("selectedMode");if(r==="single"){var o=this._data;B(o,function(s){i[s.get("name")]=!1})}i[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var i=this.option.selected;i.hasOwnProperty(t)||(i[t]=!0),this[i[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,i=this.option.selected;B(t,function(r){i[r.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,i=this.option.selected;B(t,function(r){var o=r.get("name",!0);i.hasOwnProperty(o)||(i[o]=!0),i[o]=!i[o]})},e.prototype.isSelected=function(t){var i=this.option.selected;return!(i.hasOwnProperty(t)&&!i[t])&&Ct(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(qt);const fF=Ivt;var fm=dt,gF=B,cx=st,Dvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new cx),this.group.add(this._selectorGroup=new cx),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,i,r){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),a=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&a==="vertical"?"right":"left");var l=t.get("selector",!0),u=t.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=a==="horizontal"?"end":"start"),this.renderInner(s,t,i,r,l,a,u);var c=t.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},h=t.get("padding"),f=tr(c,d,h),g=this.layoutInner(t,s,f,o,l,u),p=tr(Qe({width:g.width,height:g.height},c),d,h);this.group.x=p.x-g.x,this.group.y=p.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=wme(g,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,i,r,o,s,a,l){var u=this.getContentGroup(),c=Ue(),d=i.get("selectedMode"),h=[];r.eachRawSeries(function(f){!f.get("legendHoverLink")&&h.push(f.id)}),gF(i.getData(),function(f,g){var p=f.get("name");if(!this.newlineDisabled&&(p===""||p===`
`)){var m=new cx;m.newline=!0,u.add(m);return}var v=r.getSeriesByName(p)[0];if(!c.get(p))if(v){var y=v.getData(),_=y.getVisual("legendLineStyle")||{},b=y.getVisual("legendIcon"),S=y.getVisual("style"),w=this._createItem(v,p,g,f,i,t,_,S,b,d,o);w.on("click",fm(VJ,p,null,o,h)).on("mouseover",fm(pF,v.name,null,o,h)).on("mouseout",fm(mF,v.name,null,o,h)),c.set(p,!0)}else r.eachRawSeries(function(C){if(!c.get(p)&&C.legendVisualProvider){var x=C.legendVisualProvider;if(!x.containName(p))return;var L=x.indexOfName(p),T=x.getItemVisual(L,"style"),I=x.getItemVisual(L,"legendIcon"),D=ys(T.fill);D&&D[3]===0&&(D[3]=.2,T=be(be({},T),{fill:_c(D,"rgba")}));var M=this._createItem(C,p,g,f,i,t,{},T,I,d,o);M.on("click",fm(VJ,null,p,o,h)).on("mouseover",fm(pF,null,p,o,h)).on("mouseout",fm(mF,null,p,o,h)),c.set(p,!0)}},this)},this),s&&this._createSelector(s,i,o,a,l)},e.prototype._createSelector=function(t,i,r,o,s){var a=this.getSelectorGroup();gF(t,function(u){var c=u.type,d=new Zt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});a.add(d);var h=i.getModel("selectorLabel"),f=i.getModel(["emphasis","selectorLabel"]);Wr(d,{normal:h,emphasis:f},{defaultText:u.title}),wg(d)})},e.prototype._createItem=function(t,i,r,o,s,a,l,u,c,d,h){var f=t.visualDrawType,g=s.get("itemWidth"),p=s.get("itemHeight"),m=s.isSelected(i),v=o.get("symbolRotate"),y=o.get("symbolKeepAspect"),_=o.get("icon");c=_||c||"roundRect";var b=Evt(c,o,l,u,f,m,h),S=new cx,w=o.getModel("textStyle");if(qe(t.getLegendIcon)&&(!_||_==="inherit"))S.add(t.getLegendIcon({itemWidth:g,itemHeight:p,icon:c,iconRotate:v,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}));else{var C=_==="inherit"&&t.getData().getVisual("symbol")?v==="inherit"?t.getData().getVisual("symbolRotate"):v:0;S.add(Mvt({itemWidth:g,itemHeight:p,icon:c,iconRotate:C,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:y}))}var x=a==="left"?g+5:-5,L=a,T=s.get("formatter"),I=i;$e(T)&&T?I=T.replace("{name}",i??""):qe(T)&&(I=T(i));var D=m?w.getTextColor():o.get("inactiveColor");S.add(new Zt({style:zn(w,{text:I,x,y:p/2,fill:D,align:L,verticalAlign:"middle"},{inheritColor:D})}));var M=new Gt({shape:S.getBoundingRect(),invisible:!0}),P=o.getModel("tooltip");return P.get("show")&&Vy({el:M,componentModel:s,itemName:i,itemTooltipOption:P.option}),S.add(M),S.eachChild(function(k){k.silent=!0}),M.silent=!d,this.getContentGroup().add(S),wg(S),S.__legendDataIndex=r,S},e.prototype.layoutInner=function(t,i,r,o,s,a){var l=this.getContentGroup(),u=this.getSelectorGroup();xg(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),d=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){xg("horizontal",u,t.get("selectorItemGap",!0));var h=u.getBoundingRect(),f=[-h.x,-h.y],g=t.get("selectorButtonGap",!0),p=t.getOrient().index,m=p===0?"width":"height",v=p===0?"height":"width",y=p===0?"y":"x";a==="end"?f[p]+=c[m]+g:d[p]+=h[m]+g,f[1-p]+=c[v]/2-h[v]/2,u.x=f[0],u.y=f[1],l.x=d[0],l.y=d[1];var _={x:0,y:0};return _[m]=c[m]+g+h[m],_[v]=Math.max(c[v],h[v]),_[y]=Math.min(0,h[y]+f[1-p]),_}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(vi);function Evt(n,e,t,i,r,o,s){function a(m,v){m.lineWidth==="auto"&&(m.lineWidth=v.lineWidth>0?2:0),gF(m,function(y,_){m[_]==="inherit"&&(m[_]=v[_])})}var l=e.getModel("itemStyle"),u=l.getItemStyle(),c=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");u.decal=!d||d==="inherit"?i.decal:ay(d,s),u.fill==="inherit"&&(u.fill=i[r]),u.stroke==="inherit"&&(u.stroke=i[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?i:t).opacity),a(u,i);var h=e.getModel("lineStyle"),f=h.getLineStyle();if(a(f,t),u.fill==="auto"&&(u.fill=i.fill),u.stroke==="auto"&&(u.stroke=i.fill),f.stroke==="auto"&&(f.stroke=i.fill),!o){var g=e.get("inactiveBorderWidth"),p=u[c];u.lineWidth=g==="auto"?i.lineWidth>0&&p?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),f.stroke=h.get("inactiveColor"),f.lineWidth=h.get("inactiveWidth")}return{itemStyle:u,lineStyle:f}}function Mvt(n){var e=n.icon||"roundRect",t=Wi(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function VJ(n,e,t,i){mF(n,e,t,i),t.dispatchAction({type:"legendToggleSelect",name:n??e}),pF(n,e,t,i)}function Ome(n){for(var e=n.getZr().storage.getDisplayList(),t,i=0,r=e.length;i<r&&!(t=e[i].states.emphasis);)i++;return t&&t.hoverLayer}function pF(n,e,t,i){Ome(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:i})}function mF(n,e,t,i){Ome(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:i})}const Rme=Dvt;function Avt(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}function q0(n,e,t){var i={},r=n==="toggleSelected",o;return t.eachComponent("legend",function(s){r&&o!=null?s[o?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?s[n]():(s[n](e.name),o=s.isSelected(e.name));var a=s.getData();B(a,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=s.isSelected(u);i.hasOwnProperty(u)?i[u]=i[u]&&c:i[u]=c}})}),n==="allSelect"||n==="inverseSelect"?{selected:i}:{name:e.name,selected:i}}function Nvt(n){n.registerAction("legendToggleSelect","legendselectchanged",dt(q0,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",dt(q0,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",dt(q0,"inverseSelect")),n.registerAction("legendSelect","legendselected",dt(q0,"select")),n.registerAction("legendUnSelect","legendunselected",dt(q0,"unSelect"))}function Bme(n){n.registerComponentModel(fF),n.registerComponentView(Rme),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,Avt),n.registerSubTypeDefaulter("legend",function(){return"plain"}),Nvt(n)}var kvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,i,r){var o=Uy(t);n.prototype.init.call(this,t,i,r),WJ(this,t,o)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),WJ(this,this.option,t)},e.type="legend.scroll",e.defaultOption=Dh(fF.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(fF);function WJ(n,e,t){var i=n.getOrient(),r=[1,1];r[i.index]=0,_h(e,t,{type:"box",ignoreSize:!!r})}const Pvt=kvt;var zJ=st,LP=["width","height"],TP=["x","y"],Ovt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new zJ),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new zJ)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,i,r,o,s,a,l){var u=this;n.prototype.renderInner.call(this,t,i,r,o,s,a,l);var c=this._controllerGroup,d=i.get("pageIconSize",!0),h=we(d)?d:[d,d];g("pagePrev",0);var f=i.getModel("pageTextStyle");c.add(new Zt({name:"pageText",style:{text:"xx/xx",fill:f.getTextColor(),font:f.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1);function g(p,m){var v=p+"DataIndex",y=Nw(i.get("pageIcons",!0)[i.getOrient().name][m],{onclick:We(u._pageGo,u,v,i,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});y.name=p,c.add(y)}},e.prototype.layoutInner=function(t,i,r,o,s,a){var l=this.getSelectorGroup(),u=t.getOrient().index,c=LP[u],d=TP[u],h=LP[1-u],f=TP[1-u];s&&xg("horizontal",l,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),p=l.getBoundingRect(),m=[-p.x,-p.y],v=rt(r);s&&(v[c]=r[c]-p[c]-g);var y=this._layoutContentAndController(t,o,v,u,c,h,f,d);if(s){if(a==="end")m[u]+=y[c]+g;else{var _=p[c]+g;m[u]-=_,y[d]-=_}y[c]+=p[c]+g,m[1-u]+=y[f]+y[h]/2-p[h]/2,y[h]=Math.max(y[h],p[h]),y[f]=Math.min(y[f],p[f]+m[1-u]),l.x=m[0],l.y=m[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,i,r,o,s,a,l,u){var c=this.getContentGroup(),d=this._containerGroup,h=this._controllerGroup;xg(t.get("orient"),c,t.get("itemGap"),o?r.width:null,o?null:r.height),xg("horizontal",h,t.get("pageButtonItemGap",!0));var f=c.getBoundingRect(),g=h.getBoundingRect(),p=this._showController=f[s]>r[s],m=[-f.x,-f.y];i||(m[o]=c[u]);var v=[0,0],y=[-g.x,-g.y],_=gt(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(p){var b=t.get("pageButtonPosition",!0);b==="end"?y[o]+=r[s]-g[s]:v[o]+=g[s]+_}y[1-o]+=f[a]/2-g[a]/2,c.setPosition(m),d.setPosition(v),h.setPosition(y);var S={x:0,y:0};if(S[s]=p?r[s]:f[s],S[a]=Math.max(f[a],g[a]),S[l]=Math.min(0,g[l]+y[1-o]),d.__rectSize=r[s],p){var w={x:0,y:0};w[s]=Math.max(r[s]-g[s]-_,0),w[a]=S[a],d.setClipPath(new Gt({shape:w})),d.__rectSize=w[s]}else h.eachChild(function(x){x.attr({invisible:!0,silent:!0})});var C=this._getPageInfo(t);return C.pageIndex!=null&&rn(c,{x:C.contentPosition[0],y:C.contentPosition[1]},p?t:null),this._updatePageInfoView(t,C),S},e.prototype._pageGo=function(t,i,r){var o=this._getPageInfo(i)[t];o!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:i.id})},e.prototype._updatePageInfoView=function(t,i){var r=this._controllerGroup;B(["pagePrev","pageNext"],function(c){var d=c+"DataIndex",h=i[d]!=null,f=r.childOfName(c);f&&(f.setStyle("fill",h?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),f.cursor=h?"pointer":"default")});var o=r.childOfName("pageText"),s=t.get("pageFormatter"),a=i.pageIndex,l=a!=null?a+1:0,u=i.pageCount;o&&s&&o.setStyle("text",$e(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},e.prototype._getPageInfo=function(t){var i=t.get("scrollDataIndex",!0),r=this.getContentGroup(),o=this._containerGroup.__rectSize,s=t.getOrient().index,a=LP[s],l=TP[s],u=this._findTargetItemIndex(i),c=r.children(),d=c[u],h=c.length,f=h?1:0,g={contentPosition:[r.x,r.y],pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var p=b(d);g.contentPosition[s]=-p.s;for(var m=u+1,v=p,y=p,_=null;m<=h;++m)_=b(c[m]),(!_&&y.e>v.s+o||_&&!S(_,v.s))&&(y.i>v.i?v=y:v=_,v&&(g.pageNextDataIndex==null&&(g.pageNextDataIndex=v.i),++g.pageCount)),y=_;for(var m=u-1,v=p,y=p,_=null;m>=-1;--m)_=b(c[m]),(!_||!S(y,_.s))&&v.i<y.i&&(y=v,g.pagePrevDataIndex==null&&(g.pagePrevDataIndex=v.i),++g.pageCount,++g.pageIndex),v=_;return g;function b(w){if(w){var C=w.getBoundingRect(),x=C[l]+w[l];return{s:x,e:x+C[a],i:w.__legendDataIndex}}}function S(w,C){return w.e>=C&&w.s<=C+o}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var i,r=this.getContentGroup(),o;return r.eachChild(function(s,a){var l=s.__legendDataIndex;o==null&&l!=null&&(o=a),l===t&&(i=a)}),i??o},e.type="legend.scroll",e}(Rme);const Rvt=Ovt;function Bvt(n){n.registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;i!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(r){r.setScrollDataIndex(i)})})}function Fvt(n){Lt(Bme),n.registerComponentModel(Pvt),n.registerComponentView(Rvt),Bvt(n)}function $vt(n){Lt(Bme),Lt(Fvt)}var Vvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.inside",e.defaultOption=Dh(KS.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(KS);const Wvt=Vvt;var SH=Kt();function zvt(n,e,t){SH(n).coordSysRecordMap.each(function(i){var r=i.dataZoomInfoMap.get(e.uid);r&&(r.getRange=t)})}function Hvt(n,e){for(var t=SH(n).coordSysRecordMap,i=t.keys(),r=0;r<i.length;r++){var o=i[r],s=t.get(o),a=s.dataZoomInfoMap;if(a){var l=e.uid,u=a.get(l);u&&(a.removeKey(l),a.keys().length||Fme(t,s))}}}function Fme(n,e){if(e){n.removeKey(e.model.uid);var t=e.controller;t&&t.dispose()}}function Uvt(n,e){var t={model:e,containsPoint:dt(Kvt,e),dispatchAction:dt(Gvt,n),dataZoomInfoMap:null,controller:null},i=t.controller=new Uw(n.getZr());return B(["pan","zoom","scrollMove"],function(r){i.on(r,function(o){var s=[];t.dataZoomInfoMap.each(function(a){if(o.isAvailableBehavior(a.model.option)){var l=(a.getRange||{})[r],u=l&&l(a.dzReferCoordSysInfo,t.model.mainType,t.controller,o);!a.model.get("disabled",!0)&&u&&s.push({dataZoomId:a.model.id,start:u[0],end:u[1]})}}),s.length&&t.dispatchAction(s)})}),t}function Gvt(n,e){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Kvt(n,e,t,i){return n.coordinateSystem.containPoint([t,i])}function jvt(n){var e,t="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(function(o){var s=o.model,a=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;i[t+a]>i[t+e]&&(e=a),r=r&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}function qvt(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(e,t){var i=SH(t),r=i.coordSysRecordMap||(i.coordSysRecordMap=Ue());r.each(function(o){o.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){var s=_me(o);B(s.infoList,function(a){var l=a.model.uid,u=r.get(l)||r.set(l,Uvt(t,a.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Ue());c.set(o.uid,{dzReferCoordSysInfo:a,model:o,getRange:null})})}),r.each(function(o){var s=o.controller,a,l=o.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(a=l.get(u))}if(!a){Fme(r,o);return}var c=jvt(l);s.enable(c.controlType,c.opt),s.setPointerChecker(o.containsPoint),qy(o,"dispatchAction",a.model.get("throttle",!0),"fixRate")})})}var Yvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return e.prototype.render=function(t,i,r){if(n.prototype.render.apply(this,arguments),t.noTarget()){this._clear();return}this.range=t.getPercentRange(),zvt(r,t,{pan:We(IP.pan,this),zoom:We(IP.zoom,this),scrollMove:We(IP.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Hvt(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(hH),IP={zoom:function(n,e,t,i){var r=this.range,o=r.slice(),s=n.axisModels[0];if(s){var a=DP[e](null,[i.originX,i.originY],s,t,n),l=(a.signal>0?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(o[1]-o[0])+o[0],u=Math.max(1/i.scale,0);o[0]=(o[0]-l)*u+l,o[1]=(o[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ap(0,o,[0,100],0,c.minSpan,c.maxSpan),this.range=o,r[0]!==o[0]||r[1]!==o[1])return o}},pan:HJ(function(n,e,t,i,r,o){var s=DP[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,t);return s.signal*(n[1]-n[0])*s.pixel/s.pixelLength}),scrollMove:HJ(function(n,e,t,i,r,o){var s=DP[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,t);return s.signal*(n[1]-n[0])*o.scrollDelta})};function HJ(n){return function(e,t,i,r){var o=this.range,s=o.slice(),a=e.axisModels[0];if(a){var l=n(s,a,e,t,i,r);if(Ap(l,s,[0,100],"all"),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}}}var DP={grid:function(n,e,t,i,r){var o=t.axis,s={},a=r.model.coordinateSystem.getRect();return n=n||[0,0],o.dim==="x"?(s.pixel=e[0]-n[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s},polar:function(n,e,t,i,r){var o=t.axis,s={},a=r.model.coordinateSystem,l=a.getRadiusAxis().getExtent(),u=a.getAngleAxis().getExtent();return n=n?a.pointToCoord(n):[0,0],e=a.pointToCoord(e),t.mainType==="radiusAxis"?(s.pixel=e[0]-n[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=o.inverse?1:-1):(s.pixel=e[1]-n[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=o.inverse?-1:1),s},singleAxis:function(n,e,t,i,r){var o=t.axis,s=r.model.coordinateSystem.getRect(),a={};return n=n||[0,0],o.orient==="horizontal"?(a.pixel=e[0]-n[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-n[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a}};const Xvt=Yvt;function $me(n){fH(n),n.registerComponentModel(Wvt),n.registerComponentView(Xvt),qvt(n)}var Zvt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Dh(KS.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(KS);const Qvt=Zvt;var Y0=Gt,UJ=7,Jvt=1,EP=30,eyt=7,X0="horizontal",GJ="vertical",tyt=5,nyt=["line","bar","candlestick","scatter"],iyt={easing:"cubicOut",duration:100,delay:0},ryt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._displayables={},t}return e.prototype.init=function(t,i){this.api=i,this._onBrush=We(this._onBrush,this),this._onBrushEnd=We(this._onBrushEnd,this)},e.prototype.render=function(t,i,r,o){if(n.prototype.render.apply(this,arguments),qy(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),t.get("show")===!1){this.group.removeAll();return}if(t.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!=="dataZoom"||o.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){PS(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new st;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,i=this.api,r=t.get("brushSelect"),o=r?eyt:0,s=this._findCoordRect(),a={width:i.getWidth(),height:i.getHeight()},l=this._orient===X0?{right:a.width-s.x-s.width,top:a.height-EP-UJ-o,width:s.width,height:EP}:{right:UJ,top:s.y,width:EP,height:s.height},u=Uy(t.option);B(["right","top","width","height"],function(d){u[d]==="ph"&&(u[d]=l[d])});var c=tr(u,a);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===GJ&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,i=this._location,r=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),s=o&&o.get("inverse"),a=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(r===X0&&!s?{scaleY:l?1:-1,scaleX:1}:r===X0&&s?{scaleY:l?1:-1,scaleX:-1}:r===GJ&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=t.getBoundingRect([a]);t.x=i.x-u.x,t.y=i.y-u.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,i=this._size,r=this._displayables.sliderGroup,o=t.get("brushSelect");r.add(new Y0({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var s=new Y0({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:We(this._onClickPanel,this)}),a=this.api.getZr();o?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),r.add(s)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var i=this._size,r=this._shadowSize||[],o=t.series,s=o.getRawData(),a=o.getShadowDim&&o.getShadowDim(),l=a&&s.getDimensionInfo(a)?o.getShadowDim():t.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||i[0]!==r[0]||i[1]!==r[1]){var d=s.getDataExtent(l),h=(d[1]-d[0])*.3;d=[d[0]-h,d[1]+h];var f=[0,i[1]],g=[0,i[0]],p=[[i[0],0],[0,0]],m=[],v=g[1]/(s.count()-1),y=0,_=Math.round(s.count()/i[0]),b;s.each([l],function(L,T){if(_>0&&T%_){y+=v;return}var I=L==null||isNaN(L)||L==="",D=I?0:yn(L,d,f,!0);I&&!b&&T?(p.push([p[p.length-1][0],0]),m.push([m[m.length-1][0],0])):!I&&b&&(p.push([y,0]),m.push([y,0])),p.push([y,D]),m.push([y,D]),y+=v,b=I}),u=this._shadowPolygonPts=p,c=this._shadowPolylinePts=m}this._shadowData=s,this._shadowDim=l,this._shadowSize=[i[0],i[1]];var S=this.dataZoomModel;function w(L){var T=S.getModel(L?"selectedDataBackground":"dataBackground"),I=new st,D=new Zo({shape:{points:u},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),M=new ts({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return I.add(D),I.add(M),I}for(var C=0;C<3;C++){var x=w(C===1);this._displayables.sliderGroup.add(x),this._displayables.dataShadowSegs.push(x)}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,i=t.get("showDataShadow");if(i!==!1){var r,o=this.ecModel;return t.eachTargetAxis(function(s,a){var l=t.getAxisProxy(s,a).getTargetSeriesModels();B(l,function(u){if(!r&&!(i!==!0&&Ct(nyt,u.get("type"))<0)){var c=o.getComponent(zd(s),a).axis,d=oyt(s),h,f=u.coordinateSystem;d!=null&&f.getOtherAxis&&(h=f.getOtherAxis(c).inverse),d=u.getData().mapDimension(d),r={thisAxis:c,series:u,thisDim:s,otherDim:d,otherAxisInverse:h}}},this)},this),r}},e.prototype._renderHandle=function(){var t=this.group,i=this._displayables,r=i.handles=[null,null],o=i.handleLabels=[null,null],s=this._displayables.sliderGroup,a=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,d=l.get("brushSelect"),h=i.filler=new Y0({silent:d,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(h),s.add(new Y0({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:Jvt,fill:"rgba(0,0,0,0)"}})),B([0,1],function(_){var b=l.get("handleIcon");!PI[b]&&b.indexOf("path://")<0&&b.indexOf("image://")<0&&(b="path://"+b);var S=Wi(b,-1,0,2,2,null,!0);S.attr({cursor:KJ(this._orient),draggable:!0,drift:We(this._onDragMove,this,_),ondragend:We(this._onDragEnd,this),onmouseover:We(this._showDataInfo,this,!0),onmouseout:We(this._showDataInfo,this,!1),z2:5});var w=S.getBoundingRect(),C=l.get("handleSize");this._handleHeight=Fe(C,this._size[1]),this._handleWidth=w.width/w.height*this._handleHeight,S.setStyle(l.getModel("handleStyle").getItemStyle()),S.style.strokeNoScale=!0,S.rectHover=!0,S.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),wg(S);var x=l.get("handleColor");x!=null&&(S.style.fill=x),s.add(r[_]=S);var L=l.getModel("textStyle");t.add(o[_]=new Zt({silent:!0,invisible:!0,style:zn(L,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:L.getTextColor(),font:L.getFont()}),z2:10}))},this);var f=h;if(d){var g=Fe(l.get("moveHandleSize"),a[1]),p=i.moveHandle=new Gt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:g}}),m=g*.8,v=i.moveHandleIcon=Wi(l.get("moveHandleIcon"),-m/2,-m/2,m,m,"#fff",!0);v.silent=!0,v.y=a[1]+g/2-.5,p.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(a[1]/2,Math.max(g,10));f=i.moveZone=new Gt({invisible:!0,shape:{y:a[1]-y,height:g+y}}),f.on("mouseover",function(){u.enterEmphasis(p)}).on("mouseout",function(){u.leaveEmphasis(p)}),s.add(p),s.add(v),s.add(f)}f.attr({draggable:!0,cursor:KJ(this._orient),drift:We(this._onDragMove,this,"all"),ondragstart:We(this._showDataInfo,this,!0),ondragend:We(this._onDragEnd,this),onmouseover:We(this._showDataInfo,this,!0),onmouseout:We(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[yn(t[0],[0,100],i,!0),yn(t[1],[0,100],i,!0)]},e.prototype._updateInterval=function(t,i){var r=this.dataZoomModel,o=this._handleEnds,s=this._getViewExtent(),a=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Ap(i,o,s,r.get("zoomLock")?"all":t,a.minSpan!=null?yn(a.minSpan,l,s,!0):null,a.maxSpan!=null?yn(a.maxSpan,l,s,!0):null);var u=this._range,c=this._range=sa([yn(o[0],s,l,!0),yn(o[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},e.prototype._updateView=function(t){var i=this._displayables,r=this._handleEnds,o=sa(r.slice()),s=this._size;B([0,1],function(f){var g=i.handles[f],p=this._handleHeight;g.attr({scaleX:p/2,scaleY:p/2,x:r[f]+(f?-1:1),y:s[1]/2-p/2})},this),i.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:s[1]});var a={x:o[0],width:o[1]-o[0]};i.moveHandle&&(i.moveHandle.setShape(a),i.moveZone.setShape(a),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",a.x+a.width/2));for(var l=i.dataShadowSegs,u=[0,o[0],o[1],s[0]],c=0;c<l.length;c++){var d=l[c],h=d.getClipPath();h||(h=new Gt,d.setClipPath(h)),h.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var i=this.dataZoomModel,r=this._displayables,o=r.handleLabels,s=this._orient,a=["",""];if(i.get("showDetail")){var l=i.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,d=t?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();a=[this._formatLabel(d[0],u),this._formatLabel(d[1],u)]}}var h=sa(this._handleEnds.slice());f.call(this,0),f.call(this,1);function f(g){var p=Cg(r.handles[g].parent,this.group),m=hM(g===0?"right":"left",p),v=this._handleWidth/2+tyt,y=nl([h[g]+(g===0?-v:v),this._size[1]/2],p);o[g].setStyle({x:y[0],y:y[1],verticalAlign:s===X0?"middle":m,align:s===X0?m:"center",text:a[g]})}},e.prototype._formatLabel=function(t,i){var r=this.dataZoomModel,o=r.get("labelFormatter"),s=r.get("labelPrecision");(s==null||s==="auto")&&(s=i.getPixelPrecision());var a=t==null||isNaN(t)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(s,20));return qe(o)?o(t,a):$e(o)?o.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var i=this._displayables,r=i.handleLabels;r[0].attr("invisible",!t),r[1].attr("invisible",!t),i.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](i.moveHandle,1)},e.prototype._onDragMove=function(t,i,r,o){this._dragging=!0,Mc(o.event);var s=this._displayables.sliderGroup.getLocalTransform(),a=nl([i,r],s,!0),l=this._updateInterval(t,a[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var i=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>i[0]||r[1]<0||r[1]>i[1])){var o=this._handleEnds,s=(o[0]+o[1])/2,a=this._updateInterval("all",r[0]-s);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var i=t.offsetX,r=t.offsetY;this._brushStart=new ft(i,r),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var r=i.shape,o=+new Date;if(!(o-this._brushStartTime<200&&Math.abs(r.width)<5)){var s=this._getViewExtent(),a=[0,100];this._range=sa([yn(r.x,s,a,!0),yn(r.x+r.width,s,a,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(Mc(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,i){var r=this._displayables,o=this.dataZoomModel,s=r.brushRect;s||(s=r.brushRect=new Y0({silent:!0,style:o.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(s)),s.attr("ignore",!1);var a=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(t,i),c=l.transformCoordToLocal(a.x,a.y),d=this._size;u[0]=Math.max(Math.min(d[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:d[1]})},e.prototype._dispatchZoomAction=function(t){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?iyt:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var t,i=_me(this.dataZoomModel).infoList;if(!t&&i.length){var r=i[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var o=this.api.getWidth(),s=this.api.getHeight();t={x:o*.2,y:s*.2,width:o*.6,height:s*.6}}return t},e.type="dataZoom.slider",e}(hH);function oyt(n){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[n]}function KJ(n){return n==="vertical"?"ns-resize":"ew-resize"}const syt=ryt;function Vme(n){n.registerComponentModel(Qvt),n.registerComponentView(syt),fH(n)}function ayt(n){Lt($me),Lt(Vme)}var lyt={get:function(n,e,t){var i=rt((uyt[n]||{})[e]);return t&&we(i)?i[i.length-1]:i}},uyt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const Wme=lyt;var jJ=$r.mapVisual,cyt=$r.eachVisual,dyt=we,qJ=B,hyt=sa,fyt=yn,gyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return e.prototype.init=function(t,i,r){this.mergeDefaultAndTheme(t,r)},e.prototype.optionUpdated=function(t,i){var r=this.option;!i&&Eme(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var i=this.stateList;t=We(t,this),this.controllerVisuals=cF(this.option.controller,i,t),this.targetVisuals=cF(this.option.target,i,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,i=[];return t==null||t==="all"?this.ecModel.eachSeries(function(r,o){i.push(o)}):i=Pn(t),i},e.prototype.eachTargetSeries=function(t,i){B(this.getTargetSeriesIndices(),function(r){var o=this.ecModel.getSeriesByIndex(r);o&&t.call(i,o)},this)},e.prototype.isTargetSeries=function(t){var i=!1;return this.eachTargetSeries(function(r){r===t&&(i=!0)}),i},e.prototype.formatValueText=function(t,i,r){var o=this.option,s=o.precision,a=this.dataBound,l=o.formatter,u;r=r||["<",">"],we(t)&&(t=t.slice(),u=!0);var c=i?t:u?[d(t[0]),d(t[1])]:d(t);if($e(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(qe(l))return u?l(t[0],t[1]):l(t);if(u)return t[0]===a[0]?r[0]+" "+c[1]:t[1]===a[1]?r[1]+" "+c[0]:c[0]+" - "+c[1];return c;function d(h){return h===a[0]?"min":h===a[1]?"max":(+h).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var t=this.option,i=hyt([t.min,t.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(t){var i=this.option.dimension;if(i!=null)return t.getDimensionIndex(i);for(var r=t.dimensions,o=r.length-1;o>=0;o--){var s=r[o],a=t.getDimensionInfo(s);if(!a.isCalculationCoord)return a.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,i=this.option,r={inRange:i.inRange,outOfRange:i.outOfRange},o=i.target||(i.target={}),s=i.controller||(i.controller={});pt(o,r),pt(s,r);var a=this.isCategory();l.call(this,o),l.call(this,s),u.call(this,o,"inRange","outOfRange"),c.call(this,s);function l(d){dyt(i.color)&&!d.inRange&&(d.inRange={color:i.color.slice().reverse()}),d.inRange=d.inRange||{color:t.get("gradientColor")}}function u(d,h,f){var g=d[h],p=d[f];g&&!p&&(p=d[f]={},qJ(g,function(m,v){if($r.isValidType(v)){var y=Wme.get(v,"inactive",a);y!=null&&(p[v]=y,v==="color"&&!p.hasOwnProperty("opacity")&&!p.hasOwnProperty("colorAlpha")&&(p.opacity=[0,0]))}}))}function c(d){var h=(d.inRange||{}).symbol||(d.outOfRange||{}).symbol,f=(d.inRange||{}).symbolSize||(d.outOfRange||{}).symbolSize,g=this.get("inactiveColor"),p=this.getItemSymbol(),m=p||"roundRect";qJ(this.stateList,function(v){var y=this.itemSize,_=d[v];_||(_=d[v]={color:a?g:[g]}),_.symbol==null&&(_.symbol=h&&rt(h)||(a?m:[m])),_.symbolSize==null&&(_.symbolSize=f&&rt(f)||(a?y[0]:[y[0],y[0]])),_.symbol=jJ(_.symbol,function(w){return w==="none"?m:w});var b=_.symbolSize;if(b!=null){var S=-1/0;cyt(b,function(w){w>S&&(S=w)}),_.symbolSize=jJ(b,function(w){return fyt(w,[0,S],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(qt);const oD=gyt;var YJ=[20,140],pyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(t[0]==null||isNaN(t[0]))&&(t[0]=YJ[0]),(t[1]==null||isNaN(t[1]))&&(t[1]=YJ[1])},e.prototype._resetRange=function(){var t=this.getExtent(),i=this.option.range;!i||i.auto?(t.auto=1,this.option.range=t):we(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],t[0]),i[1]=Math.min(i[1],t[1]))},e.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),B(this.stateList,function(t){var i=this.option.controller[t].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),i=sa((this.get("range")||[]).slice());return i[0]>t[1]&&(i[0]=t[1]),i[1]>t[1]&&(i[1]=t[1]),i[0]<t[0]&&(i[0]=t[0]),i[1]<t[0]&&(i[1]=t[0]),i},e.prototype.getValueState=function(t){var i=this.option.range,r=this.getExtent();return(i[0]<=r[0]||i[0]<=t)&&(i[1]>=r[1]||t<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[];return this.eachTargetSeries(function(r){var o=[],s=r.getData();s.each(this.getDataDimensionIndex(s),function(a,l){t[0]<=a&&a<=t[1]&&o.push(l)},this),i.push({seriesId:r.id,dataIndex:o})},this),i},e.prototype.getVisualMeta=function(t){var i=XJ(this,"outOfRange",this.getExtent()),r=XJ(this,"inRange",this.option.range.slice()),o=[];function s(f,g){o.push({value:f,color:t(f,g)})}for(var a=0,l=0,u=r.length,c=i.length;l<c&&(!r.length||i[l]<=r[0]);l++)i[l]<r[a]&&s(i[l],"outOfRange");for(var d=1;a<u;a++,d=0)d&&o.length&&s(r[a],"outOfRange"),s(r[a],"inRange");for(var d=1;l<c;l++)(!r.length||r[r.length-1]<i[l])&&(d&&(o.length&&s(o[o.length-1].value,"outOfRange"),d=0),s(i[l],"outOfRange"));var h=o.length;return{stops:o,outerColors:[h?o[0].color:"transparent",h?o[h-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Dh(oD.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(oD);function XJ(n,e,t){if(t[0]===t[1])return t.slice();for(var i=200,r=(t[1]-t[0])/i,o=t[0],s=[],a=0;a<=i&&o<t[1];a++)s.push(o),o+=r;return s.push(t[1]),s}const myt=pyt;var vyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return e.prototype.init=function(t,i){this.ecModel=t,this.api=i},e.prototype.render=function(t,i,r,o){if(this.visualMapModel=t,t.get("show")===!1){this.group.removeAll();return}this.doRender(t,i,r,o)},e.prototype.renderBackground=function(t){var i=this.visualMapModel,r=Hy(i.get("padding")||0),o=t.getBoundingRect();t.add(new Gt({z2:-1,silent:!0,shape:{x:o.x-r[3],y:o.y-r[0],width:o.width+r[3]+r[1],height:o.height+r[0]+r[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,i,r){r=r||{};var o=r.forceState,s=this.visualMapModel,a={};if(i==="color"){var l=s.get("contentColor");a.color=l}function u(f){return a[f]}function c(f,g){a[f]=g}var d=s.controllerVisuals[o||s.getValueState(t)],h=$r.prepareVisualTypes(d);return B(h,function(f){var g=d[f];r.convertOpacityToAlpha&&f==="opacity"&&(f="colorAlpha",g=d.__alphaForOpacity),$r.dependsOn(f,i)&&g&&g.applyVisual(t,u,c)}),a[i]},e.prototype.positionGroup=function(t){var i=this.visualMapModel,r=this.api;_M(t,i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},e.prototype.doRender=function(t,i,r,o){},e.type="visualMap",e}(vi);const zme=vyt;var ZJ=[["left","right","width"],["top","bottom","height"]];function Hme(n,e,t){var i=n.option,r=i.align;if(r!=null&&r!=="auto")return r;for(var o={width:e.getWidth(),height:e.getHeight()},s=i.orient==="horizontal"?1:0,a=ZJ[s],l=[0,null,10],u={},c=0;c<3;c++)u[ZJ[1-s][c]]=l[c],u[a[c]]=c===2?t[0]:i[a[c]];var d=[["x","width",3],["y","height",0]][s],h=tr(u,o,i.padding);return a[(h.margin[d[2]]||0)+h[d[0]]+h[d[1]]*.5<o[d[1]]*.5?0:1]}function xL(n,e){return B(n||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),n}var Ml=yn,yyt=B,QJ=Math.min,MP=Math.max,_yt=12,byt=6,Syt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return e.prototype.doRender=function(t,i,r,o){this._api=r,(!o||o.type!=="selectDataRange"||o.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,i=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(i);var r=t.get("text");this._renderEndsText(i,r,0),this._renderEndsText(i,r,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(t,i,r){if(i){var o=i[1-r];o=o!=null?o+"":"";var s=this.visualMapModel,a=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,r===0?-a:l[1]+a],u),d=this._applyTransform(r===0?"bottom":"top",u),h=this._orient,f=this.visualMapModel.textStyleModel;this.group.add(new Zt({style:zn(f,{x:c[0],y:c[1],verticalAlign:h==="horizontal"?"middle":d,align:h==="horizontal"?d:"center",text:o})}))}},e.prototype._renderBar=function(t){var i=this.visualMapModel,r=this._shapes,o=i.itemSize,s=this._orient,a=this._useHandle,l=Hme(i,this.api,o),u=r.mainGroup=this._createBarGroup(l),c=new st;u.add(c),c.add(r.outOfRange=JJ()),c.add(r.inRange=JJ(null,a?tee(this._orient):null,We(this._dragHandle,this,"all",!1),We(this._dragHandle,this,"all",!0))),c.setClipPath(new Gt({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var d=i.textStyleModel.getTextRect(""),h=MP(d.width,d.height);a&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(i,u,0,o,h,s),this._createHandle(i,u,1,o,h,s)),this._createIndicator(i,u,o,h,s),t.add(u)},e.prototype._createHandle=function(t,i,r,o,s,a){var l=We(this._dragHandle,this,r,!1),u=We(this._dragHandle,this,r,!0),c=al(t.get("handleSize"),o[0]),d=Wi(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=tee(this._orient);d.attr({cursor:h,draggable:!0,drift:l,ondragend:u,onmousemove:function(v){Mc(v.event)}}),d.x=o[0]/2,d.useStyle(t.getModel("handleStyle").getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Jf(d,!0),i.add(d);var f=this.visualMapModel.textStyleModel,g=new Zt({cursor:h,draggable:!0,drift:l,onmousemove:function(v){Mc(v.event)},ondragend:u,style:zn(f,{x:0,y:0,text:""})});g.ensureState("blur").style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var p=[c,0],m=this._shapes;m.handleThumbs[r]=d,m.handleLabelPoints[r]=p,m.handleLabels[r]=g},e.prototype._createIndicator=function(t,i,r,o,s){var a=al(t.get("indicatorSize"),r[0]),l=Wi(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Hr){var c=l.style;l.useStyle(be({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);i.add(l);var d=this.visualMapModel.textStyleModel,h=new Zt({silent:!0,invisible:!0,style:zn(d,{x:0,y:0,text:""})});this.group.add(h);var f=[(s==="horizontal"?o/2:byt)+r[0]/2,0],g=this._shapes;g.indicator=l,g.indicatorLabel=h,g.indicatorLabelPoint=f,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,i,r,o){if(this._useHandle){if(this._dragging=!i,!i){var s=this._applyTransform([r,o],this._shapes.mainGroup,!0);this._updateInterval(t,s[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():eee(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,i=this._dataInterval=t.getSelected(),r=t.getExtent(),o=[0,t.itemSize[1]];this._handleEnds=[Ml(i[0],r,o,!0),Ml(i[1],r,o,!0)]},e.prototype._updateInterval=function(t,i){i=i||0;var r=this.visualMapModel,o=this._handleEnds,s=[0,r.itemSize[1]];Ap(i,o,s,t,0);var a=r.getExtent();this._dataInterval=[Ml(o[0],s,a,!0),Ml(o[1],s,a,!0)]},e.prototype._updateView=function(t){var i=this.visualMapModel,r=i.getExtent(),o=this._shapes,s=[0,i.itemSize[1]],a=t?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,a,"inRange"),u=this._createBarVisual(r,r,s,"outOfRange");o.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),o.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(a,l)},e.prototype._createBarVisual=function(t,i,r,o){var s={forceState:o,convertOpacityToAlpha:!0},a=this._makeColorGradient(t,s),l=[this.getControllerVisual(t[0],"symbolSize",s),this.getControllerVisual(t[1],"symbolSize",s)],u=this._createBarPoints(r,l);return{barColor:new Mw(0,0,0,1,a),barPoints:u,handlesColor:[a[0].color,a[a.length-1].color]}},e.prototype._makeColorGradient=function(t,i){var r=100,o=[],s=(t[1]-t[0])/r;o.push({color:this.getControllerVisual(t[0],"color",i),offset:0});for(var a=1;a<r;a++){var l=t[0]+s*a;if(l>t[1])break;o.push({color:this.getControllerVisual(l,"color",i),offset:a/r})}return o.push({color:this.getControllerVisual(t[1],"color",i),offset:1}),o},e.prototype._createBarPoints=function(t,i){var r=this.visualMapModel.itemSize;return[[r[0]-i[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-i[1],t[1]]]},e.prototype._createBarGroup=function(t){var i=this._orient,r=this.visualMapModel.get("inverse");return new st(i==="horizontal"&&!r?{scaleX:t==="bottom"?1:-1,rotation:Math.PI/2}:i==="horizontal"&&r?{scaleX:t==="bottom"?-1:1,rotation:-Math.PI/2}:i==="vertical"&&!r?{scaleX:t==="left"?1:-1,scaleY:-1}:{scaleX:t==="left"?1:-1})},e.prototype._updateHandle=function(t,i){if(this._useHandle){var r=this._shapes,o=this.visualMapModel,s=r.handleThumbs,a=r.handleLabels,l=o.itemSize,u=o.getExtent();yyt([0,1],function(c){var d=s[c];d.setStyle("fill",i.handlesColor[c]),d.y=t[c];var h=Ml(t[c],[0,l[1]],u,!0),f=this.getControllerVisual(h,"symbolSize");d.scaleX=d.scaleY=f/l[0],d.x=l[0]-f/2;var g=nl(r.handleLabelPoints[c],Cg(d,this.group));a[c].setStyle({x:g[0],y:g[1],text:o.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(t,i,r,o){var s=this.visualMapModel,a=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,d=c.indicator;if(d){d.attr("invisible",!1);var h={convertOpacityToAlpha:!0},f=this.getControllerVisual(t,"color",h),g=this.getControllerVisual(t,"symbolSize"),p=Ml(t,a,u,!0),m=l[0]-g/2,v={x:d.x,y:d.y};d.y=p,d.x=m;var y=nl(c.indicatorLabelPoint,Cg(d,this.group)),_=c.indicatorLabel;_.attr("invisible",!1);var b=this._applyTransform("left",c.mainGroup),S=this._orient,w=S==="horizontal";_.setStyle({text:(r||"")+s.formatValueText(i),verticalAlign:w?b:"middle",align:w?"center":b});var C={x:m,y:p,style:{fill:f}},x={style:{x:y[0],y:y[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};d.x=v.x,d.y=v.y,d.animateTo(C,L),_.animateTo(x,L)}else d.attr(C),_.attr(x);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var I=0;I<T.length;I++)this._api.enterBlur(T[I])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(i){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,o=t._applyTransform([i.offsetX,i.offsetY],t._shapes.mainGroup,!0,!0);o[1]=QJ(MP(0,o[1]),r[1]),t._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,i){var r=this.visualMapModel,o=r.itemSize;if(r.option.hoverLink){var s=[0,o[1]],a=r.getExtent();t=QJ(MP(s[0],t),s[1]);var l=wyt(r,a,s),u=[t-l,t+l],c=Ml(t,s,a,!0),d=[Ml(u[0],s,a,!0),Ml(u[1],s,a,!0)];u[0]<s[0]&&(d[0]=-1/0),u[1]>s[1]&&(d[1]=1/0),i&&(d[0]===-1/0?this._showIndicator(c,d[1],"< ",l):d[1]===1/0?this._showIndicator(c,d[0],"> ",l):this._showIndicator(c,c," ",l));var h=this._hoverLinkDataIndices,f=[];(i||eee(r))&&(f=this._hoverLinkDataIndices=r.findTargetDataIndices(d));var g=cXe(h,f);this._dispatchHighDown("downplay",xL(g[0],r)),this._dispatchHighDown("highlight",xL(g[1],r))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var i;if(tg(t.target,function(l){var u=ut(l);if(u.dataIndex!=null)return i=u,!0},!0),!!i){var r=this.ecModel.getSeriesByIndex(i.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(r)){var s=r.getData(i.dataType),a=s.getStore().get(o.getDataDimensionIndex(s),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var r=0;r<i.length;r++)this._api.leaveBlur(i[r])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",xL(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,i,r,o){var s=Cg(i,o?null:this.group);return we(t)?nl(t,s,r):hM(t,s,r)},e.prototype._dispatchHighDown=function(t,i){i&&i.length&&this.api.dispatchAction({type:t,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(zme);function JJ(n,e,t,i){return new Zo({shape:{points:n},draggable:!!t,cursor:e,drift:t,onmousemove:function(r){Mc(r.event)},ondragend:i})}function wyt(n,e,t){var i=_yt/2,r=n.get("hoverLinkDataSize");return r&&(i=Ml(r,e,t,!0)/2),i}function eee(n){var e=n.get("hoverLinkOnHandle");return!!(e??n.get("realtime"))}function tee(n){return n==="vertical"?"ns-resize":"ew-resize"}const Cyt=Syt;var xyt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Lyt=function(n,e){e.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})},Tyt=[{createOnAllSeries:!0,reset:function(n,e){var t=[];return e.eachComponent("visualMap",function(i){var r=n.pipelineContext;!i.isTargetSeries(n)||r&&r.large||t.push(bmt(i.stateList,i.targetVisuals,We(i.getValueState,i),i.getDataDimensionIndex(n.getData())))}),t}},{createOnAllSeries:!0,reset:function(n,e){var t=n.getData(),i=[];e.eachComponent("visualMap",function(r){if(r.isTargetSeries(n)){var o=r.getVisualMeta(We(Iyt,null,n,r))||{stops:[],outerColors:[]},s=r.getDataDimensionIndex(t);s>=0&&(o.dimension=s,i.push(o))}}),n.getData().setVisual("visualMeta",i)}}];function Iyt(n,e,t,i){for(var r=e.targetVisuals[i],o=$r.prepareVisualTypes(r),s={color:Ow(n.getData(),"color")},a=0,l=o.length;a<l;a++){var u=o[a],c=r[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(t,d,h)}return s.color;function d(f){return s[f]}function h(f,g){s[f]=g}}var nee=B;function Dyt(n){var e=n&&n.visualMap;we(e)||(e=e?[e]:[]),nee(e,function(t){if(t){gm(t,"splitList")&&!gm(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var i=t.pieces;i&&we(i)&&nee(i,function(r){et(r)&&(gm(r,"start")&&!gm(r,"min")&&(r.min=r.start),gm(r,"end")&&!gm(r,"max")&&(r.max=r.end))})}})}function gm(n,e){return n&&n.hasOwnProperty&&n.hasOwnProperty(e)}var iee=!1;function Ume(n){iee||(iee=!0,n.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),n.registerAction(xyt,Lyt),B(Tyt,function(e){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,e)}),n.registerPreprocessor(Dyt))}function Gme(n){n.registerComponentModel(myt),n.registerComponentView(Cyt),Ume(n)}var Eyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._pieceList=[],t}return e.prototype.optionUpdated=function(t,i){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],Myt[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var o=this.option.categories;this.resetVisual(function(s,a){r==="categories"?(s.mappingMethod="category",s.categories=rt(o)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Te(this._pieceList,function(l){return l=rt(l),a!=="inRange"&&(l.visual=null),l}))})},e.prototype.completeVisualOption=function(){var t=this.option,i={},r=$r.listVisualTypes(),o=this.isCategory();B(t.pieces,function(a){B(r,function(l){a.hasOwnProperty(l)&&(i[l]=1)})}),B(i,function(a,l){var u=!1;B(this.stateList,function(c){u=u||s(t,c,l)||s(t.target,c,l)},this),!u&&B(this.stateList,function(c){(t[c]||(t[c]={}))[l]=Wme.get(l,c==="inRange"?"active":"inactive",o)})},this);function s(a,l,u){return a&&a[l]&&a[l].hasOwnProperty(u)}n.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,i){var r=this.option,o=this._pieceList,s=(i?r:t).selected||{};if(r.selected=s,B(o,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),r.selectedMode==="single"){var a=!1;B(o,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(a?s[c]=!1:a=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return this._mode==="categories"?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=rt(t)},e.prototype.getValueState=function(t){var i=$r.findPieceIndex(t,this._pieceList);return i!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var i=[],r=this._pieceList;return this.eachTargetSeries(function(o){var s=[],a=o.getData();a.each(this.getDataDimensionIndex(a),function(l,u){var c=$r.findPieceIndex(l,r);c===t&&s.push(u)},this),i.push({seriesId:o.id,dataIndex:s})},this),i},e.prototype.getRepresentValue=function(t){var i;if(this.isCategory())i=t.value;else if(t.value!=null)i=t.value;else{var r=t.interval||[];i=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return i},e.prototype.getVisualMeta=function(t){if(this.isCategory())return;var i=[],r=["",""],o=this;function s(c,d){var h=o.getRepresentValue({interval:c});d||(d=o.getValueState(h));var f=t(h,d);c[0]===-1/0?r[0]=f:c[1]===1/0?r[1]=f:i.push({value:c[0],color:f},{value:c[1],color:f})}var a=this._pieceList.slice();if(!a.length)a.push({interval:[-1/0,1/0]});else{var l=a[0].interval[0];l!==-1/0&&a.unshift({interval:[-1/0,l]}),l=a[a.length-1].interval[1],l!==1/0&&a.push({interval:[l,1/0]})}var u=-1/0;return B(a,function(c){var d=c.interval;d&&(d[0]>u&&s([u,d[0]],"outOfRange"),s(d.slice()),u=d[1])},this),{stops:i,outerColors:r}},e.type="visualMap.piecewise",e.defaultOption=Dh(oD.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(oD),Myt={splitNumber:function(n){var e=this.option,t=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(t)!==o&&t<5;)t++;e.precision=t,o=+o.toFixed(t),e.minOpen&&n.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,a=i[0];s<r;a+=o,s++){var l=s===r-1?i[1]:a+o;n.push({interval:[a,l],close:[1,1]})}e.maxOpen&&n.push({interval:[i[1],1/0],close:[0,0]}),qj(n),B(n,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(n){var e=this.option;B(e.categories,function(t){n.push({text:this.formatValueText(t,!0),value:t})},this),ree(e,n)},pieces:function(n){var e=this.option;B(e.pieces,function(t,i){et(t)||(t={value:t});var r={text:"",index:i};if(t.label!=null&&(r.text=t.label),t.hasOwnProperty("value")){var o=r.value=t.value;r.interval=[o,o],r.close=[1,1]}else{for(var s=r.interval=[],a=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],d=0;d<2;d++){for(var h=[["gte","gt","min"],["lte","lt","max"]][d],f=0;f<3&&s[d]==null;f++)s[d]=t[h[f]],a[d]=l[f],c[d]=f===2;s[d]==null&&(s[d]=u[d])}c[0]&&s[1]===1/0&&(a[0]=0),c[1]&&s[0]===-1/0&&(a[1]=0),s[0]===s[1]&&a[0]&&a[1]&&(r.value=s[0])}r.visual=$r.retrieveVisuals(t),n.push(r)},this),ree(e,n),qj(n),B(n,function(t){var i=t.close,r=[["<",""][i[1]],[">",""][i[0]]];t.text=t.text||this.formatValueText(t.value!=null?t.value:t.interval,!1,r)},this)}};function ree(n,e){var t=n.inverse;(n.orient==="vertical"?!t:t)&&e.reverse()}const Ayt=Eyt;var Nyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.doRender=function(){var t=this.group;t.removeAll();var i=this.visualMapModel,r=i.get("textGap"),o=i.textStyleModel,s=o.getFont(),a=o.getTextColor(),l=this._getItemAlign(),u=i.itemSize,c=this._getViewData(),d=c.endsText,h=Dr(i.get("showLabel",!0),!d);d&&this._renderEndsText(t,d[0],u,h,l),B(c.viewPieceList,function(f){var g=f.piece,p=new st;p.onclick=We(this._onItemClick,this,g),this._enableHoverLink(p,f.indexInModelPieceList);var m=i.getRepresentValue(g);if(this._createItemSymbol(p,m,[0,0,u[0],u[1]]),h){var v=this.visualMapModel.getValueState(m);p.add(new Zt({style:{x:l==="right"?-r:u[0]+r,y:u[1]/2,text:g.text,verticalAlign:"middle",align:l,font:s,fill:a,opacity:v==="outOfRange"?.5:1}}))}t.add(p)},this),d&&this._renderEndsText(t,d[1],u,h,l),xg(i.get("orient"),t,i.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,i){var r=this;t.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(s){var a=r.visualMapModel;a.option.hoverLink&&r.api.dispatchAction({type:s,batch:xL(a.findTargetDataIndices(i),a)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,i=t.option;if(i.orient==="vertical")return Hme(t,this.api,t.itemSize);var r=i.align;return(!r||r==="auto")&&(r="left"),r},e.prototype._renderEndsText=function(t,i,r,o,s){if(i){var a=new st,l=this.visualMapModel.textStyleModel;a.add(new Zt({style:zn(l,{x:o?s==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:o?s:"center",text:i})})),t.add(a)}},e.prototype._getViewData=function(){var t=this.visualMapModel,i=Te(t.getPieceList(),function(a,l){return{piece:a,indexInModelPieceList:l}}),r=t.get("text"),o=t.get("orient"),s=t.get("inverse");return(o==="horizontal"?s:!s)?i.reverse():r&&(r=r.slice().reverse()),{viewPieceList:i,endsText:r}},e.prototype._createItemSymbol=function(t,i,r){t.add(Wi(this.getControllerVisual(i,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(i,"color")))},e.prototype._onItemClick=function(t){var i=this.visualMapModel,r=i.option,o=r.selectedMode;if(o){var s=rt(r.selected),a=i.getSelectedMapKey(t);o==="single"||o===!0?(s[a]=!0,B(s,function(l,u){s[u]=u===a})):s[a]=!s[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(zme);const kyt=Nyt;function Kme(n){n.registerComponentModel(Ayt),n.registerComponentView(kyt),Ume(n)}function Pyt(n){Lt(Gme),Lt(Kme)}var Oyt={label:{enabled:!0},decal:{show:!1}},oee=Kt(),Ryt={};function Byt(n,e){var t=n.getModel("aria");if(!t.get("enabled"))return;var i=rt(Oyt);pt(i.label,n.getLocaleModel().get("aria"),!1),pt(t.option,i,!1),r(),o();function r(){var u=t.getModel("decal"),c=u.get("show");if(c){var d=Ue();n.eachSeries(function(h){if(!h.isColorBySeries()){var f=d.get(h.type);f||(f={},d.set(h.type,f)),oee(h).scope=f}}),n.eachRawSeries(function(h){if(n.isSeriesFiltered(h))return;if(qe(h.enableAriaDecal)){h.enableAriaDecal();return}var f=h.getData();if(h.isColorBySeries()){var y=yB(h.ecModel,h.name,Ryt,n.getSeriesCount()),_=f.getVisual("decal");f.setVisual("decal",b(_,y))}else{var g=h.getRawData(),p={},m=oee(h).scope;f.each(function(S){var w=f.getRawIndex(S);p[w]=S});var v=g.count();g.each(function(S){var w=p[S],C=g.getName(S)||S+"",x=yB(h.ecModel,C,m,v),L=f.getItemVisual(w,"decal");f.setItemVisual(w,"decal",b(L,x))})}function b(S,w){var C=S?be(be({},w),S):w;return C.dirty=!0,C}})}}function o(){var u=n.getLocaleModel().get("aria"),c=t.getModel("label");if(c.option=Qe(c.option,u),!!c.get("enabled")){var d=e.getZr().dom;if(c.get("description")){d.setAttribute("aria-label",c.get("description"));return}var h=n.getSeriesCount(),f=c.get(["data","maxCount"])||10,g=c.get(["series","maxCount"])||10,p=Math.min(h,g),m;if(!(h<1)){var v=a();if(v){var y=c.get(["general","withTitle"]);m=s(y,{title:v})}else m=c.get(["general","withoutTitle"]);var _=[],b=h>1?c.get(["series","multiple","prefix"]):c.get(["series","single","prefix"]);m+=s(b,{seriesCount:h}),n.eachSeries(function(x,L){if(L<p){var T=void 0,I=x.get("name"),D=I?"withName":"withoutName";T=h>1?c.get(["series","multiple",D]):c.get(["series","single",D]),T=s(T,{seriesId:x.seriesIndex,seriesName:x.get("name"),seriesType:l(x.subType)});var M=x.getData();if(M.count()>f){var P=c.get(["data","partialData"]);T+=s(P,{displayCnt:f})}else T+=c.get(["data","allData"]);for(var k=c.get(["data","separator","middle"]),O=c.get(["data","separator","end"]),F=[],R=0;R<M.count();R++)if(R<f){var $=M.getName(R),H=M.getValues(R),U=c.get(["data",$?"withName":"withoutName"]);F.push(s(U,{name:$,value:H.join(k)}))}T+=F.join(k)+O,_.push(T)}});var S=c.getModel(["series","multiple","separator"]),w=S.get("middle"),C=S.get("end");m+=_.join(w)+C,d.setAttribute("aria-label",m)}}}function s(u,c){if(!$e(u))return u;var d=u;return B(c,function(h,f){d=d.replace(new RegExp("\\{\\s*"+f+"\\s*\\}","g"),h)}),d}function a(){var u=n.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){return n.getLocaleModel().get(["series","typeNames"])[u]||""}}function Fyt(n){if(!(!n||!n.aria)){var e=n.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},B(["description","general","series","data"],function(t){e[t]!=null&&(e.label[t]=e[t])})}}function $yt(n){n.registerPreprocessor(Fyt),n.registerVisual(n.PRIORITY.VISUAL.ARIA,Byt)}var see={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Vyt=function(){function n(e){var t=this._condVal=$e(e)?new RegExp(e):Sqe(e)?e:null;if(t==null){var i="";ln(i)}}return n.prototype.evaluate=function(e){var t=typeof e;return $e(t)?this._condVal.test(e):Jt(t)?this._condVal.test(e+""):!1},n}(),Wyt=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),zyt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(!e[t].evaluate())return!1;return!0},n}(),Hyt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=this.children,t=0;t<e.length;t++)if(e[t].evaluate())return!0;return!1},n}(),Uyt=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),Gyt=function(){function n(){}return n.prototype.evaluate=function(){for(var e=!!this.valueParser,t=this.getValue,i=t(this.valueGetterParam),r=e?this.valueParser(i):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(e?r:i))return!1;return!0},n}();function wH(n,e){if(n===!0||n===!1){var t=new Wyt;return t.value=n,t}var i="";return jme(n)||ln(i),n.and?aee("and",n,e):n.or?aee("or",n,e):n.not?Kyt(n,e):jyt(n,e)}function aee(n,e,t){var i=e[n],r="";we(i)||ln(r),i.length||ln(r);var o=n==="and"?new zyt:new Hyt;return o.children=Te(i,function(s){return wH(s,t)}),o.children.length||ln(r),o}function Kyt(n,e){var t=n.not,i="";jme(t)||ln(i);var r=new Uyt;return r.child=wH(t,e),r.child||ln(i),r}function jyt(n,e){for(var t="",i=e.prepareGetValue(n),r=[],o=Et(n),s=n.parser,a=s?whe(s):null,l=0;l<o.length;l++){var u=o[l];if(!(u==="parser"||e.valueGetterAttrMap.get(u))){var c=ze(see,u)?see[u]:u,d=n[u],h=a?a(d):d,f=TJe(c,h)||c==="reg"&&new Vyt(h);f||ln(t),r.push(f)}}r.length||ln(t);var g=new Gyt;return g.valueGetterParam=i,g.valueParser=a,g.getValue=e.getValue,g.subCondList=r,g}function jme(n){return et(n)&&!io(n)}var qyt=function(){function n(e,t){this._cond=wH(e,t)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}();function Yyt(n,e){return new qyt(n,e)}var Xyt={type:"echarts:filter",transform:function(n){for(var e=n.upstream,t,i=Yyt(n.config,{valueGetterAttrMap:Ue({dimension:!0}),prepareGetValue:function(a){var l="",u=a.dimension;ze(a,"dimension")||ln(l);var c=e.getDimensionInfo(u);return c||ln(l),{dimIdx:c.index}},getValue:function(a){return e.retrieveValueFromItem(t,a.dimIdx)}}),r=[],o=0,s=e.count();o<s;o++)t=e.getRawDataItem(o),i.evaluate()&&r.push(t);return{data:r}}},Zyt={type:"echarts:sort",transform:function(n){var e=n.upstream,t=n.config,i="",r=Pn(t);r.length||ln(i);var o=[];B(r,function(c){var d=c.dimension,h=c.order,f=c.parser,g=c.incomparable;if(d==null&&ln(i),h!=="asc"&&h!=="desc"&&ln(i),g&&g!=="min"&&g!=="max"){var p="";ln(p)}if(h!=="asc"&&h!=="desc"){var m="";ln(m)}var v=e.getDimensionInfo(d);v||ln(i);var y=f?whe(f):null;f&&!y&&ln(i),o.push({dimIdx:v.index,parser:y,comparator:new xhe(h,g)})});var s=e.sourceFormat;s!==ro&&s!==ya&&ln(i);for(var a=[],l=0,u=e.count();l<u;l++)a.push(e.getRawDataItem(l));return a.sort(function(c,d){for(var h=0;h<o.length;h++){var f=o[h],g=e.retrieveValueFromItem(c,f.dimIdx),p=e.retrieveValueFromItem(d,f.dimIdx);f.parser&&(g=f.parser(g),p=f.parser(p));var m=f.comparator.evaluate(g,p);if(m!==0)return m}return 0}),{data:a}}};function Qyt(n){n.registerTransform(Xyt),n.registerTransform(Zyt)}var Jyt=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,i,r){n.prototype.init.call(this,t,i,r),this._sourceManager=new Dhe(this),lY(this)},e.prototype.mergeOption=function(t,i){n.prototype.mergeOption.call(this,t,i),lY(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:tu},e}(qt),e0t=function(n){re(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(vi);function t0t(n){n.registerComponentModel(Jyt),n.registerComponentView(e0t)}var xl=pu.CMD;function zm(n,e){return Math.abs(n-e)<1e-5}function vF(n){var e=n.data,t=n.len(),i=[],r,o=0,s=0,a=0,l=0;function u(M,P){r&&r.length>2&&i.push(r),r=[M,P]}function c(M,P,k,O){zm(M,k)&&zm(P,O)||r.push(M,P,k,O,k,O)}function d(M,P,k,O,F,R){var $=Math.abs(P-M),H=Math.tan($/4)*4/3,U=P<M?-1:1,z=Math.cos(M),Z=Math.sin(M),X=Math.cos(P),ce=Math.sin(P),q=z*F+k,j=Z*R+O,ie=X*F+k,Q=ce*R+O,le=F*H*U,ue=R*H*U;r.push(q-le*Z,j+ue*z,ie+le*ce,Q-ue*X,ie,Q)}for(var h,f,g,p,m=0;m<t;){var v=e[m++],y=m===1;switch(y&&(o=e[m],s=e[m+1],a=o,l=s,(v===xl.L||v===xl.C||v===xl.Q)&&(r=[a,l])),v){case xl.M:o=a=e[m++],s=l=e[m++],u(a,l);break;case xl.L:h=e[m++],f=e[m++],c(o,s,h,f),o=h,s=f;break;case xl.C:r.push(e[m++],e[m++],e[m++],e[m++],o=e[m++],s=e[m++]);break;case xl.Q:h=e[m++],f=e[m++],g=e[m++],p=e[m++],r.push(o+2/3*(h-o),s+2/3*(f-s),g+2/3*(h-g),p+2/3*(f-p),g,p),o=g,s=p;break;case xl.A:var _=e[m++],b=e[m++],S=e[m++],w=e[m++],C=e[m++],x=e[m++]+C;m+=1;var L=!e[m++];h=Math.cos(C)*S+_,f=Math.sin(C)*w+b,y?(a=h,l=f,u(a,l)):c(o,s,h,f),o=Math.cos(x)*S+_,s=Math.sin(x)*w+b;for(var T=(L?-1:1)*Math.PI/2,I=C;L?I>x:I<x;I+=T){var D=L?Math.max(I+T,x):Math.min(I+T,x);d(I,D,_,b,S,w)}break;case xl.R:a=o=e[m++],l=s=e[m++],h=a+e[m++],f=l+e[m++],u(h,l),c(h,l,h,f),c(h,f,a,f),c(a,f,a,l),c(a,l,h,l);break;case xl.Z:r&&c(o,s,a,l),o=a,s=l;break}}return r&&r.length>2&&i.push(r),i}function yF(n,e,t,i,r,o,s,a,l,u){if(zm(n,t)&&zm(e,i)&&zm(r,s)&&zm(o,a)){l.push(s,a);return}var c=2/u,d=c*c,h=s-n,f=a-e,g=Math.sqrt(h*h+f*f);h/=g,f/=g;var p=t-n,m=i-e,v=r-s,y=o-a,_=p*p+m*m,b=v*v+y*y;if(_<d&&b<d){l.push(s,a);return}var S=h*p+f*m,w=-h*v-f*y,C=_-S*S,x=b-w*w;if(C<d&&S>=0&&x<d&&w>=0){l.push(s,a);return}var L=[],T=[];vh(n,t,r,s,.5,L),vh(e,i,o,a,.5,T),yF(L[0],T[0],L[1],T[1],L[2],T[2],L[3],T[3],l,u),yF(L[4],T[4],L[5],T[5],L[6],T[6],L[7],T[7],l,u)}function n0t(n,e){var t=vF(n),i=[];e=e||1;for(var r=0;r<t.length;r++){var o=t[r],s=[],a=o[0],l=o[1];s.push(a,l);for(var u=2;u<o.length;){var c=o[u++],d=o[u++],h=o[u++],f=o[u++],g=o[u++],p=o[u++];yF(a,l,c,d,h,f,g,p,s,e),a=g,l=p}i.push(s)}return i}function qme(n,e,t){var i=n[e],r=n[1-e],o=Math.abs(i/r),s=Math.ceil(Math.sqrt(o*t)),a=Math.floor(t/s);a===0&&(a=1,s=t);for(var l=[],u=0;u<s;u++)l.push(a);var c=s*a,d=t-c;if(d>0)for(var u=0;u<d;u++)l[u%s]+=1;return l}function lee(n,e,t){for(var i=n.r0,r=n.r,o=n.startAngle,s=n.endAngle,a=Math.abs(s-o),l=a*r,u=r-i,c=l>Math.abs(u),d=qme([l,u],c?0:1,e),h=(c?a:u)/d.length,f=0;f<d.length;f++)for(var g=(c?u:a)/d[f],p=0;p<d[f];p++){var m={};c?(m.startAngle=o+h*f,m.endAngle=o+h*(f+1),m.r0=i+g*p,m.r=i+g*(p+1)):(m.startAngle=o+g*p,m.endAngle=o+g*(p+1),m.r0=i+h*f,m.r=i+h*(f+1)),m.clockwise=n.clockwise,m.cx=n.cx,m.cy=n.cy,t.push(m)}}function i0t(n,e,t){for(var i=n.width,r=n.height,o=i>r,s=qme([i,r],o?0:1,e),a=o?"width":"height",l=o?"height":"width",u=o?"x":"y",c=o?"y":"x",d=n[a]/s.length,h=0;h<s.length;h++)for(var f=n[l]/s[h],g=0;g<s[h];g++){var p={};p[u]=h*d,p[c]=g*f,p[a]=d,p[l]=f,p.x+=n.x,p.y+=n.y,t.push(p)}}function uee(n,e,t,i){return n*i-t*e}function r0t(n,e,t,i,r,o,s,a){var l=t-n,u=i-e,c=s-r,d=a-o,h=uee(c,d,l,u);if(Math.abs(h)<1e-6)return null;var f=n-r,g=e-o,p=uee(f,g,c,d)/h;return p<0||p>1?null:new ft(p*l+n,p*u+e)}function o0t(n,e,t){var i=new ft;ft.sub(i,t,e),i.normalize();var r=new ft;ft.sub(r,n,e);var o=r.dot(i);return o}function pm(n,e){var t=n[n.length-1];t&&t[0]===e[0]&&t[1]===e[1]||n.push(e)}function s0t(n,e,t){for(var i=n.length,r=[],o=0;o<i;o++){var s=n[o],a=n[(o+1)%i],l=r0t(s[0],s[1],a[0],a[1],e.x,e.y,t.x,t.y);l&&r.push({projPt:o0t(l,e,t),pt:l,idx:o})}if(r.length<2)return[{points:n},{points:n}];r.sort(function(m,v){return m.projPt-v.projPt});var u=r[0],c=r[r.length-1];if(c.idx<u.idx){var d=u;u=c,c=d}for(var h=[u.pt.x,u.pt.y],f=[c.pt.x,c.pt.y],g=[h],p=[f],o=u.idx+1;o<=c.idx;o++)pm(g,n[o].slice());pm(g,f),pm(g,h);for(var o=c.idx+1;o<=u.idx+i;o++)pm(p,n[o%i].slice());return pm(p,h),pm(p,f),[{points:g},{points:p}]}function cee(n){var e=n.points,t=[],i=[];sM(e,t,i);var r=new mt(t[0],t[1],i[0]-t[0],i[1]-t[1]),o=r.width,s=r.height,a=r.x,l=r.y,u=new ft,c=new ft;return o>s?(u.x=c.x=a+o/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=a,c.x=a+o),s0t(e,u,c)}function sD(n,e,t,i){if(t===1)i.push(e);else{var r=Math.floor(t/2),o=n(e);sD(n,o[0],r,i),sD(n,o[1],t-r,i)}return i}function a0t(n,e){for(var t=[],i=0;i<e;i++)t.push($W(n));return t}function l0t(n,e){e.setStyle(n.style),e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel}function u0t(n){for(var e=[],t=0;t<n.length;)e.push([n[t++],n[t++]]);return e}function c0t(n,e){var t=[],i=n.shape,r;switch(n.type){case"rect":i0t(i,e,t),r=Gt;break;case"sector":lee(i,e,t),r=Xo;break;case"circle":lee({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,t),r=Xo;break;default:var o=n.getComputedTransform(),s=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,a=Te(n0t(n.getUpdatedPathProxy(),s),function(v){return u0t(v)}),l=a.length;if(l===0)sD(cee,{points:a[0]},e,t);else if(l===e)for(var u=0;u<l;u++)t.push({points:a[u]});else{var c=0,d=Te(a,function(v){var y=[],_=[];sM(v,y,_);var b=(_[1]-y[1])*(_[0]-y[0]);return c+=b,{poly:v,area:b}});d.sort(function(v,y){return y.area-v.area});for(var h=e,u=0;u<l;u++){var f=d[u];if(h<=0)break;var g=u===l-1?h:Math.ceil(f.area/c*e);g<0||(sD(cee,{points:f.poly},g,t),h-=g)}}r=Zo;break}if(!r)return a0t(n,e);for(var p=[],u=0;u<t.length;u++){var m=new r;m.setShape(t[u]),l0t(n,m),p.push(m)}return p}function d0t(n,e){var t=n.length,i=e.length;if(t===i)return[n,e];for(var r=[],o=[],s=t<i?n:e,a=Math.min(t,i),l=Math.abs(i-t)/6,u=(a-2)/6,c=Math.ceil(l/u)+1,d=[s[0],s[1]],h=l,f=2;f<a;){var g=s[f-2],p=s[f-1],m=s[f++],v=s[f++],y=s[f++],_=s[f++],b=s[f++],S=s[f++];if(h<=0){d.push(m,v,y,_,b,S);continue}for(var w=Math.min(h,c-1)+1,C=1;C<=w;C++){var x=C/w;vh(g,m,y,b,x,r),vh(p,v,_,S,x,o),g=r[3],p=o[3],d.push(r[1],o[1],r[2],o[2],g,p),m=r[5],v=o[5],y=r[6],_=o[6]}h-=w-1}return s===n?[d,e]:[n,d]}function dee(n,e){for(var t=n.length,i=n[t-2],r=n[t-1],o=[],s=0;s<e.length;)o[s++]=i,o[s++]=r;return o}function h0t(n,e){for(var t,i,r,o=[],s=[],a=0;a<Math.max(n.length,e.length);a++){var l=n[a],u=e[a],c=void 0,d=void 0;l?u?(t=d0t(l,u),c=t[0],d=t[1],i=c,r=d):(d=dee(r||l,l),c=l):(c=dee(i||u,u),d=u),o.push(c),s.push(d)}return[o,s]}function hee(n){for(var e=0,t=0,i=0,r=n.length,o=0,s=r-2;o<r;s=o,o+=2){var a=n[s],l=n[s+1],u=n[o],c=n[o+1],d=a*c-u*l;e+=d,t+=(a+u)*d,i+=(l+c)*d}return e===0?[n[0]||0,n[1]||0]:[t/e/3,i/e/3,e]}function f0t(n,e,t,i){for(var r=(n.length-2)/6,o=1/0,s=0,a=n.length,l=a-2,u=0;u<r;u++){for(var c=u*6,d=0,h=0;h<a;h+=2){var f=h===0?c:(c+h-2)%l+2,g=n[f]-t[0],p=n[f+1]-t[1],m=e[h]-i[0],v=e[h+1]-i[1],y=m-g,_=v-p;d+=y*y+_*_}d<o&&(o=d,s=u)}return s}function g0t(n){for(var e=[],t=n.length,i=0;i<t;i+=2)e[i]=n[t-i-2],e[i+1]=n[t-i-1];return e}function p0t(n,e,t,i){for(var r=[],o,s=0;s<n.length;s++){var a=n[s],l=e[s],u=hee(a),c=hee(l);o==null&&(o=u[2]<0!=c[2]<0);var d=[],h=[],f=0,g=1/0,p=[],m=a.length;o&&(a=g0t(a));for(var v=f0t(a,l,u,c)*6,y=m-2,_=0;_<y;_+=2){var b=(v+_)%y+2;d[_+2]=a[b]-u[0],d[_+3]=a[b+1]-u[1]}if(d[0]=a[v]-u[0],d[1]=a[v+1]-u[1],t>0)for(var S=i/t,w=-i/2;w<=i/2;w+=S){for(var C=Math.sin(w),x=Math.cos(w),L=0,_=0;_<a.length;_+=2){var T=d[_],I=d[_+1],D=l[_]-c[0],M=l[_+1]-c[1],P=D*x-M*C,k=D*C+M*x;p[_]=P,p[_+1]=k;var O=P-T,F=k-I;L+=O*O+F*F}if(L<g){g=L,f=w;for(var R=0;R<p.length;R++)h[R]=p[R]}}else for(var $=0;$<m;$+=2)h[$]=l[$]-c[0],h[$+1]=l[$+1]-c[1];r.push({from:d,to:h,fromCp:u,toCp:c,rotation:-f})}return r}function aD(n){return n.__isCombineMorphing}var Yme="__mOriginal_";function lD(n,e,t){var i=Yme+e,r=n[i]||n[e];n[i]||(n[i]=n[e]);var o=t.replace,s=t.after,a=t.before;n[e]=function(){var l=arguments,u;return a&&a.apply(this,l),o?u=o.apply(this,l):u=r.apply(this,l),s&&s.apply(this,l),u}}function wb(n,e){var t=Yme+e;n[t]&&(n[e]=n[t],n[t]=null)}function fee(n,e){for(var t=0;t<n.length;t++)for(var i=n[t],r=0;r<i.length;){var o=i[r],s=i[r+1];i[r++]=e[0]*o+e[2]*s+e[4],i[r++]=e[1]*o+e[3]*s+e[5]}}function Xme(n,e){var t=n.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=h0t(vF(t),vF(i)),o=r[0],s=r[1],a=n.getComputedTransform(),l=e.getComputedTransform();function u(){this.transform=null}a&&fee(o,a),l&&fee(s,l),lD(e,"updateTransform",{replace:u}),e.transform=null;var c=p0t(o,s,10,Math.PI),d=[];lD(e,"buildPath",{replace:function(h){for(var f=e.__morphT,g=1-f,p=[],m=0;m<c.length;m++){var v=c[m],y=v.from,_=v.to,b=v.rotation*f,S=v.fromCp,w=v.toCp,C=Math.sin(b),x=Math.cos(b);sL(p,S,w,f);for(var L=0;L<y.length;L+=2){var T=y[L],I=y[L+1],D=_[L],M=_[L+1],P=T*g+D*f,k=I*g+M*f;d[L]=P*x-k*C+p[0],d[L+1]=P*C+k*x+p[1]}var O=d[0],F=d[1];h.moveTo(O,F);for(var L=2;L<y.length;){var D=d[L++],M=d[L++],R=d[L++],$=d[L++],H=d[L++],U=d[L++];O===D&&F===M&&R===H&&$===U?h.lineTo(H,U):h.bezierCurveTo(D,M,R,$,H,U),O=H,F=U}}}})}function CH(n,e,t){if(!n||!e)return e;var i=t.done,r=t.during;Xme(n,e),e.__morphT=0;function o(){wb(e,"buildPath"),wb(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},Qe({during:function(s){e.dirtyShape(),r&&r(s)},done:function(){o(),i&&i()}},t)),e}function m0t(n,e,t,i,r,o){var s=16;n=r===t?0:Math.round(32767*(n-t)/(r-t)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,d=0;(n&u)>0&&(c=1),(e&u)>0&&(d=1),a+=u*u*(3*c^d),d===0&&(c===1&&(n=u-1-n,e=u-1-e),l=n,n=e,e=l)}return a}function uD(n){var e=1/0,t=1/0,i=-1/0,r=-1/0,o=Te(n,function(a){var l=a.getBoundingRect(),u=a.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),d=l.y+l.height/2+(u?u[5]:0);return e=Math.min(c,e),t=Math.min(d,t),i=Math.max(c,i),r=Math.max(d,r),[c,d]}),s=Te(o,function(a,l){return{cp:a,z:m0t(a[0],a[1],e,t,i,r),path:n[l]}});return s.sort(function(a,l){return a.z-l.z}).map(function(a){return a.path})}function Zme(n){return c0t(n.path,n.count)}function _F(){return{fromIndividuals:[],toIndividuals:[],count:0}}function v0t(n,e,t){var i=[];function r(S){for(var w=0;w<S.length;w++){var C=S[w];aD(C)?r(C.childrenRef()):C instanceof It&&i.push(C)}}r(n);var o=i.length;if(!o)return _F();var s=t.dividePath||Zme,a=s({path:e,count:o});if(a.length!==o)return console.error("Invalid morphing: unmatched splitted path"),_F();i=uD(i),a=uD(a);for(var l=t.done,u=t.during,c=t.individualDelay,d=new uc,h=0;h<o;h++){var f=i[h],g=a[h];g.parent=e,g.copyTransform(d),c||Xme(f,g)}e.__isCombineMorphing=!0,e.childrenRef=function(){return a};function p(S){for(var w=0;w<a.length;w++)a[w].addSelfToZr(S)}lD(e,"addSelfToZr",{after:function(S){p(S)}}),lD(e,"removeSelfFromZr",{after:function(S){for(var w=0;w<a.length;w++)a[w].removeSelfFromZr(S)}});function m(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,wb(e,"addSelfToZr"),wb(e,"removeSelfFromZr")}var v=a.length;if(c)for(var y=v,_=function(){y--,y===0&&(m(),l&&l())},h=0;h<v;h++){var b=c?Qe({delay:(t.delay||0)+c(h,v,i[h],a[h]),done:_},t):t;CH(i[h],a[h],b)}else e.__morphT=0,e.animateTo({__morphT:1},Qe({during:function(S){for(var w=0;w<v;w++){var C=a[w];C.__morphT=e.__morphT,C.dirtyShape()}u&&u(S)},done:function(){m();for(var S=0;S<n.length;S++)wb(n[S],"updateTransform");l&&l()}},t));return e.__zr&&p(e.__zr),{fromIndividuals:i,toIndividuals:a,count:v}}function y0t(n,e,t){var i=e.length,r=[],o=t.dividePath||Zme;function s(f){for(var g=0;g<f.length;g++){var p=f[g];aD(p)?s(p.childrenRef()):p instanceof It&&r.push(p)}}if(aD(n)){s(n.childrenRef());var a=r.length;if(a<i)for(var l=0,u=a;u<i;u++)r.push($W(r[l++%a]));r.length=i}else{r=o({path:n,count:i});for(var c=n.getComputedTransform(),u=0;u<r.length;u++)r[u].setLocalTransform(c);if(r.length!==i)return console.error("Invalid morphing: unmatched splitted path"),_F()}r=uD(r),e=uD(e);for(var d=t.individualDelay,u=0;u<i;u++){var h=d?Qe({delay:(t.delay||0)+d(u,i,r[u],e[u])},t):t;CH(r[u],e[u],h)}return{fromIndividuals:r,toIndividuals:e,count:e.length}}function gee(n){return we(n[0])}function pee(n,e){for(var t=[],i=n.length,r=0;r<i;r++)t.push({one:n[r],many:[]});for(var r=0;r<e.length;r++){var o=e[r].length,s=void 0;for(s=0;s<o;s++)t[s%i].many.push(e[r][s])}for(var a=0,r=i-1;r>=0;r--)if(!t[r].many.length){var l=t[a].many;if(l.length<=1)if(a)a=0;else return t;var o=l.length,u=Math.ceil(o/2);t[r].many=l.slice(u,o),t[a].many=l.slice(0,u),a++}return t}var _0t={clone:function(n){for(var e=[],t=1-Math.pow(1-n.path.style.opacity,1/n.count),i=0;i<n.count;i++){var r=$W(n.path);r.setStyle("opacity",t),e.push(r)}return e},split:null};function AP(n,e,t,i,r,o){if(!n.length||!e.length)return;var s=$y("update",i,r);if(!(s&&s.duration>0))return;var a=i.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;gee(n)&&(u=n,c=e),gee(e)&&(u=e,c=n);function d(v,y,_,b,S){var w=v.many,C=v.one;if(w.length===1&&!S){var x=y?w[0]:C,L=y?C:w[0];if(aD(x))d({many:[x],one:L},!0,_,b,!0);else{var T=a?Qe({delay:a(_,b)},l):l;CH(x,L,T),o(x,L,x,L,T)}}else for(var I=Qe({dividePath:_0t[t],individualDelay:a&&function(F,R,$,H){return a(F+_,b)}},l),D=y?v0t(w,C,I):y0t(C,w,I),M=D.fromIndividuals,P=D.toIndividuals,k=M.length,O=0;O<k;O++){var T=a?Qe({delay:a(O,k)},l):l;o(M[O],P[O],y?w[O]:v.one,y?v.one:w[O],T)}}for(var h=u?u===n:n.length>e.length,f=u?pee(c,u):pee(h?e:n,[h?n:e]),g=0,p=0;p<f.length;p++)g+=f[p].many.length;for(var m=0,p=0;p<f.length;p++)d(f[p],h,m,g),m+=f[p].many.length}function Cf(n){if(!n)return[];if(we(n)){for(var e=[],t=0;t<n.length;t++)e.push(Cf(n[t]));return e}var i=[];return n.traverse(function(r){r instanceof It&&!r.disableMorphing&&!r.invisible&&!r.ignore&&i.push(r)}),i}var Qme=1e4,b0t=Kt();function S0t(n){for(var e=n.dimensions,t=0;t<e.length;t++){var i=n.getDimensionInfo(e[t]);if(i&&i.otherDims.itemGroupId===0)return e[t]}}function mee(n){var e=[];return B(n,function(t){var i=t.data;if(!(i.count()>Qme))for(var r=i.getIndices(),o=S0t(i),s=0;s<r.length;s++)e.push({dataGroupId:t.dataGroupId,data:i,dim:t.dim||o,divide:t.divide,dataIndex:s})}),e}function NP(n,e,t){n.traverse(function(i){i instanceof It&&Qn(i,{style:{opacity:0}},e,{dataIndex:t,isFrom:!0})})}function kP(n){if(n.parent){var e=n.getComputedTransform();n.setLocalTransform(e),n.parent.remove(n)}}function mm(n){n.stopAnimation(),n.isGroup&&n.traverse(function(e){e.stopAnimation()})}function w0t(n,e,t){var i=$y("update",t,e);i&&n.traverse(function(r){if(r instanceof fa){var o=rQe(r);o&&r.animateFrom({style:o},i)}})}function C0t(n,e){var t=n.length;if(t!==e.length)return!1;for(var i=0;i<t;i++){var r=n[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}function Jme(n,e,t){var i=mee(n),r=mee(e);function o(v,y,_,b,S){(_||v)&&y.animateFrom({style:_&&_!==v?be(be({},_.style),v.style):v.style},S)}function s(v){for(var y=0;y<v.length;y++)if(v[y].dim)return v[y].dim}var a=s(i),l=s(r),u=!1;function c(v,y){return function(_){var b=_.data,S=_.dataIndex;if(y)return b.getId(S);var w=_.dataGroupId,C=v?a||l:l||a,x=C&&b.getDimensionInfo(C),L=x&&x.ordinalMeta;if(x){var T=b.get(x.name,S);return L&&L.categories[T]||T+""}var I=b.getRawDataItem(S);return I&&I.groupId?I.groupId+"":w||b.getId(S)}}var d=C0t(i,r),h={};if(!d)for(var f=0;f<r.length;f++){var g=r[f],p=g.data.getItemGraphicEl(g.dataIndex);p&&(h[p.id]=!0)}function m(v,y){var _=i[y],b=r[v],S=b.data.hostModel,w=_.data.getItemGraphicEl(_.dataIndex),C=b.data.getItemGraphicEl(b.dataIndex);if(w===C){C&&w0t(C,b.dataIndex,S);return}w&&h[w.id]||C&&(mm(C),w?(mm(w),kP(w),u=!0,AP(Cf(w),Cf(C),b.divide,S,v,o)):NP(C,S,v))}new Pc(i,r,c(!0,d),c(!1,d),null,"multiple").update(m).updateManyToOne(function(v,y){var _=r[v],b=_.data,S=b.hostModel,w=b.getItemGraphicEl(_.dataIndex),C=xn(Te(y,function(x){return i[x].data.getItemGraphicEl(i[x].dataIndex)}),function(x){return x&&x!==w&&!h[x.id]});w&&(mm(w),C.length?(B(C,function(x){mm(x),kP(x)}),u=!0,AP(Cf(C),Cf(w),_.divide,S,v,o)):NP(w,S,_.dataIndex))}).updateOneToMany(function(v,y){var _=i[y],b=_.data.getItemGraphicEl(_.dataIndex);if(!(b&&h[b.id])){var S=xn(Te(v,function(C){return r[C].data.getItemGraphicEl(r[C].dataIndex)}),function(C){return C&&C!==b}),w=r[v[0]].data.hostModel;S.length&&(B(S,function(C){return mm(C)}),b?(mm(b),kP(b),u=!0,AP(Cf(b),Cf(S),_.divide,w,v[0],o)):B(S,function(C){return NP(C,w,v[0])}))}}).updateManyToMany(function(v,y){new Pc(y,v,function(_){return i[_].data.getId(i[_].dataIndex)},function(_){return r[_].data.getId(r[_].dataIndex)}).update(function(_,b){m(v[_],y[b])}).execute()}).execute(),u&&B(e,function(v){var y=v.data,_=y.hostModel,b=_&&t.getViewOfSeriesModel(_),S=$y("update",_,0);b&&_.isAnimationEnabled()&&S&&S.duration>0&&b.group.traverse(function(w){w instanceof It&&!w.animators.length&&w.animateFrom({style:{opacity:0}},S)})})}function vee(n){var e=n.getModel("universalTransition").get("seriesKey");return e||n.id}function yee(n){return we(n)?n.sort().join(","):n}function xd(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function x0t(n,e){var t=Ue(),i=Ue(),r=Ue();return B(n.oldSeries,function(o,s){var a=n.oldDataGroupIds[s],l=n.oldData[s],u=vee(o),c=yee(u);i.set(c,{dataGroupId:a,data:l}),we(u)&&B(u,function(d){r.set(d,{key:c,dataGroupId:a,data:l})})}),B(e.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),a=o.getData(),l=vee(o),u=yee(l),c=i.get(u);if(c)t.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:xd(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:xd(a),data:a}]});else if(we(l)){var d=[];B(l,function(g){var p=i.get(g);p.data&&d.push({dataGroupId:p.dataGroupId,divide:xd(p.data),data:p.data})}),d.length&&t.set(u,{oldSeries:d,newSeries:[{dataGroupId:s,data:a,divide:xd(a)}]})}else{var h=r.get(l);if(h){var f=t.get(h.key);f||(f={oldSeries:[{dataGroupId:h.dataGroupId,data:h.data,divide:xd(h.data)}],newSeries:[]},t.set(h.key,f)),f.newSeries.push({dataGroupId:s,data:a,divide:xd(a)})}}}}),t}function _ee(n,e){for(var t=0;t<n.length;t++){var i=e.seriesIndex!=null&&e.seriesIndex===n[t].seriesIndex||e.seriesId!=null&&e.seriesId===n[t].id;if(i)return t}}function L0t(n,e,t,i){var r=[],o=[];B(Pn(n.from),function(s){var a=_ee(e.oldSeries,s);a>=0&&r.push({dataGroupId:e.oldDataGroupIds[a],data:e.oldData[a],divide:xd(e.oldData[a]),dim:s.dimension})}),B(Pn(n.to),function(s){var a=_ee(t.updatedSeries,s);if(a>=0){var l=t.updatedSeries[a].getData();o.push({dataGroupId:e.oldDataGroupIds[a],data:l,divide:xd(l),dim:s.dimension})}}),r.length>0&&o.length>0&&Jme(r,o,i)}function T0t(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,i){B(Pn(i.seriesTransition),function(r){B(Pn(r.to),function(o){for(var s=i.updatedSeries,a=0;a<s.length;a++)(o.seriesIndex!=null&&o.seriesIndex===s[a].seriesIndex||o.seriesId!=null&&o.seriesId===s[a].id)&&(s[a][yL]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(e,t,i){var r=b0t(t);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var o=i.seriesTransition;if(o)B(Pn(o),function(f){L0t(f,r,i,t)});else{var s=x0t(r,i);B(s.keys(),function(f){var g=s.get(f);Jme(g.oldSeries,g.newSeries,t)})}B(i.updatedSeries,function(f){f[yL]&&(f[yL]=!1)})}for(var a=e.getSeries(),l=r.oldSeries=[],u=r.oldDataGroupIds=[],c=r.oldData=[],d=0;d<a.length;d++){var h=a[d].getData();h.count()<Qme&&(l.push(a[d]),u.push(a[d].get("dataGroupId")),c.push(h))}})}Lt([Hit]);Lt([Rit]);Lt([frt,Art,Urt,Aot,qot,zst,_at,olt,klt,zlt,Jlt,ict,Mct,Hct,udt,mdt,Pdt,Udt,iht,dht,xht,uft]);Lt(Nft);Lt(hgt);Lt(qge);Lt(Egt);Lt(Ppe);Lt(Rgt);Lt(Ggt);Lt(Kpt);Lt(pmt);Lt(Kw);Lt(Omt);Lt(Fmt);Lt(Jmt);Lt(uvt);Lt(vvt);Lt(Lvt);Lt($vt);Lt(ayt);Lt($me);Lt(Vme);Lt(Pyt);Lt(Gme);Lt(Kme);Lt($yt);Lt(Qyt);Lt(t0t);Lt(T0t);Lt(nit);const I0t=XS("div",{style:{width:"100%",height:"400px"},id:"right-chart"},null,-1),D0t=XS("div",{style:{width:"100%",height:"400px"},id:"left-chart"},null,-1),E0t={key:0,style:{color:"#1890ff"}},M0t={style:{padding:"8px"}},A0t={key:2};const N0t={__name:"App",setup(n){const e=ke(document.documentElement.clientHeight-46),t=ke([]),i=[{title:"ID",dataIndex:"id",key:"id",width:80,customFilterDropdown:!0,sorter:!0},{title:"Scheme",dataIndex:"scheme",key:"scheme",customFilterDropdown:!0,width:120,sorter:!0},{title:"Access Time",dataIndex:"access_time",key:"access_time",sorter:!0},{title:"Access Duration",dataIndex:"access_duration",key:"access_duration",sorter:!0},{title:"Host",dataIndex:"host",customFilterDropdown:!0,key:"host",sorter:!0},{title:"Url",dataIndex:"url",key:"url",maxWidth:"30%",customFilterDropdown:!0,sorter:!0},{title:"User Agent",dataIndex:"user_agent",key:"user_agent",customFilterDropdown:!0,sorter:!0}];Vt(()=>{});const r=x=>{let L=x||[];if(L.length>=0){let M={value:0,itemStyle:{color:"none",decal:{symbol:"none"}},label:{show:!1}};x.forEach(P=>{M.value+=P.value*1}),L.push(M)}const T={tooltip:{trigger:"item"},legend:{type:"scroll",top:"5%",left:"0%",orient:"vertical",selectedMode:!1},series:[{type:"pie",radius:["40%","70%"],center:["100%","45%"],startAngle:270,label:{show:!0,formatter(M){return M.name+" ("+M.percent*2+"%)"}},data:L}]};var I=document.getElementById("left-chart"),D=HY(I);D.setOption(T)},o=x=>{const L=[],T=[];x.forEach(P=>{T.push(PQe(`yyyy-MM-dd
hh:mm:ss`,new Date(P.access_time),!1)),L.push(P.access_duration)});const I={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{bottom:90},dataZoom:[{type:"inside"},{type:"slider"}],xAxis:{data:T,silent:!1,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{splitArea:{show:!1}},series:[{type:"bar",data:L,large:!0}]};var D=document.getElementById("right-chart"),M=HY(D);M.setOption(I)},s=ke(0),a=ke(1),l=ke(10),u=V(()=>({total:s.value,current:a.value,pageSize:l.value})),c=ke(),d=ke("access_time"),h=ke("descend"),f=V(()=>JSON.parse(JSON.stringify(i)).map(L=>(L.sorter&&d.value==L.dataIndex&&(L.sortOrder=h.value),L.customFilterDropdown&&(L.onFilter=(T,I)=>!0,L.onFilterDropdownOpenChange=T=>{T&&setTimeout(()=>{c.value.focus()},100)}),L))),g=x=>{let L=h.value.replace("$","").replace("end","");return`Select * From access_log ${x||""} order by ${d.value} ${L} Limit ${l.value} Offset ${(a.value-1)*l.value}`},p=x=>`Select count(1) From access_log ${x||""} `,m=x=>`Select count(1) as value,${b.value} as name From access_log ${x||""} group by ${b.value}`,v=(x,L,T,I)=>{T&&(d.value=T.field,h.value=T.order),x&&(a.value=x.current,l.value=x.pageSize),fetch("/api",{method:"POST",body:p(_(L)),mode:"cors"}).then(D=>D.json()).then(D=>{s.value=D[0]["count(1)"]}).catch(D=>console.log("Request Failed",D)),fetch("/api",{method:"POST",body:g(_(L)),mode:"cors"}).then(D=>D.json()).then(D=>{t.value=D,o(D)}).catch(D=>console.log("Request Failed",D)),y(L)},y=x=>{fetch("/api",{method:"POST",body:m(_(x)),mode:"cors"}).then(L=>L.json()).then(L=>{r(L)}).catch(L=>console.log("Request Failed",L))},_=x=>{let L="",T=0;return x&&Object.keys(x).forEach(I=>{x[I]!=null&&(T==0?L=" where ":L+=" and ",I=="id"?L+=`id = ${x[I]}`:L+=`${I} like '%${x[I]}%'`,T++)}),L},b=ke("host"),S=pi({searchText:"",searchedColumn:""}),w=(x,L,T)=>{L(),S.searchText=x[0],S.searchedColumn=T},C=x=>{x({confirm:!0}),S.searchText=""};return v(),(x,L)=>{const T=yv,I=K8e,D=Nze,M=_S,P=aGe,k=dr,O=el,F=gW,R=oUe,$=Cje,H=tPe;return rc(),T_($t,null,[N(P,{gutter:10,style:{margin:"10px 5px"}},{default:Pi(()=>[N(I,{md:12},{default:Pi(()=>[N(T,{title:"Access Duration"},{default:Pi(()=>[I0t]),_:1})]),_:1}),N(I,{md:12},{default:Pi(()=>[N(T,{title:"Group By"},{extra:Pi(()=>[N(M,{ref:"select",value:b.value,"onUpdate:value":L[0]||(L[0]=U=>b.value=U),style:{width:"120px"},onChange:L[1]||(L[1]=U=>y())},{default:Pi(()=>[N(D,{value:"host"},{default:Pi(()=>[Oo("Host")]),_:1}),N(D,{value:"scheme"},{default:Pi(()=>[Oo("Scheme")]),_:1}),N(D,{value:"user_agent"},{default:Pi(()=>[Oo("User Agent")]),_:1})]),_:1},8,["value"])]),default:Pi(()=>[D0t]),_:1})]),_:1})]),_:1}),N($,{style:{width:"100%","table-layout":"fixed"},onChange:v,pagination:u.value,dataSource:t.value,columns:f.value},{headerCell:Pi(({column:U})=>[U.key==="id"?(rc(),T_("b",E0t,"ID")):qM("",!0)]),customFilterDropdown:Pi(({setSelectedKeys:U,selectedKeys:z,confirm:Z,clearFilters:X,column:ce})=>[XS("div",M0t,[N(k,{ref_key:"searchInput",ref:c,placeholder:`Search ${ce.dataIndex}`,value:z[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:q=>U(q.target.value?[q.target.value]:[]),onPressEnter:q=>w(z,Z,ce.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),N(O,{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:q=>w(z,Z,ce.dataIndex)},{icon:Pi(()=>[N(Wa(yS))]),default:Pi(()=>[Oo(" Search ")]),_:2},1032,["onClick"]),N(O,{size:"small",style:{width:"90px"},onClick:q=>C(X)},{default:Pi(()=>[Oo(" Reset ")]),_:2},1032,["onClick"])])]),customFilterIcon:Pi(({filtered:U})=>[N(Wa(yS),{style:YS({color:U?"#108ee9":void 0})},null,8,["style"])]),bodyCell:Pi(({column:U,record:z})=>[U.dataIndex==="url"?(rc(),AL(F,{key:0,style:{"max-width":"600px","word-break":"break-all"},copyable:{tooltip:!1}},{default:Pi(()=>[Oo(HM(z.url),1)]),_:2},1024)):U.dataIndex==="scheme"?(rc(),AL(R,{key:1,color:"blue"},{default:Pi(()=>[Oo(HM(z.scheme),1)]),_:2},1024)):U.dataIndex==="id"?(rc(),T_("b",A0t,HM(z.id),1)):qM("",!0)]),_:1},8,["pagination","dataSource","columns"]),N(P,null,{default:Pi(()=>[qM("",!0),N(I,{span:12})]),_:1})],64)}}};bte(N0t).mount("#app");export{E_t as M,D_t as R,jNe as e,D3 as l};
